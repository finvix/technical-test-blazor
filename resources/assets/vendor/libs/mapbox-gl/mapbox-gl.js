/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else {
		var a = factory();
		for(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];
	}
})(self, function() {
return /******/ (function() { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./libs/mapbox-gl/mapbox-gl.js":
/*!*************************************!*\
  !*** ./libs/mapbox-gl/mapbox-gl.js ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mapboxgl: function() { return /* reexport default from dynamic */ mapbox_gl__WEBPACK_IMPORTED_MODULE_0___default.a; }\n/* harmony export */ });\n/* harmony import */ var mapbox_gl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mapbox-gl */ \"./node_modules/mapbox-gl/dist/mapbox-gl.js\");\n/* harmony import */ var mapbox_gl__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mapbox_gl__WEBPACK_IMPORTED_MODULE_0__);\n\ntry {\n  window.mapboxgl = (mapbox_gl__WEBPACK_IMPORTED_MODULE_0___default());\n} catch (e) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWJzL21hcGJveC1nbC9tYXBib3gtZ2wuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWlDO0FBRWpDLElBQUk7RUFDRkMsTUFBTSxDQUFDRCxRQUFRLEdBQUdBLGtEQUFRO0FBQzVCLENBQUMsQ0FBQyxPQUFPRSxDQUFDLEVBQUUsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL1Z1ZXh5Ly4vbGlicy9tYXBib3gtZ2wvbWFwYm94LWdsLmpzPzc3YjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1hcGJveGdsIGZyb20gJ21hcGJveC1nbCc7XG5cbnRyeSB7XG4gIHdpbmRvdy5tYXBib3hnbCA9IG1hcGJveGdsO1xufSBjYXRjaCAoZSkge31cblxuZXhwb3J0IHsgbWFwYm94Z2wgfTtcbiJdLCJuYW1lcyI6WyJtYXBib3hnbCIsIndpbmRvdyIsImUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./libs/mapbox-gl/mapbox-gl.js\n");

/***/ }),

/***/ "./node_modules/mapbox-gl/dist/mapbox-gl.js":
/*!**************************************************!*\
  !*** ./node_modules/mapbox-gl/dist/mapbox-gl.js ***!
  \**************************************************/
/***/ (function(module) {

eval("/* Mapbox GL JS is Copyright Â© 2020 Mapbox and subject to the Mapbox Terms of Service ((https://www.mapbox.com/legal/tos/). */\n(function (global, factory) {\n true ? module.exports = factory() :\n0;\n})(this, (function () { 'use strict';\n\n/* eslint-disable */\n\nvar shared, worker, mapboxgl;\n// define gets called three times: one for each chunk. we rely on the order\n// they're imported to know which is which\nfunction define(_, chunk) {\nif (!shared) {\n    shared = chunk;\n} else if (!worker) {\n    worker = chunk;\n} else {\n    var workerBundleString = \"self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; (\" + shared + \")(sharedChunk); (\" + worker + \")(sharedChunk); self.onerror = null;\"\n\n    var sharedChunk = {};\n    shared(sharedChunk);\n    mapboxgl = chunk(sharedChunk);\n    if (typeof window !== 'undefined' && window && window.URL && window.URL.createObjectURL) {\n        mapboxgl.workerUrl = window.URL.createObjectURL(new Blob([workerBundleString], { type: 'text/javascript' }));\n    }\n}\n}\n\n\ndefine([\"exports\"],(function(e){\"use strict\";var t=\"undefined\"!=typeof self?self:{},i=\"3.0.1\";let r;const n={API_URL:\"https://api.mapbox.com\",get API_URL_REGEX(){if(null==r){const e=/^((https?:)?\\/\\/)?([^\\/]+\\.)?mapbox\\.c(n|om)(\\/|\\?|$)/i;try{r=null!=process.env.API_URL_REGEX?new RegExp(process.env.API_URL_REGEX):e;}catch(t){r=e;}}return r},get API_TILEJSON_REGEX(){return /^((https?:)?\\/\\/)?([^\\/]+\\.)?mapbox\\.c(n|om)(\\/v[0-9]*\\/.*\\.json.*$)/i},get API_SPRITE_REGEX(){return /^((https?:)?\\/\\/)?([^\\/]+\\.)?mapbox\\.c(n|om)(\\/styles\\/v[0-9]*\\/)(.*\\/sprite.*\\..*$)/i},get API_FONTS_REGEX(){return /^((https?:)?\\/\\/)?([^\\/]+\\.)?mapbox\\.c(n|om)(\\/fonts\\/v[0-9]*\\/)(.*\\.pbf.*$)/i},get API_STYLE_REGEX(){return /^((https?:)?\\/\\/)?([^\\/]+\\.)?mapbox\\.c(n|om)(\\/styles\\/v[0-9]*\\/)(.*$)/i},get API_CDN_URL_REGEX(){return /^((https?:)?\\/\\/)?api\\.mapbox\\.c(n|om)(\\/mapbox-gl-js\\/)(.*$)/i},get EVENTS_URL(){if(!n.API_URL)return null;try{const e=new URL(n.API_URL);return \"api.mapbox.cn\"===e.hostname?\"https://events.mapbox.cn/events/v2\":\"api.mapbox.com\"===e.hostname?\"https://events.mapbox.com/events/v2\":null}catch(e){return null}},SESSION_PATH:\"/map-sessions/v1\",FEEDBACK_URL:\"https://apps.mapbox.com/feedback\",TILE_URL_VERSION:\"v4\",RASTER_URL_PREFIX:\"raster/v1\",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,DEFAULT_STYLE:\"mapbox://styles/mapbox/standard\",MAX_PARALLEL_IMAGE_REQUESTS:16,DRACO_URL:\"https://api.mapbox.com/mapbox-gl-js/draco_decoder_gltf_v1.5.6.wasm\",GLYPHS_URL:\"mapbox://fonts/mapbox/{fontstack}/{range}.pbf\"},o={supported:!1,testSupport:function(e){!l&&a&&(c?h(e):s=e);}};let s,a,l=!1,c=!1;function h(e){const t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,a),e.isContextLost())return;o.supported=!0;}catch(e){}e.deleteTexture(t),l=!0;}t.document&&(a=t.document.createElement(\"img\"),a.onload=function(){s&&h(s),s=null,c=!0;},a.onerror=function(){l=!0,s=null;},a.src=\"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=\");const u=\"01\";function d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}var p=f;function f(e,t,i,r){this.cx=3*e,this.bx=3*(i-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=i,this.p2y=r;}f.prototype={sampleCurveX:function(e){return ((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return ((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return (3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var i=e,r=0;r<8;r++){var n=this.sampleCurveX(i)-e;if(Math.abs(n)<t)return i;var o=this.sampleCurveDerivativeX(i);if(Math.abs(o)<1e-6)break;i-=n/o;}var s=0,a=1;for(i=e,r=0;r<20&&(n=this.sampleCurveX(i),!(Math.abs(n-e)<t));r++)e>n?s=i:a=i,i=.5*(a-s)+s;return i},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}};var m=d(p),_=g;function g(e,t){this.x=e,this.y=t;}g.prototype={clone:function(){return new g(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,i=e.y-this.y;return t*t+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),i=Math.sin(e),r=i*this.x+t*this.y;return this.x=t*this.x-i*this.y,this.y=r,this},_rotateAround:function(e,t){var i=Math.cos(e),r=Math.sin(e),n=t.y+r*(this.x-t.x)+i*(this.y-t.y);return this.x=t.x+i*(this.x-t.x)-r*(this.y-t.y),this.y=n,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},g.convert=function(e){return e instanceof g?e:Array.isArray(e)?new g(e[0],e[1]):e};var y=d(_);function x(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return !1;for(let i=0;i<e.length;i++)if(!x(e[i],t[i]))return !1;return !0}if(\"object\"==typeof e&&null!==e&&null!==t){if(\"object\"!=typeof t)return !1;if(Object.keys(e).length!==Object.keys(t).length)return !1;for(const i in e)if(!x(e[i],t[i]))return !1;return !0}return e===t}const v=Math.PI/180,b=180/Math.PI;function w(e){return e*v}function T(e){return e*b}const E=[[0,0],[1,0],[1,1],[0,1]];function M(e){if(e<=0)return 0;if(e>=1)return 1;const t=e*e,i=t*e;return 4*(e<.5?i:3*(e-t)+i-.75)}function A(e){let t=1/0,i=1/0,r=-1/0,n=-1/0;for(const o of e)t=Math.min(t,o.x),i=Math.min(i,o.y),r=Math.max(r,o.x),n=Math.max(n,o.y);return {min:new y(t,i),max:new y(r,n)}}function S(e,t,i=0,r=!0){const n=new y(i,i),o=e.sub(n),s=t.add(n),a=[o,new y(s.x,o.y),s,new y(o.x,s.y)];return r&&a.push(o.clone()),a}function I(e,t,i,r){const n=new m(e,t,i,r);return function(e){return n.solve(e)}}const C=I(.25,.1,.25,1);function z(e,t,i){return Math.min(i,Math.max(t,e))}function D(e,t,i){return (i=z((i-e)/(t-e),0,1))*i*(3-2*i)}function P(e,t,i){const r=i-t,n=((e-t)%r+r)%r+t;return n===t?i:n}function R(e,t,i){if(!e.length)return i(null,[]);let r=e.length;const n=new Array(e.length);let o=null;e.forEach(((e,s)=>{t(e,((e,t)=>{e&&(o=e),n[s]=t,0==--r&&i(o,n);}));}));}function L(e){const t=[];for(const i in e)t.push(e[i]);return t}function k(e,...t){for(const i of t)for(const t in i)e[t]=i[t];return e}function O(e,t){const i={};for(let r=0;r<t.length;r++){const n=t[r];n in e&&(i[n]=e[n]);}return i}let B=1;function F(){return B++}function N(){return function e(t){return t?(t^Math.random()*(16>>t/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function U(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function V(e){return !!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function j(e,t){e.forEach((e=>{t[e]&&(t[e]=t[e].bind(t));}));}function G(e,t){return -1!==e.indexOf(t,e.length-t.length)}function q(e,t,i){const r={};for(const n in e)r[n]=t.call(i||this,e[n],n,e);return r}function Z(e,t,i){const r={};for(const n in e)t.call(i||this,e[n],n,e)&&(r[n]=e[n]);return r}function $(e){return Array.isArray(e)?e.map($):\"object\"==typeof e&&e?q(e,$):e}const H={};function W(e){H[e]||(\"undefined\"!=typeof console&&console.warn(e),H[e]=!0);}function X(e,t,i){return (i.y-e.y)*(t.x-e.x)>(t.y-e.y)*(i.x-e.x)}function Y(e){let t=0;for(let i,r,n=0,o=e.length,s=o-1;n<o;s=n++)i=e[n],r=e[s],t+=(r.x-i.x)*(i.y+r.y);return t}function K([e,t,i]){const r=w(t+90),n=w(i);return {x:e*Math.cos(r)*Math.sin(n),y:e*Math.sin(r)*Math.sin(n),z:e*Math.cos(n),azimuthal:t,polar:i}}function J(e,t,i){const r=Math.sqrt(e*e+t*t+i*i),n=r>0?Math.acos(i/r)*b:0;let o=0!==e||0!==t?Math.atan2(-t,-e)*b+90:0;return o<0&&(o+=360),[r,o,n]}function Q(){return \"undefined\"!=typeof WorkerGlobalScope&&\"undefined\"!=typeof self&&self instanceof WorkerGlobalScope}function ee(e){const t={};if(e.replace(/(?:^|(?:\\s*\\,\\s*))([^\\x00-\\x20\\(\\)<>@\\,;\\:\\\\\"\\/\\[\\]\\?\\=\\{\\}\\x7F]+)(?:\\=(?:([^\\x00-\\x20\\(\\)<>@\\,;\\:\\\\\"\\/\\[\\]\\?\\=\\{\\}\\x7F]+)|(?:\\\"((?:[^\"\\\\]|\\\\.)*)\\\")))?/g,((e,i,r,n)=>{const o=r||n;return t[i]=!o||o.toLowerCase(),\"\"})),t[\"max-age\"]){const e=parseInt(t[\"max-age\"],10);isNaN(e)?delete t[\"max-age\"]:t[\"max-age\"]=e;}return t}let te=null;function ie(){return !!t.document.fullscreenElement||!!t.document.webkitFullscreenElement}function re(e){try{const i=t[e];return i.setItem(\"_mapbox_test_\",1),i.removeItem(\"_mapbox_test_\"),!0}catch(e){return !1}}function ne(e,t){return [e[4*t],e[4*t+1],e[4*t+2],e[4*t+3]]}function oe(e,t,i){e[4*t+0]=i[0],e[4*t+1]=i[1],e[4*t+2]=i[2],e[4*t+3]=i[3];}function se(e,t){return [Math.pow(e[0],2.2)*t,Math.pow(e[1],2.2)*t,Math.pow(e[2],2.2)*t]}function ae(e){return [Math.pow(e[0],1/2.2),Math.pow(e[1],1/2.2),Math.pow(e[2],1/2.2)]}const le=\"mapbox-tiles\";let ce=500,he=50;let ue,de;function pe(){try{return t.caches}catch(e){}}function fe(){pe()&&!ue&&(ue=t.caches.open(le));}function me(e){const t=e.indexOf(\"?\");if(t<0)return e;const i=function(e){const t=e.indexOf(\"?\");return t>0?e.slice(t+1).split(\"&\"):[]}(e),r=i.filter((e=>{const t=e.split(\"=\");return \"language\"===t[0]||\"worldview\"===t[0]}));return r.length?`${e.slice(0,t)}?${r.join(\"&\")}`:e.slice(0,t)}let _e=1/0;function ge(e){_e++,_e>he&&(e.getActor().send(\"enforceCacheSizeLimit\",ce),_e=0);}const ye={Unknown:\"Unknown\",Style:\"Style\",Source:\"Source\",Tile:\"Tile\",Glyphs:\"Glyphs\",SpriteImage:\"SpriteImage\",SpriteJSON:\"SpriteJSON\",Image:\"Image\",Model:\"Model\"};\"function\"==typeof Object.freeze&&Object.freeze(ye);class xe extends Error{constructor(e,t,i){401===t&&Pe(i)&&(e+=\": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes\"),super(e),this.status=t,this.url=i;}toString(){return `${this.name}: ${this.message} (${this.status}): ${this.url}`}}const ve=Q()?()=>self.worker&&self.worker.referrer:()=>(\"blob:\"===t.location.protocol?t.parent:t).location.href;const be=function(e,i){if(!(/^file:/.test(r=e.url)||/^file:/.test(ve())&&!/^\\w+:/.test(r))){if(t.fetch&&t.Request&&t.AbortController&&t.Request.prototype.hasOwnProperty(\"signal\"))return function(e,i){const r=new t.AbortController,n=new t.Request(e.url,{method:e.method||\"GET\",body:e.body,credentials:e.credentials,headers:e.headers,referrer:ve(),referrerPolicy:e.referrerPolicy,signal:r.signal});let o=!1,s=!1;const a=(l=n.url).indexOf(\"sku=\")>0&&Pe(l);var l;\"json\"===e.type&&n.headers.set(\"Accept\",\"application/json\");const c=(r,o,l)=>{if(s)return;if(r&&\"SecurityError\"!==r.message&&W(r.toString()),o&&l)return h(o);const c=Date.now();t.fetch(n).then((t=>{if(t.ok){const e=a?t.clone():null;return h(t,e,c)}return i(new xe(t.statusText,t.status,e.url))})).catch((t=>{\"AbortError\"!==t.name&&i(new Error(`${t.message} ${e.url}`));}));},h=(r,a,l)=>{(\"arrayBuffer\"===e.type?r.arrayBuffer():\"json\"===e.type?r.json():r.text()).then((e=>{s||(a&&l&&function(e,i,r){if(fe(),!ue)return;const n={status:i.status,statusText:i.statusText,headers:new t.Headers};i.headers.forEach(((e,t)=>n.headers.set(t,e)));const o=ee(i.headers.get(\"Cache-Control\")||\"\");if(o[\"no-store\"])return;o[\"max-age\"]&&n.headers.set(\"Expires\",new Date(r+1e3*o[\"max-age\"]).toUTCString());const s=n.headers.get(\"Expires\");s&&(new Date(s).getTime()-r<42e4||function(e,t){if(void 0===de)try{new Response(new ReadableStream),de=!0;}catch(e){de=!1;}de?t(e.body):e.blob().then(t);}(i,(i=>{const r=new t.Response(i,n);fe(),ue&&ue.then((t=>t.put(me(e.url),r))).catch((e=>W(e.message)));})));}(n,a,l),o=!0,i(null,e,r.headers.get(\"Cache-Control\"),r.headers.get(\"Expires\")));})).catch((e=>{s||i(new Error(e.message));}));};return a?function(e,t){if(fe(),!ue)return t(null);const i=me(e.url);ue.then((e=>{e.match(i).then((r=>{const n=function(e){if(!e)return !1;const t=new Date(e.headers.get(\"Expires\")||0),i=ee(e.headers.get(\"Cache-Control\")||\"\");return t>Date.now()&&!i[\"no-cache\"]}(r);e.delete(i),n&&e.put(i,r.clone()),t(null,r,n);})).catch(t);})).catch(t);}(n,c):c(null,null),{cancel:()=>{s=!0,o||r.abort();}}}(e,i);if(Q()&&self.worker&&self.worker.actor)return self.worker.actor.send(\"getResource\",e,i,void 0,!0)}var r;return function(e,i){const r=new t.XMLHttpRequest;r.open(e.method||\"GET\",e.url,!0),\"arrayBuffer\"===e.type&&(r.responseType=\"arraybuffer\");for(const t in e.headers)r.setRequestHeader(t,e.headers[t]);return \"json\"===e.type&&(r.responseType=\"text\",r.setRequestHeader(\"Accept\",\"application/json\")),r.withCredentials=\"include\"===e.credentials,r.onerror=()=>{i(new Error(r.statusText));},r.onload=()=>{if((r.status>=200&&r.status<300||0===r.status)&&null!==r.response){let t=r.response;if(\"json\"===e.type)try{t=JSON.parse(r.response);}catch(e){return i(e)}i(null,t,r.getResponseHeader(\"Cache-Control\"),r.getResponseHeader(\"Expires\"));}else i(new xe(r.statusText,r.status,e.url));},r.send(e.body),{cancel:()=>r.abort()}}(e,i)},we=function(e,t){return be(k(e,{type:\"json\"}),t)},Te=function(e,t){return be(k(e,{type:\"arrayBuffer\"}),t)};function Ee(e){const i=t.document.createElement(\"a\");return i.href=e,i.protocol===t.document.location.protocol&&i.host===t.document.location.host}const Me=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=\";let Ae,Se;Ae=[],Se=0;const Ie=function(e,i){if(o.supported&&(e.headers||(e.headers={}),e.headers.accept=\"image/webp,*/*\"),Se>=n.MAX_PARALLEL_IMAGE_REQUESTS){const t={requestParameters:e,callback:i,cancelled:!1,cancel(){this.cancelled=!0;}};return Ae.push(t),t}Se++;let r=!1;const s=()=>{if(!r)for(r=!0,Se--;Ae.length&&Se<n.MAX_PARALLEL_IMAGE_REQUESTS;){const e=Ae.shift(),{requestParameters:t,callback:i,cancelled:r}=e;r||(e.cancel=Ie(t,i).cancel);}},a=Te(e,((e,r,n,o)=>{s(),e?i(e):r&&(t.createImageBitmap?function(e,i){const r=new t.Blob([new Uint8Array(e)],{type:\"image/png\"});t.createImageBitmap(r).then((e=>{i(null,e);})).catch((e=>{i(new Error(`Could not load image because of ${e.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`));}));}(r,((e,t)=>i(e,t,n,o))):function(e,i){const r=new t.Image,n=t.URL;r.onload=()=>{i(null,r),n.revokeObjectURL(r.src),r.onload=null,t.requestAnimationFrame((()=>{r.src=Me;}));},r.onerror=()=>i(new Error(\"Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.\"));const o=new t.Blob([new Uint8Array(e)],{type:\"image/png\"});r.src=e.byteLength?n.createObjectURL(o):Me;}(r,((e,t)=>i(e,t,n,o))));}));return {cancel:()=>{a.cancel(),s();}}},Ce=\"NO_ACCESS_TOKEN\";class ze{constructor(e,t,i){this._transformRequestFn=e,this._customAccessToken=t,this._silenceAuthErrors=!!i,this._createSkuToken();}_createSkuToken(){const e=function(){let e=\"\";for(let t=0;t<10;t++)e+=\"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\"[Math.floor(62*Math.random())];return {token:[\"1\",u,e].join(\"\"),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt;}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}normalizeStyleURL(e,t){if(!De(e))return e;const r=Be(e);return r.params.push(`sdk=js-${i}`),r.path=`/styles/v1${r.path}`,this._makeAPIURL(r,this._customAccessToken||t)}normalizeGlyphsURL(e,t){if(!De(e))return e;const i=Be(e);return i.path=`/fonts/v1${i.path}`,this._makeAPIURL(i,this._customAccessToken||t)}normalizeModelURL(e,t){if(!De(e))return e;const i=Be(e);return i.path=`/models/v1${i.path}`,this._makeAPIURL(i,this._customAccessToken||t)}normalizeSourceURL(e,t,i,r){if(!De(e))return e;const n=Be(e);return n.path=`/v4/${n.authority}.json`,n.params.push(\"secure\"),i&&n.params.push(`language=${i}`),r&&n.params.push(`worldview=${r}`),this._makeAPIURL(n,this._customAccessToken||t)}normalizeSpriteURL(e,t,i,r){const n=Be(e);return De(e)?(n.path=`/styles/v1${n.path}/sprite${t}${i}`,this._makeAPIURL(n,this._customAccessToken||r)):(n.path+=`${t}${i}`,Fe(n))}normalizeTileURL(e,t,i){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!De(e))return e;const r=Be(e);r.path=r.path.replace(/(\\.(png|jpg)\\d*)(?=$)/,`${t||i&&\"raster\"!==r.authority&&512===i?\"@2x\":\"\"}${o.supported?\".webp\":\"$1\"}`),\"raster\"===r.authority?r.path=`/${n.RASTER_URL_PREFIX}${r.path}`:(r.path=r.path.replace(/^.+\\/v4\\//,\"/\"),r.path=`/${n.TILE_URL_VERSION}${r.path}`);const s=this._customAccessToken||function(e){for(const t of e){const e=t.match(/^access_token=(.*)$/);if(e)return e[1]}return null}(r.params)||n.ACCESS_TOKEN;return n.REQUIRE_ACCESS_TOKEN&&s&&this._skuToken&&r.params.push(`sku=${this._skuToken}`),this._makeAPIURL(r,s)}canonicalizeTileURL(e,t){const i=Be(e);if(!i.path.match(/^(\\/v4\\/|\\/raster\\/v1\\/)/)||!i.path.match(/\\.[\\w]+$/))return e;let r=\"mapbox://\";i.path.match(/^\\/raster\\/v1\\//)?r+=`raster/${i.path.replace(`/${n.RASTER_URL_PREFIX}/`,\"\")}`:r+=`tiles/${i.path.replace(`/${n.TILE_URL_VERSION}/`,\"\")}`;let o=i.params;return t&&(o=o.filter((e=>!e.match(/^access_token=/)))),o.length&&(r+=`?${o.join(\"&\")}`),r}canonicalizeTileset(e,t){const i=!!t&&De(t),r=[];for(const t of e.tiles||[])Pe(t)?r.push(this.canonicalizeTileURL(t,i)):r.push(t);return r}_makeAPIURL(e,t){const i=\"See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes\",r=Be(n.API_URL);if(e.protocol=r.protocol,e.authority=r.authority,\"http\"===e.protocol){const t=e.params.indexOf(\"secure\");t>=0&&e.params.splice(t,1);}if(\"/\"!==r.path&&(e.path=`${r.path}${e.path}`),!n.REQUIRE_ACCESS_TOKEN)return Fe(e);if(t=t||n.ACCESS_TOKEN,!this._silenceAuthErrors){if(!t)throw new Error(`An API access token is required to use Mapbox GL. ${i}`);if(\"s\"===t[0])throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${i}`)}return e.params=e.params.filter((e=>-1===e.indexOf(\"access_token\"))),e.params.push(`access_token=${t||\"\"}`),Fe(e)}}function De(e){return 0===e.indexOf(\"mapbox:\")}function Pe(e){return n.API_URL_REGEX.test(e)}function Re(e){return n.API_CDN_URL_REGEX.test(e)}function Le(e){return n.API_STYLE_REGEX.test(e)&&!ke(e)}function ke(e){return n.API_SPRITE_REGEX.test(e)}const Oe=/^(\\w+):\\/\\/([^/?]*)(\\/[^?]+)?\\??(.+)?/;function Be(e){const t=e.match(Oe);if(!t)throw new Error(\"Unable to parse URL object\");return {protocol:t[1],authority:t[2],path:t[3]||\"/\",params:t[4]?t[4].split(\"&\"):[]}}function Fe(e){const t=e.params.length?`?${e.params.join(\"&\")}`:\"\";return `${e.protocol}://${e.authority}${e.path}${t}`}const Ne=\"mapbox.eventData\";function Ue(e){if(!e)return null;const i=e.split(\".\");if(!i||3!==i.length)return null;try{return JSON.parse(decodeURIComponent(t.atob(i[1]).split(\"\").map((e=>\"%\"+(\"00\"+e.charCodeAt(0).toString(16)).slice(-2))).join(\"\")))}catch(e){return null}}class Ve{constructor(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null;}getStorageKey(e){const i=Ue(n.ACCESS_TOKEN);let r=\"\";return r=i&&i.u?t.btoa(encodeURIComponent(i.u).replace(/%([0-9A-F]{2})/g,((e,t)=>String.fromCharCode(Number(\"0x\"+t))))):n.ACCESS_TOKEN||\"\",e?`${Ne}.${e}:${r}`:`${Ne}:${r}`}fetchEventData(){const e=re(\"localStorage\"),i=this.getStorageKey(),r=this.getStorageKey(\"uuid\");if(e)try{const e=t.localStorage.getItem(i);e&&(this.eventData=JSON.parse(e));const n=t.localStorage.getItem(r);n&&(this.anonId=n);}catch(e){W(\"Unable to read from LocalStorage\");}}saveEventData(){const e=re(\"localStorage\"),i=this.getStorageKey(),r=this.getStorageKey(\"uuid\");if(e)try{t.localStorage.setItem(r,this.anonId),Object.keys(this.eventData).length>=1&&t.localStorage.setItem(i,JSON.stringify(this.eventData));}catch(e){W(\"Unable to write to LocalStorage\");}}processRequests(e){}postEvent(e,t,i,r){if(!n.EVENTS_URL)return;const o=Be(n.EVENTS_URL);o.params.push(`access_token=${r||n.ACCESS_TOKEN||\"\"}`);const s={event:this.type,created:new Date(e).toISOString()},a=t?k(s,t):s,l={url:Fe(o),headers:{\"Content-Type\":\"text/plain\"},body:JSON.stringify([a])};this.pendingRequest=function(e,t){return be(k(e,{method:\"POST\"}),t)}(l,(e=>{this.pendingRequest=null,i(e),this.saveEventData(),this.processRequests(r);}));}queueRequest(e,t){this.queue.push(e),this.processRequests(t);}}const je=new class extends Ve{constructor(e){super(\"appUserTurnstile\"),this._customAccessToken=e;}postTurnstileEvent(e,t){n.EVENTS_URL&&n.ACCESS_TOKEN&&Array.isArray(e)&&e.some((e=>De(e)||Pe(e)))&&this.queueRequest(Date.now(),t);}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const t=Ue(n.ACCESS_TOKEN),r=t?t.u:n.ACCESS_TOKEN;let o=r!==this.eventData.tokenU;V(this.anonId)||(this.anonId=N(),o=!0);const s=this.queue.shift();if(this.eventData.lastSuccess){const e=new Date(this.eventData.lastSuccess),t=new Date(s),i=(s-this.eventData.lastSuccess)/864e5;o=o||i>=1||i<-1||e.getDate()!==t.getDate();}else o=!0;o?this.postEvent(s,{sdkIdentifier:\"mapbox-gl-js\",sdkVersion:i,skuId:u,\"enabled.telemetry\":!1,userId:this.anonId},(e=>{e||(this.eventData.lastSuccess=s,this.eventData.tokenU=r);}),e):this.processRequests();}},Ge=je.postTurnstileEvent.bind(je),qe=new class extends Ve{constructor(){super(\"map.load\"),this.success={},this.skuToken=\"\";}postMapLoadEvent(e,t,i,r){this.skuToken=t,this.errorCb=r,n.EVENTS_URL&&(i||n.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},i):this.errorCb(new Error(Ce)));}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{id:t,timestamp:r}=this.queue.shift();t&&this.success[t]||(this.anonId||this.fetchEventData(),V(this.anonId)||(this.anonId=N()),this.postEvent(r,{sdkIdentifier:\"mapbox-gl-js\",sdkVersion:i,skuId:u,skuToken:this.skuToken,userId:this.anonId},(e=>{e?this.errorCb(e):t&&(this.success[t]=!0);}),e));}},Ze=qe.postMapLoadEvent.bind(qe),$e=new class extends Ve{constructor(){super(\"gljs.performance\");}postPerformanceEvent(e,t){n.EVENTS_URL&&(e||n.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:t},e);}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{timestamp:r,performanceData:n}=this.queue.shift(),o=function(e){const r=t.performance.getEntriesByType(\"resource\"),n=t.performance.getEntriesByType(\"mark\"),o=function(e){const t={};if(e)for(const i in e)if(\"other\"!==i)for(const r of e[i]){const e=`${i}ResolveRangeMin`,n=`${i}ResolveRangeMax`,o=`${i}RequestCount`,s=`${i}RequestCachedCount`;t[e]=Math.min(t[e]||1/0,r.startTime),t[n]=Math.max(t[n]||-1/0,r.responseEnd);const a=e=>{void 0===t[e]&&(t[e]=0),++t[e];};void 0!==r.transferSize&&0===r.transferSize&&a(s),a(o);}return t}(function(e,t){const i={};if(e)for(const r of e){const e=t(r);void 0===i[e]&&(i[e]=[]),i[e].push(r);}return i}(r,et)),s=t.devicePixelRatio,a=t.navigator.connection||t.navigator.mozConnection||t.navigator.webkitConnection,l={counters:[],metadata:[],attributes:[]},c=(e,t,i)=>{null!=i&&e.push({name:t,value:i.toString()});};for(const e in o)c(l.counters,e,o[e]);if(e.interactionRange[0]!==1/0&&e.interactionRange[1]!==-1/0&&(c(l.counters,\"interactionRangeMin\",e.interactionRange[0]),c(l.counters,\"interactionRangeMax\",e.interactionRange[1])),n)for(const e of Object.keys(Je)){const t=Je[e],i=n.find((e=>e.name===t));i&&c(l.counters,t,i.startTime);}return c(l.counters,\"visibilityHidden\",e.visibilityHidden),c(l.attributes,\"style\",function(e){if(e)for(const t of e){const e=t.name.split(\"?\")[0];if(Le(e)){const t=e.split(\"/\").slice(-2);if(2===t.length)return `mapbox://styles/${t[0]}/${t[1]}`}}}(r)),c(l.attributes,\"terrainEnabled\",e.terrainEnabled?\"true\":\"false\"),c(l.attributes,\"fogEnabled\",e.fogEnabled?\"true\":\"false\"),c(l.attributes,\"projection\",e.projection),c(l.attributes,\"zoom\",e.zoom),c(l.metadata,\"devicePixelRatio\",s),c(l.metadata,\"connectionEffectiveType\",a?a.effectiveType:void 0),c(l.metadata,\"navigatorUserAgent\",t.navigator.userAgent),c(l.metadata,\"screenWidth\",t.screen.width),c(l.metadata,\"screenHeight\",t.screen.height),c(l.metadata,\"windowWidth\",t.innerWidth),c(l.metadata,\"windowHeight\",t.innerHeight),c(l.metadata,\"mapWidth\",e.width/s),c(l.metadata,\"mapHeight\",e.height/s),c(l.metadata,\"webglRenderer\",e.renderer),c(l.metadata,\"webglVendor\",e.vendor),c(l.metadata,\"sdkVersion\",i),c(l.metadata,\"sdkIdentifier\",\"mapbox-gl-js\"),l}(n);for(const e of o.metadata);for(const e of o.counters);for(const e of o.attributes);this.postEvent(r,o,(()=>{}),e);}},He=$e.postPerformanceEvent.bind($e),We=new class extends Ve{constructor(){super(\"map.auth\"),this.success={},this.skuToken=\"\";}getSession(e,t,i,r){if(!n.API_URL||!n.SESSION_PATH)return;const o=Be(n.API_URL+n.SESSION_PATH);o.params.push(`sku=${t||\"\"}`),o.params.push(`access_token=${r||n.ACCESS_TOKEN||\"\"}`);const s={url:Fe(o),headers:{\"Content-Type\":\"text/plain\"}};this.pendingRequest=function(e,t){return be(k(e,{method:\"GET\"}),t)}(s,(e=>{this.pendingRequest=null,i(e),this.saveEventData(),this.processRequests(r);}));}getSessionAPI(e,t,i,r){this.skuToken=t,this.errorCb=r,n.SESSION_PATH&&n.API_URL&&(i||n.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},i):this.errorCb(new Error(Ce)));}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{id:t,timestamp:i}=this.queue.shift();t&&this.success[t]||this.getSession(i,this.skuToken,(e=>{e?this.errorCb(e):t&&(this.success[t]=!0);}),e);}},Xe=We.getSessionAPI.bind(We),Ye=new Set;function Ke(e,t){t?Ye.add(e):Ye.delete(e);}const Je={create:\"create\",load:\"load\",fullLoad:\"fullLoad\"},Qe={mark(e){t.performance.mark(e);},measure(e,i,r){t.performance.measure(e,i,r);}};function et(e){const t=e.name.split(\"?\")[0];return Re(t)&&t.includes(\"mapbox-gl.js\")?\"javascript\":Re(t)&&t.includes(\"mapbox-gl.css\")?\"css\":function(e){return n.API_FONTS_REGEX.test(e)}(t)?\"fontRange\":ke(t)?\"sprite\":Le(t)?\"style\":function(e){return n.API_TILEJSON_REGEX.test(e)}(t)?\"tilejson\":\"other\"}const tt=t.performance;function it(e){const t=e?e.url.toString():void 0;return tt.getEntriesByName(t)}var rt=nt;function nt(e){return !function(e){return \"undefined\"==typeof window||\"undefined\"==typeof document?\"not a browser\":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?\"JSON\"in window&&\"parse\"in JSON&&\"stringify\"in JSON?function(){if(!(\"Worker\"in window&&\"Blob\"in window&&\"URL\"in window))return !1;var e,t,i=new Blob([\"\"],{type:\"text/javascript\"}),r=URL.createObjectURL(i);try{t=new Worker(r),e=!0;}catch(t){e=!1;}return t&&t.terminate(),URL.revokeObjectURL(r),e}()?\"Uint8ClampedArray\"in window?ArrayBuffer.isView?function(){var e=document.createElement(\"canvas\");e.width=e.height=1;var t=e.getContext(\"2d\");if(!t)return !1;var i=t.getImageData(0,0,1,1);return i&&i.width===e.width}()?(void 0===ot[t=e&&e.failIfMajorPerformanceCaveat]&&(ot[t]=function(e){var t,i=function(e){var t=document.createElement(\"canvas\"),i=Object.create(nt.webGLContextAttributes);return i.failIfMajorPerformanceCaveat=e,t.getContext(\"webgl\",i)||t.getContext(\"experimental-webgl\",i)}(e);if(!i)return !1;try{t=i.createShader(i.VERTEX_SHADER);}catch(e){return !1}return !(!t||i.isContextLost())&&(i.shaderSource(t,\"void main() {}\"),i.compileShader(t),!0===i.getShaderParameter(t,i.COMPILE_STATUS))}(t)),ot[t]?document.documentMode?\"insufficient ECMAScript 6 support\":void 0:\"insufficient WebGL support\"):\"insufficient Canvas/getImageData support\":\"insufficient ArrayBuffer support\":\"insufficient Uint8ClampedArray support\":\"insufficient worker support\":\"insufficient JSON support\":\"insufficient Object support\":\"insufficient Function support\":\"insufficent Array support\";var t;}(e)}var ot={};let st,at,lt,ct;nt.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const ht={now:()=>void 0!==lt?lt:t.performance.now(),setNow(e){lt=e;},restoreNow(){lt=void 0;},frame(e){const i=t.requestAnimationFrame(e);return {cancel:()=>t.cancelAnimationFrame(i)}},getImageData(e,i=0){const{width:r,height:n}=e;ct||(ct=t.document.createElement(\"canvas\"));const o=ct.getContext(\"2d\",{willReadFrequently:!0});if(!o)throw new Error(\"failed to create canvas 2d context\");return (r>ct.width||n>ct.height)&&(ct.width=r,ct.height=n),o.clearRect(-i,-i,r+2*i,n+2*i),o.drawImage(e,0,0,r,n),o.getImageData(-i,-i,r+2*i,n+2*i)},resolveURL:e=>(st||(st=t.document.createElement(\"a\")),st.href=e,st.href),get devicePixelRatio(){return t.devicePixelRatio},get prefersReducedMotion(){return !!t.matchMedia&&(null==at&&(at=t.matchMedia(\"(prefers-reduced-motion: reduce)\")),at.matches)}};function ut(e,i,r){const n=t.document.createElement(e);return void 0!==i&&(n.className=i),r&&r.appendChild(n),n}function dt(e,i,r){const n=t.document.createElementNS(\"http://www.w3.org/2000/svg\",e);for(const e of Object.keys(i))n.setAttributeNS(null,e,i[e]);return r&&r.appendChild(n),n}const pt=t.document&&t.document.documentElement.style,ft=pt&&void 0!==pt.userSelect?\"userSelect\":\"WebkitUserSelect\";let mt;function _t(){pt&&ft&&(mt=pt[ft],pt[ft]=\"none\");}function gt(){pt&&ft&&(pt[ft]=mt);}function yt(e){e.preventDefault(),e.stopPropagation(),t.removeEventListener(\"click\",yt,!0);}function xt(){t.addEventListener(\"click\",yt,!0),t.setTimeout((()=>{t.removeEventListener(\"click\",yt,!0);}),0);}function vt(e,t){const i=e.getBoundingClientRect();return Tt(e,i,t)}function bt(e,t){const i=e.getBoundingClientRect(),r=[];for(let n=0;n<t.length;n++)r.push(Tt(e,i,t[n]));return r}function wt(e){return void 0!==t.InstallTrigger&&2===e.button&&e.ctrlKey&&t.navigator.platform.toUpperCase().indexOf(\"MAC\")>=0?0:e.button}function Tt(e,t,i){const r=e.offsetWidth===t.width?1:e.offsetWidth/t.width;return new y((i.clientX-t.left)*r,(i.clientY-t.top)*r)}function Et(e,t,i){i[e]&&-1!==i[e].indexOf(t)||(i[e]=i[e]||[],i[e].push(t));}function Mt(e,t,i){if(i&&i[e]){const r=i[e].indexOf(t);-1!==r&&i[e].splice(r,1);}}class At{constructor(e,t={}){k(this,t),this.type=e;}}class St extends At{constructor(e,t={}){super(\"error\",k({error:e},t));}}class It{on(e,t){return this._listeners=this._listeners||{},Et(e,t,this._listeners),this}off(e,t){return Mt(e,t,this._listeners),Mt(e,t,this._oneTimeListeners),this}once(e,t){return t?(this._oneTimeListeners=this._oneTimeListeners||{},Et(e,t,this._oneTimeListeners),this):new Promise((t=>this.once(e,t)))}fire(e,t){\"string\"==typeof e&&(e=new At(e,t||{}));const i=e.type;if(this.listens(i)){e.target=this;const t=this._listeners&&this._listeners[i]?this._listeners[i].slice():[];for(const i of t)i.call(this,e);const r=this._oneTimeListeners&&this._oneTimeListeners[i]?this._oneTimeListeners[i].slice():[];for(const t of r)Mt(i,t,this._oneTimeListeners),t.call(this,e);const n=this._eventedParent;n&&(k(e,\"function\"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),n.fire(e));}else e instanceof St&&console.error(e.error);return this}listens(e){return !!(this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e))}setEventedParent(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}var Ct=JSON.parse('{\"$version\":8,\"$root\":{\"version\":{\"required\":true,\"type\":\"enum\",\"values\":[8]},\"fragment\":{\"type\":\"boolean\"},\"name\":{\"type\":\"string\"},\"metadata\":{\"type\":\"*\"},\"center\":{\"type\":\"array\",\"value\":\"number\"},\"zoom\":{\"type\":\"number\"},\"bearing\":{\"type\":\"number\",\"default\":0,\"period\":360},\"pitch\":{\"type\":\"number\",\"default\":0},\"light\":{\"type\":\"light\"},\"lights\":{\"required\":false,\"type\":\"array\",\"value\":\"light-3d\"},\"terrain\":{\"type\":\"terrain\"},\"fog\":{\"type\":\"fog\"},\"camera\":{\"type\":\"camera\"},\"imports\":{\"type\":\"array\",\"value\":\"import\"},\"schema\":{\"type\":\"schema\"},\"sources\":{\"required\":true,\"type\":\"sources\"},\"sprite\":{\"type\":\"string\"},\"glyphs\":{\"type\":\"string\",\"default\":\"mapbox://fonts/mapbox/{fontstack}/{range}.pbf\"},\"transition\":{\"type\":\"transition\"},\"projection\":{\"type\":\"projection\"},\"layers\":{\"required\":true,\"type\":\"array\",\"value\":\"layer\"},\"models\":{\"type\":\"models\"}},\"model\":{\"type\":\"string\",\"required\":true},\"import\":{\"id\":{\"type\":\"string\",\"required\":true},\"url\":{\"type\":\"string\",\"required\":true},\"config\":{\"type\":\"config\"},\"data\":{\"type\":\"$root\"}},\"config\":{\"*\":{\"type\":\"*\"}},\"schema\":{\"*\":{\"type\":\"option\"}},\"option\":{\"default\":{\"type\":\"*\",\"required\":true},\"type\":{\"type\":\"enum\",\"values\":{\"string\":1,\"number\":1,\"boolean\":1,\"color\":1}},\"array\":{\"type\":\"boolean\"},\"minValue\":{\"type\":\"number\"},\"maxValue\":{\"type\":\"number\"},\"stepValue\":{\"type\":\"number\"},\"values\":{\"type\":\"array\",\"value\":\"*\"},\"metadata\":{\"type\":\"*\"}},\"models\":{\"*\":{\"type\":\"model\"}},\"light-3d\":{\"id\":{\"type\":\"string\",\"required\":true},\"properties\":{\"type\":\"properties\"},\"type\":{\"type\":\"enum\",\"values\":{\"ambient\":{},\"directional\":{},\"flat\":{}}}},\"properties\":[\"properties_light_directional\",\"properties_light_ambient\",\"properties_light_flat\"],\"properties_light_directional\":{\"direction\":{\"type\":\"array\",\"default\":[210,30],\"minimum\":[0,0],\"maximum\":[360,90],\"length\":2,\"value\":\"number\",\"property-type\":\"data-constant\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":\"#ffffff\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"intensity\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":0.5,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"cast-shadows\":{\"type\":\"boolean\",\"default\":false,\"expression\":{},\"property-type\":\"data-constant\"},\"shadow-intensity\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":1,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true}},\"properties_light_ambient\":{\"color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":\"#ffffff\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"intensity\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":0.5,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true}},\"properties_light_flat\":{\"anchor\":{\"type\":\"enum\",\"default\":\"viewport\",\"values\":{\"map\":1,\"viewport\":1},\"property-type\":\"data-constant\",\"expression\":{\"parameters\":[\"zoom\"]}},\"position\":{\"type\":\"array\",\"default\":[1.15,210,30],\"length\":3,\"value\":\"number\",\"property-type\":\"data-constant\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":\"#ffffff\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"intensity\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":0.5,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true}},\"sources\":{\"*\":{\"type\":\"source\"}},\"source\":[\"source_vector\",\"source_raster\",\"source_raster_dem\",\"source_geojson\",\"source_video\",\"source_image\",\"source_model\"],\"source_vector\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"vector\":1}},\"url\":{\"type\":\"string\"},\"tiles\":{\"type\":\"array\",\"value\":\"string\"},\"bounds\":{\"type\":\"array\",\"value\":\"number\",\"length\":4,\"default\":[-180,-85.051129,180,85.051129]},\"scheme\":{\"type\":\"enum\",\"values\":{\"xyz\":1,\"tms\":1},\"default\":\"xyz\"},\"minzoom\":{\"type\":\"number\",\"default\":0},\"maxzoom\":{\"type\":\"number\",\"default\":22},\"attribution\":{\"type\":\"string\"},\"promoteId\":{\"type\":\"promoteId\"},\"volatile\":{\"type\":\"boolean\",\"default\":false},\"*\":{\"type\":\"*\"}},\"source_raster\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"raster\":1}},\"url\":{\"type\":\"string\"},\"tiles\":{\"type\":\"array\",\"value\":\"string\"},\"bounds\":{\"type\":\"array\",\"value\":\"number\",\"length\":4,\"default\":[-180,-85.051129,180,85.051129]},\"minzoom\":{\"type\":\"number\",\"default\":0},\"maxzoom\":{\"type\":\"number\",\"default\":22},\"tileSize\":{\"type\":\"number\",\"default\":512},\"scheme\":{\"type\":\"enum\",\"values\":{\"xyz\":1,\"tms\":1},\"default\":\"xyz\"},\"attribution\":{\"type\":\"string\"},\"volatile\":{\"type\":\"boolean\",\"default\":false},\"*\":{\"type\":\"*\"}},\"source_raster_dem\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"raster-dem\":1}},\"url\":{\"type\":\"string\"},\"tiles\":{\"type\":\"array\",\"value\":\"string\"},\"bounds\":{\"type\":\"array\",\"value\":\"number\",\"length\":4,\"default\":[-180,-85.051129,180,85.051129]},\"minzoom\":{\"type\":\"number\",\"default\":0},\"maxzoom\":{\"type\":\"number\",\"default\":22},\"tileSize\":{\"type\":\"number\",\"default\":512},\"attribution\":{\"type\":\"string\"},\"encoding\":{\"type\":\"enum\",\"values\":{\"terrarium\":1,\"mapbox\":1},\"default\":\"mapbox\"},\"volatile\":{\"type\":\"boolean\",\"default\":false},\"*\":{\"type\":\"*\"}},\"source_geojson\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"geojson\":1}},\"data\":{\"type\":\"*\"},\"maxzoom\":{\"type\":\"number\",\"default\":18},\"attribution\":{\"type\":\"string\"},\"buffer\":{\"type\":\"number\",\"default\":128,\"maximum\":512,\"minimum\":0},\"filter\":{\"type\":\"*\"},\"tolerance\":{\"type\":\"number\",\"default\":0.375},\"cluster\":{\"type\":\"boolean\",\"default\":false},\"clusterRadius\":{\"type\":\"number\",\"default\":50,\"minimum\":0},\"clusterMaxZoom\":{\"type\":\"number\"},\"clusterMinPoints\":{\"type\":\"number\"},\"clusterProperties\":{\"type\":\"*\"},\"lineMetrics\":{\"type\":\"boolean\",\"default\":false},\"generateId\":{\"type\":\"boolean\",\"default\":false},\"promoteId\":{\"type\":\"promoteId\"}},\"source_video\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"video\":1}},\"urls\":{\"required\":true,\"type\":\"array\",\"value\":\"string\"},\"coordinates\":{\"required\":true,\"type\":\"array\",\"length\":4,\"value\":{\"type\":\"array\",\"length\":2,\"value\":\"number\"}}},\"source_image\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"image\":1}},\"url\":{\"required\":false,\"type\":\"string\"},\"coordinates\":{\"required\":true,\"type\":\"array\",\"length\":4,\"value\":{\"type\":\"array\",\"length\":2,\"value\":\"number\"}}},\"source_model\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"model\":1,\"batched-model\":1}},\"maxzoom\":{\"type\":\"number\",\"default\":18},\"minzoom\":{\"type\":\"number\",\"default\":0},\"tiles\":{\"type\":\"array\",\"value\":\"string\"}},\"layer\":{\"id\":{\"type\":\"string\",\"required\":true},\"type\":{\"type\":\"enum\",\"values\":{\"fill\":{},\"line\":{},\"symbol\":{},\"circle\":{},\"heatmap\":{},\"fill-extrusion\":{},\"raster\":{},\"hillshade\":{},\"model\":{},\"background\":{},\"sky\":{},\"slot\":{}},\"required\":true},\"metadata\":{\"type\":\"*\"},\"source\":{\"type\":\"string\"},\"source-layer\":{\"type\":\"string\"},\"slot\":{\"type\":\"string\"},\"minzoom\":{\"type\":\"number\",\"minimum\":0,\"maximum\":24},\"maxzoom\":{\"type\":\"number\",\"minimum\":0,\"maximum\":24},\"filter\":{\"type\":\"filter\"},\"layout\":{\"type\":\"layout\"},\"paint\":{\"type\":\"paint\"}},\"layout\":[\"layout_fill\",\"layout_line\",\"layout_circle\",\"layout_heatmap\",\"layout_fill-extrusion\",\"layout_symbol\",\"layout_raster\",\"layout_hillshade\",\"layout_background\",\"layout_sky\",\"layout_model\"],\"layout_background\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"layout_sky\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"layout_model\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"},\"model-id\":{\"type\":\"string\",\"default\":\"\",\"property-type\":\"data-driven\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]}}},\"layout_fill\":{\"fill-sort-key\":{\"type\":\"number\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"layout_circle\":{\"circle-sort-key\":{\"type\":\"number\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"layout_heatmap\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"layout_fill-extrusion\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"},\"fill-extrusion-edge-radius\":{\"type\":\"number\",\"private\":true,\"default\":0,\"minimum\":0,\"maximum\":1,\"expression\":{},\"property-type\":\"constant\"}},\"layout_line\":{\"line-cap\":{\"type\":\"enum\",\"values\":{\"butt\":1,\"round\":1,\"square\":1},\"default\":\"butt\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"line-join\":{\"type\":\"enum\",\"values\":{\"bevel\":1,\"round\":1,\"miter\":1},\"default\":\"miter\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"line-miter-limit\":{\"type\":\"number\",\"default\":2,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"line-round-limit\":{\"type\":\"number\",\"default\":1.05,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"line-sort-key\":{\"type\":\"number\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"layout_symbol\":{\"symbol-placement\":{\"type\":\"enum\",\"values\":{\"point\":1,\"line\":1,\"line-center\":1},\"default\":\"point\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"symbol-spacing\":{\"type\":\"number\",\"default\":250,\"minimum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"symbol-avoid-edges\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"symbol-sort-key\":{\"type\":\"number\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"symbol-z-order\":{\"type\":\"enum\",\"values\":{\"auto\":1,\"viewport-y\":1,\"source\":1},\"default\":\"auto\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"symbol-z-elevate\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-allow-overlap\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-ignore-placement\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-optional\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-rotation-alignment\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1,\"auto\":1},\"default\":\"auto\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-size\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-text-fit\":{\"type\":\"enum\",\"values\":{\"none\":1,\"width\":1,\"height\":1,\"both\":1},\"default\":\"none\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-text-fit-padding\":{\"type\":\"array\",\"value\":\"number\",\"length\":4,\"default\":[0,0,0,0],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-image\":{\"type\":\"resolvedImage\",\"tokens\":true,\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-rotate\":{\"type\":\"number\",\"default\":0,\"period\":360,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-padding\":{\"type\":\"number\",\"default\":2,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-keep-upright\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-offset\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-anchor\":{\"type\":\"enum\",\"values\":{\"center\":1,\"left\":1,\"right\":1,\"top\":1,\"bottom\":1,\"top-left\":1,\"top-right\":1,\"bottom-left\":1,\"bottom-right\":1},\"default\":\"center\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-pitch-alignment\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1,\"auto\":1},\"default\":\"auto\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-pitch-alignment\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1,\"auto\":1},\"default\":\"auto\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-rotation-alignment\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1,\"auto\":1},\"default\":\"auto\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-field\":{\"type\":\"formatted\",\"default\":\"\",\"tokens\":true,\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-font\":{\"type\":\"array\",\"value\":\"string\",\"default\":[\"Open Sans Regular\",\"Arial Unicode MS Regular\"],\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-size\":{\"type\":\"number\",\"default\":16,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-max-width\":{\"type\":\"number\",\"default\":10,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-line-height\":{\"type\":\"number\",\"default\":1.2,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-letter-spacing\":{\"type\":\"number\",\"default\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-justify\":{\"type\":\"enum\",\"values\":{\"auto\":1,\"left\":1,\"center\":1,\"right\":1},\"default\":\"center\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-radial-offset\":{\"type\":\"number\",\"default\":0,\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]}},\"text-variable-anchor\":{\"type\":\"array\",\"value\":\"enum\",\"values\":{\"center\":1,\"left\":1,\"right\":1,\"top\":1,\"bottom\":1,\"top-left\":1,\"top-right\":1,\"bottom-left\":1,\"bottom-right\":1},\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-anchor\":{\"type\":\"enum\",\"values\":{\"center\":1,\"left\":1,\"right\":1,\"top\":1,\"bottom\":1,\"top-left\":1,\"top-right\":1,\"bottom-left\":1,\"bottom-right\":1},\"default\":\"center\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-max-angle\":{\"type\":\"number\",\"default\":45,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-writing-mode\":{\"type\":\"array\",\"value\":\"enum\",\"values\":{\"horizontal\":1,\"vertical\":1},\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-rotate\":{\"type\":\"number\",\"default\":0,\"period\":360,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-padding\":{\"type\":\"number\",\"default\":2,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-keep-upright\":{\"type\":\"boolean\",\"default\":true,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-transform\":{\"type\":\"enum\",\"values\":{\"none\":1,\"uppercase\":1,\"lowercase\":1},\"default\":\"none\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-offset\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-allow-overlap\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-ignore-placement\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-optional\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"layout_raster\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"layout_hillshade\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"filter\":{\"type\":\"array\",\"value\":\"*\"},\"filter_symbol\":{\"type\":\"boolean\",\"default\":false,\"property-type\":\"data-driven\",\"expression\":{\"parameters\":[\"zoom\",\"feature\",\"pitch\",\"distance-from-center\"]}},\"filter_fill\":{\"type\":\"boolean\",\"default\":false,\"property-type\":\"data-driven\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]}},\"filter_line\":{\"type\":\"boolean\",\"default\":false,\"property-type\":\"data-driven\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]}},\"filter_circle\":{\"type\":\"boolean\",\"default\":false,\"property-type\":\"data-driven\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]}},\"filter_fill-extrusion\":{\"type\":\"boolean\",\"default\":false,\"property-type\":\"data-driven\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]}},\"filter_heatmap\":{\"type\":\"boolean\",\"default\":false,\"property-type\":\"data-driven\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]}},\"filter_operator\":{\"type\":\"enum\",\"values\":{\"==\":1,\"!=\":1,\">\":1,\">=\":1,\"<\":1,\"<=\":1,\"in\":1,\"!in\":1,\"all\":1,\"any\":1,\"none\":1,\"has\":1,\"!has\":1}},\"geometry_type\":{\"type\":\"enum\",\"values\":{\"Point\":1,\"LineString\":1,\"Polygon\":1}},\"function\":{\"expression\":{\"type\":\"expression\"},\"stops\":{\"type\":\"array\",\"value\":\"function_stop\"},\"base\":{\"type\":\"number\",\"default\":1,\"minimum\":0},\"property\":{\"type\":\"string\",\"default\":\"$zoom\"},\"type\":{\"type\":\"enum\",\"values\":{\"identity\":1,\"exponential\":1,\"interval\":1,\"categorical\":1},\"default\":\"exponential\"},\"colorSpace\":{\"type\":\"enum\",\"values\":{\"rgb\":1,\"lab\":1,\"hcl\":1},\"default\":\"rgb\"},\"default\":{\"type\":\"*\",\"required\":false}},\"function_stop\":{\"type\":\"array\",\"minimum\":0,\"maximum\":24,\"value\":[\"number\",\"color\"],\"length\":2},\"expression\":{\"type\":\"array\",\"value\":\"*\",\"minimum\":1},\"fog\":{\"range\":{\"type\":\"array\",\"default\":[0.5,10],\"minimum\":-20,\"maximum\":20,\"length\":2,\"value\":\"number\",\"property-type\":\"data-constant\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"],\"relaxZoomRestriction\":true}},\"color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":\"#ffffff\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"],\"relaxZoomRestriction\":true},\"transition\":true},\"high-color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":\"#245cdf\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"],\"relaxZoomRestriction\":true},\"transition\":true},\"space-color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":[\"interpolate\",[\"linear\"],[\"zoom\"],4,\"#010b19\",7,\"#367ab9\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"],\"relaxZoomRestriction\":true},\"transition\":true},\"horizon-blend\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":[\"interpolate\",[\"linear\"],[\"zoom\"],4,0.2,7,0.1],\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"],\"relaxZoomRestriction\":true},\"transition\":true},\"star-intensity\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":[\"interpolate\",[\"linear\"],[\"zoom\"],5,0.35,6,0],\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"],\"relaxZoomRestriction\":true},\"transition\":true},\"vertical-range\":{\"type\":\"array\",\"default\":[0,0],\"minimum\":0,\"length\":2,\"value\":\"number\",\"property-type\":\"data-constant\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"],\"relaxZoomRestriction\":true}}},\"camera\":{\"camera-projection\":{\"type\":\"enum\",\"values\":{\"perspective\":1,\"orthographic\":1},\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"default\":\"perspective\",\"property-type\":\"data-constant\"}},\"light\":{\"anchor\":{\"type\":\"enum\",\"default\":\"viewport\",\"values\":{\"map\":1,\"viewport\":1},\"property-type\":\"data-constant\",\"expression\":{\"parameters\":[\"zoom\"]}},\"position\":{\"type\":\"array\",\"default\":[1.15,210,30],\"length\":3,\"value\":\"number\",\"property-type\":\"data-constant\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":\"#ffffff\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"intensity\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":0.5,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true}},\"projection\":{\"name\":{\"type\":\"enum\",\"values\":{\"albers\":1,\"equalEarth\":1,\"equirectangular\":1,\"lambertConformalConic\":1,\"mercator\":1,\"naturalEarth\":1,\"winkelTripel\":1,\"globe\":1},\"default\":\"mercator\",\"required\":true},\"center\":{\"type\":\"array\",\"length\":2,\"value\":\"number\",\"property-type\":\"data-constant\",\"minimum\":[-180,-90],\"maximum\":[180,90]},\"parallels\":{\"type\":\"array\",\"length\":2,\"value\":\"number\",\"property-type\":\"data-constant\",\"minimum\":[-90,-90],\"maximum\":[90,90]}},\"terrain\":{\"source\":{\"type\":\"string\",\"required\":true},\"exaggeration\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":1,\"minimum\":0,\"maximum\":1000,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true}},\"paint\":[\"paint_fill\",\"paint_line\",\"paint_circle\",\"paint_heatmap\",\"paint_fill-extrusion\",\"paint_symbol\",\"paint_raster\",\"paint_hillshade\",\"paint_background\",\"paint_sky\",\"paint_model\"],\"paint_fill\":{\"fill-antialias\":{\"type\":\"boolean\",\"default\":true,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"fill-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"fill-outline-color\":{\"type\":\"color\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"fill-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"map\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-pattern\":{\"type\":\"resolvedImage\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"fill-emissive-strength\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"}},\"paint_fill-extrusion\":{\"fill-extrusion-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-extrusion-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"fill-extrusion-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-extrusion-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"map\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-extrusion-pattern\":{\"type\":\"resolvedImage\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"fill-extrusion-height\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"fill-extrusion-base\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"fill-extrusion-vertical-gradient\":{\"type\":\"boolean\",\"default\":true,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-extrusion-ambient-occlusion-intensity\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"private\":true,\"default\":0,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"fill-extrusion-ambient-occlusion-radius\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"private\":true,\"default\":3,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"fill-extrusion-ambient-occlusion-wall-radius\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"default\":3,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"fill-extrusion-ambient-occlusion-ground-radius\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"default\":3,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"fill-extrusion-ambient-occlusion-ground-attenuation\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"default\":0.69,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"fill-extrusion-flood-light-color\":{\"property-type\":\"data-constant\",\"type\":\"color\",\"default\":\"#ffffff\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]}},\"fill-extrusion-flood-light-intensity\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"default\":0,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]}},\"fill-extrusion-flood-light-wall-radius\":{\"property-type\":\"data-driven\",\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\"]}},\"fill-extrusion-flood-light-ground-radius\":{\"property-type\":\"data-driven\",\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\"]}},\"fill-extrusion-flood-light-ground-attenuation\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"default\":0.69,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"fill-extrusion-vertical-scale\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"default\":1,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"fill-extrusion-rounded-roof\":{\"property-type\":\"data-constant\",\"type\":\"boolean\",\"default\":true,\"expression\":{\"parameters\":[\"zoom\"]}},\"fill-extrusion-cutoff-fade-range\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"maximum\":1,\"expression\":{},\"property-type\":\"data-constant\"}},\"paint_line\":{\"line-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"line-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"line-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"line-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"map\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"line-width\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"line-gap-width\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"line-offset\":{\"type\":\"number\",\"default\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"line-blur\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"line-dasharray\":{\"type\":\"array\",\"value\":\"number\",\"minimum\":0,\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"line-pattern\":{\"type\":\"resolvedImage\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"line-gradient\":{\"type\":\"color\",\"expression\":{\"interpolated\":true,\"parameters\":[\"line-progress\"]},\"property-type\":\"color-ramp\"},\"line-trim-offset\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"minimum\":[0,0],\"maximum\":[1,1],\"property-type\":\"constant\"},\"line-emissive-strength\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"},\"line-border-width\":{\"type\":\"number\",\"private\":true,\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"line-border-color\":{\"type\":\"color\",\"private\":true,\"default\":\"rgba(0, 0, 0, 0)\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"}},\"paint_circle\":{\"circle-radius\":{\"type\":\"number\",\"default\":5,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"circle-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"circle-blur\":{\"type\":\"number\",\"default\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"circle-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"circle-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"circle-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"map\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"circle-pitch-scale\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"map\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"circle-pitch-alignment\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"viewport\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"circle-stroke-width\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"circle-stroke-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"circle-stroke-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"circle-emissive-strength\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"}},\"paint_heatmap\":{\"heatmap-radius\":{\"type\":\"number\",\"default\":30,\"minimum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"heatmap-weight\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"heatmap-intensity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"heatmap-color\":{\"type\":\"color\",\"default\":[\"interpolate\",[\"linear\"],[\"heatmap-density\"],0,\"rgba(0, 0, 255, 0)\",0.1,\"royalblue\",0.3,\"cyan\",0.5,\"lime\",0.7,\"yellow\",1,\"red\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"heatmap-density\"]},\"property-type\":\"color-ramp\"},\"heatmap-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"}},\"paint_symbol\":{\"icon-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"icon-emissive-strength\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"text-emissive-strength\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"icon-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"icon-halo-color\":{\"type\":\"color\",\"default\":\"rgba(0, 0, 0, 0)\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"icon-halo-width\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"icon-halo-blur\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"icon-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"map\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-image-cross-fade\":{\"type\":\"number\",\"property-type\":\"data-driven\",\"default\":0,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"transition\":true},\"text-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"text-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"overridable\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"text-halo-color\":{\"type\":\"color\",\"default\":\"rgba(0, 0, 0, 0)\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"text-halo-width\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"text-halo-blur\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"text-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"map\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"}},\"paint_raster\":{\"raster-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-color\":{\"type\":\"color\",\"expression\":{\"interpolated\":true,\"parameters\":[\"raster-value\"]},\"property-type\":\"color-ramp\"},\"raster-color-mix\":{\"type\":\"array\",\"default\":[0.2126,0.7152,0.0722,0],\"length\":4,\"value\":\"number\",\"property-type\":\"data-constant\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"raster-color-range\":{\"type\":\"array\",\"default\":[0,1],\"length\":2,\"value\":\"number\",\"property-type\":\"data-constant\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"raster-hue-rotate\":{\"type\":\"number\",\"default\":0,\"period\":360,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-brightness-min\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-brightness-max\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-saturation\":{\"type\":\"number\",\"default\":0,\"minimum\":-1,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-contrast\":{\"type\":\"number\",\"default\":0,\"minimum\":-1,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-resampling\":{\"type\":\"enum\",\"values\":{\"linear\":1,\"nearest\":1},\"default\":\"linear\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-fade-duration\":{\"type\":\"number\",\"default\":300,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"}},\"paint_hillshade\":{\"hillshade-illumination-direction\":{\"type\":\"number\",\"default\":335,\"minimum\":0,\"maximum\":359,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"hillshade-illumination-anchor\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"viewport\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"hillshade-exaggeration\":{\"type\":\"number\",\"default\":0.5,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"hillshade-shadow-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"},\"hillshade-highlight-color\":{\"type\":\"color\",\"default\":\"#FFFFFF\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"},\"hillshade-accent-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"},\"hillshade-emissive-strength\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"}},\"paint_background\":{\"background-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"background-pattern\":{\"type\":\"resolvedImage\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"background-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"background-emissive-strength\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"}},\"paint_sky\":{\"sky-type\":{\"type\":\"enum\",\"values\":{\"gradient\":1,\"atmosphere\":1},\"default\":\"atmosphere\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"sky-atmosphere-sun\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"minimum\":[0,0],\"maximum\":[360,180],\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"sky-atmosphere-sun-intensity\":{\"type\":\"number\",\"default\":10,\"minimum\":0,\"maximum\":100,\"property-type\":\"data-constant\"},\"sky-gradient-center\":{\"type\":\"array\",\"value\":\"number\",\"default\":[0,0],\"length\":2,\"minimum\":[0,0],\"maximum\":[360,180],\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"sky-gradient-radius\":{\"type\":\"number\",\"default\":90,\"minimum\":0,\"maximum\":180,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"sky-gradient\":{\"type\":\"color\",\"default\":[\"interpolate\",[\"linear\"],[\"sky-radial-progress\"],0.8,\"#87ceeb\",1,\"white\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"sky-radial-progress\"]},\"property-type\":\"color-ramp\"},\"sky-atmosphere-halo-color\":{\"type\":\"color\",\"default\":\"white\",\"property-type\":\"data-constant\"},\"sky-atmosphere-color\":{\"type\":\"color\",\"default\":\"white\",\"property-type\":\"data-constant\"},\"sky-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"}},\"paint_model\":{\"model-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"model-rotation\":{\"type\":\"array\",\"value\":\"number\",\"length\":3,\"default\":[0,0,0],\"period\":360,\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\",\"zoom\"]},\"transition\":true},\"model-scale\":{\"type\":\"array\",\"value\":\"number\",\"length\":3,\"default\":[1,1,1],\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\",\"zoom\"]},\"transition\":true},\"model-translation\":{\"type\":\"array\",\"value\":\"number\",\"length\":3,\"default\":[0,0,0],\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\",\"zoom\"]},\"transition\":true},\"model-color\":{\"type\":\"color\",\"default\":\"#ffffff\",\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\",\"measure-light\",\"zoom\"]},\"transition\":true},\"model-color-mix-intensity\":{\"type\":\"number\",\"property-type\":\"data-driven\",\"default\":0,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\",\"measure-light\"]},\"transition\":true},\"model-type\":{\"type\":\"enum\",\"values\":{\"common-3d\":1,\"location-indicator\":1},\"default\":\"common-3d\",\"property-type\":\"data-constant\"},\"model-cast-shadows\":{\"type\":\"boolean\",\"default\":true,\"expression\":{},\"property-type\":\"data-constant\"},\"model-receive-shadows\":{\"type\":\"boolean\",\"default\":true,\"expression\":{},\"property-type\":\"data-constant\"},\"model-ambient-occlusion-intensity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\",\"transition\":true},\"model-emissive-strength\":{\"type\":\"number\",\"property-type\":\"data-driven\",\"default\":0,\"minimum\":0,\"maximum\":5,\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\",\"measure-light\"]},\"transition\":true},\"model-roughness\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\"]},\"transition\":true},\"model-height-based-emissive-strength-multiplier\":{\"type\":\"array\",\"default\":[1,1,1,1,0],\"length\":5,\"value\":\"number\",\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\",\"measure-light\"]},\"transition\":true},\"model-cutoff-fade-range\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"maximum\":1,\"expression\":{},\"property-type\":\"data-constant\"}},\"transition\":{\"duration\":{\"type\":\"number\",\"default\":300,\"minimum\":0},\"delay\":{\"type\":\"number\",\"default\":0,\"minimum\":0}},\"property-type\":{\"data-driven\":{\"type\":\"property-type\"},\"color-ramp\":{\"type\":\"property-type\"},\"data-constant\":{\"type\":\"property-type\"},\"constant\":{\"type\":\"property-type\"}},\"promoteId\":{\"*\":{\"type\":\"string\"}}}');class zt{constructor(e,t,i,r){this.message=(e?`${e}: `:\"\")+i,r&&(this.identifier=r),null!=t&&t.__line__&&(this.line=t.__line__);}}class Dt extends zt{}function Pt(e,...t){for(const i of t)for(const t in i)e[t]=i[t];return e}function Rt(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function Lt(e){if(Array.isArray(e))return e.map(Lt);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const i in e)t[i]=Lt(e[i]);return t}return Rt(e)}class kt extends Error{constructor(e,t){super(t),this.message=t,this.key=e;}}var Ot=kt;class Bt{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[e,i]of t)this.bindings[e]=i;}concat(e){return new Bt(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return !!this.bindings[e]||!!this.parent&&this.parent.has(e)}}var Ft=Bt;const Nt={kind:\"null\"},Ut={kind:\"number\"},Vt={kind:\"string\"},jt={kind:\"boolean\"},Gt={kind:\"color\"},qt={kind:\"object\"},Zt={kind:\"value\"},$t={kind:\"collator\"},Ht={kind:\"formatted\"},Wt={kind:\"resolvedImage\"};function Xt(e,t){return {kind:\"array\",itemType:e,N:t}}function Yt(e){if(\"array\"===e.kind){const t=Yt(e.itemType);return \"number\"==typeof e.N?`array<${t}, ${e.N}>`:\"value\"===e.itemType.kind?\"array\":`array<${t}>`}return e.kind}const Kt=[Nt,Ut,Vt,jt,Gt,Ht,qt,Xt(Zt),Wt];function Jt(e,t){if(\"error\"===t.kind)return null;if(\"array\"===e.kind){if(\"array\"===t.kind&&(0===t.N&&\"value\"===t.itemType.kind||!Jt(e.itemType,t.itemType))&&(\"number\"!=typeof e.N||e.N===t.N))return null}else {if(e.kind===t.kind)return null;if(\"value\"===e.kind)for(const e of Kt)if(!Jt(e,t))return null}return `Expected ${Yt(e)} but found ${Yt(t)} instead.`}function Qt(e,t){return t.some((t=>t.kind===e.kind))}function ei(e,t){return t.some((t=>\"null\"===t?null===e:\"array\"===t?Array.isArray(e):\"object\"===t?e&&!Array.isArray(e)&&\"object\"==typeof e:t===typeof e))}var ti,ii={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ri(e){return (e=Math.round(e))<0?0:e>255?255:e}function ni(e){return ri(\"%\"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function oi(e){return (t=\"%\"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t;}function si(e,t,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}try{ti={}.parseCSSColor=function(e){var t,i=e.replace(/ /g,\"\").toLowerCase();if(i in ii)return ii[i].slice();if(\"#\"===i[0])return 4===i.length?(t=parseInt(i.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===i.length&&(t=parseInt(i.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var r=i.indexOf(\"(\"),n=i.indexOf(\")\");if(-1!==r&&n+1===i.length){var o=i.substr(0,r),s=i.substr(r+1,n-(r+1)).split(\",\"),a=1;switch(o){case\"rgba\":if(4!==s.length)return null;a=oi(s.pop());case\"rgb\":return 3!==s.length?null:[ni(s[0]),ni(s[1]),ni(s[2]),a];case\"hsla\":if(4!==s.length)return null;a=oi(s.pop());case\"hsl\":if(3!==s.length)return null;var l=(parseFloat(s[0])%360+360)%360/360,c=oi(s[1]),h=oi(s[2]),u=h<=.5?h*(c+1):h+c-h*c,d=2*h-u;return [ri(255*si(d,u,l+1/3)),ri(255*si(d,u,l)),ri(255*si(d,u,l-1/3)),a];default:return null}}return null};}catch(e){}class ai{constructor(e,t,i,r=1){this.r=e,this.g=t,this.b=i,this.a=r;}static parse(e){if(!e)return;if(e instanceof ai)return e;if(\"string\"!=typeof e)return;const t=ti(e);return t?new ai(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3]):void 0}toString(){const[e,t,i,r]=this.toArray();return `rgba(${Math.round(e)},${Math.round(t)},${Math.round(i)},${r})`}toArray(){const{r:e,g:t,b:i,a:r}=this;return 0===r?[0,0,0,0]:[255*e/r,255*t/r,255*i/r,r]}toArray01(){const{r:e,g:t,b:i,a:r}=this;return 0===r?[0,0,0,0]:[e/r,t/r,i/r,r]}toArray01Scaled(e){const{r:t,g:i,b:r,a:n}=this;return 0===n?[0,0,0]:[t/n*e,i/n*e,r/n*e]}toArray01PremultipliedAlpha(){const{r:e,g:t,b:i,a:r}=this;return [e,t,i,r]}toArray01Linear(){const{r:e,g:t,b:i,a:r}=this;return 0===r?[0,0,0,0]:[Math.pow(e/r,2.2),Math.pow(t/r,2.2),Math.pow(i/r,2.2),r]}}ai.black=new ai(0,0,0,1),ai.white=new ai(1,1,1,1),ai.transparent=new ai(0,0,0,0),ai.red=new ai(1,0,0,1),ai.blue=new ai(0,0,1,1);var li=ai;class ci{constructor(e,t,i){this.sensitivity=e?t?\"variant\":\"case\":t?\"accent\":\"base\",this.locale=i,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:\"search\"});}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class hi{constructor(e,t,i,r,n){this.text=e.normalize?e.normalize():e,this.image=t,this.scale=i,this.fontStack=r,this.textColor=n;}}class ui{constructor(e){this.sections=e;}static fromString(e){return new ui([new hi(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some((e=>0!==e.text.length||e.image&&0!==e.image.namePrimary.length))}static factory(e){return e instanceof ui?e:ui.fromString(e)}toString(){return 0===this.sections.length?\"\":this.sections.map((e=>e.text)).join(\"\")}serialize(){const e=[\"format\"];for(const t of this.sections){if(t.image){e.push([\"image\",t.image.namePrimary]);continue}e.push(t.text);const i={};t.fontStack&&(i[\"text-font\"]=[\"literal\",t.fontStack.split(\",\")]),t.scale&&(i[\"font-scale\"]=t.scale),t.textColor&&(i[\"text-color\"]=[\"rgba\"].concat(t.textColor.toArray())),e.push(i);}return e}}class di{constructor(e){this.namePrimary=e.namePrimary,e.nameSecondary&&(this.nameSecondary=e.nameSecondary),this.available=e.available;}toString(){return this.nameSecondary?`[${this.namePrimary},${this.nameSecondary}]`:this.namePrimary}static fromString(e,t){return e?new di({namePrimary:e,nameSecondary:t,available:!1}):null}serialize(){return this.nameSecondary?[\"image\",this.namePrimary,this.nameSecondary]:[\"image\",this.namePrimary]}}function pi(e,t,i,r){return \"number\"==typeof e&&e>=0&&e<=255&&\"number\"==typeof t&&t>=0&&t<=255&&\"number\"==typeof i&&i>=0&&i<=255?void 0===r||\"number\"==typeof r&&r>=0&&r<=1?null:`Invalid rgba value [${[e,t,i,r].join(\", \")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(\"number\"==typeof r?[e,t,i,r]:[e,t,i]).join(\", \")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function fi(e){if(null===e)return !0;if(\"string\"==typeof e)return !0;if(\"boolean\"==typeof e)return !0;if(\"number\"==typeof e)return !0;if(e instanceof li)return !0;if(e instanceof ci)return !0;if(e instanceof ui)return !0;if(e instanceof di)return !0;if(Array.isArray(e)){for(const t of e)if(!fi(t))return !1;return !0}if(\"object\"==typeof e){for(const t in e)if(!fi(e[t]))return !1;return !0}return !1}function mi(e){if(null===e)return Nt;if(\"string\"==typeof e)return Vt;if(\"boolean\"==typeof e)return jt;if(\"number\"==typeof e)return Ut;if(e instanceof li)return Gt;if(e instanceof ci)return $t;if(e instanceof ui)return Ht;if(e instanceof di)return Wt;if(Array.isArray(e)){const t=e.length;let i;for(const t of e){const e=mi(t);if(i){if(i===e)continue;i=Zt;break}i=e;}return Xt(i||Zt,t)}return qt}function _i(e){const t=typeof e;return null===e?\"\":\"string\"===t||\"number\"===t||\"boolean\"===t?String(e):e instanceof li||e instanceof ui||e instanceof di?e.toString():JSON.stringify(e)}class gi{constructor(e,t){this.type=e,this.value=t;}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!fi(e[1]))return t.error(\"invalid value\");const i=e[1];let r=mi(i);const n=t.expectedType;return \"array\"!==r.kind||0!==r.N||!n||\"array\"!==n.kind||\"number\"==typeof n.N&&0!==n.N||(r=n),new gi(r,i)}evaluate(){return this.value}eachChild(){}outputDefined(){return !0}serialize(){return \"array\"===this.type.kind||\"object\"===this.type.kind?[\"literal\",this.value]:this.value instanceof li?[\"rgba\"].concat(this.value.toArray()):this.value instanceof ui?this.value.serialize():this.value}}var yi=gi,xi=class{constructor(e){this.name=\"ExpressionEvaluationError\",this.message=e;}toJSON(){return this.message}};const vi={string:Vt,number:Ut,boolean:jt,object:qt};class bi{constructor(e,t){this.type=e,this.args=t;}static parse(e,t){if(e.length<2)return t.error(\"Expected at least one argument.\");let i,r=1;const n=e[0];if(\"array\"===n){let n,o;if(e.length>2){const i=e[1];if(\"string\"!=typeof i||!(i in vi)||\"object\"===i)return t.error('The item type argument of \"array\" must be one of string, number, boolean',1);n=vi[i],r++;}else n=Zt;if(e.length>3){if(null!==e[2]&&(\"number\"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to \"array\" must be a positive integer literal',2);o=e[2],r++;}i=Xt(n,o);}else i=vi[n];const o=[];for(;r<e.length;r++){const i=t.parse(e[r],r,Zt);if(!i)return null;o.push(i);}return new bi(i,o)}evaluate(e){for(let t=0;t<this.args.length;t++){const i=this.args[t].evaluate(e);if(!Jt(this.type,mi(i)))return i;if(t===this.args.length-1)throw new xi(`Expected value to be of type ${Yt(this.type)}, but found ${Yt(mi(i))} instead.`)}return null}eachChild(e){this.args.forEach(e);}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){const e=this.type,t=[e.kind];if(\"array\"===e.kind){const i=e.itemType;if(\"string\"===i.kind||\"number\"===i.kind||\"boolean\"===i.kind){t.push(i.kind);const r=e.N;(\"number\"==typeof r||this.args.length>1)&&t.push(r);}}return t.concat(this.args.map((e=>e.serialize())))}}var wi=bi;class Ti{constructor(e){this.type=Ht,this.sections=e;}static parse(e,t){if(e.length<2)return t.error(\"Expected at least one argument.\");const i=e[1];if(!Array.isArray(i)&&\"object\"==typeof i)return t.error(\"First argument must be an image or text section.\");const r=[];let n=!1;for(let i=1;i<=e.length-1;++i){const o=e[i];if(n&&\"object\"==typeof o&&!Array.isArray(o)){n=!1;let e=null;if(o[\"font-scale\"]&&(e=t.parse(o[\"font-scale\"],1,Ut),!e))return null;let i=null;if(o[\"text-font\"]&&(i=t.parse(o[\"text-font\"],1,Xt(Vt)),!i))return null;let s=null;if(o[\"text-color\"]&&(s=t.parse(o[\"text-color\"],1,Gt),!s))return null;const a=r[r.length-1];a.scale=e,a.font=i,a.textColor=s;}else {const o=t.parse(e[i],1,Zt);if(!o)return null;const s=o.type.kind;if(\"string\"!==s&&\"value\"!==s&&\"null\"!==s&&\"resolvedImage\"!==s)return t.error(\"Formatted text type must be 'string', 'value', 'image' or 'null'.\");n=!0,r.push({content:o,scale:null,font:null,textColor:null});}}return new Ti(r)}evaluate(e){return new ui(this.sections.map((t=>{const i=t.content.evaluate(e);return mi(i)===Wt?new hi(\"\",i,null,null,null):new hi(_i(i),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(\",\"):null,t.textColor?t.textColor.evaluate(e):null)})))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor);}outputDefined(){return !1}serialize(){const e=[\"format\"];for(const t of this.sections){e.push(t.content.serialize());const i={};t.scale&&(i[\"font-scale\"]=t.scale.serialize()),t.font&&(i[\"text-font\"]=t.font.serialize()),t.textColor&&(i[\"text-color\"]=t.textColor.serialize()),e.push(i);}return e}}class Ei{constructor(e,t){this.type=Wt,this.inputPrimary=e,this.inputSecondary=t;}static parse(e,t){if(e.length<2)return t.error(\"Expected two or more arguments.\");const i=t.parse(e[1],1,Vt);if(!i)return t.error(\"No image name provided.\");if(2===e.length)return new Ei(i);const r=t.parse(e[2],1,Vt);return r?new Ei(i,r):t.error(\"Secondary image variant is not a string.\")}evaluate(e){const t=di.fromString(this.inputPrimary.evaluate(e),this.inputSecondary?this.inputSecondary.evaluate(e):void 0);return t&&e.availableImages&&(t.available=e.availableImages.indexOf(t.namePrimary)>-1,t.nameSecondary&&t.available&&e.availableImages&&(t.available=e.availableImages.indexOf(t.nameSecondary)>-1)),t}eachChild(e){e(this.inputPrimary),this.inputSecondary&&e(this.inputSecondary);}outputDefined(){return !1}serialize(){return this.inputSecondary?[\"image\",this.inputPrimary.serialize(),this.inputSecondary.serialize()]:[\"image\",this.inputPrimary.serialize()]}}function Mi(e){return e instanceof Number?\"number\":e instanceof String?\"string\":e instanceof Boolean?\"boolean\":Array.isArray(e)?\"array\":null===e?\"null\":typeof e}const Ai={\"to-boolean\":jt,\"to-color\":Gt,\"to-number\":Ut,\"to-string\":Vt};class Si{constructor(e,t){this.type=e,this.args=t;}static parse(e,t){if(e.length<2)return t.error(\"Expected at least one argument.\");const i=e[0],r=[];let n=Nt;if(\"to-array\"===i){if(!Array.isArray(e[1]))return null;const i=e[1].length;if(t.expectedType){if(\"array\"!==t.expectedType.kind)return t.error(`Expected ${t.expectedType.kind} but found array.`);n=Xt(t.expectedType.itemType,i);}else {if(!(i>0&&fi(e[1][0])))return null;n=Xt(mi(e[1][0]),i);}for(let o=0;o<i;o++){const i=e[1][o];let s;if(\"array\"===Mi(i))s=t.parse(i,void 0,n.itemType);else {const e=Mi(i);if(e!==n.itemType.kind)return t.error(`Expected ${n.itemType.kind} but found ${e}.`);s=t.registry.literal.parse([\"literal\",void 0===i?null:i],t);}if(!s)return null;r.push(s);}}else {if((\"to-boolean\"===i||\"to-string\"===i)&&2!==e.length)return t.error(\"Expected one argument.\");n=Ai[i];for(let i=1;i<e.length;i++){const n=t.parse(e[i],i,Zt);if(!n)return null;r.push(n);}}return new Si(n,r)}evaluate(e){if(\"boolean\"===this.type.kind)return Boolean(this.args[0].evaluate(e));if(\"color\"===this.type.kind){let t,i;for(const r of this.args){if(t=r.evaluate(e),i=null,t instanceof li)return t;if(\"string\"==typeof t){const i=e.parseColor(t);if(i)return i}else if(Array.isArray(t)&&(i=t.length<3||t.length>4?`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:pi(t[0],t[1],t[2],t[3]),!i))return new li(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new xi(i||`Could not parse color from value '${\"string\"==typeof t?t:String(JSON.stringify(t))}'`)}if(\"number\"===this.type.kind){let t=null;for(const i of this.args){if(t=i.evaluate(e),null===t)return 0;const r=Number(t);if(!isNaN(r))return r}throw new xi(`Could not convert ${JSON.stringify(t)} to number.`)}return \"formatted\"===this.type.kind?ui.fromString(_i(this.args[0].evaluate(e))):\"resolvedImage\"===this.type.kind?di.fromString(_i(this.args[0].evaluate(e))):\"array\"===this.type.kind?this.args.map((t=>t.evaluate(e))):_i(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e);}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){if(\"formatted\"===this.type.kind)return new Ti([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(\"resolvedImage\"===this.type.kind)return new Ei(this.args[0]).serialize();const e=\"array\"===this.type.kind?[]:[`to-${this.type.kind}`];return this.eachChild((t=>{e.push(t.serialize());})),e}}var Ii=Si;const Ci=[\"Unknown\",\"Point\",\"LineString\",\"Polygon\"];var zi=class{constructor(e){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null,this.options=e;}id(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}geometryType(){return this.feature?\"number\"==typeof this.feature.type?Ci[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&\"geometry\"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}measureLight(e){return this.globals.brightness||0}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const e=this.featureDistanceData.center,t=this.featureDistanceData.scale,{x:i,y:r}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(i*t-e[0])+this.featureDistanceData.bearing[1]*(r*t-e[1])}return 0}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=li.parse(e)),t}getConfig(e){return this.options?this.options.get(e):null}};class Di{constructor(e,t,i,r){this.name=e,this.type=t,this._evaluate=i,this.args=r;}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e);}outputDefined(){return !1}serialize(){return [this.name].concat(this.args.map((e=>e.serialize())))}static parse(e,t){const i=e[0],r=Di.definitions[i];if(!r)return t.error(`Unknown expression \"${i}\". If you wanted a literal array, use [\"literal\", [...]].`,0);const n=Array.isArray(r)?r[0]:r.type,o=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,s=o.filter((([t])=>!Array.isArray(t)||t.length===e.length-1));let a=null;for(const[r,o]of s){a=new Gr(t.registry,t.path,null,t.scope,void 0,t.options);const s=[];let l=!1;for(let t=1;t<e.length;t++){const i=e[t],n=Array.isArray(r)?r[t-1]:r.type,o=a.parse(i,1+s.length,n);if(!o){l=!0;break}s.push(o);}if(!l)if(Array.isArray(r)&&r.length!==s.length)a.error(`Expected ${r.length} arguments, but found ${s.length} instead.`);else {for(let e=0;e<s.length;e++){const t=Array.isArray(r)?r[e]:r.type,i=s[e];a.concat(e+1).checkSubtype(t,i.type);}if(0===a.errors.length)return new Di(i,n,o,s)}}if(1===s.length)t.errors.push(...a.errors);else {const i=(s.length?s:o).map((([e])=>{return t=e,Array.isArray(t)?`(${t.map(Yt).join(\", \")})`:`(${Yt(t.type)}...)`;var t;})).join(\" | \"),r=[];for(let i=1;i<e.length;i++){const n=t.parse(e[i],1+r.length);if(!n)return null;r.push(Yt(n.type));}t.error(`Expected arguments of type ${i}, but found (${r.join(\", \")}) instead.`);}return null}static register(e,t){Di.definitions=t;for(const i in t)e[i]=Di;}}var Pi=Di;class Ri{constructor(e,t,i){this.type=$t,this.locale=i,this.caseSensitive=e,this.diacriticSensitive=t;}static parse(e,t){if(2!==e.length)return t.error(\"Expected one argument.\");const i=e[1];if(\"object\"!=typeof i||Array.isArray(i))return t.error(\"Collator options argument must be an object.\");const r=t.parse(void 0!==i[\"case-sensitive\"]&&i[\"case-sensitive\"],1,jt);if(!r)return null;const n=t.parse(void 0!==i[\"diacritic-sensitive\"]&&i[\"diacritic-sensitive\"],1,jt);if(!n)return null;let o=null;return i.locale&&(o=t.parse(i.locale,1,Vt),!o)?null:new Ri(r,n,o)}evaluate(e){return new ci(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale);}outputDefined(){return !1}serialize(){const e={};return e[\"case-sensitive\"]=this.caseSensitive.serialize(),e[\"diacritic-sensitive\"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),[\"collator\",e]}}var Li={exports:{}};Li.exports=function(){function e(i,r,n,o,s){for(;o>n;){if(o-n>600){var a=o-n+1,l=r-n+1,c=Math.log(a),h=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*h*(a-h)/a)*(l-a/2<0?-1:1);e(i,r,Math.max(n,Math.floor(r-l*h/a+u)),Math.min(o,Math.floor(r+(a-l)*h/a+u)),s);}var d=i[r],p=n,f=o;for(t(i,n,r),s(i[o],d)>0&&t(i,n,o);p<f;){for(t(i,p,f),p++,f--;s(i[p],d)<0;)p++;for(;s(i[f],d)>0;)f--;}0===s(i[n],d)?t(i,n,f):t(i,++f,o),f<=r&&(n=f+1),r<=f&&(o=f-1);}}function t(e,t,i){var r=e[t];e[t]=e[i],e[i]=r;}function i(e,t){return e<t?-1:e>t?1:0}return function(t,r,n,o,s){e(t,r,n||0,o||t.length-1,s||i);}}();var ki=d(Li.exports);function Oi(e){let t=0;for(let i,r,n=0,o=e.length,s=o-1;n<o;s=n++)i=e[n],r=e[s],t+=(r.x-i.x)*(i.y+r.y);return t}function Bi(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1]);}function Fi(e,t){return !(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function Ni(e,t,i){const r=e[0]-t[0],n=e[1]-t[1],o=e[0]-i[0],s=e[1]-i[1];return r*s-o*n==0&&r*o<=0&&n*s<=0}function Ui(e,t,i=!1){let r=!1;for(let a=0,l=t.length;a<l;a++){const l=t[a];for(let t=0,a=l.length,c=a-1;t<a;c=t++){const a=l[c],h=l[t];if(Ni(e,a,h))return i;(o=a)[1]>(n=e)[1]!=(s=h)[1]>n[1]&&n[0]<(s[0]-o[0])*(n[1]-o[1])/(s[1]-o[1])+o[0]&&(r=!r);}}var n,o,s;return r}function Vi(e,t,i,r){const n=r[0]-i[0],o=r[1]-i[1],s=(e[0]-i[0])*o-n*(e[1]-i[1]),a=(t[0]-i[0])*o-n*(t[1]-i[1]);return s>0&&a<0||s<0&&a>0}function ji(e,t,i,r){return 0!=(n=[r[0]-i[0],r[1]-i[1]])[0]*(o=[t[0]-e[0],t[1]-e[1]])[1]-n[1]*o[0]&&!(!Vi(e,t,i,r)||!Vi(i,r,e,t));var n,o;}const Gi=8192;function qi(e,t){const i=(180+e[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,n=Math.pow(2,t.z);return [Math.round(i*n*Gi),Math.round(r*n*Gi)]}function Zi(e,t){for(let i=0;i<t.length;i++)if(Ui(e,t[i]))return !0;return !1}function $i(e,t,i){for(const r of i)for(let i=0,n=r.length,o=n-1;i<n;o=i++)if(ji(e,t,r[o],r[i]))return !0;return !1}function Hi(e,t){for(let i=0;i<e.length;++i)if(!Ui(e[i],t))return !1;for(let i=0;i<e.length-1;++i)if($i(e[i],e[i+1],t))return !1;return !0}function Wi(e,t){for(let i=0;i<t.length;i++)if(Hi(e,t[i]))return !0;return !1}function Xi(e,t,i){const r=[];for(let n=0;n<e.length;n++){const o=[];for(let r=0;r<e[n].length;r++){const s=qi(e[n][r],i);Bi(t,s),o.push(s);}r.push(o);}return r}function Yi(e,t,i){const r=[];for(let n=0;n<e.length;n++){const o=Xi(e[n],t,i);r.push(o);}return r}function Ki(e,t,i,r){if(e[0]<i[0]||e[0]>i[2]){const t=.5*r;let n=e[0]-i[0]>t?-r:i[0]-e[0]>t?r:0;0===n&&(n=e[0]-i[2]>t?-r:i[2]-e[0]>t?r:0),e[0]+=n;}Bi(t,e);}function Ji(e,t,i,r){const n=Math.pow(2,r.z)*Gi,o=[r.x*Gi,r.y*Gi],s=[];if(!e)return s;for(const r of e)for(const e of r){const r=[e.x+o[0],e.y+o[1]];Ki(r,t,i,n),s.push(r);}return s}function Qi(e,t,i,r){const n=Math.pow(2,r.z)*Gi,o=[r.x*Gi,r.y*Gi],s=[];if(!e)return s;for(const i of e){const e=[];for(const r of i){const i=[r.x+o[0],r.y+o[1]];Bi(t,i),e.push(i);}s.push(e);}if(t[2]-t[0]<=n/2){(a=t)[0]=a[1]=1/0,a[2]=a[3]=-1/0;for(const e of s)for(const r of e)Ki(r,t,i,n);}var a;return s}class er{constructor(e,t){this.type=jt,this.geojson=e,this.geometries=t;}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(fi(e[1])){const t=e[1];if(\"FeatureCollection\"===t.type)for(let e=0;e<t.features.length;++e){const i=t.features[e].geometry.type;if(\"Polygon\"===i||\"MultiPolygon\"===i)return new er(t,t.features[e].geometry)}else if(\"Feature\"===t.type){const e=t.geometry.type;if(\"Polygon\"===e||\"MultiPolygon\"===e)return new er(t,t.geometry)}else if(\"Polygon\"===t.type||\"MultiPolygon\"===t.type)return new er(t,t)}return t.error(\"'within' expression requires valid geojson object that contains polygon geometry type.\")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if(\"Point\"===e.geometryType())return function(e,t){const i=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],n=e.canonicalID();if(!n)return !1;if(\"Polygon\"===t.type){const o=Xi(t.coordinates,r,n),s=Ji(e.geometry(),i,r,n);if(!Fi(i,r))return !1;for(const e of s)if(!Ui(e,o))return !1}if(\"MultiPolygon\"===t.type){const o=Yi(t.coordinates,r,n),s=Ji(e.geometry(),i,r,n);if(!Fi(i,r))return !1;for(const e of s)if(!Zi(e,o))return !1}return !0}(e,this.geometries);if(\"LineString\"===e.geometryType())return function(e,t){const i=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],n=e.canonicalID();if(!n)return !1;if(\"Polygon\"===t.type){const o=Xi(t.coordinates,r,n),s=Qi(e.geometry(),i,r,n);if(!Fi(i,r))return !1;for(const e of s)if(!Hi(e,o))return !1}if(\"MultiPolygon\"===t.type){const o=Yi(t.coordinates,r,n),s=Qi(e.geometry(),i,r,n);if(!Fi(i,r))return !1;for(const e of s)if(!Wi(e,o))return !1}return !0}(e,this.geometries)}return !1}eachChild(){}outputDefined(){return !0}serialize(){return [\"within\",this.geojson]}}var tr=er,ir={exports:{}};ir.exports=function(){var e={kilometers:1,miles:1e3/1609.344,nauticalmiles:1e3/1852,meters:1e3,metres:1e3,yards:1e3/.9144,feet:1e3/.3048,inches:1e3/.0254},t=1/298.257223563,i=t*(2-t),r=Math.PI/180,n=function(t,n){if(void 0===t)throw new Error(\"No latitude given.\");if(n&&!e[n])throw new Error(\"Unknown unit \"+n+\". Use one of: \"+Object.keys(e).join(\", \"));var o=6378.137*r*(n?e[n]:1),s=Math.cos(t*r),a=1/(1-i*(1-s*s)),l=Math.sqrt(a);this.kx=o*l*s,this.ky=o*l*a*(1-i);},o={units:{configurable:!0}};function s(e,t){return e[0]===t[0]&&e[1]===t[1]}function a(e,t,i){var r=l(t[0]-e[0]);return [e[0]+r*i,e[1]+(t[1]-e[1])*i]}function l(e){for(;e<-180;)e+=360;for(;e>180;)e-=360;return e}return n.fromTile=function(e,t,i){var o=Math.PI*(1-2*(e+.5)/Math.pow(2,t)),s=Math.atan(.5*(Math.exp(o)-Math.exp(-o)))/r;return new n(s,i)},o.units.get=function(){return e},n.prototype.distance=function(e,t){var i=l(e[0]-t[0])*this.kx,r=(e[1]-t[1])*this.ky;return Math.sqrt(i*i+r*r)},n.prototype.bearing=function(e,t){var i=l(t[0]-e[0])*this.kx;return Math.atan2(i,(t[1]-e[1])*this.ky)/r},n.prototype.destination=function(e,t,i){var n=i*r;return this.offset(e,Math.sin(n)*t,Math.cos(n)*t)},n.prototype.offset=function(e,t,i){return [e[0]+t/this.kx,e[1]+i/this.ky]},n.prototype.lineDistance=function(e){for(var t=0,i=0;i<e.length-1;i++)t+=this.distance(e[i],e[i+1]);return t},n.prototype.area=function(e){for(var t=0,i=0;i<e.length;i++)for(var r=e[i],n=0,o=r.length,s=o-1;n<o;s=n++)t+=l(r[n][0]-r[s][0])*(r[n][1]+r[s][1])*(i?-1:1);return Math.abs(t)/2*this.kx*this.ky},n.prototype.along=function(e,t){var i=0;if(t<=0)return e[0];for(var r=0;r<e.length-1;r++){var n=e[r],o=e[r+1],s=this.distance(n,o);if((i+=s)>t)return a(n,o,(t-(i-s))/s)}return e[e.length-1]},n.prototype.pointToSegmentDistance=function(e,t,i){var r=t[0],n=t[1],o=l(i[0]-r)*this.kx,s=(i[1]-n)*this.ky,a=0;return 0===o&&0===s||((a=(l(e[0]-r)*this.kx*o+(e[1]-n)*this.ky*s)/(o*o+s*s))>1?(r=i[0],n=i[1]):a>0&&(r+=o/this.kx*a,n+=s/this.ky*a)),o=l(e[0]-r)*this.kx,s=(e[1]-n)*this.ky,Math.sqrt(o*o+s*s)},n.prototype.pointOnLine=function(e,t){for(var i,r,n,o,s=1/0,a=0;a<e.length-1;a++){var c=e[a][0],h=e[a][1],u=l(e[a+1][0]-c)*this.kx,d=(e[a+1][1]-h)*this.ky,p=0;0===u&&0===d||((p=(l(t[0]-c)*this.kx*u+(t[1]-h)*this.ky*d)/(u*u+d*d))>1?(c=e[a+1][0],h=e[a+1][1]):p>0&&(c+=u/this.kx*p,h+=d/this.ky*p));var f=(u=l(t[0]-c)*this.kx)*u+(d=(t[1]-h)*this.ky)*d;f<s&&(s=f,i=c,r=h,n=a,o=p);}return {point:[i,r],index:n,t:Math.max(0,Math.min(1,o))}},n.prototype.lineSlice=function(e,t,i){var r=this.pointOnLine(i,e),n=this.pointOnLine(i,t);if(r.index>n.index||r.index===n.index&&r.t>n.t){var o=r;r=n,n=o;}var a=[r.point],l=r.index+1,c=n.index;!s(i[l],a[0])&&l<=c&&a.push(i[l]);for(var h=l+1;h<=c;h++)a.push(i[h]);return s(i[c],n.point)||a.push(n.point),a},n.prototype.lineSliceAlong=function(e,t,i){for(var r=0,n=[],o=0;o<i.length-1;o++){var s=i[o],l=i[o+1],c=this.distance(s,l);if((r+=c)>e&&0===n.length&&n.push(a(s,l,(e-(r-c))/c)),r>=t)return n.push(a(s,l,(t-(r-c))/c)),n;r>e&&n.push(l);}return n},n.prototype.bufferPoint=function(e,t){var i=t/this.ky,r=t/this.kx;return [e[0]-r,e[1]-i,e[0]+r,e[1]+i]},n.prototype.bufferBBox=function(e,t){var i=t/this.ky,r=t/this.kx;return [e[0]-r,e[1]-i,e[2]+r,e[3]+i]},n.prototype.insideBBox=function(e,t){return l(e[0]-t[0])>=0&&l(e[0]-t[2])<=0&&e[1]>=t[1]&&e[1]<=t[3]},Object.defineProperties(n,o),n}();var rr=d(ir.exports),nr={exports:{}};nr.exports=function(){var e=function(e,i){if(void 0===e&&(e=[]),void 0===i&&(i=t),this.data=e,this.length=this.data.length,this.compare=i,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r);};function t(e,t){return e<t?-1:e>t?1:0}return e.prototype.push=function(e){this.data.push(e),this.length++,this._up(this.length-1);},e.prototype.pop=function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}},e.prototype.peek=function(){return this.data[0]},e.prototype._up=function(e){for(var t=this.data,i=this.compare,r=t[e];e>0;){var n=e-1>>1,o=t[n];if(i(r,o)>=0)break;t[e]=o,e=n;}t[e]=r;},e.prototype._down=function(e){for(var t=this.data,i=this.compare,r=this.length>>1,n=t[e];e<r;){var o=1+(e<<1),s=t[o],a=o+1;if(a<this.length&&i(t[a],s)<0&&(o=a,s=t[a]),i(s,n)>=0)break;t[e]=s,e=o;}t[e]=n;},e}();var or=d(nr.exports),sr=8192;function ar(e,t){return t.dist-e.dist}const lr=100,cr=50;function hr(e){const t=[1/0,1/0,-1/0,-1/0];if(t.length!==e.length)return !1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return !1;return !0}function ur(e){return e[1]-e[0]+1}function dr(e,t){const i=e[1]>=e[0]&&e[1]<t;return i||console.warn(\"Distance Expression: Index is out of range\"),i}function pr(e,t){if(e[0]>e[1])return [null,null];const i=ur(e);if(t){if(2===i)return [e,null];const t=Math.floor(i/2);return [[e[0],e[0]+t],[e[0]+t,e[1]]]}{if(1===i)return [e,null];const t=Math.floor(i/2)-1;return [[e[0],e[0]+t],[e[0]+t+1,e[1]]]}}function fr(e,t){const i=[1/0,1/0,-1/0,-1/0];if(!dr(t,e.length))return i;for(let r=t[0];r<=t[1];++r)Bi(i,e[r]);return i}function mr(e){const t=[1/0,1/0,-1/0,-1/0];for(let i=0;i<e.length;++i)for(let r=0;r<e[i].length;++r)Bi(t,e[i][r]);return t}function _r(e,t,i){if(hr(e)||hr(t))return NaN;let r=0,n=0;return e[2]<t[0]&&(r=t[0]-e[2]),e[0]>t[2]&&(r=e[0]-t[2]),e[1]>t[3]&&(n=e[1]-t[3]),e[3]<t[1]&&(n=t[1]-e[3]),i.distance([0,0],[r,n])}function gr(e,t){const i=Math.pow(2,t.z);return [(n=(e.x/sr+t.x)/i,360*n-180),(r=(e.y/sr+t.y)/i,360/Math.PI*Math.atan(Math.exp((180-360*r)*Math.PI/180))-90)];var r,n;}function yr(e,t){const i=[];for(let r=0;r<e.length;++r)i.push(gr(e[r],t));return i}function xr(e,t,i){const r=i.pointOnLine(t,e).point;return i.distance(e,r)}function vr(e,t,i,r,n){const o=i.slice(r[0],r[1]+1);let s=1/0;for(let i=t[0];i<=t[1];++i)if(0===(s=Math.min(s,xr(e[i],o,n))))return 0;return s}function br(e,t,i,r,n){const o=Math.min(n.pointToSegmentDistance(e,i,r),n.pointToSegmentDistance(t,i,r)),s=Math.min(n.pointToSegmentDistance(i,e,t),n.pointToSegmentDistance(r,e,t));return Math.min(o,s)}function wr(e,t,i,r,n){if(!dr(t,e.length)||!dr(r,i.length))return NaN;let o=1/0;for(let s=t[0];s<t[1];++s)for(let t=r[0];t<r[1];++t){if(ji(e[s],e[s+1],i[t],i[t+1]))return 0;o=Math.min(o,br(e[s],e[s+1],i[t],i[t+1],n));}return o}function Tr(e,t,i,r,n){if(!dr(t,e.length)||!dr(r,i.length))return NaN;let o=1/0;for(let s=t[0];s<=t[1];++s)for(let t=r[0];t<=r[1];++t)if(0===(o=Math.min(o,n.distance(e[s],i[t]))))return o;return o}function Er(e,t,i){if(Ui(e,t,!0))return 0;let r=1/0;for(const n of t){const t=n.length;if(t<2)return console.warn(\"Distance Expression: Invalid polygon!\"),NaN;if(n[0]!==n[t-1]&&0===(r=Math.min(r,i.pointToSegmentDistance(e,n[t-1],n[0]))))return r;if(0===(r=Math.min(r,xr(e,n,i))))return r}return r}function Mr(e,t,i,r){if(!dr(t,e.length))return NaN;for(let r=t[0];r<=t[1];++r)if(Ui(e[r],i,!0))return 0;let n=1/0;for(let o=t[0];o<t[1];++o)for(const t of i)for(let i=0,s=t.length,a=s-1;i<s;a=i++){if(ji(e[o],e[o+1],t[a],t[i]))return 0;n=Math.min(n,br(e[o],e[o+1],t[a],t[i],r));}return n}function Ar(e,t){for(const i of e)for(let e=0;e<=i.length-1;++e)if(Ui(i[e],t,!0))return !0;return !1}function Sr(e,t,i,r=1/0){const n=mr(e),o=mr(t);if(r!==1/0&&_r(n,o,i)>=r)return r;if(Fi(n,o)){if(Ar(e,t))return 0}else if(Ar(t,e))return 0;let s=r;for(const r of e)for(let e=0,n=r.length,o=n-1;e<n;o=e++)for(const n of t)for(let t=0,a=n.length,l=a-1;t<a;l=t++){if(ji(r[o],r[e],n[l],n[t]))return 0;s=Math.min(s,br(r[o],r[e],n[l],n[t],i));}return s}function Ir(e,t,i,r,n,o,s){if(null===o||null===s)return;const a=_r(fr(r,o),fr(n,s),i);a<t&&e.push({dist:a,range1:o,range2:s});}function Cr(e,t,i,r,n=1/0){let o=Math.min(r.distance(e[0],i[0][0]),n);if(0===o)return o;const s=new or([{dist:0,range1:[0,e.length-1],range2:[0,0]}],ar),a=t?cr:lr,l=mr(i);for(;s.length;){const n=s.pop();if(n.dist>=o)continue;const c=n.range1;if(ur(c)<=a){if(!dr(c,e.length))return NaN;if(t){const t=Mr(e,c,i,r);if(0===(o=Math.min(o,t)))return o}else for(let t=c[0];t<=c[1];++t){const n=Er(e[t],i,r);if(0===(o=Math.min(o,n)))return o}}else {const i=pr(c,t);if(null!==i[0]){const t=_r(fr(e,i[0]),l,r);t<o&&s.push({dist:t,range1:i[0],range2:[0,0]});}if(null!==i[1]){const t=_r(fr(e,i[1]),l,r);t<o&&s.push({dist:t,range1:i[1],range2:[0,0]});}}}return o}function zr(e,t,i,r,n,o=1/0){let s=Math.min(o,n.distance(e[0],i[0]));if(0===s)return s;const a=new or([{dist:0,range1:[0,e.length-1],range2:[0,i.length-1]}],ar),l=t?cr:lr,c=r?cr:lr;for(;a.length;){const o=a.pop();if(o.dist>=s)continue;const h=o.range1,u=o.range2;if(ur(h)<=l&&ur(u)<=c){if(!dr(h,e.length)||!dr(u,i.length))return NaN;if(t&&r?s=Math.min(s,wr(e,h,i,u,n)):t||r?t&&!r?s=Math.min(s,vr(i,u,e,h,n)):!t&&r&&(s=Math.min(s,vr(e,h,i,u,n))):s=Math.min(s,Tr(e,h,i,u,n)),0===s)return s}else {const o=pr(h,t),l=pr(u,r);Ir(a,s,n,e,i,o[0],l[0]),Ir(a,s,n,e,i,o[0],l[1]),Ir(a,s,n,e,i,o[1],l[0]),Ir(a,s,n,e,i,o[1],l[1]);}}return s}function Dr(e,t,i,r,n=1/0){let o=n;const s=fr(e,[0,e.length-1]);for(const n of i)if(!(o!==1/0&&_r(s,fr(n,[0,n.length-1]),r)>=o)&&(o=Math.min(o,zr(e,t,n,!0,r,o)),0===o))return o;return o}function Pr(e,t,i,r,n=1/0){let o=n;const s=fr(e,[0,e.length-1]);for(const n of i){if(o!==1/0&&_r(s,mr(n),r)>=o)continue;const i=Cr(e,t,n,r,o);if(isNaN(i))return i;if(0===(o=Math.min(o,i)))return o}return o}function Rr(e){return \"Point\"===e||\"MultiPoint\"===e||\"LineString\"===e||\"MultiLineString\"===e||\"Polygon\"===e||\"MultiPolygon\"===e}class Lr{constructor(e,t){this.type=Ut,this.geojson=e,this.geometries=t;}static parse(e,t){if(2!==e.length)return t.error(`'distance' expression requires either one argument, but found ' ${e.length-1} instead.`);if(fi(e[1])){const t=e[1];if(\"FeatureCollection\"===t.type){for(let e=0;e<t.features.length;++e)if(Rr(t.features[e].geometry.type))return new Lr(t,t.features[e].geometry)}else if(\"Feature\"===t.type){if(Rr(t.geometry.type))return new Lr(t,t.geometry)}else if(Rr(t.type))return new Lr(t,t)}return t.error(\"'distance' expression needs to be an array with format ['Distance', GeoJSONObj].\")}evaluate(e){const t=e.geometry(),i=e.canonicalID();if(null!=t&&null!=i){if(\"Point\"===e.geometryType())return function(e,t,i){const r=[];for(const i of e)for(const e of i)r.push(gr(e,t));const n=new rr(r[0][1],\"meters\");return \"Point\"===i.type||\"MultiPoint\"===i.type||\"LineString\"===i.type?zr(r,!1,\"Point\"===i.type?[i.coordinates]:i.coordinates,\"LineString\"===i.type,n):\"MultiLineString\"===i.type?Dr(r,!1,i.coordinates,n):\"Polygon\"===i.type||\"MultiPolygon\"===i.type?Pr(r,!1,\"Polygon\"===i.type?[i.coordinates]:i.coordinates,n):null}(t,i,this.geometries);if(\"LineString\"===e.geometryType())return function(e,t,i){const r=[];for(const i of e){const e=[];for(const r of i)e.push(gr(r,t));r.push(e);}const n=new rr(r[0][0][1],\"meters\");if(\"Point\"===i.type||\"MultiPoint\"===i.type||\"LineString\"===i.type)return Dr(\"Point\"===i.type?[i.coordinates]:i.coordinates,\"LineString\"===i.type,r,n);if(\"MultiLineString\"===i.type){let e=1/0;for(let t=0;t<i.coordinates.length;t++){const o=Dr(i.coordinates[t],!0,r,n,e);if(isNaN(o))return o;if(0===(e=Math.min(e,o)))return e}return e}if(\"Polygon\"===i.type||\"MultiPolygon\"===i.type){let e=1/0;for(let t=0;t<r.length;t++){const o=Pr(r[t],!0,\"Polygon\"===i.type?[i.coordinates]:i.coordinates,n,e);if(isNaN(o))return o;if(0===(e=Math.min(e,o)))return e}return e}return null}(t,i,this.geometries);if(\"Polygon\"===e.geometryType())return function(e,t,i){const r=[];for(const i of function(e,t){const i=e.length;if(i<=1)return [e];const r=[];let n,o;for(let t=0;t<i;t++){const i=Oi(e[t]);0!==i&&(e[t].area=Math.abs(i),void 0===o&&(o=i<0),o===i<0?(n&&r.push(n),n=[e[t]]):n.push(e[t]));}return n&&r.push(n),r}(e)){const e=[];for(let r=0;r<i.length;++r)e.push(yr(i[r],t));r.push(e);}const n=new rr(r[0][0][0][1],\"meters\");if(\"Point\"===i.type||\"MultiPoint\"===i.type||\"LineString\"===i.type)return Pr(\"Point\"===i.type?[i.coordinates]:i.coordinates,\"LineString\"===i.type,r,n);if(\"MultiLineString\"===i.type){let e=1/0;for(let t=0;t<i.coordinates.length;t++){const o=Pr(i.coordinates[t],!0,r,n,e);if(isNaN(o))return o;if(0===(e=Math.min(e,o)))return e}return e}return \"Polygon\"===i.type||\"MultiPolygon\"===i.type?function(e,t,i){let r=1/0;for(const n of e)for(const e of t){const t=Sr(n,e,i,r);if(isNaN(t))return t;if(0===(r=Math.min(r,t)))return r}return r}(\"Polygon\"===i.type?[i.coordinates]:i.coordinates,r,n):null}(t,i,this.geometries);console.warn(\"Distance Expression: currently only evaluates valid Point/LineString/Polygon geometries.\");}else console.warn(\"Distance Expression: requirs valid feature and canonical information.\");return null}eachChild(){}outputDefined(){return !0}serialize(){return [\"distance\",this.geojson]}}var kr=Lr;function Or(e){if(e instanceof Pi){if(\"get\"===e.name&&1===e.args.length)return !1;if(\"feature-state\"===e.name)return !1;if(\"has\"===e.name&&1===e.args.length)return !1;if(\"properties\"===e.name||\"geometry-type\"===e.name||\"id\"===e.name)return !1;if(/^filter-/.test(e.name))return !1}if(e instanceof tr)return !1;if(e instanceof kr)return !1;let t=!0;return e.eachChild((e=>{t&&!Or(e)&&(t=!1);})),t}function Br(e){if(e instanceof Pi&&\"feature-state\"===e.name)return !1;let t=!0;return e.eachChild((e=>{t&&!Br(e)&&(t=!1);})),t}function Fr(e){if(e instanceof Pi&&\"config\"===e.name)return !1;let t=!0;return e.eachChild((e=>{t&&!Fr(e)&&(t=!1);})),t}function Nr(e,t){if(e instanceof Pi&&t.indexOf(e.name)>=0)return !1;let i=!0;return e.eachChild((e=>{i&&!Nr(e,t)&&(i=!1);})),i}class Ur{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t;}static parse(e,t){if(2!==e.length||\"string\"!=typeof e[1])return t.error(\"'var' expression requires exactly one string literal argument.\");const i=e[1];return t.scope.has(i)?new Ur(i,t.scope.get(i)):t.error(`Unknown variable \"${i}\". Make sure \"${i}\" has been bound in an enclosing \"let\" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return !1}serialize(){return [\"var\",this.name]}}var Vr=Ur;class jr{constructor(e,t=[],i,r=new Ft,n=[],o){this.registry=e,this.path=t,this.key=t.map((e=>`[${e}]`)).join(\"\"),this.scope=r,this.errors=n,this.expectedType=i,this.options=o;}parse(e,t,i,r,n={}){return t||i?this.concat(t,i,r)._parse(e,n):this._parse(e,n)}_parse(e,t){function i(e,t,i){return \"assert\"===i?new wi(t,[e]):\"coerce\"===i?new Ii(t,[e]):e}if(null!==e&&\"string\"!=typeof e&&\"boolean\"!=typeof e&&\"number\"!=typeof e||(e=[\"literal\",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use [\"literal\", []].');const r=\"string\"==typeof e[0]?this.registry[e[0]]:void 0;if(r){let n=r.parse(e,this);if(!n)return null;if(this.expectedType){const e=this.expectedType,r=n.type;if(\"string\"!==e.kind&&\"number\"!==e.kind&&\"boolean\"!==e.kind&&\"object\"!==e.kind&&\"array\"!==e.kind||\"value\"!==r.kind)if(\"color\"!==e.kind&&\"formatted\"!==e.kind&&\"resolvedImage\"!==e.kind||\"value\"!==r.kind&&\"string\"!==r.kind){if(this.checkSubtype(e,r))return null}else n=i(n,e,t.typeAnnotation||\"coerce\");else n=i(n,e,t.typeAnnotation||\"assert\");}if(!(n instanceof yi)&&\"resolvedImage\"!==n.type.kind&&qr(n)){const e=new zi(this.options);try{n=new yi(n.type,n.evaluate(e));}catch(e){return this.error(e.message),null}}return n}return Ii.parse([\"to-array\",e],this)}return this.error(void 0===e?\"'undefined' value invalid. Use null instead.\":\"object\"==typeof e?'Bare objects invalid. Use [\"literal\", {...}] instead.':`Expected an array, but found ${typeof e} instead.`)}concat(e,t,i){const r=\"number\"==typeof e?this.path.concat(e):this.path,n=i?this.scope.concat(i):this.scope;return new jr(this.registry,r,t||null,n,this.errors,this.options)}error(e,...t){const i=`${this.key}${t.map((e=>`[${e}]`)).join(\"\")}`;this.errors.push(new Ot(i,e));}checkSubtype(e,t){const i=Jt(e,t);return i&&this.error(i),i}}var Gr=jr;function qr(e){if(e instanceof Vr)return qr(e.boundExpression);if(e instanceof Pi&&\"error\"===e.name)return !1;if(e instanceof Pi&&\"config\"===e.name)return !1;if(e instanceof Ri)return !1;if(e instanceof tr)return !1;if(e instanceof kr)return !1;const t=e instanceof Ii||e instanceof wi;let i=!0;return e.eachChild((e=>{i=t?i&&qr(e):i&&e instanceof yi;})),!!i&&Or(e)&&Nr(e,[\"zoom\",\"heatmap-density\",\"line-progress\",\"raster-value\",\"sky-radial-progress\",\"accumulated\",\"is-supported-script\",\"pitch\",\"distance-from-center\",\"measure-light\"])}function Zr(e,t){const i=e.length-1;let r,n,o=0,s=i,a=0;for(;o<=s;)if(a=Math.floor((o+s)/2),r=e[a],n=e[a+1],r<=t){if(a===i||t<n)return a;o=a+1;}else {if(!(r>t))throw new xi(\"Input is not a number.\");s=a-1;}return 0}class $r{constructor(e,t,i){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[e,t]of i)this.labels.push(e),this.outputs.push(t);}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error(\"Expected an even number of arguments.\");const i=t.parse(e[1],1,Ut);if(!i)return null;const r=[];let n=null;t.expectedType&&\"value\"!==t.expectedType.kind&&(n=t.expectedType);for(let i=1;i<e.length;i+=2){const o=1===i?-1/0:e[i],s=e[i+1],a=i,l=i+1;if(\"number\"!=typeof o)return t.error('Input/output pairs for \"step\" expressions must be defined using literal numeric values (not computed expressions) for the input values.',a);if(r.length&&r[r.length-1][0]>=o)return t.error('Input/output pairs for \"step\" expressions must be arranged with input values in strictly ascending order.',a);const c=t.parse(s,l,n);if(!c)return null;n=n||c.type,r.push([o,c]);}return new $r(n,i,r)}evaluate(e){const t=this.labels,i=this.outputs;if(1===t.length)return i[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return i[0].evaluate(e);const n=t.length;return r>=t[n-1]?i[n-1].evaluate(e):i[Zr(t,r)].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t);}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}serialize(){const e=[\"step\",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}var Hr=$r;function Wr(e,t,i){return e*(1-i)+t*i}function Xr(e,t,i){return e.map(((e,r)=>Wr(e,t[r],i)))}var Yr=Object.freeze({__proto__:null,array:Xr,color:function(e,t,i){return new li(Wr(e.r,t.r,i),Wr(e.g,t.g,i),Wr(e.b,t.b,i),Wr(e.a,t.a,i))},number:Wr});const Kr=.95047,Jr=1.08883,Qr=4/29,en=6/29,tn=3*en*en,rn=en*en*en,nn=Math.PI/180,on=180/Math.PI;function sn(e){return e>rn?Math.pow(e,1/3):e/tn+Qr}function an(e){return e>en?e*e*e:tn*(e-Qr)}function ln(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function cn(e){return (e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function hn(e){const t=cn(e.r),i=cn(e.g),r=cn(e.b),n=sn((.4124564*t+.3575761*i+.1804375*r)/Kr),o=sn((.2126729*t+.7151522*i+.072175*r)/1);return {l:116*o-16,a:500*(n-o),b:200*(o-sn((.0193339*t+.119192*i+.9503041*r)/Jr)),alpha:e.a}}function un(e){let t=(e.l+16)/116,i=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=1*an(t),i=Kr*an(i),r=Jr*an(r),new li(ln(3.2404542*i-1.5371385*t-.4985314*r),ln(-.969266*i+1.8760108*t+.041556*r),ln(.0556434*i-.2040259*t+1.0572252*r),e.alpha)}function dn(e,t,i){const r=t-e;return e+i*(r>180||r<-180?r-360*Math.round(r/360):r)}const pn={forward:hn,reverse:un,interpolate:function(e,t,i){return {l:Wr(e.l,t.l,i),a:Wr(e.a,t.a,i),b:Wr(e.b,t.b,i),alpha:Wr(e.alpha,t.alpha,i)}}},fn={forward:function(e){const{l:t,a:i,b:r}=hn(e),n=Math.atan2(r,i)*on;return {h:n<0?n+360:n,c:Math.sqrt(i*i+r*r),l:t,alpha:e.a}},reverse:function(e){const t=e.h*nn,i=e.c;return un({l:e.l,a:Math.cos(t)*i,b:Math.sin(t)*i,alpha:e.alpha})},interpolate:function(e,t,i){return {h:dn(e.h,t.h,i),c:Wr(e.c,t.c,i),l:Wr(e.l,t.l,i),alpha:Wr(e.alpha,t.alpha,i)}}};var mn=Object.freeze({__proto__:null,hcl:fn,lab:pn});class _n{constructor(e,t,i,r,n){this.type=e,this.operator=t,this.interpolation=i,this.input=r,this.labels=[],this.outputs=[];for(const[e,t]of n)this.labels.push(e),this.outputs.push(t);}static interpolationFactor(e,t,i,r){let n=0;if(\"exponential\"===e.name)n=gn(t,e.base,i,r);else if(\"linear\"===e.name)n=gn(t,1,i,r);else if(\"cubic-bezier\"===e.name){const o=e.controlPoints;n=new m(o[0],o[1],o[2],o[3]).solve(gn(t,1,i,r));}return n}static parse(e,t){let[i,r,n,...o]=e;if(!Array.isArray(r)||0===r.length)return t.error(\"Expected an interpolation type expression.\",1);if(\"linear\"===r[0])r={name:\"linear\"};else if(\"exponential\"===r[0]){const e=r[1];if(\"number\"!=typeof e)return t.error(\"Exponential interpolation requires a numeric base.\",1,1);r={name:\"exponential\",base:e};}else {if(\"cubic-bezier\"!==r[0])return t.error(`Unknown interpolation type ${String(r[0])}`,1,0);{const e=r.slice(1);if(4!==e.length||e.some((e=>\"number\"!=typeof e||e<0||e>1)))return t.error(\"Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.\",1);r={name:\"cubic-bezier\",controlPoints:e};}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error(\"Expected an even number of arguments.\");if(n=t.parse(n,2,Ut),!n)return null;const s=[];let a=null;\"interpolate-hcl\"===i||\"interpolate-lab\"===i?a=Gt:t.expectedType&&\"value\"!==t.expectedType.kind&&(a=t.expectedType);for(let e=0;e<o.length;e+=2){const i=o[e],r=o[e+1],n=e+3,l=e+4;if(\"number\"!=typeof i)return t.error('Input/output pairs for \"interpolate\" expressions must be defined using literal numeric values (not computed expressions) for the input values.',n);if(s.length&&s[s.length-1][0]>=i)return t.error('Input/output pairs for \"interpolate\" expressions must be arranged with input values in strictly ascending order.',n);const c=t.parse(r,l,a);if(!c)return null;a=a||c.type,s.push([i,c]);}return \"number\"===a.kind||\"color\"===a.kind||\"array\"===a.kind&&\"number\"===a.itemType.kind&&\"number\"==typeof a.N?new _n(a,i,r,n,s):t.error(`Type ${Yt(a)} is not interpolatable.`)}evaluate(e){const t=this.labels,i=this.outputs;if(1===t.length)return i[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return i[0].evaluate(e);const n=t.length;if(r>=t[n-1])return i[n-1].evaluate(e);const o=Zr(t,r),s=_n.interpolationFactor(this.interpolation,r,t[o],t[o+1]),a=i[o].evaluate(e),l=i[o+1].evaluate(e);return \"interpolate\"===this.operator?Yr[this.type.kind.toLowerCase()](a,l,s):\"interpolate-hcl\"===this.operator?fn.reverse(fn.interpolate(fn.forward(a),fn.forward(l),s)):pn.reverse(pn.interpolate(pn.forward(a),pn.forward(l),s))}eachChild(e){e(this.input);for(const t of this.outputs)e(t);}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}serialize(){let e;e=\"linear\"===this.interpolation.name?[\"linear\"]:\"exponential\"===this.interpolation.name?1===this.interpolation.base?[\"linear\"]:[\"exponential\",this.interpolation.base]:[\"cubic-bezier\"].concat(this.interpolation.controlPoints);const t=[this.operator,e,this.input.serialize()];for(let e=0;e<this.labels.length;e++)t.push(this.labels[e],this.outputs[e].serialize());return t}}function gn(e,t,i,r){const n=r-i,o=e-i;return 0===n?0:1===t?o/n:(Math.pow(t,o)-1)/(Math.pow(t,n)-1)}var yn=_n;class xn{constructor(e,t){this.type=e,this.args=t;}static parse(e,t){if(e.length<2)return t.error(\"Expectected at least one argument.\");let i=null;const r=t.expectedType;r&&\"value\"!==r.kind&&(i=r);const n=[];for(const r of e.slice(1)){const e=t.parse(r,1+n.length,i,void 0,{typeAnnotation:\"omit\"});if(!e)return null;i=i||e.type,n.push(e);}const o=r&&n.some((e=>Jt(r,e.type)));return new xn(o?Zt:i,n)}evaluate(e){let t,i=null,r=0;for(const n of this.args){if(r++,i=n.evaluate(e),i&&i instanceof di&&!i.available&&(t||(t=i),i=null,r===this.args.length))return t;if(null!==i)break}return i}eachChild(e){this.args.forEach(e);}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){const e=[\"coalesce\"];return this.eachChild((t=>{e.push(t.serialize());})),e}}var vn=xn;class bn{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t;}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result);}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const i=[];for(let r=1;r<e.length-1;r+=2){const n=e[r];if(\"string\"!=typeof n)return t.error(`Expected string, but found ${typeof n} instead.`,r);if(/[^a-zA-Z0-9_]/.test(n))return t.error(\"Variable names must contain only alphanumeric characters or '_'.\",r);const o=t.parse(e[r+1],r+1);if(!o)return null;i.push([n,o]);}const r=t.parse(e[e.length-1],e.length-1,t.expectedType,i);return r?new bn(i,r):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=[\"let\"];for(const[t,i]of this.bindings)e.push(t,i.serialize());return e.push(this.result.serialize()),e}}var wn=bn;class Tn{constructor(e,t,i){this.type=e,this.index=t,this.input=i;}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const i=t.parse(e[1],1,Ut),r=t.parse(e[2],2,Xt(t.expectedType||Zt));return i&&r?new Tn(r.type.itemType,i,r):null}evaluate(e){const t=this.index.evaluate(e),i=this.input.evaluate(e);if(t<0)throw new xi(`Array index out of bounds: ${t} < 0.`);if(t>=i.length)throw new xi(`Array index out of bounds: ${t} > ${i.length-1}.`);if(t!==Math.floor(t))throw new xi(`Array index must be an integer, but found ${t} instead.`);return i[t]}eachChild(e){e(this.index),e(this.input);}outputDefined(){return !1}serialize(){return [\"at\",this.index.serialize(),this.input.serialize()]}}var En=Tn;class Mn{constructor(e,t){this.type=jt,this.needle=e,this.haystack=t;}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const i=t.parse(e[1],1,Zt),r=t.parse(e[2],2,Zt);return i&&r?Qt(i.type,[jt,Vt,Ut,Nt,Zt])?new Mn(i,r):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Yt(i.type)} instead`):null}evaluate(e){const t=this.needle.evaluate(e),i=this.haystack.evaluate(e);if(null==i)return !1;if(!ei(t,[\"boolean\",\"string\",\"number\",\"null\"]))throw new xi(`Expected first argument to be of type boolean, string, number or null, but found ${Yt(mi(t))} instead.`);if(!ei(i,[\"string\",\"array\"]))throw new xi(`Expected second argument to be of type array or string, but found ${Yt(mi(i))} instead.`);return i.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack);}outputDefined(){return !0}serialize(){return [\"in\",this.needle.serialize(),this.haystack.serialize()]}}var An=Mn;class Sn{constructor(e,t,i){this.type=Ut,this.needle=e,this.haystack=t,this.fromIndex=i;}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const i=t.parse(e[1],1,Zt),r=t.parse(e[2],2,Zt);if(!i||!r)return null;if(!Qt(i.type,[jt,Vt,Ut,Nt,Zt]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Yt(i.type)} instead`);if(4===e.length){const n=t.parse(e[3],3,Ut);return n?new Sn(i,r,n):null}return new Sn(i,r)}evaluate(e){const t=this.needle.evaluate(e),i=this.haystack.evaluate(e);if(!ei(t,[\"boolean\",\"string\",\"number\",\"null\"]))throw new xi(`Expected first argument to be of type boolean, string, number or null, but found ${Yt(mi(t))} instead.`);if(!ei(i,[\"string\",\"array\"]))throw new xi(`Expected second argument to be of type array or string, but found ${Yt(mi(i))} instead.`);if(this.fromIndex){const r=this.fromIndex.evaluate(e);return i.indexOf(t,r)}return i.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex);}outputDefined(){return !1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const e=this.fromIndex.serialize();return [\"index-of\",this.needle.serialize(),this.haystack.serialize(),e]}return [\"index-of\",this.needle.serialize(),this.haystack.serialize()]}}var In=Sn;class Cn{constructor(e,t,i,r,n,o){this.inputType=e,this.type=t,this.input=i,this.cases=r,this.outputs=n,this.otherwise=o;}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return t.error(\"Expected an even number of arguments.\");let i,r;t.expectedType&&\"value\"!==t.expectedType.kind&&(r=t.expectedType);const n={},o=[];for(let s=2;s<e.length-1;s+=2){let a=e[s];const l=e[s+1];Array.isArray(a)||(a=[a]);const c=t.concat(s);if(0===a.length)return c.error(\"Expected at least one branch label.\");for(const e of a){if(\"number\"!=typeof e&&\"string\"!=typeof e)return c.error(\"Branch labels must be numbers or strings.\");if(\"number\"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return c.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(\"number\"==typeof e&&Math.floor(e)!==e)return c.error(\"Numeric branch labels must be integer values.\");if(i){if(c.checkSubtype(i,mi(e)))return null}else i=mi(e);if(void 0!==n[String(e)])return c.error(\"Branch labels must be unique.\");n[String(e)]=o.length;}const h=t.parse(l,s,r);if(!h)return null;r=r||h.type,o.push(h);}const s=t.parse(e[1],1,Zt);if(!s)return null;const a=t.parse(e[e.length-1],e.length-1,r);return a?\"value\"!==s.type.kind&&t.concat(1).checkSubtype(i,s.type)?null:new Cn(i,r,s,n,o,a):null}evaluate(e){const t=this.input.evaluate(e);return (mi(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise);}outputDefined(){return this.outputs.every((e=>e.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const e=[\"match\",this.input.serialize()],t=Object.keys(this.cases).sort(),i=[],r={};for(const e of t){const t=r[this.cases[e]];void 0===t?(r[this.cases[e]]=i.length,i.push([this.cases[e],[e]])):i[t][1].push(e);}const n=e=>\"number\"===this.inputType.kind?Number(e):e;for(const[t,r]of i)e.push(1===r.length?n(r[0]):r.map(n)),e.push(this.outputs[t].serialize());return e.push(this.otherwise.serialize()),e}}var zn=Cn;class Dn{constructor(e,t,i){this.type=e,this.branches=t,this.otherwise=i;}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return t.error(\"Expected an odd number of arguments.\");let i;t.expectedType&&\"value\"!==t.expectedType.kind&&(i=t.expectedType);const r=[];for(let n=1;n<e.length-1;n+=2){const o=t.parse(e[n],n,jt);if(!o)return null;const s=t.parse(e[n+1],n+1,i);if(!s)return null;r.push([o,s]),i=i||s.type;}const n=t.parse(e[e.length-1],e.length-1,i);return n?new Dn(i,r,n):null}evaluate(e){for(const[t,i]of this.branches)if(t.evaluate(e))return i.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,i]of this.branches)e(t),e(i);e(this.otherwise);}outputDefined(){return this.branches.every((([e,t])=>t.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const e=[\"case\"];return this.eachChild((t=>{e.push(t.serialize());})),e}}var Pn=Dn;class Rn{constructor(e,t,i,r){this.type=e,this.input=t,this.beginIndex=i,this.endIndex=r;}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const i=t.parse(e[1],1,Zt),r=t.parse(e[2],2,Ut);if(!i||!r)return null;if(!Qt(i.type,[Xt(Zt),Vt,Zt]))return t.error(`Expected first argument to be of type array or string, but found ${Yt(i.type)} instead`);if(4===e.length){const n=t.parse(e[3],3,Ut);return n?new Rn(i.type,i,r,n):null}return new Rn(i.type,i,r)}evaluate(e){const t=this.input.evaluate(e),i=this.beginIndex.evaluate(e);if(!ei(t,[\"string\",\"array\"]))throw new xi(`Expected first argument to be of type array or string, but found ${Yt(mi(t))} instead.`);if(this.endIndex){const r=this.endIndex.evaluate(e);return t.slice(i,r)}return t.slice(i)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex);}outputDefined(){return !1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const e=this.endIndex.serialize();return [\"slice\",this.input.serialize(),this.beginIndex.serialize(),e]}return [\"slice\",this.input.serialize(),this.beginIndex.serialize()]}}var Ln=Rn;function kn(e,t){return \"==\"===e||\"!=\"===e?\"boolean\"===t.kind||\"string\"===t.kind||\"number\"===t.kind||\"null\"===t.kind||\"value\"===t.kind:\"string\"===t.kind||\"number\"===t.kind||\"value\"===t.kind}function On(e,t,i,r){return 0===r.compare(t,i)}function Bn(e,t,i){const r=\"==\"!==e&&\"!=\"!==e;return class n{constructor(e,t,i){this.type=jt,this.lhs=e,this.rhs=t,this.collator=i,this.hasUntypedArgument=\"value\"===e.type.kind||\"value\"===t.type.kind;}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error(\"Expected two or three arguments.\");const i=e[0];let o=t.parse(e[1],1,Zt);if(!o)return null;if(!kn(i,o.type))return t.concat(1).error(`\"${i}\" comparisons are not supported for type '${Yt(o.type)}'.`);let s=t.parse(e[2],2,Zt);if(!s)return null;if(!kn(i,s.type))return t.concat(2).error(`\"${i}\" comparisons are not supported for type '${Yt(s.type)}'.`);if(o.type.kind!==s.type.kind&&\"value\"!==o.type.kind&&\"value\"!==s.type.kind)return t.error(`Cannot compare types '${Yt(o.type)}' and '${Yt(s.type)}'.`);r&&(\"value\"===o.type.kind&&\"value\"!==s.type.kind?o=new wi(s.type,[o]):\"value\"!==o.type.kind&&\"value\"===s.type.kind&&(s=new wi(o.type,[s])));let a=null;if(4===e.length){if(\"string\"!==o.type.kind&&\"string\"!==s.type.kind&&\"value\"!==o.type.kind&&\"value\"!==s.type.kind)return t.error(\"Cannot use collator to compare non-string types.\");if(a=t.parse(e[3],3,$t),!a)return null}return new n(o,s,a)}evaluate(n){const o=this.lhs.evaluate(n),s=this.rhs.evaluate(n);if(r&&this.hasUntypedArgument){const t=mi(o),i=mi(s);if(t.kind!==i.kind||\"string\"!==t.kind&&\"number\"!==t.kind)throw new xi(`Expected arguments for \"${e}\" to be (string, string) or (number, number), but found (${t.kind}, ${i.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const e=mi(o),i=mi(s);if(\"string\"!==e.kind||\"string\"!==i.kind)return t(n,o,s)}return this.collator?i(n,o,s,this.collator.evaluate(n)):t(n,o,s)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator);}outputDefined(){return !0}serialize(){const t=[e];return this.eachChild((e=>{t.push(e.serialize());})),t}}}const Fn=Bn(\"==\",(function(e,t,i){return t===i}),On),Nn=Bn(\"!=\",(function(e,t,i){return t!==i}),(function(e,t,i,r){return !On(0,t,i,r)})),Un=Bn(\"<\",(function(e,t,i){return t<i}),(function(e,t,i,r){return r.compare(t,i)<0})),Vn=Bn(\">\",(function(e,t,i){return t>i}),(function(e,t,i,r){return r.compare(t,i)>0})),jn=Bn(\"<=\",(function(e,t,i){return t<=i}),(function(e,t,i,r){return r.compare(t,i)<=0})),Gn=Bn(\">=\",(function(e,t,i){return t>=i}),(function(e,t,i,r){return r.compare(t,i)>=0}));class qn{constructor(e,t,i,r,n,o){this.type=Vt,this.number=e,this.locale=t,this.currency=i,this.unit=r,this.minFractionDigits=n,this.maxFractionDigits=o;}static parse(e,t){if(3!==e.length)return t.error(\"Expected two arguments.\");const i=t.parse(e[1],1,Ut);if(!i)return null;const r=e[2];if(\"object\"!=typeof r||Array.isArray(r))return t.error(\"NumberFormat options argument must be an object.\");let n=null;if(r.locale&&(n=t.parse(r.locale,1,Vt),!n))return null;let o=null;if(r.currency&&(o=t.parse(r.currency,1,Vt),!o))return null;let s=null;if(r.unit&&(s=t.parse(r.unit,1,Vt),!s))return null;let a=null;if(r[\"min-fraction-digits\"]&&(a=t.parse(r[\"min-fraction-digits\"],1,Ut),!a))return null;let l=null;return r[\"max-fraction-digits\"]&&(l=t.parse(r[\"max-fraction-digits\"],1,Ut),!l)?null:new qn(i,n,o,s,a,l)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:(this.currency?\"currency\":this.unit&&\"unit\")||\"decimal\",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits);}outputDefined(){return !1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e[\"min-fraction-digits\"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e[\"max-fraction-digits\"]=this.maxFractionDigits.serialize()),[\"number-format\",this.number.serialize(),e]}}class Zn{constructor(e){this.type=Ut,this.input=e;}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const i=t.parse(e[1],1);return i?\"array\"!==i.type.kind&&\"string\"!==i.type.kind&&\"value\"!==i.type.kind?t.error(`Expected argument of type string or array, but found ${Yt(i.type)} instead.`):new Zn(i):null}evaluate(e){const t=this.input.evaluate(e);if(\"string\"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new xi(`Expected value to be of type string or array, but found ${Yt(mi(t))} instead.`)}eachChild(e){e(this.input);}outputDefined(){return !1}serialize(){const e=[\"length\"];return this.eachChild((t=>{e.push(t.serialize());})),e}}function $n(e){return function(){e=1831565813+(e|=0)|0;let t=Math.imul(e^e>>>15,1|e);return t=t+Math.imul(t^t>>>7,61|t)^t,((t^t>>>14)>>>0)/4294967296}}const Hn={\"==\":Fn,\"!=\":Nn,\">\":Vn,\"<\":Un,\">=\":Gn,\"<=\":jn,array:wi,at:En,boolean:wi,case:Pn,coalesce:vn,collator:Ri,format:Ti,image:Ei,in:An,\"index-of\":In,interpolate:yn,\"interpolate-hcl\":yn,\"interpolate-lab\":yn,length:Zn,let:wn,literal:yi,match:zn,number:wi,\"number-format\":qn,object:wi,slice:Ln,step:Hr,string:wi,\"to-boolean\":Ii,\"to-color\":Ii,\"to-number\":Ii,\"to-string\":Ii,var:Vr,within:tr,distance:kr};function Wn(e,[t,i,r,n]){t=t.evaluate(e),i=i.evaluate(e),r=r.evaluate(e);const o=n?n.evaluate(e):1,s=pi(t,i,r,o);if(s)throw new xi(s);return new li(t/255*o,i/255*o,r/255*o,o)}function Xn(e,[t,i,r,n]){t=t.evaluate(e),i=i.evaluate(e),r=r.evaluate(e);const o=n?n.evaluate(e):1,s=function(e,t,i,r){return \"number\"==typeof e&&e>=0&&e<=360?\"number\"==typeof t&&t>=0&&t<=100&&\"number\"==typeof i&&i>=0&&i<=100?void 0===r||\"number\"==typeof r&&r>=0&&r<=1?null:`Invalid hsla value [${[e,t,i,r].join(\", \")}]: 'a' must be between 0 and 1.`:`Invalid hsla value [${(\"number\"==typeof r?[e,t,i,r]:[e,t,i]).join(\", \")}]: 's', and 'l' must be between 0 and 100.`:`Invalid hsla value [${(\"number\"==typeof r?[e,t,i,r]:[e,t,i]).join(\", \")}]: 'h' must be between 0 and 360.`}(t,i,r,o);if(s)throw new xi(s);const a=`hsla(${t}, ${i}%, ${r}%, ${o})`,l=li.parse(a);if(!l)throw new xi(`Failed to parse HSLA color: ${a}`);return l}function Yn(e,t){return e in t}function Kn(e,t){const i=t[e];return void 0===i?null:i}function Jn(e,t,i){i.length&&(t+=`\u001f${i}`);const r=e.getConfig(t);return r?r.evaluate(e):null}function Qn(e){return {type:e}}Pi.register(Hn,{error:[{kind:\"error\"},[Vt],(e,[t])=>{throw new xi(t.evaluate(e))}],typeof:[Vt,[Zt],(e,[t])=>Yt(mi(t.evaluate(e)))],\"to-rgba\":[Xt(Ut,4),[Gt],(e,[t])=>t.evaluate(e).toArray()],rgb:[Gt,[Ut,Ut,Ut],Wn],rgba:[Gt,[Ut,Ut,Ut,Ut],Wn],hsl:[Gt,[Ut,Ut,Ut],Xn],hsla:[Gt,[Ut,Ut,Ut,Ut],Xn],has:{type:jt,overloads:[[[Vt],(e,[t])=>Yn(t.evaluate(e),e.properties())],[[Vt,qt],(e,[t,i])=>Yn(t.evaluate(e),i.evaluate(e))]]},get:{type:Zt,overloads:[[[Vt],(e,[t])=>Kn(t.evaluate(e),e.properties())],[[Vt,qt],(e,[t,i])=>Kn(t.evaluate(e),i.evaluate(e))]]},config:{type:Zt,overloads:[[[Vt],(e,[t])=>Jn(e,t.evaluate(e),\"\")],[[Vt,Vt],(e,[t,i])=>Jn(e,t.evaluate(e),i.evaluate(e))]]},\"feature-state\":[Zt,[Vt],(e,[t])=>Kn(t.evaluate(e),e.featureState||{})],properties:[qt,[],e=>e.properties()],\"geometry-type\":[Vt,[],e=>e.geometryType()],id:[Zt,[],e=>e.id()],zoom:[Ut,[],e=>e.globals.zoom],pitch:[Ut,[],e=>e.globals.pitch||0],\"distance-from-center\":[Ut,[],e=>e.distanceFromCenter()],\"measure-light\":[Ut,[Vt],(e,[t])=>e.measureLight(t.evaluate(e))],\"heatmap-density\":[Ut,[],e=>e.globals.heatmapDensity||0],\"line-progress\":[Ut,[],e=>e.globals.lineProgress||0],\"raster-value\":[Ut,[],e=>e.globals.rasterValue||0],\"sky-radial-progress\":[Ut,[],e=>e.globals.skyRadialProgress||0],accumulated:[Zt,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],\"+\":[Ut,Qn(Ut),(e,t)=>{let i=0;for(const r of t)i+=r.evaluate(e);return i}],\"*\":[Ut,Qn(Ut),(e,t)=>{let i=1;for(const r of t)i*=r.evaluate(e);return i}],\"-\":{type:Ut,overloads:[[[Ut,Ut],(e,[t,i])=>t.evaluate(e)-i.evaluate(e)],[[Ut],(e,[t])=>-t.evaluate(e)]]},\"/\":[Ut,[Ut,Ut],(e,[t,i])=>t.evaluate(e)/i.evaluate(e)],\"%\":[Ut,[Ut,Ut],(e,[t,i])=>t.evaluate(e)%i.evaluate(e)],ln2:[Ut,[],()=>Math.LN2],pi:[Ut,[],()=>Math.PI],e:[Ut,[],()=>Math.E],\"^\":[Ut,[Ut,Ut],(e,[t,i])=>Math.pow(t.evaluate(e),i.evaluate(e))],sqrt:[Ut,[Ut],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[Ut,[Ut],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[Ut,[Ut],(e,[t])=>Math.log(t.evaluate(e))],log2:[Ut,[Ut],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[Ut,[Ut],(e,[t])=>Math.sin(t.evaluate(e))],cos:[Ut,[Ut],(e,[t])=>Math.cos(t.evaluate(e))],tan:[Ut,[Ut],(e,[t])=>Math.tan(t.evaluate(e))],asin:[Ut,[Ut],(e,[t])=>Math.asin(t.evaluate(e))],acos:[Ut,[Ut],(e,[t])=>Math.acos(t.evaluate(e))],atan:[Ut,[Ut],(e,[t])=>Math.atan(t.evaluate(e))],min:[Ut,Qn(Ut),(e,t)=>Math.min(...t.map((t=>t.evaluate(e))))],max:[Ut,Qn(Ut),(e,t)=>Math.max(...t.map((t=>t.evaluate(e))))],abs:[Ut,[Ut],(e,[t])=>Math.abs(t.evaluate(e))],round:[Ut,[Ut],(e,[t])=>{const i=t.evaluate(e);return i<0?-Math.round(-i):Math.round(i)}],floor:[Ut,[Ut],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[Ut,[Ut],(e,[t])=>Math.ceil(t.evaluate(e))],\"filter-==\":[jt,[Vt,Zt],(e,[t,i])=>e.properties()[t.value]===i.value],\"filter-id-==\":[jt,[Zt],(e,[t])=>e.id()===t.value],\"filter-type-==\":[jt,[Vt],(e,[t])=>e.geometryType()===t.value],\"filter-<\":[jt,[Vt,Zt],(e,[t,i])=>{const r=e.properties()[t.value],n=i.value;return typeof r==typeof n&&r<n}],\"filter-id-<\":[jt,[Zt],(e,[t])=>{const i=e.id(),r=t.value;return typeof i==typeof r&&i<r}],\"filter->\":[jt,[Vt,Zt],(e,[t,i])=>{const r=e.properties()[t.value],n=i.value;return typeof r==typeof n&&r>n}],\"filter-id->\":[jt,[Zt],(e,[t])=>{const i=e.id(),r=t.value;return typeof i==typeof r&&i>r}],\"filter-<=\":[jt,[Vt,Zt],(e,[t,i])=>{const r=e.properties()[t.value],n=i.value;return typeof r==typeof n&&r<=n}],\"filter-id-<=\":[jt,[Zt],(e,[t])=>{const i=e.id(),r=t.value;return typeof i==typeof r&&i<=r}],\"filter->=\":[jt,[Vt,Zt],(e,[t,i])=>{const r=e.properties()[t.value],n=i.value;return typeof r==typeof n&&r>=n}],\"filter-id->=\":[jt,[Zt],(e,[t])=>{const i=e.id(),r=t.value;return typeof i==typeof r&&i>=r}],\"filter-has\":[jt,[Zt],(e,[t])=>t.value in e.properties()],\"filter-has-id\":[jt,[],e=>null!==e.id()&&void 0!==e.id()],\"filter-type-in\":[jt,[Xt(Vt)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],\"filter-id-in\":[jt,[Xt(Zt)],(e,[t])=>t.value.indexOf(e.id())>=0],\"filter-in-small\":[jt,[Vt,Xt(Zt)],(e,[t,i])=>i.value.indexOf(e.properties()[t.value])>=0],\"filter-in-large\":[jt,[Vt,Xt(Zt)],(e,[t,i])=>function(e,t,i,r){for(;i<=r;){const n=i+r>>1;if(t[n]===e)return !0;t[n]>e?r=n-1:i=n+1;}return !1}(e.properties()[t.value],i.value,0,i.value.length-1)],all:{type:jt,overloads:[[[jt,jt],(e,[t,i])=>t.evaluate(e)&&i.evaluate(e)],[Qn(jt),(e,t)=>{for(const i of t)if(!i.evaluate(e))return !1;return !0}]]},any:{type:jt,overloads:[[[jt,jt],(e,[t,i])=>t.evaluate(e)||i.evaluate(e)],[Qn(jt),(e,t)=>{for(const i of t)if(i.evaluate(e))return !0;return !1}]]},\"!\":[jt,[jt],(e,[t])=>!t.evaluate(e)],\"is-supported-script\":[jt,[Vt],(e,[t])=>{const i=e.globals&&e.globals.isSupportedScript;return !i||i(t.evaluate(e))}],upcase:[Vt,[Vt],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[Vt,[Vt],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[Vt,Qn(Zt),(e,t)=>t.map((t=>_i(t.evaluate(e)))).join(\"\")],\"resolved-locale\":[Vt,[$t],(e,[t])=>t.evaluate(e).resolvedLocale()],random:[Ut,[Ut,Ut,Zt],(e,t)=>{const[i,r,n]=t.map((t=>t.evaluate(e)));if(i>r)return i;if(i===r)return i;let o;if(\"string\"==typeof n)o=function(e){let t=0;if(0===e.length)return t;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t&=t;return t}(n);else {if(\"number\"!=typeof n)throw new xi(`Invalid seed input: ${n}`);o=n;}return i+$n(o)()*(r-i)}]});var eo=Hn;function to(e){return {result:\"success\",value:e}}function io(e){return {result:\"error\",value:e}}function ro(e,t){return !!e&&!!e.parameters&&e.parameters.indexOf(t)>-1}function no(e){return \"data-driven\"===e[\"property-type\"]}function oo(e){return ro(e.expression,\"measure-light\")}function so(e){return ro(e.expression,\"zoom\")}function ao(e){return !!e.expression&&e.expression.interpolated}function lo(e){return \"object\"==typeof e&&null!==e&&!Array.isArray(e)}function co(e){return e}function ho(e,t){const i=\"color\"===t.type,r=e.stops&&\"object\"==typeof e.stops[0][0],n=r||!(r||void 0!==e.property),o=e.type||(ao(t)?\"exponential\":\"interval\");if(i&&((e=Pt({},e)).stops&&(e.stops=e.stops.map((e=>[e[0],li.parse(e[1])]))),e.default=li.parse(e.default?e.default:t.default)),e.colorSpace&&\"rgb\"!==e.colorSpace&&!mn[e.colorSpace])throw new Error(`Unknown color space: ${e.colorSpace}`);let s,a,l;if(\"exponential\"===o)s=mo;else if(\"interval\"===o)s=fo;else if(\"categorical\"===o){s=po,a=Object.create(null);for(const t of e.stops)a[t[0]]=t[1];l=typeof e.stops[0][0];}else {if(\"identity\"!==o)throw new Error(`Unknown function type \"${o}\"`);s=_o;}if(r){const i={},r=[];for(let t=0;t<e.stops.length;t++){const n=e.stops[t],o=n[0].zoom;void 0===i[o]&&(i[o]={zoom:o,type:e.type,property:e.property,default:e.default,stops:[]},r.push(o)),i[o].stops.push([n[0].value,n[1]]);}const n=[];for(const e of r)n.push([i[e].zoom,ho(i[e],t)]);const o={name:\"linear\"};return {kind:\"composite\",interpolationType:o,interpolationFactor:yn.interpolationFactor.bind(void 0,o),zoomStops:n.map((e=>e[0])),evaluate:({zoom:i},r)=>mo({stops:n,base:e.base},t,i).evaluate(i,r)}}if(n){const i=\"exponential\"===o?{name:\"exponential\",base:void 0!==e.base?e.base:1}:null;return {kind:\"camera\",interpolationType:i,interpolationFactor:yn.interpolationFactor.bind(void 0,i),zoomStops:e.stops.map((e=>e[0])),evaluate:({zoom:i})=>s(e,t,i,a,l)}}return {kind:\"source\",evaluate(i,r){const n=r&&r.properties?r.properties[e.property]:void 0;return void 0===n?uo(e.default,t.default):s(e,t,n,a,l)}}}function uo(e,t,i){return void 0!==e?e:void 0!==t?t:void 0!==i?i:void 0}function po(e,t,i,r,n){return uo(typeof i===n?r[i]:void 0,e.default,t.default)}function fo(e,t,i){if(\"number\"!==Mi(i))return uo(e.default,t.default);const r=e.stops.length;if(1===r)return e.stops[0][1];if(i<=e.stops[0][0])return e.stops[0][1];if(i>=e.stops[r-1][0])return e.stops[r-1][1];const n=Zr(e.stops.map((e=>e[0])),i);return e.stops[n][1]}function mo(e,t,i){const r=void 0!==e.base?e.base:1;if(\"number\"!==Mi(i))return uo(e.default,t.default);const n=e.stops.length;if(1===n)return e.stops[0][1];if(i<=e.stops[0][0])return e.stops[0][1];if(i>=e.stops[n-1][0])return e.stops[n-1][1];const o=Zr(e.stops.map((e=>e[0])),i),s=function(e,t,i,r){const n=r-i,o=e-i;return 0===n?0:1===t?o/n:(Math.pow(t,o)-1)/(Math.pow(t,n)-1)}(i,r,e.stops[o][0],e.stops[o+1][0]),a=e.stops[o][1],l=e.stops[o+1][1];let c=Yr[t.type]||co;if(e.colorSpace&&\"rgb\"!==e.colorSpace){const t=mn[e.colorSpace];c=(e,i)=>t.reverse(t.interpolate(t.forward(e),t.forward(i),s));}return \"function\"==typeof a.evaluate?{evaluate(...e){const t=a.evaluate.apply(void 0,e),i=l.evaluate.apply(void 0,e);if(void 0!==t&&void 0!==i)return c(t,i,s)}}:c(a,l,s)}function _o(e,t,i){return \"color\"===t.type?i=li.parse(i):\"formatted\"===t.type?i=ui.fromString(i.toString()):\"resolvedImage\"===t.type?i=di.fromString(i.toString()):Mi(i)===t.type||\"enum\"===t.type&&t.values[i]||(i=void 0),uo(i,e.default,t.default)}class go{constructor(e,t,i){this.expression=e,this._warningHistory={},this._evaluator=new zi(i),this._defaultValue=t?function(e){return \"color\"===e.type&&(lo(e.default)||Array.isArray(e.default))?new li(0,0,0,0):\"color\"===e.type?li.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&\"enum\"===t.type?t.values:null;}evaluateWithoutErrorHandling(e,t,i,r,n,o,s,a){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=i,this._evaluator.canonical=r||null,this._evaluator.availableImages=n||null,this._evaluator.formattedSection=o,this._evaluator.featureTileCoord=s||null,this._evaluator.featureDistanceData=a||null,this.expression.evaluate(this._evaluator)}evaluate(e,t,i,r,n,o,s,a){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=i||null,this._evaluator.canonical=r||null,this._evaluator.availableImages=n||null,this._evaluator.formattedSection=o||null,this._evaluator.featureTileCoord=s||null,this._evaluator.featureDistanceData=a||null;try{const e=this.expression.evaluate(this._evaluator);if(null==e||\"number\"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new xi(`Expected value to be one of ${Object.keys(this._enumValues).map((e=>JSON.stringify(e))).join(\", \")}, but found ${JSON.stringify(e)} instead.`);return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,\"undefined\"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function yo(e){return Array.isArray(e)&&e.length>0&&\"string\"==typeof e[0]&&e[0]in eo}function xo(e,t,i){const r=new Gr(eo,[],t?function(e){const t={color:Gt,string:Vt,number:Ut,enum:Vt,boolean:jt,formatted:Ht,resolvedImage:Wt};return \"array\"===e.type?Xt(t[e.value]||Zt,e.length):t[e.type]}(t):void 0,void 0,void 0,i),n=r.parse(e,void 0,void 0,void 0,t&&\"string\"===t.type?{typeAnnotation:\"coerce\"}:void 0);return n?to(new go(n,t,i)):io(r.errors)}class vo{constructor(e,t,i){this.kind=e,this._styleExpression=t,this.isLightConstant=i,this.isStateDependent=\"constant\"!==e&&!Br(t.expression),this.isConfigDependent=!Fr(t.expression);}evaluateWithoutErrorHandling(e,t,i,r,n,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,i,r,n,o)}evaluate(e,t,i,r,n,o){return this._styleExpression.evaluate(e,t,i,r,n,o)}}class bo{constructor(e,t,i,r,n){this.kind=e,this.zoomStops=i,this._styleExpression=t,this.isStateDependent=\"camera\"!==e&&!Br(t.expression),this.isLightConstant=n,this.isConfigDependent=!Fr(t.expression),this.interpolationType=r;}evaluateWithoutErrorHandling(e,t,i,r,n,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,i,r,n,o)}evaluate(e,t,i,r,n,o){return this._styleExpression.evaluate(e,t,i,r,n,o)}interpolationFactor(e,t,i){return this.interpolationType?yn.interpolationFactor(this.interpolationType,e,t,i):0}}function wo(e,t,i){if(\"error\"===(e=xo(e,t,i)).result)return e;const r=e.value.expression,n=Or(r);if(!n&&!no(t))return io([new Ot(\"\",\"data expressions not supported\")]);const o=Nr(r,[\"zoom\",\"pitch\",\"distance-from-center\"]);if(!o&&!so(t))return io([new Ot(\"\",\"zoom expressions not supported\")]);const s=Nr(r,[\"measure-light\"]);if(!s&&!oo(t))return io([new Ot(\"\",\"measure-light expression not supported\")]);const a=t.expression&&t.expression.relaxZoomRestriction,l=Eo(r);return l||o||a?l instanceof Ot?io([l]):l instanceof yn&&!ao(t)?io([new Ot(\"\",'\"interpolate\" expressions cannot be used with this property')]):to(l?new bo(n?\"camera\":\"composite\",e.value,l.labels,l instanceof yn?l.interpolation:void 0,s):new vo(n?\"constant\":\"source\",e.value,s)):io([new Ot(\"\",'\"zoom\" expression may only be used as input to a top-level \"step\" or \"interpolate\" expression, or in the properties of atmosphere.')])}class To{constructor(e,t){this._parameters=e,this._specification=t,Pt(this,ho(this._parameters,this._specification));}static deserialize(e){return new To(e._parameters,e._specification)}static serialize(e){return {_parameters:e._parameters,_specification:e._specification}}}function Eo(e){let t=null;if(e instanceof wn)t=Eo(e.result);else if(e instanceof vn){for(const i of e.args)if(t=Eo(i),t)break}else (e instanceof Hr||e instanceof yn)&&e.input instanceof Pi&&\"zoom\"===e.input.name&&(t=e);return t instanceof Ot||e.eachChild((e=>{const i=Eo(e);i instanceof Ot?t=i:t&&i&&t!==i&&(t=new Ot(\"\",'Only one zoom-based \"step\" or \"interpolate\" subexpression may be used in an expression.'));})),t}function Mo(e){const t=e.key,i=e.value,r=e.valueSpec||{},n=e.objectElementValidators||{},o=e.style,s=e.styleSpec;let a=[];const l=Mi(i);if(\"object\"!==l)return [new zt(t,i,`object expected, ${l} found`)];for(const e in i){const l=e.split(\".\")[0];let c;n[l]?c=n[l]:r[l]?c=as:n[\"*\"]?c=n[\"*\"]:r[\"*\"]&&(c=as),c?a=a.concat(c({key:(t?`${t}.`:t)+e,value:i[e],valueSpec:r[l]||r[\"*\"],style:o,styleSpec:s,object:i,objectKey:e},i)):a.push(new Dt(t,i[e],`unknown property \"${e}\"`));}for(const e in r)n[e]||r[e].required&&void 0===r[e].default&&void 0===i[e]&&a.push(new zt(t,i,`missing required property \"${e}\"`));return a}function Ao(e){const t=e.value,i=e.valueSpec,r=e.style,n=e.styleSpec,o=e.key,s=e.arrayElementValidator||as;if(\"array\"!==Mi(t))return [new zt(o,t,`array expected, ${Mi(t)} found`)];if(i.length&&t.length!==i.length)return [new zt(o,t,`array length ${i.length} expected, length ${t.length} found`)];if(i[\"min-length\"]&&t.length<i[\"min-length\"])return [new zt(o,t,`array length at least ${i[\"min-length\"]} expected, length ${t.length} found`)];let a={type:i.value,values:i.values,minimum:i.minimum,maximum:i.maximum,function:void 0};n.$version<7&&(a.function=i.function),\"object\"===Mi(i.value)&&(a=i.value);let l=[];for(let e=0;e<t.length;e++)l=l.concat(s({array:t,arrayIndex:e,value:t[e],valueSpec:a,style:r,styleSpec:n,key:`${o}[${e}]`},!0));return l}function So(e){const t=e.key,i=e.value,r=e.valueSpec;let n=Mi(i);if(\"number\"===n&&i!=i&&(n=\"NaN\"),\"number\"!==n)return [new zt(t,i,`number expected, ${n} found`)];if(\"minimum\"in r){let n=r.minimum;if(\"array\"===Mi(r.minimum)&&(n=r.minimum[e.arrayIndex]),i<n)return [new zt(t,i,`${i} is less than the minimum value ${n}`)]}if(\"maximum\"in r){let n=r.maximum;if(\"array\"===Mi(r.maximum)&&(n=r.maximum[e.arrayIndex]),i>n)return [new zt(t,i,`${i} is greater than the maximum value ${n}`)]}return []}function Io(e){const t=e.valueSpec,i=Rt(e.value.type);let r,n,o,s={};const a=\"categorical\"!==i&&void 0===e.value.property,l=!a,c=\"array\"===Mi(e.value.stops)&&\"array\"===Mi(e.value.stops[0])&&\"object\"===Mi(e.value.stops[0][0]),h=Mo({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if(\"identity\"===i)return [new zt(e.key,e.value,'identity function may not have a \"stops\" property')];let t=[];const r=e.value;return t=t.concat(Ao({key:e.key,value:r,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:u})),\"array\"===Mi(r)&&0===r.length&&t.push(new zt(e.key,r,\"array must have at least one stop\")),t},default:function(e){return as({key:e.key,value:e.value,valueSpec:t,style:e.style,styleSpec:e.styleSpec})}}});return \"identity\"===i&&a&&h.push(new zt(e.key,e.value,'missing required property \"property\"')),\"identity\"===i||e.value.stops||h.push(new zt(e.key,e.value,'missing required property \"stops\"')),\"exponential\"===i&&e.valueSpec.expression&&!ao(e.valueSpec)&&h.push(new zt(e.key,e.value,\"exponential functions not supported\")),e.styleSpec.$version>=8&&(l&&!no(e.valueSpec)?h.push(new zt(e.key,e.value,\"property functions not supported\")):a&&!so(e.valueSpec)&&h.push(new zt(e.key,e.value,\"zoom functions not supported\"))),\"categorical\"!==i&&!c||void 0!==e.value.property||h.push(new zt(e.key,e.value,'\"property\" property is required')),h;function u(e){let i=[];const r=e.value,a=e.key;if(\"array\"!==Mi(r))return [new zt(a,r,`array expected, ${Mi(r)} found`)];if(2!==r.length)return [new zt(a,r,`array length 2 expected, length ${r.length} found`)];if(c){if(\"object\"!==Mi(r[0]))return [new zt(a,r,`object expected, ${Mi(r[0])} found`)];if(void 0===r[0].zoom)return [new zt(a,r,\"object stop key must have zoom\")];if(void 0===r[0].value)return [new zt(a,r,\"object stop key must have value\")];const t=Rt(r[0].zoom);if(\"number\"!=typeof t)return [new zt(a,r[0].zoom,\"stop zoom values must be numbers\")];if(o&&o>t)return [new zt(a,r[0].zoom,\"stop zoom values must appear in ascending order\")];t!==o&&(o=t,n=void 0,s={}),i=i.concat(Mo({key:`${a}[0]`,value:r[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:So,value:d}}));}else i=i.concat(d({key:`${a}[0]`,value:r[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},r));return yo(Lt(r[1]))?i.concat([new zt(`${a}[1]`,r[1],\"expressions are not allowed in function stops.\")]):i.concat(as({key:`${a}[1]`,value:r[1],valueSpec:t,style:e.style,styleSpec:e.styleSpec}))}function d(e,o){const a=Mi(e.value),l=Rt(e.value),c=null!==e.value?e.value:o;if(r){if(a!==r)return [new zt(e.key,c,`${a} stop domain type must match previous stop domain type ${r}`)]}else r=a;if(\"number\"!==a&&\"string\"!==a&&\"boolean\"!==a&&\"number\"!=typeof l&&\"string\"!=typeof l&&\"boolean\"!=typeof l)return [new zt(e.key,c,\"stop domain value must be a number, string, or boolean\")];if(\"number\"!==a&&\"categorical\"!==i){let r=`number expected, ${a} found`;return no(t)&&void 0===i&&(r+='\\nIf you intended to use a categorical function, specify `\"type\": \"categorical\"`.'),[new zt(e.key,c,r)]}return \"categorical\"!==i||\"number\"!==a||\"number\"==typeof l&&isFinite(l)&&Math.floor(l)===l?\"categorical\"!==i&&\"number\"===a&&\"number\"==typeof l&&\"number\"==typeof n&&void 0!==n&&l<n?[new zt(e.key,c,\"stop domain values must appear in ascending order\")]:(n=l,\"categorical\"===i&&l in s?[new zt(e.key,c,\"stop domain values must be unique\")]:(s[l]=!0,[])):[new zt(e.key,c,`integer expected, found ${String(l)}`)]}}function Co(e){const t=(\"property\"===e.expressionContext?wo:xo)(Lt(e.value),e.valueSpec);if(\"error\"===t.result)return t.value.map((t=>new zt(`${e.key}${t.key}`,e.value,t.message)));const i=t.value.expression||t.value._styleExpression.expression;if(\"property\"===e.expressionContext&&\"text-font\"===e.propertyKey&&!i.outputDefined())return [new zt(e.key,e.value,`Invalid data expression for \"${e.propertyKey}\". Output values must be contained as literals within the expression.`)];if(\"property\"===e.expressionContext&&\"layout\"===e.propertyType&&!Br(i))return [new zt(e.key,e.value,'\"feature-state\" data expressions are not supported with layout properties.')];if(\"filter\"===e.expressionContext)return zo(i,e);if(e.expressionContext&&0===e.expressionContext.indexOf(\"cluster\")){if(!Nr(i,[\"zoom\",\"feature-state\"]))return [new zt(e.key,e.value,'\"zoom\" and \"feature-state\" expressions are not supported with cluster properties.')];if(\"cluster-initial\"===e.expressionContext&&!Or(i))return [new zt(e.key,e.value,\"Feature data expressions are not supported with initial expression part of cluster properties.\")]}return []}function zo(e,t){const i=new Set([\"zoom\",\"feature-state\",\"pitch\",\"distance-from-center\"]);if(t.valueSpec&&t.valueSpec.expression)for(const e of t.valueSpec.expression.parameters)i.delete(e);if(0===i.size)return [];const r=[];return e instanceof Pi&&i.has(e.name)?[new zt(t.key,t.value,`[\"${e.name}\"] expression is not supported in a filter for a ${t.object.type} layer with id: ${t.object.id}`)]:(e.eachChild((e=>{r.push(...zo(e,t));})),r)}function Do(e){const t=e.key,i=e.value,r=e.valueSpec,n=[];return Array.isArray(r.values)?-1===r.values.indexOf(Rt(i))&&n.push(new zt(t,i,`expected one of [${r.values.join(\", \")}], ${JSON.stringify(i)} found`)):-1===Object.keys(r.values).indexOf(Rt(i))&&n.push(new zt(t,i,`expected one of [${Object.keys(r.values).join(\", \")}], ${JSON.stringify(i)} found`)),n}function Po(e){if(!0===e||!1===e)return !0;if(!Array.isArray(e)||0===e.length)return !1;switch(e[0]){case\"has\":return e.length>=2&&\"$id\"!==e[1]&&\"$type\"!==e[1];case\"in\":return e.length>=3&&(\"string\"!=typeof e[1]||Array.isArray(e[2]));case\"!in\":case\"!has\":case\"none\":return !1;case\"==\":case\"!=\":case\">\":case\">=\":case\"<\":case\"<=\":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case\"any\":case\"all\":for(const t of e.slice(1))if(!Po(t)&&\"boolean\"!=typeof t)return !1;return !0;default:return !0}}function Ro(e,t=\"fill\"){if(null==e)return {filter:()=>!0,needGeometry:!1,needFeature:!1};Po(e)||(e=Uo(e));const i=e;let r=!0;try{r=function(e){if(!Oo(e))return e;let t=Lt(e);return ko(t),t=Lo(t),t}(i);}catch(e){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\\nand paste the contents of this message in the report.\\nThank you!\\nFilter Expression:\\n${JSON.stringify(i,null,2)}\\n        `);}const n=Ct[`filter_${t}`],o=xo(r,n);let s=null;if(\"error\"===o.result)throw new Error(o.value.map((e=>`${e.key}: ${e.message}`)).join(\", \"));s=(e,t,i)=>o.value.evaluate(e,t,{},i);let a=null,l=null;if(r!==i){const e=xo(i,n);if(\"error\"===e.result)throw new Error(e.value.map((e=>`${e.key}: ${e.message}`)).join(\", \"));a=(t,i,r,n,o)=>e.value.evaluate(t,i,{},r,void 0,void 0,n,o),l=!Or(e.value.expression);}return {filter:s,dynamicFilter:a||void 0,needGeometry:No(r),needFeature:!!l}}function Lo(e){if(!Array.isArray(e))return e;const t=function(e){if(Bo.has(e[0]))for(let t=1;t<e.length;t++)if(Oo(e[t]))return !0;return e}(e);return !0===t?t:t.map((e=>Lo(e)))}function ko(e){let t=!1;const i=[];if(\"case\"===e[0]){for(let r=1;r<e.length-1;r+=2)t=t||Oo(e[r]),i.push(e[r+1]);i.push(e[e.length-1]);}else if(\"match\"===e[0]){t=t||Oo(e[1]);for(let t=2;t<e.length-1;t+=2)i.push(e[t+1]);i.push(e[e.length-1]);}else if(\"step\"===e[0]){t=t||Oo(e[1]);for(let t=1;t<e.length-1;t+=2)i.push(e[t+1]);}t&&(e.length=0,e.push(\"any\",...i));for(let t=1;t<e.length;t++)ko(e[t]);}function Oo(e){if(!Array.isArray(e))return !1;if(\"pitch\"===(t=e[0])||\"distance-from-center\"===t)return !0;var t;for(let t=1;t<e.length;t++)if(Oo(e[t]))return !0;return !1}const Bo=new Set([\"in\",\"==\",\"!=\",\">\",\">=\",\"<\",\"<=\",\"to-boolean\"]);function Fo(e,t){return e<t?-1:e>t?1:0}function No(e){if(!Array.isArray(e))return !1;if(\"within\"===e[0]||\"distance\"===e[0])return !0;for(let t=1;t<e.length;t++)if(No(e[t]))return !0;return !1}function Uo(e){if(!e)return !0;const t=e[0];return e.length<=1?\"any\"!==t:\"==\"===t?Vo(e[1],e[2],\"==\"):\"!=\"===t?qo(Vo(e[1],e[2],\"==\")):\"<\"===t||\">\"===t||\"<=\"===t||\">=\"===t?Vo(e[1],e[2],t):\"any\"===t?(i=e.slice(1),[\"any\"].concat(i.map(Uo))):\"all\"===t?[\"all\"].concat(e.slice(1).map(Uo)):\"none\"===t?[\"all\"].concat(e.slice(1).map(Uo).map(qo)):\"in\"===t?jo(e[1],e.slice(2)):\"!in\"===t?qo(jo(e[1],e.slice(2))):\"has\"===t?Go(e[1]):\"!has\"!==t||qo(Go(e[1]));var i;}function Vo(e,t,i){switch(e){case\"$type\":return [`filter-type-${i}`,t];case\"$id\":return [`filter-id-${i}`,t];default:return [`filter-${i}`,e,t]}}function jo(e,t){if(0===t.length)return !1;switch(e){case\"$type\":return [\"filter-type-in\",[\"literal\",t]];case\"$id\":return [\"filter-id-in\",[\"literal\",t]];default:return t.length>200&&!t.some((e=>typeof e!=typeof t[0]))?[\"filter-in-large\",e,[\"literal\",t.sort(Fo)]]:[\"filter-in-small\",e,[\"literal\",t]]}}function Go(e){switch(e){case\"$type\":return !0;case\"$id\":return [\"filter-has-id\"];default:return [\"filter-has\",e]}}function qo(e){return [\"!\",e]}function Zo(e){return Po(Lt(e.value))?Co(Pt({},e,{expressionContext:\"filter\",valueSpec:e.styleSpec[`filter_${e.layerType||\"fill\"}`]})):$o(e)}function $o(e){const t=e.value,i=e.key;if(\"array\"!==Mi(t))return [new zt(i,t,`array expected, ${Mi(t)} found`)];const r=e.styleSpec;let n,o=[];if(t.length<1)return [new zt(i,t,\"filter array must have at least 1 element\")];switch(o=o.concat(Do({key:`${i}[0]`,value:t[0],valueSpec:r.filter_operator,style:e.style,styleSpec:e.styleSpec})),Rt(t[0])){case\"<\":case\"<=\":case\">\":case\">=\":t.length>=2&&\"$type\"===Rt(t[1])&&o.push(new zt(i,t,`\"$type\" cannot be use with operator \"${t[0]}\"`));case\"==\":case\"!=\":3!==t.length&&o.push(new zt(i,t,`filter array for operator \"${t[0]}\" must have 3 elements`));case\"in\":case\"!in\":t.length>=2&&(n=Mi(t[1]),\"string\"!==n&&o.push(new zt(`${i}[1]`,t[1],`string expected, ${n} found`)));for(let s=2;s<t.length;s++)n=Mi(t[s]),\"$type\"===Rt(t[1])?o=o.concat(Do({key:`${i}[${s}]`,value:t[s],valueSpec:r.geometry_type,style:e.style,styleSpec:e.styleSpec})):\"string\"!==n&&\"number\"!==n&&\"boolean\"!==n&&o.push(new zt(`${i}[${s}]`,t[s],`string, number, or boolean expected, ${n} found`));break;case\"any\":case\"all\":case\"none\":for(let r=1;r<t.length;r++)o=o.concat($o({key:`${i}[${r}]`,value:t[r],style:e.style,styleSpec:e.styleSpec}));break;case\"has\":case\"!has\":n=Mi(t[1]),2!==t.length?o.push(new zt(i,t,`filter array for \"${t[0]}\" operator must have 2 elements`)):\"string\"!==n&&o.push(new zt(`${i}[1]`,t[1],`string expected, ${n} found`));}return o}function Ho(e,t){const i=e.key,r=e.style,n=e.layer,o=e.styleSpec,s=e.value,a=e.objectKey,l=o[`${t}_${e.layerType}`];if(!l)return [];const c=a.match(/^(.*)-transition$/);if(\"paint\"===t&&c&&l[c[1]]&&l[c[1]].transition)return as({key:i,value:s,valueSpec:o.transition,style:r,styleSpec:o});const h=e.valueSpec||l[a];if(!h)return [new Dt(i,s,`unknown property \"${a}\"`)];let u;if(\"string\"===Mi(s)&&no(h)&&!h.tokens&&(u=/^{([^}]+)}$/.exec(s))){const e=`\\`{ \"type\": \"identity\", \"property\": ${u?JSON.stringify(u[1]):'\"_\"'} }\\``;return [new zt(i,s,`\"${a}\" does not support interpolation syntax\\nUse an identity property function instead: ${e}.`)]}const d=[];if(\"symbol\"===e.layerType)\"text-field\"!==a||!r||r.glyphs||r.imports||d.push(new zt(i,s,'use of \"text-field\" requires a style \"glyphs\" property')),\"text-font\"===a&&lo(Lt(s))&&\"identity\"===Rt(s.type)&&d.push(new zt(i,s,'\"text-font\" does not support identity functions'));else if(\"model\"===e.layerType&&\"paint\"===t&&n&&n.layout&&n.layout.hasOwnProperty(\"model-id\")&&no(h)&&(oo(h)||so(h))){const e=wo(Lt(s),h),t=e.value.expression||e.value._styleExpression.expression;t&&!Nr(t,[\"measure-light\"])&&d.push(new zt(i,s,`${a} does not support measure-light expressions when the model layer source is vector tile or GeoJSON.`));}return d.concat(as({key:e.key,value:s,valueSpec:h,style:r,styleSpec:o,expressionContext:\"property\",propertyType:t,propertyKey:a}))}function Wo(e){return Ho(e,\"paint\")}function Xo(e){return Ho(e,\"layout\")}function Yo(e){let t=[];const i=e.value,r=e.key,n=e.style,o=e.styleSpec;i.type||i.ref||t.push(new zt(r,i,'either \"type\" or \"ref\" is required'));let s=Rt(i.type);const a=Rt(i.ref);if(i.id){const o=Rt(i.id);for(let s=0;s<e.arrayIndex;s++){const e=n.layers[s];Rt(e.id)===o&&t.push(new zt(r,i.id,`duplicate layer id \"${i.id}\", previously used at line ${e.id.__line__}`));}}if(\"ref\"in i){let e;[\"type\",\"source\",\"source-layer\",\"filter\",\"layout\"].forEach((e=>{e in i&&t.push(new zt(r,i[e],`\"${e}\" is prohibited for ref layers`));})),n.layers.forEach((t=>{Rt(t.id)===a&&(e=t);})),e?e.ref?t.push(new zt(r,i.ref,\"ref cannot reference another ref layer\")):s=Rt(e.type):\"string\"==typeof a&&t.push(new zt(r,i.ref,`ref layer \"${a}\" not found`));}else if(\"background\"!==s&&\"sky\"!==s&&\"slot\"!==s)if(i.source){const e=n.sources&&n.sources[i.source],o=e&&Rt(e.type);e?\"vector\"===o&&\"raster\"===s?t.push(new zt(r,i.source,`layer \"${i.id}\" requires a raster source`)):\"raster\"===o&&\"raster\"!==s?t.push(new zt(r,i.source,`layer \"${i.id}\" requires a vector source`)):\"vector\"!==o||i[\"source-layer\"]?\"raster-dem\"===o&&\"hillshade\"!==s?t.push(new zt(r,i.source,\"raster-dem source can only be used with layer type 'hillshade'.\")):\"line\"!==s||!i.paint||!i.paint[\"line-gradient\"]&&!i.paint[\"line-trim-offset\"]||\"geojson\"===o&&e.lineMetrics||t.push(new zt(r,i,`layer \"${i.id}\" specifies a line-gradient, which requires a GeoJSON source with \\`lineMetrics\\` enabled.`)):t.push(new zt(r,i,`layer \"${i.id}\" must specify a \"source-layer\"`)):t.push(new zt(r,i.source,`source \"${i.source}\" not found`));}else t.push(new zt(r,i,'missing required property \"source\"'));return t=t.concat(Mo({key:r,value:i,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{\"*\":()=>[],type:()=>as({key:`${r}.type`,value:i.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,object:i,objectKey:\"type\"}),filter:e=>Zo(Pt({layerType:s},e)),layout:e=>Mo({layer:i,key:e.key,value:e.value,valueSpec:{},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{\"*\":e=>Xo(Pt({layerType:s},e))}}),paint:e=>Mo({layer:i,key:e.key,value:e.value,valueSpec:{},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{\"*\":e=>Wo(Pt({layerType:s,layer:i},e))}})}})),t}function Ko(e){const t=e.value,i=e.key,r=Mi(t);return \"string\"!==r?[new zt(i,t,`string expected, ${r} found`)]:[]}const Jo={promoteId:function({key:e,value:t}){if(\"string\"===Mi(t))return Ko({key:e,value:t});{const i=[];for(const r in t)i.push(...Ko({key:`${e}.${r}`,value:t[r]}));return i}}};function Qo(e){const t=e.value,i=e.key,r=e.styleSpec,n=e.style;if(!t.type)return [new zt(i,t,'\"type\" is required')];const o=Rt(t.type);let s;switch(o){case\"vector\":case\"raster\":case\"raster-dem\":return s=Mo({key:i,value:t,valueSpec:r[`source_${o.replace(\"-\",\"_\")}`],style:e.style,styleSpec:r,objectElementValidators:Jo}),s;case\"geojson\":if(s=Mo({key:i,value:t,valueSpec:r.source_geojson,style:n,styleSpec:r,objectElementValidators:Jo}),t.cluster)for(const e in t.clusterProperties){const[r,n]=t.clusterProperties[e],o=\"string\"==typeof r?[r,[\"accumulated\"],[\"get\",e]]:r;s.push(...Co({key:`${i}.${e}.map`,value:n,expressionContext:\"cluster-map\"})),s.push(...Co({key:`${i}.${e}.reduce`,value:o,expressionContext:\"cluster-reduce\"}));}return s;case\"video\":return Mo({key:i,value:t,valueSpec:r.source_video,style:n,styleSpec:r});case\"image\":return Mo({key:i,value:t,valueSpec:r.source_image,style:n,styleSpec:r});case\"canvas\":return [new zt(i,null,\"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.\",\"source.canvas\")];default:return Do({key:`${i}.type`,value:t.type,valueSpec:{values:es(r)},style:n,styleSpec:r})}}function es(e){return e.source.reduce(((t,i)=>{const r=e[i];return \"enum\"===r.type.type&&(t=t.concat(Object.keys(r.type.values))),t}),[])}function ts(e){const t=e.value;let i=[];if(!t)return i;const r=Mi(t);return \"string\"!==r?(i=i.concat([new zt(e.key,t,`string expected, \"${r}\" found`)]),i):(function(e){const t=-1===e.indexOf(\"://\");try{return new URL(e,t?\"http://example.com\":void 0),!0}catch(e){return !1}}(t)||(i=i.concat([new zt(e.key,t,`invalid url \"${t}\"`)])),i)}function is(e){const t=e.value,i=e.styleSpec,r=i.light,n=e.style;let o=[];const s=Mi(t);if(void 0===t)return o;if(\"object\"!==s)return o=o.concat([new zt(\"light\",t,`object expected, ${s} found`)]),o;for(const e in t){const s=e.match(/^(.*)-transition$/);o=o.concat(s&&r[s[1]]&&r[s[1]].transition?as({key:e,value:t[e],valueSpec:i.transition,style:n,styleSpec:i}):r[e]?as({key:e,value:t[e],valueSpec:r[e],style:n,styleSpec:i}):[new zt(e,t[e],`unknown property \"${e}\"`)]);}return o}function rs(e){const t=e.value;let i=[];if(!t)return i;const r=Mi(t);if(\"object\"!==r)return i=i.concat([new zt(\"light-3d\",t,`object expected, ${r} found`)]),i;const n=e.styleSpec,o=n[\"light-3d\"],s=e.key,a=e.style,l=e.style.lights;for(const e of [\"type\",\"id\"])if(!(e in t))return i=i.concat([new zt(\"light-3d\",t,`missing property ${e} on light`)]),i;if(t.type&&l)for(let r=0;r<e.arrayIndex;r++){const e=Rt(t.type),n=l[r];Rt(n.type)===e&&i.push(new zt(s,t.id,`duplicate light type \"${t.type}\", previously defined at line ${n.id.__line__}`));}const c=`properties_light_${t.type}`;if(!(c in n))return i=i.concat([new zt(\"light-3d\",t,`Invalid light type ${t.type}`)]),i;const h=n[c];for(const r in t)if(\"properties\"===r){const o=t[r],s=Mi(o);if(\"object\"!==s)return i=i.concat([new zt(\"properties\",o,`object expected, ${s} found`)]),i;for(const t in o)i=i.concat(h[t]?as({key:t,value:o[t],valueSpec:h[t],style:a,styleSpec:n}):[new Dt(e.key,o[t],`unknown property \"${t}\"`)]);}else {const e=r.match(/^(.*)-transition$/);i=i.concat(e&&o[e[1]]&&o[e[1]].transition?as({key:r,value:t[r],valueSpec:n.transition,style:a,styleSpec:n}):o[r]?as({key:r,value:t[r],valueSpec:o[r],style:a,styleSpec:n}):[new Dt(r,t[r],`unknown property \"${r}\"`)]);}return i}function ns(e){const t=e.value,i=e.key,r=e.style,n=e.styleSpec,o=n.terrain;let s=[];const a=Mi(t);if(void 0===t)return s;if(\"object\"!==a)return s=s.concat([new zt(\"terrain\",t,`object expected, ${a} found`)]),s;for(const e in t){const i=e.match(/^(.*)-transition$/);s=s.concat(i&&o[i[1]]&&o[i[1]].transition?as({key:e,value:t[e],valueSpec:n.transition,style:r,styleSpec:n}):o[e]?as({key:e,value:t[e],valueSpec:o[e],style:r,styleSpec:n}):[new Dt(e,t[e],`unknown property \"${e}\"`)]);}if(t.source){const e=r.sources&&r.sources[t.source],n=e&&Rt(e.type);e?\"raster-dem\"!==n&&s.push(new zt(i,t.source,`terrain cannot be used with a source of type ${String(n)}, it only be used with a \"raster-dem\" source type`)):s.push(new zt(i,t.source,`source \"${t.source}\" not found`));}else s.push(new zt(i,t,'terrain is missing required property \"source\"'));return s}function os(e){const t=e.value,i=e.style,r=e.styleSpec,n=r.fog;let o=[];const s=Mi(t);if(void 0===t)return o;if(\"object\"!==s)return o=o.concat([new zt(\"fog\",t,`object expected, ${s} found`)]),o;for(const e in t){const s=e.match(/^(.*)-transition$/);o=o.concat(s&&n[s[1]]&&n[s[1]].transition?as({key:e,value:t[e],valueSpec:r.transition,style:i,styleSpec:r}):n[e]?as({key:e,value:t[e],valueSpec:n[e],style:i,styleSpec:r}):[new Dt(e,t[e],`unknown property \"${e}\"`)]);}return o}const ss={\"*\":()=>[],array:Ao,boolean:function(e){const t=e.value,i=e.key,r=Mi(t);return \"boolean\"!==r?[new zt(i,t,`boolean expected, ${r} found`)]:[]},number:So,color:function(e){const t=e.key,i=e.value,r=Mi(i);return \"string\"!==r?[new zt(t,i,`color expected, ${r} found`)]:null===ti(i)?[new zt(t,i,`color expected, \"${i}\" found`)]:[]},enum:Do,filter:Zo,function:Io,layer:Yo,object:Mo,source:Qo,model:ts,light:is,\"light-3d\":rs,terrain:ns,fog:os,string:Ko,formatted:function(e){return 0===Ko(e).length?[]:Co(e)},resolvedImage:function(e){return 0===Ko(e).length?[]:Co(e)},projection:function(e){const t=e.value,i=e.styleSpec,r=i.projection,n=e.style;let o=[];const s=Mi(t);if(\"object\"===s)for(const e in t)o=o.concat(as({key:e,value:t[e],valueSpec:r[e],style:n,styleSpec:i}));else \"string\"!==s&&(o=o.concat([new zt(\"projection\",t,`object or string expected, ${s} found`)]));return o},import:function(e){const{value:t,styleSpec:i}=e,{data:r,...n}=t;Object.defineProperty(n,\"__line__\",{value:t.__line__,enumerable:!1});let o=Mo(Pt({},e,{value:n,valueSpec:i.import}));return \"\"===Rt(n.id)&&o.push(new zt(`${e.key}.id`,n,\"import id can't be an empty string\")),r&&(o=o.concat(cs(r,i,{key:`${e.key}.data`}))),o}};function as(e,t=!1){const i=e.value,r=e.valueSpec,n=e.styleSpec;if(r.expression&&lo(Rt(i)))return Io(e);if(r.expression&&yo(Lt(i)))return Co(e);if(r.type&&ss[r.type]){const i=ss[r.type](e);return !0===t&&i.length>0&&\"array\"===Mi(e.value)?Co(e):i}return Mo(Pt({},e,{valueSpec:r.type?n[r.type]:r}))}function ls(e){const t=e.value,i=e.key,r=Ko(e);return r.length||(-1===t.indexOf(\"{fontstack}\")&&r.push(new zt(i,t,'\"glyphs\" url must include a \"{fontstack}\" token')),-1===t.indexOf(\"{range}\")&&r.push(new zt(i,t,'\"glyphs\" url must include a \"{range}\" token'))),r}function cs(e,t=Ct,i={}){return as({key:i.key||\"\",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:ls,\"*\":()=>[]}})}function hs(e,t=Ct){return bs(cs(e,t))}const us=e=>bs(Qo(e)),ds=e=>bs(is(e)),ps=e=>bs(rs(e)),fs=e=>bs(ns(e)),ms=e=>bs(os(e)),_s=e=>bs(Yo(e)),gs=e=>bs(Zo(e)),ys=e=>bs(Wo(e)),xs=e=>bs(Xo(e)),vs=e=>bs(ts(e));function bs(e){return e.slice().sort(((e,t)=>e.line&&t.line?e.line-t.line:0))}function ws(e,t){let i=!1;if(t&&t.length)for(const r of t)r instanceof Dt?W(r.message):(e.fire(new St(new Error(r.message))),i=!0);return i}var Ts=Ms,Es=3;function Ms(e,t,i){var r=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var n=new Int32Array(this.arrayBuffer);e=n[0],this.d=(t=n[1])+2*(i=n[2]);for(var o=0;o<this.d*this.d;o++){var s=n[Es+o],a=n[Es+o+1];r.push(s===a?null:n.subarray(s,a));}var l=n[Es+r.length+1];this.keys=n.subarray(n[Es+r.length],l),this.bboxes=n.subarray(l),this.insert=this._insertReadonly;}else {this.d=t+2*i;for(var c=0;c<this.d*this.d;c++)r.push([]);this.keys=[],this.bboxes=[];}this.n=t,this.extent=e,this.padding=i,this.scale=t/e,this.uid=0;var h=i/t*e;this.min=-h,this.max=e+h;}Ms.prototype.insert=function(e,t,i,r,n){this._forEachCell(t,i,r,n,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(i),this.bboxes.push(r),this.bboxes.push(n);},Ms.prototype._insertReadonly=function(){throw \"Cannot insert into a GridIndex created from an ArrayBuffer.\"},Ms.prototype._insertCell=function(e,t,i,r,n,o){this.cells[n].push(o);},Ms.prototype.query=function(e,t,i,r,n){var o=this.min,s=this.max;if(e<=o&&t<=o&&s<=i&&s<=r&&!n)return Array.prototype.slice.call(this.keys);var a=[];return this._forEachCell(e,t,i,r,this._queryCell,a,{},n),a},Ms.prototype._queryCell=function(e,t,i,r,n,o,s,a){var l=this.cells[n];if(null!==l)for(var c=this.keys,h=this.bboxes,u=0;u<l.length;u++){var d=l[u];if(void 0===s[d]){var p=4*d;(a?a(h[p+0],h[p+1],h[p+2],h[p+3]):e<=h[p+2]&&t<=h[p+3]&&i>=h[p+0]&&r>=h[p+1])?(s[d]=!0,o.push(c[d])):s[d]=!1;}}},Ms.prototype._forEachCell=function(e,t,i,r,n,o,s,a){for(var l=this._convertToCellCoord(e),c=this._convertToCellCoord(t),h=this._convertToCellCoord(i),u=this._convertToCellCoord(r),d=l;d<=h;d++)for(var p=c;p<=u;p++){var f=this.d*p+d;if((!a||a(this._convertFromCellCoord(d),this._convertFromCellCoord(p),this._convertFromCellCoord(d+1),this._convertFromCellCoord(p+1)))&&n.call(this,e,t,i,r,f,o,s,a))return}},Ms.prototype._convertFromCellCoord=function(e){return (e-this.padding)/this.scale},Ms.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},Ms.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=Es+this.cells.length+1+1,i=0,r=0;r<this.cells.length;r++)i+=this.cells[r].length;var n=new Int32Array(t+i+this.keys.length+this.bboxes.length);n[0]=this.extent,n[1]=this.n,n[2]=this.padding;for(var o=t,s=0;s<e.length;s++){var a=e[s];n[Es+s]=o,n.set(a,o),o+=a.length;}return n[Es+e.length]=o,n.set(this.keys,o),n[Es+e.length+1]=o+=this.keys.length,n.set(this.bboxes,o),o+=this.bboxes.length,n.buffer};var As=d(Ts);const Ss={};function Is(e,t,i={}){Object.defineProperty(e,\"_classRegistryKey\",{value:t,writeable:!1}),Ss[t]={klass:e,omit:i.omit||[]};}Is(Object,\"Object\"),As.serialize=function(e,t){const i=e.toArrayBuffer();return t&&t.add(i),{buffer:i}},As.deserialize=function(e){return new As(e.buffer)},Object.defineProperty(As,\"name\",{value:\"Grid\"}),Is(As,\"Grid\"),Is(li,\"Color\"),Is(Error,\"Error\"),Is(xe,\"AJAXError\"),Is(di,\"ResolvedImage\"),Is(To,\"StylePropertyFunction\"),Is(go,\"StyleExpression\",{omit:[\"_evaluator\"]}),Is(bo,\"ZoomDependentExpression\"),Is(vo,\"ZoomConstantExpression\"),Is(Pi,\"CompoundExpression\",{omit:[\"_evaluate\"]});for(const e in eo)Ss[eo[e]._classRegistryKey]||Is(eo[e],`Expression${e}`);function Cs(e){return e&&\"undefined\"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&\"ArrayBuffer\"===e.constructor.name)}function zs(e){return t.ImageBitmap&&e instanceof t.ImageBitmap}function Ds(e,i){if(null==e||\"boolean\"==typeof e||\"number\"==typeof e||\"string\"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(Cs(e)||zs(e))return i&&i.add(e),e;if(ArrayBuffer.isView(e)){const t=e;return i&&i.add(t.buffer),t}if(e instanceof t.ImageData)return i&&i.add(e.data.buffer),e;if(Array.isArray(e)){const t=[];for(const r of e)t.push(Ds(r,i));return t}if(e instanceof Map){const t={$name:\"Map\"};for(const[i,r]of e.entries())t[i]=Ds(r);return t}if(\"object\"==typeof e){const t=e.constructor,r=t._classRegistryKey;if(!r)throw new Error(`can't serialize object of unregistered class ${r}`);const n=t.serialize?t.serialize(e,i):{};if(!t.serialize){for(const t in e)e.hasOwnProperty(t)&&(Ss[r].omit.indexOf(t)>=0||(n[t]=Ds(e[t],i)));e instanceof Error&&(n.message=e.message);}if(n.$name)throw new Error(\"$name property is reserved for worker serialization logic.\");return \"Object\"!==r&&(n.$name=r),n}throw new Error(\"can't serialize object of type \"+typeof e)}function Ps(e){if(null==e||\"boolean\"==typeof e||\"number\"==typeof e||\"string\"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||Cs(e)||zs(e)||ArrayBuffer.isView(e)||e instanceof t.ImageData)return e;if(Array.isArray(e))return e.map(Ps);if(\"object\"==typeof e){const t=e.$name||\"Object\";if(\"Map\"===t){const t=new Map;for(const i of Object.keys(e))\"$name\"!==i&&t.set(i,Ps(e[i]));return t}const{klass:i}=Ss[t];if(!i)throw new Error(`can't deserialize unregistered class ${t}`);if(i.deserialize)return i.deserialize(e);const r=Object.create(i.prototype);for(const t of Object.keys(e))\"$name\"!==t&&(r[t]=Ps(e[t]));return r}throw new Error(\"can't deserialize object of type \"+typeof e)}const Rs={\"Latin-1 Supplement\":e=>e>=128&&e<=255,Arabic:e=>e>=1536&&e<=1791,\"Arabic Supplement\":e=>e>=1872&&e<=1919,\"Arabic Extended-A\":e=>e>=2208&&e<=2303,\"Hangul Jamo\":e=>e>=4352&&e<=4607,\"Unified Canadian Aboriginal Syllabics\":e=>e>=5120&&e<=5759,Khmer:e=>e>=6016&&e<=6143,\"Unified Canadian Aboriginal Syllabics Extended\":e=>e>=6320&&e<=6399,\"General Punctuation\":e=>e>=8192&&e<=8303,\"Letterlike Symbols\":e=>e>=8448&&e<=8527,\"Number Forms\":e=>e>=8528&&e<=8591,\"Miscellaneous Technical\":e=>e>=8960&&e<=9215,\"Control Pictures\":e=>e>=9216&&e<=9279,\"Optical Character Recognition\":e=>e>=9280&&e<=9311,\"Enclosed Alphanumerics\":e=>e>=9312&&e<=9471,\"Geometric Shapes\":e=>e>=9632&&e<=9727,\"Miscellaneous Symbols\":e=>e>=9728&&e<=9983,\"Miscellaneous Symbols and Arrows\":e=>e>=11008&&e<=11263,\"CJK Radicals Supplement\":e=>e>=11904&&e<=12031,\"Kangxi Radicals\":e=>e>=12032&&e<=12255,\"Ideographic Description Characters\":e=>e>=12272&&e<=12287,\"CJK Symbols and Punctuation\":e=>e>=12288&&e<=12351,Hiragana:e=>e>=12352&&e<=12447,Katakana:e=>e>=12448&&e<=12543,Bopomofo:e=>e>=12544&&e<=12591,\"Hangul Compatibility Jamo\":e=>e>=12592&&e<=12687,Kanbun:e=>e>=12688&&e<=12703,\"Bopomofo Extended\":e=>e>=12704&&e<=12735,\"CJK Strokes\":e=>e>=12736&&e<=12783,\"Katakana Phonetic Extensions\":e=>e>=12784&&e<=12799,\"Enclosed CJK Letters and Months\":e=>e>=12800&&e<=13055,\"CJK Compatibility\":e=>e>=13056&&e<=13311,\"CJK Unified Ideographs Extension A\":e=>e>=13312&&e<=19903,\"Yijing Hexagram Symbols\":e=>e>=19904&&e<=19967,\"CJK Unified Ideographs\":e=>e>=19968&&e<=40959,\"Yi Syllables\":e=>e>=40960&&e<=42127,\"Yi Radicals\":e=>e>=42128&&e<=42191,\"Hangul Jamo Extended-A\":e=>e>=43360&&e<=43391,\"Hangul Syllables\":e=>e>=44032&&e<=55215,\"Hangul Jamo Extended-B\":e=>e>=55216&&e<=55295,\"Private Use Area\":e=>e>=57344&&e<=63743,\"CJK Compatibility Ideographs\":e=>e>=63744&&e<=64255,\"Arabic Presentation Forms-A\":e=>e>=64336&&e<=65023,\"Vertical Forms\":e=>e>=65040&&e<=65055,\"CJK Compatibility Forms\":e=>e>=65072&&e<=65103,\"Small Form Variants\":e=>e>=65104&&e<=65135,\"Arabic Presentation Forms-B\":e=>e>=65136&&e<=65279,\"Halfwidth and Fullwidth Forms\":e=>e>=65280&&e<=65519,\"CJK Unified Ideographs Extension B\":e=>e>=131072&&e<=173791};function Ls(e){for(const t of e)if(Bs(t.charCodeAt(0)))return !0;return !1}function ks(e){for(const t of e)if(!Os(t.charCodeAt(0)))return !1;return !0}function Os(e){return !(Rs.Arabic(e)||Rs[\"Arabic Supplement\"](e)||Rs[\"Arabic Extended-A\"](e)||Rs[\"Arabic Presentation Forms-A\"](e)||Rs[\"Arabic Presentation Forms-B\"](e))}function Bs(e){return !(746!==e&&747!==e&&(e<4352||!(Rs[\"Bopomofo Extended\"](e)||Rs.Bopomofo(e)||Rs[\"CJK Compatibility Forms\"](e)&&!(e>=65097&&e<=65103)||Rs[\"CJK Compatibility Ideographs\"](e)||Rs[\"CJK Compatibility\"](e)||Rs[\"CJK Radicals Supplement\"](e)||Rs[\"CJK Strokes\"](e)||!(!Rs[\"CJK Symbols and Punctuation\"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||Rs[\"CJK Unified Ideographs Extension A\"](e)||Rs[\"CJK Unified Ideographs\"](e)||Rs[\"Enclosed CJK Letters and Months\"](e)||Rs[\"Hangul Compatibility Jamo\"](e)||Rs[\"Hangul Jamo Extended-A\"](e)||Rs[\"Hangul Jamo Extended-B\"](e)||Rs[\"Hangul Jamo\"](e)||Rs[\"Hangul Syllables\"](e)||Rs.Hiragana(e)||Rs[\"Ideographic Description Characters\"](e)||Rs.Kanbun(e)||Rs[\"Kangxi Radicals\"](e)||Rs[\"Katakana Phonetic Extensions\"](e)||Rs.Katakana(e)&&12540!==e||!(!Rs[\"Halfwidth and Fullwidth Forms\"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!Rs[\"Small Form Variants\"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||Rs[\"Unified Canadian Aboriginal Syllabics\"](e)||Rs[\"Unified Canadian Aboriginal Syllabics Extended\"](e)||Rs[\"Vertical Forms\"](e)||Rs[\"Yijing Hexagram Symbols\"](e)||Rs[\"Yi Syllables\"](e)||Rs[\"Yi Radicals\"](e))))}function Fs(e){return !(Bs(e)||function(e){return !!(Rs[\"Latin-1 Supplement\"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||Rs[\"General Punctuation\"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||Rs[\"Letterlike Symbols\"](e)||Rs[\"Number Forms\"](e)||Rs[\"Miscellaneous Technical\"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||Rs[\"Control Pictures\"](e)&&9251!==e||Rs[\"Optical Character Recognition\"](e)||Rs[\"Enclosed Alphanumerics\"](e)||Rs[\"Geometric Shapes\"](e)||Rs[\"Miscellaneous Symbols\"](e)&&!(e>=9754&&e<=9759)||Rs[\"Miscellaneous Symbols and Arrows\"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Rs[\"CJK Symbols and Punctuation\"](e)||Rs.Katakana(e)||Rs[\"Private Use Area\"](e)||Rs[\"CJK Compatibility Forms\"](e)||Rs[\"Small Form Variants\"](e)||Rs[\"Halfwidth and Fullwidth Forms\"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function Ns(e){return e>=1424&&e<=2303||Rs[\"Arabic Presentation Forms-A\"](e)||Rs[\"Arabic Presentation Forms-B\"](e)}function Us(e,t){return !(!t&&Ns(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||Rs.Khmer(e))}function Vs(e){for(const t of e)if(Ns(t.charCodeAt(0)))return !0;return !1}const js=\"deferred\",Gs=\"loading\",qs=\"loaded\";let Zs=null,$s=\"unavailable\",Hs=null;const Ws=function(e){e&&\"string\"==typeof e&&e.indexOf(\"NetworkError\")>-1&&($s=\"error\"),Zs&&Zs(e);};function Xs(){Ys.fire(new At(\"pluginStateChange\",{pluginStatus:$s,pluginURL:Hs}));}const Ys=new It,Ks=function(){return $s},Js=function(){if($s!==js||!Hs)throw new Error(\"rtl-text-plugin cannot be downloaded unless a pluginURL is specified\");$s=Gs,Xs(),Hs&&Te({url:Hs},(e=>{e?Ws(e):($s=qs,Xs());}));},Qs={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>$s===qs||null!=Qs.applyArabicShaping,isLoading:()=>$s===Gs,setState(e){$s=e.pluginStatus,Hs=e.pluginURL;},isParsed:()=>null!=Qs.applyArabicShaping&&null!=Qs.processBidirectionalText&&null!=Qs.processStyledBidirectionalText,getPluginURL:()=>Hs};class ea{constructor(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.transition=t.transition,this.pitch=t.pitch,this.brightness=t.brightness):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0,this.brightness=0);}isSupportedScript(e){return function(e,t){for(const i of e)if(!Us(i.charCodeAt(0),t))return !1;return !0}(e,Qs.isLoaded())}}class ta{constructor(e,t,i){this.property=e,this.value=t,this.expression=function(e,t,i){if(lo(e))return new To(e,t);if(yo(e)||Array.isArray(e)&&e.length>0){const r=wo(e,t,i);if(\"error\"===r.result)throw new Error(r.value.map((e=>`${e.key}: ${e.message}`)).join(\", \"));return r.value}{let i=e;return \"string\"==typeof e&&\"color\"===t.type&&(i=li.parse(e)),{kind:\"constant\",isConfigDependent:!1,evaluate:()=>i}}}(void 0===t?e.specification.default:t,e.specification,i);}isDataDriven(){return \"source\"===this.expression.kind||\"composite\"===this.expression.kind}possiblyEvaluate(e,t,i){return this.property.possiblyEvaluate(this,e,t,i)}}class ia{constructor(e,t){this.property=e,this.value=new ta(e,void 0,t);}transitioned(e,t){return new na(this.property,this.value,t,k({},e.transition,this.transition),e.now)}untransitioned(){return new na(this.property,this.value,null,{},0)}}class ra{constructor(e,t){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues),this._options=t,this.isConfigDependent=!1;}getValue(e){return $(this._values[e].value.value)}setValue(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new ia(this._values[e].property,this._options)),this._values[e].value=new ta(this._values[e].property,null===t?void 0:$(t),this._options),this.isConfigDependent=this.isConfigDependent||this._values[e].value.expression.isConfigDependent;}setTransitionOrValue(e,t){t&&(this._options=t);const i=this._properties.properties;if(e)for(const t in e){const r=e[t];if(G(t,\"-transition\")){const e=t.slice(0,-11);i[e]&&this.setTransition(e,r);}else i[t]&&this.setValue(t,r);}}getTransition(e){return $(this._values[e].transition)}setTransition(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new ia(this._values[e].property)),this._values[e].transition=$(t)||void 0;}serialize(){const e={};for(const t of Object.keys(this._values)){const i=this.getValue(t);void 0!==i&&(e[t]=i);const r=this.getTransition(t);void 0!==r&&(e[`${t}-transition`]=r);}return e}transitioned(e,t){const i=new oa(this._properties);for(const r of Object.keys(this._values))i._values[r]=this._values[r].transitioned(e,t._values[r]);return i}untransitioned(){const e=new oa(this._properties);for(const t of Object.keys(this._values))e._values[t]=this._values[t].untransitioned();return e}}class na{constructor(e,t,i,r,n){const o=r.delay||0,s=r.duration||0;n=n||0,this.property=e,this.value=t,this.begin=n+o,this.end=this.begin+s,e.specification.transition&&(r.delay||r.duration)&&(this.prior=i);}possiblyEvaluate(e,t,i){const r=e.now||0,n=this.value.possiblyEvaluate(e,t,i),o=this.prior;if(o){if(r>this.end)return this.prior=null,n;if(this.value.isDataDriven())return this.prior=null,n;if(r<this.begin)return o.possiblyEvaluate(e,t,i);{const s=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(e,t,i),n,M(s))}}return n}}class oa{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues);}possiblyEvaluate(e,t,i){const r=new la(this._properties);for(const n of Object.keys(this._values))r._values[n]=this._values[n].possiblyEvaluate(e,t,i);return r}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return !0;return !1}}class sa{constructor(e,t){this._properties=e,this._values=Object.create(e.defaultPropertyValues),this._options=t,this.isConfigDependent=!1;}getValue(e){return $(this._values[e].value)}setValue(e,t){this._values[e]=new ta(this._values[e].property,null===t?void 0:$(t),this._options),this.isConfigDependent=this.isConfigDependent||this._values[e].expression.isConfigDependent;}serialize(){const e={};for(const t of Object.keys(this._values)){const i=this.getValue(t);void 0!==i&&(e[t]=i);}return e}possiblyEvaluate(e,t,i){const r=new la(this._properties);for(const n of Object.keys(this._values))r._values[n]=this._values[n].possiblyEvaluate(e,t,i);return r}}class aa{constructor(e,t,i){this.property=e,this.value=t,this.parameters=i;}isConstant(){return \"constant\"===this.value.kind}constantOr(e){return \"constant\"===this.value.kind?this.value.value:e}evaluate(e,t,i,r){return this.property.evaluate(this.value,this.parameters,e,t,i,r)}}class la{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues);}get(e){return this._values[e]}}class ca{constructor(e){this.specification=e;}possiblyEvaluate(e,t){return e.expression.evaluate(t)}interpolate(e,t,i){const r=Yr[this.specification.type];return r?r(e,t,i):e}}class ha{constructor(e,t){this.specification=e,this.overrides=t;}possiblyEvaluate(e,t,i,r){return new aa(this,\"constant\"===e.expression.kind||\"camera\"===e.expression.kind?{kind:\"constant\",value:e.expression.evaluate(t,null,{},i,r)}:e.expression,t)}interpolate(e,t,i){if(\"constant\"!==e.value.kind||\"constant\"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new aa(this,{kind:\"constant\",value:void 0},e.parameters);const r=Yr[this.specification.type];return r?new aa(this,{kind:\"constant\",value:r(e.value.value,t.value.value,i)},e.parameters):e}evaluate(e,t,i,r,n,o){return \"constant\"===e.kind?e.value:e.evaluate(t,i,r,n,o)}}class ua{constructor(e){this.specification=e;}possiblyEvaluate(e,t,i,r){return !!e.expression.evaluate(t,null,{},i,r)}interpolate(){return !1}}class da{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const t=new ea(0,{});for(const i in e){const r=e[i];r.specification.overridable&&this.overridableProperties.push(i);const n=this.defaultPropertyValues[i]=new ta(r,void 0),o=this.defaultTransitionablePropertyValues[i]=new ia(r);this.defaultTransitioningPropertyValues[i]=o.untransitioned(),this.defaultPossiblyEvaluatedValues[i]=n.possiblyEvaluate(t);}}}function pa(e,t){return t?`${e}\u001f${t}`:e}function fa(e){const t=e.indexOf(\"\u001f\");return t>=0?e.slice(0,t):e}Is(ha,\"DataDrivenProperty\"),Is(ca,\"DataConstantProperty\"),Is(ua,\"ColorRampProperty\");const ma=\"-transition\";class _a extends It{constructor(e,t,i){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,this.isConfigDependent=!1,\"custom\"!==e.type&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,\"background\"!==e.type&&\"sky\"!==e.type&&\"slot\"!==e.type&&(this.source=e.source,this.sourceLayer=e[\"source-layer\"],this.filter=e.filter),this.options=i,e.slot&&(this.slot=e.slot),t.layout&&(this._unevaluatedLayout=new sa(t.layout,i),this.isConfigDependent=this.isConfigDependent||this._unevaluatedLayout.isConfigDependent),t.paint)){this._transitionablePaint=new ra(t.paint,i);for(const t in e.paint)this.setPaintProperty(t,e.paint[t],{validate:!1});for(const t in e.layout)this.setLayoutProperty(t,e.layout[t],{validate:!1});this.isConfigDependent=this.isConfigDependent||this._transitionablePaint.isConfigDependent,this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new la(t.paint);}}setScope(e){this.scope=e,this.fqid=pa(this.id,e);}getLayoutProperty(e){return \"visibility\"===e?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,t,i={}){if(null!=t&&this._validate(xs,`layers.${this.id}.layout.${e}`,e,t,i))return;if(\"custom\"===this.type&&\"visibility\"===e)return void(this.visibility=t);const r=this._unevaluatedLayout;r._properties.properties[e]&&(r.setValue(e,t),this.isConfigDependent=this.isConfigDependent||r.isConfigDependent,\"visibility\"===e&&this.possiblyEvaluateVisibility());}possiblyEvaluateVisibility(){this.visibility=this._unevaluatedLayout._values.visibility.possiblyEvaluate({zoom:0});}getPaintProperty(e){return G(e,ma)?this._transitionablePaint.getTransition(e.slice(0,-11)):this._transitionablePaint.getValue(e)}setPaintProperty(e,t,i={}){if(null!=t&&this._validate(ys,`layers.${this.id}.paint.${e}`,e,t,i))return !1;const r=this._transitionablePaint,n=r._properties.properties;if(G(e,ma)){const i=e.slice(0,-11);return n[i]&&r.setTransition(i,t||void 0),!1}if(!n[e])return !1;const o=r._values[e],s=o.value.isDataDriven(),a=o.value;r.setValue(e,t),this.isConfigDependent=this.isConfigDependent||r.isConfigDependent,this._handleSpecialPaintPropertyUpdate(e);const l=r._values[e].value,c=l.isDataDriven(),h=G(e,\"pattern\")||\"line-dasharray\"===e;return c||s||h||this._handleOverridablePaintPropertyUpdate(e,a,l)}_handleSpecialPaintPropertyUpdate(e){}getProgramIds(){return null}getDefaultProgramParams(e,t){return null}_handleOverridablePaintPropertyUpdate(e,t,i){return !1}isHidden(e){return !!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||\"none\"===this.visibility}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint);}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,t){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t);}serialize(){return Z({id:this.id,type:this.type,slot:this.slot,source:this.source,\"source-layer\":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()},((e,t)=>!(void 0===e||\"layout\"===t&&!Object.keys(e).length||\"paint\"===t&&!Object.keys(e).length)))}_validate(e,t,i,r,n={}){return (!n||!1!==n.validate)&&ws(this,e.call(hs,{key:t,layerType:this.type,objectKey:i,value:r,styleSpec:Ct,style:{glyphs:!0,sprite:!0}}))}is3D(){return !1}isSky(){return !1}isTileClipped(){return !1}hasOffscreenPass(){return !1}hasShadowPass(){return !1}canCastShadows(){return !1}hasLightBeamPass(){return !1}cutoffRange(){return 0}resize(){}isStateDependent(){for(const e in this.paint._values){const t=this.paint.get(e);if(t instanceof aa&&no(t.property.specification)&&(\"source\"===t.value.kind||\"composite\"===t.value.kind)&&t.value.isStateDependent)return !0}return !1}compileFilter(){this._filterCompiled||(this._featureFilter=Ro(this.filter),this._filterCompiled=!0);}invalidateCompiledFilter(){this._filterCompiled=!1;}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}class ga{constructor(){this.changed=!1,this._updatedLayers={},this._removedLayers={},this.updatedSourceCaches={},this.updatedPaintProps=new Set,this.changedImages=new Set;}updateLayer(e){const t=e.scope;this._updatedLayers[t]=this._updatedLayers[t]||new Set,this._updatedLayers[t].add(e.id);}removeLayer(e){const t=e.scope;this._removedLayers[t]=this._removedLayers[t]||{},this._updatedLayers[t]=this._updatedLayers[t]||new Set,this._removedLayers[t][e.id]=e,this._updatedLayers[t].delete(e.id),this.updatedPaintProps.delete(e.fqid);}getRemovedLayer(e){return this._removedLayers[e.scope]?this._removedLayers[e.scope][e.id]:null}discardLayerRemoval(e){this._removedLayers[e.scope]&&delete this._removedLayers[e.scope][e.id];}getLayerUpdatesByScope(){const e={};for(const t in this._updatedLayers)e[t]=e[t]||{},e[t].updatedIds=Array.from(this._updatedLayers[t].values());for(const t in this._removedLayers)e[t]=e[t]||{},e[t].removedIds=Object.keys(this._removedLayers[t]);return e}reset(){this.changed=!1,this._updatedLayers={},this._removedLayers={},this.updatedSourceCaches={},this.updatedPaintProps.clear(),this.changedImages.clear();}}const ya={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class xa{constructor(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8;}}class va{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0);}static serialize(e,t){return e._trim(),t&&(e.isTransferred=!0,t.add(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews());}clear(){this.length=0;}resize(e){this.reserve(e),this.length=e;}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const t=this.uint8;this._refreshViews(),t&&this.uint8.set(t);}}_refreshViews(){throw new Error(\"_refreshViews() must be implemented by each concrete StructArray layout\")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null;}}function ba(e,t=1){let i=0,r=0;return {members:e.map((e=>{const n=ya[e.type].BYTES_PER_ELEMENT,o=i=wa(i,Math.max(t,n)),s=e.components||1;return r=Math.max(r,n),i+=n*s,{name:e.name,type:e.type,components:s,offset:o}})),size:wa(i,Math.max(r,t)),alignment:t}}function wa(e,t){return Math.ceil(e/t)*t}class Ta extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(e,t){const i=this.length;return this.resize(i+1),this.emplace(i,e,t)}emplace(e,t,i){const r=2*e;return this.int16[r+0]=t,this.int16[r+1]=i,e}}Ta.prototype.bytesPerElement=4,Is(Ta,\"StructArrayLayout2i4\");class Ea extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(e,t,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,i)}emplace(e,t,i,r){const n=3*e;return this.int16[n+0]=t,this.int16[n+1]=i,this.int16[n+2]=r,e}}Ea.prototype.bytesPerElement=6,Is(Ea,\"StructArrayLayout3i6\");class Ma extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(e,t,i,r){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,i,r)}emplace(e,t,i,r,n){const o=4*e;return this.int16[o+0]=t,this.int16[o+1]=i,this.int16[o+2]=r,this.int16[o+3]=n,e}}Ma.prototype.bytesPerElement=8,Is(Ma,\"StructArrayLayout4i8\");class Aa extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,i,r,n)}emplace(e,t,i,r,n,o){const s=5*e;return this.int16[s+0]=t,this.int16[s+1]=i,this.int16[s+2]=r,this.int16[s+3]=n,this.int16[s+4]=o,e}}Aa.prototype.bytesPerElement=10,Is(Aa,\"StructArrayLayout5i10\");class Sa extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n,o,s){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,i,r,n,o,s)}emplace(e,t,i,r,n,o,s,a){const l=6*e,c=12*e,h=3*e;return this.int16[l+0]=t,this.int16[l+1]=i,this.uint8[c+4]=r,this.uint8[c+5]=n,this.uint8[c+6]=o,this.uint8[c+7]=s,this.float32[h+2]=a,e}}Sa.prototype.bytesPerElement=12,Is(Sa,\"StructArrayLayout2i4ub1f12\");class Ia extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(e,t,i,r){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,i,r)}emplace(e,t,i,r,n){const o=4*e;return this.float32[o+0]=t,this.float32[o+1]=i,this.float32[o+2]=r,this.float32[o+3]=n,e}}Ia.prototype.bytesPerElement=16,Is(Ia,\"StructArrayLayout4f16\");class Ca extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,i,r,n)}emplace(e,t,i,r,n,o){const s=6*e,a=3*e;return this.uint16[s+0]=t,this.uint16[s+1]=i,this.uint16[s+2]=r,this.uint16[s+3]=n,this.float32[a+2]=o,e}}Ca.prototype.bytesPerElement=12,Is(Ca,\"StructArrayLayout4ui1f12\");class za extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(e,t,i,r){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,i,r)}emplace(e,t,i,r,n){const o=4*e;return this.uint16[o+0]=t,this.uint16[o+1]=i,this.uint16[o+2]=r,this.uint16[o+3]=n,e}}za.prototype.bytesPerElement=8,Is(za,\"StructArrayLayout4ui8\");class Da extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n,o){const s=this.length;return this.resize(s+1),this.emplace(s,e,t,i,r,n,o)}emplace(e,t,i,r,n,o,s){const a=6*e;return this.int16[a+0]=t,this.int16[a+1]=i,this.int16[a+2]=r,this.int16[a+3]=n,this.int16[a+4]=o,this.int16[a+5]=s,e}}Da.prototype.bytesPerElement=12,Is(Da,\"StructArrayLayout6i12\");class Pa extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n,o,s,a,l,c,h,u){const d=this.length;return this.resize(d+1),this.emplace(d,e,t,i,r,n,o,s,a,l,c,h,u)}emplace(e,t,i,r,n,o,s,a,l,c,h,u,d){const p=12*e;return this.int16[p+0]=t,this.int16[p+1]=i,this.int16[p+2]=r,this.int16[p+3]=n,this.uint16[p+4]=o,this.uint16[p+5]=s,this.uint16[p+6]=a,this.uint16[p+7]=l,this.int16[p+8]=c,this.int16[p+9]=h,this.int16[p+10]=u,this.int16[p+11]=d,e}}Pa.prototype.bytesPerElement=24,Is(Pa,\"StructArrayLayout4i4ui4i24\");class Ra extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n,o){const s=this.length;return this.resize(s+1),this.emplace(s,e,t,i,r,n,o)}emplace(e,t,i,r,n,o,s){const a=10*e,l=5*e;return this.int16[a+0]=t,this.int16[a+1]=i,this.int16[a+2]=r,this.float32[l+2]=n,this.float32[l+3]=o,this.float32[l+4]=s,e}}Ra.prototype.bytesPerElement=20,Is(Ra,\"StructArrayLayout3i3f20\");class La extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer);}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint32[1*e+0]=t,e}}La.prototype.bytesPerElement=4,Is(La,\"StructArrayLayout1ul4\");class ka extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(e,t){const i=this.length;return this.resize(i+1),this.emplace(i,e,t)}emplace(e,t,i){const r=2*e;return this.uint16[r+0]=t,this.uint16[r+1]=i,e}}ka.prototype.bytesPerElement=4,Is(ka,\"StructArrayLayout2ui4\");class Oa extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n,o,s,a,l,c,h,u,d){const p=this.length;return this.resize(p+1),this.emplace(p,e,t,i,r,n,o,s,a,l,c,h,u,d)}emplace(e,t,i,r,n,o,s,a,l,c,h,u,d,p){const f=20*e,m=10*e;return this.int16[f+0]=t,this.int16[f+1]=i,this.int16[f+2]=r,this.int16[f+3]=n,this.int16[f+4]=o,this.float32[m+3]=s,this.float32[m+4]=a,this.float32[m+5]=l,this.float32[m+6]=c,this.int16[f+14]=h,this.uint32[m+8]=u,this.uint16[f+18]=d,this.uint16[f+19]=p,e}}Oa.prototype.bytesPerElement=40,Is(Oa,\"StructArrayLayout5i4f1i1ul2ui40\");class Ba extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n,o,s){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,i,r,n,o,s)}emplace(e,t,i,r,n,o,s,a){const l=8*e;return this.int16[l+0]=t,this.int16[l+1]=i,this.int16[l+2]=r,this.int16[l+4]=n,this.int16[l+5]=o,this.int16[l+6]=s,this.int16[l+7]=a,e}}Ba.prototype.bytesPerElement=16,Is(Ba,\"StructArrayLayout3i2i2i16\");class Fa extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,i,r,n)}emplace(e,t,i,r,n,o){const s=4*e,a=8*e;return this.float32[s+0]=t,this.float32[s+1]=i,this.float32[s+2]=r,this.int16[a+6]=n,this.int16[a+7]=o,e}}Fa.prototype.bytesPerElement=16,Is(Fa,\"StructArrayLayout2f1f2i16\");class Na extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(e,t,i,r){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,i,r)}emplace(e,t,i,r,n){const o=12*e,s=3*e;return this.uint8[o+0]=t,this.uint8[o+1]=i,this.float32[s+1]=r,this.float32[s+2]=n,e}}Na.prototype.bytesPerElement=12,Is(Na,\"StructArrayLayout2ub2f12\");class Ua extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(e,t,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,i)}emplace(e,t,i,r){const n=3*e;return this.float32[n+0]=t,this.float32[n+1]=i,this.float32[n+2]=r,e}}Ua.prototype.bytesPerElement=12,Is(Ua,\"StructArrayLayout3f12\");class Va extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(e,t,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,i)}emplace(e,t,i,r){const n=3*e;return this.uint16[n+0]=t,this.uint16[n+1]=i,this.uint16[n+2]=r,e}}Va.prototype.bytesPerElement=6,Is(Va,\"StructArrayLayout3ui6\");class ja extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_,g,y,x,v){const b=this.length;return this.resize(b+1),this.emplace(b,e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_,g,y,x,v)}emplace(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_,g,y,x,v,b){const w=30*e,T=15*e,E=60*e;return this.int16[w+0]=t,this.int16[w+1]=i,this.int16[w+2]=r,this.float32[T+2]=n,this.float32[T+3]=o,this.uint16[w+8]=s,this.uint16[w+9]=a,this.uint32[T+5]=l,this.uint32[T+6]=c,this.uint32[T+7]=h,this.uint16[w+16]=u,this.uint16[w+17]=d,this.uint16[w+18]=p,this.float32[T+10]=f,this.float32[T+11]=m,this.uint8[E+48]=_,this.uint8[E+49]=g,this.uint8[E+50]=y,this.uint32[T+13]=x,this.int16[w+28]=v,this.uint8[E+58]=b,e}}ja.prototype.bytesPerElement=60,Is(ja,\"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60\");class Ga extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_,g,y,x,v,b,w,T,E,M,A,S,I,C,z,D){const P=this.length;return this.resize(P+1),this.emplace(P,e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_,g,y,x,v,b,w,T,E,M,A,S,I,C,z,D)}emplace(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_,g,y,x,v,b,w,T,E,M,A,S,I,C,z,D,P){const R=20*e,L=40*e,k=80*e;return this.float32[R+0]=t,this.float32[R+1]=i,this.int16[L+4]=r,this.int16[L+5]=n,this.int16[L+6]=o,this.int16[L+7]=s,this.int16[L+8]=a,this.int16[L+9]=l,this.int16[L+10]=c,this.int16[L+11]=h,this.int16[L+12]=u,this.uint16[L+13]=d,this.uint16[L+14]=p,this.uint16[L+15]=f,this.uint16[L+16]=m,this.uint16[L+17]=_,this.uint16[L+18]=g,this.uint16[L+19]=y,this.uint16[L+20]=x,this.uint16[L+21]=v,this.uint16[L+22]=b,this.uint16[L+23]=w,this.uint16[L+24]=T,this.uint16[L+25]=E,this.uint16[L+26]=M,this.uint16[L+27]=A,this.uint32[R+14]=S,this.float32[R+15]=I,this.float32[R+16]=C,this.float32[R+17]=z,this.float32[R+18]=D,this.uint8[k+76]=P,e}}Ga.prototype.bytesPerElement=80,Is(Ga,\"StructArrayLayout2f9i15ui1ul4f1ub80\");class qa extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.float32[1*e+0]=t,e}}qa.prototype.bytesPerElement=4,Is(qa,\"StructArrayLayout1f4\");class Za extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,i,r,n)}emplace(e,t,i,r,n,o){const s=5*e;return this.float32[s+0]=t,this.float32[s+1]=i,this.float32[s+2]=r,this.float32[s+3]=n,this.float32[s+4]=o,e}}Za.prototype.bytesPerElement=20,Is(Za,\"StructArrayLayout5f20\");class $a extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n,o,s){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,i,r,n,o,s)}emplace(e,t,i,r,n,o,s,a){const l=7*e;return this.float32[l+0]=t,this.float32[l+1]=i,this.float32[l+2]=r,this.float32[l+3]=n,this.float32[l+4]=o,this.float32[l+5]=s,this.float32[l+6]=a,e}}$a.prototype.bytesPerElement=28,Is($a,\"StructArrayLayout7f28\");class Ha extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(e,t,i,r){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,i,r)}emplace(e,t,i,r,n){const o=6*e;return this.uint32[3*e+0]=t,this.uint16[o+2]=i,this.uint16[o+3]=r,this.uint16[o+4]=n,e}}Ha.prototype.bytesPerElement=12,Is(Ha,\"StructArrayLayout1ul3ui12\");class Wa extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint16[1*e+0]=t,e}}Wa.prototype.bytesPerElement=2,Is(Wa,\"StructArrayLayout1ui2\");class Xa extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(e,t){const i=this.length;return this.resize(i+1),this.emplace(i,e,t)}emplace(e,t,i){const r=2*e;return this.float32[r+0]=t,this.float32[r+1]=i,e}}Xa.prototype.bytesPerElement=8,Is(Xa,\"StructArrayLayout2f8\");class Ya extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m){const _=this.length;return this.resize(_+1),this.emplace(_,e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m)}emplace(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_){const g=16*e;return this.float32[g+0]=t,this.float32[g+1]=i,this.float32[g+2]=r,this.float32[g+3]=n,this.float32[g+4]=o,this.float32[g+5]=s,this.float32[g+6]=a,this.float32[g+7]=l,this.float32[g+8]=c,this.float32[g+9]=h,this.float32[g+10]=u,this.float32[g+11]=d,this.float32[g+12]=p,this.float32[g+13]=f,this.float32[g+14]=m,this.float32[g+15]=_,e}}Ya.prototype.bytesPerElement=64,Is(Ya,\"StructArrayLayout16f64\");class Ka extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n,o,s){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,i,r,n,o,s)}emplace(e,t,i,r,n,o,s,a){const l=10*e,c=5*e;return this.uint16[l+0]=t,this.uint16[l+1]=i,this.uint16[l+2]=r,this.uint16[l+3]=n,this.float32[c+2]=o,this.float32[c+3]=s,this.float32[c+4]=a,e}}Ka.prototype.bytesPerElement=20,Is(Ka,\"StructArrayLayout4ui3f20\");class Ja extends va{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer);}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint8[1*e+0]=t,e}}Ja.prototype.bytesPerElement=1,Is(Ja,\"StructArrayLayout1ub1\");class Qa extends xa{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Qa.prototype.size=40;class el extends Oa{get(e){return new Qa(this,e)}}Is(el,\"CollisionBoxArray\");class tl extends xa{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(e){this._structArray.uint8[this._pos1+49]=e;}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(e){this._structArray.uint8[this._pos1+50]=e;}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(e){this._structArray.uint32[this._pos4+13]=e;}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(e){this._structArray.uint8[this._pos1+58]=e;}}tl.prototype.size=60;class il extends ja{get(e){return new tl(this,e)}}Is(il,\"PlacedSymbolArray\");class rl extends xa{get tileAnchorX(){return this._structArray.float32[this._pos4+0]}get tileAnchorY(){return this._structArray.float32[this._pos4+1]}get projectedAnchorX(){return this._structArray.int16[this._pos2+4]}get projectedAnchorY(){return this._structArray.int16[this._pos2+5]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+6]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+7]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+11]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get key(){return this._structArray.uint16[this._pos2+13]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+14]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+15]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+17]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+19]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+21]}get featureIndex(){return this._structArray.uint16[this._pos2+22]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+23]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numIconVertices(){return this._structArray.uint16[this._pos2+25]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+26]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+27]}get crossTileID(){return this._structArray.uint32[this._pos4+14]}set crossTileID(e){this._structArray.uint32[this._pos4+14]=e;}get textOffset0(){return this._structArray.float32[this._pos4+15]}get textOffset1(){return this._structArray.float32[this._pos4+16]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+17]}get zOffset(){return this._structArray.float32[this._pos4+18]}set zOffset(e){this._structArray.float32[this._pos4+18]=e;}get hasIconTextFit(){return this._structArray.uint8[this._pos1+76]}}rl.prototype.size=80;class nl extends Ga{get(e){return new rl(this,e)}}Is(nl,\"SymbolInstanceArray\");class ol extends qa{getoffsetX(e){return this.float32[1*e+0]}}Is(ol,\"GlyphOffsetArray\");class sl extends Ta{getx(e){return this.int16[2*e+0]}gety(e){return this.int16[2*e+1]}}Is(sl,\"SymbolLineVertexArray\");class al extends xa{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}al.prototype.size=12;class ll extends Ha{get(e){return new al(this,e)}}Is(ll,\"FeatureIndexArray\");class cl extends ka{geta_centroid_pos0(e){return this.uint16[2*e+0]}geta_centroid_pos1(e){return this.uint16[2*e+1]}}Is(cl,\"FillExtrusionCentroidArray\");const hl=ba([{name:\"a_pos\",components:2,type:\"Int16\"}],4),ul=ba([{name:\"a_pos_3\",components:3,type:\"Int16\"},{name:\"a_pos_normal_3\",components:3,type:\"Int16\"}]);class dl{constructor(e=[]){this.segments=e;}_prepareSegment(e,t,i,r){let n=this.segments[this.segments.length-1];return e>dl.MAX_VERTEX_ARRAY_LENGTH&&W(`Max vertices per segment is ${dl.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}`),(!n||n.vertexLength+e>dl.MAX_VERTEX_ARRAY_LENGTH||n.sortKey!==r)&&(n={vertexOffset:t,primitiveOffset:i,vertexLength:0,primitiveLength:0},void 0!==r&&(n.sortKey=r),this.segments.push(n)),n}prepareSegment(e,t,i,r){return this._prepareSegment(e,t.length,i.length,r)}get(){return this.segments}destroy(){for(const e of this.segments)for(const t in e.vaos)e.vaos[t].destroy();}static simpleSegment(e,t,i,r){return new dl([{vertexOffset:e,primitiveOffset:t,vertexLength:i,primitiveLength:r,vaos:{},sortKey:0}])}}function pl(e,t){return 256*(e=z(Math.floor(e),0,255))+z(Math.floor(t),0,255)}dl.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Is(dl,\"SegmentVector\");const fl=ba([{name:\"a_pattern\",components:4,type:\"Uint16\"},{name:\"a_pixel_ratio\",components:1,type:\"Float32\"}]),ml=ba([{name:\"a_dash\",components:4,type:\"Uint16\"}]);var _l={exports:{}},gl={exports:{}};!function(e){e.exports=function(e,t){var i,r,n,o,s,a,l,c;for(r=e.length-(i=3&e.length),n=t,s=3432918353,a=461845907,c=0;c<r;)l=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,n=27492+(65535&(o=5*(65535&(n=(n^=l=(65535&(l=(l=(65535&l)*s+(((l>>>16)*s&65535)<<16)&4294967295)<<15|l>>>17))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<13|n>>>19))+((5*(n>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,i){case 3:l^=(255&e.charCodeAt(c+2))<<16;case 2:l^=(255&e.charCodeAt(c+1))<<8;case 1:n^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(c)))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<15|l>>>17))*a+(((l>>>16)*a&65535)<<16)&4294967295;}return n^=e.length,n=2246822507*(65535&(n^=n>>>16))+((2246822507*(n>>>16)&65535)<<16)&4294967295,n=3266489909*(65535&(n^=n>>>13))+((3266489909*(n>>>16)&65535)<<16)&4294967295,(n^=n>>>16)>>>0};}(gl);var yl=gl.exports,xl={exports:{}};!function(e){e.exports=function(e,t){for(var i,r=e.length,n=t^r,o=0;r>=4;)i=1540483477*(65535&(i=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(i>>>16)&65535)<<16),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)^(i=1540483477*(65535&(i^=i>>>24))+((1540483477*(i>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:n^=(255&e.charCodeAt(o+2))<<16;case 2:n^=(255&e.charCodeAt(o+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(o)))+((1540483477*(n>>>16)&65535)<<16);}return n=1540483477*(65535&(n^=n>>>13))+((1540483477*(n>>>16)&65535)<<16),(n^=n>>>15)>>>0};}(xl);var vl=yl,bl=xl.exports;_l.exports=vl,_l.exports.murmur3=vl,_l.exports.murmur2=bl;var wl=d(_l.exports);class Tl{constructor(){this.ids=[],this.uniqueIds=[],this.positions=[],this.indexed=!1;}add(e,t,i,r){this.ids.push(El(e)),this.positions.push(t,i,r);}eachPosition(e,t){const i=El(e);let r=0,n=this.ids.length-1;for(;r<n;){const e=r+n>>1;this.ids[e]>=i?n=e:r=e+1;}for(;this.ids[r]===i;)t(this.positions[3*r],this.positions[3*r+1],this.positions[3*r+2]),r++;}static serialize(e,t){const i=new Float64Array(e.ids),r=new Uint32Array(e.positions);return Ml(i,r,0,i.length-1),t&&(t.add(i.buffer),t.add(r.buffer)),{ids:i,positions:r}}static deserialize(e){const t=new Tl;let i;t.ids=e.ids,t.positions=e.positions;for(const e of t.ids)e!==i&&t.uniqueIds.push(e),i=e;return t.indexed=!0,t}}function El(e){const t=+e;return !isNaN(t)&&Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:wl(String(e))}function Ml(e,t,i,r){for(;i<r;){const n=e[i+r>>1];let o=i-1,s=r+1;for(;;){do{o++;}while(e[o]<n);do{s--;}while(e[s]>n);if(o>=s)break;Al(e,o,s),Al(t,3*o,3*s),Al(t,3*o+1,3*s+1),Al(t,3*o+2,3*s+2);}s-i<r-s?(Ml(e,t,i,s),i=s+1):(Ml(e,t,s+1,r),r=s);}}function Al(e,t,i){const r=e[t];e[t]=e[i],e[i]=r;}Is(Tl,\"FeaturePositionMap\");class Sl{constructor(e){this.gl=e.gl,this.initialized=!1;}fetchUniformLocation(e,t){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(e,t),this.initialized=!0),!!this.location}}class Il extends Sl{constructor(e){super(e),this.current=0;}set(e,t,i){this.fetchUniformLocation(e,t)&&this.current!==i&&(this.current=i,this.gl.uniform1i(this.location,i));}}class Cl extends Sl{constructor(e){super(e),this.current=0;}set(e,t,i){this.fetchUniformLocation(e,t)&&this.current!==i&&(this.current=i,this.gl.uniform1f(this.location,i));}}class zl extends Sl{constructor(e){super(e),this.current=[0,0];}set(e,t,i){this.fetchUniformLocation(e,t)&&(i[0]===this.current[0]&&i[1]===this.current[1]||(this.current=i,this.gl.uniform2f(this.location,i[0],i[1])));}}class Dl extends Sl{constructor(e){super(e),this.current=[0,0,0];}set(e,t,i){this.fetchUniformLocation(e,t)&&(i[0]===this.current[0]&&i[1]===this.current[1]&&i[2]===this.current[2]||(this.current=i,this.gl.uniform3f(this.location,i[0],i[1],i[2])));}}class Pl extends Sl{constructor(e){super(e),this.current=[0,0,0,0];}set(e,t,i){this.fetchUniformLocation(e,t)&&(i[0]===this.current[0]&&i[1]===this.current[1]&&i[2]===this.current[2]&&i[3]===this.current[3]||(this.current=i,this.gl.uniform4f(this.location,i[0],i[1],i[2],i[3])));}}class Rl extends Sl{constructor(e){super(e),this.current=li.transparent;}set(e,t,i){this.fetchUniformLocation(e,t)&&(i.r===this.current.r&&i.g===this.current.g&&i.b===this.current.b&&i.a===this.current.a||(this.current=i,this.gl.uniform4f(this.location,i.r,i.g,i.b,i.a)));}}const Ll=new Float32Array(16);class kl extends Sl{constructor(e){super(e),this.current=Ll;}set(e,t,i){if(this.fetchUniformLocation(e,t)){if(i[12]!==this.current[12]||i[0]!==this.current[0])return this.current=i,void this.gl.uniformMatrix4fv(this.location,!1,i);for(let e=1;e<16;e++)if(i[e]!==this.current[e]){this.current=i,this.gl.uniformMatrix4fv(this.location,!1,i);break}}}}const Ol=new Float32Array(9);class Bl extends Sl{constructor(e){super(e),this.current=Ol;}set(e,t,i){if(this.fetchUniformLocation(e,t))for(let e=0;e<9;e++)if(i[e]!==this.current[e]){this.current=i,this.gl.uniformMatrix3fv(this.location,!1,i);break}}}const Fl=new Float32Array(4);class Nl extends Sl{constructor(e){super(e),this.current=Fl;}set(e,t,i){if(this.fetchUniformLocation(e,t))for(let e=0;e<4;e++)if(i[e]!==this.current[e]){this.current=i,this.gl.uniformMatrix2fv(this.location,!1,i);break}}}function Ul(e){return [pl(255*e.r,255*e.g),pl(255*e.b,255*e.a)]}class Vl{constructor(e,t,i){this.value=e,this.uniformNames=t.map((e=>`u_${e}`)),this.type=i;}setUniform(e,t,i,r,n){t.set(e,n,r.constantOr(this.value));}getBinding(e,t){return \"color\"===this.type?new Rl(e):new Cl(e)}}class jl{constructor(e,t){this.uniformNames=t.map((e=>`u_${e}`)),this.pattern=null,this.pixelRatio=1;}setConstantPatternPositions(e){this.pixelRatio=e.pixelRatio||1,this.pattern=e.tl.concat(e.br);}setUniform(e,t,i,r,n){const o=\"u_pattern\"===n||\"u_dash\"===n?this.pattern:\"u_pixel_ratio\"===n?this.pixelRatio:null;o&&t.set(e,n,o);}getBinding(e,t){return \"u_pattern\"===t||\"u_dash\"===t?new Pl(e):new Cl(e)}}class Gl{constructor(e,t,i,r){this.expression=e,this.type=i,this.maxValue=0,this.paintVertexAttributes=t.map((e=>({name:`a_${e}`,type:\"Float32\",components:\"color\"===i?2:1,offset:0}))),this.paintVertexArray=new r;}populatePaintArray(e,t,i,r,n,o,s){const a=this.paintVertexArray.length,l=this.expression.evaluate(new ea(0,{brightness:o}),t,{},n,r,s);this.paintVertexArray.resize(e),this._setPaintValue(a,e,l);}updatePaintArray(e,t,i,r,n,o,s){const a=this.expression.evaluate({zoom:0,brightness:s},i,r,void 0,n);this._setPaintValue(e,t,a);}_setPaintValue(e,t,i){if(\"color\"===this.type){const r=Ul(i);for(let i=e;i<t;i++)this.paintVertexArray.emplace(i,r[0],r[1]);}else {for(let r=e;r<t;r++)this.paintVertexArray.emplace(r,i);this.maxValue=Math.max(this.maxValue,Math.abs(i));}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant));}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy();}}class ql{constructor(e,t,i,r,n,o){this.expression=e,this.uniformNames=t.map((e=>`u_${e}_t`)),this.type=i,this.useIntegerZoom=r,this.zoom=n,this.maxValue=0,this.paintVertexAttributes=t.map((e=>({name:`a_${e}`,type:\"Float32\",components:\"color\"===i?4:2,offset:0}))),this.paintVertexArray=new o;}populatePaintArray(e,t,i,r,n,o,s){const a=this.expression.evaluate(new ea(this.zoom,{brightness:o}),t,{},n,r,s),l=this.expression.evaluate(new ea(this.zoom+1,{brightness:o}),t,{},n,r,s),c=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(c,e,a,l);}updatePaintArray(e,t,i,r,n,o,s){const a=this.expression.evaluate({zoom:this.zoom,brightness:s},i,r,void 0,n),l=this.expression.evaluate({zoom:this.zoom+1,brightness:s},i,r,void 0,n);this._setPaintValue(e,t,a,l);}_setPaintValue(e,t,i,r){if(\"color\"===this.type){const n=Ul(i),o=Ul(r);for(let i=e;i<t;i++)this.paintVertexArray.emplace(i,n[0],n[1],o[0],o[1]);}else {for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,i,r);this.maxValue=Math.max(this.maxValue,Math.abs(i),Math.abs(r));}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant));}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy();}setUniform(e,t,i,r,n){const o=this.useIntegerZoom?Math.floor(i.zoom):i.zoom,s=z(this.expression.interpolationFactor(o,this.zoom,this.zoom+1),0,1);t.set(e,n,s);}getBinding(e,t){return new Cl(e)}}class Zl{constructor(e,t,i,r,n){this.expression=e,this.layerId=n,this.paintVertexAttributes=(\"array\"===i?ml:fl).members;for(let e=0;e<t.length;++e);this.paintVertexArray=new r;}populatePaintArray(e,t,i){const r=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValues(r,e,t.patterns&&t.patterns[this.layerId],i);}updatePaintArray(e,t,i,r,n,o,s){this._setPaintValues(e,t,i.patterns&&i.patterns[this.layerId],o);}_setPaintValues(e,t,i,r){if(!r||!i)return;const n=r[i];if(!n)return;const{tl:o,br:s,pixelRatio:a}=n;for(let i=e;i<t;i++)this.paintVertexArray.emplace(i,o[0],o[1],s[0],s[1],a);}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant));}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy();}}class $l{constructor(e,t,i=(()=>!0)){this.binders={},this._buffers=[];const r=[];for(const n in e.paint._values){const o=e.paint.get(n);if(!i(n))continue;if(!(o instanceof aa&&no(o.property.specification)))continue;const s=Xl(n,e.type),a=o.value,l=o.property.specification.type,c=!!o.property.useIntegerZoom,h=\"line-dasharray\"===n||n.endsWith(\"pattern\"),u=\"line-dasharray\"===n&&\"constant\"!==e.layout.get(\"line-cap\").value.kind;if(\"constant\"!==a.kind||u)if(\"source\"===a.kind||u||h){const t=Jl(n,l,\"source\");this.binders[n]=h?new Zl(a,s,l,t,e.id):new Gl(a,s,l,t),r.push(`/a_${n}`);}else {const e=Jl(n,l,\"composite\");this.binders[n]=new ql(a,s,l,c,t,e),r.push(`/z_${n}`);}else this.binders[n]=h?new jl(a.value,s):new Vl(a.value,s,l),r.push(`/u_${n}`);}this.cacheKey=r.sort().join(\"\");}getMaxValue(e){const t=this.binders[e];return t instanceof Gl||t instanceof ql?t.maxValue:0}populatePaintArrays(e,t,i,r,n,o,s){for(const a in this.binders){const l=this.binders[a];(l instanceof Gl||l instanceof ql||l instanceof Zl)&&l.populatePaintArray(e,t,i,r,n,o,s);}}setConstantPatternPositions(e){for(const t in this.binders){const i=this.binders[t];i instanceof jl&&i.setConstantPatternPositions(e);}}updatePaintArrays(e,t,i,r,n,o,s,a){let l=!1;const c=Object.keys(e),h=0!==c.length,u=h?c:t.uniqueIds;for(const c in this.binders){const d=this.binders[c];if((d instanceof Gl||d instanceof ql||d instanceof Zl)&&(!0===d.expression.isStateDependent||!1===d.expression.isLightConstant)){const p=n.paint.get(c);d.expression=p.value;for(const i of u){const n=e[i.toString()];t.eachPosition(i,((e,t,i)=>{const l=r.feature(e);d.updatePaintArray(t,i,l,n,o,s,a);}));}if(!h)for(const t of i.uniqueIds){const n=e[t.toString()];i.eachPosition(t,((e,t,i)=>{const l=r.feature(e);d.updatePaintArray(t,i,l,n,o,s,a);}));}l=!0;}}return l}defines(){const e=[];for(const t in this.binders){const i=this.binders[t];(i instanceof Vl||i instanceof jl)&&e.push(...i.uniformNames.map((e=>`#define HAS_UNIFORM_${e}`)));}return e}getBinderAttributes(){const e=[];for(const t in this.binders){const i=this.binders[t];if(i instanceof Gl||i instanceof ql||i instanceof Zl)for(let t=0;t<i.paintVertexAttributes.length;t++)e.push(i.paintVertexAttributes[t].name);}return e}getBinderUniforms(){const e=[];for(const t in this.binders){const i=this.binders[t];if(i instanceof Vl||i instanceof jl||i instanceof ql)for(const t of i.uniformNames)e.push(t);}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e){const t=[];for(const i in this.binders){const r=this.binders[i];if(r instanceof Vl||r instanceof jl||r instanceof ql)for(const n of r.uniformNames)t.push({name:n,property:i,binding:r.getBinding(e,n)});}return t}setUniforms(e,t,i,r,n){for(const{name:t,property:o,binding:s}of i)this.binders[o].setUniform(e,s,n,r.get(o),t);}updatePaintBuffers(){this._buffers=[];for(const e in this.binders){const t=this.binders[e];(t instanceof Gl||t instanceof ql||t instanceof Zl)&&t.paintVertexBuffer&&this._buffers.push(t.paintVertexBuffer);}}upload(e){for(const t in this.binders){const i=this.binders[t];(i instanceof Gl||i instanceof ql||i instanceof Zl)&&i.upload(e);}this.updatePaintBuffers();}destroy(){for(const e in this.binders){const t=this.binders[e];(t instanceof Gl||t instanceof ql||t instanceof Zl)&&t.destroy();}}}class Hl{constructor(e,t,i=(()=>!0)){this.programConfigurations={};for(const r of e)this.programConfigurations[r.id]=new $l(r,t,i);this.needsUpload=!1,this._featureMap=new Tl,this._featureMapWithoutIds=new Tl,this._bufferOffset=0,this._idlessCounter=0;}populatePaintArrays(e,t,i,r,n,o,s,a){for(const i in this.programConfigurations)this.programConfigurations[i].populatePaintArrays(e,t,r,n,o,s,a);void 0!==t.id?this._featureMap.add(t.id,i,this._bufferOffset,e):(this._featureMapWithoutIds.add(this._idlessCounter,i,this._bufferOffset,e),this._idlessCounter+=1),this._bufferOffset=e,this.needsUpload=!0;}updatePaintArrays(e,t,i,r,n,o){for(const s of i)this.needsUpload=this.programConfigurations[s.id].updatePaintArrays(e,this._featureMap,this._featureMapWithoutIds,t,s,r,n,o||0)||this.needsUpload;}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1;}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy();}}const Wl={\"text-opacity\":[\"opacity\"],\"icon-opacity\":[\"opacity\"],\"text-color\":[\"fill_color\"],\"icon-color\":[\"fill_color\"],\"text-emissive-strength\":[\"emissive_strength\"],\"icon-emissive-strength\":[\"emissive_strength\"],\"text-halo-color\":[\"halo_color\"],\"icon-halo-color\":[\"halo_color\"],\"text-halo-blur\":[\"halo_blur\"],\"icon-halo-blur\":[\"halo_blur\"],\"text-halo-width\":[\"halo_width\"],\"icon-halo-width\":[\"halo_width\"],\"line-gap-width\":[\"gapwidth\"],\"line-pattern\":[\"pattern\",\"pixel_ratio\"],\"fill-pattern\":[\"pattern\",\"pixel_ratio\"],\"fill-extrusion-pattern\":[\"pattern\",\"pixel_ratio\"],\"line-dasharray\":[\"dash\"]};function Xl(e,t){return Wl[e]||[e.replace(`${t}-`,\"\").replace(/-/g,\"_\")]}const Yl={\"line-pattern\":{source:Ca,composite:Ca},\"fill-pattern\":{source:Ca,composite:Ca},\"fill-extrusion-pattern\":{source:Ca,composite:Ca},\"line-dasharray\":{source:za,composite:za}},Kl={color:{source:Xa,composite:Ia},number:{source:qa,composite:Xa}};function Jl(e,t,i){const r=Yl[e];return r&&r[i]||Kl[t][i]}Is(Vl,\"ConstantBinder\"),Is(jl,\"PatternConstantBinder\"),Is(Gl,\"SourceExpressionBinder\"),Is(Zl,\"PatternCompositeBinder\"),Is(ql,\"CompositeExpressionBinder\"),Is($l,\"ProgramConfiguration\",{omit:[\"_buffers\"]}),Is(Hl,\"ProgramConfigurationSet\");class Ql{constructor(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]));}setNorthEast(e){return this._ne=e instanceof Nd?new Nd(e.lng,e.lat):Nd.convert(e),this}setSouthWest(e){return this._sw=e instanceof Nd?new Nd(e.lng,e.lat):Nd.convert(e),this}extend(e){const t=this._sw,i=this._ne;let r,n;if(e instanceof Nd)r=e,n=e;else {if(!(e instanceof Ql))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(Ql.convert(e)):this.extend(Nd.convert(e)):\"object\"==typeof e&&null!==e&&e.hasOwnProperty(\"lat\")&&(e.hasOwnProperty(\"lon\")||e.hasOwnProperty(\"lng\"))?this.extend(Nd.convert(e)):this;if(r=e._sw,n=e._ne,!r||!n)return this}return t||i?(t.lng=Math.min(r.lng,t.lng),t.lat=Math.min(r.lat,t.lat),i.lng=Math.max(n.lng,i.lng),i.lat=Math.max(n.lat,i.lat)):(this._sw=new Nd(r.lng,r.lat),this._ne=new Nd(n.lng,n.lat)),this}getCenter(){return new Nd((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Nd(this.getWest(),this.getNorth())}getSouthEast(){return new Nd(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return [this._sw.toArray(),this._ne.toArray()]}toString(){return `LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return !(this._sw&&this._ne)}contains(e){const{lng:t,lat:i}=Nd.convert(e);let r=this._sw.lng<=t&&t<=this._ne.lng;return this._sw.lng>this._ne.lng&&(r=this._sw.lng>=t&&t>=this._ne.lng),this._sw.lat<=i&&i<=this._ne.lat&&r}static convert(e){return !e||e instanceof Ql?e:new Ql(e)}}var ec={},tc={};Object.defineProperty(tc,\"__esModule\",{value:!0}),tc.setMatrixArrayType=function(e){tc.ARRAY_TYPE=rc=e;},tc.toRadian=function(e){return e*oc},tc.equals=function(e,t){return Math.abs(e-t)<=ic*Math.max(1,Math.abs(e),Math.abs(t))},tc.RANDOM=tc.ARRAY_TYPE=tc.EPSILON=void 0;var ic=1e-6;tc.EPSILON=ic;var rc=\"undefined\"!=typeof Float32Array?Float32Array:Array;tc.ARRAY_TYPE=rc;var nc=Math.random;tc.RANDOM=nc;var oc=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var sc={};function ac(e){return ac=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},ac(e)}Object.defineProperty(sc,\"__esModule\",{value:!0}),sc.create=function(){var e=new lc.ARRAY_TYPE(4);return lc.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},sc.clone=function(e){var t=new lc.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},sc.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},sc.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},sc.fromValues=function(e,t,i,r){var n=new lc.ARRAY_TYPE(4);return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n},sc.set=function(e,t,i,r,n){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e},sc.transpose=function(e,t){if(e===t){var i=t[1];e[1]=t[2],e[2]=i;}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e},sc.invert=function(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=i*o-n*r;return s?(e[0]=o*(s=1/s),e[1]=-r*s,e[2]=-n*s,e[3]=i*s,e):null},sc.adjoint=function(e,t){var i=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=i,e},sc.determinant=function(e){return e[0]*e[3]-e[2]*e[1]},sc.multiply=hc,sc.rotate=function(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=Math.sin(i),l=Math.cos(i);return e[0]=r*l+o*a,e[1]=n*l+s*a,e[2]=r*-a+o*l,e[3]=n*-a+s*l,e},sc.scale=function(e,t,i){var r=t[1],n=t[2],o=t[3],s=i[0],a=i[1];return e[0]=t[0]*s,e[1]=r*s,e[2]=n*a,e[3]=o*a,e},sc.fromRotation=function(e,t){var i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=-i,e[3]=r,e},sc.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e},sc.str=function(e){return \"mat2(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\")\"},sc.frob=function(e){return Math.hypot(e[0],e[1],e[2],e[3])},sc.LDU=function(e,t,i,r){return e[2]=r[2]/r[0],i[0]=r[0],i[1]=r[1],i[3]=r[3]-e[2]*i[1],[e,t,i]},sc.add=function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e},sc.subtract=uc,sc.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},sc.equals=function(e,t){var i=e[0],r=e[1],n=e[2],o=e[3],s=t[0],a=t[1],l=t[2],c=t[3];return Math.abs(i-s)<=lc.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(r-a)<=lc.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-l)<=lc.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(o-c)<=lc.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))},sc.multiplyScalar=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e},sc.multiplyScalarAndAdd=function(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e},sc.sub=sc.mul=void 0;var lc=function(e,t){if(e&&e.__esModule)return e;if(null===e||\"object\"!==ac(e)&&\"function\"!=typeof e)return {default:e};var i=cc(void 0);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o];}return r.default=e,i&&i.set(e,r),r}(tc);function cc(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return (cc=function(e){return e?i:t})(e)}function hc(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=i[0],l=i[1],c=i[2],h=i[3];return e[0]=r*a+o*l,e[1]=n*a+s*l,e[2]=r*c+o*h,e[3]=n*c+s*h,e}function uc(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e}sc.mul=hc,sc.sub=uc;var dc={};function pc(e){return pc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},pc(e)}Object.defineProperty(dc,\"__esModule\",{value:!0}),dc.create=function(){var e=new fc.ARRAY_TYPE(6);return fc.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e},dc.clone=function(e){var t=new fc.ARRAY_TYPE(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},dc.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},dc.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},dc.fromValues=function(e,t,i,r,n,o){var s=new fc.ARRAY_TYPE(6);return s[0]=e,s[1]=t,s[2]=i,s[3]=r,s[4]=n,s[5]=o,s},dc.set=function(e,t,i,r,n,o,s){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e[4]=o,e[5]=s,e},dc.invert=function(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=t[4],a=t[5],l=i*o-r*n;return l?(e[0]=o*(l=1/l),e[1]=-r*l,e[2]=-n*l,e[3]=i*l,e[4]=(n*a-o*s)*l,e[5]=(r*s-i*a)*l,e):null},dc.determinant=function(e){return e[0]*e[3]-e[1]*e[2]},dc.multiply=_c,dc.rotate=function(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=Math.sin(i),h=Math.cos(i);return e[0]=r*h+o*c,e[1]=n*h+s*c,e[2]=r*-c+o*h,e[3]=n*-c+s*h,e[4]=a,e[5]=l,e},dc.scale=function(e,t,i){var r=t[1],n=t[2],o=t[3],s=t[4],a=t[5],l=i[0],c=i[1];return e[0]=t[0]*l,e[1]=r*l,e[2]=n*c,e[3]=o*c,e[4]=s,e[5]=a,e},dc.translate=function(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=i[0],h=i[1];return e[0]=r,e[1]=n,e[2]=o,e[3]=s,e[4]=r*c+o*h+a,e[5]=n*c+s*h+l,e},dc.fromRotation=function(e,t){var i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=-i,e[3]=r,e[4]=0,e[5]=0,e},dc.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e},dc.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e},dc.str=function(e){return \"mat2d(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\", \"+e[4]+\", \"+e[5]+\")\"},dc.frob=function(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],1)},dc.add=function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e},dc.subtract=gc,dc.multiplyScalar=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e},dc.multiplyScalarAndAdd=function(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e},dc.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]},dc.equals=function(e,t){var i=e[0],r=e[1],n=e[2],o=e[3],s=e[4],a=e[5],l=t[0],c=t[1],h=t[2],u=t[3],d=t[4],p=t[5];return Math.abs(i-l)<=fc.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(r-c)<=fc.EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(n-h)<=fc.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(o-u)<=fc.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(s-d)<=fc.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(a-p)<=fc.EPSILON*Math.max(1,Math.abs(a),Math.abs(p))},dc.sub=dc.mul=void 0;var fc=function(e,t){if(e&&e.__esModule)return e;if(null===e||\"object\"!==pc(e)&&\"function\"!=typeof e)return {default:e};var i=mc(void 0);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o];}return r.default=e,i&&i.set(e,r),r}(tc);function mc(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return (mc=function(e){return e?i:t})(e)}function _c(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=i[0],h=i[1],u=i[2],d=i[3],p=i[4],f=i[5];return e[0]=r*c+o*h,e[1]=n*c+s*h,e[2]=r*u+o*d,e[3]=n*u+s*d,e[4]=r*p+o*f+a,e[5]=n*p+s*f+l,e}function gc(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e}dc.mul=_c,dc.sub=gc;var yc={};function xc(e){return xc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},xc(e)}Object.defineProperty(yc,\"__esModule\",{value:!0}),yc.create=function(){var e=new vc.ARRAY_TYPE(9);return vc.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e},yc.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},yc.clone=function(e){var t=new vc.ARRAY_TYPE(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},yc.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},yc.fromValues=function(e,t,i,r,n,o,s,a,l){var c=new vc.ARRAY_TYPE(9);return c[0]=e,c[1]=t,c[2]=i,c[3]=r,c[4]=n,c[5]=o,c[6]=s,c[7]=a,c[8]=l,c},yc.set=function(e,t,i,r,n,o,s,a,l,c){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e[4]=o,e[5]=s,e[6]=a,e[7]=l,e[8]=c,e},yc.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},yc.transpose=function(e,t){if(e===t){var i=t[1],r=t[2],n=t[5];e[1]=t[3],e[2]=t[6],e[3]=i,e[5]=t[7],e[6]=r,e[7]=n;}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},yc.invert=function(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],h=t[8],u=h*s-a*c,d=-h*o+a*l,p=c*o-s*l,f=i*u+r*d+n*p;return f?(e[0]=u*(f=1/f),e[1]=(-h*r+n*c)*f,e[2]=(a*r-n*s)*f,e[3]=d*f,e[4]=(h*i-n*l)*f,e[5]=(-a*i+n*o)*f,e[6]=p*f,e[7]=(-c*i+r*l)*f,e[8]=(s*i-r*o)*f,e):null},yc.adjoint=function(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],h=t[8];return e[0]=s*h-a*c,e[1]=n*c-r*h,e[2]=r*a-n*s,e[3]=a*l-o*h,e[4]=i*h-n*l,e[5]=n*o-i*a,e[6]=o*c-s*l,e[7]=r*l-i*c,e[8]=i*s-r*o,e},yc.determinant=function(e){var t=e[3],i=e[4],r=e[5],n=e[6],o=e[7],s=e[8];return e[0]*(s*i-r*o)+e[1]*(-s*t+r*n)+e[2]*(o*t-i*n)},yc.multiply=wc,yc.translate=function(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],h=t[7],u=t[8],d=i[0],p=i[1];return e[0]=r,e[1]=n,e[2]=o,e[3]=s,e[4]=a,e[5]=l,e[6]=d*r+p*s+c,e[7]=d*n+p*a+h,e[8]=d*o+p*l+u,e},yc.rotate=function(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],h=t[7],u=t[8],d=Math.sin(i),p=Math.cos(i);return e[0]=p*r+d*s,e[1]=p*n+d*a,e[2]=p*o+d*l,e[3]=p*s-d*r,e[4]=p*a-d*n,e[5]=p*l-d*o,e[6]=c,e[7]=h,e[8]=u,e},yc.scale=function(e,t,i){var r=i[0],n=i[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=n*t[3],e[4]=n*t[4],e[5]=n*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},yc.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e},yc.fromRotation=function(e,t){var i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=0,e[3]=-i,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},yc.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},yc.fromMat2d=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},yc.fromQuat=function(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=i+i,a=r+r,l=n+n,c=i*s,h=r*s,u=r*a,d=n*s,p=n*a,f=n*l,m=o*s,_=o*a,g=o*l;return e[0]=1-u-f,e[3]=h-g,e[6]=d+_,e[1]=h+g,e[4]=1-c-f,e[7]=p-m,e[2]=d-_,e[5]=p+m,e[8]=1-c-u,e},yc.normalFromMat4=function(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],h=t[8],u=t[9],d=t[10],p=t[11],f=t[12],m=t[13],_=t[14],g=t[15],y=i*a-r*s,x=i*l-n*s,v=i*c-o*s,b=r*l-n*a,w=r*c-o*a,T=n*c-o*l,E=h*m-u*f,M=h*_-d*f,A=h*g-p*f,S=u*_-d*m,I=u*g-p*m,C=d*g-p*_,z=y*C-x*I+v*S+b*A-w*M+T*E;return z?(e[0]=(a*C-l*I+c*S)*(z=1/z),e[1]=(l*A-s*C-c*M)*z,e[2]=(s*I-a*A+c*E)*z,e[3]=(n*I-r*C-o*S)*z,e[4]=(i*C-n*A+o*M)*z,e[5]=(r*A-i*I-o*E)*z,e[6]=(m*T-_*w+g*b)*z,e[7]=(_*v-f*T-g*x)*z,e[8]=(f*w-m*v+g*y)*z,e):null},yc.projection=function(e,t,i){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/i,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e},yc.str=function(e){return \"mat3(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\", \"+e[4]+\", \"+e[5]+\", \"+e[6]+\", \"+e[7]+\", \"+e[8]+\")\"},yc.frob=function(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},yc.add=function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e},yc.subtract=Tc,yc.multiplyScalar=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e},yc.multiplyScalarAndAdd=function(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e[6]=t[6]+i[6]*r,e[7]=t[7]+i[7]*r,e[8]=t[8]+i[8]*r,e},yc.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},yc.equals=function(e,t){var i=e[0],r=e[1],n=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],h=e[8],u=t[0],d=t[1],p=t[2],f=t[3],m=t[4],_=t[5],g=t[6],y=t[7],x=t[8];return Math.abs(i-u)<=vc.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(r-d)<=vc.EPSILON*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(n-p)<=vc.EPSILON*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(o-f)<=vc.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(s-m)<=vc.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(a-_)<=vc.EPSILON*Math.max(1,Math.abs(a),Math.abs(_))&&Math.abs(l-g)<=vc.EPSILON*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(c-y)<=vc.EPSILON*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(h-x)<=vc.EPSILON*Math.max(1,Math.abs(h),Math.abs(x))},yc.sub=yc.mul=void 0;var vc=function(e,t){if(e&&e.__esModule)return e;if(null===e||\"object\"!==xc(e)&&\"function\"!=typeof e)return {default:e};var i=bc(void 0);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o];}return r.default=e,i&&i.set(e,r),r}(tc);function bc(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return (bc=function(e){return e?i:t})(e)}function wc(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],h=t[7],u=t[8],d=i[0],p=i[1],f=i[2],m=i[3],_=i[4],g=i[5],y=i[6],x=i[7],v=i[8];return e[0]=d*r+p*s+f*c,e[1]=d*n+p*a+f*h,e[2]=d*o+p*l+f*u,e[3]=m*r+_*s+g*c,e[4]=m*n+_*a+g*h,e[5]=m*o+_*l+g*u,e[6]=y*r+x*s+v*c,e[7]=y*n+x*a+v*h,e[8]=y*o+x*l+v*u,e}function Tc(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e}yc.mul=wc,yc.sub=Tc;var Ec={};function Mc(e){return Mc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Mc(e)}Object.defineProperty(Ec,\"__esModule\",{value:!0}),Ec.create=function(){var e=new Ac.ARRAY_TYPE(16);return Ac.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},Ec.clone=function(e){var t=new Ac.ARRAY_TYPE(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},Ec.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},Ec.fromValues=function(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m){var _=new Ac.ARRAY_TYPE(16);return _[0]=e,_[1]=t,_[2]=i,_[3]=r,_[4]=n,_[5]=o,_[6]=s,_[7]=a,_[8]=l,_[9]=c,_[10]=h,_[11]=u,_[12]=d,_[13]=p,_[14]=f,_[15]=m,_},Ec.set=function(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e[4]=o,e[5]=s,e[6]=a,e[7]=l,e[8]=c,e[9]=h,e[10]=u,e[11]=d,e[12]=p,e[13]=f,e[14]=m,e[15]=_,e},Ec.identity=Ic,Ec.transpose=function(e,t){if(e===t){var i=t[1],r=t[2],n=t[3],o=t[6],s=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=i,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=n,e[13]=s,e[14]=a;}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e},Ec.invert=function(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],h=t[8],u=t[9],d=t[10],p=t[11],f=t[12],m=t[13],_=t[14],g=t[15],y=i*a-r*s,x=i*l-n*s,v=i*c-o*s,b=r*l-n*a,w=r*c-o*a,T=n*c-o*l,E=h*m-u*f,M=h*_-d*f,A=h*g-p*f,S=u*_-d*m,I=u*g-p*m,C=d*g-p*_,z=y*C-x*I+v*S+b*A-w*M+T*E;return z?(e[0]=(a*C-l*I+c*S)*(z=1/z),e[1]=(n*I-r*C-o*S)*z,e[2]=(m*T-_*w+g*b)*z,e[3]=(d*w-u*T-p*b)*z,e[4]=(l*A-s*C-c*M)*z,e[5]=(i*C-n*A+o*M)*z,e[6]=(_*v-f*T-g*x)*z,e[7]=(h*T-d*v+p*x)*z,e[8]=(s*I-a*A+c*E)*z,e[9]=(r*A-i*I-o*E)*z,e[10]=(f*w-m*v+g*y)*z,e[11]=(u*v-h*w-p*y)*z,e[12]=(a*M-s*S-l*E)*z,e[13]=(i*S-r*M+n*E)*z,e[14]=(m*x-f*b-_*y)*z,e[15]=(h*b-u*x+d*y)*z,e):null},Ec.adjoint=function(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],h=t[8],u=t[9],d=t[10],p=t[11],f=t[12],m=t[13],_=t[14],g=t[15];return e[0]=a*(d*g-p*_)-u*(l*g-c*_)+m*(l*p-c*d),e[1]=-(r*(d*g-p*_)-u*(n*g-o*_)+m*(n*p-o*d)),e[2]=r*(l*g-c*_)-a*(n*g-o*_)+m*(n*c-o*l),e[3]=-(r*(l*p-c*d)-a*(n*p-o*d)+u*(n*c-o*l)),e[4]=-(s*(d*g-p*_)-h*(l*g-c*_)+f*(l*p-c*d)),e[5]=i*(d*g-p*_)-h*(n*g-o*_)+f*(n*p-o*d),e[6]=-(i*(l*g-c*_)-s*(n*g-o*_)+f*(n*c-o*l)),e[7]=i*(l*p-c*d)-s*(n*p-o*d)+h*(n*c-o*l),e[8]=s*(u*g-p*m)-h*(a*g-c*m)+f*(a*p-c*u),e[9]=-(i*(u*g-p*m)-h*(r*g-o*m)+f*(r*p-o*u)),e[10]=i*(a*g-c*m)-s*(r*g-o*m)+f*(r*c-o*a),e[11]=-(i*(a*p-c*u)-s*(r*p-o*u)+h*(r*c-o*a)),e[12]=-(s*(u*_-d*m)-h*(a*_-l*m)+f*(a*d-l*u)),e[13]=i*(u*_-d*m)-h*(r*_-n*m)+f*(r*d-n*u),e[14]=-(i*(a*_-l*m)-s*(r*_-n*m)+f*(r*l-n*a)),e[15]=i*(a*d-l*u)-s*(r*d-n*u)+h*(r*l-n*a),e},Ec.determinant=function(e){var t=e[0],i=e[1],r=e[2],n=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],h=e[9],u=e[10],d=e[11],p=e[12],f=e[13],m=e[14],_=e[15];return (t*s-i*o)*(u*_-d*m)-(t*a-r*o)*(h*_-d*f)+(t*l-n*o)*(h*m-u*f)+(i*a-r*s)*(c*_-d*p)-(i*l-n*s)*(c*m-u*p)+(r*l-n*a)*(c*f-h*p)},Ec.multiply=Cc,Ec.translate=function(e,t,i){var r,n,o,s,a,l,c,h,u,d,p,f,m=i[0],_=i[1],g=i[2];return t===e?(e[12]=t[0]*m+t[4]*_+t[8]*g+t[12],e[13]=t[1]*m+t[5]*_+t[9]*g+t[13],e[14]=t[2]*m+t[6]*_+t[10]*g+t[14],e[15]=t[3]*m+t[7]*_+t[11]*g+t[15]):(n=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],h=t[7],u=t[8],d=t[9],p=t[10],f=t[11],e[0]=r=t[0],e[1]=n,e[2]=o,e[3]=s,e[4]=a,e[5]=l,e[6]=c,e[7]=h,e[8]=u,e[9]=d,e[10]=p,e[11]=f,e[12]=r*m+a*_+u*g+t[12],e[13]=n*m+l*_+d*g+t[13],e[14]=o*m+c*_+p*g+t[14],e[15]=s*m+h*_+f*g+t[15]),e},Ec.scale=function(e,t,i){var r=i[0],n=i[1],o=i[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},Ec.rotate=function(e,t,i,r){var n,o,s,a,l,c,h,u,d,p,f,m,_,g,y,x,v,b,w,T,E,M,A,S,I=r[0],C=r[1],z=r[2],D=Math.hypot(I,C,z);return D<Ac.EPSILON?null:(I*=D=1/D,C*=D,z*=D,n=Math.sin(i),o=Math.cos(i),l=t[1],c=t[2],h=t[3],d=t[5],p=t[6],f=t[7],_=t[9],g=t[10],y=t[11],w=I*C*(s=1-o)-z*n,T=C*C*s+o,E=z*C*s+I*n,M=I*z*s+C*n,A=C*z*s-I*n,S=z*z*s+o,e[0]=(a=t[0])*(x=I*I*s+o)+(u=t[4])*(v=C*I*s+z*n)+(m=t[8])*(b=z*I*s-C*n),e[1]=l*x+d*v+_*b,e[2]=c*x+p*v+g*b,e[3]=h*x+f*v+y*b,e[4]=a*w+u*T+m*E,e[5]=l*w+d*T+_*E,e[6]=c*w+p*T+g*E,e[7]=h*w+f*T+y*E,e[8]=a*M+u*A+m*S,e[9]=l*M+d*A+_*S,e[10]=c*M+p*A+g*S,e[11]=h*M+f*A+y*S,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)},Ec.rotateX=function(e,t,i){var r=Math.sin(i),n=Math.cos(i),o=t[4],s=t[5],a=t[6],l=t[7],c=t[8],h=t[9],u=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*n+c*r,e[5]=s*n+h*r,e[6]=a*n+u*r,e[7]=l*n+d*r,e[8]=c*n-o*r,e[9]=h*n-s*r,e[10]=u*n-a*r,e[11]=d*n-l*r,e},Ec.rotateY=function(e,t,i){var r=Math.sin(i),n=Math.cos(i),o=t[0],s=t[1],a=t[2],l=t[3],c=t[8],h=t[9],u=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*n-c*r,e[1]=s*n-h*r,e[2]=a*n-u*r,e[3]=l*n-d*r,e[8]=o*r+c*n,e[9]=s*r+h*n,e[10]=a*r+u*n,e[11]=l*r+d*n,e},Ec.rotateZ=function(e,t,i){var r=Math.sin(i),n=Math.cos(i),o=t[0],s=t[1],a=t[2],l=t[3],c=t[4],h=t[5],u=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*n+c*r,e[1]=s*n+h*r,e[2]=a*n+u*r,e[3]=l*n+d*r,e[4]=c*n-o*r,e[5]=h*n-s*r,e[6]=u*n-a*r,e[7]=d*n-l*r,e},Ec.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e},Ec.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},Ec.fromRotation=function(e,t,i){var r,n,o,s=i[0],a=i[1],l=i[2],c=Math.hypot(s,a,l);return c<Ac.EPSILON?null:(s*=c=1/c,a*=c,l*=c,r=Math.sin(t),n=Math.cos(t),e[0]=s*s*(o=1-n)+n,e[1]=a*s*o+l*r,e[2]=l*s*o-a*r,e[3]=0,e[4]=s*a*o-l*r,e[5]=a*a*o+n,e[6]=l*a*o+s*r,e[7]=0,e[8]=s*l*o+a*r,e[9]=a*l*o-s*r,e[10]=l*l*o+n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)},Ec.fromXRotation=function(e,t){var i=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=i,e[7]=0,e[8]=0,e[9]=-i,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},Ec.fromYRotation=function(e,t){var i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-i,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=i,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},Ec.fromZRotation=function(e,t){var i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=0,e[3]=0,e[4]=-i,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},Ec.fromRotationTranslation=zc,Ec.fromQuat2=function(e,t){var i=new Ac.ARRAY_TYPE(3),r=-t[0],n=-t[1],o=-t[2],s=t[3],a=t[4],l=t[5],c=t[6],h=t[7],u=r*r+n*n+o*o+s*s;return u>0?(i[0]=2*(a*s+h*r+l*o-c*n)/u,i[1]=2*(l*s+h*n+c*r-a*o)/u,i[2]=2*(c*s+h*o+a*n-l*r)/u):(i[0]=2*(a*s+h*r+l*o-c*n),i[1]=2*(l*s+h*n+c*r-a*o),i[2]=2*(c*s+h*o+a*n-l*r)),zc(e,t,i),e},Ec.getTranslation=function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e},Ec.getScaling=Dc,Ec.getRotation=function(e,t){var i=new Ac.ARRAY_TYPE(3);Dc(i,t);var r=1/i[0],n=1/i[1],o=1/i[2],s=t[0]*r,a=t[1]*n,l=t[2]*o,c=t[4]*r,h=t[5]*n,u=t[6]*o,d=t[8]*r,p=t[9]*n,f=t[10]*o,m=s+h+f,_=0;return m>0?(_=2*Math.sqrt(m+1),e[3]=.25*_,e[0]=(u-p)/_,e[1]=(d-l)/_,e[2]=(a-c)/_):s>h&&s>f?(_=2*Math.sqrt(1+s-h-f),e[3]=(u-p)/_,e[0]=.25*_,e[1]=(a+c)/_,e[2]=(d+l)/_):h>f?(_=2*Math.sqrt(1+h-s-f),e[3]=(d-l)/_,e[0]=(a+c)/_,e[1]=.25*_,e[2]=(u+p)/_):(_=2*Math.sqrt(1+f-s-h),e[3]=(a-c)/_,e[0]=(d+l)/_,e[1]=(u+p)/_,e[2]=.25*_),e},Ec.fromRotationTranslationScale=function(e,t,i,r){var n=t[0],o=t[1],s=t[2],a=t[3],l=n+n,c=o+o,h=s+s,u=n*l,d=n*c,p=n*h,f=o*c,m=o*h,_=s*h,g=a*l,y=a*c,x=a*h,v=r[0],b=r[1],w=r[2];return e[0]=(1-(f+_))*v,e[1]=(d+x)*v,e[2]=(p-y)*v,e[3]=0,e[4]=(d-x)*b,e[5]=(1-(u+_))*b,e[6]=(m+g)*b,e[7]=0,e[8]=(p+y)*w,e[9]=(m-g)*w,e[10]=(1-(u+f))*w,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e},Ec.fromRotationTranslationScaleOrigin=function(e,t,i,r,n){var o=t[0],s=t[1],a=t[2],l=t[3],c=o+o,h=s+s,u=a+a,d=o*c,p=o*h,f=o*u,m=s*h,_=s*u,g=a*u,y=l*c,x=l*h,v=l*u,b=r[0],w=r[1],T=r[2],E=n[0],M=n[1],A=n[2],S=(1-(m+g))*b,I=(p+v)*b,C=(f-x)*b,z=(p-v)*w,D=(1-(d+g))*w,P=(_+y)*w,R=(f+x)*T,L=(_-y)*T,k=(1-(d+m))*T;return e[0]=S,e[1]=I,e[2]=C,e[3]=0,e[4]=z,e[5]=D,e[6]=P,e[7]=0,e[8]=R,e[9]=L,e[10]=k,e[11]=0,e[12]=i[0]+E-(S*E+z*M+R*A),e[13]=i[1]+M-(I*E+D*M+L*A),e[14]=i[2]+A-(C*E+P*M+k*A),e[15]=1,e},Ec.fromQuat=function(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=i+i,a=r+r,l=n+n,c=i*s,h=r*s,u=r*a,d=n*s,p=n*a,f=n*l,m=o*s,_=o*a,g=o*l;return e[0]=1-u-f,e[1]=h+g,e[2]=d-_,e[3]=0,e[4]=h-g,e[5]=1-c-f,e[6]=p+m,e[7]=0,e[8]=d+_,e[9]=p-m,e[10]=1-c-u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},Ec.frustum=function(e,t,i,r,n,o,s){var a=1/(i-t),l=1/(n-r),c=1/(o-s);return e[0]=2*o*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*l,e[6]=0,e[7]=0,e[8]=(i+t)*a,e[9]=(n+r)*l,e[10]=(s+o)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=s*o*2*c,e[15]=0,e},Ec.perspectiveNO=Pc,Ec.perspectiveZO=function(e,t,i,r,n){var o,s=1/Math.tan(t/2);return e[0]=s/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=n&&n!==1/0?(e[10]=n*(o=1/(r-n)),e[14]=n*r*o):(e[10]=-1,e[14]=-r),e},Ec.perspectiveFromFieldOfView=function(e,t,i,r){var n=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),s=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),l=2/(s+a),c=2/(n+o);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(s-a)*l*.5,e[9]=(n-o)*c*.5,e[10]=r/(i-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*i/(i-r),e[15]=0,e},Ec.orthoNO=Rc,Ec.orthoZO=function(e,t,i,r,n,o,s){var a=1/(t-i),l=1/(r-n),c=1/(o-s);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=c,e[11]=0,e[12]=(t+i)*a,e[13]=(n+r)*l,e[14]=o*c,e[15]=1,e},Ec.lookAt=function(e,t,i,r){var n,o,s,a,l,c,h,u,d,p,f=t[0],m=t[1],_=t[2],g=r[0],y=r[1],x=r[2],v=i[0],b=i[1],w=i[2];return Math.abs(f-v)<Ac.EPSILON&&Math.abs(m-b)<Ac.EPSILON&&Math.abs(_-w)<Ac.EPSILON?Ic(e):(h=f-v,u=m-b,d=_-w,n=y*(d*=p=1/Math.hypot(h,u,d))-x*(u*=p),o=x*(h*=p)-g*d,s=g*u-y*h,(p=Math.hypot(n,o,s))?(n*=p=1/p,o*=p,s*=p):(n=0,o=0,s=0),a=u*s-d*o,l=d*n-h*s,c=h*o-u*n,(p=Math.hypot(a,l,c))?(a*=p=1/p,l*=p,c*=p):(a=0,l=0,c=0),e[0]=n,e[1]=a,e[2]=h,e[3]=0,e[4]=o,e[5]=l,e[6]=u,e[7]=0,e[8]=s,e[9]=c,e[10]=d,e[11]=0,e[12]=-(n*f+o*m+s*_),e[13]=-(a*f+l*m+c*_),e[14]=-(h*f+u*m+d*_),e[15]=1,e)},Ec.targetTo=function(e,t,i,r){var n=t[0],o=t[1],s=t[2],a=r[0],l=r[1],c=r[2],h=n-i[0],u=o-i[1],d=s-i[2],p=h*h+u*u+d*d;p>0&&(h*=p=1/Math.sqrt(p),u*=p,d*=p);var f=l*d-c*u,m=c*h-a*d,_=a*u-l*h;return (p=f*f+m*m+_*_)>0&&(f*=p=1/Math.sqrt(p),m*=p,_*=p),e[0]=f,e[1]=m,e[2]=_,e[3]=0,e[4]=u*_-d*m,e[5]=d*f-h*_,e[6]=h*m-u*f,e[7]=0,e[8]=h,e[9]=u,e[10]=d,e[11]=0,e[12]=n,e[13]=o,e[14]=s,e[15]=1,e},Ec.str=function(e){return \"mat4(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\", \"+e[4]+\", \"+e[5]+\", \"+e[6]+\", \"+e[7]+\", \"+e[8]+\", \"+e[9]+\", \"+e[10]+\", \"+e[11]+\", \"+e[12]+\", \"+e[13]+\", \"+e[14]+\", \"+e[15]+\")\"},Ec.frob=function(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},Ec.add=function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e[9]=t[9]+i[9],e[10]=t[10]+i[10],e[11]=t[11]+i[11],e[12]=t[12]+i[12],e[13]=t[13]+i[13],e[14]=t[14]+i[14],e[15]=t[15]+i[15],e},Ec.subtract=Lc,Ec.multiplyScalar=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12]*i,e[13]=t[13]*i,e[14]=t[14]*i,e[15]=t[15]*i,e},Ec.multiplyScalarAndAdd=function(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e[6]=t[6]+i[6]*r,e[7]=t[7]+i[7]*r,e[8]=t[8]+i[8]*r,e[9]=t[9]+i[9]*r,e[10]=t[10]+i[10]*r,e[11]=t[11]+i[11]*r,e[12]=t[12]+i[12]*r,e[13]=t[13]+i[13]*r,e[14]=t[14]+i[14]*r,e[15]=t[15]+i[15]*r,e},Ec.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]},Ec.equals=function(e,t){var i=e[0],r=e[1],n=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],h=e[8],u=e[9],d=e[10],p=e[11],f=e[12],m=e[13],_=e[14],g=e[15],y=t[0],x=t[1],v=t[2],b=t[3],w=t[4],T=t[5],E=t[6],M=t[7],A=t[8],S=t[9],I=t[10],C=t[11],z=t[12],D=t[13],P=t[14],R=t[15];return Math.abs(i-y)<=Ac.EPSILON*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(r-x)<=Ac.EPSILON*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(n-v)<=Ac.EPSILON*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(o-b)<=Ac.EPSILON*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(s-w)<=Ac.EPSILON*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(a-T)<=Ac.EPSILON*Math.max(1,Math.abs(a),Math.abs(T))&&Math.abs(l-E)<=Ac.EPSILON*Math.max(1,Math.abs(l),Math.abs(E))&&Math.abs(c-M)<=Ac.EPSILON*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(h-A)<=Ac.EPSILON*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(u-S)<=Ac.EPSILON*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(d-I)<=Ac.EPSILON*Math.max(1,Math.abs(d),Math.abs(I))&&Math.abs(p-C)<=Ac.EPSILON*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(f-z)<=Ac.EPSILON*Math.max(1,Math.abs(f),Math.abs(z))&&Math.abs(m-D)<=Ac.EPSILON*Math.max(1,Math.abs(m),Math.abs(D))&&Math.abs(_-P)<=Ac.EPSILON*Math.max(1,Math.abs(_),Math.abs(P))&&Math.abs(g-R)<=Ac.EPSILON*Math.max(1,Math.abs(g),Math.abs(R))},Ec.sub=Ec.mul=Ec.ortho=Ec.perspective=void 0;var Ac=function(e,t){if(e&&e.__esModule)return e;if(null===e||\"object\"!==Mc(e)&&\"function\"!=typeof e)return {default:e};var i=Sc(void 0);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o];}return r.default=e,i&&i.set(e,r),r}(tc);function Sc(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return (Sc=function(e){return e?i:t})(e)}function Ic(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Cc(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],h=t[7],u=t[8],d=t[9],p=t[10],f=t[11],m=t[12],_=t[13],g=t[14],y=t[15],x=i[0],v=i[1],b=i[2],w=i[3];return e[0]=x*r+v*a+b*u+w*m,e[1]=x*n+v*l+b*d+w*_,e[2]=x*o+v*c+b*p+w*g,e[3]=x*s+v*h+b*f+w*y,e[4]=(x=i[4])*r+(v=i[5])*a+(b=i[6])*u+(w=i[7])*m,e[5]=x*n+v*l+b*d+w*_,e[6]=x*o+v*c+b*p+w*g,e[7]=x*s+v*h+b*f+w*y,e[8]=(x=i[8])*r+(v=i[9])*a+(b=i[10])*u+(w=i[11])*m,e[9]=x*n+v*l+b*d+w*_,e[10]=x*o+v*c+b*p+w*g,e[11]=x*s+v*h+b*f+w*y,e[12]=(x=i[12])*r+(v=i[13])*a+(b=i[14])*u+(w=i[15])*m,e[13]=x*n+v*l+b*d+w*_,e[14]=x*o+v*c+b*p+w*g,e[15]=x*s+v*h+b*f+w*y,e}function zc(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=r+r,l=n+n,c=o+o,h=r*a,u=r*l,d=r*c,p=n*l,f=n*c,m=o*c,_=s*a,g=s*l,y=s*c;return e[0]=1-(p+m),e[1]=u+y,e[2]=d-g,e[3]=0,e[4]=u-y,e[5]=1-(h+m),e[6]=f+_,e[7]=0,e[8]=d+g,e[9]=f-_,e[10]=1-(h+p),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function Dc(e,t){var i=t[4],r=t[5],n=t[6],o=t[8],s=t[9],a=t[10];return e[0]=Math.hypot(t[0],t[1],t[2]),e[1]=Math.hypot(i,r,n),e[2]=Math.hypot(o,s,a),e}function Pc(e,t,i,r,n){var o,s=1/Math.tan(t/2);return e[0]=s/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=n&&n!==1/0?(e[10]=(n+r)*(o=1/(r-n)),e[14]=2*n*r*o):(e[10]=-1,e[14]=-2*r),e}function Rc(e,t,i,r,n,o,s){var a=1/(t-i),l=1/(r-n),c=1/(o-s);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+i)*a,e[13]=(n+r)*l,e[14]=(s+o)*c,e[15]=1,e}function Lc(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e[9]=t[9]-i[9],e[10]=t[10]-i[10],e[11]=t[11]-i[11],e[12]=t[12]-i[12],e[13]=t[13]-i[13],e[14]=t[14]-i[14],e[15]=t[15]-i[15],e}Ec.perspective=Pc,Ec.ortho=Rc,Ec.mul=Cc,Ec.sub=Lc;var kc={},Oc={};function Bc(e){return Bc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Bc(e)}Object.defineProperty(Oc,\"__esModule\",{value:!0}),Oc.create=Uc,Oc.clone=function(e){var t=new Fc.ARRAY_TYPE(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},Oc.length=Vc,Oc.fromValues=function(e,t,i){var r=new Fc.ARRAY_TYPE(3);return r[0]=e,r[1]=t,r[2]=i,r},Oc.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},Oc.set=function(e,t,i,r){return e[0]=t,e[1]=i,e[2]=r,e},Oc.add=function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e},Oc.subtract=jc,Oc.multiply=Gc,Oc.divide=qc,Oc.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},Oc.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},Oc.min=function(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e},Oc.max=function(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e},Oc.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},Oc.scale=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e},Oc.scaleAndAdd=function(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e},Oc.distance=Zc,Oc.squaredDistance=$c,Oc.squaredLength=Hc,Oc.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},Oc.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},Oc.normalize=function(e,t){var i=t[0],r=t[1],n=t[2],o=i*i+r*r+n*n;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e},Oc.dot=Wc,Oc.cross=function(e,t,i){var r=t[0],n=t[1],o=t[2],s=i[0],a=i[1],l=i[2];return e[0]=n*l-o*a,e[1]=o*s-r*l,e[2]=r*a-n*s,e},Oc.lerp=function(e,t,i,r){var n=t[0],o=t[1],s=t[2];return e[0]=n+r*(i[0]-n),e[1]=o+r*(i[1]-o),e[2]=s+r*(i[2]-s),e},Oc.hermite=function(e,t,i,r,n,o){var s=o*o,a=s*(2*o-3)+1,l=s*(o-2)+o,c=s*(o-1),h=s*(3-2*o);return e[0]=t[0]*a+i[0]*l+r[0]*c+n[0]*h,e[1]=t[1]*a+i[1]*l+r[1]*c+n[1]*h,e[2]=t[2]*a+i[2]*l+r[2]*c+n[2]*h,e},Oc.bezier=function(e,t,i,r,n,o){var s=1-o,a=s*s,l=o*o,c=a*s,h=3*o*a,u=3*l*s,d=l*o;return e[0]=t[0]*c+i[0]*h+r[0]*u+n[0]*d,e[1]=t[1]*c+i[1]*h+r[1]*u+n[1]*d,e[2]=t[2]*c+i[2]*h+r[2]*u+n[2]*d,e},Oc.random=function(e,t){t=t||1;var i=2*Fc.RANDOM()*Math.PI,r=2*Fc.RANDOM()-1,n=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(i)*n,e[1]=Math.sin(i)*n,e[2]=r*t,e},Oc.transformMat4=function(e,t,i){var r=t[0],n=t[1],o=t[2],s=i[3]*r+i[7]*n+i[11]*o+i[15];return e[0]=(i[0]*r+i[4]*n+i[8]*o+i[12])/(s=s||1),e[1]=(i[1]*r+i[5]*n+i[9]*o+i[13])/s,e[2]=(i[2]*r+i[6]*n+i[10]*o+i[14])/s,e},Oc.transformMat3=function(e,t,i){var r=t[0],n=t[1],o=t[2];return e[0]=r*i[0]+n*i[3]+o*i[6],e[1]=r*i[1]+n*i[4]+o*i[7],e[2]=r*i[2]+n*i[5]+o*i[8],e},Oc.transformQuat=function(e,t,i){var r=i[0],n=i[1],o=i[2],s=t[0],a=t[1],l=t[2],c=n*l-o*a,h=o*s-r*l,u=r*a-n*s,d=n*u-o*h,p=o*c-r*u,f=r*h-n*c,m=2*i[3];return h*=m,u*=m,p*=2,f*=2,e[0]=s+(c*=m)+(d*=2),e[1]=a+h+p,e[2]=l+u+f,e},Oc.rotateX=function(e,t,i,r){var n=[],o=[];return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n[2]=t[2]-i[2],o[0]=n[0],o[1]=n[1]*Math.cos(r)-n[2]*Math.sin(r),o[2]=n[1]*Math.sin(r)+n[2]*Math.cos(r),e[0]=o[0]+i[0],e[1]=o[1]+i[1],e[2]=o[2]+i[2],e},Oc.rotateY=function(e,t,i,r){var n=[],o=[];return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n[2]=t[2]-i[2],o[0]=n[2]*Math.sin(r)+n[0]*Math.cos(r),o[1]=n[1],o[2]=n[2]*Math.cos(r)-n[0]*Math.sin(r),e[0]=o[0]+i[0],e[1]=o[1]+i[1],e[2]=o[2]+i[2],e},Oc.rotateZ=function(e,t,i,r){var n=[],o=[];return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n[2]=t[2]-i[2],o[0]=n[0]*Math.cos(r)-n[1]*Math.sin(r),o[1]=n[0]*Math.sin(r)+n[1]*Math.cos(r),o[2]=n[2],e[0]=o[0]+i[0],e[1]=o[1]+i[1],e[2]=o[2]+i[2],e},Oc.angle=function(e,t){var i=e[0],r=e[1],n=e[2],o=t[0],s=t[1],a=t[2],l=Math.sqrt(i*i+r*r+n*n)*Math.sqrt(o*o+s*s+a*a),c=l&&Wc(e,t)/l;return Math.acos(Math.min(Math.max(c,-1),1))},Oc.zero=function(e){return e[0]=0,e[1]=0,e[2]=0,e},Oc.str=function(e){return \"vec3(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\")\"},Oc.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},Oc.equals=function(e,t){var i=e[0],r=e[1],n=e[2],o=t[0],s=t[1],a=t[2];return Math.abs(i-o)<=Fc.EPSILON*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(r-s)<=Fc.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-a)<=Fc.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))},Oc.forEach=Oc.sqrLen=Oc.len=Oc.sqrDist=Oc.dist=Oc.div=Oc.mul=Oc.sub=void 0;var Fc=function(e,t){if(e&&e.__esModule)return e;if(null===e||\"object\"!==Bc(e)&&\"function\"!=typeof e)return {default:e};var i=Nc(void 0);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o];}return r.default=e,i&&i.set(e,r),r}(tc);function Nc(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return (Nc=function(e){return e?i:t})(e)}function Uc(){var e=new Fc.ARRAY_TYPE(3);return Fc.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Vc(e){return Math.hypot(e[0],e[1],e[2])}function jc(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e}function Gc(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e}function qc(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e}function Zc(e,t){return Math.hypot(t[0]-e[0],t[1]-e[1],t[2]-e[2])}function $c(e,t){var i=t[0]-e[0],r=t[1]-e[1],n=t[2]-e[2];return i*i+r*r+n*n}function Hc(e){var t=e[0],i=e[1],r=e[2];return t*t+i*i+r*r}function Wc(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}Oc.sub=jc,Oc.mul=Gc,Oc.div=qc,Oc.dist=Zc,Oc.sqrDist=$c,Oc.len=Vc,Oc.sqrLen=Hc;var Xc,Yc=(Xc=Uc(),function(e,t,i,r,n,o){var s,a;for(t||(t=3),i||(i=0),a=r?Math.min(r*t+i,e.length):e.length,s=i;s<a;s+=t)Xc[0]=e[s],Xc[1]=e[s+1],Xc[2]=e[s+2],n(Xc,Xc,o),e[s]=Xc[0],e[s+1]=Xc[1],e[s+2]=Xc[2];return e});Oc.forEach=Yc;var Kc={};function Jc(e){return Jc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Jc(e)}Object.defineProperty(Kc,\"__esModule\",{value:!0}),Kc.create=th,Kc.clone=function(e){var t=new Qc.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},Kc.fromValues=function(e,t,i,r){var n=new Qc.ARRAY_TYPE(4);return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n},Kc.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},Kc.set=function(e,t,i,r,n){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e},Kc.add=function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e},Kc.subtract=ih,Kc.multiply=rh,Kc.divide=nh,Kc.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},Kc.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},Kc.min=function(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e[3]=Math.min(t[3],i[3]),e},Kc.max=function(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e[3]=Math.max(t[3],i[3]),e},Kc.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},Kc.scale=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e},Kc.scaleAndAdd=function(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e},Kc.distance=oh,Kc.squaredDistance=sh,Kc.length=ah,Kc.squaredLength=lh,Kc.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},Kc.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},Kc.normalize=function(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=i*i+r*r+n*n+o*o;return s>0&&(s=1/Math.sqrt(s)),e[0]=i*s,e[1]=r*s,e[2]=n*s,e[3]=o*s,e},Kc.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},Kc.cross=function(e,t,i,r){var n=i[0]*r[1]-i[1]*r[0],o=i[0]*r[2]-i[2]*r[0],s=i[0]*r[3]-i[3]*r[0],a=i[1]*r[2]-i[2]*r[1],l=i[1]*r[3]-i[3]*r[1],c=i[2]*r[3]-i[3]*r[2],h=t[0],u=t[1],d=t[2],p=t[3];return e[0]=u*c-d*l+p*a,e[1]=-h*c+d*s-p*o,e[2]=h*l-u*s+p*n,e[3]=-h*a+u*o-d*n,e},Kc.lerp=function(e,t,i,r){var n=t[0],o=t[1],s=t[2],a=t[3];return e[0]=n+r*(i[0]-n),e[1]=o+r*(i[1]-o),e[2]=s+r*(i[2]-s),e[3]=a+r*(i[3]-a),e},Kc.random=function(e,t){var i,r,n,o,s,a;t=t||1;do{s=(i=2*Qc.RANDOM()-1)*i+(r=2*Qc.RANDOM()-1)*r;}while(s>=1);do{a=(n=2*Qc.RANDOM()-1)*n+(o=2*Qc.RANDOM()-1)*o;}while(a>=1);var l=Math.sqrt((1-s)/a);return e[0]=t*i,e[1]=t*r,e[2]=t*n*l,e[3]=t*o*l,e},Kc.transformMat4=function(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3];return e[0]=i[0]*r+i[4]*n+i[8]*o+i[12]*s,e[1]=i[1]*r+i[5]*n+i[9]*o+i[13]*s,e[2]=i[2]*r+i[6]*n+i[10]*o+i[14]*s,e[3]=i[3]*r+i[7]*n+i[11]*o+i[15]*s,e},Kc.transformQuat=function(e,t,i){var r=t[0],n=t[1],o=t[2],s=i[0],a=i[1],l=i[2],c=i[3],h=c*r+a*o-l*n,u=c*n+l*r-s*o,d=c*o+s*n-a*r,p=-s*r-a*n-l*o;return e[0]=h*c+p*-s+u*-l-d*-a,e[1]=u*c+p*-a+d*-s-h*-l,e[2]=d*c+p*-l+h*-a-u*-s,e[3]=t[3],e},Kc.zero=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},Kc.str=function(e){return \"vec4(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\")\"},Kc.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},Kc.equals=function(e,t){var i=e[0],r=e[1],n=e[2],o=e[3],s=t[0],a=t[1],l=t[2],c=t[3];return Math.abs(i-s)<=Qc.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(r-a)<=Qc.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-l)<=Qc.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(o-c)<=Qc.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))},Kc.forEach=Kc.sqrLen=Kc.len=Kc.sqrDist=Kc.dist=Kc.div=Kc.mul=Kc.sub=void 0;var Qc=function(e,t){if(e&&e.__esModule)return e;if(null===e||\"object\"!==Jc(e)&&\"function\"!=typeof e)return {default:e};var i=eh(void 0);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o];}return r.default=e,i&&i.set(e,r),r}(tc);function eh(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return (eh=function(e){return e?i:t})(e)}function th(){var e=new Qc.ARRAY_TYPE(4);return Qc.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function ih(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e}function rh(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e[3]=t[3]*i[3],e}function nh(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e[3]=t[3]/i[3],e}function oh(e,t){return Math.hypot(t[0]-e[0],t[1]-e[1],t[2]-e[2],t[3]-e[3])}function sh(e,t){var i=t[0]-e[0],r=t[1]-e[1],n=t[2]-e[2],o=t[3]-e[3];return i*i+r*r+n*n+o*o}function ah(e){return Math.hypot(e[0],e[1],e[2],e[3])}function lh(e){var t=e[0],i=e[1],r=e[2],n=e[3];return t*t+i*i+r*r+n*n}Kc.sub=ih,Kc.mul=rh,Kc.div=nh,Kc.dist=oh,Kc.sqrDist=sh,Kc.len=ah,Kc.sqrLen=lh;var ch=function(){var e=th();return function(t,i,r,n,o,s){var a,l;for(i||(i=4),r||(r=0),l=n?Math.min(n*i+r,t.length):t.length,a=r;a<l;a+=i)e[0]=t[a],e[1]=t[a+1],e[2]=t[a+2],e[3]=t[a+3],o(e,e,s),t[a]=e[0],t[a+1]=e[1],t[a+2]=e[2],t[a+3]=e[3];return t}}();function hh(e){return hh=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},hh(e)}Kc.forEach=ch,Object.defineProperty(kc,\"__esModule\",{value:!0}),kc.create=gh,kc.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},kc.setAxisAngle=yh,kc.getAxisAngle=function(e,t){var i=2*Math.acos(t[3]),r=Math.sin(i/2);return r>uh.EPSILON?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=1,e[1]=0,e[2]=0),i},kc.getAngle=function(e,t){var i=Mh(e,t);return Math.acos(2*i*i-1)},kc.multiply=xh,kc.rotateX=function(e,t,i){i*=.5;var r=t[0],n=t[1],o=t[2],s=t[3],a=Math.sin(i),l=Math.cos(i);return e[0]=r*l+s*a,e[1]=n*l+o*a,e[2]=o*l-n*a,e[3]=s*l-r*a,e},kc.rotateY=function(e,t,i){i*=.5;var r=t[0],n=t[1],o=t[2],s=t[3],a=Math.sin(i),l=Math.cos(i);return e[0]=r*l-o*a,e[1]=n*l+s*a,e[2]=o*l+r*a,e[3]=s*l-n*a,e},kc.rotateZ=function(e,t,i){i*=.5;var r=t[0],n=t[1],o=t[2],s=t[3],a=Math.sin(i),l=Math.cos(i);return e[0]=r*l+n*a,e[1]=n*l-r*a,e[2]=o*l+s*a,e[3]=s*l-o*a,e},kc.calculateW=function(e,t){var i=t[0],r=t[1],n=t[2];return e[0]=i,e[1]=r,e[2]=n,e[3]=Math.sqrt(Math.abs(1-i*i-r*r-n*n)),e},kc.exp=vh,kc.ln=bh,kc.pow=function(e,t,i){return bh(e,t),Eh(e,e,i),vh(e,e),e},kc.slerp=wh,kc.random=function(e){var t=uh.RANDOM(),i=uh.RANDOM(),r=uh.RANDOM(),n=Math.sqrt(1-t),o=Math.sqrt(t);return e[0]=n*Math.sin(2*Math.PI*i),e[1]=n*Math.cos(2*Math.PI*i),e[2]=o*Math.sin(2*Math.PI*r),e[3]=o*Math.cos(2*Math.PI*r),e},kc.invert=function(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=i*i+r*r+n*n+o*o,a=s?1/s:0;return e[0]=-i*a,e[1]=-r*a,e[2]=-n*a,e[3]=o*a,e},kc.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},kc.fromMat3=Th,kc.fromEuler=function(e,t,i,r){var n=.5*Math.PI/180;t*=n,i*=n,r*=n;var o=Math.sin(t),s=Math.cos(t),a=Math.sin(i),l=Math.cos(i),c=Math.sin(r),h=Math.cos(r);return e[0]=o*l*h-s*a*c,e[1]=s*a*h+o*l*c,e[2]=s*l*c-o*a*h,e[3]=s*l*h+o*a*c,e},kc.str=function(e){return \"quat(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\")\"},kc.setAxes=kc.sqlerp=kc.rotationTo=kc.equals=kc.exactEquals=kc.normalize=kc.sqrLen=kc.squaredLength=kc.len=kc.length=kc.lerp=kc.dot=kc.scale=kc.mul=kc.add=kc.set=kc.copy=kc.fromValues=kc.clone=void 0;var uh=_h(tc),dh=_h(yc),ph=_h(Oc),fh=_h(Kc);function mh(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return (mh=function(e){return e?i:t})(e)}function _h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!==hh(e)&&\"function\"!=typeof e)return {default:e};var i=mh(t);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o];}return r.default=e,i&&i.set(e,r),r}function gh(){var e=new uh.ARRAY_TYPE(4);return uh.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function yh(e,t,i){i*=.5;var r=Math.sin(i);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(i),e}function xh(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=i[0],l=i[1],c=i[2],h=i[3];return e[0]=r*h+s*a+n*c-o*l,e[1]=n*h+s*l+o*a-r*c,e[2]=o*h+s*c+r*l-n*a,e[3]=s*h-r*a-n*l-o*c,e}function vh(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=Math.sqrt(i*i+r*r+n*n),a=Math.exp(o),l=s>0?a*Math.sin(s)/s:0;return e[0]=i*l,e[1]=r*l,e[2]=n*l,e[3]=a*Math.cos(s),e}function bh(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=Math.sqrt(i*i+r*r+n*n),a=s>0?Math.atan2(s,o)/s:0;return e[0]=i*a,e[1]=r*a,e[2]=n*a,e[3]=.5*Math.log(i*i+r*r+n*n+o*o),e}function wh(e,t,i,r){var n,o,s,a,l,c=t[0],h=t[1],u=t[2],d=t[3],p=i[0],f=i[1],m=i[2],_=i[3];return (o=c*p+h*f+u*m+d*_)<0&&(o=-o,p=-p,f=-f,m=-m,_=-_),1-o>uh.EPSILON?(n=Math.acos(o),s=Math.sin(n),a=Math.sin((1-r)*n)/s,l=Math.sin(r*n)/s):(a=1-r,l=r),e[0]=a*c+l*p,e[1]=a*h+l*f,e[2]=a*u+l*m,e[3]=a*d+l*_,e}function Th(e,t){var i,r=t[0]+t[4]+t[8];if(r>0)i=Math.sqrt(r+1),e[3]=.5*i,e[0]=(t[5]-t[7])*(i=.5/i),e[1]=(t[6]-t[2])*i,e[2]=(t[1]-t[3])*i;else {var n=0;t[4]>t[0]&&(n=1),t[8]>t[3*n+n]&&(n=2);var o=(n+1)%3,s=(n+2)%3;i=Math.sqrt(t[3*n+n]-t[3*o+o]-t[3*s+s]+1),e[n]=.5*i,e[3]=(t[3*o+s]-t[3*s+o])*(i=.5/i),e[o]=(t[3*o+n]+t[3*n+o])*i,e[s]=(t[3*s+n]+t[3*n+s])*i;}return e}kc.clone=fh.clone,kc.fromValues=fh.fromValues,kc.copy=fh.copy,kc.set=fh.set,kc.add=fh.add,kc.mul=xh;var Eh=fh.scale;kc.scale=Eh;var Mh=fh.dot;kc.dot=Mh,kc.lerp=fh.lerp;var Ah=fh.length;kc.length=Ah,kc.len=Ah;var Sh=fh.squaredLength;kc.squaredLength=Sh,kc.sqrLen=Sh;var Ih=fh.normalize;kc.normalize=Ih,kc.exactEquals=fh.exactEquals,kc.equals=fh.equals;var Ch,zh,Dh,Ph=(Ch=ph.create(),zh=ph.fromValues(1,0,0),Dh=ph.fromValues(0,1,0),function(e,t,i){var r=ph.dot(t,i);return r<-.999999?(ph.cross(Ch,zh,t),ph.len(Ch)<1e-6&&ph.cross(Ch,Dh,t),ph.normalize(Ch,Ch),yh(e,Ch,Math.PI),e):r>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(ph.cross(Ch,t,i),e[0]=Ch[0],e[1]=Ch[1],e[2]=Ch[2],e[3]=1+r,Ih(e,e))});kc.rotationTo=Ph;var Rh,Lh,kh=(Rh=gh(),Lh=gh(),function(e,t,i,r,n,o){return wh(Rh,t,n,o),wh(Lh,i,r,o),wh(e,Rh,Lh,2*o*(1-o)),e});kc.sqlerp=kh;var Oh,Bh=(Oh=dh.create(),function(e,t,i,r){return Oh[0]=i[0],Oh[3]=i[1],Oh[6]=i[2],Oh[1]=r[0],Oh[4]=r[1],Oh[7]=r[2],Oh[2]=-t[0],Oh[5]=-t[1],Oh[8]=-t[2],Ih(e,Th(e,Oh))});kc.setAxes=Bh;var Fh={};function Nh(e){return Nh=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Nh(e)}Object.defineProperty(Fh,\"__esModule\",{value:!0}),Fh.create=function(){var e=new Uh.ARRAY_TYPE(8);return Uh.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e},Fh.clone=function(e){var t=new Uh.ARRAY_TYPE(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t},Fh.fromValues=function(e,t,i,r,n,o,s,a){var l=new Uh.ARRAY_TYPE(8);return l[0]=e,l[1]=t,l[2]=i,l[3]=r,l[4]=n,l[5]=o,l[6]=s,l[7]=a,l},Fh.fromRotationTranslationValues=function(e,t,i,r,n,o,s){var a=new Uh.ARRAY_TYPE(8);a[0]=e,a[1]=t,a[2]=i,a[3]=r;var l=.5*n,c=.5*o,h=.5*s;return a[4]=l*r+c*i-h*t,a[5]=c*r+h*e-l*i,a[6]=h*r+l*t-c*e,a[7]=-l*e-c*t-h*i,a},Fh.fromRotationTranslation=Zh,Fh.fromTranslation=function(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=.5*t[0],e[5]=.5*t[1],e[6]=.5*t[2],e[7]=0,e},Fh.fromRotation=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e},Fh.fromMat4=function(e,t){var i=Vh.create();jh.getRotation(i,t);var r=new Uh.ARRAY_TYPE(3);return jh.getTranslation(r,t),Zh(e,i,r),e},Fh.copy=$h,Fh.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e},Fh.set=function(e,t,i,r,n,o,s,a,l){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e[4]=o,e[5]=s,e[6]=a,e[7]=l,e},Fh.getDual=function(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e},Fh.setDual=function(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e},Fh.getTranslation=function(e,t){var i=t[4],r=t[5],n=t[6],o=t[7],s=-t[0],a=-t[1],l=-t[2],c=t[3];return e[0]=2*(i*c+o*s+r*l-n*a),e[1]=2*(r*c+o*a+n*s-i*l),e[2]=2*(n*c+o*l+i*a-r*s),e},Fh.translate=function(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=.5*i[0],l=.5*i[1],c=.5*i[2],h=t[4],u=t[5],d=t[6],p=t[7];return e[0]=r,e[1]=n,e[2]=o,e[3]=s,e[4]=s*a+n*c-o*l+h,e[5]=s*l+o*a-r*c+u,e[6]=s*c+r*l-n*a+d,e[7]=-r*a-n*l-o*c+p,e},Fh.rotateX=function(e,t,i){var r=-t[0],n=-t[1],o=-t[2],s=t[3],a=t[4],l=t[5],c=t[6],h=t[7],u=a*s+h*r+l*o-c*n,d=l*s+h*n+c*r-a*o,p=c*s+h*o+a*n-l*r,f=h*s-a*r-l*n-c*o;return Vh.rotateX(e,t,i),e[4]=u*(s=e[3])+f*(r=e[0])+d*(o=e[2])-p*(n=e[1]),e[5]=d*s+f*n+p*r-u*o,e[6]=p*s+f*o+u*n-d*r,e[7]=f*s-u*r-d*n-p*o,e},Fh.rotateY=function(e,t,i){var r=-t[0],n=-t[1],o=-t[2],s=t[3],a=t[4],l=t[5],c=t[6],h=t[7],u=a*s+h*r+l*o-c*n,d=l*s+h*n+c*r-a*o,p=c*s+h*o+a*n-l*r,f=h*s-a*r-l*n-c*o;return Vh.rotateY(e,t,i),e[4]=u*(s=e[3])+f*(r=e[0])+d*(o=e[2])-p*(n=e[1]),e[5]=d*s+f*n+p*r-u*o,e[6]=p*s+f*o+u*n-d*r,e[7]=f*s-u*r-d*n-p*o,e},Fh.rotateZ=function(e,t,i){var r=-t[0],n=-t[1],o=-t[2],s=t[3],a=t[4],l=t[5],c=t[6],h=t[7],u=a*s+h*r+l*o-c*n,d=l*s+h*n+c*r-a*o,p=c*s+h*o+a*n-l*r,f=h*s-a*r-l*n-c*o;return Vh.rotateZ(e,t,i),e[4]=u*(s=e[3])+f*(r=e[0])+d*(o=e[2])-p*(n=e[1]),e[5]=d*s+f*n+p*r-u*o,e[6]=p*s+f*o+u*n-d*r,e[7]=f*s-u*r-d*n-p*o,e},Fh.rotateByQuatAppend=function(e,t,i){var r=i[0],n=i[1],o=i[2],s=i[3],a=t[0],l=t[1],c=t[2],h=t[3];return e[0]=a*s+h*r+l*o-c*n,e[1]=l*s+h*n+c*r-a*o,e[2]=c*s+h*o+a*n-l*r,e[3]=h*s-a*r-l*n-c*o,e[4]=(a=t[4])*s+(h=t[7])*r+(l=t[5])*o-(c=t[6])*n,e[5]=l*s+h*n+c*r-a*o,e[6]=c*s+h*o+a*n-l*r,e[7]=h*s-a*r-l*n-c*o,e},Fh.rotateByQuatPrepend=function(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=i[0],l=i[1],c=i[2],h=i[3];return e[0]=r*h+s*a+n*c-o*l,e[1]=n*h+s*l+o*a-r*c,e[2]=o*h+s*c+r*l-n*a,e[3]=s*h-r*a-n*l-o*c,e[4]=r*(h=i[7])+s*(a=i[4])+n*(c=i[6])-o*(l=i[5]),e[5]=n*h+s*l+o*a-r*c,e[6]=o*h+s*c+r*l-n*a,e[7]=s*h-r*a-n*l-o*c,e},Fh.rotateAroundAxis=function(e,t,i,r){if(Math.abs(r)<Uh.EPSILON)return $h(e,t);var n=Math.hypot(i[0],i[1],i[2]);r*=.5;var o=Math.sin(r),s=o*i[0]/n,a=o*i[1]/n,l=o*i[2]/n,c=Math.cos(r),h=t[0],u=t[1],d=t[2],p=t[3];e[0]=h*c+p*s+u*l-d*a,e[1]=u*c+p*a+d*s-h*l,e[2]=d*c+p*l+h*a-u*s,e[3]=p*c-h*s-u*a-d*l;var f=t[4],m=t[5],_=t[6],g=t[7];return e[4]=f*c+g*s+m*l-_*a,e[5]=m*c+g*a+_*s-f*l,e[6]=_*c+g*l+f*a-m*s,e[7]=g*c-f*s-m*a-_*l,e},Fh.add=function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e},Fh.multiply=Hh,Fh.scale=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e},Fh.lerp=function(e,t,i,r){var n=1-r;return Wh(t,i)<0&&(r=-r),e[0]=t[0]*n+i[0]*r,e[1]=t[1]*n+i[1]*r,e[2]=t[2]*n+i[2]*r,e[3]=t[3]*n+i[3]*r,e[4]=t[4]*n+i[4]*r,e[5]=t[5]*n+i[5]*r,e[6]=t[6]*n+i[6]*r,e[7]=t[7]*n+i[7]*r,e},Fh.invert=function(e,t){var i=Yh(t);return e[0]=-t[0]/i,e[1]=-t[1]/i,e[2]=-t[2]/i,e[3]=t[3]/i,e[4]=-t[4]/i,e[5]=-t[5]/i,e[6]=-t[6]/i,e[7]=t[7]/i,e},Fh.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e},Fh.normalize=function(e,t){var i=Yh(t);if(i>0){i=Math.sqrt(i);var r=t[0]/i,n=t[1]/i,o=t[2]/i,s=t[3]/i,a=t[4],l=t[5],c=t[6],h=t[7],u=r*a+n*l+o*c+s*h;e[0]=r,e[1]=n,e[2]=o,e[3]=s,e[4]=(a-r*u)/i,e[5]=(l-n*u)/i,e[6]=(c-o*u)/i,e[7]=(h-s*u)/i;}return e},Fh.str=function(e){return \"quat2(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\", \"+e[4]+\", \"+e[5]+\", \"+e[6]+\", \"+e[7]+\")\"},Fh.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]},Fh.equals=function(e,t){var i=e[0],r=e[1],n=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],h=t[0],u=t[1],d=t[2],p=t[3],f=t[4],m=t[5],_=t[6],g=t[7];return Math.abs(i-h)<=Uh.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(r-u)<=Uh.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(n-d)<=Uh.EPSILON*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(o-p)<=Uh.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(s-f)<=Uh.EPSILON*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(a-m)<=Uh.EPSILON*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(l-_)<=Uh.EPSILON*Math.max(1,Math.abs(l),Math.abs(_))&&Math.abs(c-g)<=Uh.EPSILON*Math.max(1,Math.abs(c),Math.abs(g))},Fh.sqrLen=Fh.squaredLength=Fh.len=Fh.length=Fh.dot=Fh.mul=Fh.setReal=Fh.getReal=void 0;var Uh=qh(tc),Vh=qh(kc),jh=qh(Ec);function Gh(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return (Gh=function(e){return e?i:t})(e)}function qh(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!==Nh(e)&&\"function\"!=typeof e)return {default:e};var i=Gh(t);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o];}return r.default=e,i&&i.set(e,r),r}function Zh(e,t,i){var r=.5*i[0],n=.5*i[1],o=.5*i[2],s=t[0],a=t[1],l=t[2],c=t[3];return e[0]=s,e[1]=a,e[2]=l,e[3]=c,e[4]=r*c+n*l-o*a,e[5]=n*c+o*s-r*l,e[6]=o*c+r*a-n*s,e[7]=-r*s-n*a-o*l,e}function $h(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function Hh(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=i[4],l=i[5],c=i[6],h=i[7],u=t[4],d=t[5],p=t[6],f=t[7],m=i[0],_=i[1],g=i[2],y=i[3];return e[0]=r*y+s*m+n*g-o*_,e[1]=n*y+s*_+o*m-r*g,e[2]=o*y+s*g+r*_-n*m,e[3]=s*y-r*m-n*_-o*g,e[4]=r*h+s*a+n*c-o*l+u*y+f*m+d*g-p*_,e[5]=n*h+s*l+o*a-r*c+d*y+f*_+p*m-u*g,e[6]=o*h+s*c+r*l-n*a+p*y+f*g+u*_-d*m,e[7]=s*h-r*a-n*l-o*c+f*y-u*m-d*_-p*g,e}Fh.getReal=Vh.copy,Fh.setReal=Vh.copy,Fh.mul=Hh;var Wh=Vh.dot;Fh.dot=Wh;var Xh=Vh.length;Fh.length=Xh,Fh.len=Xh;var Yh=Vh.squaredLength;Fh.squaredLength=Yh,Fh.sqrLen=Yh;var Kh={};function Jh(e){return Jh=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Jh(e)}Object.defineProperty(Kh,\"__esModule\",{value:!0}),Kh.create=tu,Kh.clone=function(e){var t=new Qh.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t},Kh.fromValues=function(e,t){var i=new Qh.ARRAY_TYPE(2);return i[0]=e,i[1]=t,i},Kh.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e},Kh.set=function(e,t,i){return e[0]=t,e[1]=i,e},Kh.add=function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e},Kh.subtract=iu,Kh.multiply=ru,Kh.divide=nu,Kh.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},Kh.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},Kh.min=function(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e},Kh.max=function(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e},Kh.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},Kh.scale=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e},Kh.scaleAndAdd=function(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e},Kh.distance=ou,Kh.squaredDistance=su,Kh.length=au,Kh.squaredLength=lu,Kh.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},Kh.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},Kh.normalize=function(e,t){var i=t[0],r=t[1],n=i*i+r*r;return n>0&&(n=1/Math.sqrt(n)),e[0]=t[0]*n,e[1]=t[1]*n,e},Kh.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},Kh.cross=function(e,t,i){var r=t[0]*i[1]-t[1]*i[0];return e[0]=e[1]=0,e[2]=r,e},Kh.lerp=function(e,t,i,r){var n=t[0],o=t[1];return e[0]=n+r*(i[0]-n),e[1]=o+r*(i[1]-o),e},Kh.random=function(e,t){t=t||1;var i=2*Qh.RANDOM()*Math.PI;return e[0]=Math.cos(i)*t,e[1]=Math.sin(i)*t,e},Kh.transformMat2=function(e,t,i){var r=t[0],n=t[1];return e[0]=i[0]*r+i[2]*n,e[1]=i[1]*r+i[3]*n,e},Kh.transformMat2d=function(e,t,i){var r=t[0],n=t[1];return e[0]=i[0]*r+i[2]*n+i[4],e[1]=i[1]*r+i[3]*n+i[5],e},Kh.transformMat3=function(e,t,i){var r=t[0],n=t[1];return e[0]=i[0]*r+i[3]*n+i[6],e[1]=i[1]*r+i[4]*n+i[7],e},Kh.transformMat4=function(e,t,i){var r=t[0],n=t[1];return e[0]=i[0]*r+i[4]*n+i[12],e[1]=i[1]*r+i[5]*n+i[13],e},Kh.rotate=function(e,t,i,r){var n=t[0]-i[0],o=t[1]-i[1],s=Math.sin(r),a=Math.cos(r);return e[0]=n*a-o*s+i[0],e[1]=n*s+o*a+i[1],e},Kh.angle=function(e,t){var i=e[0],r=e[1],n=t[0],o=t[1],s=Math.sqrt(i*i+r*r)*Math.sqrt(n*n+o*o);return Math.acos(Math.min(Math.max(s&&(i*n+r*o)/s,-1),1))},Kh.zero=function(e){return e[0]=0,e[1]=0,e},Kh.str=function(e){return \"vec2(\"+e[0]+\", \"+e[1]+\")\"},Kh.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Kh.equals=function(e,t){var i=e[0],r=e[1],n=t[0],o=t[1];return Math.abs(i-n)<=Qh.EPSILON*Math.max(1,Math.abs(i),Math.abs(n))&&Math.abs(r-o)<=Qh.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))},Kh.forEach=Kh.sqrLen=Kh.sqrDist=Kh.dist=Kh.div=Kh.mul=Kh.sub=Kh.len=void 0;var Qh=function(e,t){if(e&&e.__esModule)return e;if(null===e||\"object\"!==Jh(e)&&\"function\"!=typeof e)return {default:e};var i=eu(void 0);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o];}return r.default=e,i&&i.set(e,r),r}(tc);function eu(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return (eu=function(e){return e?i:t})(e)}function tu(){var e=new Qh.ARRAY_TYPE(2);return Qh.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0),e}function iu(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e}function ru(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e}function nu(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e}function ou(e,t){return Math.hypot(t[0]-e[0],t[1]-e[1])}function su(e,t){var i=t[0]-e[0],r=t[1]-e[1];return i*i+r*r}function au(e){return Math.hypot(e[0],e[1])}function lu(e){var t=e[0],i=e[1];return t*t+i*i}Kh.len=au,Kh.sub=iu,Kh.mul=ru,Kh.div=nu,Kh.dist=ou,Kh.sqrDist=su,Kh.sqrLen=lu;var cu=function(){var e=tu();return function(t,i,r,n,o,s){var a,l;for(i||(i=2),r||(r=0),l=n?Math.min(n*i+r,t.length):t.length,a=r;a<l;a+=i)e[0]=t[a],e[1]=t[a+1],o(e,e,s),t[a]=e[0],t[a+1]=e[1];return t}}();function hu(e){return hu=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},hu(e)}Kh.forEach=cu,Object.defineProperty(ec,\"__esModule\",{value:!0});var uu=ec.vec4=Mu=ec.vec3=ec.vec2=ec.quat2=bu=ec.quat=xu=ec.mat4=gu=ec.mat3=ec.mat2d=fu=ec.mat2=ec.glMatrix=void 0,du=Iu(tc);ec.glMatrix=du;var pu=Iu(sc),fu=ec.mat2=pu,mu=Iu(dc);ec.mat2d=mu;var _u=Iu(yc),gu=ec.mat3=_u,yu=Iu(Ec),xu=ec.mat4=yu,vu=Iu(kc),bu=ec.quat=vu,wu=Iu(Fh);ec.quat2=wu;var Tu=Iu(Kh);ec.vec2=Tu;var Eu=Iu(Oc),Mu=ec.vec3=Eu,Au=Iu(Kc);function Su(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return (Su=function(e){return e?i:t})(e)}function Iu(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!==hu(e)&&\"function\"!=typeof e)return {default:e};var i=Su(t);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o];}return r.default=e,i&&i.set(e,r),r}uu=ec.vec4=Au;const Cu=ba([{type:\"Float32\",name:\"a_globe_pos\",components:3},{type:\"Float32\",name:\"a_uv\",components:2}]),{members:zu}=Cu,Du=ba([{name:\"a_pos_3\",components:3,type:\"Int16\"}]);var Pu=ba([{name:\"a_pos\",type:\"Int16\",components:2}]),Ru={};!function(e,t){!function(e){function t(e,t,r){var n=i(256*e,256*(t=Math.pow(2,r)-t-1),r),o=i(256*(e+1),256*(t+1),r);return n[0]+\",\"+n[1]+\",\"+o[0]+\",\"+o[1]}function i(e,t,i){var r=2*Math.PI*6378137/256/Math.pow(2,i);return [e*r-2*Math.PI*6378137/2,t*r-2*Math.PI*6378137/2]}e.getURL=function(e,i,r,n,o,s){return s=s||{},e+\"?\"+[\"bbox=\"+t(r,n,o),\"format=\"+(s.format||\"image/png\"),\"service=\"+(s.service||\"WMS\"),\"version=\"+(s.version||\"1.1.1\"),\"request=\"+(s.request||\"GetMap\"),\"srs=\"+(s.srs||\"EPSG:3857\"),\"width=\"+(s.width||256),\"height=\"+(s.height||256),\"layers=\"+i].join(\"&\")},e.getTileBBox=t,e.getMercCoords=i,Object.defineProperty(e,\"__esModule\",{value:!0});}(t);}(0,Ru);var Lu=Ru;class ku{constructor(e,t,i){this.z=e,this.x=t,this.y=i,this.key=Fu(0,e,e,t,i);}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,t){const i=Lu.getTileBBox(this.x,this.y,this.z),r=function(e,t,i){let r,n=\"\";for(let o=e;o>0;o--)r=1<<o-1,n+=(t&r?1:0)+(i&r?2:0);return n}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace(\"{prefix}\",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(\"tms\"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace(\"{quadkey}\",r).replace(\"{bbox-epsg-3857}\",i)}toString(){return `${this.z}/${this.x}/${this.y}`}}class Ou{constructor(e,t){this.wrap=e,this.canonical=t,this.key=Fu(e,t.z,t.z,t.x,t.y);}}class Bu{constructor(e,t,i,r,n){this.overscaledZ=e,this.wrap=t,this.canonical=new ku(i,+r,+n),this.key=0===t&&e===i?this.canonical.key:Fu(t,e,i,r,n);}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){const t=this.canonical.z-e;return e>this.canonical.z?new Bu(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Bu(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)}calculateScaledKey(e,t=!0){if(this.overscaledZ===e&&t)return this.key;if(e>this.canonical.z)return Fu(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y);{const i=this.canonical.z-e;return Fu(this.wrap*+t,e,e,this.canonical.x>>i,this.canonical.y>>i)}}isChildOf(e){if(e.wrap!==this.wrap)return !1;const t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.z<this.canonical.z&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t}children(e){if(this.overscaledZ>=e)return [new Bu(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const t=this.canonical.z+1,i=2*this.canonical.x,r=2*this.canonical.y;return [new Bu(t,this.wrap,t,i,r),new Bu(t,this.wrap,t,i+1,r),new Bu(t,this.wrap,t,i,r+1),new Bu(t,this.wrap,t,i+1,r+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new Bu(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new Bu(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Ou(this.wrap,this.canonical)}toString(){return `${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Fu(e,t,i,r,n){const o=1<<Math.min(i,22);let s=o*(n%o)+r%o;return e&&i<22&&(s+=o*o*((e<0?-2*e-1:2*e)%(1<<2*(22-i)))),16*(32*s+i)+(t-i)}const Nu=[e=>{let t=e.canonical.x-1,i=e.wrap;return t<0&&(t=(1<<e.canonical.z)-1,i--),new Bu(e.overscaledZ,i,e.canonical.z,t,e.canonical.y)},e=>{let t=e.canonical.x+1,i=e.wrap;return t===1<<e.canonical.z&&(t=0,i++),new Bu(e.overscaledZ,i,e.canonical.z,t,e.canonical.y)},e=>new Bu(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,(0===e.canonical.y?1<<e.canonical.z:e.canonical.y)-1),e=>new Bu(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y===(1<<e.canonical.z)-1?0:e.canonical.y+1)];Is(ku,\"CanonicalTileID\"),Is(Bu,\"OverscaledTileID\",{omit:[\"projMatrix\"]});class Uu{constructor(e,t){this.pos=e,this.dir=t;}intersectsPlane(e,t,i){const r=Mu.dot(t,this.dir);if(Math.abs(r)<1e-6)return !1;const n=((e[0]-this.pos[0])*t[0]+(e[1]-this.pos[1])*t[1]+(e[2]-this.pos[2])*t[2])/r;return i[0]=this.pos[0]+this.dir[0]*n,i[1]=this.pos[1]+this.dir[1]*n,i[2]=this.pos[2]+this.dir[2]*n,!0}closestPointOnSphere(e,t,i){if(Mu.equals(this.pos,e)||0===t)return i[0]=i[1]=i[2]=0,!1;const[r,n,o]=this.dir,s=this.pos[0]-e[0],a=this.pos[1]-e[1],l=this.pos[2]-e[2],c=r*r+n*n+o*o,h=2*(s*r+a*n+l*o),u=h*h-4*c*(s*s+a*a+l*l-t*t);if(u<0){const e=Math.max(-h/2,0),c=s+r*e,u=a+n*e,d=l+o*e,p=Math.hypot(c,u,d);return i[0]=c*t/p,i[1]=u*t/p,i[2]=d*t/p,!1}{const e=(-h-Math.sqrt(u))/(2*c);if(e<0){const e=Math.hypot(s,a,l);return i[0]=s*t/e,i[1]=a*t/e,i[2]=l*t/e,!1}return i[0]=s+r*e,i[1]=a+n*e,i[2]=l+o*e,!0}}}class Vu{constructor(e,t,i,r,n){this.TL=e,this.TR=t,this.BR=i,this.BL=r,this.horizon=n;}static fromInvProjectionMatrix(e,t,i){const r=[-1,1,1],n=[1,1,1],o=[1,-1,1],s=[-1,-1,1],a=Mu.transformMat4(r,r,e),l=Mu.transformMat4(n,n,e),c=Mu.transformMat4(o,o,e),h=Mu.transformMat4(s,s,e);return new Vu(a,l,c,h,t/i)}}function ju(e,t,i){let r=1/0,n=-1/0;const o=[];for(const s of e){Mu.sub(o,s,t);const e=Mu.dot(o,i);r=Math.min(r,e),n=Math.max(n,e);}return [r,n]}function Gu(e,t){let i=!0;for(let r=0;r<e.planes.length;r++){const n=e.planes[r];let o=0;for(let e=0;e<t.length;e++)o+=Mu.dot(n,t[e])+n[3]>=0;if(0===o)return 0;o!==t.length&&(i=!1);}return i?2:1}function qu(e,t){for(const i of e.projections){const r=ju(t,e.points[0],i.axis);if(i.projection[1]<r[0]||i.projection[0]>r[1])return 0}return 1}function Zu(e,t){let i=0;const r=[0,0,0,0];for(let n=0;n<e.length;n++)r[0]=e[n][0],r[1]=e[n][1],r[2]=e[n][2],r[3]=1,uu.dot(r,t)>=0&&i++;return i}class $u{constructor(e,t){this.points=e||new Array(8).fill([0,0,0]),this.planes=t||new Array(6).fill([0,0,0,0]),this.bounds=Hu.fromPoints(this.points),this.projections=[],this.frustumEdges=[Mu.sub([],this.points[2],this.points[3]),Mu.sub([],this.points[0],this.points[3]),Mu.sub([],this.points[4],this.points[0]),Mu.sub([],this.points[5],this.points[1]),Mu.sub([],this.points[6],this.points[2]),Mu.sub([],this.points[7],this.points[3])];for(const e of this.frustumEdges){const t=[0,-e[2],e[1]],i=[e[2],0,-e[0]];this.projections.push({axis:t,projection:ju(this.points,this.points[0],t)}),this.projections.push({axis:i,projection:ju(this.points,this.points[0],i)});}}static fromInvProjectionMatrix(e,t,i,r){const n=Math.pow(2,i),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((i=>{const o=uu.transformMat4([],i,e),s=1/o[3]/t*n;return uu.mul(o,o,[s,s,r?1/o[3]:s,s])})),s=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((e=>{const t=Mu.sub([],o[e[0]],o[e[1]]),i=Mu.sub([],o[e[2]],o[e[1]]),r=Mu.normalize([],Mu.cross([],t,i)),n=-Mu.dot(r,o[e[1]]);return r.concat(n)})),a=[];for(let e=0;e<o.length;e++)a.push([o[e][0],o[e][1],o[e][2]]);return new $u(a,s)}intersectsPrecise(e,t,i){for(let i=0;i<t.length;i++)if(!Zu(e,t[i]))return 0;for(let t=0;t<this.planes.length;t++)if(!Zu(e,this.planes[t]))return 0;for(const t of i)for(const i of this.frustumEdges){const r=Mu.cross([],t,i),n=Mu.length(r);if(0===n)continue;Mu.scale(r,r,1/n);const o=ju(this.points,this.points[0],r),s=ju(e,this.points[0],r);if(o[0]>s[1]||s[0]>o[1])return 0}return 1}}class Hu{static fromPoints(e){const t=[1/0,1/0,1/0],i=[-1/0,-1/0,-1/0];for(const r of e)Mu.min(t,t,r),Mu.max(i,i,r);return new Hu(t,i)}static fromTileIdAndHeight(e,t,i){const r=1<<e.canonical.z,n=e.canonical.x,o=e.canonical.y;return new Hu([n/r,o/r,t],[(n+1)/r,(o+1)/r,i])}static applyTransform(e,t){const i=e.getCorners();for(let e=0;e<i.length;++e)Mu.transformMat4(i[e],i[e],t);return Hu.fromPoints(i)}static projectAabbCorners(e,t){const i=e.getCorners();for(let e=0;e<i.length;++e)Mu.transformMat4(i[e],i[e],t);return i}constructor(e,t){this.min=e,this.max=t,this.center=Mu.scale([],Mu.add([],this.min,this.max),.5);}quadrant(e){const t=[e%2==0,e<2],i=Mu.clone(this.min),r=Mu.clone(this.max);for(let e=0;e<t.length;e++)i[e]=t[e]?this.min[e]:this.center[e],r[e]=t[e]?this.center[e]:this.max[e];return r[2]=this.max[2],new Hu(i,r)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}distanceZ(e){return Math.max(Math.min(this.max[2],e[2]),this.min[2])-e[2]}getCorners(){const e=this.min,t=this.max;return [[e[0],e[1],e[2]],[t[0],e[1],e[2]],[t[0],t[1],e[2]],[e[0],t[1],e[2]],[e[0],e[1],t[2]],[t[0],e[1],t[2]],[t[0],t[1],t[2]],[e[0],t[1],t[2]]]}intersects(e){return this.intersectsAabb(e.bounds)?Gu(e,this.getCorners()):0}intersectsFlat(e){return this.intersectsAabb(e.bounds)?Gu(e,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsPrecise(e,t){return t||this.intersects(e)?qu(e,this.getCorners()):0}intersectsPreciseFlat(e,t){return t||this.intersectsFlat(e)?qu(e,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsAabb(e){for(let t=0;t<3;++t)if(this.min[t]>e.max[t]||e.min[t]>this.max[t])return !1;return !0}intersectsAabbXY(e){return !(this.min[0]>e.max[0]||e.min[0]>this.max[0]||this.min[1]>e.max[1]||e.min[1]>this.max[1])}encapsulate(e){for(let t=0;t<3;t++)this.min[t]=Math.min(this.min[t],e.min[t]),this.max[t]=Math.max(this.max[t],e.max[t]);}encapsulatePoint(e){for(let t=0;t<3;t++)this.min[t]=Math.min(this.min[t],e[t]),this.max[t]=Math.max(this.max[t],e[t]);}closestPoint(e){return [Math.max(Math.min(this.max[0],e[0]),this.min[0]),Math.max(Math.min(this.max[1],e[1]),this.min[1]),Math.max(Math.min(this.max[2],e[2]),this.min[2])]}}Is(Hu,\"Aabb\");const Wu=5,Xu=6,Yu=sr/Math.PI/2,Ku=16383,Ju=64,Qu=[Ju,32,16],ed=-Yu,td=Yu,id=[new Hu([ed,ed,ed],[td,td,td]),new Hu([ed,ed,ed],[0,0,td]),new Hu([0,ed,ed],[td,0,td]),new Hu([ed,0,ed],[0,td,td]),new Hu([0,0,ed],[td,td,td])];function rd(e){return e*Yu/Od}function nd(e,t,i,r=!0){const n=Mu.scale([],e._camera.position,e.worldSize),o=[t,i,1,1];uu.transformMat4(o,o,e.pixelMatrixInverse),uu.scale(o,o,1/o[3]);const s=Mu.sub([],o,n),a=Mu.normalize([],s),l=e.globeMatrix,c=[l[12],l[13],l[14]],h=Mu.sub([],c,n),u=Mu.length(h),d=Mu.normalize([],h),p=e.worldSize/(2*Math.PI),f=Mu.dot(d,a),m=Math.asin(p/u);if(m<Math.acos(f)){if(!r)return null;const e=[],t=[];Mu.scale(e,a,u/f),Mu.normalize(t,Mu.sub(t,e,h)),Mu.normalize(a,Mu.add(a,h,Mu.scale(a,t,Math.tan(m)*u)));}const _=[];new Uu(n,a).closestPointOnSphere(c,p,_);const g=Mu.normalize([],ne(l,0)),y=Mu.normalize([],ne(l,1)),x=Mu.normalize([],ne(l,2)),v=Mu.dot(g,_),b=Mu.dot(y,_),w=Mu.dot(x,_),E=T(Math.asin(-b/p));let M=T(Math.atan2(v,w));M=e.center.lng+function(e,t){const i=(t-e+180)%360-180;return i<-180?i+360:i}(e.center.lng,M);const A=Gd(M),S=z(qd(E),0,1);return new ep(A,S)}class od{constructor(e,t,i){this.a=Mu.sub([],e,i),this.b=Mu.sub([],t,i),this.center=i;const r=Mu.normalize([],this.a),n=Mu.normalize([],this.b);this.angle=Math.acos(Mu.dot(r,n));}}function sd(e,t){if(0===e.angle)return null;let i;return i=0===e.a[t]?1/e.angle*.5*Math.PI:1/e.angle*Math.atan(e.b[t]/e.a[t]/Math.sin(e.angle)-1/Math.tan(e.angle)),i<0||i>1?null:function(e,t,i,r){const n=Math.sin(i);return e*(Math.sin((1-r)*i)/n)+t*(Math.sin(r*i)/n)}(e.a[t],e.b[t],e.angle,z(i,0,1))+e.center[t]}function ad(e){if(e.z<=1)return id[e.z+2*e.y+e.x];const t=pd(dd(e));return Hu.fromPoints(t)}function ld(e,t,i){return Mu.scale(e,e,1-i),Mu.scaleAndAdd(e,e,t,i)}function cd(e,t){const i=Ed(t.zoom);if(0===i)return ad(e);const r=dd(e),n=pd(r),o=Gd(r.getWest())*t.worldSize,s=Gd(r.getEast())*t.worldSize,a=qd(r.getNorth())*t.worldSize,l=qd(r.getSouth())*t.worldSize,c=[o,a,0],h=[s,a,0],u=[o,l,0],d=[s,l,0],p=xu.invert([],t.globeMatrix);return Mu.transformMat4(c,c,p),Mu.transformMat4(h,h,p),Mu.transformMat4(u,u,p),Mu.transformMat4(d,d,p),n[0]=ld(n[0],u,i),n[1]=ld(n[1],d,i),n[2]=ld(n[2],h,i),n[3]=ld(n[3],c,i),Hu.fromPoints(n)}function hd(e,t,i){for(const r of e)Mu.transformMat4(r,r,t),Mu.scale(r,r,i);}function ud(e,t,i,r){const n=t/e.worldSize,o=e.globeMatrix;if(i.z<=1){const e=ad(i).getCorners();return hd(e,o,n),Hu.fromPoints(e)}const s=dd(i,r),a=pd(s);hd(a,o,n);const l=Number.MAX_VALUE,c=[-l,-l,-l],h=[l,l,l];if(s.contains(e.center)){for(const e of a)Mu.min(h,h,e),Mu.max(c,c,e);c[2]=0;const t=e.point,i=[t.x*n,t.y*n,0];return Mu.min(h,h,i),Mu.max(c,c,i),new Hu(h,c)}const u=[o[12]*n,o[13]*n,o[14]*n],d=s.getCenter(),p=z(e.center.lat,-Xd,Xd),f=z(d.lat,-Xd,Xd),m=Gd(e.center.lng),_=qd(p);let g=m-Gd(d.lng);const y=_-qd(f);g>.5?g-=1:g<-.5&&(g+=1);let x=0;if(Math.abs(g)>Math.abs(y))x=g>=0?1:3;else {x=y>=0?0:2;const e=[o[4]*n,o[5]*n,o[6]*n],t=-Math.sin(w(y>=0?s.getSouth():s.getNorth()))*Yu;Mu.scaleAndAdd(u,u,e,t);}const v=a[x],b=a[(x+1)%4],T=new od(v,b,u),E=[sd(T,0)||v[0],sd(T,1)||v[1],sd(T,2)||v[2]],M=Ed(e.zoom);if(M>0){const r=function({x:e,y:t,z:i},r,n,o,s){const a=1/(1<<i);let l=e*a,c=l+a,h=t*a,u=h+a,d=0;const p=(l+c)/2-o;return p>.5?d=-1:p<-.5&&(d=1),l=((l+d)*r-(o*=r))*n+o,c=((c+d)*r-o)*n+o,h=(h*r-(s*=r))*n+s,u=(u*r-s)*n+s,[[l,u,0],[c,u,0],[c,h,0],[l,h,0]]}(i,t,e._pixelsPerMercatorPixel,m,_);for(let e=0;e<a.length;e++)ld(a[e],r[e],M);const n=Mu.add([],r[x],r[(x+1)%4]);Mu.scale(n,n,.5),ld(E,n,M);}for(const e of a)Mu.min(h,h,e),Mu.max(c,c,e);return h[2]=Math.min(v[2],b[2]),Mu.min(h,h,E),Mu.max(c,c,E),new Hu(h,c)}function dd({x:e,y:t,z:i},r=!1){const n=1/(1<<i),o=new Nd($d(e*n),t===(1<<i)-1&&r?-90:Hd((t+1)*n)),s=new Nd($d((e+1)*n),0===t&&r?90:Hd(t*n));return new Ql(o,s)}function pd(e){const t=w(e.getNorth()),i=w(e.getSouth()),r=Math.cos(t),n=Math.cos(i),o=Math.sin(t),s=Math.sin(i),a=e.getWest(),l=e.getEast();return [fd(n,s,a),fd(n,s,l),fd(r,o,l),fd(r,o,a)]}function fd(e,t,i,r=Yu){return i=w(i),[e*Math.sin(i)*r,-t*r,e*Math.cos(i)*r]}function md(e,t,i){return fd(Math.cos(w(e)),Math.sin(w(e)),t,i)}function _d(e,t,i,r){const n=1<<i.z,o=(e/sr+i.x)/n;return md(Hd((t/sr+i.y)/n),$d(o),r)}function gd({min:e,max:t}){return Ku/Math.max(t[0]-e[0],t[1]-e[1],t[2]-e[2])}const yd=new Float64Array(16);function xd(e){const t=gd(e),i=xu.fromScaling(yd,[t,t,t]);return xu.translate(i,i,Mu.negate([],e.min))}function vd(e){const t=xu.fromTranslation(yd,e.min),i=1/gd(e);return xu.scale(t,t,[i,i,i])}function bd(e){const t=sr/(2*Math.PI);return e/(2*Math.PI)/t}function wd(e,t){return sr/(512*Math.pow(2,e))*gd(ad(t))}function Td(e,t,i,r,n){const o=bd(i),s=[e,t,-i/(2*Math.PI)],a=xu.identity(new Float64Array(16));return xu.translate(a,a,s),xu.scale(a,a,[o,o,o]),xu.rotateX(a,a,w(-n)),xu.rotateY(a,a,w(-r)),a}function Ed(e){return D(Wu,Xu,e)}function Md(e,t,i){const r=xu.identity(new Float64Array(16)),n=(t/(1<<e)-.5)*Math.PI*2;return xu.rotateY(r,i.globeMatrix,n),Float32Array.from(r)}function Ad(e,t,i){const r=Ed(i.zoom),n=e.style.map._antialias,o=t.extStandardDerivativesForceOff||e.terrain&&e.terrain.exaggeration()>0;return 0===r&&!n&&!o}function Sd(e,t,i,r){const n=t.getNorth(),o=t.getSouth(),s=t.getWest(),a=t.getEast(),l=1<<e.z,c=a-s,h=n-o,u=c/Ju,d=-h/Qu[i],p=[0,u,0,d,0,0,n,s,0];if(e.z>0){const e=180/r;gu.multiply(p,p,[e/c+1,0,0,0,e/h+1,0,-.5*e/u,.5*e/d,1]);}return p[2]=l,p[5]=e.x,p[8]=e.y,p}function Id(e){const t=Xd-5;e=z(e,-t,t)/t*90;const i=Math.pow(Math.abs(Math.sin(w(e))),3);return Math.round(i*(Qu.length-1))}function Cd(e){const t=[0,0,0],i=xu.identity(new Float64Array(16));return xu.multiply(i,e.pixelMatrix,e.globeMatrix),Mu.transformMat4(t,t,i),new y(t[0],t[1])}function zd(e,t){const i=md(t.lat,t.lng),r=function(e){const t=md(e._center.lat,e._center.lng),i=Mu.fromValues(0,1,0);let r=Mu.cross([],i,t);const n=xu.fromRotation([],-e.angle,t);r=Mu.transformMat4(r,r,n),xu.fromRotation(n,-e._pitch,r);const o=Mu.normalize([],t);return Mu.scale(o,o,rd(e.cameraToCenterDistance/e.pixelsPerMeter)),Mu.transformMat4(o,o,n),Mu.add([],t,o)}(e),n=Mu.subtract([],r,i);return Mu.angle(n,i)}function Dd(e,t){return zd(e,t)>Math.PI/2*1.01}const Pd=w(85),Rd=Math.cos(Pd),Ld=Math.sin(Pd);class kd{constructor(e){this._createGrid(e),this._createPoles(e);}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const e of this._poleSegments)e.destroy();for(const e of this._gridSegments)e.withSkirts.destroy(),e.withoutSkirts.destroy();}_fillGridMeshWithLods(e,t){const i=new Ta,r=new Va,n=[],o=e+1+2,s=t[0]+1,a=t[0]+1+(1+t.length),l=(e,t,i)=>{let r=e===o-1?e-2:0===e?e:e-1;return r+=i?24575:0,[r,t]};for(let e=0;e<o;++e)i.emplaceBack(...l(e,0,!0));for(let e=0;e<s;++e)for(let t=0;t<o;++t)i.emplaceBack(...l(t,e,(0===t||t===o-1)&&!0));for(let e=0;e<t.length;++e){const r=t[e];for(let e=0;e<o;++e)i.emplaceBack(...l(e,r,!0));}for(let e=0;e<t.length;++e){const s=r.length,l=t[e]+1+2,c=new Va;for(let i=0;i<l-1;i++){const n=i===l-2,s=n?o*(a-t.length+e-i):o;for(let e=0;e<o-1;e++){const t=i*o+e;0===i||n||0===e||e===o-2?(c.emplaceBack(t+1,t,t+s),c.emplaceBack(t+s,t+s+1,t+1)):(r.emplaceBack(t+1,t,t+s),r.emplaceBack(t+s,t+s+1,t+1));}}const h=dl.simpleSegment(0,s,i.length,r.length-s);for(let e=0;e<c.uint16.length;e+=3)r.emplaceBack(c.uint16[e],c.uint16[e+1],c.uint16[e+2]);const u=dl.simpleSegment(0,s,i.length,r.length-s);n.push({withoutSkirts:h,withSkirts:u});}return {vertices:i,indices:r,segments:n}}_createGrid(e){const t=this._fillGridMeshWithLods(Ju,Qu);this._gridSegments=t.segments,this._gridBuffer=e.createVertexBuffer(t.vertices,Pu.members),this._gridIndexBuffer=e.createIndexBuffer(t.indices,!0);}_createPoles(e){const t=new Va;for(let e=0;e<=Ju;e++)t.emplaceBack(0,e+1,e+2);this._poleIndexBuffer=e.createIndexBuffer(t,!0);const i=new Za,r=new Za,n=new Za,o=new Za;this._poleSegments=[];for(let e=0,t=0;e<Wu;e++){const s=360/(1<<e);i.emplaceBack(0,-Yu,0,.5,0),r.emplaceBack(0,-Yu,0,.5,1),n.emplaceBack(0,-Yu,0,.5,.5),o.emplaceBack(0,-Yu,0,.5,.5);for(let e=0;e<=Ju;e++){let t=e/Ju,a=0;const l=Wr(0,s,t),[c,h,u]=fd(Rd,Ld,l,Yu);i.emplaceBack(c,h,u,t,a),r.emplaceBack(c,h,u,t,1-a);const d=w(l);t=.5+.5*Math.sin(d),a=.5+.5*Math.cos(d),n.emplaceBack(c,h,u,t,a),o.emplaceBack(c,h,u,t,1-a);}this._poleSegments.push(dl.simpleSegment(t,0,66,64)),t+=66;}this._poleNorthVertexBuffer=e.createVertexBuffer(i,zu,!1),this._poleSouthVertexBuffer=e.createVertexBuffer(r,zu,!1),this._texturedPoleNorthVertexBuffer=e.createVertexBuffer(n,zu,!1),this._texturedPoleSouthVertexBuffer=e.createVertexBuffer(o,zu,!1);}getGridBuffers(e,t){return [this._gridBuffer,this._gridIndexBuffer,t?this._gridSegments[e].withSkirts:this._gridSegments[e].withoutSkirts]}getPoleBuffers(e,t){return [t?this._texturedPoleNorthVertexBuffer:this._poleNorthVertexBuffer,t?this._texturedPoleSouthVertexBuffer:this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[e]]}}const Od=6371008.8,Bd=2*Math.PI*Od;class Fd{constructor(e,t){if(isNaN(e)||isNaN(t))throw new Error(`Invalid LngLat object: (${e}, ${t})`);if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error(\"Invalid LngLat latitude value: must be between -90 and 90\")}wrap(){return new Fd(P(this.lng,-180,180),this.lat)}toArray(){return [this.lng,this.lat]}toString(){return `LngLat(${this.lng}, ${this.lat})`}distanceTo(e){const t=Math.PI/180,i=this.lat*t,r=e.lat*t,n=Math.sin(i)*Math.sin(r)+Math.cos(i)*Math.cos(r)*Math.cos((e.lng-this.lng)*t);return Od*Math.acos(Math.min(n,1))}toBounds(e=0){const t=360*e/40075017,i=t/Math.cos(Math.PI/180*this.lat);return new Ql(new Fd(this.lng-i,this.lat-t),new Fd(this.lng+i,this.lat+t))}toEcef(e){const t=rd(e);return md(this.lat,this.lng,Yu+t)}static convert(e){if(e instanceof Fd)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new Fd(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&\"object\"==typeof e&&null!==e)return new Fd(Number(\"lng\"in e?e.lng:e.lon),Number(e.lat));throw new Error(\"`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]\")}}var Nd=Fd;const Ud=0,Vd=25.5;function jd(e){return Bd*Math.cos(e*Math.PI/180)}function Gd(e){return (180+e)/360}function qd(e){return (180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Zd(e,t){return e/jd(t)}function $d(e){return 360*e-180}function Hd(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}function Wd(e,t){return e*jd(Hd(t))}const Xd=85.051129;function Yd(e){return Math.cos(w(z(e,-Xd,Xd)))}function Kd(e,t){const i=z(t,Ud,Vd),r=Math.pow(2,i);return Yd(e)*Bd/(512*r)}function Jd(e){return 1/Math.cos(e*Math.PI/180)}function Qd(e,t=0){const i=Math.exp(Math.PI*(1-(e.y+t/sr)/(1<<e.z)*2));return 80150034*i/(i*i+1)/sr/(1<<e.z)}class ep{constructor(e,t,i=0){this.x=+e,this.y=+t,this.z=+i;}static fromLngLat(e,t=0){const i=Nd.convert(e);return new ep(Gd(i.lng),qd(i.lat),Zd(t,i.lat))}toLngLat(){return new Nd($d(this.x),Hd(this.y))}toAltitude(){return Wd(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Bd*Jd(Hd(this.y))}}function tp(e,t,i,r,n,o,s,a,l){const c=(t+r)/2,h=(i+n)/2,u=new y(c,h);a(u),function(e,t,i,r,n,o){const s=i-n,a=r-o;return Math.abs((r-t)*s-(i-e)*a)/Math.hypot(s,a)}(u.x,u.y,o.x,o.y,s.x,s.y)>=l?(tp(e,t,i,c,h,o,u,a,l),tp(e,c,h,r,n,u,s,a,l)):e.push(s);}function ip(e,t,i){let r=e[0],n=r.x,o=r.y;t(r);const s=[r];for(let a=1;a<e.length;a++){const l=e[a],{x:c,y:h}=l;t(l),tp(s,n,o,c,h,r,l,t,i),n=c,o=h,r=l;}return s}function rp(e,t,i,r){if(r(t,i)){const n=t.add(i)._mult(.5);rp(e,t,n,r),rp(e,n,i,r);}else e.push(i);}function np(e,t){let i=e[0];const r=[i];for(let n=1;n<e.length;n++){const o=e[n];rp(r,i,o,t),i=o;}return r}const op=Math.pow(2,14)-1,sp=-op-1;function ap(e,t){const i=Math.round(e.x*t),r=Math.round(e.y*t);return e.x=z(i,sp,op),e.y=z(r,sp,op),(i<e.x||i>e.x+1||r<e.y||r>e.y+1)&&W(\"Geometry exceeds allowed extent, reduce your vector tile buffer size\"),e}function lp(e,t,i){const r=e.loadGeometry(),n=e.extent,o=sr/n;if(t&&i&&i.projection.isReprojectedInTileSpace){const o=1<<t.z,{scale:s,x:a,y:l,projection:c}=i,h=e=>{const i=$d((t.x+e.x/n)/o),r=Hd((t.y+e.y/n)/o),h=c.project(i,r);e.x=(h.x*s-a)*n,e.y=(h.y*s-l)*n;};for(let t=0;t<r.length;t++)if(1!==e.type)r[t]=ip(r[t],h,1);else {const e=[];for(const i of r[t])i.x<0||i.x>=n||i.y<0||i.y>=n||(h(i),e.push(i));r[t]=e;}}for(const e of r)for(const t of e)ap(t,o);return r}function cp(e,t){return {type:e.type,id:e.id,properties:e.properties,geometry:t?lp(e):[]}}function hp(e,t,i,r,n){e.emplaceBack(2*t+(r+1)/2,2*i+(n+1)/2);}function up(e,t,i){const r=16384;e.emplaceBack(t.x,t.y,t.z,i[0]*r,i[1]*r,i[2]*r);}class dp{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.fqid)),this.index=e.index,this.hasPattern=!1,this.projection=e.projection,this.layoutVertexArray=new Ta,this.indexArray=new Va,this.segments=new dl,this.programConfigurations=new Hl(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id));}populate(e,t,i,r){const n=this.layers[0],o=[];let s=null;\"circle\"===n.type&&(s=n.layout.get(\"circle-sort-key\"));for(const{feature:t,id:n,index:a,sourceLayerIndex:l}of e){const e=this.layers[0]._featureFilter.needGeometry,c=cp(t,e);if(!this.layers[0]._featureFilter.filter(new ea(this.zoom),c,i))continue;const h=s?s.evaluate(c,{},i):void 0,u={id:n,properties:t.properties,type:t.type,sourceLayerIndex:l,index:a,geometry:e?c.geometry:lp(t,i,r),patterns:{},sortKey:h};o.push(u);}s&&o.sort(((e,t)=>e.sortKey-t.sortKey));let a=null;\"globe\"===r.projection.name&&(this.globeExtVertexArray=new Da,a=r.projection);for(const r of o){const{geometry:n,index:o,sourceLayerIndex:s}=r,l=e[o].feature;this.addFeature(r,n,o,t.availableImages,i,a,t.brightness),t.featureIndex.insert(l,n,o,s,this.index);}}update(e,t,i,r,n){const o=0!==Object.keys(e).length;o&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(e,t,o?this.stateDependentLayers:this.layers,i,r,n);}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return !this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,hl.members),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,ul.members))),this.programConfigurations.upload(e),this.uploaded=!0;}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy());}addFeature(e,t,i,r,n,o,s){for(const i of t)for(const t of i){const i=t.x,r=t.y;if(i<0||i>=sr||r<0||r>=sr)continue;if(o){const e=o.projectTilePoint(i,r,n),t=o.upVector(n,i,r),s=this.globeExtVertexArray;up(s,e,t),up(s,e,t),up(s,e,t),up(s,e,t);}const s=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),a=s.vertexLength;hp(this.layoutVertexArray,i,r,-1,-1),hp(this.layoutVertexArray,i,r,1,-1),hp(this.layoutVertexArray,i,r,1,1),hp(this.layoutVertexArray,i,r,-1,1),this.indexArray.emplaceBack(a,a+1,a+2),this.indexArray.emplaceBack(a,a+2,a+3),s.vertexLength+=4,s.primitiveLength+=2;}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,i,{},r,n,s);}}function pp(e,t){for(let i=0;i<e.length;i++)if(wp(t,e[i]))return !0;for(let i=0;i<t.length;i++)if(wp(e,t[i]))return !0;return !!gp(e,t)}function fp(e,t,i){return !!wp(e,t)||!!xp(t,e,i)}function mp(e,t){if(1===e.length)return bp(t,e[0]);for(let i=0;i<t.length;i++){const r=t[i];for(let t=0;t<r.length;t++)if(wp(e,r[t]))return !0}for(let i=0;i<e.length;i++)if(bp(t,e[i]))return !0;for(let i=0;i<t.length;i++)if(gp(e,t[i]))return !0;return !1}function _p(e,t,i){if(e.length>1){if(gp(e,t))return !0;for(let r=0;r<t.length;r++)if(xp(t[r],e,i))return !0}for(let r=0;r<e.length;r++)if(xp(e[r],t,i))return !0;return !1}function gp(e,t){if(0===e.length||0===t.length)return !1;for(let i=0;i<e.length-1;i++){const r=e[i],n=e[i+1];for(let e=0;e<t.length-1;e++)if(yp(r,n,t[e],t[e+1]))return !0}return !1}function yp(e,t,i,r){return X(e,i,r)!==X(t,i,r)&&X(e,t,i)!==X(e,t,r)}function xp(e,t,i){const r=i*i;if(1===t.length)return e.distSqr(t[0])<r;for(let i=1;i<t.length;i++)if(vp(e,t[i-1],t[i])<r)return !0;return !1}function vp(e,t,i){const r=t.distSqr(i);if(0===r)return e.distSqr(t);const n=((e.x-t.x)*(i.x-t.x)+(e.y-t.y)*(i.y-t.y))/r;return e.distSqr(n<0?t:n>1?i:i.sub(t)._mult(n)._add(t))}function bp(e,t){let i,r,n,o=!1;for(let s=0;s<e.length;s++){i=e[s];for(let e=0,s=i.length-1;e<i.length;s=e++)r=i[e],n=i[s],r.y>t.y!=n.y>t.y&&t.x<(n.x-r.x)*(t.y-r.y)/(n.y-r.y)+r.x&&(o=!o);}return o}function wp(e,t){let i=!1;for(let r=0,n=e.length-1;r<e.length;n=r++){const o=e[r],s=e[n];o.y>t.y!=s.y>t.y&&t.x<(s.x-o.x)*(t.y-o.y)/(s.y-o.y)+o.x&&(i=!i);}return i}function Tp(e,t,i,r,n){for(const o of e)if(t<=o.x&&i<=o.y&&r>=o.x&&n>=o.y)return !0;const o=[new y(t,i),new y(t,n),new y(r,n),new y(r,i)];if(e.length>2)for(const t of o)if(wp(e,t))return !0;for(let t=0;t<e.length-1;t++)if(Ep(e[t],e[t+1],o))return !0;return !1}function Ep(e,t,i){const r=i[0],n=i[2];if(e.x<r.x&&t.x<r.x||e.x>n.x&&t.x>n.x||e.y<r.y&&t.y<r.y||e.y>n.y&&t.y>n.y)return !1;const o=X(e,t,i[0]);return o!==X(e,t,i[1])||o!==X(e,t,i[2])||o!==X(e,t,i[3])}function Mp(e,t,i,r,n,o){let s=t.y-e.y,a=e.x-t.x;if(o=o||0){const e=s*s+a*a;if(0===e)return !0;const t=Math.sqrt(e);s/=t,a/=t;}return !((i.x-e.x)*s+(i.y-e.y)*a-o<0||(r.x-e.x)*s+(r.y-e.y)*a-o<0||(n.x-e.x)*s+(n.y-e.y)*a-o<0)}function Ap(e,t,i,r,n,o,s){return !(Mp(e,t,r,n,o,s)||Mp(t,i,r,n,o,s)||Mp(i,e,r,n,o,s)||Mp(r,n,e,t,i,s)||Mp(n,o,e,t,i,s)||Mp(o,r,e,t,i,s))}function Sp(e,t,i){const r=t.paint.get(e).value;return \"constant\"===r.kind?r.value:i.programConfigurations.get(t.id).getMaxValue(e)}function Ip(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Cp(e,t,i,r,n){if(!t[0]&&!t[1])return e;const o=y.convert(t)._mult(n);\"viewport\"===i&&o._rotate(-r);const s=[];for(let t=0;t<e.length;t++)s.push(e[t].sub(o));return s}function zp(e,t,i,r){const n=y.convert(e)._mult(r);return \"viewport\"===t&&n._rotate(-i),n}Is(dp,\"CircleBucket\",{omit:[\"layers\"]});const Dp=new da({\"circle-sort-key\":new ha(Ct.layout_circle[\"circle-sort-key\"]),visibility:new ca(Ct.layout_circle.visibility)});var Pp={paint:new da({\"circle-radius\":new ha(Ct.paint_circle[\"circle-radius\"]),\"circle-color\":new ha(Ct.paint_circle[\"circle-color\"]),\"circle-blur\":new ha(Ct.paint_circle[\"circle-blur\"]),\"circle-opacity\":new ha(Ct.paint_circle[\"circle-opacity\"]),\"circle-translate\":new ca(Ct.paint_circle[\"circle-translate\"]),\"circle-translate-anchor\":new ca(Ct.paint_circle[\"circle-translate-anchor\"]),\"circle-pitch-scale\":new ca(Ct.paint_circle[\"circle-pitch-scale\"]),\"circle-pitch-alignment\":new ca(Ct.paint_circle[\"circle-pitch-alignment\"]),\"circle-stroke-width\":new ha(Ct.paint_circle[\"circle-stroke-width\"]),\"circle-stroke-color\":new ha(Ct.paint_circle[\"circle-stroke-color\"]),\"circle-stroke-opacity\":new ha(Ct.paint_circle[\"circle-stroke-opacity\"]),\"circle-emissive-strength\":new ca(Ct.paint_circle[\"circle-emissive-strength\"])}),layout:Dp};const Rp=xu.create(),Lp=(e,t,i,r,n,o)=>{const s=e.transform,a=\"globe\"===s.projection.name;let l;if(\"map\"===o.paint.get(\"circle-pitch-alignment\"))if(a){const e=wd(s.zoom,t.canonical)*s._pixelsPerMercatorPixel;l=Float32Array.from([e,0,0,e]);}else l=s.calculatePixelsToTileUnitsMatrix(i);else l=new Float32Array([s.pixelsToGLUnits[0],0,0,s.pixelsToGLUnits[1]]);const c={u_camera_to_center_distance:e.transform.getCameraToCenterDistance(s.projection),u_matrix:e.translatePosMatrix(t.projMatrix,i,o.paint.get(\"circle-translate\"),o.paint.get(\"circle-translate-anchor\")),u_device_pixel_ratio:ht.devicePixelRatio,u_extrude_scale:l,u_inv_rot_matrix:Rp,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0],u_emissive_strength:o.paint.get(\"circle-emissive-strength\")};if(a){c.u_inv_rot_matrix=r,c.u_merc_center=n,c.u_tile_id=[t.canonical.x,t.canonical.y,1<<t.canonical.z],c.u_zoom_transition=Ed(s.zoom);const e=n[0]*sr,i=n[1]*sr;c.u_up_dir=s.projection.upVector(new ku(0,0,0),e,i);}return c},kp=e=>{const t=[];return \"map\"===e.paint.get(\"circle-pitch-alignment\")&&t.push(\"PITCH_WITH_MAP\"),\"map\"===e.paint.get(\"circle-pitch-scale\")&&t.push(\"SCALE_WITH_MAP\"),t};function Op(e,t,i,r,n,o,s,a,l){if(o&&e.queryGeometry.isAboveHorizon)return !1;o&&(l*=e.pixelToTileUnitsFactor);const c=e.tileID.canonical,h=i.projection.upVectorScale(c,i.center.lat,i.worldSize).metersToTile;for(const u of t)for(const t of u){const u=t.add(a),d=n&&i.elevation?i.elevation.exaggeration()*n.getElevationAt(u.x,u.y,!0):0,p=i.projection.projectTilePoint(u.x,u.y,c);if(d>0){const e=i.projection.upVector(c,u.x,u.y);p.x+=e[0]*h*d,p.y+=e[1]*h*d,p.z+=e[2]*h*d;}const f=o?u:Bp(p.x,p.y,p.z,r),m=o?e.tilespaceRays.map((e=>Up(e,d))):e.queryGeometry.screenGeometry,_=uu.transformMat4([],[p.x,p.y,p.z,1],r);if(!s&&o?l*=_[3]/i.cameraToCenterDistance:s&&!o&&(l*=i.cameraToCenterDistance/_[3]),o){const e=Hd((t.y/sr+c.y)/(1<<c.z));l/=i.projection.pixelsPerMeter(e,1)/Zd(1,e);}if(fp(m,f,l))return !0}return !1}function Bp(e,t,i,r){const n=uu.transformMat4([],[e,t,i,1],r);return new y(n[0]/n[3],n[1]/n[3])}const Fp=Mu.fromValues(0,0,0),Np=Mu.fromValues(0,0,1);function Up(e,t){const i=Mu.create();return Fp[2]=t,e.intersectsPlane(Fp,Np,i),new y(i[0],i[1])}class Vp extends dp{}function jp(e,{width:t,height:i},r,n){if(n){if(n instanceof Uint8ClampedArray)n=new Uint8Array(n.buffer);else if(n.length!==t*i*r)throw new RangeError(\"mismatched image size\")}else n=new Uint8Array(t*i*r);return e.width=t,e.height=i,e.data=n,e}function Gp(e,t,i){const{width:r,height:n}=t;r===e.width&&n===e.height||(qp(e,t,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,r),height:Math.min(e.height,n)},i),e.width=r,e.height=n,e.data=t.data);}function qp(e,t,i,r,n,o){if(0===n.width||0===n.height)return t;if(n.width>e.width||n.height>e.height||i.x>e.width-n.width||i.y>e.height-n.height)throw new RangeError(\"out of range source coordinates for image copy\");if(n.width>t.width||n.height>t.height||r.x>t.width-n.width||r.y>t.height-n.height)throw new RangeError(\"out of range destination coordinates for image copy\");const s=e.data,a=t.data;for(let l=0;l<n.height;l++){const c=((i.y+l)*e.width+i.x)*o,h=((r.y+l)*t.width+r.x)*o;for(let e=0;e<n.width*o;e++)a[h+e]=s[c+e];}return t}Is(Vp,\"HeatmapBucket\",{omit:[\"layers\"]});class Zp{constructor(e,t){jp(this,e,1,t);}resize(e){Gp(this,new Zp(e),1);}clone(){return new Zp({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,i,r,n){qp(e,t,i,r,n,1);}}class $p{constructor(e,t){jp(this,e,4,t);}resize(e){Gp(this,new $p(e),4);}replace(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e;}clone(){return new $p({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,i,r,n){qp(e,t,i,r,n,4);}}class Hp{constructor(e,t){this.width=e.width,this.height=e.height,this.data=t instanceof Uint8Array?new Float32Array(t.buffer):t;}}Is(Zp,\"AlphaImage\"),Is($p,\"RGBAImage\");const Wp=new da({visibility:new ca(Ct.layout_heatmap.visibility)});var Xp={paint:new da({\"heatmap-radius\":new ha(Ct.paint_heatmap[\"heatmap-radius\"]),\"heatmap-weight\":new ha(Ct.paint_heatmap[\"heatmap-weight\"]),\"heatmap-intensity\":new ca(Ct.paint_heatmap[\"heatmap-intensity\"]),\"heatmap-color\":new ua(Ct.paint_heatmap[\"heatmap-color\"]),\"heatmap-opacity\":new ca(Ct.paint_heatmap[\"heatmap-opacity\"])}),layout:Wp};function Yp(e){const t={},i=e.resolution||256,r=e.clips?e.clips.length:1,n=e.image||new $p({width:i,height:r}),o=(i,r,o)=>{t[e.evaluationKey]=o;const s=e.expression.evaluate(t);s&&(n.data[i+r+0]=Math.floor(255*s.r/s.a),n.data[i+r+1]=Math.floor(255*s.g/s.a),n.data[i+r+2]=Math.floor(255*s.b/s.a),n.data[i+r+3]=Math.floor(255*s.a));};if(e.clips)for(let t=0,n=0;t<r;++t,n+=4*i)for(let r=0,s=0;r<i;r++,s+=4){const a=r/(i-1),{start:l,end:c}=e.clips[t];o(n,s,l*(1-a)+c*a);}else for(let e=0,t=0;e<i;e++,t+=4)o(0,t,e/(i-1));return n}const Kp=new da({visibility:new ca(Ct.layout_hillshade.visibility)});var Jp={paint:new da({\"hillshade-illumination-direction\":new ca(Ct.paint_hillshade[\"hillshade-illumination-direction\"]),\"hillshade-illumination-anchor\":new ca(Ct.paint_hillshade[\"hillshade-illumination-anchor\"]),\"hillshade-exaggeration\":new ca(Ct.paint_hillshade[\"hillshade-exaggeration\"]),\"hillshade-shadow-color\":new ca(Ct.paint_hillshade[\"hillshade-shadow-color\"]),\"hillshade-highlight-color\":new ca(Ct.paint_hillshade[\"hillshade-highlight-color\"]),\"hillshade-accent-color\":new ca(Ct.paint_hillshade[\"hillshade-accent-color\"]),\"hillshade-emissive-strength\":new ca(Ct.paint_hillshade[\"hillshade-emissive-strength\"])}),layout:Kp};const Qp=ba([{name:\"a_pos\",components:2,type:\"Int16\"}],4),{members:ef}=Qp;var tf={exports:{}};function rf(e,t,i){i=i||2;var r,n,o,s,a,l,c,h=t&&t.length,u=h?t[0]*i:e.length,d=nf(e,0,u,i,!0),p=[];if(!d||d.next===d.prev)return p;if(h&&(d=function(e,t,i,r){var n,o,s,a=[];for(n=0,o=t.length;n<o;n++)(s=nf(e,t[n]*r,n<o-1?t[n+1]*r:e.length,r,!1))===s.next&&(s.steiner=!0),a.push(mf(s));for(a.sort(uf),n=0;n<a.length;n++)i=df(a[n],i);return i}(e,t,d,i)),e.length>80*i){r=o=e[0],n=s=e[1];for(var f=i;f<u;f+=i)(a=e[f])<r&&(r=a),(l=e[f+1])<n&&(n=l),a>o&&(o=a),l>s&&(s=l);c=0!==(c=Math.max(o-r,s-n))?32767/c:0;}return sf(d,p,i,r,n,c,0),p}function nf(e,t,i,r,n){var o,s;if(n===If(e,t,i,r)>0)for(o=t;o<i;o+=r)s=Mf(o,e[o],e[o+1],s);else for(o=i-r;o>=t;o-=r)s=Mf(o,e[o],e[o+1],s);return s&&xf(s,s.next)&&(Af(s),s=s.next),s}function of(e,t){if(!e)return e;t||(t=e);var i,r=e;do{if(i=!1,r.steiner||!xf(r,r.next)&&0!==yf(r.prev,r,r.next))r=r.next;else {if(Af(r),(r=t=r.prev)===r.next)break;i=!0;}}while(i||r!==t);return t}function sf(e,t,i,r,n,o,s){if(e){!s&&o&&function(e,t,i,r){var n=e;do{0===n.z&&(n.z=ff(n.x,n.y,t,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;}while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,function(e){var t,i,r,n,o,s,a,l,c=1;do{for(i=e,e=null,o=null,s=0;i;){for(s++,r=i,a=0,t=0;t<c&&(a++,r=r.nextZ);t++);for(l=c;a>0||l>0&&r;)0!==a&&(0===l||!r||i.z<=r.z)?(n=i,i=i.nextZ,a--):(n=r,r=r.nextZ,l--),o?o.nextZ=n:e=n,n.prevZ=o,o=n;i=r;}o.nextZ=null,c*=2;}while(s>1)}(n);}(e,r,n,o);for(var a,l,c=e;e.prev!==e.next;)if(a=e.prev,l=e.next,o?lf(e,r,n,o):af(e))t.push(a.i/i|0),t.push(e.i/i|0),t.push(l.i/i|0),Af(e),e=l.next,c=l.next;else if((e=l)===c){s?1===s?sf(e=cf(of(e),t,i),t,i,r,n,o,2):2===s&&hf(e,t,i,r,n,o):sf(of(e),t,i,r,n,o,1);break}}}function af(e){var t=e.prev,i=e,r=e.next;if(yf(t,i,r)>=0)return !1;for(var n=t.x,o=i.x,s=r.x,a=t.y,l=i.y,c=r.y,h=n<o?n<s?n:s:o<s?o:s,u=a<l?a<c?a:c:l<c?l:c,d=n>o?n>s?n:s:o>s?o:s,p=a>l?a>c?a:c:l>c?l:c,f=r.next;f!==t;){if(f.x>=h&&f.x<=d&&f.y>=u&&f.y<=p&&_f(n,a,o,l,s,c,f.x,f.y)&&yf(f.prev,f,f.next)>=0)return !1;f=f.next;}return !0}function lf(e,t,i,r){var n=e.prev,o=e,s=e.next;if(yf(n,o,s)>=0)return !1;for(var a=n.x,l=o.x,c=s.x,h=n.y,u=o.y,d=s.y,p=a<l?a<c?a:c:l<c?l:c,f=h<u?h<d?h:d:u<d?u:d,m=a>l?a>c?a:c:l>c?l:c,_=h>u?h>d?h:d:u>d?u:d,g=ff(p,f,t,i,r),y=ff(m,_,t,i,r),x=e.prevZ,v=e.nextZ;x&&x.z>=g&&v&&v.z<=y;){if(x.x>=p&&x.x<=m&&x.y>=f&&x.y<=_&&x!==n&&x!==s&&_f(a,h,l,u,c,d,x.x,x.y)&&yf(x.prev,x,x.next)>=0)return !1;if(x=x.prevZ,v.x>=p&&v.x<=m&&v.y>=f&&v.y<=_&&v!==n&&v!==s&&_f(a,h,l,u,c,d,v.x,v.y)&&yf(v.prev,v,v.next)>=0)return !1;v=v.nextZ;}for(;x&&x.z>=g;){if(x.x>=p&&x.x<=m&&x.y>=f&&x.y<=_&&x!==n&&x!==s&&_f(a,h,l,u,c,d,x.x,x.y)&&yf(x.prev,x,x.next)>=0)return !1;x=x.prevZ;}for(;v&&v.z<=y;){if(v.x>=p&&v.x<=m&&v.y>=f&&v.y<=_&&v!==n&&v!==s&&_f(a,h,l,u,c,d,v.x,v.y)&&yf(v.prev,v,v.next)>=0)return !1;v=v.nextZ;}return !0}function cf(e,t,i){var r=e;do{var n=r.prev,o=r.next.next;!xf(n,o)&&vf(n,r,r.next,o)&&Tf(n,o)&&Tf(o,n)&&(t.push(n.i/i|0),t.push(r.i/i|0),t.push(o.i/i|0),Af(r),Af(r.next),r=e=o),r=r.next;}while(r!==e);return of(r)}function hf(e,t,i,r,n,o){var s=e;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&gf(s,a)){var l=Ef(s,a);return s=of(s,s.next),l=of(l,l.next),sf(s,t,i,r,n,o,0),void sf(l,t,i,r,n,o,0)}a=a.next;}s=s.next;}while(s!==e)}function uf(e,t){return e.x-t.x}function df(e,t){var i=function(e,t){var i,r=t,n=e.x,o=e.y,s=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var a=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,i=r.x<r.next.x?r:r.next,a===n))return i}r=r.next;}while(r!==t);if(!i)return null;var l,c=i,h=i.x,u=i.y,d=1/0;r=i;do{n>=r.x&&r.x>=h&&n!==r.x&&_f(o<u?n:s,o,h,u,o<u?s:n,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(n-r.x),Tf(r,e)&&(l<d||l===d&&(r.x>i.x||r.x===i.x&&pf(i,r)))&&(i=r,d=l)),r=r.next;}while(r!==c);return i}(e,t);if(!i)return t;var r=Ef(i,e);return of(r,r.next),of(i,i.next)}function pf(e,t){return yf(e.prev,e,t.prev)<0&&yf(t.next,e,e.next)<0}function ff(e,t,i,r,n){return (e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-i)*n|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*n|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function mf(e){var t=e,i=e;do{(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next;}while(t!==e);return i}function _f(e,t,i,r,n,o,s,a){return (n-s)*(t-a)>=(e-s)*(o-a)&&(e-s)*(r-a)>=(i-s)*(t-a)&&(i-s)*(o-a)>=(n-s)*(r-a)}function gf(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&vf(i,i.next,e,t))return !0;i=i.next;}while(i!==e);return !1}(e,t)&&(Tf(e,t)&&Tf(t,e)&&function(e,t){var i=e,r=!1,n=(e.x+t.x)/2,o=(e.y+t.y)/2;do{i.y>o!=i.next.y>o&&i.next.y!==i.y&&n<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next;}while(i!==e);return r}(e,t)&&(yf(e.prev,e,t.prev)||yf(e,t.prev,t))||xf(e,t)&&yf(e.prev,e,e.next)>0&&yf(t.prev,t,t.next)>0)}function yf(e,t,i){return (t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function xf(e,t){return e.x===t.x&&e.y===t.y}function vf(e,t,i,r){var n=wf(yf(e,t,i)),o=wf(yf(e,t,r)),s=wf(yf(i,r,e)),a=wf(yf(i,r,t));return n!==o&&s!==a||!(0!==n||!bf(e,i,t))||!(0!==o||!bf(e,r,t))||!(0!==s||!bf(i,e,r))||!(0!==a||!bf(i,t,r))}function bf(e,t,i){return t.x<=Math.max(e.x,i.x)&&t.x>=Math.min(e.x,i.x)&&t.y<=Math.max(e.y,i.y)&&t.y>=Math.min(e.y,i.y)}function wf(e){return e>0?1:e<0?-1:0}function Tf(e,t){return yf(e.prev,e,e.next)<0?yf(e,t,e.next)>=0&&yf(e,e.prev,t)>=0:yf(e,t,e.prev)<0||yf(e,e.next,t)<0}function Ef(e,t){var i=new Sf(e.i,e.x,e.y),r=new Sf(t.i,t.x,t.y),n=e.next,o=t.prev;return e.next=t,t.prev=e,i.next=n,n.prev=i,r.next=i,i.prev=r,o.next=r,r.prev=o,r}function Mf(e,t,i,r){var n=new Sf(e,t,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function Af(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ);}function Sf(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1;}function If(e,t,i,r){for(var n=0,o=t,s=i-r;o<i;o+=r)n+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return n}tf.exports=rf,tf.exports.default=rf,rf.deviation=function(e,t,i,r){var n=t&&t.length,o=Math.abs(If(e,0,n?t[0]*i:e.length,i));if(n)for(var s=0,a=t.length;s<a;s++)o-=Math.abs(If(e,t[s]*i,s<a-1?t[s+1]*i:e.length,i));var l=0;for(s=0;s<r.length;s+=3){var c=r[s]*i,h=r[s+1]*i,u=r[s+2]*i;l+=Math.abs((e[c]-e[u])*(e[h+1]-e[c+1])-(e[c]-e[h])*(e[u+1]-e[c+1]));}return 0===o&&0===l?0:Math.abs((l-o)/o)},rf.flatten=function(e){for(var t=e[0][0].length,i={vertices:[],holes:[],dimensions:t},r=0,n=0;n<e.length;n++){for(var o=0;o<e[n].length;o++)for(var s=0;s<t;s++)i.vertices.push(e[n][o][s]);n>0&&i.holes.push(r+=e[n-1].length);}return i};var Cf=d(tf.exports);function zf(e,t){const i=e.length;if(i<=1)return [e];const r=[];let n,o;for(let t=0;t<i;t++){const i=Y(e[t]);0!==i&&(e[t].area=Math.abs(i),void 0===o&&(o=i<0),o===i<0?(n&&r.push(n),n=[e[t]]):n.push(e[t]));}if(n&&r.push(n),t>1)for(let e=0;e<r.length;e++)r[e].length<=t||(ki(r[e],t,1,r[e].length-1,Df),r[e]=r[e].slice(0,t));return r}function Df(e,t){return t.area-e.area}function Pf(e,t,i){const r=i.patternDependencies;let n=!1;for(const i of t){const t=i.paint.get(`${e}-pattern`);t.isConstant()||(n=!0);const o=t.constantOr(null);o&&(n=!0,r[o]=!0);}return n}function Rf(e,t,i,r,n){const o=n.patternDependencies;for(const s of t){const t=s.paint.get(`${e}-pattern`).value;if(\"constant\"!==t.kind){let e=t.evaluate({zoom:r},i,{},n.availableImages);e=e&&e.name?e.name:e,o[e]=!0,i.patterns[s.id]=e;}}return i}class Lf{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.fqid)),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ta,this.indexArray=new Va,this.indexArray2=new ka,this.programConfigurations=new Hl(e.layers,e.zoom),this.segments=new dl,this.segments2=new dl,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id)),this.projection=e.projection;}populate(e,t,i,r){this.hasPattern=Pf(\"fill\",this.layers,t);const n=this.layers[0].layout.get(\"fill-sort-key\"),o=[];for(const{feature:s,id:a,index:l,sourceLayerIndex:c}of e){const e=this.layers[0]._featureFilter.needGeometry,h=cp(s,e);if(!this.layers[0]._featureFilter.filter(new ea(this.zoom),h,i))continue;const u=n?n.evaluate(h,{},i,t.availableImages):void 0,d={id:a,properties:s.properties,type:s.type,sourceLayerIndex:c,index:l,geometry:e?h.geometry:lp(s,i,r),patterns:{},sortKey:u};o.push(d);}n&&o.sort(((e,t)=>e.sortKey-t.sortKey));for(const r of o){const{geometry:n,index:o,sourceLayerIndex:s}=r;if(this.hasPattern){const e=Rf(\"fill\",this.layers,r,this.zoom,t);this.patternFeatures.push(e);}else this.addFeature(r,n,o,i,{},t.availableImages,t.brightness);t.featureIndex.insert(e[o].feature,n,o,s,this.index);}}update(e,t,i,r,n){const o=0!==Object.keys(e).length;o&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(e,t,o?this.stateDependentLayers:this.layers,i,r,n);}addFeatures(e,t,i,r,n,o){for(const e of this.patternFeatures)this.addFeature(e,e.geometry,e.index,t,i,r,o);}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return !this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ef),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0;}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy());}addFeature(e,t,i,r,n,o=[],s){for(const e of zf(t,500)){let t=0;for(const i of e)t+=i.length;const i=this.segments.prepareSegment(t,this.layoutVertexArray,this.indexArray),r=i.vertexLength,n=[],o=[];for(const t of e){if(0===t.length)continue;t!==e[0]&&o.push(n.length/2);const i=this.segments2.prepareSegment(t.length,this.layoutVertexArray,this.indexArray2),r=i.vertexLength;this.layoutVertexArray.emplaceBack(t[0].x,t[0].y),this.indexArray2.emplaceBack(r+t.length-1,r),n.push(t[0].x),n.push(t[0].y);for(let e=1;e<t.length;e++)this.layoutVertexArray.emplaceBack(t[e].x,t[e].y),this.indexArray2.emplaceBack(r+e-1,r+e),n.push(t[e].x),n.push(t[e].y);i.vertexLength+=t.length,i.primitiveLength+=t.length;}const s=Cf(n,o);for(let e=0;e<s.length;e+=3)this.indexArray.emplaceBack(r+s[e],r+s[e+1],r+s[e+2]);i.vertexLength+=t,i.primitiveLength+=s.length/3;}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,i,n,o,r,s);}}Is(Lf,\"FillBucket\",{omit:[\"layers\",\"patternFeatures\"]});const kf=new da({\"fill-sort-key\":new ha(Ct.layout_fill[\"fill-sort-key\"]),visibility:new ca(Ct.layout_fill.visibility)});var Of={paint:new da({\"fill-antialias\":new ca(Ct.paint_fill[\"fill-antialias\"]),\"fill-opacity\":new ha(Ct.paint_fill[\"fill-opacity\"]),\"fill-color\":new ha(Ct.paint_fill[\"fill-color\"]),\"fill-outline-color\":new ha(Ct.paint_fill[\"fill-outline-color\"]),\"fill-translate\":new ca(Ct.paint_fill[\"fill-translate\"]),\"fill-translate-anchor\":new ca(Ct.paint_fill[\"fill-translate-anchor\"]),\"fill-pattern\":new ha(Ct.paint_fill[\"fill-pattern\"]),\"fill-emissive-strength\":new ca(Ct.paint_fill[\"fill-emissive-strength\"])}),layout:kf};const Bf=ba([{name:\"a_pos_normal_ed\",components:4,type:\"Int16\"}]),Ff=ba([{name:\"a_pos_end\",components:4,type:\"Int16\"},{name:\"a_angular_offset_factor\",components:1,type:\"Int16\"}]),Nf=ba([{name:\"a_centroid_pos\",components:2,type:\"Uint16\"}]),Uf=ba([{name:\"a_hidden_by_landmark\",components:1,type:\"Uint8\"}]),Vf=ba([{name:\"a_pos_3\",components:3,type:\"Int16\"},{name:\"a_pos_normal_3\",components:3,type:\"Int16\"}]),{members:jf}=Bf;var Gf={},qf=_,Zf=$f;function $f(e,t,i,r,n){this.properties={},this.extent=i,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=n,e.readFields(Hf,this,t);}function Hf(e,t,i){1==e?t.id=i.readVarint():2==e?function(e,t){for(var i=e.readVarint()+e.pos;e.pos<i;){var r=t._keys[e.readVarint()],n=t._values[e.readVarint()];t.properties[r]=n;}}(i,t):3==e?t.type=i.readVarint():4==e&&(t._geometry=i.pos);}function Wf(e){for(var t,i,r=0,n=0,o=e.length,s=o-1;n<o;s=n++)r+=((i=e[s]).x-(t=e[n]).x)*(t.y+i.y);return r}$f.types=[\"Unknown\",\"Point\",\"LineString\",\"Polygon\"],$f.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,i=e.readVarint()+e.pos,r=1,n=0,o=0,s=0,a=[];e.pos<i;){if(n<=0){var l=e.readVarint();r=7&l,n=l>>3;}if(n--,1===r||2===r)o+=e.readSVarint(),s+=e.readSVarint(),1===r&&(t&&a.push(t),t=[]),t.push(new qf(o,s));else {if(7!==r)throw new Error(\"unknown command \"+r);t&&t.push(t[0].clone());}}return t&&a.push(t),a},$f.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,i=1,r=0,n=0,o=0,s=1/0,a=-1/0,l=1/0,c=-1/0;e.pos<t;){if(r<=0){var h=e.readVarint();i=7&h,r=h>>3;}if(r--,1===i||2===i)(n+=e.readSVarint())<s&&(s=n),n>a&&(a=n),(o+=e.readSVarint())<l&&(l=o),o>c&&(c=o);else if(7!==i)throw new Error(\"unknown command \"+i)}return [s,l,a,c]},$f.prototype.toGeoJSON=function(e,t,i){var r,n,o=this.extent*Math.pow(2,i),s=this.extent*e,a=this.extent*t,l=this.loadGeometry(),c=$f.types[this.type];function h(e){for(var t=0;t<e.length;t++){var i=e[t];e[t]=[360*(i.x+s)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(i.y+a)/o)*Math.PI/180))-90];}}switch(this.type){case 1:var u=[];for(r=0;r<l.length;r++)u[r]=l[r][0];h(l=u);break;case 2:for(r=0;r<l.length;r++)h(l[r]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return [e];for(var i,r,n=[],o=0;o<t;o++){var s=Wf(e[o]);0!==s&&(void 0===r&&(r=s<0),r===s<0?(i&&n.push(i),i=[e[o]]):i.push(e[o]));}return i&&n.push(i),n}(l),r=0;r<l.length;r++)for(n=0;n<l[r].length;n++)h(l[r][n]);}1===l.length?l=l[0]:c=\"Multi\"+c;var d={type:\"Feature\",geometry:{type:c,coordinates:l},properties:this.properties};return \"id\"in this&&(d.id=this.id),d};var Xf=Zf,Yf=Kf;function Kf(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(Jf,this,t),this.length=this._features.length;}function Jf(e,t,i){15===e?t.version=i.readVarint():1===e?t.name=i.readString():5===e?t.extent=i.readVarint():2===e?t._features.push(i.pos):3===e?t._keys.push(i.readString()):4===e&&t._values.push(function(e){for(var t=null,i=e.readVarint()+e.pos;e.pos<i;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null;}return t}(i));}Kf.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error(\"feature index out of bounds\");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new Xf(this._pbf,t,this.extent,this._keys,this._values)};var Qf=Yf;function em(e,t,i){if(3===e){var r=new Qf(i,i.readVarint()+i.pos);r.length&&(t[r.name]=r);}}var tm=Gf.VectorTile=function(e,t){this.layers=e.readFields(em,{},t);},im=Gf.VectorTileFeature=Zf;function rm(e,t,i,r){const n=[],o=0===r?(e,t,i,r,n,o)=>{e.push(new y(o,i+(o-t)/(r-t)*(n-i)));}:(e,t,i,r,n,o)=>{e.push(new y(t+(o-i)/(n-i)*(r-t),o));};for(const s of e){const e=[];for(const n of s){if(n.length<=2)continue;const s=[];for(let e=0;e<n.length-1;e++){const a=n[e].x,l=n[e].y,c=n[e+1].x,h=n[e+1].y,u=0===r?a:l,d=0===r?c:h;u<t?d>t&&o(s,a,l,c,h,t):u>i?d<i&&o(s,a,l,c,h,i):s.push(n[e]),d<t&&u>=t&&o(s,a,l,c,h,t),d>i&&u<=i&&o(s,a,l,c,h,i);}let a=n[n.length-1];const l=0===r?a.x:a.y;l>=t&&l<=i&&s.push(a),s.length&&(a=s[s.length-1],s[0].x===a.x&&s[0].y===a.y||s.push(s[0]),e.push(s));}e.length&&n.push(e);}return n}Gf.VectorTileLayer=Yf;class nm{constructor(e){this._stringToNumber={},this._numberToString=[];for(let t=0;t<e.length;t++){const i=e[t];this._stringToNumber[i]=t,this._numberToString[t]=i;}}encode(e){return this._stringToNumber[e]}decode(e){return this._numberToString[e]}}var om={\n/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nread:function(e,t,i,r,n){var o,s,a=8*n-r-1,l=(1<<a)-1,c=l>>1,h=-7,u=i?n-1:0,d=i?-1:1,p=e[t+u];for(u+=d,o=p&(1<<-h)-1,p>>=-h,h+=a;h>0;o=256*o+e[t+u],u+=d,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=r;h>0;s=256*s+e[t+u],u+=d,h-=8);if(0===o)o=1-c;else {if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c;}return (p?-1:1)*s*Math.pow(2,o-r)},write:function(e,t,i,r,n,o){var s,a,l,c=8*o-n-1,h=(1<<c)-1,u=h>>1,d=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=h):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+u>=1?d/l:d*Math.pow(2,1-u))*l>=2&&(s++,l/=2),s+u>=h?(a=0,s=h):s+u>=1?(a=(t*l-1)*Math.pow(2,n),s+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,n),s=0));n>=8;e[i+p]=255&a,p+=f,a/=256,n-=8);for(s=s<<n|a,c+=n;c>0;e[i+p]=255&s,p+=f,s/=256,c-=8);e[i+p-f]|=128*m;}},sm=lm,am=om;function lm(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length;}lm.Varint=0,lm.Fixed64=1,lm.Bytes=2,lm.Fixed32=5;var cm=4294967296,hm=1/cm,um=\"undefined\"==typeof TextDecoder?null:new TextDecoder(\"utf8\");function dm(e){return e.type===lm.Bytes?e.readVarint()+e.pos:e.pos+1}function pm(e,t,i){return i?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function fm(e,t,i){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));i.realloc(r);for(var n=i.pos-1;n>=e;n--)i.buf[n+r]=i.buf[n];}function mm(e,t){for(var i=0;i<e.length;i++)t.writeVarint(e[i]);}function _m(e,t){for(var i=0;i<e.length;i++)t.writeSVarint(e[i]);}function gm(e,t){for(var i=0;i<e.length;i++)t.writeFloat(e[i]);}function ym(e,t){for(var i=0;i<e.length;i++)t.writeDouble(e[i]);}function xm(e,t){for(var i=0;i<e.length;i++)t.writeBoolean(e[i]);}function vm(e,t){for(var i=0;i<e.length;i++)t.writeFixed32(e[i]);}function bm(e,t){for(var i=0;i<e.length;i++)t.writeSFixed32(e[i]);}function wm(e,t){for(var i=0;i<e.length;i++)t.writeFixed64(e[i]);}function Tm(e,t){for(var i=0;i<e.length;i++)t.writeSFixed64(e[i]);}function Em(e,t){return (e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function Mm(e,t,i){e[i]=t,e[i+1]=t>>>8,e[i+2]=t>>>16,e[i+3]=t>>>24;}function Am(e,t){return (e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}lm.prototype={destroy:function(){this.buf=null;},readFields:function(e,t,i){for(i=i||this.length;this.pos<i;){var r=this.readVarint(),n=r>>3,o=this.pos;this.type=7&r,e(n,t,this),this.pos===o&&this.skip(r);}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=Em(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=Am(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=Em(this.buf,this.pos)+Em(this.buf,this.pos+4)*cm;return this.pos+=8,e},readSFixed64:function(){var e=Em(this.buf,this.pos)+Am(this.buf,this.pos+4)*cm;return this.pos+=8,e},readFloat:function(){var e=am.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=am.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,i,r=this.buf;return t=127&(i=r[this.pos++]),i<128?t:(t|=(127&(i=r[this.pos++]))<<7,i<128?t:(t|=(127&(i=r[this.pos++]))<<14,i<128?t:(t|=(127&(i=r[this.pos++]))<<21,i<128?t:function(e,t,i){var r,n,o=i.buf;if(r=(112&(n=o[i.pos++]))>>4,n<128)return pm(e,r,t);if(r|=(127&(n=o[i.pos++]))<<3,n<128)return pm(e,r,t);if(r|=(127&(n=o[i.pos++]))<<10,n<128)return pm(e,r,t);if(r|=(127&(n=o[i.pos++]))<<17,n<128)return pm(e,r,t);if(r|=(127&(n=o[i.pos++]))<<24,n<128)return pm(e,r,t);if(r|=(1&(n=o[i.pos++]))<<31,n<128)return pm(e,r,t);throw new Error(\"Expected varint not more than 10 bytes\")}(t|=(15&(i=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&um?function(e,t,i){return um.decode(e.subarray(t,i))}(this.buf,t,e):function(e,t,i){for(var r=\"\",n=t;n<i;){var o,s,a,l=e[n],c=null,h=l>239?4:l>223?3:l>191?2:1;if(n+h>i)break;1===h?l<128&&(c=l):2===h?128==(192&(o=e[n+1]))&&(c=(31&l)<<6|63&o)<=127&&(c=null):3===h?(s=e[n+2],128==(192&(o=e[n+1]))&&128==(192&s)&&((c=(15&l)<<12|(63&o)<<6|63&s)<=2047||c>=55296&&c<=57343)&&(c=null)):4===h&&(s=e[n+2],a=e[n+3],128==(192&(o=e[n+1]))&&128==(192&s)&&128==(192&a)&&((c=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,h=1):c>65535&&(c-=65536,r+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),r+=String.fromCharCode(c),n+=h;}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==lm.Bytes)return e.push(this.readVarint(t));var i=dm(this);for(e=e||[];this.pos<i;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==lm.Bytes)return e.push(this.readSVarint());var t=dm(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==lm.Bytes)return e.push(this.readBoolean());var t=dm(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==lm.Bytes)return e.push(this.readFloat());var t=dm(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==lm.Bytes)return e.push(this.readDouble());var t=dm(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==lm.Bytes)return e.push(this.readFixed32());var t=dm(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==lm.Bytes)return e.push(this.readSFixed32());var t=dm(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==lm.Bytes)return e.push(this.readFixed64());var t=dm(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==lm.Bytes)return e.push(this.readSFixed64());var t=dm(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===lm.Varint)for(;this.buf[this.pos++]>127;);else if(t===lm.Bytes)this.pos=this.readVarint()+this.pos;else if(t===lm.Fixed32)this.pos+=4;else {if(t!==lm.Fixed64)throw new Error(\"Unimplemented type: \"+t);this.pos+=8;}},writeTag:function(e,t){this.writeVarint(e<<3|t);},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var i=new Uint8Array(t);i.set(this.buf),this.buf=i,this.length=t;}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),Mm(this.buf,e,this.pos),this.pos+=4;},writeSFixed32:function(e){this.realloc(4),Mm(this.buf,e,this.pos),this.pos+=4;},writeFixed64:function(e){this.realloc(8),Mm(this.buf,-1&e,this.pos),Mm(this.buf,Math.floor(e*hm),this.pos+4),this.pos+=8;},writeSFixed64:function(e){this.realloc(8),Mm(this.buf,-1&e,this.pos),Mm(this.buf,Math.floor(e*hm),this.pos+4),this.pos+=8;},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var i,r;if(e>=0?(i=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(i=~(-e%4294967296))?i=i+1|0:(i=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error(\"Given varint doesn't fit into 10 bytes\");t.realloc(10),function(e,t,i){i.buf[i.pos++]=127&e|128,e>>>=7,i.buf[i.pos++]=127&e|128,e>>>=7,i.buf[i.pos++]=127&e|128,e>>>=7,i.buf[i.pos++]=127&e|128,i.buf[i.pos]=127&(e>>>=7);}(i,0,t),function(e,t){var i=(7&e)<<4;t.buf[t.pos++]|=i|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))));}(r,t);}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))));},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e);},writeBoolean:function(e){this.writeVarint(Boolean(e));},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,i){for(var r,n,o=0;o<t.length;o++){if((r=t.charCodeAt(o))>55295&&r<57344){if(!n){r>56319||o+1===t.length?(e[i++]=239,e[i++]=191,e[i++]=189):n=r;continue}if(r<56320){e[i++]=239,e[i++]=191,e[i++]=189,n=r;continue}r=n-55296<<10|r-56320|65536,n=null;}else n&&(e[i++]=239,e[i++]=191,e[i++]=189,n=null);r<128?e[i++]=r:(r<2048?e[i++]=r>>6|192:(r<65536?e[i++]=r>>12|224:(e[i++]=r>>18|240,e[i++]=r>>12&63|128),e[i++]=r>>6&63|128),e[i++]=63&r|128);}return i}(this.buf,e,this.pos);var i=this.pos-t;i>=128&&fm(t,i,this),this.pos=t-1,this.writeVarint(i),this.pos+=i;},writeFloat:function(e){this.realloc(4),am.write(this.buf,e,this.pos,!0,23,4),this.pos+=4;},writeDouble:function(e){this.realloc(8),am.write(this.buf,e,this.pos,!0,52,8),this.pos+=8;},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var i=0;i<t;i++)this.buf[this.pos++]=e[i];},writeRawMessage:function(e,t){this.pos++;var i=this.pos;e(t,this);var r=this.pos-i;r>=128&&fm(i,r,this),this.pos=i-1,this.writeVarint(r),this.pos+=r;},writeMessage:function(e,t,i){this.writeTag(e,lm.Bytes),this.writeRawMessage(t,i);},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,mm,t);},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,_m,t);},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,xm,t);},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,gm,t);},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,ym,t);},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,vm,t);},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,bm,t);},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,wm,t);},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,Tm,t);},writeBytesField:function(e,t){this.writeTag(e,lm.Bytes),this.writeBytes(t);},writeFixed32Field:function(e,t){this.writeTag(e,lm.Fixed32),this.writeFixed32(t);},writeSFixed32Field:function(e,t){this.writeTag(e,lm.Fixed32),this.writeSFixed32(t);},writeFixed64Field:function(e,t){this.writeTag(e,lm.Fixed64),this.writeFixed64(t);},writeSFixed64Field:function(e,t){this.writeTag(e,lm.Fixed64),this.writeSFixed64(t);},writeVarintField:function(e,t){this.writeTag(e,lm.Varint),this.writeVarint(t);},writeSVarintField:function(e,t){this.writeTag(e,lm.Varint),this.writeSVarint(t);},writeStringField:function(e,t){this.writeTag(e,lm.Bytes),this.writeString(t);},writeFloatField:function(e,t){this.writeTag(e,lm.Fixed32),this.writeFloat(t);},writeDoubleField:function(e,t){this.writeTag(e,lm.Fixed64),this.writeDouble(t);},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t));}};var Sm=d(sm);const Im=[\"tile\",\"layer\",\"source\",\"sourceLayer\",\"state\"];class Cm{constructor(e,t,i,r,n){this.type=\"Feature\",this._vectorTileFeature=e,this._z=t,this._x=i,this._y=r,this.properties=e.properties,this.id=n;}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(e){this._geometry=e;}toJSON(){const e={type:\"Feature\",state:void 0,geometry:this.geometry,properties:this.properties};void 0!==this.id&&(e.id=this.id);for(const t of Im)void 0!==this[t]&&(e[t]=this[t]);return e}}class zm{constructor(){this.state={},this.stateChanges={},this.deletedStates={};}updateState(e,t,i){const r=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][r]=this.stateChanges[e][r]||{},k(this.stateChanges[e][r],i),null===this.deletedStates[e]){this.deletedStates[e]={};for(const t in this.state[e])t!==r&&(this.deletedStates[e][t]=null);}else if(this.deletedStates[e]&&null===this.deletedStates[e][r]){this.deletedStates[e][r]={};for(const t in this.state[e][r])i[t]||(this.deletedStates[e][r][t]=null);}else for(const t in i)this.deletedStates[e]&&this.deletedStates[e][r]&&null===this.deletedStates[e][r][t]&&delete this.deletedStates[e][r][t];}removeFeatureState(e,t,i){if(null===this.deletedStates[e])return;const r=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},i&&void 0!==t)null!==this.deletedStates[e][r]&&(this.deletedStates[e][r]=this.deletedStates[e][r]||{},this.deletedStates[e][r][i]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][r])for(i in this.deletedStates[e][r]={},this.stateChanges[e][r])this.deletedStates[e][r][i]=null;else this.deletedStates[e][r]=null;else this.deletedStates[e]=null;}getState(e,t){const i=String(t),r=k({},(this.state[e]||{})[i],(this.stateChanges[e]||{})[i]);if(null===this.deletedStates[e])return {};if(this.deletedStates[e]){const i=this.deletedStates[e][t];if(null===i)return {};for(const e in i)delete r[e];}return r}initializeTileState(e,t){e.setFeatureState(this.state,t);}coalesceChanges(e,t){const i={};for(const e in this.stateChanges){this.state[e]=this.state[e]||{};const t={};for(const i in this.stateChanges[e])this.state[e][i]||(this.state[e][i]={}),k(this.state[e][i],this.stateChanges[e][i]),t[i]=this.state[e][i];i[e]=t;}for(const e in this.deletedStates){this.state[e]=this.state[e]||{};const t={};if(null===this.deletedStates[e])for(const i in this.state[e])t[i]={},this.state[e][i]={};else for(const i in this.deletedStates[e]){if(null===this.deletedStates[e][i])this.state[e][i]={};else if(this.state[e][i])for(const t of Object.keys(this.deletedStates[e][i]))delete this.state[e][i][t];t[i]=this.state[e][i];}i[e]=i[e]||{},k(i[e],t);}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(i).length)for(const r in e)e[r].setFeatureState(i,t);}}class Dm{constructor(e){this.size=e,this.minimums=[],this.maximums=[],this.leaves=[];}getElevation(e,t){const i=this.toIdx(e,t);return {min:this.minimums[i],max:this.maximums[i]}}isLeaf(e,t){return this.leaves[this.toIdx(e,t)]}toIdx(e,t){return t*this.size+e}}function Pm(e,t,i,r){let n=0,o=Number.MAX_VALUE;for(let s=0;s<3;s++)if(Math.abs(r[s])<1e-15){if(i[s]<e[s]||i[s]>t[s])return null}else {const a=1/r[s];let l=(e[s]-i[s])*a,c=(t[s]-i[s])*a;if(l>c){const e=l;l=c,c=e;}if(l>n&&(n=l),c<o&&(o=c),n>o)return null}return n}function Rm(e,t,i,r,n,o,s,a,l,c,h){const u=r-e,d=n-t,p=o-i,f=s-e,m=a-t,_=l-i,g=h[1]*_-h[2]*m,y=h[2]*f-h[0]*_,x=h[0]*m-h[1]*f,v=u*g+d*y+p*x;if(Math.abs(v)<1e-15)return null;const b=1/v,w=c[0]-e,T=c[1]-t,E=c[2]-i,M=(w*g+T*y+E*x)*b;if(M<0||M>1)return null;const A=T*p-E*d,S=E*u-w*p,I=w*d-T*u,C=(h[0]*A+h[1]*S+h[2]*I)*b;return C<0||M+C>1?null:(f*A+m*S+_*I)*b}function Lm(e,t,i){return (e-t)/(i-t)}function km(e,t,i,r,n,o,s,a,l){const c=1<<i,h=o-r,u=s-n,d=(e+1)/c*h+r,p=(t+0)/c*u+n,f=(t+1)/c*u+n;a[0]=(e+0)/c*h+r,a[1]=p,l[0]=d,l[1]=f;}class Om{constructor(e){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=e,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const t=function(e){const t=Math.ceil(Math.log2(e.dim/8)),i=[];let r=Math.ceil(Math.pow(2,t));const n=1/r,o=(e,t,i,r,n)=>{const o=r?1:0,s=(e+1)*i-o,a=t*i,l=(t+1)*i-o;n[0]=e*i,n[1]=a,n[2]=s,n[3]=l;};let s=new Dm(r);const a=[];for(let t=0;t<r*r;t++){o(t%r,Math.floor(t/r),n,!1,a);const i=Fm(a[0],a[1],e),l=Fm(a[2],a[1],e),c=Fm(a[2],a[3],e),h=Fm(a[0],a[3],e);s.minimums.push(Math.min(i,l,c,h)),s.maximums.push(Math.max(i,l,c,h)),s.leaves.push(1);}for(i.push(s),r/=2;r>=1;r/=2){const e=i[i.length-1];s=new Dm(r);for(let t=0;t<r*r;t++){o(t%r,Math.floor(t/r),2,!0,a);const i=e.getElevation(a[0],a[1]),n=e.getElevation(a[2],a[1]),l=e.getElevation(a[2],a[3]),c=e.getElevation(a[0],a[3]),h=e.isLeaf(a[0],a[1]),u=e.isLeaf(a[2],a[1]),d=e.isLeaf(a[2],a[3]),p=e.isLeaf(a[0],a[3]),f=Math.min(i.min,n.min,l.min,c.min),m=Math.max(i.max,n.max,l.max,c.max),_=h&&u&&d&&p;s.maximums.push(m),s.minimums.push(f),s.leaves.push(m-f<=5&&_?1:0);}i.push(s);}return i}(this.dem),i=t.length-1,r=t[i];this._addNode(r.minimums[0],r.maximums[0],r.leaves[0]),this._construct(t,0,0,i,0);}raycastRoot(e,t,i,r,n,o,s=1){return Pm([e,t,-100],[i,r,this.maximums[0]*s],n,o)}raycast(e,t,i,r,n,o,s=1){if(!this.nodeCount)return null;const a=this.raycastRoot(e,t,i,r,n,o,s);if(null==a)return null;const l=[],c=[],h=[],u=[],d=[{idx:0,t:a,nodex:0,nodey:0,depth:0}];for(;d.length>0;){const{idx:a,t:p,nodex:f,nodey:m,depth:_}=d.pop();if(this.leaves[a]){km(f,m,_,e,t,i,r,h,u);const a=1<<_,l=(f+0)/a,c=(f+1)/a,d=(m+0)/a,g=(m+1)/a,y=Fm(l,d,this.dem)*s,x=Fm(c,d,this.dem)*s,v=Fm(c,g,this.dem)*s,b=Fm(l,g,this.dem)*s,w=Rm(h[0],h[1],y,u[0],h[1],x,u[0],u[1],v,n,o),T=Rm(u[0],u[1],v,h[0],u[1],b,h[0],h[1],y,n,o),E=Math.min(null!==w?w:Number.MAX_VALUE,null!==T?T:Number.MAX_VALUE);if(E!==Number.MAX_VALUE)return E;{const e=Mu.scaleAndAdd([],n,o,p);if(Bm(y,x,b,v,Lm(e[0],h[0],u[0]),Lm(e[1],h[1],u[1]))>=e[2])return p}continue}let g=0;for(let d=0;d<this._siblingOffset.length;d++){km((f<<1)+this._siblingOffset[d][0],(m<<1)+this._siblingOffset[d][1],_+1,e,t,i,r,h,u),h[2]=-100,u[2]=this.maximums[this.childOffsets[a]+d]*s;const p=Pm(h,u,n,o);if(null!=p){const e=p;l[d]=e;let t=!1;for(let i=0;i<g&&!t;i++)e>=l[c[i]]&&(c.splice(i,0,d),t=!0);t||(c[g]=d),g++;}}for(let e=0;e<g;e++){const t=c[e];d.push({idx:this.childOffsets[a]+t,t:l[t],nodex:(f<<1)+this._siblingOffset[t][0],nodey:(m<<1)+this._siblingOffset[t][1],depth:_+1});}}return null}_addNode(e,t,i){return this.minimums.push(e),this.maximums.push(t),this.leaves.push(i),this.childOffsets.push(0),this.nodeCount++}_construct(e,t,i,r,n){if(1===e[r].isLeaf(t,i))return;this.childOffsets[n]||(this.childOffsets[n]=this.nodeCount);const o=r-1,s=e[o];let a=0,l=0;for(let e=0;e<this._siblingOffset.length;e++){const r=2*t+this._siblingOffset[e][0],n=2*i+this._siblingOffset[e][1],o=s.getElevation(r,n),c=s.isLeaf(r,n),h=this._addNode(o.min,o.max,c);c&&(a|=1<<e),l||(l=h);}for(let r=0;r<this._siblingOffset.length;r++)a&1<<r||this._construct(e,2*t+this._siblingOffset[r][0],2*i+this._siblingOffset[r][1],o,l+r);}}function Bm(e,t,i,r,n,o){return Wr(Wr(e,i,o),Wr(t,r,o),n)}function Fm(e,t,i){const r=i.dim,n=z(e*r-.5,0,r-1),o=z(t*r-.5,0,r-1),s=Math.floor(n),a=Math.floor(o),l=Math.min(s+1,r-1),c=Math.min(a+1,r-1);return Bm(i.get(s,a),i.get(l,a),i.get(s,c),i.get(l,c),n-s,o-a)}const Nm={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768],float:[1,1,1,1]};function Um(e,t,i){return (256*e*256+256*t+i)/10-1e4}function Vm(e,t,i){return 256*e+t+i/256-32768}class jm{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(e,t,i,r,n=!1){if(this.uid=e,t.height!==t.width)throw new RangeError(\"DEM tiles must be square\");if(i&&\"mapbox\"!==i&&\"terrarium\"!==i)return W(`\"${i}\" is not a valid encoding type. Valid types include \"mapbox\" and \"terrarium\".`);this.stride=t.height;const o=this.dim=t.height-2,s=new Uint32Array(t.data.buffer);if(this.pixels=new Uint8Array(t.data.buffer),this.encoding=i||\"mapbox\",this.borderReady=n,this._modifiedForSources={},!n){for(let e=0;e<o;e++)s[this._idx(-1,e)]=s[this._idx(0,e)],s[this._idx(o,e)]=s[this._idx(o-1,e)],s[this._idx(e,-1)]=s[this._idx(e,0)],s[this._idx(e,o)]=s[this._idx(e,o-1)];s[this._idx(-1,-1)]=s[this._idx(0,0)],s[this._idx(o,-1)]=s[this._idx(o-1,0)],s[this._idx(-1,o)]=s[this._idx(0,o-1)],s[this._idx(o,o)]=s[this._idx(o-1,o-1)];}if(r){const e=new Float32Array(t.data.buffer),i=\"terrarium\"===this.encoding?Vm:Um;for(let t=0;t<s.length;++t){const r=4*t;e[t]=i(this.pixels[r],this.pixels[r+1],this.pixels[r+2]);}this.encoding=\"float\";}this._timestamp=ht.now();}_buildQuadTree(){this._tree=new Om(this);}get(e,t,i=!1){i&&(e=z(e,-1,this.dim),t=z(t,-1,this.dim));const r=this._idx(e,t);if(\"float\"===this.encoding)return this.floatView||(this.floatView=new Float32Array(this.pixels.buffer)),this.floatView[r];const n=4*r;return (\"terrarium\"===this.encoding?Vm:Um)(this.pixels[n],this.pixels[n+1],this.pixels[n+2])}set(e,t,i){const r=this._idx(e,t);if(\"float\"===this.encoding){this.floatView||(this.floatView=new Float32Array(this.pixels.buffer));const e=this.floatView[r];return this.floatView[r]=i,i-e}const n=4*r,o=(\"terrarium\"===this.encoding?Vm:Um)(this.pixels[n],this.pixels[n+1],this.pixels[n+2]),s=jm.pack(i,\"terrarium\"===this.encoding?\"terrarium\":\"mapbox\");return this.pixels[n]=s[0],this.pixels[n+1]=s[1],this.pixels[n+2]=s[2],i-o}static getUnpackVector(e){return Nm[e]}get unpackVector(){return Nm[this.encoding]}_idx(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError(\"out of range source coordinates for DEM data\");return (t+1)*this.stride+(e+1)}static pack(e,t){const i=[0,0,0,0],r=jm.getUnpackVector(t);let n=Math.floor((e+r[3])/r[2]);return i[2]=n%256,n=Math.floor(n/256),i[1]=n%256,n=Math.floor(n/256),i[0]=n,i}getPixels(){return \"float\"===this.encoding?new Hp({width:this.stride,height:this.stride},this.pixels):new $p({width:this.stride,height:this.stride},this.pixels)}backfillBorder(e,t,i){if(this.dim!==e.dim)throw new Error(\"dem dimension mismatch\");let r=t*this.dim,n=t*this.dim+this.dim,o=i*this.dim,s=i*this.dim+this.dim;switch(t){case-1:r=n-1;break;case 1:n=r+1;}switch(i){case-1:o=s-1;break;case 1:s=o+1;}const a=-t*this.dim,l=-i*this.dim;for(let t=o;t<s;t++)for(let i=r;i<n;i++){const r=4*this._idx(i,t),n=4*this._idx(i+a,t+l);this.pixels[r+0]=e.pixels[n+0],this.pixels[r+1]=e.pixels[n+1],this.pixels[r+2]=e.pixels[n+2],this.pixels[r+3]=e.pixels[n+3];}}onDeserialize(){this._tree&&(this._tree.dem=this);}}Is(jm,\"DEMData\"),Is(Om,\"DemMinMaxQuadTree\",{omit:[\"dem\"]});class Gm{isDataAvailableAtPoint(e){const t=this._source();if(this.isUsingMockSource()||!t||e.y<0||e.y>1)return !1;const i=t.getSource().maxzoom,r=1<<i,n=Math.floor(e.x),o=Math.floor((e.x-n)*r),s=Math.floor(e.y*r),a=this.findDEMTileFor(new Bu(i,n,i,o,s));return !(!a||!a.dem)}getAtPointOrZero(e,t=0){return this.getAtPoint(e,t)||0}getAtPoint(e,t,i=!0){if(this.isUsingMockSource())return null;null==t&&(t=null);const r=this._source();if(!r)return t;if(e.y<0||e.y>1)return t;const n=r.getSource().maxzoom,o=1<<n,s=Math.floor(e.x),a=e.x-s,l=new Bu(n,s,n,Math.floor(a*o),Math.floor(e.y*o)),c=this.findDEMTileFor(l);if(!c||!c.dem)return t;const h=c.dem,u=1<<c.tileID.canonical.z,d=(a*u-c.tileID.canonical.x)*h.dim,p=(e.y*u-c.tileID.canonical.y)*h.dim,f=Math.floor(d),m=Math.floor(p);return (i?this.exaggeration():1)*Wr(Wr(h.get(f,m),h.get(f,m+1),p-m),Wr(h.get(f+1,m),h.get(f+1,m+1),p-m),d-f)}getAtTileOffset(e,t,i){const r=1<<e.canonical.z;return this.getAtPointOrZero(new ep(e.wrap+(e.canonical.x+t/sr)/r,(e.canonical.y+i/sr)/r))}getAtTileOffsetFunc(e,t,i,r){return n=>{const o=this.getAtTileOffset(e,n.x,n.y),s=r.upVector(e.canonical,n.x,n.y),a=r.upVectorScale(e.canonical,t,i).metersToTile;return Mu.scale(s,s,o*a),s}}getForTilePoints(e,t,i,r){if(this.isUsingMockSource())return !1;const n=qm.create(this,e,r);return !!n&&(t.forEach((e=>{e[2]=this.exaggeration()*n.getElevationAt(e[0],e[1],i);})),!0)}getMinMaxForTile(e){if(this.isUsingMockSource())return null;const t=this.findDEMTileFor(e);if(!t||!t.dem)return null;const i=t.dem.tree,r=t.tileID,n=1<<e.canonical.z-r.canonical.z;let o=e.canonical.x/n-r.canonical.x,s=e.canonical.y/n-r.canonical.y,a=0;for(let t=0;t<e.canonical.z-r.canonical.z&&!i.leaves[a];t++){o*=2,s*=2;const e=2*Math.floor(s)+Math.floor(o);a=i.childOffsets[a]+e,o%=1,s%=1;}return {min:this.exaggeration()*i.minimums[a],max:this.exaggeration()*i.maximums[a]}}getMinElevationBelowMSL(){throw new Error(\"Pure virtual method called.\")}raycast(e,t,i){throw new Error(\"Pure virtual method called.\")}pointCoordinate(e){throw new Error(\"Pure virtual method called.\")}_source(){throw new Error(\"Pure virtual method called.\")}isUsingMockSource(){throw new Error(\"Pure virtual method called.\")}exaggeration(){throw new Error(\"Pure virtual method called.\")}findDEMTileFor(e){throw new Error(\"Pure virtual method called.\")}get visibleDemTiles(){throw new Error(\"Getter must be implemented in subclass.\")}}class qm{constructor(e,t,i){this._demTile=e,this._dem=this._demTile.dem,this._scale=t,this._offset=i;}static create(e,t,i){const r=i||e.findDEMTileFor(t);if(!r||!r.dem)return;const n=r.dem,o=r.tileID,s=1<<t.canonical.z-o.canonical.z;return new qm(r,n.dim/sr/s,[(t.canonical.x/s-o.canonical.x)*n.dim,(t.canonical.y/s-o.canonical.y)*n.dim])}tileCoordToPixel(e,t){const i=t*this._scale+this._offset[1],r=Math.floor(e*this._scale+this._offset[0]),n=Math.floor(i);return new y(r,n)}getElevationAt(e,t,i,r){const n=e*this._scale+this._offset[0],o=t*this._scale+this._offset[1],s=Math.floor(n),a=Math.floor(o),l=this._dem;return r=!!r,i?Wr(Wr(l.get(s,a,r),l.get(s,a+1,r),o-a),Wr(l.get(s+1,a,r),l.get(s+1,a+1,r),o-a),n-s):l.get(s,a,r)}getElevationAtPixel(e,t,i){return this._dem.get(e,t,!!i)}getMeterToDEM(e){return (1<<this._demTile.tileID.canonical.z)*Zd(1,e)*this._dem.stride}}class Zm{constructor(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new As(sr,16,0),this.featureIndexArray=new ll,this.promoteId=t;}insert(e,t,i,r,n,o=0){const s=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(i,r,n,o);const a=this.grid;for(let e=0;e<t.length;e++){const i=t[e],r=[1/0,1/0,-1/0,-1/0];for(let e=0;e<i.length;e++){const t=i[e];r[0]=Math.min(r[0],t.x),r[1]=Math.min(r[1],t.y),r[2]=Math.max(r[2],t.x),r[3]=Math.max(r[3],t.y);}r[0]<sr&&r[1]<sr&&r[2]>=0&&r[3]>=0&&a.insert(s,r[0],r[1],r[2],r[3]);}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new tm(new Sm(this.rawTileData)).layers,this.sourceLayerCoder=new nm(this.vtLayers?Object.keys(this.vtLayers).sort():[\"_geojsonTileLayer\"]),this.vtFeatures={};for(const e in this.vtLayers)this.vtFeatures[e]=[];}return this.vtLayers}query(e,t,i,r){this.loadVTLayers();const n=e.params||{},o=Ro(n.filter),s=e.tileResult,a=e.transform,l=s.bufferedTilespaceBounds,c=this.grid.query(l.min.x,l.min.y,l.max.x,l.max.y,((e,t,i,r)=>Tp(s.bufferedTilespaceGeometry,e,t,i,r)));c.sort(Hm);let h=null;a.elevation&&c.length>0&&(h=qm.create(a.elevation,this.tileID));const u={};let d;for(let a=0;a<c.length;a++){const l=c[a];if(l===d)continue;d=l;const p=this.featureIndexArray.get(l);let f=null;this.loadMatchingFeature(u,p,o,n.layers,n.availableImages,t,i,r,((t,i,r,n=0)=>(f||(f=lp(t,this.tileID.canonical,e.tileTransform)),i.queryIntersectsFeature(s,t,r,f,this.z,e.transform,e.pixelPosMatrix,h,n))));}return u}loadMatchingFeature(e,t,i,r,n,o,s,a,l){const{featureIndex:c,bucketIndex:h,sourceLayerIndex:u,layoutVertexArrayOffset:d}=t,p=this.bucketLayerIDs[h];if(r&&!function(e,t){for(let i=0;i<e.length;i++)if(t.indexOf(e[i])>=0)return !0;return !1}(r,p))return;const f=this.sourceLayerCoder.decode(u),m=this.vtLayers[f].feature(c);if(i.needGeometry){const e=cp(m,!0);if(!i.filter(new ea(this.tileID.overscaledZ),e,this.tileID.canonical))return}else if(!i.filter(new ea(this.tileID.overscaledZ),m))return;const _=this.getId(m,f);for(let t=0;t<p.length;t++){const i=p[t];if(r&&r.indexOf(i)<0)continue;const h=o[i];if(!h)continue;let u={};void 0!==_&&a&&(u=a.getState(h.sourceLayer||\"_geojsonTileLayer\",_));const f=k({},s[i]);f.paint=$m(f.paint,h.paint,m,u,n),f.layout=$m(f.layout,h.layout,m,u,n);const g=!l||l(m,h,u,d);if(!g)continue;const y=new Cm(m,this.z,this.x,this.y,_);y.layer=f;let x=e[i];void 0===x&&(x=e[i]=[]),x.push({featureIndex:c,feature:y,intersectionZ:g});}}lookupSymbolFeatures(e,t,i,r,n,o,s,a){const l={};this.loadVTLayers();const c=Ro(n);for(const n of e)this.loadMatchingFeature(l,{bucketIndex:i,sourceLayerIndex:r,featureIndex:n,layoutVertexArrayOffset:0},c,o,s,a,t);return l}loadFeature(e){const{featureIndex:t,sourceLayerIndex:i}=e;this.loadVTLayers();const r=this.sourceLayerCoder.decode(i),n=this.vtFeatures[r];if(n[t])return n[t];const o=this.vtLayers[r].feature(t);return n[t]=o,o}hasLayer(e){for(const t of this.bucketLayerIDs)for(const i of t)if(e===i)return !0;return !1}getId(e,t){let i=e.id;if(this.promoteId){const r=\"string\"==typeof this.promoteId?this.promoteId:this.promoteId[t];null!=r&&(i=e.properties[r]),\"boolean\"==typeof i&&(i=Number(i));}return i}}function $m(e,t,i,r,n){return q(e,((e,o)=>{const s=t instanceof la?t.get(o):null;return s&&s.evaluate?s.evaluate(i,r,n):s}))}function Hm(e,t){return t-e}Is(Zm,\"FeatureIndex\",{omit:[\"rawTileData\",\"sourceLayerCoder\"]});const Wm=ba([{name:\"a_pos_offset\",components:4,type:\"Int16\"},{name:\"a_tex_size\",components:4,type:\"Uint16\"},{name:\"a_pixeloffset\",components:4,type:\"Int16\"}],4),Xm=ba([{name:\"a_globe_anchor\",components:3,type:\"Int16\"},{name:\"a_globe_normal\",components:3,type:\"Float32\"}],4),Ym=ba([{name:\"a_projected_pos\",components:4,type:\"Float32\"}],4);ba([{name:\"a_fade_opacity\",components:1,type:\"Uint32\"}],4);const Km=ba([{name:\"a_z_offset\",components:1,type:\"Float32\"}],4),Jm=ba([{name:\"a_texb\",components:2,type:\"Uint16\"}]),Qm=ba([{name:\"a_placed\",components:2,type:\"Uint8\"},{name:\"a_shift\",components:2,type:\"Float32\"}]),e_=ba([{name:\"a_size_scale\",components:1,type:\"Float32\"},{name:\"a_padding\",components:2,type:\"Float32\"}]);ba([{type:\"Int16\",name:\"projectedAnchorX\"},{type:\"Int16\",name:\"projectedAnchorY\"},{type:\"Int16\",name:\"projectedAnchorZ\"},{type:\"Int16\",name:\"tileAnchorX\"},{type:\"Int16\",name:\"tileAnchorY\"},{type:\"Float32\",name:\"x1\"},{type:\"Float32\",name:\"y1\"},{type:\"Float32\",name:\"x2\"},{type:\"Float32\",name:\"y2\"},{type:\"Int16\",name:\"padding\"},{type:\"Uint32\",name:\"featureIndex\"},{type:\"Uint16\",name:\"sourceLayerIndex\"},{type:\"Uint16\",name:\"bucketIndex\"}]);const t_=ba([{name:\"a_pos\",components:3,type:\"Int16\"},{name:\"a_anchor_pos\",components:2,type:\"Int16\"},{name:\"a_extrude\",components:2,type:\"Int16\"}],4),i_=ba([{name:\"a_pos_2f\",components:2,type:\"Float32\"},{name:\"a_radius\",components:1,type:\"Float32\"},{name:\"a_flags\",components:2,type:\"Int16\"}],4);ba([{name:\"triangle\",components:3,type:\"Uint16\"}]),ba([{type:\"Int16\",name:\"projectedAnchorX\"},{type:\"Int16\",name:\"projectedAnchorY\"},{type:\"Int16\",name:\"projectedAnchorZ\"},{type:\"Float32\",name:\"tileAnchorX\"},{type:\"Float32\",name:\"tileAnchorY\"},{type:\"Uint16\",name:\"glyphStartIndex\"},{type:\"Uint16\",name:\"numGlyphs\"},{type:\"Uint32\",name:\"vertexStartIndex\"},{type:\"Uint32\",name:\"lineStartIndex\"},{type:\"Uint32\",name:\"lineLength\"},{type:\"Uint16\",name:\"segment\"},{type:\"Uint16\",name:\"lowerSize\"},{type:\"Uint16\",name:\"upperSize\"},{type:\"Float32\",name:\"lineOffsetX\"},{type:\"Float32\",name:\"lineOffsetY\"},{type:\"Uint8\",name:\"writingMode\"},{type:\"Uint8\",name:\"placedOrientation\"},{type:\"Uint8\",name:\"hidden\"},{type:\"Uint32\",name:\"crossTileID\"},{type:\"Int16\",name:\"associatedIconIndex\"},{type:\"Uint8\",name:\"flipState\"}]),ba([{type:\"Float32\",name:\"tileAnchorX\"},{type:\"Float32\",name:\"tileAnchorY\"},{type:\"Int16\",name:\"projectedAnchorX\"},{type:\"Int16\",name:\"projectedAnchorY\"},{type:\"Int16\",name:\"projectedAnchorZ\"},{type:\"Int16\",name:\"rightJustifiedTextSymbolIndex\"},{type:\"Int16\",name:\"centerJustifiedTextSymbolIndex\"},{type:\"Int16\",name:\"leftJustifiedTextSymbolIndex\"},{type:\"Int16\",name:\"verticalPlacedTextSymbolIndex\"},{type:\"Int16\",name:\"placedIconSymbolIndex\"},{type:\"Int16\",name:\"verticalPlacedIconSymbolIndex\"},{type:\"Uint16\",name:\"key\"},{type:\"Uint16\",name:\"textBoxStartIndex\"},{type:\"Uint16\",name:\"textBoxEndIndex\"},{type:\"Uint16\",name:\"verticalTextBoxStartIndex\"},{type:\"Uint16\",name:\"verticalTextBoxEndIndex\"},{type:\"Uint16\",name:\"iconBoxStartIndex\"},{type:\"Uint16\",name:\"iconBoxEndIndex\"},{type:\"Uint16\",name:\"verticalIconBoxStartIndex\"},{type:\"Uint16\",name:\"verticalIconBoxEndIndex\"},{type:\"Uint16\",name:\"featureIndex\"},{type:\"Uint16\",name:\"numHorizontalGlyphVertices\"},{type:\"Uint16\",name:\"numVerticalGlyphVertices\"},{type:\"Uint16\",name:\"numIconVertices\"},{type:\"Uint16\",name:\"numVerticalIconVertices\"},{type:\"Uint16\",name:\"useRuntimeCollisionCircles\"},{type:\"Uint32\",name:\"crossTileID\"},{type:\"Float32\",components:2,name:\"textOffset\"},{type:\"Float32\",name:\"collisionCircleDiameter\"},{type:\"Float32\",name:\"zOffset\"},{type:\"Uint8\",name:\"hasIconTextFit\"}]),ba([{type:\"Float32\",name:\"offsetX\"}]),ba([{type:\"Int16\",name:\"x\"},{type:\"Int16\",name:\"y\"}]);var r_=24;const n_=128;function o_(e,t){const{expression:i}=t;if(\"constant\"===i.kind)return {kind:\"constant\",layoutSize:i.evaluate(new ea(e+1))};if(\"source\"===i.kind)return {kind:\"source\"};{const{zoomStops:t,interpolationType:r}=i;let n=0;for(;n<t.length&&t[n]<=e;)n++;n=Math.max(0,n-1);let o=n;for(;o<t.length&&t[o]<e+1;)o++;o=Math.min(t.length-1,o);const s=t[n],a=t[o];return \"composite\"===i.kind?{kind:\"composite\",minZoom:s,maxZoom:a,interpolationType:r}:{kind:\"camera\",minZoom:s,maxZoom:a,minSize:i.evaluate(new ea(s)),maxSize:i.evaluate(new ea(a)),interpolationType:r}}}function s_(e,{uSize:t,uSizeT:i},{lowerSize:r,upperSize:n}){return \"source\"===e.kind?r/n_:\"composite\"===e.kind?Wr(r/n_,n/n_,i):t}function a_(e,t){let i=0,r=0;if(\"constant\"===e.kind)r=e.layoutSize;else if(\"source\"!==e.kind){const{interpolationType:n,minZoom:o,maxZoom:s}=e,a=n?z(yn.interpolationFactor(n,t,o,s),0,1):0;\"camera\"===e.kind?r=Wr(e.minSize,e.maxSize,a):i=a;}return {uSizeT:i,uSize:r}}var l_=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:n_,evaluateSizeForFeature:s_,evaluateSizeForZoom:a_,getSizeData:o_});function c_(e,t,i){return e.sections.forEach((e=>{e.text=function(e,t,i){const r=t.layout.get(\"text-transform\").evaluate(i,{});return \"uppercase\"===r?e=e.toLocaleUpperCase():\"lowercase\"===r&&(e=e.toLocaleLowerCase()),Qs.applyArabicShaping&&(e=Qs.applyArabicShaping(e)),e}(e.text,t,i);})),e}const h_={\"!\":\"ï¸\",\"#\":\"ï¼\",$:\"ï¼\",\"%\":\"ï¼\",\"&\":\"ï¼\",\"(\":\"ï¸µ\",\")\":\"ï¸¶\",\"*\":\"ï¼\",\"+\":\"ï¼\",\",\":\"ï¸\",\"-\":\"ï¸²\",\".\":\"ã»\",\"/\":\"ï¼\",\":\":\"ï¸\",\";\":\"ï¸\",\"<\":\"ï¸¿\",\"=\":\"ï¼\",\">\":\"ï¹\",\"?\":\"ï¸\",\"@\":\"ï¼ \",\"[\":\"ï¹\",\"\\\\\":\"ï¼¼\",\"]\":\"ï¹\",\"^\":\"ï¼¾\",_:\"ï¸³\",\"`\":\"ï½\",\"{\":\"ï¸·\",\"|\":\"â\",\"}\":\"ï¸¸\",\"~\":\"ï½\",\"Â¢\":\"ï¿ \",\"Â£\":\"ï¿¡\",\"Â¥\":\"ï¿¥\",\"Â¦\":\"ï¿¤\",\"Â¬\":\"ï¿¢\",\"Â¯\":\"ï¿£\",\"â\":\"ï¸²\",\"â\":\"ï¸±\",\"â\":\"ï¹\",\"â\":\"ï¹\",\"â\":\"ï¹\",\"â\":\"ï¹\",\"â¦\":\"ï¸\",\"â§\":\"ã»\",\"â©\":\"ï¿¦\",\"ã\":\"ï¸\",\"ã\":\"ï¸\",\"ã\":\"ï¸¿\",\"ã\":\"ï¹\",\"ã\":\"ï¸½\",\"ã\":\"ï¸¾\",\"ã\":\"ï¹\",\"ã\":\"ï¹\",\"ã\":\"ï¹\",\"ã\":\"ï¹\",\"ã\":\"ï¸»\",\"ã\":\"ï¸¼\",\"ã\":\"ï¸¹\",\"ã\":\"ï¸º\",\"ã\":\"ï¸\",\"ã\":\"ï¸\",\"ï¼\":\"ï¸\",\"ï¼\":\"ï¸µ\",\"ï¼\":\"ï¸¶\",\"ï¼\":\"ï¸\",\"ï¼\":\"ï¸²\",\"ï¼\":\"ã»\",\"ï¼\":\"ï¸\",\"ï¼\":\"ï¸\",\"ï¼\":\"ï¸¿\",\"ï¼\":\"ï¹\",\"ï¼\":\"ï¸\",\"ï¼»\":\"ï¹\",\"ï¼½\":\"ï¹\",\"ï¼¿\":\"ï¸³\",\"ï½\":\"ï¸·\",\"ï½\":\"â\",\"ï½\":\"ï¸¸\",\"ï½\":\"ï¸µ\",\"ï½ \":\"ï¸¶\",\"ï½¡\":\"ï¸\",\"ï½¢\":\"ï¹\",\"ï½£\":\"ï¹\",\"â\":\"â\",\"â\":\"â\"};function u_(e){return \"ï¸¶\"===e||\"ï¹\"===e||\"ï¸¸\"===e||\"ï¹\"===e||\"ï¹\"===e||\"ï¸¾\"===e||\"ï¸¼\"===e||\"ï¸º\"===e||\"ï¸\"===e||\"ï¹\"===e||\"ï¸\"===e||\"ï¸\"===e||\"ï¸\"===e||\"ï½\"===e||\"ï¿£\"===e||\"ï¸\"===e||\"ï¸\"===e}function d_(e){return \"ï¸µ\"===e||\"ï¹\"===e||\"ï¸·\"===e||\"ï¹\"===e||\"ï¹\"===e||\"ï¸½\"===e||\"ï¸»\"===e||\"ï¸¹\"===e||\"ï¸\"===e||\"ï¸¿\"===e}const p_=3;function f_(e,t,i){t.glyphs=[],1===e&&i.readMessage(m_,t);}function m_(e,t,i){if(3===e){const{id:e,bitmap:r,width:n,height:o,left:s,top:a,advance:l}=i.readMessage(__,{});t.glyphs.push({id:e,bitmap:new Zp({width:n+2*p_,height:o+2*p_},r),metrics:{width:n,height:o,left:s,top:a,advance:l}});}else 4===e?t.ascender=i.readSVarint():5===e&&(t.descender=i.readSVarint());}function __(e,t,i){1===e?t.id=i.readVarint():2===e?t.bitmap=i.readBytes():3===e?t.width=i.readVarint():4===e?t.height=i.readVarint():5===e?t.left=i.readSVarint():6===e?t.top=i.readSVarint():7===e&&(t.advance=i.readVarint());}const g_=p_;function y_(e){let t=0,i=0;for(const r of e)t+=r.w*r.h,i=Math.max(i,r.w);e.sort(((e,t)=>t.h-e.h));const r=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),i),h:1/0}];let n=0,o=0;for(const t of e)for(let e=r.length-1;e>=0;e--){const i=r[e];if(!(t.w>i.w||t.h>i.h)){if(t.x=i.x,t.y=i.y,o=Math.max(o,t.y+t.h),n=Math.max(n,t.x+t.w),t.w===i.w&&t.h===i.h){const t=r.pop();e<r.length&&(r[e]=t);}else t.h===i.h?(i.x+=t.w,i.w-=t.w):t.w===i.w?(i.y+=t.h,i.h-=t.h):(r.push({x:i.x+t.w,y:i.y,w:i.w-t.w,h:t.h}),i.y+=t.h,i.h-=t.h);break}}return {w:n,h:o,fill:t/(n*o)||0}}const x_=1;class v_{constructor(e,{pixelRatio:t,version:i,stretchX:r,stretchY:n,content:o}){this.paddedRect=e,this.pixelRatio=t,this.stretchX=r,this.stretchY=n,this.content=o,this.version=i;}get tl(){return [this.paddedRect.x+x_,this.paddedRect.y+x_]}get br(){return [this.paddedRect.x+this.paddedRect.w-x_,this.paddedRect.y+this.paddedRect.h-x_]}get displaySize(){return [(this.paddedRect.w-2*x_)/this.pixelRatio,(this.paddedRect.h-2*x_)/this.pixelRatio]}}class b_{constructor(e,t){const i={},r={};this.haveRenderCallbacks=[];const n=[];this.addImages(e,i,n),this.addImages(t,r,n);const{w:o,h:s}=y_(n),a=new $p({width:o||1,height:s||1});for(const t in e){const r=e[t],n=i[t].paddedRect;$p.copy(r.data,a,{x:0,y:0},{x:n.x+x_,y:n.y+x_},r.data);}for(const e in t){const i=t[e],n=r[e].paddedRect,o=n.x+x_,s=n.y+x_,l=i.data.width,c=i.data.height;$p.copy(i.data,a,{x:0,y:0},{x:o,y:s},i.data),$p.copy(i.data,a,{x:0,y:c-1},{x:o,y:s-1},{width:l,height:1}),$p.copy(i.data,a,{x:0,y:0},{x:o,y:s+c},{width:l,height:1}),$p.copy(i.data,a,{x:l-1,y:0},{x:o-1,y:s},{width:1,height:c}),$p.copy(i.data,a,{x:0,y:0},{x:o+l,y:s},{width:1,height:c});}this.image=a,this.iconPositions=i,this.patternPositions=r;}addImages(e,t,i){for(const r in e){const n=e[r],o={x:0,y:0,w:n.data.width+2*x_,h:n.data.height+2*x_};i.push(o),t[r]=new v_(o,n),n.hasRenderCallback&&this.haveRenderCallbacks.push(r);}}patchUpdatedImages(e,t,i){this.haveRenderCallbacks=this.haveRenderCallbacks.filter((t=>e.hasImage(t,i))),e.dispatchRenderCallbacks(this.haveRenderCallbacks,i);for(const r in e.getUpdatedImages(i))this.patchUpdatedImage(this.iconPositions[r],e.getImage(r,i),t),this.patchUpdatedImage(this.patternPositions[r],e.getImage(r,i),t);}patchUpdatedImage(e,t,i){if(!e||!t)return;if(e.version===t.version)return;e.version=t.version;const[r,n]=e.tl;i.update(t.data,void 0,{x:r,y:n});}}Is(v_,\"ImagePosition\"),Is(b_,\"ImageAtlas\");const w_={horizontal:1,vertical:2,horizontalOnly:3},T_=-17;class E_{constructor(){this.scale=1,this.fontStack=\"\",this.imageName=null;}static forText(e,t){const i=new E_;return i.scale=e||1,i.fontStack=t,i}static forImage(e){const t=new E_;return t.imageName=e,t}}class M_{constructor(){this.text=\"\",this.sectionIndex=[],this.sections=[],this.imageSectionID=null;}static fromFeature(e,t){const i=new M_;for(let r=0;r<e.sections.length;r++){const n=e.sections[r];n.image?i.addImageSection(n):i.addTextSection(n,t);}return i}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSections(){return this.sections}getSectionIndex(e){return this.sectionIndex[e]}getCodePoint(e){return this.text.codePointAt(e)}verticalizePunctuation(e){this.text=function(e,t){let i=\"\";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r+1)||null,o=e.charCodeAt(r-1)||null;i+=!t&&(n&&Fs(n)&&!h_[e[r+1]]||o&&Fs(o)&&!h_[e[r-1]])||!h_[e[r]]?e[r]:h_[e[r]];}return i}(this.text,e);}trim(){let e=0;for(let t=0;t<this.text.length&&S_[this.text.charCodeAt(t)];t++)e++;let t=this.text.length;for(let i=this.text.length-1;i>=0&&i>=e&&S_[this.text.charCodeAt(i)];i--)t--;this.text=this.text.substring(e,t),this.sectionIndex=this.sectionIndex.slice(e,t);}substring(e,t){const i=new M_;return i.text=this.text.substring(e,t),i.sectionIndex=this.sectionIndex.slice(e,t),i.sections=this.sections,i}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((e,t)=>Math.max(e,this.sections[t].scale)),0)}addTextSection(e,t){this.text+=e.text,this.sections.push(E_.forText(e.scale,e.fontStack||t));const i=this.sections.length-1;for(let t=0;t<e.text.length;++t)this.sectionIndex.push(i);}addImageSection(e){const t=e.image?e.image.namePrimary:\"\";if(0===t.length)return void W(\"Can't add FormattedSection with an empty image.\");const i=this.getNextImageSectionCharCode();i?(this.text+=String.fromCodePoint(i),this.sections.push(E_.forImage(t)),this.sectionIndex.push(this.sections.length-1)):W(\"Reached maximum number of images 6401\");}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function A_(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f){const m=M_.fromFeature(e,n);u===w_.vertical&&m.verticalizePunctuation(d);let _=[];const g=function(e,t,i,r,n,o){if(!e)return [];const s=[],a=function(e,t,i,r,n,o){let s=0;for(let i=0;i<e.length();i++){const a=e.getSection(i);s+=C_(e.getCodePoint(i),a,r,n,t,o);}return s/Math.max(1,Math.ceil(s/i))}(e,t,i,r,n,o),l=e.text.indexOf(\"â\")>=0;let c=0;for(let i=0;i<e.length();i++){const u=e.getSection(i),d=e.getCodePoint(i);if(S_[d]||(c+=C_(d,u,r,n,t,o)),i<e.length()-1){const t=!((h=d)<11904||!(Rs[\"Bopomofo Extended\"](h)||Rs.Bopomofo(h)||Rs[\"CJK Compatibility Forms\"](h)||Rs[\"CJK Compatibility Ideographs\"](h)||Rs[\"CJK Compatibility\"](h)||Rs[\"CJK Radicals Supplement\"](h)||Rs[\"CJK Strokes\"](h)||Rs[\"CJK Symbols and Punctuation\"](h)||Rs[\"CJK Unified Ideographs Extension A\"](h)||Rs[\"CJK Unified Ideographs\"](h)||Rs[\"Enclosed CJK Letters and Months\"](h)||Rs[\"Halfwidth and Fullwidth Forms\"](h)||Rs.Hiragana(h)||Rs[\"Ideographic Description Characters\"](h)||Rs[\"Kangxi Radicals\"](h)||Rs[\"Katakana Phonetic Extensions\"](h)||Rs.Katakana(h)||Rs[\"Vertical Forms\"](h)||Rs[\"Yi Radicals\"](h)||Rs[\"Yi Syllables\"](h)));(I_[d]||t||u.imageName)&&s.push(P_(i+1,c,a,s,D_(d,e.getCodePoint(i+1),t&&l),!1));}}var h;return R_(P_(e.length(),c,a,s,0,!0))}(m,c,o,t,r,p),{processBidirectionalText:y,processStyledBidirectionalText:x}=Qs;if(y&&1===m.sections.length){const e=y(m.toString(),g);for(const t of e){const e=new M_;e.text=t,e.sections=m.sections;for(let i=0;i<t.length;i++)e.sectionIndex.push(0);_.push(e);}}else if(x){const e=x(m.text,m.sectionIndex,g);for(const t of e){const e=new M_;e.text=t[0],e.sectionIndex=t[1],e.sections=m.sections,_.push(e);}}else _=function(e,t){const i=[],r=e.text;let n=0;for(const r of t)i.push(e.substring(n,r)),n=r;return n<r.length&&i.push(e.substring(n,r.length)),i}(m,g);const v=[],b={positionedLines:v,text:m.toString(),top:h[1],bottom:h[1],left:h[0],right:h[0],writingMode:u,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(e,t,i,r,n,o,s,a,l,c,h,u){let d=0,p=0,f=0;const m=\"right\"===a?1:\"left\"===a?0:.5;let _=!1;for(const e of n){const i=e.getSections();for(const e of i){if(e.imageName)continue;const i=t[e.fontStack];if(i&&(_=void 0!==i.ascender&&void 0!==i.descender,!_))break}if(!_)break}let g=0;for(const s of n){s.trim();const n=s.getMaxScale(),a=(n-1)*r_,x={positionedGlyphs:[],lineOffset:0};e.positionedLines[g]=x;const v=x.positionedGlyphs;let b=0;if(!s.length()){p+=o,++g;continue}let w=0,T=0;for(let o=0;o<s.length();o++){const a=s.getSection(o),f=s.getSectionIndex(o),m=s.getCodePoint(o);let g=a.scale,x=null,E=null,M=null,A=r_,S=0;const I=!(l===w_.horizontal||!h&&!Bs(m)||h&&(S_[m]||(y=m,Rs.Arabic(y)||Rs[\"Arabic Supplement\"](y)||Rs[\"Arabic Extended-A\"](y)||Rs[\"Arabic Presentation Forms-A\"](y)||Rs[\"Arabic Presentation Forms-B\"](y))));if(a.imageName){const t=r[a.imageName];if(!t)continue;M=a.imageName,e.iconsInText=e.iconsInText||!0,E=t.paddedRect;const i=t.displaySize;g=g*r_/u,x={width:i[0],height:i[1],left:x_,top:-g_,advance:I?i[1]:i[0],localGlyph:!1},S=_?-x.height*g:T_+n*r_-i[1]*g,A=x.advance;const o=(I?i[0]:i[1])*g-r_*n;o>0&&o>b&&(b=o);}else {const e=i[a.fontStack];if(!e)continue;e[m]&&(E=e[m]);const r=t[a.fontStack];if(!r)continue;const o=r.glyphs[m];if(!o)continue;if(x=o.metrics,A=8203!==m?r_:0,_){const e=void 0!==r.ascender?Math.abs(r.ascender):0,t=void 0!==r.descender?Math.abs(r.descender):0,i=(e+t)*g;w<i&&(w=i,T=(e-t)/2*g),S=-e*g;}else S=T_+(n-g)*r_;}I?(e.verticalizable=!0,v.push({glyph:m,imageName:M,x:d,y:p+S,vertical:I,scale:g,localGlyph:x.localGlyph,fontStack:a.fontStack,sectionIndex:f,metrics:x,rect:E}),d+=A*g+c):(v.push({glyph:m,imageName:M,x:d,y:p+S,vertical:I,scale:g,localGlyph:x.localGlyph,fontStack:a.fontStack,sectionIndex:f,metrics:x,rect:E}),d+=x.advance*g+c);}0!==v.length&&(f=Math.max(d-c,f),_?k_(v,m,b,T,o*n/2):k_(v,m,b,0,o/2)),d=0;const E=o*n+b;x.lineOffset=Math.max(b,a),p+=E,++g;}var y;const x=p,{horizontalAlign:v,verticalAlign:b}=L_(s);((function(e,t,i,r,n,o){const s=(t-i)*n,a=-o*r;for(const t of e)for(const e of t.positionedGlyphs)e.x+=s,e.y+=a;}))(e.positionedLines,m,v,b,f,x),e.top+=-b*x,e.bottom=e.top+x,e.left+=-v*f,e.right=e.left+f,e.hasBaseline=_;}(b,t,i,r,_,s,a,l,u,c,d,f),!function(e){for(const t of e)if(0!==t.positionedGlyphs.length)return !1;return !0}(v)&&b}const S_={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},I_={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function C_(e,t,i,r,n,o){if(t.imageName){const e=r[t.imageName];return e?e.displaySize[0]*t.scale*r_/o+n:0}{const r=i[t.fontStack],o=r&&r.glyphs[e];return o?o.metrics.advance*t.scale+n:0}}function z_(e,t,i,r){const n=Math.pow(e-t,2);return r?e<t?n/2:2*n:n+Math.abs(i)*i}function D_(e,t,i){let r=0;return 10===e&&(r-=1e4),i&&(r+=150),40!==e&&65288!==e||(r+=50),41!==t&&65289!==t||(r+=50),r}function P_(e,t,i,r,n,o){let s=null,a=z_(t,i,n,o);for(const e of r){const r=z_(t-e.x,i,n,o)+e.badness;r<=a&&(s=e,a=r);}return {index:e,x:t,priorBreak:s,badness:a}}function R_(e){return e?R_(e.priorBreak).concat(e.index):[]}function L_(e){let t=.5,i=.5;switch(e){case\"right\":case\"top-right\":case\"bottom-right\":t=1;break;case\"left\":case\"top-left\":case\"bottom-left\":t=0;}switch(e){case\"bottom\":case\"bottom-right\":case\"bottom-left\":i=1;break;case\"top\":case\"top-right\":case\"top-left\":i=0;}return {horizontalAlign:t,verticalAlign:i}}function k_(e,t,i,r,n){if(!(t||i||r||n))return;const o=e.length-1,s=e[o],a=(s.x+s.metrics.advance*s.scale)*t;for(let t=0;t<=o;t++)e[t].x-=a,e[t].y+=i+r+n;}function O_(e,t,i,r){const{horizontalAlign:n,verticalAlign:o}=L_(r),s=i[0]-e.displaySize[0]*n,a=i[1]-e.displaySize[1]*o;return {imagePrimary:e,imageSecondary:t,top:a,bottom:a+e.displaySize[1],left:s,right:s+e.displaySize[0]}}function B_(e,t,i,r,n,o){const s=e.imagePrimary;let a;if(s.content){const e=s.content,t=s.pixelRatio||1;a=[e[0]/t,e[1]/t,s.displaySize[0]-e[2]/t,s.displaySize[1]-e[3]/t];}const l=t.left*o,c=t.right*o;let h,u,d,p;\"width\"===i||\"both\"===i?(p=n[0]+l-r[3],u=n[0]+c+r[1]):(p=n[0]+(l+c-s.displaySize[0])/2,u=p+s.displaySize[0]);const f=t.top*o,m=t.bottom*o;return \"height\"===i||\"both\"===i?(h=n[1]+f-r[0],d=n[1]+m+r[2]):(h=n[1]+(f+m-s.displaySize[1])/2,d=h+s.displaySize[1]),{imagePrimary:s,imageSecondary:void 0,top:h,right:u,bottom:d,left:p,collisionPadding:a}}class F_ extends y{constructor(e,t,i,r,n){super(e,t),this.angle=r,this.z=i,void 0!==n&&(this.segment=n);}clone(){return new F_(this.x,this.y,this.z,this.angle,this.segment)}}function N_(e,t,i,r,n){if(void 0===t.segment)return !0;let o=t,s=t.segment+1,a=0;for(;a>-i/2;){if(s--,s<0)return !1;a-=e[s].dist(o),o=e[s];}a+=e[s].dist(e[s+1]),s++;const l=[];let c=0;for(;a<i/2;){const t=e[s],i=e[s+1];if(!i)return !1;let o=e[s-1].angleTo(t)-t.angleTo(i);for(o=Math.abs((o+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:a,angleDelta:o}),c+=o;a-l[0].distance>r;)c-=l.shift().angleDelta;if(c>n)return !1;s++,a+=t.dist(i);}return !0}function U_(e){let t=0;for(let i=0;i<e.length-1;i++)t+=e[i].dist(e[i+1]);return t}function V_(e,t,i){return e?.6*t*i:0}function j_(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function G_(e,t,i,r,n,o){const s=V_(i,n,o),a=j_(i,r)*o;let l=0;const c=U_(e)/2;for(let i=0;i<e.length-1;i++){const r=e[i],n=e[i+1],o=r.dist(n);if(l+o>c){const h=(c-l)/o,u=Wr(r.x,n.x,h),d=Wr(r.y,n.y,h),p=new F_(u,d,0,n.angleTo(r),i);return !s||N_(e,p,a,s,t)?p:void 0}l+=o;}}function q_(e,t,i,r,n,o,s,a,l){const c=V_(r,o,s),h=j_(r,n),u=h*s,d=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-u<t/4&&(t=u+t/4),Z_(e,d?t/2*a%t:(h/2+2*o)*s*a%t,t,c,i,u,d,!1,l)}function Z_(e,t,i,r,n,o,s,a,l){const c=o/2,h=U_(e);let u=0,d=t-i,p=[];for(let t=0;t<e.length-1;t++){const s=e[t],a=e[t+1],f=s.dist(a),m=a.angleTo(s);for(;d+i<u+f;){d+=i;const _=(d-u)/f,g=Wr(s.x,a.x,_),y=Wr(s.y,a.y,_);if(g>=0&&g<l&&y>=0&&y<l&&d-c>=0&&d+c<=h){const i=new F_(g,y,0,m,t);r&&!N_(e,i,o,r,n)||p.push(i);}}u+=f;}return a||p.length||s||(p=Z_(e,u/2,i,r,n,o,s,!0,l)),p}function $_(e,t,i,r,n){const o=[];for(let s=0;s<e.length;s++){const a=e[s];let l;for(let e=0;e<a.length-1;e++){let s=a[e],c=a[e+1];s.x<t&&c.x<t||(s.x<t?s=new y(t,s.y+(t-s.x)/(c.x-s.x)*(c.y-s.y))._round():c.x<t&&(c=new y(t,s.y+(t-s.x)/(c.x-s.x)*(c.y-s.y))._round()),s.y<i&&c.y<i||(s.y<i?s=new y(s.x+(i-s.y)/(c.y-s.y)*(c.x-s.x),i)._round():c.y<i&&(c=new y(s.x+(i-s.y)/(c.y-s.y)*(c.x-s.x),i)._round()),s.x>=r&&c.x>=r||(s.x>=r?s=new y(r,s.y+(r-s.x)/(c.x-s.x)*(c.y-s.y))._round():c.x>=r&&(c=new y(r,s.y+(r-s.x)/(c.x-s.x)*(c.y-s.y))._round()),s.y>=n&&c.y>=n||(s.y>=n?s=new y(s.x+(n-s.y)/(c.y-s.y)*(c.x-s.x),n)._round():c.y>=n&&(c=new y(s.x+(n-s.y)/(c.y-s.y)*(c.x-s.x),n)._round()),l&&s.equals(l[l.length-1])||(l=[s],o.push(l)),l.push(c)))));}}return o}Is(F_,\"Anchor\");const H_=1e20;function W_(e,t,i,r,n,o,s,a,l){for(let c=t;c<t+r;c++)X_(e,i*o+c,o,n,s,a,l);for(let c=i;c<i+n;c++)X_(e,c*o+t,1,r,s,a,l);}function X_(e,t,i,r,n,o,s){o[0]=0,s[0]=-H_,s[1]=H_,n[0]=e[t];for(let a=1,l=0,c=0;a<r;a++){n[a]=e[t+a*i];const r=a*a;do{const e=o[l];c=(n[a]-n[e]+r-e*e)/(a-e)/2;}while(c<=s[l]&&--l>-1);l++,o[l]=a,s[l]=c,s[l+1]=H_;}for(let a=0,l=0;a<r;a++){for(;s[l+1]<a;)l++;const r=o[l],c=a-r;e[t+a*i]=n[r]+c*c;}}const Y_=2;class K_{constructor(e,t,i){this.requestManager=e,this.localGlyphMode=t,this.localFontFamily=i,this.urls={},this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}};}setURL(e,t){this.urls[t]=e;}getGlyphs(e,t,i){const r=[],o=this.urls[t]||n.GLYPHS_URL;for(const t in e)for(const i of e[t])r.push({stack:t,id:i});R(r,(({stack:e,id:t},i)=>{let r=this.entries[e];r||(r=this.entries[e]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let n=r.glyphs[t];if(void 0!==n)return void i(null,{stack:e,id:t,glyph:n});if(n=this._tinySDF(r,e,t),n)return r.glyphs[t]=n,void i(null,{stack:e,id:t,glyph:n});const s=Math.floor(t/256);if(256*s>65535)return void i(new Error(\"glyphs > 65535 not supported\"));if(r.ranges[s])return void i(null,{stack:e,id:t,glyph:n});let a=r.requests[s];a||(a=r.requests[s]=[],K_.loadGlyphRange(e,s,o,this.requestManager,((e,t)=>{if(t){r.ascender=t.ascender,r.descender=t.descender;for(const e in t.glyphs)this._doesCharSupportLocalGlyph(+e)||(r.glyphs[+e]=t.glyphs[+e]);r.ranges[s]=!0;}for(const i of a)i(e,t);delete r.requests[s];}))),a.push(((r,n)=>{r?i(r):n&&i(null,{stack:e,id:t,glyph:n.glyphs[t]||null});}));}),((e,t)=>{if(e)i(e);else if(t){const e={};for(const{stack:i,id:r,glyph:n}of t)void 0===e[i]&&(e[i]={}),void 0===e[i].glyphs&&(e[i].glyphs={}),e[i].glyphs[r]=n&&{id:n.id,bitmap:n.bitmap.clone(),metrics:n.metrics},e[i].ascender=this.entries[i].ascender,e[i].descender=this.entries[i].descender;i(null,e);}}));}_doesCharSupportLocalGlyph(e){return 0!==this.localGlyphMode&&(2===this.localGlyphMode?!!this.localFontFamily:!!this.localFontFamily&&(Rs[\"CJK Unified Ideographs\"](e)||Rs[\"Hangul Syllables\"](e)||Rs.Hiragana(e)||Rs.Katakana(e)||Rs[\"CJK Symbols and Punctuation\"](e)||Rs[\"CJK Unified Ideographs Extension A\"](e)||Rs[\"CJK Unified Ideographs Extension B\"](e)))}_tinySDF(e,t,i){const r=this.localFontFamily;if(!r||!this._doesCharSupportLocalGlyph(i))return;let n=e.tinySDF;if(!n){let i=\"400\";/bold/i.test(t)?i=\"900\":/medium/i.test(t)?i=\"500\":/light/i.test(t)&&(i=\"200\"),n=e.tinySDF=new K_.TinySDF({fontFamily:r,fontWeight:i,fontSize:24*Y_,buffer:3*Y_,radius:8*Y_}),n.fontWeight=i;}if(this.localGlyphs[n.fontWeight][i])return this.localGlyphs[n.fontWeight][i];const o=String.fromCodePoint(i),{data:s,width:a,height:l,glyphWidth:c,glyphHeight:h,glyphLeft:u,glyphTop:d,glyphAdvance:p}=n.draw(o);return this.localGlyphs[n.fontWeight][i]={id:i,bitmap:new Zp({width:a,height:l},s),metrics:{width:c/Y_,height:h/Y_,left:u/Y_,top:d/Y_-27,advance:p/Y_,localGlyph:!0}}}}K_.loadGlyphRange=function(e,t,i,r,n){const o=256*t,s=o+255,a=r.transformRequest(r.normalizeGlyphsURL(i).replace(\"{fontstack}\",e).replace(\"{range}\",`${o}-${s}`),ye.Glyphs);Te(a,((e,t)=>{if(e)n(e);else if(t){const e={},i=function(e){return new Sm(e).readFields(f_,{})}(t);for(const t of i.glyphs)e[t.id]=t;n(null,{glyphs:e,ascender:i.ascender,descender:i.descender});}}));},K_.TinySDF=class{constructor({fontSize:e=24,buffer:t=3,radius:i=8,cutoff:r=.25,fontFamily:n=\"sans-serif\",fontWeight:o=\"normal\",fontStyle:s=\"normal\"}={}){this.buffer=t,this.cutoff=r,this.radius=i;const a=this.size=e+4*t,l=this._createCanvas(a),c=this.ctx=l.getContext(\"2d\",{willReadFrequently:!0});c.font=`${s} ${o} ${e}px ${n}`,c.textBaseline=\"alphabetic\",c.textAlign=\"left\",c.fillStyle=\"black\",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Uint16Array(a);}_createCanvas(e){const t=document.createElement(\"canvas\");return t.width=t.height=e,t}draw(e){const{width:t,actualBoundingBoxAscent:i,actualBoundingBoxDescent:r,actualBoundingBoxLeft:n,actualBoundingBoxRight:o}=this.ctx.measureText(e),s=Math.ceil(i),a=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(o-n))),l=Math.min(this.size-this.buffer,s+Math.ceil(r)),c=a+2*this.buffer,h=l+2*this.buffer,u=Math.max(c*h,0),d=new Uint8ClampedArray(u),p={data:d,width:c,height:h,glyphWidth:a,glyphHeight:l,glyphTop:s,glyphLeft:0,glyphAdvance:t};if(0===a||0===l)return p;const{ctx:f,buffer:m,gridInner:_,gridOuter:g}=this;f.clearRect(m,m,a,l),f.fillText(e,m,m+s);const y=f.getImageData(m,m,a,l);g.fill(H_,0,u),_.fill(0,0,u);for(let e=0;e<l;e++)for(let t=0;t<a;t++){const i=y.data[4*(e*a+t)+3]/255;if(0===i)continue;const r=(e+m)*c+t+m;if(1===i)g[r]=0,_[r]=H_;else {const e=.5-i;g[r]=e>0?e*e:0,_[r]=e<0?e*e:0;}}W_(g,0,0,c,h,c,this.f,this.v,this.z),W_(_,m,m,a,l,c,this.f,this.v,this.z);for(let e=0;e<u;e++){const t=Math.sqrt(g[e])-Math.sqrt(_[e]);d[e]=Math.round(255-255*(t/this.radius+this.cutoff));}return p}};const J_=x_;function Q_(e,t,i,r){const n=[],o=e.imagePrimary,s=o.pixelRatio,a=o.paddedRect.w-2*J_,l=o.paddedRect.h-2*J_,c=e.right-e.left,h=e.bottom-e.top,u=o.stretchX||[[0,a]],d=o.stretchY||[[0,l]],p=(e,t)=>e+t[1]-t[0],f=u.reduce(p,0),m=d.reduce(p,0),_=a-f,g=l-m;let x=0,v=f,b=0,w=m,T=0,E=_,M=0,A=g;if(o.content&&r){const e=o.content;x=eg(u,0,e[0]),b=eg(d,0,e[1]),v=eg(u,e[0],e[2]),w=eg(d,e[1],e[3]),T=e[0]-x,M=e[1]-b,E=e[2]-e[0]-v,A=e[3]-e[1]-w;}const S=(r,n,a,l)=>{const u=ig(r.stretch-x,v,c,e.left),d=rg(r.fixed-T,E,r.stretch,f),p=ig(n.stretch-b,w,h,e.top),_=rg(n.fixed-M,A,n.stretch,m),g=ig(a.stretch-x,v,c,e.left),S=rg(a.fixed-T,E,a.stretch,f),I=ig(l.stretch-b,w,h,e.top),C=rg(l.fixed-M,A,l.stretch,m),z=new y(u,p),D=new y(g,p),P=new y(g,I),R=new y(u,I),L=new y(d/s,_/s),k=new y(S/s,C/s),O=t*Math.PI/180;if(O){const e=Math.sin(O),t=Math.cos(O),i=[t,-e,e,t];z._matMult(i),D._matMult(i),R._matMult(i),P._matMult(i);}const B=r.stretch+r.fixed,F=a.stretch+a.fixed,N=n.stretch+n.fixed,U=l.stretch+l.fixed,V=e.imageSecondary;return {tl:z,tr:D,bl:R,br:P,texPrimary:{x:o.paddedRect.x+J_+B,y:o.paddedRect.y+J_+N,w:F-B,h:U-N},texSecondary:V?{x:V.paddedRect.x+J_+B,y:V.paddedRect.y+J_+N,w:F-B,h:U-N}:void 0,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:L,pixelOffsetBR:k,minFontScaleX:E/s/c,minFontScaleY:A/s/h,isSDF:i}};if(r&&(o.stretchX||o.stretchY)){const e=tg(u,_,f),t=tg(d,g,m);for(let i=0;i<e.length-1;i++){const r=e[i],o=e[i+1];for(let e=0;e<t.length-1;e++)n.push(S(r,t[e],o,t[e+1]));}}else n.push(S({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:a+1},{fixed:0,stretch:l+1}));return n}function eg(e,t,i){let r=0;for(const n of e)r+=Math.max(t,Math.min(i,n[1]))-Math.max(t,Math.min(i,n[0]));return r}function tg(e,t,i){const r=[{fixed:-J_,stretch:0}];for(const[t,i]of e){const e=r[r.length-1];r.push({fixed:t-e.stretch,stretch:e.stretch}),r.push({fixed:t-e.stretch,stretch:e.stretch+(i-t)});}return r.push({fixed:t+J_,stretch:i}),r}function ig(e,t,i,r){return e/t*i+r}function rg(e,t,i,r){return e-t*i/r}function ng(e,t,i,r){const n=t+e.positionedLines[r].lineOffset;return 0===r?i+n/2:i+(n+(t+e.positionedLines[r-1].lineOffset))/2}function og(e,t=1,i=!1){let r=1/0,n=1/0,o=-1/0,s=-1/0;const a=e[0];for(let e=0;e<a.length;e++){const t=a[e];(!e||t.x<r)&&(r=t.x),(!e||t.y<n)&&(n=t.y),(!e||t.x>o)&&(o=t.x),(!e||t.y>s)&&(s=t.y);}const l=Math.min(o-r,s-n);let c=l/2;const h=new or([],sg);if(0===l)return new y(r,n);for(let t=r;t<o;t+=l)for(let i=n;i<s;i+=l)h.push(new ag(t+c,i+c,c,e));let u=function(e){let t=0,i=0,r=0;const n=e[0];for(let e=0,o=n.length,s=o-1;e<o;s=e++){const o=n[e],a=n[s],l=o.x*a.y-a.x*o.y;i+=(o.x+a.x)*l,r+=(o.y+a.y)*l,t+=3*l;}return new ag(i/t,r/t,0,e)}(e),d=h.length;for(;h.length;){const r=h.pop();(r.d>u.d||!u.d)&&(u=r,i&&console.log(\"found best %d after %d probes\",Math.round(1e4*r.d)/1e4,d)),r.max-u.d<=t||(c=r.h/2,h.push(new ag(r.p.x-c,r.p.y-c,c,e)),h.push(new ag(r.p.x+c,r.p.y-c,c,e)),h.push(new ag(r.p.x-c,r.p.y+c,c,e)),h.push(new ag(r.p.x+c,r.p.y+c,c,e)),d+=4);}return i&&(console.log(`num probes: ${d}`),console.log(`best distance: ${u.d}`)),u.p}function sg(e,t){return t.max-e.max}class ag{constructor(e,t,i,r){this.p=new y(e,t),this.h=i,this.d=function(e,t){let i=!1,r=1/0;for(let n=0;n<t.length;n++){const o=t[n];for(let t=0,n=o.length,s=n-1;t<n;s=t++){const n=o[t],a=o[s];n.y>e.y!=a.y>e.y&&e.x<(a.x-n.x)*(e.y-n.y)/(a.y-n.y)+n.x&&(i=!i),r=Math.min(r,vp(e,n,a));}}return (i?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2;}}const lg=7,cg=Number.POSITIVE_INFINITY,hg=Math.sqrt(2);function ug(e,[t,i]){let r=0,n=0;if(i===cg){t<0&&(t=0);const i=t/hg;switch(e){case\"top-right\":case\"top-left\":n=i-lg;break;case\"bottom-right\":case\"bottom-left\":n=-i+lg;break;case\"bottom\":n=-t+lg;break;case\"top\":n=t-lg;}switch(e){case\"top-right\":case\"bottom-right\":r=-i;break;case\"top-left\":case\"bottom-left\":r=i;break;case\"left\":r=t;break;case\"right\":r=-t;}}else {switch(t=Math.abs(t),i=Math.abs(i),e){case\"top-right\":case\"top-left\":case\"top\":n=i-lg;break;case\"bottom-right\":case\"bottom-left\":case\"bottom\":n=-i+lg;}switch(e){case\"top-right\":case\"bottom-right\":case\"right\":r=-t;break;case\"top-left\":case\"bottom-left\":case\"left\":r=t;}}return [r,n]}function dg(e,t,i,r,n,o,s,a,l,c,h){e.createArrays(),e.tilePixelRatio=sr/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;const u=e.layers[0].layout,d=e.layers[0]._unevaluatedLayout._values,p={};if(\"composite\"===e.textSizeData.kind){const{minZoom:t,maxZoom:i}=e.textSizeData;p.compositeTextSizes=[d[\"text-size\"].possiblyEvaluate(new ea(t),a),d[\"text-size\"].possiblyEvaluate(new ea(i),a)];}if(\"composite\"===e.iconSizeData.kind){const{minZoom:t,maxZoom:i}=e.iconSizeData;p.compositeIconSizes=[d[\"icon-size\"].possiblyEvaluate(new ea(t),a),d[\"icon-size\"].possiblyEvaluate(new ea(i),a)];}p.layoutTextSize=d[\"text-size\"].possiblyEvaluate(new ea(l+1),a),p.layoutIconSize=d[\"icon-size\"].possiblyEvaluate(new ea(l+1),a),p.textMaxSize=d[\"text-size\"].possiblyEvaluate(new ea(18),a);const f=\"map\"===u.get(\"text-rotation-alignment\")&&\"point\"!==u.get(\"symbol-placement\"),m=u.get(\"text-size\");let _=!1;for(const t of e.features)if(t.icon&&t.icon.nameSecondary){_=!0;break}for(const o of e.features){const l=u.get(\"text-font\").evaluate(o,{},a).join(\",\"),d=m.evaluate(o,{},a),g=p.layoutTextSize.evaluate(o,{},a),y=(p.layoutIconSize.evaluate(o,{},a),{horizontal:{},vertical:void 0}),x=o.text;let v,b=[0,0];if(x){const r=x.toString(),s=u.get(\"text-letter-spacing\").evaluate(o,{},a)*r_,c=u.get(\"text-line-height\").evaluate(o,{},a)*r_,h=ks(r)?s:0,p=u.get(\"text-anchor\").evaluate(o,{},a),m=u.get(\"text-variable-anchor\");if(!m){const e=u.get(\"text-radial-offset\").evaluate(o,{},a);b=e?ug(p,[e*r_,cg]):u.get(\"text-offset\").evaluate(o,{},a).map((e=>e*r_));}let _=f?\"center\":u.get(\"text-justify\").evaluate(o,{},a);const v=\"point\"===u.get(\"symbol-placement\"),w=v?u.get(\"text-max-width\").evaluate(o,{},a)*r_:1/0,T=o=>{e.allowVerticalPlacement&&Ls(r)&&(y.vertical=A_(x,t,i,n,l,w,c,p,o,h,b,w_.vertical,!0,g,d));};if(!f&&m){const e=\"auto\"===_?m.map((e=>pg(e))):[_];let r=!1;for(let o=0;o<e.length;o++){const s=e[o];if(!y.horizontal[s])if(r)y.horizontal[s]=y.horizontal[0];else {const e=A_(x,t,i,n,l,w,c,\"center\",s,h,b,w_.horizontal,!1,g,d);e&&(y.horizontal[s]=e,r=1===e.positionedLines.length);}}T(\"left\");}else {if(\"auto\"===_&&(_=pg(p)),v||u.get(\"text-writing-mode\").indexOf(\"horizontal\")>=0||!Ls(r)){const e=A_(x,t,i,n,l,w,c,p,_,h,b,w_.horizontal,!1,g,d);e&&(y.horizontal[_]=e);}T(v?\"left\":_);}}let w=!1;if(o.icon&&o.icon.namePrimary){const t=r[o.icon.namePrimary];t&&(v=O_(n[o.icon.namePrimary],o.icon.nameSecondary?n[o.icon.nameSecondary]:void 0,u.get(\"icon-offset\").evaluate(o,{},a),u.get(\"icon-anchor\").evaluate(o,{},a)),w=t.sdf,void 0===e.sdfIcons?e.sdfIcons=t.sdf:e.sdfIcons!==t.sdf&&W(\"Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer\"),(t.pixelRatio!==e.pixelRatio||0!==u.get(\"icon-rotate\").constantOr(1))&&(e.iconsNeedLinear=!0));}const T=yg(y.horizontal)||y.vertical;e.iconsInText||(e.iconsInText=!!T&&T.iconsInText),(T||v)&&fg(e,o,y,v,r,p,g,0,b,w,s,a,c,h,_);}o&&e.generateCollisionDebugBuffers(l,e.collisionBoxArray);}function pg(e){switch(e){case\"right\":case\"top-right\":case\"bottom-right\":return \"right\";case\"left\":case\"top-left\":case\"bottom-left\":return \"left\"}return \"center\"}function fg(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f){let m=o.textMaxSize.evaluate(t,{},u);void 0===m&&(m=s);const _=e.layers[0].layout,g=_.get(\"icon-offset\").evaluate(t,{},u),y=yg(i.horizontal)||i.vertical,x=\"globe\"===d.name,v=r_,b=s/v,T=e.tilePixelRatio*m/v,E=(P=e.overscaling,e.zoom>18&&P>2&&(P>>=1),Math.max(sr/(512*P),1)*_.get(\"symbol-spacing\")),M=_.get(\"text-padding\")*e.tilePixelRatio,A=_.get(\"icon-padding\")*e.tilePixelRatio,S=w(_.get(\"text-max-angle\")),I=\"map\"===_.get(\"text-rotation-alignment\")&&\"point\"!==_.get(\"symbol-placement\"),C=\"map\"===_.get(\"icon-rotation-alignment\")&&\"point\"!==_.get(\"symbol-placement\"),z=_.get(\"symbol-placement\"),D=E/2;var P;const R=_.get(\"icon-text-fit\").evaluate(t,{},u),L=_.get(\"icon-text-fit-padding\").evaluate(t,{},u),k=\"none\"!==R;let O;!1===e.hasAnyIconTextFit&&k&&(e.hasAnyIconTextFit=!0),r&&k&&(e.allowVerticalPlacement&&i.vertical&&(O=B_(r,i.vertical,R,L,g,b)),y&&(r=B_(r,y,R,L,g,b)));const B=(s,a,m)=>{if(a.x<0||a.x>=sr||a.y<0||a.y>=sr)return;let _=null;if(x){const{x:e,y:t,z:i}=d.projectTilePoint(a.x,a.y,m);_={anchor:new F_(e,t,i,0,void 0),up:d.upVector(m,a.x,a.y)};}!function(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_,g,y,x,v,b,w,T,E,M,A){const S=e.addToLineVertexArray(t,r);let I,C,z,D,P,R,L,k=0,O=0,B=0,F=0,N=-1,U=-1;const V={};let j=wl(\"\");const G=i?i.anchor:t,q=\"none\"!==l.layout.get(\"icon-text-fit\").evaluate(v,{},E);let Z=0,$=0;if(void 0===l._unevaluatedLayout.getValue(\"text-radial-offset\")?[Z,$]=l.layout.get(\"text-offset\").evaluate(v,{},E).map((e=>e*r_)):(Z=l.layout.get(\"text-radial-offset\").evaluate(v,{},E)*r_,$=cg),e.allowVerticalPlacement&&n.vertical){const e=n.vertical;if(f)R=vg(e),a&&(L=vg(a));else {const i=l.layout.get(\"text-rotate\").evaluate(v,{},E)+90;z=xg(c,G,t,h,u,d,e,p,i,m),a&&(D=xg(c,G,t,h,u,d,a,g,i));}}if(o){const r=l.layout.get(\"icon-rotate\").evaluate(v,{},E),n=Q_(o,r,w,q),s=a?Q_(a,r,w,q):void 0;C=xg(c,G,t,h,u,d,o,g,r),k=4*n.length;const p=e.iconSizeData;let f=null;\"source\"===p.kind?(f=[n_*l.layout.get(\"icon-size\").evaluate(v,{},E)],f[0]>_g&&W(`${e.layerIds[0]}: Value for \"icon-size\" is >= ${mg}. Reduce your \"icon-size\".`)):\"composite\"===p.kind&&(f=[n_*b.compositeIconSizes[0].evaluate(v,{},E),n_*b.compositeIconSizes[1].evaluate(v,{},E)],(f[0]>_g||f[1]>_g)&&W(`${e.layerIds[0]}: Value for \"icon-size\" is >= ${mg}. Reduce your \"icon-size\".`)),e.addSymbols(e.icon,n,f,x,y,v,!1,i,t,S.lineStartIndex,S.lineLength,-1,T,E,M,A),N=e.icon.placedSymbolArray.length-1,s&&(O=4*s.length,e.addSymbols(e.icon,s,f,x,y,v,w_.vertical,i,t,S.lineStartIndex,S.lineLength,-1,T,E,M,A),U=e.icon.placedSymbolArray.length-1);}for(const r in n.horizontal){const o=n.horizontal[r];I||(j=wl(o.text),f?P=vg(o):I=xg(c,G,t,h,u,d,o,p,l.layout.get(\"text-rotate\").evaluate(v,{},E),m));const a=1===o.positionedLines.length;if(B+=gg(e,i,t,o,s,l,f,v,m,S,n.vertical?w_.horizontal:w_.horizontalOnly,a?Object.keys(n.horizontal):[r],V,N,b,T,E,M),a)break}n.vertical&&(F+=gg(e,i,t,n.vertical,s,l,f,v,m,S,w_.vertical,[\"vertical\"],V,U,b,T,E,M));let H=-1;const X=(e,t)=>e?Math.max(e,t):t;H=X(P,H),H=X(R,H),H=X(L,H);const Y=H>-1?1:0;e.glyphOffsetArray.length>=cy.MAX_GLYPHS&&W(\"Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907\"),void 0!==v.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,v.sortKey),e.symbolInstances.emplaceBack(t.x,t.y,G.x,G.y,G.z,V.right>=0?V.right:-1,V.center>=0?V.center:-1,V.left>=0?V.left:-1,V.vertical>=0?V.vertical:-1,N,U,j,void 0!==I?I:e.collisionBoxArray.length,void 0!==I?I+1:e.collisionBoxArray.length,void 0!==z?z:e.collisionBoxArray.length,void 0!==z?z+1:e.collisionBoxArray.length,void 0!==C?C:e.collisionBoxArray.length,void 0!==C?C+1:e.collisionBoxArray.length,D||e.collisionBoxArray.length,D?D+1:e.collisionBoxArray.length,h,B,F,k,O,Y,0,Z,$,H,0,q?1:0);}(e,a,_,s,i,r,n,O,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,M,I,l,0,A,C,g,t,o,c,h,u,p,f);};if(\"line\"===z)for(const n of $_(t.geometry,0,0,sr,sr)){const t=q_(n,E,S,i.vertical||y,r,v,T,e.overscaling,sr);for(const i of t)y&&bg(e,y.text,D,i)||B(n,i,u);}else if(\"line-center\"===z){for(const e of t.geometry)if(e.length>1){const t=G_(e,S,i.vertical||y,r,v,T);t&&B(e,t,u);}}else if(\"Polygon\"===t.type)for(const e of zf(t.geometry,0)){const t=og(e,16);B(e[0],new F_(t.x,t.y,0,0,void 0),u);}else if(\"LineString\"===t.type)for(const e of t.geometry)B(e,new F_(e[0].x,e[0].y,0,0,void 0),u);else if(\"Point\"===t.type)for(const e of t.geometry)for(const t of e)B([t],new F_(t.x,t.y,0,0,void 0),u);}const mg=255,_g=mg*n_;function gg(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_,g){const x=function(e,t,i,r,n,o,s,a){const l=[];if(0===t.positionedLines.length)return l;const c=r.layout.get(\"text-rotate\").evaluate(o,{})*Math.PI/180,h=function(e){const t=e[0],i=e[1],r=t*i;return r>0?[t,-i]:r<0?[-t,i]:0===t?[i,t]:[i,-t]}(i);let u=Math.abs(t.top-t.bottom);for(const e of t.positionedLines)u-=e.lineOffset;const d=t.positionedLines.length,p=u/d;let f=t.top-i[1];for(let e=0;e<d;++e){const r=t.positionedLines[e];f=ng(t,p,f,e);for(const e of r.positionedGlyphs){if(!e.rect)continue;const r=e.rect||{};let o=g_+1,u=!0,d=1,p=0;if(e.imageName){const t=s[e.imageName];if(!t)continue;if(t.sdf){W(\"SDF images are not supported in formatted text and will be ignored.\");continue}u=!1,d=t.pixelRatio,o=x_/d;}const m=(n||a)&&e.vertical,_=e.metrics.advance*e.scale/2,g=e.metrics,x=e.rect;if(null===x)continue;a&&t.verticalizable&&(p=e.imageName?_-e.metrics.width*e.scale/2:0);const v=n?[e.x+_,e.y]:[0,0];let b=[0,0],w=[0,0],T=!1;n||(m?(w=[e.x+_+h[0],e.y+h[1]-p],T=!0):b=[e.x+_+i[0],e.y+i[1]-p]);const E=x.w*e.scale/(d*(e.localGlyph?Y_:1)),M=x.h*e.scale/(d*(e.localGlyph?Y_:1));let A,S,I,C;if(m){const t=e.y-f,i=new y(-_,_-t),r=-Math.PI/2,n=new y(...w);A=new y(-_+b[0],b[1]),A._rotateAround(r,i)._add(n),A.x+=-t+_,A.y-=(g.left-o)*e.scale;const s=e.imageName?g.advance*e.scale:r_*e.scale,a=String.fromCodePoint(e.glyph);u_(a)?A.x+=(1-o)*e.scale:d_(a)?A.x+=s-g.height*e.scale+(-o-1)*e.scale:A.x+=e.imageName||g.width+2*o===x.w&&g.height+2*o===x.h?(s-M)/2:(s-(g.height+2*o)*e.scale)/2,S=new y(A.x,A.y-E),I=new y(A.x+M,A.y),C=new y(A.x+M,A.y-E);}else {const t=(g.left-o)*e.scale-_+b[0],i=(-g.top-o)*e.scale+b[1],r=t+E,n=i+M;A=new y(t,i),S=new y(r,i),I=new y(t,n),C=new y(r,n);}if(c){let e;e=n?new y(0,0):T?new y(h[0],h[1]):new y(i[0],i[1]),A._rotateAround(c,e),S._rotateAround(c,e),I._rotateAround(c,e),C._rotateAround(c,e);}const z=new y(0,0),D=new y(0,0);l.push({tl:A,tr:S,bl:I,br:C,texPrimary:r,texSecondary:void 0,writingMode:t.writingMode,glyphOffset:v,sectionIndex:e.sectionIndex,isSDF:u,pixelOffsetTL:z,pixelOffsetBR:D,minFontScaleX:0,minFontScaleY:0});}}return l}(0,r,l,o,s,a,n,e.allowVerticalPlacement),v=e.textSizeData;let b=null;\"source\"===v.kind?(b=[n_*o.layout.get(\"text-size\").evaluate(a,{},_)],b[0]>_g&&W(`${e.layerIds[0]}: Value for \"text-size\" is >= ${mg}. Reduce your \"text-size\".`)):\"composite\"===v.kind&&(b=[n_*f.compositeTextSizes[0].evaluate(a,{},_),n_*f.compositeTextSizes[1].evaluate(a,{},_)],(b[0]>_g||b[1]>_g)&&W(`${e.layerIds[0]}: Value for \"text-size\" is >= ${mg}. Reduce your \"text-size\".`)),e.addSymbols(e.text,x,b,l,s,a,h,t,i,c.lineStartIndex,c.lineLength,p,m,_,g,!1);for(const t of u)d[t]=e.text.placedSymbolArray.length-1;return 4*x.length}function yg(e){for(const t in e)return e[t];return null}function xg(e,t,i,r,n,o,s,a,l,c){let h=s.top,u=s.bottom,d=s.left,p=s.right;const f=s.collisionPadding;if(f&&(d-=f[0],h-=f[1],p+=f[2],u+=f[3]),l){const e=new y(d,h),t=new y(p,h),i=new y(d,u),r=new y(p,u),n=w(l);let o=new y(0,0);c&&(o=new y(c[0],c[1])),e._rotateAround(n,o),t._rotateAround(n,o),i._rotateAround(n,o),r._rotateAround(n,o),d=Math.min(e.x,t.x,i.x,r.x),p=Math.max(e.x,t.x,i.x,r.x),h=Math.min(e.y,t.y,i.y,r.y),u=Math.max(e.y,t.y,i.y,r.y);}return e.emplaceBack(t.x,t.y,t.z,i.x,i.y,d,h,p,u,a,r,n,o),e.length-1}function vg(e){e.collisionPadding&&(e.top-=e.collisionPadding[1],e.bottom+=e.collisionPadding[3]);const t=e.bottom-e.top;return t>0?Math.max(10,t):null}function bg(e,t,i,r){const n=e.compareText;if(t in n){const e=n[t];for(let t=e.length-1;t>=0;t--)if(r.dist(e[t])<i)return !0}else n[t]=[];return n[t].push(r),!1}function wg(e,t){const i=e.fovAboveCenter,r=e.elevation?e.elevation.getMinElevationBelowMSL()*t:0,n=(e._camera.position[2]*e.worldSize-r)/Math.cos(e._pitch),o=Math.sin(i)*n/Math.sin(Math.max(Math.PI/2-e._pitch-i,.01)),s=Math.sin(e._pitch)*o+n;return Math.min(1.01*s,n*(1/e._horizonShift))}function Tg(e,t){if(!t.isReprojectedInTileSpace)return {scale:1<<e.z,x:e.x,y:e.y,x2:e.x+1,y2:e.y+1,projection:t};const i=Math.pow(2,-e.z),r=e.x*i,n=(e.x+1)*i,o=e.y*i,s=(e.y+1)*i,a=$d(r),l=$d(n),c=Hd(o),h=Hd(s),u=t.project(a,c),d=t.project(l,c),p=t.project(l,h),f=t.project(a,h);let m=Math.min(u.x,d.x,p.x,f.x),_=Math.min(u.y,d.y,p.y,f.y),g=Math.max(u.x,d.x,p.x,f.x),y=Math.max(u.y,d.y,p.y,f.y);const x=i/16;function v(e,i,r,n,o,s){const a=(r+o)/2,l=(n+s)/2,c=t.project($d(a),Hd(l)),h=Math.max(0,m-c.x,_-c.y,c.x-g,c.y-y);m=Math.min(m,c.x),g=Math.max(g,c.x),_=Math.min(_,c.y),y=Math.max(y,c.y),h>x&&(v(e,c,r,n,a,l),v(c,i,a,l,o,s));}v(u,d,r,o,n,o),v(d,p,n,o,n,s),v(p,f,n,s,r,s),v(f,u,r,s,r,o),m-=x,_-=x,g+=x,y+=x;const b=1/Math.max(g-m,y-_);return {scale:b,x:m*b,y:_*b,x2:g*b,y2:y*b,projection:t}}function Eg(e,t,i,r,n,o,s,a,l){if(\"globe\"===l.name)return ud(e,t,new ku(i,r,n),!1);const c=Tg({z:i,x:r,y:n},l);return new Hu([(o+c.x/c.scale)*t,t*(c.y/c.scale),s],[(o+c.x2/c.scale)*t,t*(c.y2/c.scale),a])}function Mg(e,{x:t,y:i},r=0){return new y(((t-r)*e.scale-e.x)*sr,(i*e.scale-e.y)*sr)}function Ag(e,t,i=0){return Mu.fromValues(((t.x-i)*e.scale-e.x)*sr,(t.y*e.scale-e.y)*sr,Wd(t.z,t.y))}const Sg=xu.identity(new Float32Array(16));class Ig{constructor(e){this.spec=e,this.name=e.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit=\"meters\",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=[\"custom\"],this.center=[0,0],this.range=[3.5,7];}project(e,t){return {x:0,y:0,z:0}}unproject(e,t){return new Nd(0,0)}projectTilePoint(e,t,i){return {x:e,y:t,z:0}}locationPoint(e,t,i=!0){return e._coordinatePoint(e.locationCoordinate(t),i)}pixelsPerMeter(e,t){return Zd(1,e)*t}pixelSpaceConversion(e,t,i){return 1}farthestPixelDistance(e){return wg(e,e.pixelsPerMeter)}pointCoordinate(e,t,i,r){const n=e.horizonLineFromTop(!1),o=new y(t,Math.max(n,i));return e.rayIntersectionCoordinate(e.pointRayIntersection(o,r))}pointCoordinate3D(e,t,i){const r=new y(t,i);if(e.elevation)return e.elevation.pointCoordinate(r);{const t=this.pointCoordinate(e,r.x,r.y,0);return [t.x,t.y,t.z]}}isPointAboveHorizon(e,t){if(e.elevation)return !this.pointCoordinate3D(e,t.x,t.y);const i=e.horizonLineFromTop();return t.y<i}createInversionMatrix(e,t){return Sg}createTileMatrix(e,t,i){let r,n,o;const s=i.canonical,a=xu.identity(new Float64Array(16));if(this.isReprojectedInTileSpace){const l=Tg(s,this);r=1,n=l.x+i.wrap*l.scale,o=l.y,xu.scale(a,a,[r/l.scale,r/l.scale,e.pixelsPerMeter/t]);}else r=t/e.zoomScale(s.z),n=(s.x+Math.pow(2,s.z)*i.wrap)*r,o=s.y*r;return xu.translate(a,a,[n,o,0]),xu.scale(a,a,[r/sr,r/sr,1]),a}upVector(e,t,i){return [0,0,1]}upVectorScale(e,t,i){return {metersToTile:1}}}class Cg extends Ig{constructor(e){super(e),this.range=[4,7],this.center=e.center||[-96,37.5];const[t,i]=this.parallels=e.parallels||[29.5,45.5],r=Math.sin(w(t));this.n=(r+Math.sin(w(i)))/2,this.c=1+r*(2*this.n-r),this.r0=Math.sqrt(this.c)/this.n;}project(e,t){const{n:i,c:r,r0:n}=this,o=w(e-this.center[0]),s=w(t),a=Math.sqrt(r-2*i*Math.sin(s))/i;return {x:a*Math.sin(o*i),y:a*Math.cos(o*i)-n,z:0}}unproject(e,t){const{n:i,c:r,r0:n}=this,o=n+t;let s=Math.atan2(e,Math.abs(o))*Math.sign(o);o*i<0&&(s-=Math.PI*Math.sign(e)*Math.sign(o));const a=w(this.center[0])*i;s=P(s,-Math.PI-a,Math.PI-a);const l=z(T(s/i)+this.center[0],-180,180),c=Math.asin(z((r-(e*e+o*o)*i*i)/(2*i),-1,1)),h=z(T(c),-Xd,Xd);return new Nd(l,h)}}const zg=1.340264,Dg=-.081106,Pg=893e-6,Rg=.003796,Lg=Math.sqrt(3)/2;class kg extends Ig{project(e,t){t=t/180*Math.PI,e=e/180*Math.PI;const i=Math.asin(Lg*Math.sin(t)),r=i*i,n=r*r*r;return {x:.5*(e*Math.cos(i)/(Lg*(zg+3*Dg*r+n*(7*Pg+9*Rg*r)))/Math.PI+.5),y:1-.5*(i*(zg+Dg*r+n*(Pg+Rg*r))/Math.PI+1),z:0}}unproject(e,t){e=(2*e-.5)*Math.PI;let i=t=(2*(1-t)-1)*Math.PI,r=i*i,n=r*r*r;for(let e,o,s,a=0;a<12&&(o=i*(zg+Dg*r+n*(Pg+Rg*r))-t,s=zg+3*Dg*r+n*(7*Pg+9*Rg*r),e=o/s,i=z(i-e,-Math.PI/3,Math.PI/3),r=i*i,n=r*r*r,!(Math.abs(e)<1e-12));++a);const o=Lg*e*(zg+3*Dg*r+n*(7*Pg+9*Rg*r))/Math.cos(i),s=Math.asin(Math.sin(i)/Lg),a=z(180*o/Math.PI,-180,180),l=z(180*s/Math.PI,-Xd,Xd);return new Nd(a,l)}}class Og extends Ig{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0;}project(e,t){return {x:.5+e/360,y:.5-t/360,z:0}}unproject(e,t){const i=360*(e-.5),r=z(360*(.5-t),-Xd,Xd);return new Nd(i,r)}}const Bg=Math.PI/2;function Fg(e){return Math.tan((Bg+e)/2)}class Ng extends Ig{constructor(e){super(e),this.center=e.center||[0,30];const[t,i]=this.parallels=e.parallels||[30,30];let r=w(t),n=w(i);this.southernCenter=r+n<0,this.southernCenter&&(r=-r,n=-n);const o=Math.cos(r),s=Fg(r);this.n=r===n?Math.sin(r):Math.log(o/Math.cos(n))/Math.log(Fg(n)/s),this.f=o*Math.pow(Fg(r),this.n)/this.n;}project(e,t){t=w(t),this.southernCenter&&(t=-t),e=w(e-this.center[0]);const i=1e-6,{n:r,f:n}=this;n>0?t<-Bg+i&&(t=-Bg+i):t>Bg-i&&(t=Bg-i);const o=n/Math.pow(Fg(t),r);let s=o*Math.sin(r*e),a=n-o*Math.cos(r*e);return s=.5*(s/Math.PI+.5),a=.5*(a/Math.PI+.5),{x:s,y:this.southernCenter?a:1-a,z:0}}unproject(e,t){e=(2*e-.5)*Math.PI,this.southernCenter&&(t=1-t),t=(2*(1-t)-.5)*Math.PI;const{n:i,f:r}=this,n=r-t,o=Math.sign(n),s=Math.sign(i)*Math.sqrt(e*e+n*n);let a=Math.atan2(e,Math.abs(n))*o;n*i<0&&(a-=Math.PI*Math.sign(e)*o);const l=z(T(a/i)+this.center[0],-180,180),c=z(T(2*Math.atan(Math.pow(r/s,1/i))-Bg),-Xd,Xd);return new Nd(l,this.southernCenter?-c:c)}}class Ug extends Ig{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null;}project(e,t){return {x:Gd(e),y:qd(t),z:0}}unproject(e,t){const i=$d(e),r=Hd(t);return new Nd(i,r)}}const Vg=w(Xd);class jg extends Ig{project(e,t){const i=(t=w(t))*t,r=i*i;return {x:.5*((e=w(e))*(.8707-.131979*i+r*(r*(.003971*i-.001529*r)-.013791))/Math.PI+.5),y:1-.5*(t*(1.007226+i*(.015085+r*(.028874*i-.044475-.005916*r)))/Math.PI+1),z:0}}unproject(e,t){e=(2*e-.5)*Math.PI;let i=t=(2*(1-t)-1)*Math.PI,r=25,n=0,o=i*i;do{o=i*i;const e=o*o;n=(i*(1.007226+o*(.015085+e*(.028874*o-.044475-.005916*e)))-t)/(1.007226+o*(.045255+e*(.259866*o-.311325-.005916*11*e))),i=z(i-n,-Vg,Vg);}while(Math.abs(n)>1e-6&&--r>0);o=i*i;const s=z(T(e/(.8707+o*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979))),-180,180),a=T(i);return new Nd(s,a)}}const Gg=w(Xd);class qg extends Ig{project(e,t){t=w(t),e=w(e);const i=Math.cos(t),r=2/Math.PI,n=Math.acos(i*Math.cos(e/2)),o=Math.sin(n)/n,s=.5*(e*r+2*i*Math.sin(e/2)/o)||0,a=.5*(t+Math.sin(t)/o)||0;return {x:.5*(s/Math.PI+.5),y:1-.5*(a/Math.PI+1),z:0}}unproject(e,t){let i=e=(2*e-.5)*Math.PI,r=t=(2*(1-t)-1)*Math.PI,n=25;const o=1e-6;let s=0,a=0;do{const n=Math.cos(r),o=Math.sin(r),l=2*o*n,c=o*o,h=n*n,u=Math.cos(i/2),d=Math.sin(i/2),p=2*u*d,f=d*d,m=1-h*u*u,_=m?1/m:0,g=m?Math.acos(n*u)*Math.sqrt(1/m):0,y=.5*(2*g*n*d+2*i/Math.PI)-e,x=.5*(g*o+r)-t,v=.5*_*(h*f+g*n*u*c)+1/Math.PI,b=_*(p*l/4-g*o*d),w=.125*_*(l*d-g*o*h*p),T=.5*_*(c*u+g*f*n)+.5,E=b*w-T*v;s=(x*b-y*T)/E,a=(y*w-x*v)/E,i=z(i-s,-Math.PI,Math.PI),r=z(r-a,-Gg,Gg);}while((Math.abs(s)>o||Math.abs(a)>o)&&--n>0);return new Nd(T(i),T(r))}}class Zg extends Ig{constructor(e){super(e),this.center=e.center||[0,0],this.parallels=e.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(w(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0;}project(e,t){const{scale:i,cosPhi:r}=this;return {x:w(e)*r*i+.5,y:-Math.sin(w(t))/r*i+.5,z:0}}unproject(e,t){const{scale:i,cosPhi:r}=this,n=-(t-.5)/i,o=z(T((e-.5)/i)/r,-180,180),s=Math.asin(z(n*r,-1,1)),a=z(T(s),-Xd,Xd);return new Nd(o,a)}}class $g extends Ug{constructor(e){super(e),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit=\"pixels\",this.unsupportedLayers=[\"debug\"],this.range=[3,5];}projectTilePoint(e,t,i){const r=_d(e,t,i),n=xd(ad(i));return Mu.transformMat4(r,r,n),{x:r[0],y:r[1],z:r[2]}}locationPoint(e,t){const i=md(t.lat,t.lng),r=Mu.normalize([],i),n=e.elevation?e.elevation.getAtPointOrZero(e.locationCoordinate(t),e._centerAltitude):e._centerAltitude,o=Zd(1,0)*sr*n;Mu.scaleAndAdd(i,i,r,o);const s=xu.identity(new Float64Array(16));return xu.multiply(s,e.pixelMatrix,e.globeMatrix),Mu.transformMat4(i,i,s),new y(i[0],i[1])}pixelsPerMeter(e,t){return Zd(1,0)*t}pixelSpaceConversion(e,t,i){const r=Zd(1,e)*t,n=Wr(Zd(1,45)*t,r,i);return this.pixelsPerMeter(e,t)/n}createTileMatrix(e,t,i){const r=vd(ad(i.canonical));return xu.multiply(new Float64Array(16),e.globeMatrix,r)}createInversionMatrix(e,t){const{center:i}=e,r=xd(ad(t));return xu.rotateY(r,r,w(i.lng)),xu.rotateX(r,r,w(i.lat)),xu.scale(r,r,[e._pixelsPerMercatorPixel,e._pixelsPerMercatorPixel,1]),Float32Array.from(r)}pointCoordinate(e,t,i,r){return nd(e,t,i,!0)||new ep(0,0)}pointCoordinate3D(e,t,i){const r=this.pointCoordinate(e,t,i,0);return [r.x,r.y,r.z]}isPointAboveHorizon(e,t){return !nd(e,t.x,t.y,!1)}farthestPixelDistance(e){const t=function(e,t){const i=e.cameraToCenterDistance,r=e._centerAltitude*t,n=e._camera,o=e._camera.forward(),s=Mu.add([],Mu.scale([],o,-i),[0,0,r]),a=e.worldSize/(2*Math.PI),l=[0,0,-a],c=e.width/e.height,h=Math.tan(e.fovAboveCenter),u=Mu.scale([],n.up(),h),d=Mu.scale([],n.right(),h*c),p=Mu.normalize([],Mu.add([],Mu.add([],o,u),d)),f=[];let m;if(new Uu(s,p).closestPointOnSphere(l,a,f)){const t=Mu.add([],f,l),i=Mu.sub([],t,s);m=Math.cos(e.fovAboveCenter)*Mu.length(i);}else {const e=Mu.sub([],s,l),t=Mu.sub([],l,s);Mu.normalize(t,t);const i=Mu.length(e)-a;m=Math.sqrt(i*(i+2*a));const r=Math.acos(m/(a+i))-Math.acos(Mu.dot(o,t));m*=Math.cos(r);}return 1.01*m}(e,this.pixelsPerMeter(e.center.lat,e.worldSize)),i=Ed(e.zoom);if(i>0){const r=wg(e,Zd(1,e.center.lat)*e.worldSize),n=e.worldSize/(2*Math.PI),o=Math.max(e.width,e.height)/e.worldSize*Math.PI;return Wr(t,r+n*(1-Math.cos(o)),Math.pow(i,10))}return t}upVector(e,t,i){return _d(t,i,e,1)}upVectorScale(e){return {metersToTile:rd(gd(ad(e)))}}}function Hg(e){const t=e.parallels,i=!!t&&Math.abs(t[0]+t[1])<.01;switch(e.name){case\"mercator\":return new Ug(e);case\"equirectangular\":return new Og(e);case\"naturalEarth\":return new jg(e);case\"equalEarth\":return new kg(e);case\"winkelTripel\":return new qg(e);case\"albers\":return i?new Zg(e):new Cg(e);case\"lambertConformalConic\":return i?new Zg(e):new Ng(e);case\"globe\":return new $g(e)}throw new Error(`Invalid projection name: ${e.name}`)}const Wg=new da({\"symbol-placement\":new ca(Ct.layout_symbol[\"symbol-placement\"]),\"symbol-spacing\":new ca(Ct.layout_symbol[\"symbol-spacing\"]),\"symbol-avoid-edges\":new ca(Ct.layout_symbol[\"symbol-avoid-edges\"]),\"symbol-sort-key\":new ha(Ct.layout_symbol[\"symbol-sort-key\"]),\"symbol-z-order\":new ca(Ct.layout_symbol[\"symbol-z-order\"]),\"symbol-z-elevate\":new ca(Ct.layout_symbol[\"symbol-z-elevate\"]),\"icon-allow-overlap\":new ca(Ct.layout_symbol[\"icon-allow-overlap\"]),\"icon-ignore-placement\":new ca(Ct.layout_symbol[\"icon-ignore-placement\"]),\"icon-optional\":new ca(Ct.layout_symbol[\"icon-optional\"]),\"icon-rotation-alignment\":new ca(Ct.layout_symbol[\"icon-rotation-alignment\"]),\"icon-size\":new ha(Ct.layout_symbol[\"icon-size\"]),\"icon-text-fit\":new ha(Ct.layout_symbol[\"icon-text-fit\"]),\"icon-text-fit-padding\":new ha(Ct.layout_symbol[\"icon-text-fit-padding\"]),\"icon-image\":new ha(Ct.layout_symbol[\"icon-image\"]),\"icon-rotate\":new ha(Ct.layout_symbol[\"icon-rotate\"]),\"icon-padding\":new ca(Ct.layout_symbol[\"icon-padding\"]),\"icon-keep-upright\":new ca(Ct.layout_symbol[\"icon-keep-upright\"]),\"icon-offset\":new ha(Ct.layout_symbol[\"icon-offset\"]),\"icon-anchor\":new ha(Ct.layout_symbol[\"icon-anchor\"]),\"icon-pitch-alignment\":new ca(Ct.layout_symbol[\"icon-pitch-alignment\"]),\"text-pitch-alignment\":new ca(Ct.layout_symbol[\"text-pitch-alignment\"]),\"text-rotation-alignment\":new ca(Ct.layout_symbol[\"text-rotation-alignment\"]),\"text-field\":new ha(Ct.layout_symbol[\"text-field\"]),\"text-font\":new ha(Ct.layout_symbol[\"text-font\"]),\"text-size\":new ha(Ct.layout_symbol[\"text-size\"]),\"text-max-width\":new ha(Ct.layout_symbol[\"text-max-width\"]),\"text-line-height\":new ha(Ct.layout_symbol[\"text-line-height\"]),\"text-letter-spacing\":new ha(Ct.layout_symbol[\"text-letter-spacing\"]),\"text-justify\":new ha(Ct.layout_symbol[\"text-justify\"]),\"text-radial-offset\":new ha(Ct.layout_symbol[\"text-radial-offset\"]),\"text-variable-anchor\":new ca(Ct.layout_symbol[\"text-variable-anchor\"]),\"text-anchor\":new ha(Ct.layout_symbol[\"text-anchor\"]),\"text-max-angle\":new ca(Ct.layout_symbol[\"text-max-angle\"]),\"text-writing-mode\":new ca(Ct.layout_symbol[\"text-writing-mode\"]),\"text-rotate\":new ha(Ct.layout_symbol[\"text-rotate\"]),\"text-padding\":new ca(Ct.layout_symbol[\"text-padding\"]),\"text-keep-upright\":new ca(Ct.layout_symbol[\"text-keep-upright\"]),\"text-transform\":new ha(Ct.layout_symbol[\"text-transform\"]),\"text-offset\":new ha(Ct.layout_symbol[\"text-offset\"]),\"text-allow-overlap\":new ca(Ct.layout_symbol[\"text-allow-overlap\"]),\"text-ignore-placement\":new ca(Ct.layout_symbol[\"text-ignore-placement\"]),\"text-optional\":new ca(Ct.layout_symbol[\"text-optional\"]),visibility:new ca(Ct.layout_symbol.visibility)});var Xg={paint:new da({\"icon-opacity\":new ha(Ct.paint_symbol[\"icon-opacity\"]),\"icon-emissive-strength\":new ha(Ct.paint_symbol[\"icon-emissive-strength\"]),\"text-emissive-strength\":new ha(Ct.paint_symbol[\"text-emissive-strength\"]),\"icon-color\":new ha(Ct.paint_symbol[\"icon-color\"]),\"icon-halo-color\":new ha(Ct.paint_symbol[\"icon-halo-color\"]),\"icon-halo-width\":new ha(Ct.paint_symbol[\"icon-halo-width\"]),\"icon-halo-blur\":new ha(Ct.paint_symbol[\"icon-halo-blur\"]),\"icon-translate\":new ca(Ct.paint_symbol[\"icon-translate\"]),\"icon-translate-anchor\":new ca(Ct.paint_symbol[\"icon-translate-anchor\"]),\"icon-image-cross-fade\":new ha(Ct.paint_symbol[\"icon-image-cross-fade\"]),\"text-opacity\":new ha(Ct.paint_symbol[\"text-opacity\"]),\"text-color\":new ha(Ct.paint_symbol[\"text-color\"],{runtimeType:Gt,getOverride:e=>e.textColor,hasOverride:e=>!!e.textColor}),\"text-halo-color\":new ha(Ct.paint_symbol[\"text-halo-color\"]),\"text-halo-width\":new ha(Ct.paint_symbol[\"text-halo-width\"]),\"text-halo-blur\":new ha(Ct.paint_symbol[\"text-halo-blur\"]),\"text-translate\":new ca(Ct.paint_symbol[\"text-translate\"]),\"text-translate-anchor\":new ca(Ct.paint_symbol[\"text-translate-anchor\"])}),layout:Wg};class Yg{constructor(e){this.type=e.property.overrides?e.property.overrides.runtimeType:Nt,this.defaultValue=e;}evaluate(e){if(e.formattedSection){const t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression);}outputDefined(){return !1}serialize(){return null}}Is(Yg,\"FormatSectionOverride\",{omit:[\"defaultValue\"]});class Kg extends _a{constructor(e,t){super(e,Xg,t);}recalculate(e,t){super.recalculate(e,t),\"auto\"===this.layout.get(\"icon-rotation-alignment\")&&(this.layout._values[\"icon-rotation-alignment\"]=\"point\"!==this.layout.get(\"symbol-placement\")?\"map\":\"viewport\"),\"auto\"===this.layout.get(\"text-rotation-alignment\")&&(this.layout._values[\"text-rotation-alignment\"]=\"point\"!==this.layout.get(\"symbol-placement\")?\"map\":\"viewport\"),\"auto\"===this.layout.get(\"text-pitch-alignment\")&&(this.layout._values[\"text-pitch-alignment\"]=this.layout.get(\"text-rotation-alignment\")),\"auto\"===this.layout.get(\"icon-pitch-alignment\")&&(this.layout._values[\"icon-pitch-alignment\"]=this.layout.get(\"icon-rotation-alignment\"));const i=this.layout.get(\"text-writing-mode\");if(i){const e=[];for(const t of i)e.indexOf(t)<0&&e.push(t);this.layout._values[\"text-writing-mode\"]=e;}else this.layout._values[\"text-writing-mode\"]=\"point\"===this.layout.get(\"symbol-placement\")?[\"horizontal\"]:[\"horizontal\",\"vertical\"];this._setPaintOverrides();}getValueAndResolveTokens(e,t,i,r){const n=this.layout.get(e).evaluate(t,{},i,r),o=this._unevaluatedLayout._values[e];return o.isDataDriven()||yo(o.value)||!n?n:function(e,t){return t.replace(/{([^{}]+)}/g,((t,i)=>i in e?String(e[i]):\"\"))}(t.properties,n)}createBucket(e){return new cy(e)}queryRadius(){return 0}queryIntersectsFeature(){return !1}_setPaintOverrides(){for(const e of Xg.paint.overridableProperties){if(!Kg.hasPaintOverride(this.layout,e))continue;const t=this.paint.get(e),i=new Yg(t),r=new go(i,t.property.specification);let n=null;n=\"constant\"===t.value.kind||\"source\"===t.value.kind?new vo(\"source\",r):new bo(\"composite\",r,t.value.zoomStops,t.value._interpolationType),this.paint._values[e]=new aa(t.property,n,t.parameters);}}_handleOverridablePaintPropertyUpdate(e,t,i){return !(!this.layout||t.isDataDriven()||i.isDataDriven())&&Kg.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,t){const i=e.get(\"text-field\"),r=Xg.paint.properties[t];let n=!1;const o=e=>{for(const t of e)if(r.overrides&&r.overrides.hasOverride(t))return void(n=!0)};if(\"constant\"===i.value.kind&&i.value.value instanceof ui)o(i.value.value.sections);else if(\"source\"===i.value.kind){const e=t=>{n||(t instanceof yi&&mi(t.value)===Ht?o(t.value.sections):t instanceof Ti?o(t.sections):t.eachChild(e));},t=i.value;t._styleExpression&&e(t._styleExpression.expression);}return n}getProgramIds(){const e=0!==this.paint.get(\"icon-opacity\").constantOr(1),t=0!==this.paint.get(\"text-opacity\").constantOr(1),i=[];return e&&i.push(\"symbolIcon\"),t&&i.push(\"symbolSDF\"),i}getDefaultProgramParams(e,t){return {config:new $l(this,t),overrideFog:!1}}}const Jg=im.types,Qg=[{name:\"a_fade_opacity\",components:1,type:\"Uint8\",offset:0}];function ey(e,t,i,r,n,o,s,a,l,c,h,u,d){const p=a?Math.min(_g,Math.round(a[0])):0,f=a?Math.min(_g,Math.round(a[1])):0;e.emplaceBack(t,i,Math.round(32*r),Math.round(32*n),o,s,(p<<1)+(l?1:0),f,16*c,16*h,256*u,256*d);}function ty(e,t,i){e.emplaceBack(t,i);}function iy(e,t,i,r,n,o,s){e.emplaceBack(t,i,r,n,o,s);}function ry(e,t,i,r,n){const o=5*t+2;e.float32[o+0]=i,e.float32[o+1]=r,e.float32[o+2]=n;}function ny(e,t,i,r,n){e.emplaceBack(t,i,r,n),e.emplaceBack(t,i,r,n),e.emplaceBack(t,i,r,n),e.emplaceBack(t,i,r,n);}function oy(e){for(const t of e.sections)if(Vs(t.text))return !0;return !1}class sy{constructor(e){this.layoutVertexArray=new Pa,this.indexArray=new Va,this.programConfigurations=e,this.segments=new dl,this.dynamicLayoutVertexArray=new Ia,this.opacityVertexArray=new La,this.placedSymbolArray=new il,this.iconTransitioningVertexArray=new ka,this.globeExtVertexArray=new Ra,this.zOffsetVertexArray=new qa;}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length&&0===this.iconTransitioningVertexArray.length}upload(e,t,i,r,n){this.isEmpty()||(i&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Wm.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,Ym.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,Qg,!0),this.iconTransitioningVertexArray.length>0&&(this.iconTransitioningVertexBuffer=e.createVertexBuffer(this.iconTransitioningVertexArray,Jm.members,!0)),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,Xm.members,!0)),!this.zOffsetVertexBuffer&&(this.zOffsetVertexArray.length>0||n)&&(this.zOffsetVertexBuffer=e.createVertexBuffer(this.zOffsetVertexArray,Km.members,!0)),this.opacityVertexBuffer.itemSize=1),(i||r)&&this.programConfigurations.upload(e));}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.iconTransitioningVertexBuffer&&this.iconTransitioningVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy(),this.zOffsetVertexBuffer&&this.zOffsetVertexBuffer.destroy());}}Is(sy,\"SymbolBuffers\");class ay{constructor(e,t,i){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new i,this.segments=new dl,this.collisionVertexArray=new Na,this.collisionVertexArrayExt=new Ua;}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,Qm.members,!0),this.collisionVertexBufferExt=e.createVertexBuffer(this.collisionVertexArrayExt,e_.members,!0);}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy());}}Is(ay,\"CollisionBuffers\");class ly{constructor(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.fqid)),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.hasAnyIconTextFit=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=xu.identity([]),this.placementViewportMatrix=xu.identity([]);const t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=o_(this.zoom,t[\"text-size\"]),this.iconSizeData=o_(this.zoom,t[\"icon-size\"]);const i=this.layers[0].layout,r=i.get(\"symbol-sort-key\"),n=i.get(\"symbol-z-order\");this.canOverlap=i.get(\"text-allow-overlap\")||i.get(\"icon-allow-overlap\")||i.get(\"text-ignore-placement\")||i.get(\"icon-ignore-placement\"),this.sortFeaturesByKey=\"viewport-y\"!==n&&void 0!==r.constantOr(1),this.sortFeaturesByY=(\"viewport-y\"===n||\"auto\"===n&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=i.get(\"text-writing-mode\").map((e=>w_[e])),this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id)),this.sourceID=e.sourceID,this.projection=e.projection,this.hasAnyZOffset=!1,this.zOffsetSortDirty=!1,this.zOffsetBuffersNeedUpload=i.get(\"symbol-z-elevate\");}createArrays(){this.text=new sy(new Hl(this.layers,this.zoom,(e=>/^text/.test(e)))),this.icon=new sy(new Hl(this.layers,this.zoom,(e=>/^icon/.test(e)))),this.glyphOffsetArray=new ol,this.lineVertexArray=new sl,this.symbolInstances=new nl;}calculateGlyphDependencies(e,t,i,r,n){for(let i=0;i<e.length;i++){const o=e.codePointAt(i);if(void 0===o)break;if(t[o]=!0,r&&n&&o<=65535){const r=h_[e.charAt(i)];r&&(t[r.charCodeAt(0)]=!0);}}}populate(e,t,i,r){const n=this.layers[0],o=n.layout,s=\"globe\"===this.projection.name,a=o.get(\"text-font\"),l=o.get(\"text-field\"),c=o.get(\"icon-image\"),h=(\"constant\"!==l.value.kind||l.value.value instanceof ui&&!l.value.value.isEmpty()||l.value.value.toString().length>0)&&(\"constant\"!==a.value.kind||a.value.value.length>0),u=\"constant\"!==c.value.kind||!!c.value.value||Object.keys(c.parameters).length>0,d=o.get(\"symbol-sort-key\");if(this.features=[],!h&&!u)return;const p=t.iconDependencies,f=t.glyphDependencies,m=t.availableImages,_=new ea(this.zoom);for(const{feature:t,id:l,index:c,sourceLayerIndex:g}of e){const e=n._featureFilter.needGeometry,y=cp(t,e);if(!n._featureFilter.filter(_,y,i))continue;if(e||(y.geometry=lp(t,i,r)),s&&1!==t.type&&i.z<=5){const e=y.geometry,t=.98078528056,r=(e,r)=>{const n=_d(e.x,e.y,i,1),o=_d(r.x,r.y,i,1);return Mu.dot(n,o)<t};for(let t=0;t<e.length;t++)e[t]=np(e[t],r);}let x,v;if(h){const e=n.getValueAndResolveTokens(\"text-field\",y,i,m),t=ui.factory(e);oy(t)&&(this.hasRTLText=!0),(!this.hasRTLText||\"unavailable\"===Ks()||this.hasRTLText&&Qs.isParsed())&&(x=c_(t,n,y));}if(u){const e=n.getValueAndResolveTokens(\"icon-image\",y,i,m);v=e instanceof di?e:di.fromString(e);}if(!x&&!v)continue;const b=this.sortFeaturesByKey?d.evaluate(y,{},i):void 0;if(this.features.push({id:l,text:x,icon:v,index:c,sourceLayerIndex:g,geometry:y.geometry,properties:t.properties,type:Jg[t.type],sortKey:b}),v&&(p[v.namePrimary]=!0,v.nameSecondary&&(p[v.nameSecondary]=!0)),x){const e=a.evaluate(y,{},i).join(\",\"),t=\"map\"===o.get(\"text-rotation-alignment\")&&\"point\"!==o.get(\"symbol-placement\");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(w_.vertical)>=0;for(const i of x.sections)if(i.image)p[i.image.namePrimary]=!0;else {const r=Ls(x.toString()),n=i.fontStack||e,o=f[n]=f[n]||{};this.calculateGlyphDependencies(i.text,o,t,this.allowVerticalPlacement,r);}}}\"line\"===o.get(\"symbol-placement\")&&(this.features=function(e){const t={},i={},r=[];let n=0;function o(t){r.push(e[t]),n++;}function s(e,t,n){const o=i[e];return delete i[e],i[t]=o,r[o].geometry[0].pop(),r[o].geometry[0]=r[o].geometry[0].concat(n[0]),o}function a(e,i,n){const o=t[i];return delete t[i],t[e]=o,r[o].geometry[0].shift(),r[o].geometry[0]=n[0].concat(r[o].geometry[0]),o}function l(e,t,i){const r=i?t[0][t[0].length-1]:t[0][0];return `${e}:${r.x}:${r.y}`}for(let c=0;c<e.length;c++){const h=e[c],u=h.geometry,d=h.text?h.text.toString():null;if(!d){o(c);continue}const p=l(d,u),f=l(d,u,!0);if(p in i&&f in t&&i[p]!==t[f]){const e=a(p,f,u),n=s(p,f,r[e].geometry);delete t[p],delete i[f],i[l(d,r[n].geometry,!0)]=n,r[e].geometry=null;}else p in i?s(p,f,u):f in t?a(p,f,u):(o(c),t[p]=n-1,i[f]=n-1);}return r.filter((e=>e.geometry))}(this.features)),this.sortFeaturesByKey&&this.features.sort(((e,t)=>e.sortKey-t.sortKey));}update(e,t,i,r,n){const o=0!==Object.keys(e).length;if(o&&!this.stateDependentLayers.length)return;const s=o?this.stateDependentLayers:this.layers;this.text.programConfigurations.updatePaintArrays(e,t,s,i,r,n),this.icon.programConfigurations.updatePaintArrays(e,t,s,i,r,n);}updateZOffset(){const e=(e,t,r)=>{i+=t,i>e.length&&e.resize(i);for(let n=-t;n<0;n++)e.emplace(n+i,r);},t=(e,t,i)=>{r+=t,r>e.length&&e.resize(r);for(let n=-t;n<0;n++)e.emplace(n+r,i);};if(!this.zOffsetBuffersNeedUpload)return;this.zOffsetBuffersNeedUpload=!1;let i=0,r=0;for(let i=0;i<this.symbolInstances.length;i++){const r=this.symbolInstances.get(i),{numHorizontalGlyphVertices:n,numVerticalGlyphVertices:o,numIconVertices:s}=r,a=r.zOffset,l=s>0;if((n>0||o>0)&&(e(this.text.zOffsetVertexArray,n,a),e(this.text.zOffsetVertexArray,o,a)),l){const{placedIconSymbolIndex:e,verticalPlacedIconSymbolIndex:i}=r;e>=0&&t(this.icon.zOffsetVertexArray,s,a),i>=0&&t(this.icon.zOffsetVertexArray,r.numVerticalIconVertices,a);}}this.text.zOffsetVertexBuffer&&this.text.zOffsetVertexBuffer.updateData(this.text.zOffsetVertexArray),this.icon.zOffsetVertexBuffer&&this.icon.zOffsetVertexBuffer.updateData(this.icon.zOffsetVertexArray);}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return !this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.uploaded=!0;}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy();}getProjection(){return this.projectionInstance||(this.projectionInstance=Hg(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData();}addToLineVertexArray(e,t){const i=this.lineVertexArray.length;if(void 0!==e.segment)for(const{x:e,y:i}of t)this.lineVertexArray.emplaceBack(e,i);return {lineStartIndex:i,lineLength:this.lineVertexArray.length-i}}addSymbols(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m){const _=e.indexArray,g=e.layoutVertexArray,y=e.globeExtVertexArray,x=e.segments.prepareSegment(4*t.length,g,_,this.canOverlap?o.sortKey:void 0),v=this.glyphOffsetArray.length,b=x.vertexLength,w=this.allowVerticalPlacement&&s===w_.vertical?Math.PI/2:0,T=o.text&&o.text.sections;for(let r=0;r<t.length;r++){const{tl:n,tr:s,bl:c,br:h,texPrimary:u,texSecondary:v,pixelOffsetTL:b,pixelOffsetBR:E,minFontScaleX:M,minFontScaleY:A,glyphOffset:S,isSDF:I,sectionIndex:C}=t[r],z=x.vertexLength,D=S[1];if(ey(g,l.x,l.y,n.x,D+n.y,u.x,u.y,i,I,b.x,b.y,M,A),ey(g,l.x,l.y,s.x,D+s.y,u.x+u.w,u.y,i,I,E.x,b.y,M,A),ey(g,l.x,l.y,c.x,D+c.y,u.x,u.y+u.h,i,I,b.x,E.y,M,A),ey(g,l.x,l.y,h.x,D+h.y,u.x+u.w,u.y+u.h,i,I,E.x,E.y,M,A),a){const{x:t,y:i,z:r}=a.anchor,[n,o,s]=a.up;iy(y,t,i,r,n,o,s),iy(y,t,i,r,n,o,s),iy(y,t,i,r,n,o,s),iy(y,t,i,r,n,o,s),ny(e.dynamicLayoutVertexArray,t,i,r,w);}else ny(e.dynamicLayoutVertexArray,l.x,l.y,l.z,w);if(m){const t=v||u;ty(e.iconTransitioningVertexArray,t.x,t.y),ty(e.iconTransitioningVertexArray,t.x+t.w,t.y),ty(e.iconTransitioningVertexArray,t.x,t.y+t.h),ty(e.iconTransitioningVertexArray,t.x+t.w,t.y+t.h);}_.emplaceBack(z,z+1,z+2),_.emplaceBack(z+1,z+2,z+3),x.vertexLength+=4,x.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(S[0]),r!==t.length-1&&C===t[r+1].sectionIndex||e.programConfigurations.populatePaintArrays(g.length,o,o.index,{},d,p,f,T&&T[C]);}const E=a?a.anchor:l;e.placedSymbolArray.emplaceBack(E.x,E.y,E.z,l.x,l.y,v,this.glyphOffsetArray.length-v,b,c,h,l.segment,i?i[0]:0,i?i[1]:0,r[0],r[1],s,0,!1,0,u,0);}_commitLayoutVertex(e,t,i,r,n,o,s){e.emplaceBack(t,i,r,n,o,Math.round(s.x),Math.round(s.y));}_addCollisionDebugVertices(e,t,i,r,n,o,s){const a=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),l=a.vertexLength,c=s.tileAnchorX,h=s.tileAnchorY;for(let e=0;e<4;e++)i.collisionVertexArray.emplaceBack(0,0,0,0);i.collisionVertexArrayExt.emplaceBack(t,-e.padding,-e.padding),i.collisionVertexArrayExt.emplaceBack(t,e.padding,-e.padding),i.collisionVertexArrayExt.emplaceBack(t,e.padding,e.padding),i.collisionVertexArrayExt.emplaceBack(t,-e.padding,e.padding),this._commitLayoutVertex(i.layoutVertexArray,r,n,o,c,h,new y(e.x1,e.y1)),this._commitLayoutVertex(i.layoutVertexArray,r,n,o,c,h,new y(e.x2,e.y1)),this._commitLayoutVertex(i.layoutVertexArray,r,n,o,c,h,new y(e.x2,e.y2)),this._commitLayoutVertex(i.layoutVertexArray,r,n,o,c,h,new y(e.x1,e.y2)),a.vertexLength+=4;const u=i.indexArray;u.emplaceBack(l,l+1),u.emplaceBack(l+1,l+2),u.emplaceBack(l+2,l+3),u.emplaceBack(l+3,l),a.primitiveLength+=4;}_addTextDebugCollisionBoxes(e,t,i,r,n,o){for(let s=r;s<n;s++){const r=i.get(s),n=this.getSymbolInstanceTextSize(e,o,t,s);this._addCollisionDebugVertices(r,n,this.textCollisionBox,r.projectedAnchorX,r.projectedAnchorY,r.projectedAnchorZ,o);}}_addIconDebugCollisionBoxes(e,t,i,r,n,o){for(let s=r;s<n;s++){const r=i.get(s),n=this.getSymbolInstanceIconSize(e,t,o.placedIconSymbolIndex);this._addCollisionDebugVertices(r,n,this.iconCollisionBox,r.projectedAnchorX,r.projectedAnchorY,r.projectedAnchorZ,o);}}generateCollisionDebugBuffers(e,t){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new ay(Ba,t_.members,ka),this.iconCollisionBox=new ay(Ba,t_.members,ka);const i=a_(this.iconSizeData,e),r=a_(this.textSizeData,e);for(let n=0;n<this.symbolInstances.length;n++){const o=this.symbolInstances.get(n);this._addTextDebugCollisionBoxes(r,e,t,o.textBoxStartIndex,o.textBoxEndIndex,o),this._addTextDebugCollisionBoxes(r,e,t,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o),this._addIconDebugCollisionBoxes(i,e,t,o.iconBoxStartIndex,o.iconBoxEndIndex,o),this._addIconDebugCollisionBoxes(i,e,t,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex,o);}}getSymbolInstanceTextSize(e,t,i,r){const n=this.text.placedSymbolArray.get(t.rightJustifiedTextSymbolIndex>=0?t.rightJustifiedTextSymbolIndex:t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.leftJustifiedTextSymbolIndex>=0?t.leftJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex>=0?t.verticalPlacedTextSymbolIndex:r),o=s_(this.textSizeData,e,n)/r_;return this.tilePixelRatio*o}getSymbolInstanceIconSize(e,t,i){const r=this.icon.placedSymbolArray.get(i),n=s_(this.iconSizeData,e,r);return this.tilePixelRatio*n}_commitDebugCollisionVertexUpdate(e,t,i){e.emplaceBack(t,-i,-i),e.emplaceBack(t,i,-i),e.emplaceBack(t,i,i),e.emplaceBack(t,-i,i);}_updateTextDebugCollisionBoxes(e,t,i,r,n,o){for(let s=r;s<n;s++){const r=i.get(s),n=this.getSymbolInstanceTextSize(e,o,t,s);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,n,r.padding);}}_updateIconDebugCollisionBoxes(e,t,i,r,n,o){for(let s=r;s<n;s++){const r=i.get(s),n=this.getSymbolInstanceIconSize(e,t,o);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,n,r.padding);}}updateCollisionDebugBuffers(e,t){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const i=a_(this.iconSizeData,e),r=a_(this.textSizeData,e);for(let n=0;n<this.symbolInstances.length;n++){const o=this.symbolInstances.get(n);this._updateTextDebugCollisionBoxes(r,e,t,o.textBoxStartIndex,o.textBoxEndIndex,o),this._updateTextDebugCollisionBoxes(r,e,t,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o),this._updateIconDebugCollisionBoxes(i,e,t,o.iconBoxStartIndex,o.iconBoxEndIndex,o.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(i,e,t,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex,o.placedIconSymbolIndex);}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt);}_deserializeCollisionBoxesForSymbol(e,t,i,r,n,o,s,a,l){const c={};if(t<i){const{x1:i,y1:r,x2:n,y2:o,padding:s,projectedAnchorX:a,projectedAnchorY:l,projectedAnchorZ:h,tileAnchorX:u,tileAnchorY:d,featureIndex:p}=e.get(t);c.textBox={x1:i,y1:r,x2:n,y2:o,padding:s,projectedAnchorX:a,projectedAnchorY:l,projectedAnchorZ:h,tileAnchorX:u,tileAnchorY:d},c.textFeatureIndex=p;}if(r<n){const{x1:t,y1:i,x2:n,y2:o,padding:s,projectedAnchorX:a,projectedAnchorY:l,projectedAnchorZ:h,tileAnchorX:u,tileAnchorY:d,featureIndex:p}=e.get(r);c.verticalTextBox={x1:t,y1:i,x2:n,y2:o,padding:s,projectedAnchorX:a,projectedAnchorY:l,projectedAnchorZ:h,tileAnchorX:u,tileAnchorY:d},c.verticalTextFeatureIndex=p;}if(o<s){const{x1:t,y1:i,x2:r,y2:n,padding:s,projectedAnchorX:a,projectedAnchorY:l,projectedAnchorZ:h,tileAnchorX:u,tileAnchorY:d,featureIndex:p}=e.get(o);c.iconBox={x1:t,y1:i,x2:r,y2:n,padding:s,projectedAnchorX:a,projectedAnchorY:l,projectedAnchorZ:h,tileAnchorX:u,tileAnchorY:d},c.iconFeatureIndex=p;}if(a<l){const{x1:t,y1:i,x2:r,y2:n,padding:o,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:h,tileAnchorX:u,tileAnchorY:d,featureIndex:p}=e.get(a);c.verticalIconBox={x1:t,y1:i,x2:r,y2:n,padding:o,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:h,tileAnchorX:u,tileAnchorY:d},c.verticalIconFeatureIndex=p;}return c}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let t=0;t<this.symbolInstances.length;t++){const i=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,i.textBoxStartIndex,i.textBoxEndIndex,i.verticalTextBoxStartIndex,i.verticalTextBoxEndIndex,i.iconBoxStartIndex,i.iconBoxEndIndex,i.verticalIconBoxStartIndex,i.verticalIconBoxEndIndex));}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}hasIconTextFit(){return this.hasAnyIconTextFit}addIndicesForPlacedSymbol(e,t){const i=e.placedSymbolArray.get(t),r=i.vertexStartIndex+4*i.numGlyphs;for(let t=i.vertexStartIndex;t<r;t+=4)e.indexArray.emplaceBack(t,t+1,t+2),e.indexArray.emplaceBack(t+1,t+2,t+3);}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const t=Math.sin(e),i=Math.cos(e),r=[],n=[],o=[];for(let e=0;e<this.symbolInstances.length;++e){o.push(e);const s=this.symbolInstances.get(e);r.push(0|Math.round(t*s.tileAnchorX+i*s.tileAnchorY)),n.push(s.featureIndex);}return o.sort(((e,t)=>r[e]-r[t]||n[t]-n[e])),o}getSortedIndexesByZOffset(){if(!this.zOffsetSortDirty)return this.symbolInstanceIndexesSortedZOffset;if(!this.symbolInstanceIndexesSortedZOffset){this.symbolInstanceIndexesSortedZOffset=[];for(let e=0;e<this.symbolInstances.length;++e)this.symbolInstanceIndexesSortedZOffset.push(e);}return this.zOffsetSortDirty=!1,this.symbolInstanceIndexesSortedZOffset.sort(((e,t)=>this.symbolInstances.get(t).zOffset-this.symbolInstances.get(e).zOffset))}addToSortKeyRanges(e,t){const i=this.sortKeyRanges[this.sortKeyRanges.length-1];i&&i.sortKey===t?i.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1});}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const e of this.symbolInstanceIndexes){const t=this.symbolInstances.get(e);this.featureSortOrder.push(t.featureIndex);const{rightJustifiedTextSymbolIndex:i,centerJustifiedTextSymbolIndex:r,leftJustifiedTextSymbolIndex:n,verticalPlacedTextSymbolIndex:o,placedIconSymbolIndex:s,verticalPlacedIconSymbolIndex:a}=t;i>=0&&this.addIndicesForPlacedSymbol(this.text,i),r>=0&&r!==i&&this.addIndicesForPlacedSymbol(this.text,r),n>=0&&n!==r&&n!==i&&this.addIndicesForPlacedSymbol(this.text,n),o>=0&&this.addIndicesForPlacedSymbol(this.text,o),s>=0&&this.addIndicesForPlacedSymbol(this.icon,s),a>=0&&this.addIndicesForPlacedSymbol(this.icon,a);}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray);}}}Is(ly,\"SymbolBucket\",{omit:[\"layers\",\"collisionBoxArray\",\"features\",\"compareText\"]}),ly.MAX_GLYPHS=65535,ly.addDynamicAttributes=ny;var cy=ly;const hy=ba([{name:\"a_pos_normal\",components:2,type:\"Int16\"},{name:\"a_data\",components:4,type:\"Uint8\"},{name:\"a_linesofar\",components:1,type:\"Float32\"}],4),{members:uy}=hy,dy=ba([{name:\"a_packed\",components:4,type:\"Float32\"}]),{members:py}=dy,fy=im.types,my=Math.cos(Math.PI/180*37.5);class _y{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.fqid)),this.index=e.index,this.projection=e.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((e=>{this.gradients[e.id]={};})),this.layoutVertexArray=new Sa,this.layoutVertexArray2=new Ia,this.indexArray=new Va,this.programConfigurations=new Hl(e.layers,e.zoom),this.segments=new dl,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id));}populate(e,t,i,r){this.hasPattern=Pf(\"line\",this.layers,t);const n=this.layers[0].layout.get(\"line-sort-key\"),o=[];for(const{feature:t,id:s,index:a,sourceLayerIndex:l}of e){const e=this.layers[0]._featureFilter.needGeometry,c=cp(t,e);if(!this.layers[0]._featureFilter.filter(new ea(this.zoom),c,i))continue;const h=n?n.evaluate(c,{},i):void 0,u={id:s,properties:t.properties,type:t.type,sourceLayerIndex:l,index:a,geometry:e?c.geometry:lp(t,i,r),patterns:{},sortKey:h};o.push(u);}n&&o.sort(((e,t)=>e.sortKey-t.sortKey));const{lineAtlas:s,featureIndex:a}=t,l=this.addConstantDashes(s);for(const r of o){const{geometry:n,index:o,sourceLayerIndex:c}=r;if(l&&this.addFeatureDashes(r,s),this.hasPattern){const e=Rf(\"line\",this.layers,r,this.zoom,t);this.patternFeatures.push(e);}else this.addFeature(r,n,o,i,s.positions,t.availableImages,t.brightness);a.insert(e[o].feature,n,o,c,this.index);}}addConstantDashes(e){let t=!1;for(const i of this.layers){const r=i.paint.get(\"line-dasharray\").value,n=i.layout.get(\"line-cap\").value;if(\"constant\"!==r.kind||\"constant\"!==n.kind)t=!0;else {const t=n.value,i=r.value;if(!i)continue;e.addDash(i,t);}}return t}addFeatureDashes(e,t){const i=this.zoom;for(const r of this.layers){const n=r.paint.get(\"line-dasharray\").value,o=r.layout.get(\"line-cap\").value;if(\"constant\"===n.kind&&\"constant\"===o.kind)continue;let s,a;if(\"constant\"===n.kind){if(s=n.value,!s)continue}else s=n.evaluate({zoom:i},e);a=\"constant\"===o.kind?o.value:o.evaluate({zoom:i},e),t.addDash(s,a),e.patterns[r.id]=t.getKey(s,a);}}update(e,t,i,r,n){const o=0!==Object.keys(e).length;o&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(e,t,o?this.stateDependentLayers:this.layers,i,r,n);}addFeatures(e,t,i,r,n,o){for(const e of this.patternFeatures)this.addFeature(e,e.geometry,e.index,t,i,r,o);}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return !this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,py)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,uy),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0;}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy());}lineFeatureClips(e){if(e.properties&&e.properties.hasOwnProperty(\"mapbox_clip_start\")&&e.properties.hasOwnProperty(\"mapbox_clip_end\"))return {start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,t,i,r,n,o,s){const a=this.layers[0].layout,l=a.get(\"line-join\").evaluate(e,{}),c=a.get(\"line-cap\").evaluate(e,{}),h=a.get(\"line-miter-limit\"),u=a.get(\"line-round-limit\");this.lineClips=this.lineFeatureClips(e);for(const i of t)this.addLine(i,e,l,c,h,u);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,i,n,o,r,s);}addLine(e,t,i,r,n,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let t=0;t<e.length-1;t++)this.totalDistance+=e[t].dist(e[t+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance);}const s=\"Polygon\"===fy[t.type];let a=e.length;for(;a>=2&&e[a-1].equals(e[a-2]);)a--;let l=0;for(;l<a-1&&e[l].equals(e[l+1]);)l++;if(a<(s?3:2))return;\"bevel\"===i&&(n=1.05);const c=this.overscaling<=16?15*sr/(512*this.overscaling):0,h=this.segments.prepareSegment(10*a,this.layoutVertexArray,this.indexArray);let u,d,p,f,m;this.e1=this.e2=-1,s&&(u=e[a-2],m=e[l].sub(u)._unit()._perp());for(let t=l;t<a;t++){if(p=t===a-1?s?e[l+1]:void 0:e[t+1],p&&e[t].equals(p))continue;m&&(f=m),u&&(d=u),u=e[t],m=p?p.sub(u)._unit()._perp():f,f=f||m;let _=f.add(m);0===_.x&&0===_.y||_._unit();const g=f.x*m.x+f.y*m.y,y=_.x*m.x+_.y*m.y,x=0!==y?1/y:1/0,v=2*Math.sqrt(2-2*y),b=y<my&&d&&p,w=f.x*m.y-f.y*m.x>0;if(b&&t>l){const e=u.dist(d);if(e>2*c){const t=u.sub(u.sub(d)._mult(c/e)._round());this.updateDistance(d,t),this.addCurrentVertex(t,f,0,0,h),d=t;}}const T=d&&p;let E=T?i:s?\"butt\":r;if(T&&\"round\"===E&&(x<o?E=\"miter\":x<=2&&(E=\"fakeround\")),\"miter\"===E&&x>n&&(E=\"bevel\"),\"bevel\"===E&&(x>2&&(E=\"flipbevel\"),x<n&&(E=\"miter\")),d&&this.updateDistance(d,u),\"miter\"===E)_._mult(x),this.addCurrentVertex(u,_,0,0,h);else if(\"flipbevel\"===E){if(x>100)_=m.mult(-1);else {const e=x*f.add(m).mag()/f.sub(m).mag();_._perp()._mult(e*(w?-1:1));}this.addCurrentVertex(u,_,0,0,h),this.addCurrentVertex(u,_.mult(-1),0,0,h);}else if(\"bevel\"===E||\"fakeround\"===E){const e=-Math.sqrt(x*x-1),t=w?e:0,i=w?0:e;if(d&&this.addCurrentVertex(u,f,t,i,h),\"fakeround\"===E){const e=Math.round(180*v/Math.PI/20);for(let t=1;t<e;t++){let i=t/e;if(.5!==i){const e=i-.5;i+=i*e*(i-1)*((1.0904+g*(g*(3.55645-1.43519*g)-3.2452))*e*e+(.848013+g*(.215638*g-1.06021)));}const r=m.sub(f)._mult(i)._add(f)._unit()._mult(w?-1:1);this.addHalfVertex(u,r.x,r.y,!1,w,0,h);}}p&&this.addCurrentVertex(u,m,-t,-i,h);}else if(\"butt\"===E)this.addCurrentVertex(u,_,0,0,h);else if(\"square\"===E){const e=d?1:-1;d||this.addCurrentVertex(u,_,e,e,h),this.addCurrentVertex(u,_,0,0,h),d&&this.addCurrentVertex(u,_,e,e,h);}else \"round\"===E&&(d&&(this.addCurrentVertex(u,f,0,0,h),this.addCurrentVertex(u,f,1,1,h,!0)),p&&(this.addCurrentVertex(u,m,-1,-1,h,!0),this.addCurrentVertex(u,m,0,0,h)));if(b&&t<a-1){const e=u.dist(p);if(e>2*c){const t=u.add(p.sub(u)._mult(c/e)._round());this.updateDistance(u,t),this.addCurrentVertex(t,m,0,0,h),u=t;}}}}addCurrentVertex(e,t,i,r,n,o=!1){const s=t.y*r-t.x,a=-t.y-t.x*r;this.addHalfVertex(e,t.x+t.y*i,t.y-t.x*i,o,!1,i,n),this.addHalfVertex(e,s,a,o,!0,-r,n);}addHalfVertex({x:e,y:t},i,r,n,o,s,a){this.layoutVertexArray.emplaceBack((e<<1)+(n?1:0),(t<<1)+(o?1:0),Math.round(63*i)+128,Math.round(63*r)+128,1+(0===s?0:s<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const l=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,l),a.primitiveLength++),o?this.e2=l:this.e1=l;}updateScaledDistance(){if(this.lineClips){const e=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=e*this.lineClips.start+this.distance;}else this.lineSoFar=this.distance;}updateDistance(e,t){this.distance+=e.dist(t),this.updateScaledDistance();}}Is(_y,\"LineBucket\",{omit:[\"layers\",\"patternFeatures\"]});class gy{constructor(e,t,i,r){this.context=e,this.format=i,this.texture=e.gl.createTexture(),this.update(t,r);}update(e,i,r){const{width:n,height:o}=e,{context:s}=this,{gl:a}=s,{HTMLImageElement:l,HTMLCanvasElement:c,HTMLVideoElement:h,ImageData:u,ImageBitmap:d}=t;if(a.bindTexture(a.TEXTURE_2D,this.texture),s.pixelStoreUnpackFlipY.set(!1),s.pixelStoreUnpack.set(1),s.pixelStoreUnpackPremultiplyAlpha.set(this.format===a.RGBA&&(!i||!1!==i.premultiply)),r||this.size&&this.size[0]===n&&this.size[1]===o){const{x:t,y:i}=r||{x:0,y:0};if(e instanceof l||e instanceof c||e instanceof h||e instanceof u||d&&e instanceof d)a.texSubImage2D(a.TEXTURE_2D,0,t,i,a.RGBA,a.UNSIGNED_BYTE,e);else {let r=this.format,s=a.UNSIGNED_BYTE;this.format===a.R32F&&(r=a.RED,s=a.FLOAT),a.texSubImage2D(a.TEXTURE_2D,0,t,i,n,o,r,s,e.data);}}else if(this.size=[n,o],e instanceof l||e instanceof c||e instanceof h||e instanceof u||d&&e instanceof d){let t=this.format;this.format===a.R8&&(t=a.RED),a.texImage2D(a.TEXTURE_2D,0,this.format,t,a.UNSIGNED_BYTE,e);}else {let t=this.format,i=this.format,r=a.UNSIGNED_BYTE;this.format===a.DEPTH_COMPONENT&&(t=a.DEPTH_COMPONENT16,r=a.UNSIGNED_SHORT),this.format===a.R32F&&(r=a.FLOAT,i=a.RED),a.texImage2D(a.TEXTURE_2D,0,t,n,o,0,i,r,e.data);}this.useMipmap=Boolean(i&&i.useMipmap),this.useMipmap&&a.generateMipmap(a.TEXTURE_2D);}bind(e,t){const{context:i}=this,{gl:r}=i;r.bindTexture(r.TEXTURE_2D,this.texture),e!==this.minFilter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.useMipmap?e===r.NEAREST?r.NEAREST_MIPMAP_NEAREST:r.LINEAR_MIPMAP_NEAREST:e),this.minFilter=e),t!==this.wrapS&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,t),this.wrapS=t);}bindExtraParam(e,t,i,r){const{context:n}=this,{gl:o}=n;o.bindTexture(o.TEXTURE_2D,this.texture),t!==this.magFilter&&(o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,t),this.magFilter=t),e!==this.minFilter&&(o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,this.useMipmap?e===o.NEAREST?o.NEAREST_MIPMAP_NEAREST:o.LINEAR_MIPMAP_NEAREST:e),this.minFilter=e),i!==this.wrapS&&(o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,i),this.wrapS=i),r!==this.wrapT&&(o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,r),this.wrapT=r);}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null;}}class yy{constructor(e,t){this.context=e,this.texture=t;}bind(e,t){const{context:i}=this,{gl:r}=i;r.bindTexture(r.TEXTURE_2D,this.texture),e!==this.minFilter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,e),this.minFilter=e),t!==this.wrapS&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,t),this.wrapS=t);}}const xy=32,vy=33,by=new Uint16Array(8184);for(let e=0;e<2046;e++){let t=e+2,i=0,r=0,n=0,o=0,s=0,a=0;for(1&t?n=o=s=xy:i=r=a=xy;(t>>=1)>1;){const e=i+n>>1,l=r+o>>1;1&t?(n=i,o=r,i=s,r=a):(i=n,r=o,n=s,o=a),s=e,a=l;}const l=4*e;by[l+0]=i,by[l+1]=r,by[l+2]=n,by[l+3]=o;}const wy=new Uint16Array(2178),Ty=new Uint8Array(1089),Ey=new Uint16Array(1089);function My(e){return 0===e?-.03125:32===e?.03125:0}var Ay=ba([{name:\"a_pos\",type:\"Int16\",components:2},{name:\"a_texture_pos\",type:\"Int16\",components:2}]);const Sy={type:2,extent:sr,loadGeometry:()=>[[new y(0,0),new y(sr+1,0),new y(sr+1,sr+1),new y(0,sr+1),new y(0,0)]]};class Iy{constructor(e,t,i,r,n){this.tileID=e,this.uid=F(),this.uses=0,this.tileSize=t,this.tileZoom=i,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=n,r&&r.style&&(this._lastUpdatedBrightness=r.style.getBrightness()),this.expiredRequestCount=0,this.state=\"loading\",r&&r.transform&&(this.projection=r.transform.projection);}registerFadeDuration(e){const t=e+this.timeAdded;t<ht.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t);}wasRequested(){return \"errored\"===this.state||\"loaded\"===this.state||\"reloading\"===this.state}get tileTransform(){return this._tileTransform||(this._tileTransform=Tg(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(e,t,i){if(this.unloadVectorData(),this.state=\"loaded\",e){e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){const i={};if(!t)return i;for(const r of e){const e=r.layerIds.map((e=>t.getLayer(e))).filter(Boolean);if(0!==e.length){r.layers=e,r.stateDependentLayerIds&&(r.stateDependentLayers=r.stateDependentLayerIds.map((t=>e.filter((e=>e.id===t))[0])));for(const t of e)i[t.fqid]=r;}}return i}(e.buckets,t.style),this.hasSymbolBuckets=!1;for(const e in this.buckets){const t=this.buckets[e];if(t instanceof cy){if(this.hasSymbolBuckets=!0,!i)break;t.justReloaded=!0;}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const e in this.buckets){const t=this.buckets[e];if(t instanceof cy&&t.hasRTLText){this.hasRTLText=!0,Qs.isLoading()||Qs.isLoaded()||\"deferred\"!==Ks()||Js();break}}this.queryPadding=0;for(const e in this.buckets){const i=this.buckets[e],r=t.style.getOwnLayer(e);if(!r)continue;const n=r.queryRadius(i);this.queryPadding=Math.max(this.queryPadding,n);}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage),e.lineAtlas&&(this.lineAtlas=e.lineAtlas),this._lastUpdatedBrightness=e.brightness;}else this.collisionBoxArray=new el;}unloadVectorData(){if(this.hasData()){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state=\"unloaded\";}}getBucket(e){return this.buckets[e.fqid]}upload(e){for(const t in this.buckets){const i=this.buckets[t];i.uploadPending()&&i.upload(e);}const t=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new gy(e,this.imageAtlas.image,t.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new gy(e,this.glyphAtlasImage,t.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new gy(e,this.lineAtlas.image,t.ALPHA),this.lineAtlas.uploaded=!0);}prepare(e,t,i){if(this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture,i),!t||!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData)return;const r=t.style.getBrightness();(this._lastUpdatedBrightness||r)&&(this._lastUpdatedBrightness&&r&&Math.abs(this._lastUpdatedBrightness-r)<.001||(this._lastUpdatedBrightness=r,this.updateBuckets(void 0,t)));}queryRenderedFeatures(e,t,i,r,n,o,s,a){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:r,pixelPosMatrix:s,transform:o,params:n,tileTransform:this.tileTransform},e,t,i):{}}querySourceFeatures(e,t){const i=this.latestFeatureIndex;if(!i||!i.rawTileData)return;const r=i.loadVTLayers(),n=t?t.sourceLayer:\"\",o=r._geojsonTileLayer||r[n];if(!o)return;const s=Ro(t&&t.filter),{z:a,x:l,y:c}=this.tileID.canonical,h={z:a,x:l,y:c};for(let t=0;t<o.length;t++){const r=o.feature(t);if(s.needGeometry){const e=cp(r,!0);if(!s.filter(new ea(this.tileID.overscaledZ),e,this.tileID.canonical))continue}else if(!s.filter(new ea(this.tileID.overscaledZ),r))continue;const u=i.getId(r,n),d=new Cm(r,a,l,c,u);d.tile=h,e.push(d);}}hasData(){return \"loaded\"===this.state||\"reloading\"===this.state||\"expired\"===this.state}bucketsLoaded(){for(const e in this.buckets)if(this.buckets[e].uploadPending())return !1;return !0}patternsLoaded(){return !!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){const t=this.expirationTime;if(e.cacheControl){const t=ee(e.cacheControl);t[\"max-age\"]&&(this.expirationTime=Date.now()+1e3*t[\"max-age\"]);}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){const e=Date.now();let i=!1;if(this.expirationTime>e)i=!1;else if(t)if(this.expirationTime<t)i=!0;else {const r=this.expirationTime-t;r?this.expirationTime=e+Math.max(r,3e4):i=!0;}else i=!0;i?(this.expiredRequestCount++,this.state=\"expired\"):this.expiredRequestCount=0;}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(e,t){this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length&&t&&this.updateBuckets(e,t);}updateBuckets(e,t){if(!this.latestFeatureIndex)return;const i=this.latestFeatureIndex.loadVTLayers(),r=t.style.listImages(),n=t.style.getBrightness();for(const o in this.buckets){if(!t.style.hasLayer(o))continue;const s=this.buckets[o],a=s.layers[0].sourceLayer||\"_geojsonTileLayer\",l=i[a];let c={};if(e&&(c=e[a],!l||!c||0===Object.keys(c).length))continue;if(s.update(c,l,r,this.imageAtlas&&this.imageAtlas.patternPositions||{},n),s instanceof _y||s instanceof Lf){const e=t.style.getOwnSourceCache(s.layers[0].source);t._terrain&&t._terrain.enabled&&e&&s.programConfigurations.needsUpload&&t._terrain._clearRenderCacheForTile(e.id,this.tileID);}const h=t&&t.style&&t.style.getOwnLayer(o);h&&(this.queryPadding=Math.max(this.queryPadding,h.queryRadius(s)));}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return !this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ht.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0;}setHoldDuration(e){this.symbolFadeHoldUntil=ht.now()+e;}setTexture(e,t){const i=t.context,r=i.gl;this.texture=this.texture||t.getTileTexture(e.width),this.texture?this.texture.update(e,{useMipmap:!0}):(this.texture=new gy(i,e,r.RGBA,{useMipmap:!0}),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE));}setDependencies(e,t){const i={};for(const e of t)i[e]=!0;this.dependencies[e]=i;}hasDependency(e,t){for(const i of e){const e=this.dependencies[i];if(e)for(const i of t)if(e[i])return !0}return !1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(e,t){if(!t||\"mercator\"===t.name||this._tileDebugBuffer)return;const i=lp(Sy,this.tileID.canonical,this.tileTransform)[0],r=new Ta,n=new Wa;for(let e=0;e<i.length;e++){const{x:t,y:o}=i[e];r.emplaceBack(t,o),n.emplaceBack(e);}n.emplaceBack(0),this._tileDebugIndexBuffer=e.createIndexBuffer(n),this._tileDebugBuffer=e.createVertexBuffer(r,Pu.members),this._tileDebugSegments=dl.simpleSegment(0,0,r.length,n.length);}_makeTileBoundsBuffers(e,t){if(this._tileBoundsBuffer||!t||\"mercator\"===t.name)return;const i=lp(Sy,this.tileID.canonical,this.tileTransform)[0];let r,n;if(this.isRaster){const e=function(e,t){const i=Tg(e,t),r=Math.pow(2,e.z);for(let n=0;n<vy;n++)for(let o=0;o<vy;o++){const s=$d((e.x+(o+My(o))/xy)/r),a=Hd((e.y+(n+My(n))/xy)/r),l=t.project(s,a),c=n*vy+o;wy[2*c+0]=Math.round((l.x*i.scale-i.x)*sr),wy[2*c+1]=Math.round((l.y*i.scale-i.y)*sr);}Ty.fill(0),Ey.fill(0);for(let e=2045;e>=0;e--){const t=4*e,i=by[t+0],r=by[t+1],n=by[t+2],o=by[t+3],s=i+n>>1,a=r+o>>1,l=s+a-r,c=a+i-s,h=r*vy+i,u=o*vy+n,d=a*vy+s,p=Math.hypot((wy[2*h+0]+wy[2*u+0])/2-wy[2*d+0],(wy[2*h+1]+wy[2*u+1])/2-wy[2*d+1])>=16;Ty[d]=Ty[d]||(p?1:0),e<1022&&(Ty[d]=Ty[d]||Ty[(r+c>>1)*vy+(i+l>>1)]||Ty[(o+c>>1)*vy+(n+l>>1)]);}const n=new Ma,o=new Va;let s=0;function a(e,t){const i=t*vy+e;return 0===Ey[i]&&(n.emplaceBack(wy[2*i+0],wy[2*i+1],e*sr/xy,t*sr/xy),Ey[i]=++s),Ey[i]-1}function l(e,t,i,r,n,s){const c=e+i>>1,h=t+r>>1;if(Math.abs(e-n)+Math.abs(t-s)>1&&Ty[h*vy+c])l(n,s,e,t,c,h),l(i,r,n,s,c,h);else {const l=a(e,t),c=a(i,r),h=a(n,s);o.emplaceBack(l,c,h);}}return l(0,0,xy,xy,xy,0),l(xy,xy,0,0,0,xy),{vertices:n,indices:o}}(this.tileID.canonical,t);r=e.vertices,n=e.indices;}else {r=new Ma,n=new Va;for(const{x:e,y:t}of i)r.emplaceBack(e,t,0,0);const e=Cf(r.int16,void 0,4);for(let t=0;t<e.length;t+=3)n.emplaceBack(e[t],e[t+1],e[t+2]);}this._tileBoundsBuffer=e.createVertexBuffer(r,Ay.members),this._tileBoundsIndexBuffer=e.createIndexBuffer(n),this._tileBoundsSegments=dl.simpleSegment(0,0,r.length,n.length);}_makeGlobeTileDebugBuffers(e,t){const i=t.projection;if(!i||\"globe\"!==i.name||t.freezeTileCoverage)return;const r=this.tileID.canonical,n=xd(cd(r,t)),o=Ed(t.zoom);let s;o>0&&(s=xu.invert(new Float64Array(16),t.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(e,r,t,n,s,o),this._makeGlobeTileDebugTextBuffer(e,r,t,n,s,o);}_globePoint(e,t,i,r,n,o,s){let a=_d(e,t,i);if(o){const n=1<<i.z,l=Gd(r.center.lng),c=qd(r.center.lat),h=(i.x+.5)/n-l;let u=0;h>.5?u=-1:h<-.5&&(u=1);let d=(e/sr+i.x)/n+u,p=(t/sr+i.y)/n;d=(d-l)*r._pixelsPerMercatorPixel+l,p=(p-c)*r._pixelsPerMercatorPixel+c;const f=[d*r.worldSize,p*r.worldSize,0];Mu.transformMat4(f,f,o),a=ld(a,f,s);}return Mu.transformMat4(a,a,n)}_makeGlobeTileDebugBorderBuffer(e,t,i,r,n,o){const s=new Ta,a=new Wa,l=new Ea,c=(e,c,h,u,d)=>{const p=(h-e)/(d-1),f=(u-c)/(d-1),m=s.length;for(let h=0;h<d;h++){const u=e+h*p,d=c+h*f;s.emplaceBack(u,d);const _=this._globePoint(u,d,t,i,r,n,o);l.emplaceBack(_[0],_[1],_[2]),a.emplaceBack(m+h);}},h=sr;c(0,0,h,0,16),c(h,0,h,h,16),c(h,h,0,h,16),c(0,h,0,0,16),this._tileDebugIndexBuffer=e.createIndexBuffer(a),this._tileDebugBuffer=e.createVertexBuffer(s,Pu.members),this._globeTileDebugBorderBuffer=e.createVertexBuffer(l,Du.members),this._tileDebugSegments=dl.simpleSegment(0,0,s.length,a.length);}_makeGlobeTileDebugTextBuffer(e,t,i,r,n,o){const s=sr/4,a=new Ta,l=new Va,c=new Ea,h=25;l.reserve(32),a.reserve(h),c.reserve(h);const u=(e,t)=>h*e+t;for(let e=0;e<h;e++){const l=e*s;for(let e=0;e<h;e++){const h=e*s;a.emplaceBack(h,l);const u=this._globePoint(h,l,t,i,r,n,o);c.emplaceBack(u[0],u[1],u[2]);}}for(let e=0;e<4;e++)for(let t=0;t<4;t++){const i=u(e,t),r=u(e,t+1),n=u(e+1,t),o=u(e+1,t+1);l.emplaceBack(i,r,n),l.emplaceBack(n,r,o);}this._tileDebugTextIndexBuffer=e.createIndexBuffer(l),this._tileDebugTextBuffer=e.createVertexBuffer(a,Pu.members),this._globeTileDebugTextBuffer=e.createVertexBuffer(c,Du.members),this._tileDebugTextSegments=dl.simpleSegment(0,0,h,32);}}class Cy{constructor(e,t){this.max=e,this.onRemove=t,this.reset();}reset(){for(const e in this.data)for(const t of this.data[e])t.timeout&&clearTimeout(t.timeout),this.onRemove(t.value);return this.data={},this.order=[],this}add(e,t,i){const r=e.wrapped().key;void 0===this.data[r]&&(this.data[r]=[]);const n={value:t,timeout:void 0};if(void 0!==i&&(n.timeout=setTimeout((()=>{this.remove(e,n);}),i)),this.data[r].push(n),this.order.push(r),this.order.length>this.max){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e);}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}getByKey(e){const t=this.data[e];return t?t[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,t){if(!this.has(e))return this;const i=e.wrapped().key,r=void 0===t?0:this.data[i].indexOf(t),n=this.data[i][r];return this.data[i].splice(r,1),n.timeout&&clearTimeout(n.timeout),0===this.data[i].length&&delete this.data[i],this.onRemove(n.value),this.order.splice(this.order.indexOf(i),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e);}return this}filter(e){const t=[];for(const i in this.data)for(const r of this.data[i])e(r.value)||t.push(r);for(const e of t)this.remove(e.value.tileID,e);}}class zy{constructor(e,t,i,r){this.id=zy.uniqueIdxCounter,zy.uniqueIdxCounter++,this.context=e;const n=e.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(i),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||r||t.destroy();}bind(){this.context.bindElementBuffer.set(this.buffer);}updateData(e){this.id=zy.uniqueIdxCounter,zy.uniqueIdxCounter++;const t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer);}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer);}}zy.uniqueIdxCounter=0;const Dy={Int8:\"BYTE\",Uint8:\"UNSIGNED_BYTE\",Int16:\"SHORT\",Uint16:\"UNSIGNED_SHORT\",Int32:\"INT\",Uint32:\"UNSIGNED_INT\",Float32:\"FLOAT\"};class Py{constructor(e,t,i,r,n,o){this.length=t.length,this.attributes=i,this.itemSize=t.bytesPerElement,this.dynamicDraw=r,this.instanceCount=o,this.context=e;const s=e.gl;this.buffer=s.createBuffer(),e.bindVertexBuffer.set(this.buffer),s.bufferData(s.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?s.DYNAMIC_DRAW:s.STATIC_DRAW),this.dynamicDraw||n||t.destroy();}bind(){this.context.bindVertexBuffer.set(this.buffer);}updateData(e){const t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer);}enableAttributes(e,t){for(let i=0;i<this.attributes.length;i++){const r=t.attributes[this.attributes[i].name];void 0!==r&&e.enableVertexAttribArray(r);}}setVertexAttribPointers(e,t,i){for(let r=0;r<this.attributes.length;r++){const n=this.attributes[r],o=t.attributes[n.name];void 0!==o&&e.vertexAttribPointer(o,n.components,e[Dy[n.type]],!1,this.itemSize,n.offset+this.itemSize*(i||0));}}setVertexAttribDivisor(e,t,i){for(let r=0;r<this.attributes.length;r++){const n=t.attributes[this.attributes[r].name];void 0!==n&&this.instanceCount&&this.instanceCount>0&&e.vertexAttribDivisor(n,i);}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer);}}class Ry{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1;}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default);}}class Ly extends Ry{getDefault(){return li.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1);}}class ky extends Ry{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1);}}class Oy extends Ry{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1);}}class By extends Ry{getDefault(){return [!0,!0,!0,!0]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1);}}class Fy extends Ry{getDefault(){return !0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1);}}class Ny extends Ry{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1);}}class Uy extends Ry{getDefault(){return {func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1);}}class Vy extends Ry{getDefault(){const e=this.gl;return [e.KEEP,e.KEEP,e.KEEP]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1);}}class jy extends Ry{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1;}}class Gy extends Ry{getDefault(){return [0,1]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1);}}class qy extends Ry{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1;}}class Zy extends Ry{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1);}}class $y extends Ry{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1;}}class Hy extends Ry{getDefault(){const e=this.gl;return [e.ONE,e.ZERO,e.ONE,e.ZERO]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1);}}class Wy extends Ry{getDefault(){return li.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1);}}class Xy extends Ry{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquationSeparate(e,e),this.current=e,this.dirty=!1);}}class Yy extends Ry{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1;}}class Ky extends Ry{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1);}}class Jy extends Ry{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1);}}let Qy=class extends Ry{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1);}};class ex extends Ry{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1);}}class tx extends Ry{getDefault(){const e=this.gl;return [0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1);}}class ix extends Ry{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1;}}class rx extends Ry{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1;}}class nx extends Ry{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1;}}class ox extends Ry{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1;}}class sx extends Ry{getDefault(){return null}set(e){const t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1;}}class ax extends Ry{getDefault(){return null}set(e){this.gl&&(e!==this.current||this.dirty)&&(this.gl.bindVertexArray(e),this.current=e,this.dirty=!1);}}class lx extends Ry{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1;}}class cx extends Ry{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1;}}class hx extends Ry{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1;}}class ux extends Ry{constructor(e,t){super(e),this.context=e,this.parent=t;}getDefault(){return null}}class dx extends ux{setDirty(){this.dirty=!0;}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1;}}class px extends ux{attachment(){return this.gl.DEPTH_ATTACHMENT}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,this.attachment(),t.RENDERBUFFER,e),this.current=e,this.dirty=!1;}}class fx extends ux{attachment(){return this.gl.DEPTH_ATTACHMENT}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,this.attachment(),t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1;}}class mx extends px{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class _x{constructor(e,t,i,r,n){this.context=e,this.width=t,this.height=i;const o=this.framebuffer=e.gl.createFramebuffer();r&&(this.colorAttachment=new dx(e,o)),n&&(this.depthAttachmentType=n,this.depthAttachment=\"renderbuffer\"===n?new px(e,o):new fx(e,o));}destroy(){const e=this.context.gl;if(this.colorAttachment){const t=this.colorAttachment.get();t&&e.deleteTexture(t);}if(this.depthAttachment&&this.depthAttachmentType)if(\"renderbuffer\"===this.depthAttachmentType){const t=this.depthAttachment.get();t&&e.deleteRenderbuffer(t);}else {const t=this.depthAttachment.get();t&&e.deleteTexture(t);}e.deleteFramebuffer(this.framebuffer);}}class gx{constructor(e,t,i){this.func=e,this.mask=t,this.range=i;}}gx.ReadOnly=!1,gx.ReadWrite=!0,gx.disabled=new gx(519,gx.ReadOnly,[0,1]);const yx=7680;class xx{constructor(e,t,i,r,n,o){this.test=e,this.ref=t,this.mask=i,this.fail=r,this.depthFail=n,this.pass=o;}}xx.disabled=new xx({func:519,mask:0},0,0,yx,yx,yx);const vx=771;class bx{constructor(e,t,i,r){this.blendFunction=e,this.blendColor=t,this.mask=i,this.blendEquation=r;}}bx.Replace=[1,0,1,0],bx.disabled=new bx(bx.Replace,li.transparent,[!1,!1,!1,!1]),bx.unblended=new bx(bx.Replace,li.transparent,[!0,!0,!0,!0]),bx.alphaBlended=new bx([1,vx,1,vx],li.transparent,[!0,!0,!0,!0]),bx.multiply=new bx([774,0,774,0],li.transparent,[!0,!0,!0,!0]);const wx=1029,Tx=2305;class Ex{constructor(e,t,i){this.enable=e,this.mode=t,this.frontFace=i;}}Ex.disabled=new Ex(!1,wx,Tx),Ex.backCCW=new Ex(!0,wx,Tx),Ex.backCW=new Ex(!0,wx,2304),Ex.frontCW=new Ex(!0,1028,2304),Ex.frontCCW=new Ex(!0,1028,Tx);class Mx{constructor(e){this.gl=e,this.clearColor=new Ly(this),this.clearDepth=new ky(this),this.clearStencil=new Oy(this),this.colorMask=new By(this),this.depthMask=new Fy(this),this.stencilMask=new Ny(this),this.stencilFunc=new Uy(this),this.stencilOp=new Vy(this),this.stencilTest=new jy(this),this.depthRange=new Gy(this),this.depthTest=new qy(this),this.depthFunc=new Zy(this),this.blend=new $y(this),this.blendFunc=new Hy(this),this.blendColor=new Wy(this),this.blendEquation=new Xy(this),this.cullFace=new Yy(this),this.cullFaceSide=new Ky(this),this.frontFace=new Jy(this),this.program=new Qy(this),this.activeTexture=new ex(this),this.viewport=new tx(this),this.bindFramebuffer=new ix(this),this.bindRenderbuffer=new rx(this),this.bindTexture=new nx(this),this.bindVertexBuffer=new ox(this),this.bindElementBuffer=new sx(this),this.bindVertexArrayOES=new ax(this),this.pixelStoreUnpack=new lx(this),this.pixelStoreUnpackPremultiplyAlpha=new cx(this),this.pixelStoreUnpackFlipY=new hx(this),this.extTextureFilterAnisotropic=e.getExtension(\"EXT_texture_filter_anisotropic\")||e.getExtension(\"MOZ_EXT_texture_filter_anisotropic\")||e.getExtension(\"WEBKIT_EXT_texture_filter_anisotropic\"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=e.getExtension(\"WEBGL_debug_renderer_info\"),this.extDebugRendererInfo&&(this.renderer=e.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=e.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.extTextureFloatLinear=e.getExtension(\"OES_texture_float_linear\"),this.extRenderToTextureHalfFloat=e.getExtension(\"EXT_color_buffer_half_float\"),this.extTimerQuery=e.getExtension(\"EXT_disjoint_timer_query_webgl2\"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE);}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault();}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArrayOES.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0;}createIndexBuffer(e,t,i){return new zy(this,e,t,i)}createVertexBuffer(e,t,i,r,n){return new Py(this,e,t,i,r,n)}createRenderbuffer(e,t,i){const r=this.gl,n=r.createRenderbuffer();return this.bindRenderbuffer.set(n),r.renderbufferStorage(r.RENDERBUFFER,e,t,i),this.bindRenderbuffer.set(null),n}createFramebuffer(e,t,i,r){return new _x(this,e,t,i,r)}clear({color:e,depth:t,stencil:i,colorMask:r}){const n=this.gl;let o=0;e&&(o|=n.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set(r||[!0,!0,!0,!0])),void 0!==t&&(o|=n.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(t),this.depthMask.set(!0)),void 0!==i&&(o|=n.STENCIL_BUFFER_BIT,this.clearStencil.set(i),this.stencilMask.set(255)),n.clear(o);}setCullFace(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace));}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1);}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1);}setColorMode(e){x(e.blendFunction,bx.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor),e.blendEquation?this.blendEquation.set(e.blendEquation):this.blendEquation.setDefault()),this.colorMask.set(e.mask);}unbindVAO(){this.bindVertexArrayOES.set(null);}}class Ax extends It{constructor(e,t,i){super(),this.id=e,this._onlySymbols=i,t.on(\"data\",(e=>{\"source\"===e.dataType&&\"metadata\"===e.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&\"source\"===e.dataType&&\"content\"===e.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform));})),t.on(\"error\",(()=>{this._sourceErrored=!0;})),this._source=t,this._tiles={},this._cache=new Cy(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=t.minTileCacheSize,this._maxTileCacheSize=t.maxTileCacheSize,this._loadedParentTiles={},this.castsShadows=!1,this._coveredTiles={},this._shadowCasterTiles={},this._state=new zm,this._isRaster=\"raster\"===this._source.type||\"raster-dem\"===this._source.type||\"custom\"===this._source.type&&\"raster\"===this._source._dataType;}onAdd(e){this.map=e,this._minTileCacheSize=void 0===this._minTileCacheSize&&e?e._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=void 0===this._maxTileCacheSize&&e?e._maxTileCacheSize:this._maxTileCacheSize;}loaded(){if(this._sourceErrored)return !0;if(!this._sourceLoaded)return !1;if(!this._source.loaded())return !1;for(const e in this._tiles){const t=this._tiles[e];if(\"errored\"!==t.state&&(\"loaded\"!==t.state||!t.bucketsLoaded()))return !1}return !0}getSource(){return this._source}pause(){this._paused=!0;}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform);}_loadTile(e,t){return e.isSymbolTile=this._onlySymbols,e.isExtraShadowCaster=this._shadowCasterTiles[e.tileID.key],this._source.loadTile(e,t)}_unloadTile(e){if(this._source.unloadTile)return this._source.unloadTile(e,(()=>{}))}_abortTile(e){if(this._source.abortTile)return this._source.abortTile(e,(()=>{}))}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const t in this._tiles){const i=this._tiles[t];i.upload(e),i.prepare(this.map.style.imageManager,this.map?this.map.painter:null,this._source.scope);}}getIds(){return L(this._tiles).map((e=>e.tileID)).sort(Sx).map((e=>e.key))}getRenderableIds(e,t){const i=[];for(const r in this._tiles)this._isIdRenderable(+r,e,t)&&i.push(this._tiles[r]);return e?i.sort(((e,t)=>{const i=e.tileID,r=t.tileID,n=new y(i.canonical.x,i.canonical.y)._rotate(this.transform.angle),o=new y(r.canonical.x,r.canonical.y)._rotate(this.transform.angle);return i.overscaledZ-r.overscaledZ||o.y-n.y||o.x-n.x})).map((e=>e.tileID.key)):i.map((e=>e.tileID)).sort(Sx).map((e=>e.key))}hasRenderableParent(e){const t=this.findLoadedParent(e,0);return !!t&&this._isIdRenderable(t.tileID.key)}_isIdRenderable(e,t,i){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())&&(i||!this._shadowCasterTiles[e])}reload(){if(this._paused)this._shouldReloadOnResume=!0;else {this._cache.reset();for(const e in this._tiles)\"errored\"!==this._tiles[e].state&&this._reloadTile(+e,\"reloading\");}}_reloadTile(e,t){const i=this._tiles[e];i&&(\"loading\"!==i.state&&(i.state=t),this._loadTile(i,this._tileLoaded.bind(this,i,e,t)));}_tileLoaded(e,t,i,r){if(r)if(e.state=\"errored\",404!==r.status)this._source.fire(new St(r,{tile:e}));else if(\"raster-dem\"===this._source.type&&this.usedForTerrain&&this.map.painter.terrain){const e=this.map.painter.terrain;this.update(this.transform,e.getScaledDemTileSize(),!0),e.resetTileLookupCache(this.id);}else this.update(this.transform);else e.timeAdded=ht.now(),\"expired\"===i&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(t,e),\"raster-dem\"===this._source.type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new At(\"data\",{dataType:\"source\",tile:e,coord:e.tileID,sourceCacheId:this.id}));}_backfillDEM(e){const t=this.getRenderableIds();for(let r=0;r<t.length;r++){const n=t[r];if(e.neighboringTiles&&e.neighboringTiles[n]){const t=this.getTileByID(n);i(e,t),i(t,e);}}function i(e,t){if(!e.dem||e.dem.borderReady)return;e.needsHillshadePrepare=!0,e.needsDEMTextureUpload=!0;let i=t.tileID.canonical.x-e.tileID.canonical.x;const r=t.tileID.canonical.y-e.tileID.canonical.y,n=Math.pow(2,e.tileID.canonical.z),o=t.tileID.key;0===i&&0===r||Math.abs(r)>1||(Math.abs(i)>1&&(1===Math.abs(i+n)?i+=n:1===Math.abs(i-n)&&(i-=n)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,i,r),e.neighboringTiles&&e.neighboringTiles[o]&&(e.neighboringTiles[o].backfilled=!0)));}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,t,i,r){for(const n in this._tiles){let o=this._tiles[n];if(r[n]||!o.hasData()||o.tileID.overscaledZ<=t||o.tileID.overscaledZ>i)continue;let s=o.tileID;for(;o&&o.tileID.overscaledZ>t+1;){const e=o.tileID.scaledTo(o.tileID.overscaledZ-1);o=this._tiles[e.key],o&&o.hasData()&&(s=e);}let a=s;for(;a.overscaledZ>t;)if(a=a.scaledTo(a.overscaledZ-1),e[a.key]){r[s.key]=s;break}}}findLoadedParent(e,t){if(e.key in this._loadedParentTiles){const i=this._loadedParentTiles[e.key];return i&&i.tileID.overscaledZ>=t?i:null}for(let i=e.overscaledZ-1;i>=t;i--){const t=e.scaledTo(i),r=this._getLoadedTile(t);if(r)return r}}_getLoadedTile(e){const t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(this._source.reparseOverscaled?e.wrapped().key:e.canonical.key)}updateCacheSize(e,t){t=t||this._source.tileSize;const i=Math.ceil(e.width/t)+1,r=Math.ceil(e.height/t)+1,n=Math.floor(i*r*5),o=\"number\"==typeof this._minTileCacheSize?Math.max(this._minTileCacheSize,n):n,s=\"number\"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,o):o;this._cache.setMaxSize(s);}handleWrapJump(e){const t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){const e={};for(const i in this._tiles){const r=this._tiles[i];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+t),e[r.tileID.key]=r;}this._tiles=e;for(const e in this._timers)clearTimeout(this._timers[e]),delete this._timers[e];for(const e in this._tiles)this._setTileReloadTimer(+e,this._tiles[e]);}}update(e,t,i,r){if(this.transform=e,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage)return;if(this.usedForTerrain&&!i)return;let n;if(this.updateCacheSize(e,t),\"globe\"!==this.transform.projection.name&&this.handleWrapJump(this.transform.center.lng),this._shadowCasterTiles={},this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?n=e.getVisibleUnwrappedCoordinates(this._source.tileID).map((e=>new Bu(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y))):(n=e.coveringTiles({tileSize:t||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!i,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(n=n.filter((e=>this._source.hasTile(e))))):n=[],n.length>0&&this.castsShadows&&r&&\"globe\"!==this.transform.projection.name&&!this.usedForTerrain&&!Ix(this._source.type)){const o=e.coveringZoomLevel({tileSize:t||this._source.tileSize,roundZoom:this._source.roundZoom&&!i}),s=Math.min(o,this._source.maxzoom),a=e.extendTileCoverForShadows(n,r,s);for(const e of a)this._shadowCasterTiles[e.key]=!0,n.push(e);}const o=this._updateRetainedTiles(n);if(Ix(this._source.type)&&0!==n.length){const e={},t={},i=Object.keys(o);for(const r of i){const i=o[r],n=this._tiles[r];if(!n||n.fadeEndTime&&n.fadeEndTime<=ht.now())continue;const s=this.findLoadedParent(i,Math.max(i.overscaledZ-Ax.maxOverzooming,this._source.minzoom));s&&(this._addTile(s.tileID),e[s.tileID.key]=s.tileID),t[r]=i;}const r=n[n.length-1].overscaledZ;for(const e in this._tiles){const i=this._tiles[e];if(o[e]||!i.hasData())continue;let n=i.tileID;for(;n.overscaledZ>r;){n=n.scaledTo(n.overscaledZ-1);const r=this._tiles[n.key];if(r&&r.hasData()&&t[n.key]){o[e]=i.tileID;break}}}for(const t in e)o[t]||(this._coveredTiles[t]=!0,o[t]=e[t]);}for(const e in o)this._tiles[e].clearFadeHold();const s=function(e,t){const i=[];for(const r in e)r in t||i.push(r);return i}(this._tiles,o);for(const e of s){const t=this._tiles[e];t.hasSymbolBuckets&&!t.holdingForFade()?t.setHoldDuration(this.map._fadeDuration):t.hasSymbolBuckets&&!t.symbolFadeFinished()||this._removeTile(+e);}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate();}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(+e);}_updateRetainedTiles(e){const t={};if(0===e.length)return t;const i={},r=e.reduce(((e,t)=>Math.min(e,t.overscaledZ)),1/0),n=e[0].overscaledZ,o=Math.max(n-Ax.maxOverzooming,this._source.minzoom),s=Math.max(n+Ax.maxUnderzooming,this._source.minzoom),a={};for(const i of e){const e=this._addTile(i);t[i.key]=i,e.hasData()||r<this._source.maxzoom&&(a[i.key]=i);}this._retainLoadedChildren(a,r,s,t);for(const r of e){let e=this._tiles[r.key];if(e.hasData())continue;if(r.canonical.z>=this._source.maxzoom){const e=r.children(this._source.maxzoom)[0],i=this.getTile(e);if(i&&i.hasData()){t[e.key]=e;continue}}else {const e=r.children(this._source.maxzoom);if(t[e[0].key]&&t[e[1].key]&&t[e[2].key]&&t[e[3].key])continue}let n=e.wasRequested();for(let s=r.overscaledZ-1;s>=o;--s){const o=r.scaledTo(s);if(i[o.key])break;if(i[o.key]=!0,e=this.getTile(o),!e&&n&&(e=this._addTile(o)),e&&(t[o.key]=o,n=e.wasRequested(),e.hasData()))break}}return t}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const t=[];let i,r=this._tiles[e].tileID;for(;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){i=this._loadedParentTiles[r.key];break}t.push(r.key);const e=r.scaledTo(r.overscaledZ-1);if(i=this._getLoadedTile(e),i)break;r=e;}for(const e of t)this._loadedParentTiles[e]=i;}}_addTile(e){let t=this._tiles[e.key];if(t)return !0!==t.isExtraShadowCaster||!!this._shadowCasterTiles[e.key]||this._reloadTile(e.key,\"reloading\"),t;t=this._cache.getAndRemove(e),t&&(this._setTileReloadTimer(e.key,t),t.tileID=e,this._state.initializeTileState(t,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,t)));const i=Boolean(t);if(!i){const i=this.map?this.map.painter:null;t=new Iy(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,i,this._isRaster),this._loadTile(t,this._tileLoaded.bind(this,t,e.key,t.state));}return t?(t.uses++,this._tiles[e.key]=t,i||this._source.fire(new At(\"dataloading\",{tile:t,coord:t.tileID,dataType:\"source\"})),t):null}_setTileReloadTimer(e,t){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const i=t.getExpiryTimeout();i&&(this._timers[e]=setTimeout((()=>{this._reloadTile(e,\"expired\"),delete this._timers[e];}),i));}_removeTile(e){const t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&\"reloading\"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))));}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(+e);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id);}tilesIn(e,t,i){const r=[],n=this.transform;if(!n)return r;const o=\"globe\"===n.projection.name,s=Gd(n.center.lng);for(const a in this._tiles){const l=this._tiles[a];if(i&&l.clearQueryDebugViz(),l.holdingForFade())continue;let c;if(o){const e=l.tileID.canonical;if(0===e.z){const t=[Math.abs(z(s,...Cx(e,-1))-s),Math.abs(z(s,...Cx(e,1))-s)];c=[0,2*t.indexOf(Math.min(...t))-1];}else {const t=[Math.abs(z(s,...Cx(e,-1))-s),Math.abs(z(s,...Cx(e,0))-s),Math.abs(z(s,...Cx(e,1))-s)];c=[t.indexOf(Math.min(...t))-1];}}else c=[0];for(const i of c){const o=e.containsTile(l,n,t,i);o&&r.push(o);}}return r}getShadowCasterCoordinates(){return this._getRenderableCoordinates(!1,!0)}getVisibleCoordinates(e){return this._getRenderableCoordinates(e)}_getRenderableCoordinates(e,t){const i=this.getRenderableIds(e,t).map((e=>this._tiles[e].tileID));for(const e of i)e.projMatrix=this.transform.calculateProjMatrix(e.toUnwrapped());return i}sortCoordinatesByDistance(e){const t=e.slice(),i=this.transform._camera.position,r=this.transform._camera.forward(),n={};for(const e of t){const t=1/(1<<e.canonical.z);n[e.key]=((e.canonical.x+.5)*t+e.wrap-i[0])*r[0]+((e.canonical.y+.5)*t-i[1])*r[1]-i[2]*r[2];}return t.sort(((e,t)=>n[e.key]-n[t.key])),t}hasTransition(){if(this._source.hasTransition())return !0;if(Ix(this._source.type))for(const e in this._tiles){const t=this._tiles[e];if(void 0!==t.fadeEndTime&&t.fadeEndTime>=ht.now())return !0}return !1}setFeatureState(e,t,i){this._state.updateState(e=e||\"_geojsonTileLayer\",t,i);}removeFeatureState(e,t,i){this._state.removeFeatureState(e=e||\"_geojsonTileLayer\",t,i);}getFeatureState(e,t){return this._state.getState(e=e||\"_geojsonTileLayer\",t)}setDependencies(e,t,i){const r=this._tiles[e];r&&r.setDependencies(t,i);}reloadTilesForDependencies(e,t){for(const i in this._tiles)this._tiles[i].hasDependency(e,t)&&this._reloadTile(+i,\"reloading\");this._cache.filter((i=>!i.hasDependency(e,t)));}_preloadTiles(e,t){if(!this._sourceLoaded){const i=()=>{this._sourceLoaded&&(this._source.off(\"data\",i),this._preloadTiles(e,t));};return void this._source.on(\"data\",i)}const i=new Map,r=Array.isArray(e)?e:[e],n=this.map.painter.terrain,o=this.usedForTerrain&&n?n.getScaledDemTileSize():this._source.tileSize;for(const e of r){const t=e.coveringTiles({tileSize:o,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const e of t)i.set(e.key,e);this.usedForTerrain&&e.updateElevation(!1);}R(Array.from(i.values()),((e,t)=>{const i=new Iy(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(i,(e=>{\"raster-dem\"===this._source.type&&i.dem&&this._backfillDEM(i),t(e,i);}));}),t);}}function Sx(e,t){const i=Math.abs(2*e.wrap)-+(e.wrap<0),r=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||r-i||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function Ix(e){return \"raster\"===e||\"image\"===e||\"video\"===e||\"custom\"===e}function Cx(e,t){const i=1<<e.z;return [e.x/i+t,(e.x+1)/i+t]}Ax.maxOverzooming=10,Ax.maxUnderzooming=3;const zx=ba([{name:\"a_pos_3f\",components:3,type:\"Float32\"}]),Dx=ba([{name:\"a_color_3f\",components:3,type:\"Float32\"}]),Px=ba([{name:\"a_color_4f\",components:4,type:\"Float32\"}]),Rx=ba([{name:\"a_uv_2f\",components:2,type:\"Float32\"}]),Lx=ba([{name:\"a_normal_3f\",components:3,type:\"Float32\"}]),kx=ba([{name:\"a_normal_matrix0\",components:4,type:\"Float32\"},{name:\"a_normal_matrix1\",components:4,type:\"Float32\"},{name:\"a_normal_matrix2\",components:4,type:\"Float32\"},{name:\"a_normal_matrix3\",components:4,type:\"Float32\"}]),Ox=ba([{name:\"a_pbr\",components:4,type:\"Uint16\"},{name:\"a_heightBasedEmissiveStrength\",components:3,type:\"Float32\"}]);class Bx{constructor(e=0,t=0,i=0,r=0){if(isNaN(e)||e<0||isNaN(t)||t<0||isNaN(i)||i<0||isNaN(r)||r<0)throw new Error(\"Invalid value for edge-insets, top, bottom, left and right must all be numbers\");this.top=e,this.bottom=t,this.left=i,this.right=r;}interpolate(e,t,i){return null!=t.top&&null!=e.top&&(this.top=Wr(e.top,t.top,i)),null!=t.bottom&&null!=e.bottom&&(this.bottom=Wr(e.bottom,t.bottom,i)),null!=t.left&&null!=e.left&&(this.left=Wr(e.left,t.left,i)),null!=t.right&&null!=e.right&&(this.right=Wr(e.right,t.right,i)),this}getCenter(e,t){const i=z((this.left+e-this.right)/2,0,e),r=z((this.top+t-this.bottom)/2,0,t);return new y(i,r)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new Bx(this.top,this.bottom,this.left,this.right)}toJSON(){return {top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Fx(e,t){const i=ne(e,3);xu.fromQuat(e,t),oe(e,3,i);}function Nx(e,t){const i=bu.identity([]);return bu.rotateZ(i,i,-t),bu.rotateX(i,i,-e),i}function Ux(e,t){const i=[e[0],e[1],0],r=[t[0],t[1],0];if(Mu.length(i)>=1e-15){const e=Mu.normalize([],i);Mu.scale(r,e,Mu.dot(r,e)),t[0]=r[0],t[1]=r[1];}const n=Mu.cross([],t,e);if(Mu.len(n)<1e-15)return null;const o=Math.atan2(-n[1],n[0]);return Nx(Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2]),o)}class Vx{constructor(e,t){this.position=e,this.orientation=t;}get position(){return this._position}set position(e){if(e){const t=e instanceof ep?e:new ep(e[0],e[1],e[2]);this._renderWorldCopies&&(t.x=P(t.x,0,1)),this._position=t;}else this._position=null;}lookAtPoint(e,t){if(this.orientation=null,!this.position)return;const i=this.position,r=this._elevation?this._elevation.getAtPointOrZero(ep.fromLngLat(e)):0,n=ep.fromLngLat(e,r),o=[n.x-i.x,n.y-i.y,n.z-i.z];t||(t=[0,0,1]),t[2]=Math.abs(t[2]),this.orientation=Ux(o,t);}setPitchBearing(e,t){this.orientation=Nx(w(e),w(-t));}}class jx{constructor(e,t){this._transform=xu.identity([]),this.orientation=t,this.position=e;}get mercatorPosition(){const e=this.position;return new ep(e[0],e[1],e[2])}get position(){const e=ne(this._transform,3);return [e[0],e[1],e[2]]}set position(e){var t;e&&oe(this._transform,3,[(t=e)[0],t[1],t[2],1]);}get orientation(){return this._orientation}set orientation(e){this._orientation=e||bu.identity([]),e&&Fx(this._transform,this._orientation);}getPitchBearing(){const e=this.forward(),t=this.right();return {bearing:Math.atan2(-t[1],t[0]),pitch:Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2])}}setPitchBearing(e,t){this._orientation=Nx(e,t),Fx(this._transform,this._orientation);}forward(){const e=ne(this._transform,2);return [-e[0],-e[1],-e[2]]}up(){const e=ne(this._transform,1);return [-e[0],-e[1],-e[2]]}right(){const e=ne(this._transform,0);return [e[0],e[1],e[2]]}getCameraToWorld(e,t){const i=new Float64Array(16);return xu.invert(i,this.getWorldToCamera(e,t)),i}getCameraToWorldMercator(){return this._transform}getWorldToCameraPosition(e,t,i){const r=this.position;Mu.scale(r,r,-e);const n=new Float64Array(16);return xu.fromScaling(n,[i,i,i]),xu.translate(n,n,r),n[10]*=t,n}getWorldToCamera(e,t){const i=new Float64Array(16),r=new Float64Array(4),n=this.position;return bu.conjugate(r,this._orientation),Mu.scale(n,n,-e),xu.fromQuat(i,r),xu.translate(i,i,n),i[1]*=-1,i[5]*=-1,i[9]*=-1,i[13]*=-1,i[8]*=t,i[9]*=t,i[10]*=t,i[11]*=t,i}getCameraToClipPerspective(e,t,i,r){const n=new Float64Array(16);return xu.perspective(n,e,t,i,r),n}getCameraToClipOrthographic(e,t,i,r,n,o){const s=new Float64Array(16);return xu.ortho(s,e,t,i,r,n,o),s}getDistanceToElevation(e,t=!1){const i=0===e?0:Zd(e,t?Hd(this.position[1]):this.position[1]),r=this.forward();return (i-this.position[2])/r[2]}clone(){return new jx([...this.position],[...this.orientation])}}function Gx(e,t){const i=Zx(e.projection,e.zoom,e.width,e.height),r=function(e,t,i,r,n){const o=new Nd(i.lng-180*$x,i.lat),s=new Nd(i.lng+180*$x,i.lat),a=e.project(o.lng,o.lat),l=e.project(s.lng,s.lat),c=-Math.atan2(l.y-a.y,l.x-a.x),h=ep.fromLngLat(i);h.y=z(h.y,-1+$x,1-$x);const u=h.toLngLat(),d=e.project(u.lng,u.lat),p=ep.fromLngLat(u);p.x+=$x;const f=p.toLngLat(),m=e.project(f.lng,f.lat),_=Wx(m.x-d.x,m.y-d.y,c),g=ep.fromLngLat(u);g.y+=$x;const y=g.toLngLat(),x=e.project(y.lng,y.lat),v=Wx(x.x-d.x,x.y-d.y,c),b=Math.abs(_.x)/Math.abs(v.y),w=xu.identity([]);xu.rotateZ(w,w,-c*(1-(n?0:r)));const T=xu.identity([]);return xu.scale(T,T,[1,1-(1-b)*r,1]),T[4]=-v.x/v.y*r,xu.rotateZ(T,T,c),xu.multiply(T,w,T),T}(e.projection,0,e.center,i,t),n=qx(e);return xu.scale(r,r,[n,n,1]),r}function qx(e){const t=e.projection,i=Zx(e.projection,e.zoom,e.width,e.height),r=Hx(t,e.center),n=Hx(t,Nd.convert(t.center));return Math.pow(2,r*i+(1-i)*n)}function Zx(e,t,i,r,n=1/0){const o=e.range;if(!o)return 0;const s=Math.min(n,Math.max(i,r)),a=Math.log(s/1024)/Math.LN2;return D(o[0]+a,o[1]+a,t)}const $x=1/4e4;function Hx(e,t){const i=z(t.lat,-Xd,Xd),r=new Nd(t.lng-180*$x,i),n=new Nd(t.lng+180*$x,i),o=e.project(r.lng,i),s=e.project(n.lng,i),a=ep.fromLngLat(r),l=ep.fromLngLat(n),c=s.x-o.x,h=s.y-o.y,u=l.x-a.x,d=l.y-a.y,p=Math.sqrt((u*u+d*d)/(c*c+h*h));return Math.log(p)/Math.LN2}function Wx(e,t,i){const r=Math.cos(i),n=Math.sin(i);return {x:e*r-t*n,y:e*n+t*r}}function Xx(e,t,i){return t*(sr/(e.tileSize*Math.pow(2,i-e.tileID.overscaledZ)))}const Yx={unknown:0,flipRequired:1,flipNotRequired:2},Kx=Math.tan(85*Math.PI/180);function Jx(e,t,i,r,n,o,s){const a=xu.create();if(i)if(\"globe\"===o.name){const e=function(e,t){const{x:i,y:r}=e.point,n=Td(i,r,e.worldSize/e._pixelsPerMercatorPixel,0,0);return xu.multiply(n,n,vd(ad(t)))}(n,t);xu.multiply(a,a,e);}else {const e=fu.invert([],s);a[0]=e[0],a[1]=e[1],a[4]=e[2],a[5]=e[3],r||xu.rotateZ(a,a,n.angle);}else xu.multiply(a,n.labelPlaneMatrix,e);return a}function Qx(e,t,i,r,n,o,s){const a=Jx(e,t,i,r,n,o,s);return \"globe\"===o.name&&i||(a[2]=a[6]=a[10]=a[14]=0),a}function ev(e,t,i,r,n,o,s){if(i){if(\"globe\"===o.name){const a=Jx(e,t,i,r,n,o,s);return xu.invert(a,a),xu.multiply(a,e,a),a}{const t=xu.clone(e),i=xu.identity([]);return i[0]=s[0],i[1]=s[1],i[4]=s[2],i[5]=s[3],xu.multiply(t,t,i),r||xu.rotateZ(t,t,-n.angle),t}}return n.glCoordMatrix}function tv(e,t,i,r){const n=[e,t,i,1];i?uu.transformMat4(n,n,r):dv(n,n,r);const o=n[3];return n[0]/=o,n[1]/=o,n[2]/=o,n}function iv(e,t){return Math.min(.5+e/t*.5,1.5)}function rv(e,t){const i=e[0]/e[3],r=e[1]/e[3];return i>=-t[0]&&i<=t[0]&&r>=-t[1]&&r<=t[1]}function nv(e,t,i,r,n,o,s,a,l,c){const h=i.transform,u=r?e.textSizeData:e.iconSizeData,d=a_(u,i.transform.zoom),p=\"globe\"===h.projection.name,f=[256/i.width*2+1,256/i.height*2+1],m=r?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;m.clear();let _=null;p&&(_=r?e.text.globeExtVertexArray:e.icon.globeExtVertexArray);const g=e.lineVertexArray,x=r?e.text.placedSymbolArray:e.icon.placedSymbolArray,v=i.transform.width/i.transform.height;let b,w=!1;for(let r=0;r<x.length;r++){const p=x.get(r),{numGlyphs:T,writingMode:E}=p;if(E!==w_.vertical||w||b===w_.horizontal||(w=!0),b=E,(p.hidden||E===w_.vertical)&&!w){uv(T,m);continue}w=!1;const M=new y(p.tileAnchorX,p.tileAnchorY);let{x:A,y:S,z:I}=h.projection.projectTilePoint(M.x,M.y,c.canonical);if(l){const[e,t,i]=l(M);A+=e,S+=t,I+=i;}const C=[A,S,I,1];if(uu.transformMat4(C,C,t),!rv(C,f)){uv(T,m);continue}const z=C[3],D=iv(i.transform.getCameraToCenterDistance(h.projection),z),P=s_(u,d,p),R=s?P/D:P*D,L=tv(A,S,I,n);if(L[3]<=0){uv(T,m);continue}let k={};const O=s?null:l,B=av(p,R,!1,a,t,n,o,e.glyphOffsetArray,g,m,_,L,M,k,v,O,h.projection,c,s);w=B.useVertical,O&&B.needsFlipping&&(k={}),(B.notEnoughRoom||w||B.needsFlipping&&av(p,R,!0,a,t,n,o,e.glyphOffsetArray,g,m,_,L,M,k,v,O,h.projection,c,s).notEnoughRoom)&&uv(T,m);}r?(e.text.dynamicLayoutVertexBuffer.updateData(m),_&&e.text.globeExtVertexBuffer&&e.text.globeExtVertexBuffer.updateData(_)):(e.icon.dynamicLayoutVertexBuffer.updateData(m),_&&e.icon.globeExtVertexBuffer&&e.icon.globeExtVertexBuffer.updateData(_));}function ov(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m){const{lineStartIndex:_,glyphStartIndex:g,segment:y}=a,x=g+a.numGlyphs,v=_+a.lineLength,b=t.getoffsetX(g),w=t.getoffsetX(x-1),T=hv(e*b,i,r,n,o,s,y,_,v,l,c,h,u,d,!0,p,f,m);if(!T)return null;const E=hv(e*w,i,r,n,o,s,y,_,v,l,c,h,u,d,!0,p,f,m);return E?{first:T,last:E}:null}function sv(e,t,i,r){return e===w_.horizontal&&Math.abs(r)>Math.abs(i)?{useVertical:!0}:e===w_.vertical?r>0?{needsFlipping:!0}:null:t!==Yx.unknown&&function(e,t){return 0===e||Math.abs(t/e)>Kx}(i,r)?t===Yx.flipRequired?{needsFlipping:!0}:null:i<0?{needsFlipping:!0}:null}function av(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_,g,x){const v=t/24,b=e.lineOffsetX*v,w=e.lineOffsetY*v,{lineStartIndex:T,glyphStartIndex:E,numGlyphs:M,segment:A,writingMode:S,flipState:I}=e,C=T+e.lineLength,z=e=>{if(h){const[t,i,r]=e.up,n=c.length;ry(h,n+0,t,i,r),ry(h,n+1,t,i,r),ry(h,n+2,t,i,r),ry(h,n+3,t,i,r);}const[t,i,r]=e.point;ny(c,t,i,r,e.angle);};if(M>1){const t=ov(v,a,b,w,i,u,d,e,l,o,p,m,!1,_,g,x);if(!t)return {notEnoughRoom:!0};if(r&&!i){let[i,r,n]=t.first.point,[o,a,l]=t.last.point;[i,r]=tv(i,r,n,s),[o,a]=tv(o,a,l,s);const c=sv(S,I,(o-i)*f,a-r);if(e.flipState=c&&c.needsFlipping?Yx.flipRequired:Yx.flipNotRequired,c)return c}z(t.first);for(let e=E+1;e<E+M-1;e++){const t=hv(v*a.getoffsetX(e),b,w,i,u,d,A,T,C,l,o,p,m,!1,!1,_,g,x);if(!t)return c.length-=4*(e-E),{notEnoughRoom:!0};z(t);}z(t.last);}else {if(r&&!i){const t=tv(d.x,d.y,0,n),i=T+A+1,r=new y(l.getx(i),l.gety(i)),o=tv(r.x,r.y,0,n),s=o[3]>0?o:cv(d,r,t,1,n,void 0,_,g.canonical),a=sv(S,I,(s[0]-t[0])*f,s[1]-t[1]);if(e.flipState=a&&a.needsFlipping?Yx.flipRequired:Yx.flipNotRequired,a)return a}const t=hv(v*a.getoffsetX(E),b,w,i,u,d,A,T,C,l,o,p,m,!1,!1,_,g,x);if(!t)return {notEnoughRoom:!0};z(t);}return {}}function lv(e,t,i,r,n){const{x:o,y:s,z:a}=r.projectTilePoint(e.x,e.y,t);if(!n)return tv(o,s,a,i);const[l,c,h]=n(e);return tv(o+l,s+c,a+h,i)}function cv(e,t,i,r,n,o,s,a){const l=lv(e.sub(t)._unit()._add(e),a,n,s,o);return Mu.sub(l,i,l),Mu.normalize(l,l),Mu.scaleAndAdd(l,i,l,r)}function hv(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_,g){const x=r?e-t:e+t;let v=x>0?1:-1,b=0;r&&(v*=-1,b=Math.PI),v<0&&(b+=Math.PI);let w=a+s+(v>0?0:1)|0,T=n,E=n,M=0,A=0;const S=Math.abs(x),I=[],C=[];let z=o,D=z;const P=()=>cv(D,z,E,S-M+1,h,d,m,_.canonical);for(;M+A<=S;){if(w+=v,w<a||w>=l)return null;if(E=T,D=z,I.push(E),p&&C.push(D),z=new y(c.getx(w),c.gety(w)),T=u[w],!T){const e=lv(z,_.canonical,h,m,d);T=e[3]>0?u[w]=e:P();}M+=A,A=Mu.distance(E,T);}f&&d&&(u[w]&&(T=P(),A=Mu.distance(E,T)),u[w]=T);const R=(S-M)/A,L=z.sub(D)._mult(R)._add(D),k=Mu.sub([],T,E),O=Mu.scaleAndAdd([],E,k,R);let B=[0,0,1],F=k[0],N=k[1];if(g&&(B=m.upVector(_.canonical,L.x,L.y),0!==B[0]||0!==B[1]||1!==B[2])){const e=[B[2],0,-B[0]],t=Mu.cross([],B,e);Mu.normalize(e,e),Mu.normalize(t,t),F=Mu.dot(k,e),N=Mu.dot(k,t);}if(i){const e=Mu.cross([],B,k);Mu.normalize(e,e),Mu.scaleAndAdd(O,O,e,i*v);}const U=b+Math.atan2(N,F);return I.push(O),p&&C.push(L),{point:O,angle:U,path:I,tilePath:C,up:B}}function uv(e,t){const i=t.length,r=i+4*e;t.resize(r),t.float32.fill(-1/0,4*i,4*r);}function dv(e,t,i){const r=t[0],n=t[1];return e[0]=i[0]*r+i[4]*n+i[12],e[1]=i[1]*r+i[5]*n+i[13],e[3]=i[3]*r+i[7]*n+i[15],e}const pv=(e,t,i)=>(1-i)*e+i*t,fv=e=>e*e*e*e*e;class mv{constructor(e,t,i,r,n,o,s){this.tileSize=512,this._renderWorldCopies=void 0===n||n,this._minZoom=e||0,this._maxZoom=t||22,this._minPitch=null==i?0:i,this._maxPitch=null==r?60:r,this.setProjection(o),this.setMaxBounds(s),this.width=0,this.height=0,this._center=new Nd(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Bx,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new jx,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference=\"ground\",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1,this._orthographicProjectionAtLowPitch=!1;}clone(){const e=new mv(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return e._elevation=this._elevation,e._centerAltitude=this._centerAltitude,e._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,e.tileSize=this.tileSize,e.mercatorFromTransition=this.mercatorFromTransition,e.width=this.width,e.height=this.height,e.cameraElevationReference=this.cameraElevationReference,e._center=this._center,e._setZoom(this.zoom),e._seaLevelZoom=this._seaLevelZoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._nearZ=this._nearZ,e._farZ=this._farZ,e._averageElevation=this._averageElevation,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._camera=this._camera.clone(),e._calcMatrices(),e.freezeTileCoverage=this.freezeTileCoverage,e.frustumCorners=this.frustumCorners,e}get isOrthographic(){return \"globe\"!==this.projection.name&&this._orthographicProjectionAtLowPitch&&this.pitch<15}get elevation(){return this._elevation}set elevation(e){this._elevation!==e&&(this._elevation=e,this._updateCameraOnTerrain(),this._calcMatrices());}get depthOcclusionForSymbolsAndCircles(){return \"globe\"!==this.projection.name&&!this.isOrthographic}updateElevation(e,t=!1){const i=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(null==this._seaLevelZoom||i)&&this._updateCameraOnTerrain(),(e||i)&&this._constrainCamera(t),this._calcMatrices();}getProjection(){return O(this.projection,[\"name\",\"center\",\"parallels\"])}setProjection(e){this.projectionOptions=e||{name:\"mercator\"};const t=this.projection?this.getProjection():void 0;this.projection=Hg(this.projectionOptions);const i=!x(t,this.getProjection());return i&&this._calcMatrices(),this.mercatorFromTransition=!1,i}setOrthographicProjectionAtLowPitch(e){return this._orthographicProjectionAtLowPitch!==e&&(this._orthographicProjectionAtLowPitch=e,this._calcMatrices(),!0)}setMercatorFromTransition(){const e=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:\"mercator\"},this.projection=Hg({name:\"mercator\"});const t=e!==this.projection.name;return t&&this._calcMatrices(),t}get minZoom(){return this._minZoom}set minZoom(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e));}get maxZoom(){return this._maxZoom}set maxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e));}get minPitch(){return this._minPitch}set minPitch(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e));}get maxPitch(){return this._maxPitch}set maxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e));}get renderWorldCopies(){return this._renderWorldCopies&&!0===this.projection.supportsWorldCopies}set renderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e;}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const e=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}get cameraWorldSize(){const e=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return Zd(1,this.center.lat)*this.cameraWorldSizeForFog}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new y(this.width,this.height)}get bearing(){return P(this.rotation,-180,180)}set bearing(e){this.rotation=e;}get rotation(){return -this.angle/Math.PI*180}set rotation(e){const t=-e*Math.PI/180;this.angle!==t&&(this._unmodified=!1,this.angle=t,this._calcMatrices(),this.rotationMatrix=fu.create(),fu.rotate(this.rotationMatrix,this.rotationMatrix,this.angle));}get pitch(){return this._pitch/Math.PI*180}set pitch(e){const t=z(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==t&&(this._unmodified=!1,this._pitch=t,this._calcMatrices());}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const e=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/e)}set fov(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=w(e),this._calcMatrices());}get averageElevation(){return this._averageElevation}set averageElevation(e){this._averageElevation=e,this._calcFogMatrices(),this._distanceTileDataCache={};}get zoom(){return this._zoom}set zoom(e){const t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._setZoom(t),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices());}_setZoom(e){this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom;}_updateCameraOnTerrain(){const e=this.elevation?this.elevation.getAtPoint(this.locationCoordinate(this.center),Number.NEGATIVE_INFINITY):Number.NEGATIVE_INFINITY,t=this.elevation&&e===Number.NEGATIVE_INFINITY&&this.elevation.visibleDemTiles.length>0&&this.elevation.exaggeration()>0&&this._centerAltitudeValidForExaggeration;if(!this._elevation||e===Number.NEGATIVE_INFINITY&&(!t||!this._centerAltitude))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const i=this._elevation;t||this._centerAltitude&&this._centerAltitudeValidForExaggeration&&i.exaggeration()&&this._centerAltitudeValidForExaggeration!==i.exaggeration()?(this._centerAltitude=this._centerAltitude/this._centerAltitudeValidForExaggeration*i.exaggeration(),this._centerAltitudeValidForExaggeration=i.exaggeration()):(this._centerAltitude=e||0,this._centerAltitudeValidForExaggeration=i.exaggeration()),this._updateSeaLevelZoom();}_updateSeaLevelZoom(){void 0!==this._centerAltitudeValidForExaggeration&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize));}sampleAverageElevation(){if(!this._elevation)return 0;const e=this._elevation,t=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],i=this.horizonLineFromTop();let r=0,n=0;for(let o=0;o<t.length;o++){const s=new y(t[o][0]*this.width,i+t[o][1]*(this.height-i)),a=e.pointCoordinate(s);if(!a)continue;const l=1/Math.hypot(a[0]-this._camera.position[0],a[1]-this._camera.position[1]);r+=a[3]*l,n+=l;}return 0===n?NaN:r/n}get center(){return this._center}set center(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._terrainEnabled()&&(\"ground\"===this.cameraElevationReference?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices());}_updateZoomFromElevation(){if(null==this._seaLevelZoom||!this._elevation)return;const e=this._seaLevelZoom,t=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),i=this.pixelsPerMeter/this.worldSize*t,r=this._mercatorZfromZoom(e),n=this._mercatorZfromZoom(this._maxZoom),o=Math.max(r-i,n);this._setZoom(this._zoomFromMercatorZ(o));}get padding(){return this._edgeInsets.toJSON()}set padding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices());}computeZoomRelativeTo(e){const t=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,e.toAltitude()));let i;i=e.z<this._camera.position[2]?[t.x,t.y,t.z]:[e.x,e.y,e.z];const r=Mu.length(Mu.sub([],this._camera.position,i));return z(this._zoomFromMercatorZ(r),this._minZoom,this._maxZoom)}setFreeCameraOptions(e){if(!this.height)return;if(!e.position&&!e.orientation)return;this._updateCameraState();let t=!1;if(e.orientation&&!bu.exactEquals(e.orientation,this._camera.orientation)&&(t=this._setCameraOrientation(e.orientation)),e.position){const i=[e.position.x,e.position.y,e.position.z];Mu.exactEquals(i,this._camera.position)||(this._setCameraPosition(i),t=!0);}t&&(this._updateStateFromCamera(),this.recenterOnTerrain());}getFreeCameraOptions(){this._updateCameraState();const e=this._camera.position,t=new Vx;return t.position=new ep(e[0],e[1],e[2]),t.orientation=this._camera.orientation,t._elevation=this.elevation,t._renderWorldCopies=this.renderWorldCopies,t}_setCameraOrientation(e){if(!bu.length(e))return !1;bu.normalize(e,e);const t=Mu.transformQuat([],[0,0,-1],e),i=Mu.transformQuat([],[0,-1,0],e);if(i[2]<0)return !1;const r=Ux(t,i);return !!r&&(this._camera.orientation=r,!0)}_setCameraPosition(e){const t=this.zoomScale(this.minZoom)*this.tileSize,i=this.zoomScale(this.maxZoom)*this.tileSize,r=this.cameraToCenterDistance;e[2]=z(e[2],r/i,r/t),this._camera.position=e;}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,i){this._unmodified=!1,this._edgeInsets.interpolate(e,t,i),this._constrain(),this._calcMatrices();}coveringZoomLevel(e){const t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}getVisibleUnwrappedCoordinates(e){const t=[new Ou(0,e)];if(this.renderWorldCopies){const i=this.pointCoordinate(new y(0,0)),r=this.pointCoordinate(new y(this.width,0)),n=this.pointCoordinate(new y(this.width,this.height)),o=this.pointCoordinate(new y(0,this.height)),s=Math.floor(Math.min(i.x,r.x,n.x,o.x)),a=Math.floor(Math.max(i.x,r.x,n.x,o.x)),l=1;for(let i=s-l;i<=a+l;i++)0!==i&&t.push(new Ou(i,e));}return t}isLODDisabled(e){return (!e||this.pitch<=60)&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace}extendTileCoverForShadows(e,t,i){let r=[];if(0===t[0]&&0===t[1])return r;for(const i of e){const e=i.canonical,n=i.overscaledZ,o=i.wrap,s=1<<e.z,a=e.x+1<s,l=e.x>0,c=e.y+1<s,h=e.y>0,u=i.wrap-(l?0:1),d=i.wrap+(a?0:1),p=l?e.x-1:s-1,f=a?e.x+1:0;t[0]<0?(r.push(new Bu(n,d,e.z,f,e.y)),t[1]<0&&c&&(r.push(new Bu(n,o,e.z,e.x,e.y+1)),r.push(new Bu(n,d,e.z,f,e.y+1))),t[1]>0&&h&&(r.push(new Bu(n,o,e.z,e.x,e.y-1)),r.push(new Bu(n,d,e.z,f,e.y-1)))):t[0]>0?(r.push(new Bu(n,u,e.z,p,e.y)),t[1]<0&&c&&(r.push(new Bu(n,o,e.z,e.x,e.y+1)),r.push(new Bu(n,u,e.z,p,e.y+1))),t[1]>0&&h&&(r.push(new Bu(n,o,e.z,e.x,e.y-1)),r.push(new Bu(n,u,e.z,p,e.y-1)))):t[1]<0&&c?r.push(new Bu(n,o,e.z,e.x,e.y+1)):h&&r.push(new Bu(n,o,e.z,e.x,e.y-1));}if(r.length>1){r.sort(((e,t)=>e.overscaledZ-t.overscaledZ||e.wrap-t.wrap||e.canonical.z-t.canonical.z||e.canonical.x-t.canonical.x||e.canonical.y-t.canonical.y));let e=0,t=0;for(;t<r.length;)r[t].equals(r[e])?++t:r[++e]=r[t++];r.length=e+1;}const n=[];for(const e of r)r.some((t=>e.isChildOf(t)))||n.push(e);return r=n.filter((t=>!e.some((e=>!!(t.overscaledZ<i&&e.isChildOf(t))||t.equals(e)||t.isChildOf(e))))),r}coveringTiles(e){let t=this.coveringZoomLevel(e);const i=t,r=this.elevation&&this.elevation.exaggeration(),n=r&&!e.isTerrainDEM,o=\"mercator\"===this.projection.name;if(void 0!==e.minzoom&&t<e.minzoom)return [];void 0!==e.maxzoom&&t>e.maxzoom&&(t=e.maxzoom);const s=this.locationCoordinate(this.center),a=this.center.lat,l=1<<t,c=[l*s.x,l*s.y,0],h=\"globe\"===this.projection.name,u=!h,d=$u.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,t,u),p=h?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),f=l*Zd(1,this.center.lat),m=this._camera.position[2]/Zd(1,this.center.lat),_=[l*p.x,l*p.y,m*(u?1:f)],g=h||r,y=this.cameraToCenterDistance/e.tileSize*(e.roundZoom?1:.502),x=this.isLODDisabled(!0)?t:0,v=e.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,b=e.isTerrainDEM?-v:this._elevation?this._elevation.getMinElevationBelowMSL():0,w=this.projection.isReprojectedInTileSpace?qx(this):1,T=e=>{const t=1/4e4,i=new ep(e.x+t,e.y,e.z),r=new ep(e.x,e.y+t,e.z),n=e.toLngLat(),o=i.toLngLat(),s=r.toLngLat(),a=this.locationCoordinate(n),l=this.locationCoordinate(o),c=this.locationCoordinate(s),h=Math.hypot(l.x-a.x,l.y-a.y),u=Math.hypot(c.x-a.x,c.y-a.y);return Math.sqrt(h*u)*w/t},M=e=>{const t=v,i=b;return {aabb:Eg(this,l,0,0,0,e,i,t,this.projection),zoom:0,x:0,y:0,minZ:i,maxZ:t,wrap:e,fullyVisible:!1}},A=[];let S=[];const I=t,C=e.reparseOverscaled?i:t,z=e=>e*e,D=z((m-this._centerAltitude)*f),P=e=>{if(!this._elevation||!e.tileID||!o)return;const t=this._elevation.getMinMaxForTile(e.tileID),i=e.aabb;t?(i.min[2]=t.min,i.max[2]=t.max,i.center[2]=(i.min[2]+i.max[2])/2):(e.shouldSplit=R(e),e.shouldSplit||(i.min[2]=i.max[2]=i.center[2]=this._centerAltitude));},R=e=>{if(e.zoom<x)return !0;if(e.zoom===I)return !1;if(null!=e.shouldSplit)return e.shouldSplit;const t=e.aabb.distanceX(_),r=e.aabb.distanceY(_);let o=D,s=1;if(h){o=z(e.aabb.distanceZ(_));const t=Math.pow(2,e.zoom),i=Hd((e.y+1)/t),r=Hd(e.y/t),n=Math.min(Math.max(a,i),r),l=jd(n)/jd(a);if(s=n===a?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,l/this._mercatorScaleRatio),this.zoom<=Wu&&e.zoom===I-1&&l>=.9)return !0}else if(n&&(o=z(e.aabb.distanceZ(_)*f)),this.projection.isReprojectedInTileSpace&&i<=5){const t=Math.pow(2,e.zoom),i=T(new ep((e.x+.5)/t,(e.y+.5)/t));s=i>.85?1:i;}const l=t*t+r*r+o,c=z((1<<I-e.zoom)*y*s*((e,t)=>{if(t*z(.707)<e)return 1;const i=Math.sqrt(t/e);return i/(1.4144271570014144+(Math.pow(1.1,i-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(o,D),l));return l<c};if(this.renderWorldCopies)for(let e=1;e<=3;e++)A.push(M(-e)),A.push(M(e));for(A.push(M(0));A.length>0;){const i=A.pop(),r=i.x,s=i.y;let a=i.fullyVisible;const u=()=>\"globe\"===this.projection.name&&(0===i.y||i.y===(1<<i.zoom)-1);if(!a){let e=g?i.aabb.intersects(d):i.aabb.intersectsFlat(d);if(0===e&&u()){const t=new ku(i.zoom,r,s);e=ud(this,l,t,!0).intersects(d);}if(0===e)continue;a=2===e;}if(i.zoom!==I&&R(i))for(let e=0;e<4;e++){const t=(r<<1)+e%2,c=(s<<1)+(e>>1),u={aabb:o?i.aabb.quadrant(e):Eg(this,l,i.zoom+1,t,c,i.wrap,i.minZ,i.maxZ,this.projection),zoom:i.zoom+1,x:t,y:c,wrap:i.wrap,fullyVisible:a,tileID:void 0,shouldSplit:void 0,minZ:i.minZ,maxZ:i.maxZ};n&&!h&&(u.tileID=new Bu(i.zoom+1===I?C:i.zoom+1,i.wrap,i.zoom+1,t,c),P(u)),A.push(u);}else {const n=i.zoom===I?C:i.zoom;if(e.minzoom&&e.minzoom>n)continue;if(!a){let e=g?i.aabb.intersectsPrecise(d):i.aabb.intersectsPreciseFlat(d);if(0===e&&u()){const t=new ku(i.zoom,r,s);e=ud(this,l,t,!0).intersectsPrecise(d);}if(0===e)continue}const o=c[0]-(.5+r+(i.wrap<<i.zoom))*(1<<t-i.zoom),h=c[1]-.5-s,p=i.tileID?i.tileID:new Bu(n,i.wrap,i.zoom,r,s);S.push({tileID:p,distanceSq:o*o+h*h});}}if(this.fogCullDistSq){const t=this.fogCullDistSq,i=this.horizonLineFromTop();S=S.filter((r=>{const n=[0,0,0,1],o=[sr,sr,0,1],s=this.calculateFogTileMatrix(r.tileID.toUnwrapped());uu.transformMat4(n,n,s),uu.transformMat4(o,o,s);const a=function(e,t,i){let r=0;for(let i=0;i<2;++i){const n=0;e[i]>n&&(r+=(e[i]-n)*(e[i]-n)),t[i]<n&&(r+=(n-t[i])*(n-t[i]));}return r}(uu.min([],n,o),uu.max([],n,o));if(0===a)return !0;let l=!1;const c=this._elevation;if(c&&a>t&&0!==i){const t=this.calculateProjMatrix(r.tileID.toUnwrapped());let n;e.isTerrainDEM||(n=c.getMinMaxForTile(r.tileID)),n||(n={min:b,max:v});const o=function(e){const t=Math.round((e+45+360)%360/90)%4;return E[t]}(this.rotation),s=[o[0]*sr,o[1]*sr,n.max];Mu.transformMat4(s,s,t),l=(1-s[1])*this.height*.5<i;}return a<t||l}));}return S.sort(((e,t)=>e.distanceSq-t.distanceSq)).map((e=>e.tileID))}resize(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices();}get unmodified(){return this._unmodified}zoomScale(e){return Math.pow(2,e)}scaleZoom(e){return Math.log(e)/Math.LN2}project(e){const t=z(e.lat,-Xd,Xd),i=this.projection.project(e.lng,t);return new y(i.x*this.worldSize,i.y*this.worldSize)}unproject(e){return this.projection.unproject(e.x/this.worldSize,e.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/Zd(1,this.center.lat)/this.worldSize}setLocationAtPoint(e,t){let i,r;const n=this.centerPoint;if(\"globe\"===this.projection.name){const e=this.worldSize;i=(t.x-n.x)/e,r=(t.y-n.y)/e;}else {const e=this.pointCoordinate(t),o=this.pointCoordinate(n);i=e.x-o.x,r=e.y-o.y;}const o=this.locationCoordinate(e);this.setLocation(new ep(o.x-i,o.y-r));}setLocation(e){this.center=this.coordinateLocation(e),this.projection.wrap&&(this.center=this.center.wrap());}locationPoint(e){return this.projection.locationPoint(this,e)}locationPoint3D(e){return this.projection.locationPoint(this,e,!0)}pointLocation(e){return this.coordinateLocation(this.pointCoordinate(e))}pointLocation3D(e){return this.coordinateLocation(this.pointCoordinate3D(e))}locationCoordinate(e,t){const i=t?Zd(t,e.lat):void 0,r=this.projection.project(e.lng,e.lat);return new ep(r.x,r.y,i)}coordinateLocation(e){return this.projection.unproject(e.x,e.y)}pointRayIntersection(e,t){const i=null!=t?t:this._centerAltitude,r=[e.x,e.y,0,1],n=[e.x,e.y,1,1];uu.transformMat4(r,r,this.pixelMatrixInverse),uu.transformMat4(n,n,this.pixelMatrixInverse);const o=n[3];uu.scale(r,r,1/r[3]),uu.scale(n,n,1/o);const s=r[2],a=n[2];return {p0:r,p1:n,t:s===a?0:(i-s)/(a-s)}}screenPointToMercatorRay(e){const t=[e.x,e.y,0,1],i=[e.x,e.y,1,1];return uu.transformMat4(t,t,this.pixelMatrixInverse),uu.transformMat4(i,i,this.pixelMatrixInverse),uu.scale(t,t,1/t[3]),uu.scale(i,i,1/i[3]),t[2]=Zd(t[2],this._center.lat)*this.worldSize,i[2]=Zd(i[2],this._center.lat)*this.worldSize,uu.scale(t,t,1/this.worldSize),uu.scale(i,i,1/this.worldSize),new Uu([t[0],t[1],t[2]],Mu.normalize([],Mu.sub([],i,t)))}rayIntersectionCoordinate(e){const{p0:t,p1:i,t:r}=e,n=Zd(t[2],this._center.lat),o=Zd(i[2],this._center.lat);return new ep(Wr(t[0],i[0],r)/this.worldSize,Wr(t[1],i[1],r)/this.worldSize,Wr(n,o,r))}pointCoordinate(e,t=this._centerAltitude){return this.projection.pointCoordinate(this,e.x,e.y,t)}pointCoordinate3D(e){if(!this.elevation)return this.pointCoordinate(e);let t=this.projection.pointCoordinate3D(this,e.x,e.y);if(t)return new ep(t[0],t[1],t[2]);let i=0,r=this.horizonLineFromTop();if(e.y>r)return this.pointCoordinate(e);const n=.02*r,o=e.clone();for(let e=0;e<10&&r-i>n;e++){o.y=Wr(i,r,.66);const e=this.projection.pointCoordinate3D(this,o.x,o.y);e?(r=o.y,t=e):i=o.y;}return t?new ep(t[0],t[1],t[2]):this.pointCoordinate(e)}isPointAboveHorizon(e){return this.projection.isPointAboveHorizon(this,e)}isPointOnSurface(e){if(e.y<0||e.y>this.height||e.x<0||e.x>this.width)return !1;if(this.elevation||this.zoom>=Xu)return !this.isPointAboveHorizon(e);const t=this.pointCoordinate(e);return t.y>=0&&t.y<=1}_coordinatePoint(e,t){const i=t&&this.elevation?this.elevation.getAtPointOrZero(e,this._centerAltitude):this._centerAltitude,r=[e.x*this.worldSize,e.y*this.worldSize,i+e.toAltitude(),1];return uu.transformMat4(r,r,this.pixelMatrix),r[3]>0?new y(r[0]/r[3],r[1]/r[3]):new y(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:e,left:t}=this._edgeInsets,i=this.height-this._edgeInsets.bottom,r=this.width-this._edgeInsets.right,n=this.pointLocation3D(new y(t,e)),o=this.pointLocation3D(new y(r,e)),s=this.pointLocation3D(new y(r,i)),a=this.pointLocation3D(new y(t,i));let l=Math.min(n.lng,o.lng,s.lng,a.lng),c=Math.max(n.lng,o.lng,s.lng,a.lng),h=Math.min(n.lat,o.lat,s.lat,a.lat),u=Math.max(n.lat,o.lat,s.lat,a.lat);const d=Math.pow(2,-this.zoom)/16*270,p=\"globe\"===this.projection.name?1:4,f=(e,t,i,r,n)=>{const o=(e+i)/2,s=(t+r)/2,a=new y(o,s),{lng:m,lat:_}=this.pointLocation3D(a),g=Math.max(0,l-m,h-_,m-c,_-u);l=Math.min(l,m),c=Math.max(c,m),h=Math.min(h,_),u=Math.max(u,_),(n<p||g>d)&&(f(e,t,o,s,n+1),f(o,s,i,r,n+1));};if(f(t,e,r,e,1),f(r,e,r,i,1),f(r,i,t,i,1),f(t,i,t,e,1),\"globe\"===this.projection.name){const[e,t]=function(e){const t=xu.identity(new Float64Array(16));xu.multiply(t,e.pixelMatrix,e.globeMatrix);const i=[0,ed,0],r=[0,td,0];return Mu.transformMat4(i,i,t),Mu.transformMat4(r,r,t),[i[0]>0&&i[0]<=e.width&&i[1]>0&&i[1]<=e.height&&!Dd(e,new Nd(e.center.lat,90)),r[0]>0&&r[0]<=e.width&&r[1]>0&&r[1]<=e.height&&!Dd(e,new Nd(e.center.lat,-90))]}(this);e?(u=90,c=180,l=-180):t&&(h=-90,c=180,l=-180);}return new Ql(new Nd(l,h),new Nd(c,u))}_getBoundsRectangular(e,t){const{top:i,left:r}=this._edgeInsets,n=this.height-this._edgeInsets.bottom,o=this.width-this._edgeInsets.right,s=new y(r,i),a=new y(o,i),l=new y(o,n),c=new y(r,n);let h=this.pointCoordinate(s,e),u=this.pointCoordinate(a,e);const d=this.pointCoordinate(l,t),p=this.pointCoordinate(c,t),f=(e,t)=>(t.y-e.y)/(t.x-e.x);return h.y>1&&u.y>=0?h=new ep((1-p.y)/f(p,h)+p.x,1):h.y<0&&u.y<=1&&(h=new ep(-p.y/f(p,h)+p.x,0)),u.y>1&&h.y>=0?u=new ep((1-d.y)/f(d,u)+d.x,1):u.y<0&&h.y<=1&&(u=new ep(-d.y/f(d,u)+d.x,0)),(new Ql).extend(this.coordinateLocation(h)).extend(this.coordinateLocation(u)).extend(this.coordinateLocation(p)).extend(this.coordinateLocation(d))}_getBoundsRectangularTerrain(){const e=this.elevation;if(!e.visibleDemTiles.length||e.isUsingMockSource())return this._getBoundsRectangular(0,0);const t=e.visibleDemTiles.reduce(((e,t)=>{if(t.dem){const i=t.dem.tree;e.min=Math.min(e.min,i.minimums[0]),e.max=Math.max(e.max,i.maximums[0]);}return e}),{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(t.min*e.exaggeration(),t.max*e.exaggeration())}getBounds(){return \"mercator\"===this.projection.name||\"equirectangular\"===this.projection.name?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(e=!0){const t=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))-this.centerOffset.y,i=this.height/2-t*(1-this._horizonShift);return e?Math.max(0,i):i}getMaxBounds(){return this.maxBounds}setMaxBounds(e){this.maxBounds=e,this.minLat=-Xd,this.maxLat=Xd,this.minLng=-180,this.maxLng=180,e&&(this.minLat=e.getSouth(),this.maxLat=e.getNorth(),this.minLng=e.getWest(),this.maxLng=e.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=Gd(this.minLng)*this.tileSize,this.worldMaxX=Gd(this.maxLng)*this.tileSize,this.worldMinY=qd(this.maxLat)*this.tileSize,this.worldMaxY=qd(this.minLat)*this.tileSize,this._constrain();}calculatePosMatrix(e,t){return this.projection.createTileMatrix(this,t,e)}calculateDistanceTileData(e){const t=e.key,i=this._distanceTileDataCache;if(i[t])return i[t];const r=e.canonical,n=1/this.height,o=this.cameraWorldSize,s=o/this.zoomScale(r.z),a=(r.x+Math.pow(2,r.z)*e.wrap)*s,l=r.y*s,c=this.point;c.x*=o/this.worldSize,c.y*=o/this.worldSize;const h=this.angle,u=Math.sin(-h),d=-Math.cos(-h);return i[t]={bearing:[u,d],center:[(c.x-a)*n,(c.y-l)*n],scale:s/sr*n},i[t]}calculateFogTileMatrix(e){const t=e.key,i=this._fogTileMatrixCache;if(i[t])return i[t];const r=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,e);return xu.multiply(r,this.worldToFogMatrix,r),i[t]=new Float32Array(r),i[t]}calculateProjMatrix(e,t=!1){const i=e.key,r=t?this._alignedProjMatrixCache:this._projMatrixCache;if(r[i])return r[i];const n=this.calculatePosMatrix(e,this.worldSize);return xu.multiply(n,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:t?this.alignedProjMatrix:this.projMatrix,n),r[i]=new Float32Array(n),r[i]}calculatePixelsToTileUnitsMatrix(e){const t=e.tileID.key,i=this._pixelsToTileUnitsCache;if(i[t])return i[t];const r=function(e,t){const{scale:i}=e.tileTransform,r=i*sr/(e.tileSize*Math.pow(2,t.zoom-e.tileID.overscaledZ+e.tileID.canonical.z));return fu.scale(new Float32Array(4),t.inverseAdjustmentMatrix,[r,r])}(e,this);return i[t]=r,i[t]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(\"globe\"===this.projection.name){const e=1/this.worldSize,t=xu.fromScaling([],[e,e,e]);return xu.multiply(t,t,this.globeMatrix),t}}recenterOnTerrain(){if(!this._elevation||\"globe\"===this.projection.name)return;const e=this._elevation;this._updateCameraState();const t=Zd(1,this._center.lat)*this.worldSize,i=this._computeCameraPosition(t),r=this._camera.forward(),n=Zd(1,this._center.lat);i[2]/=n,r[2]/=n,Mu.normalize(r,r);const o=e.raycast(i,r,e.exaggeration());if(o){const e=Mu.scaleAndAdd([],i,r,o),t=new ep(e[0],e[1],Zd(e[2],Hd(e[1]))),s=(t.z+Mu.length([t.x-i[0],t.y-i[1],t.z-i[2]*n]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(s),this._centerAltitude=t.toAltitude(),this._center=this.coordinateLocation(t),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices();}}_constrainCamera(e=!1){if(!this._elevation)return;const t=this._elevation,i=Zd(1,this._center.lat)*this.worldSize,r=this._computeCameraPosition(i),n=t.getAtPointOrZero(new ep(...r)),o=this.pixelsPerMeter/this.worldSize*n,s=this._minimumHeightOverTerrain(),a=r[2]-o;if(a<=s)if(a<0||e){const e=this.locationCoordinate(this._center,this._centerAltitude),t=[r[0],r[1],e.z-r[2]],i=Mu.length(t);t[2]-=(s-a)/this._pixelsPerMercatorPixel;const n=Mu.length(t);if(0===n)return;Mu.scale(t,t,i/n*this._pixelsPerMercatorPixel),this._camera.position=[r[0],r[1],e.z*this._pixelsPerMercatorPixel-t[2]],this._updateStateFromCamera();}else this._isCameraConstrained=!0;}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const e=\"globe\"===this.projection.name||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||e){const t=this.center;return t.lat=z(t.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!e)&&(t.lng=z(t.lng,this.minLng,this.maxLng)),this.center=t,void(this._constraining=!1)}const t=this._unmodified,{x:i,y:r}=this.point;let n=0,o=i,s=r;const a=this.width/2,l=this.height/2,c=this.worldMinY*this.scale,h=this.worldMaxY*this.scale;if(r-l<c&&(s=c+l),r+l>h&&(s=h-l),h-c<this.height&&(n=Math.max(n,this.height/(h-c)),s=(h+c)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const e=this.worldMinX*this.scale,t=this.worldMaxX*this.scale,r=this.worldSize/2-(e+t)/2;o=(i+r+this.worldSize)%this.worldSize-r,o-a<e&&(o=e+a),o+a>t&&(o=t-a),t-e<this.width&&(n=Math.max(n,this.width/(t-e)),o=(t+e)/2);}o===i&&s===r||(this.center=this.unproject(new y(o,s))),n&&(this.zoom+=this.scaleZoom(n)),this._constrainCamera(),this._unmodified=t,this._constraining=!1;}_minZoomForBounds(){let e=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(e=Math.max(e,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),e}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const e=this.centerOffset,t=\"globe\"===this.projection.name,i=this.pixelsPerMeter;\"globe\"===this.projection.name&&(this._mercatorScaleRatio=Zd(1,this.center.lat)/Zd(1,45));const r=Zx(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,r),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const n=\"meters\"===this.projection.zAxisUnit?i:1,o=this._camera.getWorldToCamera(this.worldSize,n);let s;const a=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);if(a[8]=2*-e.x/this.width,a[9]=2*e.y/this.height,this.isOrthographic){let t=.5*this.height/Math.tan(this._fov/2)*1*Math.tan(.5*this._fov),i=t*this.aspect,r=-i,n=-t;i-=e.x,r-=e.x,t+=e.y,n+=e.y,s=this._camera.getCameraToClipOrthographic(r,i,n,t,this._nearZ,this._farZ),((e,t,i,r)=>{for(let n=0;n<16;n++)e[n]=pv(t[n],i[n],r);})(s,s,a,fv(this.pitch>=15?1:this.pitch/15));}else s=a;const l=xu.mul([],a,o);let c=xu.mul([],s,o);if(this.projection.isReprojectedInTileSpace){const e=this.locationCoordinate(this.center),t=xu.identity([]);xu.translate(t,t,[e.x*this.worldSize,e.y*this.worldSize,0]),xu.multiply(t,t,Gx(this)),xu.translate(t,t,[-e.x*this.worldSize,-e.y*this.worldSize,0]),xu.multiply(c,c,t),xu.multiply(l,l,t),this.inverseAdjustmentMatrix=function(e){const t=Gx(e,!0);return fu.invert([],[t[0],t[1],t[4],t[5]])}(this);}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=xu.scale([],c,[this.worldSize,this.worldSize,this.worldSize/n,1]),this.projMatrix=c,this.invProjMatrix=xu.invert(new Float64Array(16),this.projMatrix);const h=xu.invert([],s);this.frustumCorners=Vu.fromInvProjectionMatrix(h,this.horizonLineFromTop(),this.height),this.cameraFrustum=$u.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,0,!t);const u=new Float32Array(16);xu.identity(u),xu.scale(u,u,[1,-1,1]),xu.rotateX(u,u,this._pitch),xu.rotateZ(u,u,this.angle);const d=xu.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ);this.starsProjMatrix=xu.clone(d);const p=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;d[8]=2*-e.x/this.width,d[9]=2*(e.y+p)/this.height,this.skyboxMatrix=xu.multiply(u,d,u);const f=this.point,m=f.x,_=f.y,g=this.width%2/2,y=this.height%2/2,x=Math.cos(this.angle),v=Math.sin(this.angle),b=m-Math.round(m)+x*g+v*y,w=_-Math.round(_)+x*y+v*g,T=new Float64Array(c);if(xu.translate(T,T,[b>.5?b-1:b,w>.5?w-1:w,0]),this.alignedProjMatrix=T,c=xu.create(),xu.scale(c,c,[this.width/2,-this.height/2,1]),xu.translate(c,c,[1,-1,0]),this.labelPlaneMatrix=c,c=xu.create(),xu.scale(c,c,[1,-1,1]),xu.translate(c,c,[-1,-1,0]),xu.scale(c,c,[2/this.width,2/this.height,1]),this.glCoordMatrix=c,this.pixelMatrix=xu.multiply(new Float64Array(16),this.labelPlaneMatrix,l),this._calcFogMatrices(),this._distanceTileDataCache={},c=xu.invert(new Float64Array(16),this.pixelMatrix),!c)throw new Error(\"failed to invert matrix\");if(this.pixelMatrixInverse=c,\"globe\"===this.projection.name||this.mercatorFromTransition){this.globeMatrix=function(e){const{x:t,y:i}=e.point,{lng:r,lat:n}=e._center;return Td(t,i,e.worldSize,r,n)}(this);const e=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=Mu.transformMat4(e,e,o),this.globeRadius=this.worldSize/2/Math.PI-1;}else this.globeMatrix=c;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={};}_calcFogMatrices(){this._fogTileMatrixCache={};const e=this.cameraWorldSizeForFog,t=this.cameraPixelsPerMeter,i=this._camera.position,r=1/this.height/this._pixelsPerMercatorPixel,n=[e,e,t];Mu.scale(n,n,r),Mu.scale(i,i,-1),Mu.multiply(i,i,n);const o=xu.create();xu.translate(o,o,i),xu.scale(o,o,n),this.mercatorFogMatrix=o,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(e,t,r);}_computeCameraPosition(e){const t=(e=e||this.pixelsPerMeter)/this.pixelsPerMeter,i=this._camera.forward(),r=this.point,n=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*t-e/this.worldSize*this._centerAltitude;return [r.x/this.worldSize-i[0]*n,r.y/this.worldSize-i[1]*n,e/this.worldSize*this._centerAltitude-i[2]*n]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition());}_translateCameraConstrained(e){const t=this._maxCameraBoundsDistance()*Math.cos(this._pitch),i=this._camera.position[2],r=e[2];let n=1;this.projection.wrap&&(this.center=this.center.wrap()),r>0&&(n=Math.min((t-i)/r,1)),this._camera.position=Mu.scaleAndAdd([],this._camera.position,e,n),this._updateStateFromCamera();}_updateStateFromCamera(){const e=this._camera.position,t=this._camera.forward(),{pitch:i,bearing:r}=this._camera.getPitchBearing(),n=Zd(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,o=this._mercatorZfromZoom(this._maxZoom)*Math.cos(w(this._maxPitch)),s=Math.max((e[2]-n)/Math.cos(i),o),a=this._zoomFromMercatorZ(s);Mu.scaleAndAdd(e,e,t,s),this._pitch=z(i,w(this.minPitch),w(this.maxPitch)),this.angle=P(r,-Math.PI,Math.PI),this._setZoom(z(a,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new ep(e[0],e[1],e[2])),this._unmodified=!1,this._constrain(),this._calcMatrices();}_worldSizeFromZoom(e){return Math.pow(2,e)*this.tileSize}_mercatorZfromZoom(e){return this.cameraToCenterDistance/this._worldSizeFromZoom(e)}_minimumHeightOverTerrain(){const e=Math.min((null!=this._seaLevelZoom?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(e)}_zoomFromMercatorZ(e){return this.scaleZoom(this.cameraToCenterDistance/(e*this.tileSize))}zoomFromMercatorZAdjusted(e){let t=0,i=Xu,r=0,n=1/0;for(;i-t>1e-6&&i>t;){const o=t+.5*(i-t),s=this.tileSize*Math.pow(2,o),a=this.getCameraToCenterDistance(this.projection,o,s),l=this.scaleZoom(a/(e*this.tileSize)),c=Math.abs(o-l);c<n&&(n=c,r=o),o<l?t=o:i=o;}return r}_terrainEnabled(){return !(!this._elevation||!this.projection.supportsTerrain&&(W(\"Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain.\"),1))}anyCornerOffEdge(e,t){const i=Math.min(e.x,t.x),r=Math.max(e.x,t.x),n=Math.min(e.y,t.y),o=Math.max(e.y,t.y);if(n<this.horizonLineFromTop(!1))return !0;if(\"mercator\"!==this.projection.name)return !1;const s=[new y(i,n),new y(r,o),new y(i,o),new y(r,n)],a=this.renderWorldCopies?-3:0,l=this.renderWorldCopies?4:1;for(const e of s){const t=this.pointRayIntersection(e);if(t.t<0)return !0;const i=this.rayIntersectionCoordinate(t);if(i.x<a||i.y<0||i.x>l||i.y>1)return !0}return !1}isHorizonVisible(){return this.pitch+T(this.fovAboveCenter)>88||this.anyCornerOffEdge(new y(0,0),new y(this.width,this.height))}zoomDeltaToMovement(e,t){const i=Mu.length(Mu.sub([],this._camera.position,e)),r=this._zoomFromMercatorZ(i)+t;return i-this._mercatorZfromZoom(r)}getCameraPoint(){if(\"globe\"===this.projection.name){const e=function([e,t,i],r){const n=[e,t,i,1];uu.transformMat4(n,n,r);const o=n[3]=Math.max(n[3],1e-6);return n[0]/=o,n[1]/=o,n[2]/=o,n}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new y(e[0],e[1])}{const e=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new y(0,e))}}getCameraToCenterDistance(e,t=this.zoom,i=this.worldSize){const r=Zx(e,t,this.width,this.height,1024),n=e.pixelSpaceConversion(this.center.lat,i,r);let o=.5/Math.tan(.5*this._fov)*this.height*n;return this.isOrthographic&&(o=pv(1,o,fv(this.pitch>=15?1:this.pitch/15))),o}getWorldToCameraMatrix(){const e=this._camera.getWorldToCamera(this.worldSize,\"meters\"===this.projection.zAxisUnit?this.pixelsPerMeter:1);return \"globe\"===this.projection.name&&xu.multiply(e,e,this.globeMatrix),e}getFrustum(e){return $u.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,e,\"meters\"===this.projection.zAxisUnit)}}function _v(e,t,i){xu.identity(e),xu.rotateZ(e,e,w(t[2])),xu.rotateX(e,e,w(t[0])),xu.rotateY(e,e,w(t[1])),xu.scale(e,e,i),xu.multiply(e,e,[1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1]);}function gv(e,t,i,r,n,o,s,a){const l=[i[0]-t[0],i[1]-t[1],0],c=[r[0]-t[0],r[1]-t[1],0];if(Mu.length(l)<1e-12||Mu.length(c)<1e-12)return bu.identity(e);const h=Mu.cross([],l,c);Mu.normalize(h,h),Mu.subtract(c,r,t),l[2]=(o-n)*a,c[2]=(s-n)*a;const u=l;return Mu.cross(u,l,c),Mu.normalize(u,u),bu.rotationTo(e,h,u)}function yv(e,t,i=!1){const r=Ed(t.zoom),n=function(e,t,i){const r=t.worldSize,n=[e[12],e[13],e[14]],o=Hd(n[1]/r),s=$d(n[0]/r),a=xu.identity([]),l=Zd(1,o)*r,c=Zd(1,0)*r*Kd(o,t.zoom),h=1/bd(r);let u=c*h;if(i){const e=Zx(t.projection,t.zoom,t.width,t.height,1024);u=h*t.projection.pixelSpaceConversion(t.center.lat,r,e);}const d=md(o,s);Mu.add(d,d,Mu.scale([],Mu.normalize([],d),l*u*n[2]));const p=function(e){const t=[e[0],e[1],e[2]];let i=[0,1,0];const r=Mu.cross([],i,t);return Mu.cross(i,t,r),0===Mu.squaredLength(i)&&(i=[0,1,0],Mu.cross(r,t,i)),Mu.normalize(r,r),Mu.normalize(i,i),Mu.normalize(t,t),[r[0],r[1],r[2],0,i[0],i[1],i[2],0,t[0],t[1],t[2],0,e[0],e[1],e[2],1]}(d);xu.scale(a,a,[u,u,u*l]),xu.translate(a,a,[-n[0],-n[1],-n[2]]);const f=xu.multiply([],t.globeMatrix,p);return xu.multiply(f,f,a),xu.multiply(f,f,e),f}(e,t,i);if(r>0){const i=function(e,t){const i=t.worldSize,r=Zd(1,0)*i*Kd(t.center.lat,t.zoom)/bd(i),n=Zd(1,t.center.lat)*i,o=xu.identity([]);return xu.rotateY(o,o,w(t.center.lng)),xu.rotateX(o,o,w(t.center.lat)),xu.translate(o,o,[0,0,Yu]),xu.scale(o,o,[r,r,r*n]),xu.translate(o,o,[t.point.x-.5*i,t.point.y-.5*i,0]),xu.multiply(o,o,e),xu.multiply(o,t.globeMatrix,o)}(e,t);return function(e,t,i){const r=(e,t,i)=>{const r=Mu.length(e),n=Mu.length(t),o=ld(e,t,i);return Mu.scale(o,o,1/Mu.length(o)*Wr(r,n,i))},n=r([e[0],e[1],e[2]],[t[0],t[1],t[2]],i),o=r([e[4],e[5],e[6]],[t[4],t[5],t[6]],i),s=r([e[8],e[9],e[10]],[t[8],t[9],t[10]],i),a=ld([e[12],e[13],e[14]],[t[12],t[13],t[14]],i);return [n[0],n[1],n[2],0,o[0],o[1],o[2],0,s[0],s[1],s[2],0,a[0],a[1],a[2],1]}(n,i,r)}return n}const xv=64,vv=[1,1,1];class bv{constructor(e,t,i,r){this.id=e,this.position=null!=t?new Nd(t[0],t[1]):new Nd(0,0),this.orientation=null!=i?i:[0,0,0],this.nodes=r,this.uploaded=!1,this.aabb=new Hu([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),this.matrix=[];}_applyTransformations(e,t){if(xu.multiply(e.matrix,t,e.matrix),e.meshes)for(const t of e.meshes){const i=Hu.applyTransform(t.aabb,e.matrix);this.aabb.encapsulate(i);}if(e.children)for(const t of e.children)this._applyTransformations(t,e.matrix);}computeBoundsAndApplyParent(){const e=xu.identity([]);for(const t of this.nodes)this._applyTransformations(t,e);}_positionModelOnTerrain(e,t){const i=e.elevation;if(!i)return 0;const r=Hu.projectAabbCorners(this.aabb,this.matrix),n=Zd(1,this.position.lat)*e.worldSize,o=function(e,t){const i=[0,0,1],r=[{corners:[0,1,3,2],dotProductWithUp:0},{corners:[1,5,2,6],dotProductWithUp:0},{corners:[0,4,1,5],dotProductWithUp:0},{corners:[2,6,3,7],dotProductWithUp:0},{corners:[4,7,5,6],dotProductWithUp:0},{corners:[0,3,4,7],dotProductWithUp:0}];for(const n of r){const r=e[n.corners[0]],o=e[n.corners[1]],s=e[n.corners[2]],a=[o[0]-r[0],o[1]-r[1],t*(o[2]-r[2])],l=Mu.cross(a,a,[s[0]-r[0],s[1]-r[1],t*(s[2]-r[2])]);Mu.normalize(l,l),n.dotProductWithUp=Mu.dot(l,i);}return r.sort(((e,t)=>e.dotProductWithUp-t.dotProductWithUp)),r[0].corners}(r,n),s=r[o[0]],a=r[o[1]],l=r[o[2]],c=r[o[3]],h=i.getAtPointOrZero(new ep(s[0]/e.worldSize,s[1]/e.worldSize),0),u=i.getAtPointOrZero(new ep(a[0]/e.worldSize,a[1]/e.worldSize),0),d=i.getAtPointOrZero(new ep(l[0]/e.worldSize,l[1]/e.worldSize),0),p=i.getAtPointOrZero(new ep(c[0]/e.worldSize,c[1]/e.worldSize),0),f=(h+p)/2,m=(u+d)/2;return f>m?u<d?gv(t,a,c,s,u,p,h,n):gv(t,l,s,c,d,h,p,n):h<p?gv(t,s,a,l,h,u,d,n):gv(t,c,l,a,p,d,u,n),Math.max(f,m)}computeModelMatrix(e,t,i,r,n,o,s=!1){const a=e.transform,l=a.zoom,c=a.project(this.position),h=Kd(this.position.lat,l),u=1/h;xu.identity(this.matrix),xu.translate(this.matrix,this.matrix,[c.x+r[0]*u,c.y+r[1]*u,r[2]]);let d=1,p=1;const f=a.worldSize;if(s){if(\"mercator\"===a.projection.name){let e=0;a.elevation&&(e=a.elevation.getAtPointOrZero(new ep(c.x/f,c.y/f),0));const t=uu.transformMat4([],[c.x,c.y,e,1],a.projMatrix)[3]/a.cameraToCenterDistance;d=t,p=t*Kd(a.center.lat,l);}else if(\"globe\"===a.projection.name){const e=yv(this.matrix,a),t=xu.multiply([],a.projMatrix,e),i=[0,0,0,1];uu.transformMat4(i,i,t);const r=i[3]/a.cameraToCenterDistance,n=Ed(l),o=a.projection.pixelsPerMeter(this.position.lat,f)*Kd(this.position.lat,l),s=a.projection.pixelsPerMeter(a.center.lat,f)*Kd(a.center.lat,l);d=r/Wr(o,Yd(a.center.lat),n),p=r*h/o,d*=s,p*=s;}}else d=u;xu.scale(this.matrix,this.matrix,[d,d,p]);const m=[...this.matrix],_=this.orientation,g=[];if(_v(g,[_[0]+t[0],_[1]+t[1],_[2]+t[2]],i),xu.multiply(this.matrix,m,g),n&&a.elevation){let e=0;const t=[];if(o&&a.elevation){e=this._positionModelOnTerrain(a,t);const i=xu.fromQuat([],t),r=xu.multiply([],i,g);xu.multiply(this.matrix,m,r);}else e=a.elevation.getAtPointOrZero(new ep(c.x/f,c.y/f),0);0!==e&&(this.matrix[14]+=e);}}upload(e){if(!this.uploaded){for(const t of this.nodes)Ev(t,e);for(const e of this.nodes)Mv(e);this.uploaded=!0;}}destroy(){for(const e of this.nodes)Av(e);}}function wv(e,t,i=!1){e.uploaded||(e.gfxTexture=new gy(t,e.image,i?t.gl.R8:t.gl.RGBA,{useMipmap:e.sampler.minFilter>=t.gl.NEAREST_MIPMAP_NEAREST}),e.uploaded=!0,e.image=null);}function Tv(e,t,i){e.indexBuffer=t.createIndexBuffer(e.indexArray,!1,!0),e.vertexBuffer=t.createVertexBuffer(e.vertexArray,zx.members,!1,!0),e.normalArray&&(e.normalBuffer=t.createVertexBuffer(e.normalArray,Lx.members,!1,!0)),e.texcoordArray&&(e.texcoordBuffer=t.createVertexBuffer(e.texcoordArray,Rx.members,!1,!0)),e.colorArray&&(e.colorBuffer=t.createVertexBuffer(e.colorArray,(12===e.colorArray.bytesPerElement?Dx:Px).members,!1,!0)),e.featureArray&&(e.pbrBuffer=t.createVertexBuffer(e.featureArray,Ox.members,!0)),e.segments=dl.simpleSegment(0,0,e.vertexArray.length,e.indexArray.length);const r=e.material;r.pbrMetallicRoughness.baseColorTexture&&wv(r.pbrMetallicRoughness.baseColorTexture,t),r.pbrMetallicRoughness.metallicRoughnessTexture&&wv(r.pbrMetallicRoughness.metallicRoughnessTexture,t),r.normalTexture&&wv(r.normalTexture,t),r.occlusionTexture&&wv(r.occlusionTexture,t,i),r.emissionTexture&&wv(r.emissionTexture,t);}function Ev(e,t,i){if(e.meshes)for(const r of e.meshes)Tv(r,t,i);if(e.children)for(const r of e.children)Ev(r,t,i);}function Mv(e){if(e.meshes)for(const t of e.meshes)t.indexArray.destroy(),t.vertexArray.destroy(),t.colorArray&&t.colorArray.destroy(),t.normalArray&&t.normalArray.destroy(),t.texcoordArray&&t.texcoordArray.destroy(),t.featureArray&&t.featureArray.destroy();if(e.children)for(const t of e.children)Mv(t);}function Av(e){if(e.meshes)for(const i of e.meshes)i.vertexBuffer&&(i.vertexBuffer.destroy(),i.indexBuffer.destroy(),i.normalBuffer&&i.normalBuffer.destroy(),i.texcoordBuffer&&i.texcoordBuffer.destroy(),i.colorBuffer&&i.colorBuffer.destroy(),i.pbrBuffer&&i.pbrBuffer.destroy(),i.segments.destroy(),i.material&&((t=i.material).pbrMetallicRoughness.baseColorTexture&&t.pbrMetallicRoughness.baseColorTexture.gfxTexture&&t.pbrMetallicRoughness.baseColorTexture.gfxTexture.destroy(),t.pbrMetallicRoughness.metallicRoughnessTexture&&t.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture&&t.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture.destroy(),t.normalTexture&&t.normalTexture.gfxTexture&&t.normalTexture.gfxTexture.destroy(),t.emissionTexture&&t.emissionTexture.gfxTexture&&t.emissionTexture.gfxTexture.destroy(),t.occlusionTexture&&t.occlusionTexture.gfxTexture&&t.occlusionTexture.gfxTexture.destroy()));var t;if(e.children)for(const t of e.children)Av(t);}class Sv{constructor(e,t){this.feature=e,this.instancedDataOffset=t,this.instancedDataCount=0,this.rotation=[0,0,0],this.scale=[1,1,1],this.translation=[0,0,0];}}class Iv{constructor(){this.instancedDataArray=new Ya,this.instancesEvaluatedElevation=[],this.features=[],this.idToFeaturesIndex={};}}class Cv{constructor(e){this.zoom=e.zoom,this.canonical=e.canonical,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.fqid)),this.projection=e.projection,this.index=e.index,this.hasZoomDependentProperties=this.layers[0].isZoomDependent(),this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id)),this.hasPattern=!1,this.instancesPerModel={},this.validForExaggeration=0,this.maxVerticalOffset=0,this.maxScale=0,this.maxHeight=0,this.lookupDim=this.zoom>this.canonical.z?256:this.zoom>15?75:100,this.instanceCount=0,this.terrainElevationMin=0,this.terrainElevationMax=0,this.validForDEMTile={id:null,timestamp:0};}populate(e,t,i,r){this.tileToMeter=Qd(i);const n=this.layers[0]._featureFilter.needGeometry;this.lookup=new Uint8Array(this.lookupDim*this.lookupDim);for(const{feature:o,id:s,index:a,sourceLayerIndex:l}of e){const e=cp(o,n);if(!this.layers[0]._featureFilter.filter(new ea(this.zoom),e,i))continue;const c={id:s,sourceLayerIndex:l,index:a,geometry:n?e.geometry:lp(o,i,r),properties:o.properties,type:o.type,patterns:{}},h=this.addFeature(c,c.geometry,e);h&&t.featureIndex.insert(o,c.geometry,a,l,this.index,this.instancesPerModel[h].instancedDataArray.length);}this.lookup=null;}update(e,t,i,r){for(const t in this.instancesPerModel){const i=this.instancesPerModel[t];for(const t in e)i.idToFeaturesIndex.hasOwnProperty(t)&&this.evaluate(i.features[i.idToFeaturesIndex[t]],e[t],i,!0);}this.maxHeight=0;}updateZoomBasedPaintProperties(){if(!this.hasZoomDependentProperties)return !1;let e=!1;for(const t in this.instancesPerModel){const i=this.instancesPerModel[t];for(const t of i.features){const r=this.layers[0],n=t.feature,o=this.canonical,s=r.paint.get(\"model-rotation\").evaluate(n,{},o),a=r.paint.get(\"model-scale\").evaluate(n,{},o),l=r.paint.get(\"model-translation\").evaluate(n,{},o);Mu.exactEquals(t.rotation,s)&&Mu.exactEquals(t.scale,a)&&Mu.exactEquals(t.translation,l)||(this.evaluate(t,t.featureStates,i,!0),e=!0);}}return e}isEmpty(){for(const e in this.instancesPerModel)if(0!==this.instancesPerModel[e].instancedDataArray.length)return !1;return !0}uploadPending(){return !this.uploaded}upload(e){if(!this.uploaded)for(const t in this.instancesPerModel){const i=this.instancesPerModel[t];i.instancedDataArray.length<0||0===i.instancedDataArray.length||(i.instancedDataBuffer?i.instancedDataBuffer.updateData(i.instancedDataArray):i.instancedDataBuffer=e.createVertexBuffer(i.instancedDataArray,kx.members,!0,void 0,this.instanceCount));}this.uploaded=!0;}destroy(){for(const e in this.instancesPerModel){const t=this.instancesPerModel[e];0!==t.instancedDataArray.length&&t.instancedDataBuffer&&t.instancedDataBuffer.destroy();}}addFeature(e,t,i){const r=this.layers[0],n=r.layout.get(\"model-id\").evaluate(i,{},this.canonical);if(!n)return W(`modelId is not evaluated for layer ${r.id} and it is not going to get rendered.`),n;this.instancesPerModel[n]||(this.instancesPerModel[n]=new Iv);const o=this.instancesPerModel[n],s=o.instancedDataArray,a=new Sv(i,s.length);for(const e of t)for(const t of e){if(t.x<0||t.x>=sr||t.y<0||t.y>=sr)continue;const e=(this.lookupDim-1)/sr,i=this.lookupDim*(t.y*e|0)+t.x*e|0;if(this.lookup){if(0!==this.lookup[i])continue;this.lookup[i]=1;}this.instanceCount++;const r=s.length;s.resize(r+1),o.instancesEvaluatedElevation.push(0),s.float32[16*r]=t.x,s.float32[16*r+1]=t.y;}return a.instancedDataCount=o.instancedDataArray.length-a.instancedDataOffset,a.instancedDataCount>0&&(e.id&&(o.idToFeaturesIndex[e.id]=o.features.length),o.features.push(a),this.evaluate(a,{},o,!1)),n}evaluate(e,t,i,r){const n=this.layers[0],o=e.feature,s=this.canonical,a=e.rotation=n.paint.get(\"model-rotation\").evaluate(o,t,s),l=e.scale=n.paint.get(\"model-scale\").evaluate(o,t,s),c=e.translation=n.paint.get(\"model-translation\").evaluate(o,t,s),h=n.paint.get(\"model-color\").evaluate(o,t,s);h.a=n.paint.get(\"model-color-mix-intensity\").evaluate(o,t,s);const u=[];this.maxVerticalOffset<c[2]&&(this.maxVerticalOffset=c[2]),this.maxScale=Math.max(Math.max(this.maxScale,l[0]),Math.max(l[1],l[2])),_v(u,a,l);const d=Math.round(100*h.a)+h.b/1.05;for(let t=0;t<e.instancedDataCount;++t){const n=e.instancedDataOffset+t,o=16*n,a=i.instancedDataArray.float32;let l=0;r&&(l=a[o+6]-i.instancesEvaluatedElevation[n]);const p=0|a[o+1];a[o]=(0|a[o])+h.r/1.05,a[o+1]=p+h.g/1.05,a[o+2]=d,a[o+3]=1/(s.z>10?this.tileToMeter:Qd(s,p)),a[o+4]=c[0],a[o+5]=c[1],a[o+6]=c[2]+l,a[o+7]=u[0],a[o+8]=u[1],a[o+9]=u[2],a[o+10]=u[4],a[o+11]=u[5],a[o+12]=u[6],a[o+13]=u[8],a[o+14]=u[9],a[o+15]=u[10],i.instancesEvaluatedElevation[n]=c[2];}}}Is(Cv,\"ModelBucket\",{omit:[\"layers\"]}),Is(Iv,\"PerModelAttributes\"),Is(Sv,\"ModelFeature\");const zv=new da({visibility:new ca(Ct.layout_model.visibility),\"model-id\":new ha(Ct.layout_model[\"model-id\"])});var Dv={paint:new da({\"model-opacity\":new ca(Ct.paint_model[\"model-opacity\"]),\"model-rotation\":new ha(Ct.paint_model[\"model-rotation\"]),\"model-scale\":new ha(Ct.paint_model[\"model-scale\"]),\"model-translation\":new ha(Ct.paint_model[\"model-translation\"]),\"model-color\":new ha(Ct.paint_model[\"model-color\"]),\"model-color-mix-intensity\":new ha(Ct.paint_model[\"model-color-mix-intensity\"]),\"model-type\":new ca(Ct.paint_model[\"model-type\"]),\"model-cast-shadows\":new ca(Ct.paint_model[\"model-cast-shadows\"]),\"model-receive-shadows\":new ca(Ct.paint_model[\"model-receive-shadows\"]),\"model-ambient-occlusion-intensity\":new ca(Ct.paint_model[\"model-ambient-occlusion-intensity\"]),\"model-emissive-strength\":new ha(Ct.paint_model[\"model-emissive-strength\"]),\"model-roughness\":new ha(Ct.paint_model[\"model-roughness\"]),\"model-height-based-emissive-strength-multiplier\":new ha(Ct.paint_model[\"model-height-based-emissive-strength-multiplier\"]),\"model-cutoff-fade-range\":new ca(Ct.paint_model[\"model-cutoff-fade-range\"])}),layout:zv};const Pv=new Float32Array(262144),Rv=new Uint8Array(262144);function Lv(e){let t=0;if(e.meshes)for(const i of e.meshes)t=Math.max(t,i.aabb.max[2]);if(e.children)for(const i of e.children)t=Math.max(t,Lv(i));return t}const kv=[\"\",\"wall\",\"door\",\"roof\",\"window\",\"lamp\",\"logo\"];class Ov{constructor(e){this.node=e,this.evaluatedRMEA=[[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[.4,1,0,1],[1,0,0,1],[1,0,0,1]],this.hiddenByReplacement=!1,this.evaluatedScale=[1,1,1],this.evaluatedColor=[],this.emissionHeightBasedParams=[],this.feature={type:\"Point\",id:e.id,geometry:[],properties:{height:Lv(e)}};}}class Bv{constructor(e,t,i,r){this.nodes=e,this.id=t,this.modelTraits|=1,this.uploaded=!1,this.hasPattern=!1,i&&(this.modelTraits|=4),this.zoom=-1,this.terrainExaggeration=1,this.projection={name:\"mercator\"},this.replacementUpdateTime=0,this.elevationReadFromZ=255,this.brightness=r,this.dirty=!0,this.needsUpload=!1;}update(){console.log(\"Update 3D model bucket\");}populate(){console.log(\"populate 3D model bucket\");}uploadPending(){return !this.uploaded||this.needsUpload}upload(e){if(!this.needsUpload)return;const t=this.getNodesInfo();for(const i of t){const t=i.node;this.uploaded?this.updatePbrBuffer(t):Ev(t,e,!0);}for(const e of t)Mv(e.node);this.uploaded=!0,this.needsUpload=!1;}updatePbrBuffer(e){let t=!1;if(!e.meshes)return t;for(const i of e.meshes)i.pbrBuffer&&(i.pbrBuffer.updateData(i.featureArray),t=!0);return t}needsReEvaluation(e,t,i){const r=e.transform.projectionOptions,n=e.style.getBrightness(),o=this.brightness!==n;return !!(!this.uploaded||this.dirty||r.name!==this.projection.name||Fv(i.paint.get(\"model-color\").value,o)||Fv(i.paint.get(\"model-color-mix-intensity\").value,o)||Fv(i.paint.get(\"model-roughness\").value,o)||Fv(i.paint.get(\"model-emissive-strength\").value,o)||Fv(i.paint.get(\"model-height-based-emissive-strength-multiplier\").value,o))&&(this.projection=r,this.brightness=n,!0)}evaluateScale(e,t){if(e.transform.zoom===this.zoom)return;this.zoom=e.transform.zoom;const i=this.getNodesInfo(),r=this.id.canonical;for(const e of i){const i=e.feature;e.evaluatedScale=t.paint.get(\"model-scale\").evaluate(i,{},r);}}evaluate(e){const t=this.getNodesInfo();for(const i of t){if(!i.node.meshes)continue;const t=i.feature,r=i.node.meshes&&i.node.meshes[0].featureData,n=i.evaluatedColor[2],o=i.evaluatedRMEA[2],s=this.id.canonical;if(i.hasTranslucentParts=!1,r){for(let r=0;r<kv.length;r++){const n=kv[r];n.length&&(t.properties.part=n);const o=e.paint.get(\"model-color\").evaluate(t,{},s),a=e.paint.get(\"model-color-mix-intensity\").evaluate(t,{},s);i.evaluatedColor[r]=[o.r,o.g,o.b,a],i.evaluatedRMEA[r][0]=e.paint.get(\"model-roughness\").evaluate(t,{},s),i.evaluatedRMEA[r][2]=e.paint.get(\"model-emissive-strength\").evaluate(t,{},s),i.evaluatedRMEA[r][3]=o.a,i.emissionHeightBasedParams[r]=e.paint.get(\"model-height-based-emissive-strength-multiplier\").evaluate(t,{},s),!i.hasTranslucentParts&&o.a<1&&(i.hasTranslucentParts=!0);}delete t.properties.part,Uv(i,n!==i.evaluatedColor[2]||o!==i.evaluatedRMEA[2]);}i.evaluatedScale=e.paint.get(\"model-scale\").evaluate(t,{},s),this.updatePbrBuffer(i.node)||(this.needsUpload=!0);}this.dirty=!1;}elevationUpdate(e,t,i,r){const n=e.findDEMTileFor(i);if(n&&(n.tileID.canonical!==this.terrainTile||t!==this.terrainExaggeration)){if(n.dem&&n.tileID.overscaledZ!==this.elevationReadFromZ){this.elevationReadFromZ=n.tileID.overscaledZ;const t=qm.create(e,i,n);if(!t)return;4&this.modelTraits&&this.updateDEM(e,t,i,r);for(const e of this.getNodesInfo()){const i=e.node;if(!i.footprint||!i.footprint.vertices||!i.footprint.vertices.length)continue;const r=i.footprint.vertices;let n=t.getElevationAt(r[0].x,r[0].y,!0,!0);for(let e=1;e<r.length;e++)n=Math.min(n,t.getElevationAt(r[e].x,r[e].y,!0,!0));i.elevation=n;}}this.terrainTile=n.tileID.canonical,this.terrainExaggeration=t;}}updateDEM(e,t,i,r){let n=t._dem._modifiedForSources[r];if(void 0===n&&(t._dem._modifiedForSources[r]=[],n=t._dem._modifiedForSources[r]),n.includes(i.canonical))return;const o=t._dem.dim;n.push(i.canonical);let s=!1;for(const e of this.getNodesInfo()){const i=e.node;if(!i.footprint||!i.footprint.grid)continue;const r=i.footprint.grid,n=t.tileCoordToPixel(r.min.x,r.min.y),a=t.tileCoordToPixel(r.max.x,r.max.y),l=Math.min(Math.min(o-a.y,n.x),Math.min(n.y,o-a.x));if(l<0)continue;const c=z(l,2,5);let h=Math.max(0,n.x-c),u=Math.max(0,n.y-c),d=Math.min(a.x+c,o-1),p=Math.min(a.y+c,o-1);for(let e=u;e<=p;++e)for(let t=h;t<=d;++t)Rv[e*o+t]=255;let f=0,m=0;for(let e=0;e<r.cellsY;++e)for(let i=0;i<r.cellsX;++i){if(!r.cells[e*r.cellsX+i])continue;const n=t.tileCoordToPixel(r.min.x+i/r.xScale,r.min.y+e/r.yScale),s=t.tileCoordToPixel(r.min.x+(i+1)/r.xScale,r.min.y+(e+1)/r.yScale);for(let e=n.y;e<=Math.min(s.y+1,o-1);++e)for(let i=n.x;i<=Math.min(s.x+1,o-1);++i)255===Rv[e*o+i]&&(Rv[e*o+i]=0,f+=t.getElevationAtPixel(i,e),m++);}const _=f/m;h=Math.max(1,n.x-c),u=Math.max(1,n.y-c),d=Math.min(a.x+c,o-2),p=Math.min(a.y+c,o-2),s=!0;for(let e=u;e<=p;++e)for(let i=h;i<=d;++i)0===Rv[e*o+i]&&(Pv[e*o+i]=t._dem.set(i,e,_));for(let e=1;e<c;++e){h=Math.max(1,n.x-e),u=Math.max(1,n.y-e),d=Math.min(a.x+e,o-2),p=Math.min(a.y+e,o-2);for(let i=u;i<=p;++i)for(let r=h;r<=d;++r){const n=i*o+r;if(255===Rv[n]){let s=0,a=0,l=-1,h=-1;for(let t=-1;t<=1;++t)for(let n=-1;n<=1;++n){const c=(i+t)*o+r+n;if(Rv[c]>=e)continue;const u=Pv[c],d=Math.abs(u);d>a&&(s=u,a=d,l=n,h=t);}if(a>.1){const o=1-(e+.5*Math.abs(l*h))/c;let a=t._dem.get(r,i)+s*o;const u=t._dem.get(r+l,i+h),d=t._dem.get(r-l,i-h,!0);(a-u)*(a-d)>0&&(a=(u+d)/2),Pv[n]=t._dem.set(r,i,a),Rv[n]=e;}}}}}s&&(t._demTile.needsDEMTextureUpload=!0,t._dem._timestamp=ht.now());}getNodesInfo(){if(!this.nodesInfo){this.nodesInfo=[];for(const e of this.nodes)this.nodesInfo.push(new Ov(e));this.freeNodes();}return this.nodesInfo}freeNodes(){if(this.nodes){for(const e of this.nodes)Av(e);this.nodes.splice(0,this.nodes.length);}}destroy(){this.freeNodes();const e=this.getNodesInfo();for(const t of e)Mv(t.node),Av(t.node);}isEmpty(){return !this.nodes.length}updateReplacement(e,t){if(t.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=t.updateTime;const i=t.getReplacementRegionsForTile(e.toUnwrapped()),r=this.getNodesInfo();for(let e=0;e<this.nodesInfo.length;e++){const t=r[e].node;r[e].hiddenByReplacement=!!t.footprint&&!i.find((e=>e.footprint===t.footprint));}}getHeightAtTileCoord(e,t){const i=this.getNodesInfo(),r=[];for(let n=0;n<this.nodesInfo.length;n++){const o=i[n],s=o.node.meshes[0];if(e<s.aabb.min[0]||t<s.aabb.min[1]||e>s.aabb.max[0]||t>s.aabb.max[1])continue;const a=(e-s.aabb.min[0])/(s.aabb.max[0]-s.aabb.min[0])*xv|0,l=Math.min(63,(t-s.aabb.min[1])/(s.aabb.max[1]-s.aabb.min[1])*xv|0)*xv+Math.min(63,a);if(!(s.heightmap[l]<0&&o.node.footprint)){if(o.hiddenByReplacement)return;return {height:s.heightmap[l],maxHeight:o.feature.properties.height,hidden:!1,verticalScale:o.evaluatedScale[2]}}if(o.node.footprint.grid.query(new y(e,t),new y(e,t),r),r.length>0)return {height:void 0,maxHeight:o.feature.properties.height,hidden:o.hiddenByReplacement,verticalScale:o.evaluatedScale[2]}}}}function Fv(e,t){return !e.isLightConstant&&t}function Nv(e,t,i,r,n,o,s,a){let l=(61440&t|(61440&t)>>4)>>8,c=(3840&t|(3840&t)>>4)>>4,h=240&t|(240&t)>>4;i[3]>0&&(l=Wr(l,255*i[0],i[3]),c=Wr(c,255*i[1],i[3]),h=Wr(h,255*i[2],i[3]));const u=l<<8|c,d=h<<8|Math.floor(255*r[3]),p=function(e){const t=z(e,0,2);return Math.min(Math.round(.5*t*255),255)}(r[2])<<8|15*r[0]<<4|15*r[1],f=z(n[0],0,1),m=z(n[1],0,1),_=z(n[2],0,1),g=z(n[3],0,1);let y,x,v,b;if(f!==m&&s!==o&&m!==f){const e=s-o;x=1/(e*(m-f)),v=-(o+e*f)/(e*(m-f));const t=z(n[4],-1,1);b=Math.pow(10,t),y=255*_<<8|255*g;}else y=65535,x=0,v=1,b=1;if(e.emplaceBack(u,d,p,y,x,v,b),a){const e=a.length;a.clear();for(let t=0;t<e;t++)a.emplaceBack(u,d,p,y,x,v,b);}}function Uv(e,t){const i=e.node;let r=0;for(const n of i.meshes){if(i.lights&&i.lightMeshIndex===r)continue;if(!n.featureData)continue;n.featureArray=new Ka,n.featureArray.reserve(n.featureData.length);let o=t;for(const t of n.featureData){let r;const s=65535&t,a=(15&s)<8?15&s:0,l=t>>16&65535,c=e.evaluatedRMEA[a],h=e.evaluatedColor[a],u=e.emissionHeightBasedParams[a];if(o&&2===a&&i.lights&&(r=new Ka,r.resize(10*i.lights.length)),Nv(n.featureArray,l,h,c,u,n.aabb.min[2],n.aabb.max[2],r),r&&o){o=!1;const e=i.meshes[i.lightMeshIndex];e.featureArray=r,e.featureArray._trim();}}n.featureArray._trim(),r++;}}Is(Bv,\"Tiled3dModelBucket\",{omit:[\"layers\"]}),Is(Ov,\"Tiled3dModelFeature\");class Vv{constructor(){this._updateTime=0,this._sourceIds=[],this._activeRegions=[],this._prevRegions=[];}clear(){this._activeRegions.length>0&&++this._updateTime,this._activeRegions=[],this._prevRegions=[];}get updateTime(){return this._updateTime}getReplacementRegionsForTile(e){const t=Zv(new y(0,0),new y(sr,sr),e),i=[];for(const r of this._activeRegions){if(r.hiddenByOverlap)continue;if(!qv(t,r))continue;const n=$v(r.min,r.max,e);i.push({min:n.min,max:n.max,sourceId:this._sourceIds[r.priority],footprint:r.footprint,footprintTileId:r.tileId});}return i}setSources(e){this._setSources(e.map((e=>({getSourceId:()=>e.cache.id,getFootprints:()=>{const t=[];for(const i of e.cache.getVisibleCoordinates()){const r=e.cache.getTile(i).buckets[e.layer];if(r)for(const e of r.getNodesInfo()){const r=e.node;r.footprint&&t.push({footprint:r.footprint,id:i.toUnwrapped()});}}return t}}))));}_addSource(e){const t=e.getFootprints();if(0!==t.length){for(const e of t){if(!e.footprint)continue;const t=Zv(e.footprint.min,e.footprint.max,e.id);this._activeRegions.push({min:t.min,max:t.max,hiddenByOverlap:!1,priority:this._sourceIds.length,tileId:e.id,footprint:e.footprint});}this._sourceIds.push(e.getSourceId());}}_computeReplacement(){this._activeRegions.sort(((e,t)=>e.priority-t.priority||jv(e.min,t.min)||jv(e.max,t.max)));let e=this._activeRegions.length!==this._prevRegions.length;if(!e){let t=0,i=0;for(;!e&&t!==this._activeRegions.length;){const r=this._activeRegions[t],n=this._prevRegions[i];e=r.priority!==n.priority||!Gv(r,n),++t,++i;}}if(e){++this._updateTime;const e=e=>{const t=this._activeRegions;if(e>=t.length)return e;const i=t[e].priority;for(;e<t.length&&t[e].priority===i;)++e;return e};if(this._sourceIds.length>1){let t=0,i=e(t);for(;t!==i;){let r=t;const n=t;for(;r!==i;){const e=this._activeRegions[r];e.hiddenByOverlap=!1;for(let t=0;t<n;t++){const i=this._activeRegions[t];if(!i.hiddenByOverlap&&qv(e,i)&&(e.hiddenByOverlap=Wv(e.footprint,e.tileId,i.footprint,i.tileId),e.hiddenByOverlap))break}++r;}t=i,i=e(t);}}}}_setSources(e){[this._prevRegions,this._activeRegions]=[this._activeRegions,[]],this._sourceIds=[];for(let t=e.length-1;t>=0;t--)this._addSource(e[t]);this._computeReplacement();}}function jv(e,t){return e.x-t.x||e.y-t.y}function Gv(e,t){return 0===jv(e.min,t.min)&&0===jv(e.max,t.max)}function qv(e,t){return !(e.min.x>t.max.x||e.max.x<t.min.x||e.min.y>t.max.y||e.max.y<t.min.y)}function Zv(e,t,i){const r=1/sr,n=1/(1<<i.canonical.z),o=(t.x*r+i.canonical.x)*n+i.wrap,s=(t.y*r+i.canonical.y)*n;return {min:new y((e.x*r+i.canonical.x)*n+i.wrap,(e.y*r+i.canonical.y)*n),max:new y(o,s)}}function $v(e,t,i){const r=1<<i.canonical.z,n=((t.x-i.wrap)*r-i.canonical.x)*sr,o=(t.y*r-i.canonical.y)*sr;return {min:new y(((e.x-i.wrap)*r-i.canonical.x)*sr,(e.y*r-i.canonical.y)*sr),max:new y(n,o)}}function Hv(e,t,i,r,n,o,s){const a=e.indices,l=e.vertices,c=[];for(let h=r;h<r+n;h+=3){const r=t[i[h+0]+o],n=t[i[h+1]+o],u=t[i[h+2]+o],d=Math.min(r.x,n.x,u.x),p=Math.max(r.x,n.x,u.x),f=Math.min(r.y,n.y,u.y),m=Math.max(r.y,n.y,u.y);c.length=0,e.grid.query(new y(d,f),new y(p,m),c);for(let e=0;e<c.length;e++){const t=c[e];if(Ap(l[a[3*t+0]],l[a[3*t+1]],l[a[3*t+2]],r,n,u,s))return !0}}return !1}function Wv(e,t,i,r){if(!e||!i)return !1;let n=e.vertices;if(!t.canonical.equals(r.canonical)||t.wrap!==r.wrap){if(i.vertices.length<e.vertices.length)return Wv(i,r,e,t);const o=t.canonical,s=r.canonical,a=Math.pow(2,s.z-o.z);n=e.vertices.map((e=>new y(e.x*o.x*sr*a-s.x*sr,e.y*o.y*sr*a-s.y*sr)));}return Hv(i,n,e.indices,0,e.indices.length,0,0)}const Xv=im.types,Yv=[\"fill-extrusion-base\",\"fill-extrusion-height\",\"fill-extrusion-color\",\"fill-extrusion-pattern\",\"fill-extrusion-flood-light-wall-radius\"],Kv=[\"fill-extrusion-flood-light-ground-radius\"],Jv=Math.pow(2,13),Qv=Math.pow(2,15)-1,eb=new y(0,1),tb=2147483648;function ib(e,t,i,r,n,o,s,a){e.emplaceBack((t<<1)+s,(i<<1)+o,(Math.floor(r*Jv)<<1)+n,Math.round(a));}function rb(e,t,i,r,n,o){e.emplaceBack(t.x,t.y,(i.x<<1)+r,(i.y<<1)+n,o);}function nb(e,t,i){const r=16384;e.emplaceBack(t.x,t.y,t.z,i[0]*r,i[1]*r,i[2]*r);}class ob{constructor(){this.vertexOffset=0,this.vertexCount=0,this.indexOffset=0,this.indexCount=0;}}class sb{constructor(){this.centroidXY=new y(0,0),this.vertexArrayOffset=0,this.vertexCount=0,this.groundVertexArrayOffset=0,this.groundVertexCount=0,this.flags=0,this.footprintSegIdx=-1,this.footprintSegLen=0,this.min=new y(Number.MAX_VALUE,Number.MAX_VALUE),this.max=new y(-Number.MAX_VALUE,-Number.MAX_VALUE),this.height=0;}span(){return new y(this.max.x-this.min.x,this.max.y-this.min.y)}}class ab{constructor(){this.acc=new y(0,0),this.accCount=0,this.centroidDataIndex=0;}startRing(e,t){e.min.x===Number.MAX_VALUE&&(e.min.x=e.max.x=t.x,e.min.y=e.max.y=t.y);}appendEdge(e,t,i){this.accCount++,this.acc._add(t);let r=!!this.borders;t.x<e.min.x?(e.min.x=t.x,r=!0):t.x>e.max.x&&(e.max.x=t.x,r=!0),t.y<e.min.y?(e.min.y=t.y,r=!0):t.y>e.max.y&&(e.max.y=t.y,r=!0),((0===t.x||t.x===sr)&&t.x===i.x)!=((0===t.y||t.y===sr)&&t.y===i.y)&&this.processBorderOverlap(t,i),r&&this.checkBorderIntersection(t,i);}checkBorderIntersection(e,t){t.x<0!=e.x<0&&this.addBorderIntersection(0,Wr(t.y,e.y,(0-t.x)/(e.x-t.x))),t.x>sr!=e.x>sr&&this.addBorderIntersection(1,Wr(t.y,e.y,(sr-t.x)/(e.x-t.x))),t.y<0!=e.y<0&&this.addBorderIntersection(2,Wr(t.x,e.x,(0-t.y)/(e.y-t.y))),t.y>sr!=e.y>sr&&this.addBorderIntersection(3,Wr(t.x,e.x,(sr-t.y)/(e.y-t.y)));}addBorderIntersection(e,t){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const i=this.borders[e];t<i[0]&&(i[0]=t),t>i[1]&&(i[1]=t);}processBorderOverlap(e,t){if(e.x===t.x){if(e.y===t.y)return;const i=0===e.x?0:1;this.addBorderIntersection(i,t.y),this.addBorderIntersection(i,e.y);}else {const i=0===e.y?2:3;this.addBorderIntersection(i,t.x),this.addBorderIntersection(i,e.x);}}centroid(){return 0===this.accCount?new y(0,0):new y(Math.floor(Math.max(0,this.acc.x)/this.accCount),Math.floor(Math.max(0,this.acc.y)/this.accCount))}intersectsCount(){return this.borders?this.borders.reduce(((e,t)=>e+ +(t[0]!==Number.MAX_VALUE)),0):0}}function lb(e,t){const i=e.add(t)._unit(),r=z(e.x*i.x+e.y*i.y,-1,1);var n,o,s;return n=Math.acos(r),Math.min(4,Math.max(-4,Math.tan(n)))/4*Qv*((o=e).x*(s=t).y-o.y*s.x<0?-1:1)}const cb=[e=>e.x<0,e=>e.x>sr,e=>e.y<0,e=>e.y>sr];function hb(e,t,i,r){const n=[4];if(0===r)return n;i._mult(r);const o=e.sub(i),s=t.sub(i),a=[e,t,o,s];for(let e=0;e<4;e++)for(const t of a)if(cb[e](t)){n.push(e);break}return n}class ub{constructor(e){this.vertexArray=new Aa,this.indexArray=new Va,this.programConfigurations=new Hl(e.layers,e.zoom,(e=>Kv.includes(e))),this._segments=new dl,this.hiddenByLandmarkVertexArray=new Ja,this._segmentToGroundQuads={},this._segmentToGroundQuads[0]=[],this._segmentToRegionTriCounts={},this._segmentToRegionTriCounts[0]=[0,0,0,0,0],this.regionSegments={},this.regionSegments[4]=new dl;}getDefaultSegment(){return this.regionSegments[4]}hasData(){return 0!==this.vertexArray.length}addData(e,t,i,r=!1){const n=e.length;if(n>2){let o=Math.max(0,this._segments.get().length-1);const s=this._segments._prepareSegment(4*n,this.vertexArray.length,2*this._segmentToGroundQuads[o].length);let a;o!==this._segments.get().length-1&&(o++,this._segmentToGroundQuads[o]=[],this._segmentToRegionTriCounts[o]=[0,0,0,0,0]);{const t=e[0],i=e[1];a=lb(t.sub(e[n-1])._perp()._unit(),i.sub(t)._perp()._unit());}for(let l=0;l<n;l++){const c=l===n-1?0:l+1,h=e[l],u=e[c],d=e[c===n-1?0:c+1],p=u.sub(h)._perp()._unit(),f=lb(p,d.sub(u)._perp()._unit()),m=a,_=f;if(_b(h,u,t)||r&&gb(h,t)&&gb(u,t)){a=f;continue}const g=s.vertexLength;rb(this.vertexArray,h,u,1,1,m),rb(this.vertexArray,h,u,1,0,m),rb(this.vertexArray,h,u,0,1,_),rb(this.vertexArray,h,u,0,0,_),s.vertexLength+=4;const y=hb(h,u,p,i);for(const e of y)this._segmentToGroundQuads[o].push({id:g,region:e}),this._segmentToRegionTriCounts[o][e]+=2,s.primitiveLength+=2;a=f;}}}prepareBorderSegments(){if(!this.hasData())return;const e=this._segments.get(),t=e.length;for(let e=0;e<t;e++)this._segmentToGroundQuads[e].sort(((e,t)=>e.region-t.region));for(let i=0;i<t;i++){const t=this._segmentToGroundQuads[i],r=e[i],n=this._segmentToRegionTriCounts[i];n.reduce(((e,t)=>e+t),0);let o=0;for(let e=0;e<=4;e++){const t=n[e];if(0!==t){let i=this.regionSegments[e];i||(i=this.regionSegments[e]=new dl);const n={vertexOffset:r.vertexOffset,primitiveOffset:r.primitiveOffset+o,vertexLength:r.vertexLength,primitiveLength:t};i.get().push(n);}o+=t;}for(let e=0;e<t.length;e++){const i=t[e].id;this.indexArray.emplaceBack(i,i+1,i+3),this.indexArray.emplaceBack(i,i+3,i+2);}}this._segmentToGroundQuads=null,this._segmentToRegionTriCounts=null,this._segments.destroy(),this._segments=null;}addPaintPropertiesData(e,t,i,r,n,o){this.hasData()&&this.programConfigurations.populatePaintArrays(this.vertexArray.length,e,t,i,r,n,o);}upload(e){this.hasData()&&(this.vertexBuffer=e.createVertexBuffer(this.vertexArray,Ff.members),this.indexBuffer=e.createIndexBuffer(this.indexArray));}uploadPaintProperties(e){this.hasData()&&this.programConfigurations.upload(e);}update(e,t,i,r,n,o){this.hasData()&&this.programConfigurations.updatePaintArrays(e,t,i,r,n,o);}updateHiddenByLandmark(e){if(!this.hasData())return;const t=e.groundVertexCount+e.groundVertexArrayOffset;if(0===e.groundVertexCount)return;const i=e.flags&tb?1:0;for(let r=e.groundVertexArrayOffset;r<t;++r)this.hiddenByLandmarkVertexArray.emplace(r,i);this._needsHiddenByLandmarkUpdate=!0;}uploadHiddenByLandmark(e){this.hasData()&&this._needsHiddenByLandmarkUpdate&&(!this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexArray.length>0?this.hiddenByLandmarkVertexBuffer=e.createVertexBuffer(this.hiddenByLandmarkVertexArray,Uf.members,!0):this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.updateData(this.hiddenByLandmarkVertexArray),this._needsHiddenByLandmarkUpdate=!1);}destroy(){if(this.vertexBuffer){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.destroy(),this._segments&&this._segments.destroy(),this.programConfigurations.destroy();for(let e=0;e<=4;e++){const t=this.regionSegments[e];t&&t.destroy();}}}}class db{constructor(e){this.zoom=e.zoom,this.canonical=e.canonical,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.fqid)),this.index=e.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=e.projection,this.activeReplacements=[],this.replacementUpdateTime=0,this.centroidData=[],this.footprintIndices=new Va,this.footprintVertices=new Ta,this.footprintSegments=[],this.layoutVertexArray=new Ma,this.centroidVertexArray=new cl,this.indexArray=new Va,this.programConfigurations=new Hl(e.layers,e.zoom,(e=>Yv.includes(e))),this.segments=new dl,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id)),this.groundEffect=new ub(e),this.maxHeight=0,this.partLookup={};}populate(e,t,i,r){this.features=[],this.hasPattern=Pf(\"fill-extrusion\",this.layers,t),this.featuresOnBorder=[],this.borderFeatureIndices=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=Qd(i),this.edgeRadius=this.layers[0].layout.get(\"fill-extrusion-edge-radius\")/this.tileToMeter;for(const{feature:n,id:o,index:s,sourceLayerIndex:a}of e){const e=this.layers[0]._featureFilter.needGeometry,l=cp(n,e);if(!this.layers[0]._featureFilter.filter(new ea(this.zoom),l,i))continue;const c={id:o,sourceLayerIndex:a,index:s,geometry:e?l.geometry:lp(n,i,r),properties:n.properties,type:n.type,patterns:{}},h=this.layoutVertexArray.length;this.hasPattern?this.features.push(Rf(\"fill-extrusion\",this.layers,c,this.zoom,t)):this.addFeature(c,c.geometry,s,i,{},t.availableImages,r,t.brightness),t.featureIndex.insert(n,c.geometry,s,a,this.index,h);}this.sortBorders(),this.groundEffect.prepareBorderSegments();}addFeatures(e,t,i,r,n,o){for(const e of this.features){const{geometry:s}=e;this.addFeature(e,s,e.index,t,i,r,n,o);}this.sortBorders();}update(e,t,i,r,n){const o=0!==Object.keys(e).length;if(o&&!this.stateDependentLayers.length)return;const s=o?this.stateDependentLayers:this.layers;this.programConfigurations.updatePaintArrays(e,t,s,i,r,n),this.groundEffect.update(e,t,s,i,r,n);}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return !this.uploaded||this.programConfigurations.needsUpload||this.groundEffect.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,jf),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=e.createVertexBuffer(this.layoutVertexExtArray,Vf.members,!0)),this.groundEffect.upload(e)),this.groundEffect.uploadPaintProperties(e),this.programConfigurations.upload(e),this.uploaded=!0;}uploadCentroid(e){this.groundEffect.uploadHiddenByLandmark(e),this.needsCentroidUpdate&&(!this.centroidVertexBuffer&&this.centroidVertexArray.length>0?this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,Nf.members,!0):this.centroidVertexBuffer&&this.centroidVertexBuffer.updateData(this.centroidVertexArray),this.needsCentroidUpdate=!1);}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.groundEffect.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy());}addFeature(e,t,i,r,n,o,s,a){const l=this.layers[0].paint.get(\"fill-extrusion-flood-light-ground-radius\").evaluate(e,{})/this.tileToMeter,c=[new y(0,0),new y(sr,sr)],h=s.projection,u=\"globe\"===h.name,d=\"Polygon\"===Xv[e.type],p=new ab;p.centroidDataIndex=this.centroidData.length;const f=new sb,m=this.layers[0].paint.get(\"fill-extrusion-base\").evaluate(e,{},r)<=0,_=this.layers[0].paint.get(\"fill-extrusion-height\").evaluate(e,{},r);f.height=_,f.vertexArrayOffset=this.layoutVertexArray.length,f.groundVertexArrayOffset=this.groundEffect.vertexArray.length,u&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Da);const g=zf(t,500);for(let e=g.length-1;e>=0;e--){const t=g[e];(0===t.length||(x=t[0]).every((e=>e.x<=0))||x.every((e=>e.x>=sr))||x.every((e=>e.y<=0))||x.every((e=>e.y>=sr)))&&g.splice(e,1);}var x;let v;if(u)v=bb(g,c,r);else {v=[];for(const e of g)v.push({polygon:e,bounds:c});}const b=d?this.edgeRadius:0,w=b>0&&this.zoom<17,T=(e,t)=>{if(0===e.length)return !1;const i=e[e.length-1];return t.x===i.x&&t.y===i.y};for(const{polygon:e,bounds:t}of v){let i=0,n=0;for(const t of e)d&&!t[0].equals(t[t.length-1])&&t.push(t[0]),n+=d?t.length-1:t.length;const o=this.segments.prepareSegment((d?5:4)*n,this.layoutVertexArray,this.indexArray);f.footprintSegIdx<0&&(f.footprintSegIdx=this.footprintSegments.length);const s=new ob;if(s.vertexOffset=this.footprintVertices.length,s.indexOffset=3*this.footprintIndices.length,s.ringIndices=[],d){const n=[],a=[];i=o.vertexLength;for(let i=0;i<e.length;i++){const c=e[i];c.length&&0!==i&&a.push(n.length/2);const d=[];let p,f;p=c[1].sub(c[0])._perp()._unit(),s.ringIndices.push(c.length-1);for(let e=1;e<c.length;e++){const t=c[e],i=c[e===c.length-1?1:e+1],s=t.clone();if(b){f=i.sub(t)._perp()._unit();const e=p.add(f)._unit(),r=b*Math.min(4,1/(p.x*e.x+p.y*e.y));s.x+=r*e.x,s.y+=r*e.y,s.x=Math.round(s.x),s.y=Math.round(s.y),p=f;}!m||0!==b&&!w||T(d,s)||d.push(s),ib(this.layoutVertexArray,s.x,s.y,0,0,1,1,0),o.vertexLength++,this.footprintVertices.emplaceBack(t.x,t.y),n.push(t.x,t.y),u&&nb(this.layoutVertexExtArray,h.projectTilePoint(s.x,s.y,r),h.upVector(r,s.x,s.y));}m&&(0===b||w)&&(0!==d.length&&T(d,d[0])&&d.pop(),this.groundEffect.addData(d,t,l));}const c=Cf(n,a);for(let e=0;e<c.length;e+=3)this.footprintIndices.emplaceBack(s.vertexOffset+c[e+0],s.vertexOffset+c[e+1],s.vertexOffset+c[e+2]),this.indexArray.emplaceBack(i+c[e],i+c[e+2],i+c[e+1]),o.primitiveLength++;s.indexCount+=c.length,s.vertexCount+=this.footprintVertices.length-s.vertexOffset;}for(let n=0;n<e.length;n++){const s=e[n];p.startRing(f,s[0]);let a=s.length>4&&yb(s[s.length-2],s[0],s[1]),c=b?fb(s[s.length-2],s[0],s[1],b):0;const _=[];let g,y,x;y=s[1].sub(s[0])._perp()._unit();let v=!0;for(let e=1,n=0;e<s.length;e++){let l=s[e-1],d=s[e];const w=s[e===s.length-1?1:e+1];if(p.appendEdge(f,d,l),_b(d,l,t)){b&&(y=w.sub(d)._perp()._unit(),v=!v);continue}const E=d.sub(l)._perp(),M=E.x/(Math.abs(E.x)+Math.abs(E.y)),A=E.y>0?1:0,S=l.dist(d);if(n+S>32768&&(n=0),b){x=w.sub(d)._perp()._unit();let e=mb(l,d,w,pb(y,x),b);isNaN(e)&&(e=0);const t=d.sub(l)._unit();l=l.add(t.mult(c))._round(),d=d.add(t.mult(-e))._round(),c=e,y=x,m&&this.zoom>=17&&(T(_,l)||_.push(l),T(_,d)||_.push(d));}const I=o.vertexLength,C=s.length>4&&yb(l,d,w);let z=xb(n,a,v);if(ib(this.layoutVertexArray,l.x,l.y,M,A,0,0,z),ib(this.layoutVertexArray,l.x,l.y,M,A,0,1,z),n+=S,z=xb(n,C,!v),a=C,ib(this.layoutVertexArray,d.x,d.y,M,A,0,0,z),ib(this.layoutVertexArray,d.x,d.y,M,A,0,1,z),o.vertexLength+=4,this.indexArray.emplaceBack(I+0,I+1,I+2),this.indexArray.emplaceBack(I+1,I+3,I+2),o.primitiveLength+=2,b){const r=i+(1===e?s.length-2:e-2),n=1===e?i:r+1;if(this.indexArray.emplaceBack(I+1,r,I+3),this.indexArray.emplaceBack(r,n,I+3),o.primitiveLength+=2,void 0===g&&(g=I),!_b(w,s[e],t)){const t=e===s.length-1?g:o.vertexLength;this.indexArray.emplaceBack(I+2,I+3,t),this.indexArray.emplaceBack(I+3,t+1,t),this.indexArray.emplaceBack(I+3,n,t+1),o.primitiveLength+=3;}v=!v;}if(u){const e=this.layoutVertexExtArray,t=h.projectTilePoint(l.x,l.y,r),i=h.projectTilePoint(d.x,d.y,r),n=h.upVector(r,l.x,l.y),o=h.upVector(r,d.x,d.y);nb(e,t,n),nb(e,t,n),nb(e,i,o),nb(e,i,o);}}d&&(i+=s.length-1),m&&b&&this.zoom>=17&&(0!==_.length&&T(_,_[0])&&_.pop(),this.groundEffect.addData(_,t,l,b>0));}this.footprintSegments.push(s),++f.footprintSegLen;}if(f.vertexCount=this.layoutVertexArray.length-f.vertexArrayOffset,f.groundVertexCount=this.groundEffect.vertexArray.length-f.groundVertexArrayOffset,0!==f.vertexCount){if(f.centroidXY=p.borders?eb:this.encodeCentroid(p,f),this.centroidData.push(f),p.borders){this.featuresOnBorder.push(p);const e=this.featuresOnBorder.length-1;for(let t=0;t<p.borders.length;t++)p.borders[t][0]!==Number.MAX_VALUE&&this.borderFeatureIndices[t].push(e);}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,i,n,o,r,a),this.groundEffect.addPaintPropertiesData(e,i,n,o,r,a),this.maxHeight=Math.max(this.maxHeight,_);}}sortBorders(){for(let e=0;e<this.borderFeatureIndices.length;e++)this.borderFeatureIndices[e].sort(((t,i)=>this.featuresOnBorder[t].borders[e][0]-this.featuresOnBorder[i].borders[e][0]));}encodeCentroid(e,t){const i=e.centroid(),r=t.span(),n=Math.min(7,Math.round(r.x*this.tileToMeter/10)),o=Math.min(7,Math.round(r.y*this.tileToMeter/10));return new y(z(i.x,1,sr-1)<<3|n,z(i.y,1,sr-1)<<3|o)}showCentroid(e){const t=this.centroidData[e.centroidDataIndex];t.flags&=tb,t.centroidXY.x=0,t.centroidXY.y=0,this.writeCentroidToBuffer(t);}writeCentroidToBuffer(e){this.groundEffect.updateHiddenByLandmark(e);const t=e.vertexArrayOffset,i=e.vertexCount+e.vertexArrayOffset,r=e.flags&tb?eb:e.centroidXY,n=this.centroidVertexArray.geta_centroid_pos0(t);if(this.centroidVertexArray.geta_centroid_pos1(t)!==r.y||n!==r.x){for(let e=t;e<i;++e)this.centroidVertexArray.emplace(e,r.x,r.y);this.needsCentroidUpdate=!0;}}createCentroidsBuffer(){this.centroidVertexArray.resize(this.layoutVertexArray.length),this.groundEffect.hiddenByLandmarkVertexArray.resize(this.groundEffect.vertexArray.length);for(const e of this.centroidData)this.writeCentroidToBuffer(e);}updateReplacement(e,t){if(t.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=t.updateTime;const i=t.getReplacementRegionsForTile(e.toUnwrapped());if(function(e,t){if(e.length!==t.length)return !1;for(let i=0;i<e.length;i++)if(e[i].sourceId!==t[i].sourceId||!Gv(e[i],t[i]))return !1;return !0}(this.activeReplacements,i))return;if(this.activeReplacements=i,0===this.centroidVertexArray.length)this.createCentroidsBuffer();else for(const e of this.centroidData)e.flags&=2147483647;const r=[];for(const t of this.activeReplacements){const i=Math.pow(2,t.footprintTileId.canonical.z-e.canonical.z);for(const n of this.centroidData)if(!(n.flags&tb||t.min.x>n.max.x||n.min.x>t.max.x||t.min.y>n.max.y||n.min.y>t.max.y))for(let o=0;o<n.footprintSegLen;o++){const s=this.footprintSegments[n.footprintSegIdx+o];if(r.length=0,wb(this.footprintVertices,s.vertexOffset,s.vertexCount,t.footprintTileId.canonical,e.canonical,r),Hv(t.footprint,r,this.footprintIndices.uint16,s.indexOffset,s.indexCount,-s.vertexOffset,-i)){n.flags|=tb;break}}}for(const e of this.centroidData)this.writeCentroidToBuffer(e);this.borderDoneWithNeighborZ=[-1,-1,-1,-1];}footprintContainsPoint(e,t,i){let r=!1;for(let n=0;n<i.footprintSegLen;n++){const o=this.footprintSegments[i.footprintSegIdx+n];let s=0;for(const i of o.ringIndices){for(let n=s,a=i+s-1;n<i+s;a=n++){const i=this.footprintVertices.int16[2*(n+o.vertexOffset)+0],s=this.footprintVertices.int16[2*(n+o.vertexOffset)+1],l=this.footprintVertices.int16[2*(a+o.vertexOffset)+1];s>t!=l>t&&e<(this.footprintVertices.int16[2*(a+o.vertexOffset)+0]-i)*(t-s)/(l-s)+i&&(r=!r);}s=i;}}return r}getHeightAtTileCoord(e,t){let i=Number.NEGATIVE_INFINITY,r=!0;const n=4*(e+sr)*sr+(t+sr);if(this.partLookup.hasOwnProperty(n)){const e=this.partLookup[n];return e?{height:e.height,hidden:!!(e.flags&tb)}:void 0}for(const o of this.centroidData)e>o.max.x||o.min.x>e||t>o.max.y||o.min.y>t||this.footprintContainsPoint(e,t,o)&&o&&o.height>i&&(i=o.height,this.partLookup[n]=o,r=!!(o.flags&tb));if(i!==Number.NEGATIVE_INFINITY)return {height:i,hidden:r};this.partLookup[n]=void 0;}}function pb(e,t){const i=e.add(t)._unit();return e.x*i.x+e.y*i.y}function fb(e,t,i,r){const n=t.sub(e)._perp()._unit(),o=i.sub(t)._perp()._unit();return mb(e,t,i,pb(n,o),r)}function mb(e,t,i,r,n){const o=Math.sqrt(1-r*r);return Math.min(e.dist(t)/3,t.dist(i)/3,n*o/r)}function _b(e,t,i){return e.x<i[0].x&&t.x<i[0].x||e.x>i[1].x&&t.x>i[1].x||e.y<i[0].y&&t.y<i[0].y||e.y>i[1].y&&t.y>i[1].y}function gb(e,t){return e.x<t[0].x||e.x>t[1].x||e.y<t[0].y||e.y>t[1].y}function yb(e,t,i){if(e.x<0||e.x>=sr||t.x<0||t.x>=sr||i.x<0||i.x>=sr)return !1;const r=i.sub(t),n=r.perp(),o=e.sub(t);return (r.x*o.x+r.y*o.y)/Math.sqrt((r.x*r.x+r.y*r.y)*(o.x*o.x+o.y*o.y))>-.866&&n.x*o.x+n.y*o.y<0}function xb(e,t,i){const r=t?2|e:-3&e;return i?1|r:-2&r}function vb(){const e=Math.PI/32,t=Math.tan(e),i=Od;return i*Math.sqrt(1+2*t*t)-i}function bb(e,t,i){const r=1<<i.z,n=$d(i.x/r),o=$d((i.x+1)/r),s=Hd(i.y/r),a=Hd((i.y+1)/r);return function(e,t,i,r,n=0,o){const s=[];if(!e.length||!i||!r)return s;const a=(e,t)=>{for(const i of e)s.push({polygon:i,bounds:t});},l=Math.ceil(Math.log2(i)),c=Math.ceil(Math.log2(r)),h=l-c,u=[];for(let e=0;e<Math.abs(h);e++)u.push(h>0?0:1);for(let e=0;e<Math.min(l,c);e++)u.push(0),u.push(1);let d=e;if(d=rm(d,t[0].y-n,t[1].y+n,1),d=rm(d,t[0].x-n,t[1].x+n,0),!d.length)return s;const p=[];for(u.length?p.push({polygons:d,bounds:t,depth:0}):a(d,t);p.length;){const e=p.pop(),t=e.depth,i=u[t],r=e.bounds[0],s=e.bounds[1],l=0===i?r.x:r.y,c=0===i?s.x:s.y,h=o?o(i,l,c):.5*(l+c),d=rm(e.polygons,l-n,h+n,i),f=rm(e.polygons,h-n,c+n,i);if(d.length){const e=[r,new y(0===i?h:s.x,1===i?h:s.y)];u.length>t+1?p.push({polygons:d,bounds:e,depth:t+1}):a(d,e);}if(f.length){const e=[new y(0===i?h:r.x,1===i?h:r.y),s];u.length>t+1?p.push({polygons:f,bounds:e,depth:t+1}):a(f,e);}}return s}(e,t,Math.ceil((o-n)/11.25),Math.ceil((s-a)/11.25),1,((e,t,n)=>{if(0===e)return .5*(t+n);{const e=Hd((i.y+t/sr)/r);return (qd(.5*(Hd((i.y+n/sr)/r)+e))*r-i.y)*sr}}))}function wb(e,t,i,r,n,o){const s=Math.pow(2,r.z-n.z);for(let a=0;a<i;a++){let i=e.int16[2*(a+t)+0],l=e.int16[2*(a+t)+1];i=(i+n.x*sr)*s-r.x*sr,l=(l+n.y*sr)*s-r.y*sr,o.push(new y(i,l));}}Is(db,\"FillExtrusionBucket\",{omit:[\"layers\",\"features\"]}),Is(sb,\"PartData\"),Is(ob,\"FootprintSegment\"),Is(ab,\"BorderCentroidData\"),Is(ub,\"GroundEffect\");const Tb=new da({visibility:new ca(Ct[\"layout_fill-extrusion\"].visibility),\"fill-extrusion-edge-radius\":new ca(Ct[\"layout_fill-extrusion\"][\"fill-extrusion-edge-radius\"])});var Eb={paint:new da({\"fill-extrusion-opacity\":new ca(Ct[\"paint_fill-extrusion\"][\"fill-extrusion-opacity\"]),\"fill-extrusion-color\":new ha(Ct[\"paint_fill-extrusion\"][\"fill-extrusion-color\"]),\"fill-extrusion-translate\":new ca(Ct[\"paint_fill-extrusion\"][\"fill-extrusion-translate\"]),\"fill-extrusion-translate-anchor\":new ca(Ct[\"paint_fill-extrusion\"][\"fill-extrusion-translate-anchor\"]),\"fill-extrusion-pattern\":new ha(Ct[\"paint_fill-extrusion\"][\"fill-extrusion-pattern\"]),\"fill-extrusion-height\":new ha(Ct[\"paint_fill-extrusion\"][\"fill-extrusion-height\"]),\"fill-extrusion-base\":new ha(Ct[\"paint_fill-extrusion\"][\"fill-extrusion-base\"]),\"fill-extrusion-vertical-gradient\":new ca(Ct[\"paint_fill-extrusion\"][\"fill-extrusion-vertical-gradient\"]),\"fill-extrusion-ambient-occlusion-intensity\":new ca(Ct[\"paint_fill-extrusion\"][\"fill-extrusion-ambient-occlusion-intensity\"]),\"fill-extrusion-ambient-occlusion-radius\":new ca(Ct[\"paint_fill-extrusion\"][\"fill-extrusion-ambient-occlusion-radius\"]),\"fill-extrusion-ambient-occlusion-wall-radius\":new ca(Ct[\"paint_fill-extrusion\"][\"fill-extrusion-ambient-occlusion-wall-radius\"]),\"fill-extrusion-ambient-occlusion-ground-radius\":new ca(Ct[\"paint_fill-extrusion\"][\"fill-extrusion-ambient-occlusion-ground-radius\"]),\"fill-extrusion-ambient-occlusion-ground-attenuation\":new ca(Ct[\"paint_fill-extrusion\"][\"fill-extrusion-ambient-occlusion-ground-attenuation\"]),\"fill-extrusion-flood-light-color\":new ca(Ct[\"paint_fill-extrusion\"][\"fill-extrusion-flood-light-color\"]),\"fill-extrusion-flood-light-intensity\":new ca(Ct[\"paint_fill-extrusion\"][\"fill-extrusion-flood-light-intensity\"]),\"fill-extrusion-flood-light-wall-radius\":new ha(Ct[\"paint_fill-extrusion\"][\"fill-extrusion-flood-light-wall-radius\"]),\"fill-extrusion-flood-light-ground-radius\":new ha(Ct[\"paint_fill-extrusion\"][\"fill-extrusion-flood-light-ground-radius\"]),\"fill-extrusion-flood-light-ground-attenuation\":new ca(Ct[\"paint_fill-extrusion\"][\"fill-extrusion-flood-light-ground-attenuation\"]),\"fill-extrusion-vertical-scale\":new ca(Ct[\"paint_fill-extrusion\"][\"fill-extrusion-vertical-scale\"]),\"fill-extrusion-rounded-roof\":new ca(Ct[\"paint_fill-extrusion\"][\"fill-extrusion-rounded-roof\"]),\"fill-extrusion-cutoff-fade-range\":new ca(Ct[\"paint_fill-extrusion\"][\"fill-extrusion-cutoff-fade-range\"])}),layout:Tb};class Mb extends y{constructor(e,t,i){super(e,t),this.z=i;}}function Ab(e,t){return e.x*t.x+e.y*t.y}function Sb(e,t){if(1===e.length){let i=0;const r=t[i++];let n;for(;!n||r.equals(n);)if(n=t[i++],!n)return 1/0;for(;i<t.length;i++){const o=t[i],s=e[0],a=n.sub(r),l=o.sub(r),c=s.sub(r),h=Ab(a,a),u=Ab(a,l),d=Ab(l,l),p=Ab(c,a),f=Ab(c,l),m=h*d-u*u,_=(d*p-u*f)/m,g=(h*f-u*p)/m,y=r.z*(1-_-g)+n.z*_+o.z*g;if(isFinite(y))return y}return 1/0}{let e=1/0;for(const i of t)e=Math.min(e,i.z);return e}}function Ib(e,t,i,r,n,o,s,a){const l=s*n.getElevationAt(e,t,!0,!0),c=0!==o[0],h=c?0===o[1]?s*(o[0]/7-450):s*function(e,t,i){const r=Math.floor(t[0]/8),n=Math.floor(t[1]/8),o=10*(t[0]-8*r),s=10*(t[1]-8*n),a=e.getElevationAt(r,n,!0,!0),l=e.getMeterToDEM(i),c=Math.floor(.5*(o*l-1)),h=Math.floor(.5*(s*l-1)),u=e.tileCoordToPixel(r,n),d=2*c+1,p=2*h+1,f=function(e,t,i,r,n){return [e.getElevationAtPixel(t,i,!0),e.getElevationAtPixel(t+n,i,!0),e.getElevationAtPixel(t,i+n,!0),e.getElevationAtPixel(t+r,i+n,!0)]}(e,u.x-c,u.y-h,d,p),m=Math.abs(f[0]-f[1]),_=Math.abs(f[2]-f[3]),g=Math.abs(f[0]-f[2])+Math.abs(f[1]-f[3]),y=Math.min(.25,.5*l*(m+_)/d),x=Math.min(.25,.5*l*g/p);return a+Math.max(y*o,x*s)}(n,o,a):l;return {base:l+(0===i)?-1:i,top:c?Math.max(h+r,l+i+2):l+r}}const Cb=new da({\"line-cap\":new ha(Ct.layout_line[\"line-cap\"]),\"line-join\":new ha(Ct.layout_line[\"line-join\"]),\"line-miter-limit\":new ca(Ct.layout_line[\"line-miter-limit\"]),\"line-round-limit\":new ca(Ct.layout_line[\"line-round-limit\"]),\"line-sort-key\":new ha(Ct.layout_line[\"line-sort-key\"]),visibility:new ca(Ct.layout_line.visibility)});var zb={paint:new da({\"line-opacity\":new ha(Ct.paint_line[\"line-opacity\"]),\"line-color\":new ha(Ct.paint_line[\"line-color\"]),\"line-translate\":new ca(Ct.paint_line[\"line-translate\"]),\"line-translate-anchor\":new ca(Ct.paint_line[\"line-translate-anchor\"]),\"line-width\":new ha(Ct.paint_line[\"line-width\"]),\"line-gap-width\":new ha(Ct.paint_line[\"line-gap-width\"]),\"line-offset\":new ha(Ct.paint_line[\"line-offset\"]),\"line-blur\":new ha(Ct.paint_line[\"line-blur\"]),\"line-dasharray\":new ha(Ct.paint_line[\"line-dasharray\"]),\"line-pattern\":new ha(Ct.paint_line[\"line-pattern\"]),\"line-gradient\":new ua(Ct.paint_line[\"line-gradient\"]),\"line-trim-offset\":new ca(Ct.paint_line[\"line-trim-offset\"]),\"line-emissive-strength\":new ca(Ct.paint_line[\"line-emissive-strength\"]),\"line-border-width\":new ha(Ct.paint_line[\"line-border-width\"]),\"line-border-color\":new ha(Ct.paint_line[\"line-border-color\"])}),layout:Cb};const Db=(e,t,i,r,n,o,s)=>{const a=e.transform,l=a.calculatePixelsToTileUnitsMatrix(t);return {u_matrix:Lb(e,t,i,r),u_pixels_to_tile_units:l,u_device_pixel_ratio:o,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:n,u_texsize:Ob(i)?t.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Rb(t,e.transform),u_alpha_discard_threshold:0,u_trim_offset:s,u_emissive_strength:i.paint.get(\"line-emissive-strength\")}},Pb=(e,t,i,r,n)=>{const o=e.transform;return {u_matrix:Lb(e,t,i,r),u_texsize:t.imageAtlasTexture.size,u_pixels_to_tile_units:o.calculatePixelsToTileUnitsMatrix(t),u_device_pixel_ratio:n,u_image:0,u_tile_units_to_pixels:Rb(t,o),u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Rb(e,t){return 1/Xx(e,1,t.tileZoom)}function Lb(e,t,i,r){return e.translatePosMatrix(r||t.tileID.projMatrix,t,i.paint.get(\"line-translate\"),i.paint.get(\"line-translate-anchor\"))}const kb=e=>{const t=[];Ob(e)&&t.push(\"RENDER_LINE_DASH\"),e.paint.get(\"line-gradient\")&&t.push(\"RENDER_LINE_GRADIENT\");const i=e.paint.get(\"line-trim-offset\");return 0===i[0]&&0===i[1]||t.push(\"RENDER_LINE_TRIM_OFFSET\"),0!==e.paint.get(\"line-border-width\").constantOr(1)&&t.push(\"RENDER_LINE_BORDER\"),t};function Ob(e){const t=e.paint.get(\"line-dasharray\").value;return t.value||\"constant\"!==t.kind}const Bb=new class extends ha{possiblyEvaluate(e,t){return t=new ea(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,transition:t.transition}),super.possiblyEvaluate(e,t)}evaluate(e,t,i,r){return t=k({},t,{zoom:Math.floor(t.zoom)}),super.evaluate(e,t,i,r)}}(zb.paint.properties[\"line-width\"].specification);function Fb(e,t){return t>0?t+2*e:e}Bb.useIntegerZoom=!0;const Nb=new da({visibility:new ca(Ct.layout_background.visibility)});var Ub={paint:new da({\"background-color\":new ca(Ct.paint_background[\"background-color\"]),\"background-pattern\":new ca(Ct.paint_background[\"background-pattern\"]),\"background-opacity\":new ca(Ct.paint_background[\"background-opacity\"]),\"background-emissive-strength\":new ca(Ct.paint_background[\"background-emissive-strength\"])}),layout:Nb};const Vb=new da({visibility:new ca(Ct.layout_raster.visibility)});var jb={paint:new da({\"raster-opacity\":new ca(Ct.paint_raster[\"raster-opacity\"]),\"raster-color\":new ua(Ct.paint_raster[\"raster-color\"]),\"raster-color-mix\":new ca(Ct.paint_raster[\"raster-color-mix\"]),\"raster-color-range\":new ca(Ct.paint_raster[\"raster-color-range\"]),\"raster-hue-rotate\":new ca(Ct.paint_raster[\"raster-hue-rotate\"]),\"raster-brightness-min\":new ca(Ct.paint_raster[\"raster-brightness-min\"]),\"raster-brightness-max\":new ca(Ct.paint_raster[\"raster-brightness-max\"]),\"raster-saturation\":new ca(Ct.paint_raster[\"raster-saturation\"]),\"raster-contrast\":new ca(Ct.paint_raster[\"raster-contrast\"]),\"raster-resampling\":new ca(Ct.paint_raster[\"raster-resampling\"]),\"raster-fade-duration\":new ca(Ct.paint_raster[\"raster-fade-duration\"])}),layout:Vb};function Gb(e,t,i,r,n,o,s,a){const l=[e,i,n,t,r,o,1,1,1],c=[s,a,1],h=gu.adjoint([],l),[u,d,p]=Mu.transformMat3(c,c,gu.transpose(h,h));return gu.multiply(l,[u,0,0,0,d,0,0,0,p],l)}class qb extends It{constructor(e,t,i,r){super(),this.id=e,this.dispatcher=i,this.coordinates=t.coordinates,this.type=\"image\",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.onNorthPole=!1,this.onSouthPole=!1,this.setEventedParent(r),this.options=t,this._dirty=!1;}load(e,i){if(this._loaded=i||!1,this.fire(new At(\"dataloading\",{dataType:\"source\"})),this.url=this.options.url,!this.url)return e&&(this.coordinates=e),this._loaded=!0,void this._finishLoading();this._imageRequest=Ie(this.map._requestManager.transformRequest(this.url,ye.Image),((i,r)=>{if(this._imageRequest=null,this._loaded=!0,i)this.fire(new St(i));else if(r){const{HTMLImageElement:i}=t;this.image=r instanceof i?ht.getImageData(r):r,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,e&&(this.coordinates=e),this._finishLoading();}}));}loaded(){return this._loaded}updateImage(e){return this.image&&e.url?(this._imageRequest&&e.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=e.url,this.load(e.coordinates,this._loaded),this):this}setTexture(e){if(!(e.handle instanceof WebGLTexture))throw new Error(\"The provided handle is not a WebGLTexture instance\");return this.texture=new yy(this.map.painter.context,e.handle),this.width=e.dimensions[0],this.height=e.dimensions[1],this._dirty=!1,this._loaded=!0,this._finishLoading(),this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new At(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"})));}onAdd(e){this.map=e,this.load();}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),!this.texture||this.texture instanceof yy||this.texture.destroy();}setCoordinates(e){if(this.coordinates=e,this._boundsArray=void 0,!e.length)return this;this.onNorthPole=!1,this.onSouthPole=!1;let t=e[0][1],i=e[0][1];for(const r of e)r[1]>i&&(i=r[1]),r[1]<t&&(t=r[1]);const r=(i+t)/2;if(r>Xd?this.onNorthPole=!0:r<-Xd&&(this.onSouthPole=!0),!this.onNorthPole&&!this.onSouthPole){const t=e.map(ep.fromLngLat);this.tileID=function(e){let t=1/0,i=1/0,r=-1/0,n=-1/0;for(const o of e)t=Math.min(t,o.x),i=Math.min(i,o.y),r=Math.max(r,o.x),n=Math.max(n,o.y);const o=Math.max(r-t,n-i),s=Math.max(0,Math.floor(-Math.log(o)/Math.LN2)),a=Math.pow(2,s);return new ku(s,Math.floor((t+r)/2*a),Math.floor((i+n)/2*a))}(t),this.minzoom=this.maxzoom=this.tileID.z;}return this.fire(new At(\"data\",{dataType:\"source\",sourceDataType:\"content\"})),this}_clear(){this._boundsArray=void 0;}_prepareData(e){for(const e in this.tiles){const t=this.tiles[e];\"loaded\"!==t.state&&(t.state=\"loaded\",t.texture=this.texture);}if(this._boundsArray)return;const t=Tg(this.tileID,this.map.transform.projection),[i,r,n,o]=this.coordinates.map((e=>{const i=t.projection.project(e[0],e[1]);return Mg(t,i)._round()}));this.perspectiveTransform=function(e,t,i,r,n,o,s,a,l,c){const h=Gb(0,0,e,0,0,t,e,t),u=Gb(i,r,n,o,s,a,l,c);return gu.multiply(u,gu.adjoint(h,h),u),[u[6]/u[8]*e/sr,u[7]/u[8]*t/sr]}(this.width,this.height,i.x,i.y,r.x,r.y,o.x,o.y,n.x,n.y);const s=this._boundsArray=new Ma;s.emplaceBack(i.x,i.y,0,0),s.emplaceBack(r.x,r.y,sr,0),s.emplaceBack(o.x,o.y,0,sr),s.emplaceBack(n.x,n.y,sr,sr),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=e.createVertexBuffer(s,Ay.members),this.boundsSegments=dl.simpleSegment(0,0,4,2);}prepare(){const e=0!==Object.keys(this.tiles).length;if(this.tileID&&!e)return;const t=this.map.painter.context,i=t.gl;!this._dirty||this.texture instanceof yy||(this.texture?this.texture.update(this.image):(this.texture=new gy(t,this.image,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE)),this._dirty=!1),e&&this._prepareData(t);}loadTile(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state=\"errored\",t(null));}serialize(){return {type:\"image\",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return !1}}class Zb extends _a{constructor(e){super(e,{}),this.implementation=e,e.slot&&(this.slot=e.slot);}is3D(){return \"3d\"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}isLayerDraped(e){return void 0!==this.implementation.renderToTile}shouldRedrape(){return !!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return !1}serialize(){}onAdd(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl);}onRemove(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl);}}const $b=new da({visibility:new ca(Ct.layout_sky.visibility)});var Hb={paint:new da({\"sky-type\":new ca(Ct.paint_sky[\"sky-type\"]),\"sky-atmosphere-sun\":new ca(Ct.paint_sky[\"sky-atmosphere-sun\"]),\"sky-atmosphere-sun-intensity\":new ca(Ct.paint_sky[\"sky-atmosphere-sun-intensity\"]),\"sky-gradient-center\":new ca(Ct.paint_sky[\"sky-gradient-center\"]),\"sky-gradient-radius\":new ca(Ct.paint_sky[\"sky-gradient-radius\"]),\"sky-gradient\":new ua(Ct.paint_sky[\"sky-gradient\"]),\"sky-atmosphere-halo-color\":new ca(Ct.paint_sky[\"sky-atmosphere-halo-color\"]),\"sky-atmosphere-color\":new ca(Ct.paint_sky[\"sky-atmosphere-color\"]),\"sky-opacity\":new ca(Ct.paint_sky[\"sky-opacity\"])}),layout:$b};function Wb(e,t,i){const r=[0,0,1],n=bu.identity([]);return bu.rotateY(n,n,i?-w(e)+Math.PI:w(e)),bu.rotateX(n,n,-w(t)),Mu.transformQuat(r,r,n),Mu.normalize(r,r)}var Xb={paint:new da({})};const Yb={circle:class extends _a{constructor(e,t){super(e,Pp,t);}createBucket(e){return new dp(e)}queryRadius(e){const t=e;return Sp(\"circle-radius\",this,t)+Sp(\"circle-stroke-width\",this,t)+Ip(this.paint.get(\"circle-translate\"))}queryIntersectsFeature(e,t,i,r,n,o,s,a){const l=zp(this.paint.get(\"circle-translate\"),this.paint.get(\"circle-translate-anchor\"),o.angle,e.pixelToTileUnitsFactor),c=this.paint.get(\"circle-radius\").evaluate(t,i)+this.paint.get(\"circle-stroke-width\").evaluate(t,i);return Op(e,r,o,s,a,\"map\"===this.paint.get(\"circle-pitch-alignment\"),\"map\"===this.paint.get(\"circle-pitch-scale\"),l,c)}getProgramIds(){return [\"circle\"]}getDefaultProgramParams(e,t){const i=kp(this);return {config:new $l(this,t),defines:i,overrideFog:!1}}},heatmap:class extends _a{createBucket(e){return new Vp(e)}constructor(e,t){super(e,Xp,t),this._updateColorRamp();}_handleSpecialPaintPropertyUpdate(e){\"heatmap-color\"===e&&this._updateColorRamp();}_updateColorRamp(){this.colorRamp=Yp({expression:this._transitionablePaint._values[\"heatmap-color\"].value.expression,evaluationKey:\"heatmapDensity\",image:this.colorRamp}),this.colorRampTexture=null;}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null);}queryRadius(e){return Sp(\"heatmap-radius\",this,e)}queryIntersectsFeature(e,t,i,r,n,o,s,a){const l=this.paint.get(\"heatmap-radius\").evaluate(t,i);return Op(e,r,o,s,a,!0,!0,new y(0,0),l)}hasOffscreenPass(){return 0!==this.paint.get(\"heatmap-opacity\")&&\"none\"!==this.visibility}getProgramIds(){return [\"heatmap\",\"heatmapTexture\"]}getDefaultProgramParams(e,t){return \"heatmap\"===e?{config:new $l(this,t),overrideFog:!1}:{}}},hillshade:class extends _a{constructor(e,t){super(e,Jp,t);}hasOffscreenPass(){return 0!==this.paint.get(\"hillshade-exaggeration\")&&\"none\"!==this.visibility}getProgramIds(){return [\"hillshade\",\"hillshadePrepare\"]}getDefaultProgramParams(e,t){return {overrideFog:!1}}},fill:class extends _a{constructor(e,t){super(e,Of,t);}getProgramIds(){const e=this.paint.get(\"fill-pattern\"),t=e&&e.constantOr(1),i=[t?\"fillPattern\":\"fill\"];return this.paint.get(\"fill-antialias\")&&i.push(t&&!this.getPaintProperty(\"fill-outline-color\")?\"fillOutlinePattern\":\"fillOutline\"),i}getDefaultProgramParams(e,t){return {config:new $l(this,t),overrideFog:!1}}recalculate(e,t){super.recalculate(e,t);const i=this.paint._values[\"fill-outline-color\"];\"constant\"===i.value.kind&&void 0===i.value.value&&(this.paint._values[\"fill-outline-color\"]=this.paint._values[\"fill-color\"]);}createBucket(e){return new Lf(e)}queryRadius(){return Ip(this.paint.get(\"fill-translate\"))}queryIntersectsFeature(e,t,i,r,n,o){return !e.queryGeometry.isAboveHorizon&&mp(Cp(e.tilespaceGeometry,this.paint.get(\"fill-translate\"),this.paint.get(\"fill-translate-anchor\"),o.angle,e.pixelToTileUnitsFactor),r)}isTileClipped(){return !0}},\"fill-extrusion\":class extends _a{constructor(e,t){super(e,Eb,t);}createBucket(e){return new db(e)}queryRadius(){return Ip(this.paint.get(\"fill-extrusion-translate\"))}is3D(){return !0}hasShadowPass(){return !0}cutoffRange(){return this.paint.get(\"fill-extrusion-cutoff-fade-range\")}canCastShadows(){return !0}getProgramIds(){return [this.paint.get(\"fill-extrusion-pattern\").constantOr(1)?\"fillExtrusionPattern\":\"fillExtrusion\"]}queryIntersectsFeature(e,t,i,r,n,o,s,a,l){const c=zp(this.paint.get(\"fill-extrusion-translate\"),this.paint.get(\"fill-extrusion-translate-anchor\"),o.angle,e.pixelToTileUnitsFactor),h=this.paint.get(\"fill-extrusion-height\").evaluate(t,i),u=this.paint.get(\"fill-extrusion-base\").evaluate(t,i),d=[0,0],p=a&&o.elevation,f=o.elevation?o.elevation.exaggeration():1,m=e.tile.getBucket(this);if(p&&m instanceof db){const e=m.centroidVertexArray,t=l+1;t<e.length&&(d[0]=e.geta_centroid_pos0(t),d[1]=e.geta_centroid_pos1(t));}if(0===d[0]&&1===d[1])return !1;\"globe\"===o.projection.name&&(r=bb([r],[new y(0,0),new y(sr,sr)],e.tileID.canonical).map((e=>e.polygon)).flat());const _=p?a:null,[g,x]=function(e,t,i,r,n,o,s,a,l,c,h){return \"globe\"===e.projection.name?function(e,t,i,r,n,o,s,a,l,c,h){const u=[],d=[],p=e.projection.upVectorScale(h,e.center.lat,e.worldSize).metersToTile,f=[0,0,0,1],m=[0,0,0,1],_=(e,t,i,r)=>{e[0]=t,e[1]=i,e[2]=r,e[3]=1;},g=vb();i>0&&(i+=g),r+=g;for(const g of t){const t=[],y=[];for(const u of g){const d=u.x+n.x,g=u.y+n.y,x=e.projection.projectTilePoint(d,g,h),v=e.projection.upVector(h,u.x,u.y);let b=i,w=r;if(s){const e=Ib(d,g,i,r,s,a,l,c);b+=e.base,w+=e.top;}0!==i?_(f,x.x+v[0]*p*b,x.y+v[1]*p*b,x.z+v[2]*p*b):_(f,x.x,x.y,x.z),_(m,x.x+v[0]*p*w,x.y+v[1]*p*w,x.z+v[2]*p*w),Mu.transformMat4(f,f,o),Mu.transformMat4(m,m,o),t.push(new Mb(f[0],f[1],f[2])),y.push(new Mb(m[0],m[1],m[2]));}u.push(t),d.push(y);}return [u,d]}(e,t,i,r,n,o,s,a,l,c,h):s?function(e,t,i,r,n,o,s,a,l){const c=[],h=[],u=[0,0,0,1];for(const d of e){const e=[],p=[];for(const c of d){const h=c.x+r.x,d=c.y+r.y,f=Ib(h,d,t,i,o,s,a,l);u[0]=h,u[1]=d,u[2]=f.base,u[3]=1,uu.transformMat4(u,u,n),u[3]=Math.max(u[3],1e-5);const m=new Mb(u[0]/u[3],u[1]/u[3],u[2]/u[3]);u[0]=h,u[1]=d,u[2]=f.top,u[3]=1,uu.transformMat4(u,u,n),u[3]=Math.max(u[3],1e-5);const _=new Mb(u[0]/u[3],u[1]/u[3],u[2]/u[3]);e.push(m),p.push(_);}c.push(e),h.push(p);}return [c,h]}(t,i,r,n,o,s,a,l,c):function(e,t,i,r,n){const o=[],s=[],a=n[8]*t,l=n[9]*t,c=n[10]*t,h=n[11]*t,u=n[8]*i,d=n[9]*i,p=n[10]*i,f=n[11]*i;for(const t of e){const e=[],i=[];for(const o of t){const t=o.x+r.x,s=o.y+r.y,m=n[0]*t+n[4]*s+n[12],_=n[1]*t+n[5]*s+n[13],g=n[2]*t+n[6]*s+n[14],y=n[3]*t+n[7]*s+n[15],x=m+a,v=_+l,b=g+c,w=Math.max(y+h,1e-5),T=m+u,E=_+d,M=g+p,A=Math.max(y+f,1e-5);e.push(new Mb(x/w,v/w,b/w)),i.push(new Mb(T/A,E/A,M/A));}o.push(e),s.push(i);}return [o,s]}(t,i,r,n,o)}(o,r,u,h,c,s,_,d,f,o.center.lat,e.tileID.canonical),v=e.queryGeometry;return function(e,t,i){let r=1/0;mp(i,t)&&(r=Sb(i,t[0]));for(let n=0;n<t.length;n++){const o=t[n],s=e[n];for(let e=0;e<o.length-1;e++){const t=o[e],n=[t,o[e+1],s[e+1],s[e],t];pp(i,n)&&(r=Math.min(r,Sb(i,n)));}}return r!==1/0&&r}(g,x,v.isPointQuery()?v.screenBounds:v.screenGeometry)}},line:class extends _a{constructor(e,t){super(e,zb,t),this.gradientVersion=0;}_handleSpecialPaintPropertyUpdate(e){if(\"line-gradient\"===e){const e=this._transitionablePaint._values[\"line-gradient\"].value.expression;this.stepInterpolant=e._styleExpression&&e._styleExpression.expression instanceof Hr,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER;}}gradientExpression(){return this._transitionablePaint._values[\"line-gradient\"].value.expression}widthExpression(){return this._transitionablePaint._values[\"line-width\"].value.expression}recalculate(e,t){super.recalculate(e,t),this.paint._values[\"line-floorwidth\"]=Bb.possiblyEvaluate(this._transitioningPaint._values[\"line-width\"].value,e);}createBucket(e){return new _y(e)}getProgramIds(){return [this.paint.get(\"line-pattern\").constantOr(1)?\"linePattern\":\"line\"]}getDefaultProgramParams(e,t){const i=kb(this);return {config:new $l(this,t),defines:i,overrideFog:!1}}queryRadius(e){const t=e,i=Fb(Sp(\"line-width\",this,t),Sp(\"line-gap-width\",this,t)),r=Sp(\"line-offset\",this,t);return i/2+Math.abs(r)+Ip(this.paint.get(\"line-translate\"))}queryIntersectsFeature(e,t,i,r,n,o){if(e.queryGeometry.isAboveHorizon)return !1;const s=Cp(e.tilespaceGeometry,this.paint.get(\"line-translate\"),this.paint.get(\"line-translate-anchor\"),o.angle,e.pixelToTileUnitsFactor),a=e.pixelToTileUnitsFactor/2*Fb(this.paint.get(\"line-width\").evaluate(t,i),this.paint.get(\"line-gap-width\").evaluate(t,i)),l=this.paint.get(\"line-offset\").evaluate(t,i);return l&&(r=function(e,t){const i=[],r=new y(0,0);for(let n=0;n<e.length;n++){const o=e[n],s=[];for(let e=0;e<o.length;e++){const i=o[e],n=o[e+1],a=0===e?r:i.sub(o[e-1])._unit()._perp(),l=e===o.length-1?r:n.sub(i)._unit()._perp(),c=a._add(l)._unit();c._mult(1/(c.x*l.x+c.y*l.y)),s.push(c._mult(t)._add(i));}i.push(s);}return i}(r,l*e.pixelToTileUnitsFactor)),function(e,t,i){for(let r=0;r<t.length;r++){const n=t[r];if(e.length>=3)for(let t=0;t<n.length;t++)if(wp(e,n[t]))return !0;if(_p(e,n,i))return !0}return !1}(s,r,a)}isTileClipped(){return !0}},symbol:Kg,background:class extends _a{constructor(e,t){super(e,Ub,t);}getProgramIds(){return [this.paint.get(\"background-pattern\")?\"backgroundPattern\":\"background\"]}getDefaultProgramParams(e,t){return {overrideFog:!1}}},raster:class extends _a{constructor(e,t){super(e,jb,t),this._updateColorRamp();}getProgramIds(){return [\"raster\"]}hasColorMap(){return !!this._transitionablePaint._values[\"raster-color\"].value.value}isLayerDraped(e){return !(e&&e._source instanceof qb&&(e._source.onNorthPole||e._source.onSouthPole))}_handleSpecialPaintPropertyUpdate(e){\"raster-color\"!==e&&\"raster-color-range\"!==e||this._updateColorRamp();}_updateColorRamp(){if(!this.hasColorMap())return;const e=this._transitionablePaint._values[\"raster-color\"].value.expression,[t,i]=this._transitionablePaint._values[\"raster-color-range\"].value.expression.evaluate({zoom:0});this.colorRamp=Yp({expression:e,evaluationKey:\"rasterValue\",image:this.colorRamp,clips:[{start:t,end:i}],resolution:256}),this.colorRampTexture=null;}},sky:class extends _a{constructor(e,t){super(e,Hb,t),this._updateColorRamp();}_handleSpecialPaintPropertyUpdate(e){\"sky-gradient\"===e?this._updateColorRamp():\"sky-atmosphere-sun\"!==e&&\"sky-atmosphere-halo-color\"!==e&&\"sky-atmosphere-color\"!==e&&\"sky-atmosphere-sun-intensity\"!==e||(this._skyboxInvalidated=!0);}_updateColorRamp(){this.colorRamp=Yp({expression:this._transitionablePaint._values[\"sky-gradient\"].value.expression,evaluationKey:\"skyRadialProgress\"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null);}needsSkyboxCapture(e){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return !0;if(!this.paint.get(\"sky-atmosphere-sun\")){const t=e.style.light.properties.get(\"position\");return this._lightPosition.azimuthal!==t.azimuthal||this._lightPosition.polar!==t.polar}return !1}getCenter(e,t){if(\"atmosphere\"===this.paint.get(\"sky-type\")){const i=this.paint.get(\"sky-atmosphere-sun\"),r=!i,n=e.style.light,o=n.properties.get(\"position\");return r&&\"viewport\"===n.properties.get(\"anchor\")&&W(\"The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly.\"),r?Wb(o.azimuthal,90-o.polar,t):Wb(i[0],90-i[1],t)}const i=this.paint.get(\"sky-gradient-center\");return Wb(i[0],90-i[1],t)}isSky(){return !0}markSkyboxValid(e){this._skyboxInvalidated=!1,this._lightPosition=e.style.light.properties.get(\"position\");}hasOffscreenPass(){return !0}getProgramIds(){const e=this.paint.get(\"sky-type\");return \"atmosphere\"===e?[\"skyboxCapture\",\"skybox\"]:\"gradient\"===e?[\"skyboxGradient\"]:null}},slot:class extends _a{constructor(e,t){super(e,Xb);}},model:class extends _a{constructor(e,t){super(e,Dv,t);}createBucket(e){return new Cv(e)}getProgramIds(){return [\"model\"]}is3D(){return !0}hasShadowPass(){return !0}canCastShadows(){return !0}hasLightBeamPass(){return !0}cutoffRange(){return this.paint.get(\"model-cutoff-fade-range\")}queryRadius(){return 0}queryIntersectsFeature(){return !1}_handleOverridablePaintPropertyUpdate(e,t,i){return !(!this.layout||t.isDataDriven()||i.isDataDriven()||\"model-color\"!==e&&\"model-color-mix-intensity\"!==e&&\"model-rotation\"!==e&&\"model-scale\"!==e&&\"model-translation\"!==e&&\"model-emissive-strength\"!==e)}_isPropertyZoomDependent(e){const t=this._transitionablePaint._values[e];return null!=t&&null!=t.value&&null!=t.value.expression&&t.value.expression instanceof bo}isZoomDependent(){return this._isPropertyZoomDependent(\"model-scale\")||this._isPropertyZoomDependent(\"model-rotation\")||this._isPropertyZoomDependent(\"model-translation\")}}};function Kb(e,t){return \"custom\"===e.type?new Zb(e):new Yb[e.type](e,t)}function Jb(e){const{userImage:t}=e;return !!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}class Qb extends It{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded={},this.requestors=[],this.patterns={},this.atlasImage={},this.atlasTexture={},this.dirty=!0;}createScope(e){this.images[e]={},this.loaded[e]=!1,this.updatedImages[e]={},this.patterns[e]={},this.callbackDispatchedThisFrame[e]={},this.atlasImage[e]=new $p({width:1,height:1});}isLoaded(){for(const e in this.loaded)if(!this.loaded[e])return !1;return !0}setLoaded(e,t){if(this.loaded[t]!==e&&(this.loaded[t]=e,e)){for(const{ids:e,callback:i}of this.requestors)this._notify(e,t,i);this.requestors=[];}}hasImage(e,t){return !!this.getImage(e,t)}getImage(e,t){return this.images[t][e]}addImage(e,t,i){this._validate(e,i)&&(this.images[t][e]=i);}_validate(e,t){let i=!0;return this._validateStretch(t.stretchX,t.data&&t.data.width)||(this.fire(new St(new Error(`Image \"${e}\" has invalid \"stretchX\" value`))),i=!1),this._validateStretch(t.stretchY,t.data&&t.data.height)||(this.fire(new St(new Error(`Image \"${e}\" has invalid \"stretchY\" value`))),i=!1),this._validateContent(t.content,t)||(this.fire(new St(new Error(`Image \"${e}\" has invalid \"content\" value`))),i=!1),i}_validateStretch(e,t){if(!e)return !0;let i=0;for(const r of e){if(r[0]<i||r[1]<r[0]||t<r[1])return !1;i=r[1];}return !0}_validateContent(e,t){return !(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))}updateImage(e,t,i){i.version=this.images[t][e].version+1,this.images[t][e]=i,this.updatedImages[t][e]=!0;}removeImage(e,t){const i=this.images[t][e];delete this.images[t][e],delete this.patterns[t][e],i.userImage&&i.userImage.onRemove&&i.userImage.onRemove();}listImages(e){return Object.keys(this.images[e])}getImages(e,t,i){let r=!0;const n=!!this.loaded[t];if(!n)for(const i of e)this.images[t][i]||(r=!1);n||r?this._notify(e,t,i):this.requestors.push({ids:e,scope:t,callback:i});}getUpdatedImages(e){return this.updatedImages[e]}_notify(e,t,i){const r={};for(const i of e){this.images[t][i]||this.fire(new At(\"styleimagemissing\",{id:i}));const e=this.images[t][i];e?r[i]={data:e.data.clone(),pixelRatio:e.pixelRatio,sdf:e.sdf,version:e.version,stretchX:e.stretchX,stretchY:e.stretchY,content:e.content,hasRenderCallback:Boolean(e.userImage&&e.userImage.render)}:W(`Image \"${i}\" could not be loaded. Please make sure you have added the image with map.addImage() or a \"sprite\" property in your style. You can provide missing images by listening for the \"styleimagemissing\" map event.`);}i(null,r);}getPixelSize(e){const{width:t,height:i}=this.atlasImage[e];return {width:t,height:i}}getPattern(e,t){const i=this.patterns[t][e],r=this.getImage(e,t);if(!r)return null;if(i&&i.position.version===r.version)return i.position;if(i)i.position.version=r.version;else {const i={w:r.data.width+2,h:r.data.height+2,x:0,y:0},n=new v_(i,r);this.patterns[t][e]={bin:i,position:n};}return this._updatePatternAtlas(t),this.patterns[t][e].position}bind(e,t){const i=e.gl;let r=this.atlasTexture[t];r?this.dirty&&(r.update(this.atlasImage[t]),this.dirty=!1):(r=new gy(e,this.atlasImage[t],i.RGBA),this.atlasTexture[t]=r),r.bind(i.LINEAR,i.CLAMP_TO_EDGE);}_updatePatternAtlas(e){const t=[];for(const i in this.patterns[e])t.push(this.patterns[e][i].bin);const{w:i,h:r}=y_(t),n=this.atlasImage[e];n.resize({width:i||1,height:r||1});for(const t in this.patterns[e]){const{bin:i}=this.patterns[e][t],r=i.x+1,o=i.y+1,s=this.images[e][t].data,a=s.width,l=s.height;$p.copy(s,n,{x:0,y:0},{x:r,y:o},{width:a,height:l}),$p.copy(s,n,{x:0,y:l-1},{x:r,y:o-1},{width:a,height:1}),$p.copy(s,n,{x:0,y:0},{x:r,y:o+l},{width:a,height:1}),$p.copy(s,n,{x:a-1,y:0},{x:r-1,y:o},{width:1,height:l}),$p.copy(s,n,{x:0,y:0},{x:r+a,y:o},{width:1,height:l});}this.dirty=!0;}beginFrame(){for(const e in this.images)this.callbackDispatchedThisFrame[e]={};}dispatchRenderCallbacks(e,t){for(const i of e){if(this.callbackDispatchedThisFrame[t][i])continue;this.callbackDispatchedThisFrame[t][i]=!0;const e=this.images[t][i];Jb(e)&&this.updateImage(i,t,e);}}}const ew=new da({anchor:new ca(Ct.light.anchor),position:new class{constructor(e){this.specification=e;}possiblyEvaluate(e,t){return K(e.expression.evaluate(t))}interpolate(e,t,i){return {x:Wr(e.x,t.x,i),y:Wr(e.y,t.y,i),z:Wr(e.z,t.z,i),azimuthal:Wr(e.azimuthal,t.azimuthal,i),polar:Wr(e.polar,t.polar,i)}}}(Ct.light.position),color:new ca(Ct.light.color),intensity:new ca(Ct.light.intensity)});class tw extends It{constructor(e,t=\"flat\"){super(),this._transitionable=new ra(ew),this.setLight(e,t),this._transitioning=this._transitionable.untransitioned();}getLight(){return this._transitionable.serialize()}setLight(e,t,i={}){this._validate(ds,e,i)||(this._transitionable.setTransitionOrValue(e),this.id=t);}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning);}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e);}_validate(e,t,i){return (!i||!1!==i.validate)&&ws(this,e.call(hs,k({value:t,style:{glyphs:!0,sprite:!0},styleSpec:Ct})))}}const iw=new da({source:new ca(Ct.terrain.source),exaggeration:new ca(Ct.terrain.exaggeration)});let rw=class extends It{constructor(e,t){super(),this._transitionable=new ra(iw),this.set(e),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=t;}setScope(e){this.scope=e;}get(){return this._transitionable.serialize()}set(e){this._transitionable.setTransitionOrValue(e);}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning);}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e);}getExaggeration(e){return this._transitioning.possiblyEvaluate(new ea(e)).get(\"exaggeration\")}isZoomDependent(){const e=this._transitionable._values.exaggeration;return null!=e&&null!=e.value&&null!=e.value.expression&&e.value.expression instanceof bo}};const nw=45,ow=65,sw=.05;function aw(e,t,i,r){const n=D(nw,ow,i),[o,s]=lw(e,r);let a=1-Math.min(1,Math.exp((t-o)/(s-o)*-6));return a*=a*a,a=Math.min(1,1.00747*a),a*n*e.alpha}function lw(e,t){const i=.5/Math.tan(.5*t);return [e.range[0]+i,e.range[1]+i]}function cw(e,t,i,r,n){const o=Mu.transformMat4([],[t,i,r],n.mercatorFogMatrix);return aw(e,Mu.length(o),n.pitch,n._fov)}function hw(e,t,i,r,n,o,s){const a=[[i,r,0],[n,r,0],[n,o,0],[i,o,0]];let l=Number.MAX_VALUE,c=-Number.MAX_VALUE;for(const e of a){const i=Mu.transformMat4([],e,t),r=Mu.length(i);l=Math.min(l,r),c=Math.max(c,r);}return [aw(e,l,s.pitch,s._fov),aw(e,c,s.pitch,s._fov)]}const uw=new da({range:new ca(Ct.fog.range),color:new ca(Ct.fog.color),\"high-color\":new ca(Ct.fog[\"high-color\"]),\"space-color\":new ca(Ct.fog[\"space-color\"]),\"horizon-blend\":new ca(Ct.fog[\"horizon-blend\"]),\"star-intensity\":new ca(Ct.fog[\"star-intensity\"]),\"vertical-range\":new ca(Ct.fog[\"vertical-range\"])});class dw extends It{constructor(e,t){super(),this._transitionable=new ra(uw),this.set(e),this._transitioning=this._transitionable.untransitioned(),this._transform=t;}get state(){const e=this._transform,t=\"globe\"===e.projection.name,i=Ed(e.zoom),r=this.properties.get(\"range\"),n=[.5,3];return {range:t?[Wr(n[0],r[0],i),Wr(n[1],r[1],i)]:r,horizonBlend:this.properties.get(\"horizon-blend\"),alpha:this.properties.get(\"color\").a}}get(){return this._transitionable.serialize()}set(e,t={}){if(this._validate(ms,e,t))return;const i=k({},e);for(const e of Object.keys(Ct.fog))void 0===i[e]&&(i[e]=Ct.fog[e].default);this._transitionable.setTransitionOrValue(i);}getOpacity(e){if(!this._transform.projection.supportsFog)return 0;const t=this.properties&&this.properties.get(\"color\")||1;return (\"globe\"===this._transform.projection.name?1:D(nw,ow,e))*t.a}getOpacityAtLatLng(e,t){return this._transform.projection.supportsFog?function(e,t,i){const r=ep.fromLngLat(t),n=i.elevation?i.elevation.getAtPointOrZero(r):0;return cw(e,r.x,r.y,n,i)}(this.state,e,t):0}getOpacityForTile(e){if(!this._transform.projection.supportsFog)return [1,1];const t=this._transform.calculateFogTileMatrix(e.toUnwrapped());return hw(this.state,t,0,0,sr,sr,this._transform)}getOpacityForBounds(e,t,i,r,n){return this._transform.projection.supportsFog?hw(this.state,e,t,i,r,n,this._transform):[1,1]}getFovAdjustedRange(e){return this._transform.projection.supportsFog?lw(this.state,e):[0,1]}isVisibleOnFrustum(e){if(!this._transform.projection.supportsFog)return !1;const t=[4,5,6,7];for(const i of t){const t=e.points[i];let r;if(t[2]>=0)r=t;else {const n=e.points[i-4];r=Xr(n,t,n[2]/(n[2]-t[2]));}if(cw(this.state,r[0],r[1],0,this._transform)>=sw)return !0}return !1}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning);}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e);}_validate(e,t,i){return (!i||!1!==i.validate)&&ws(this,e.call(hs,k({value:t,style:{glyphs:!0,sprite:!0},styleSpec:Ct})))}}class pw{constructor(e){this._callback=e,this._triggered=!1,\"undefined\"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback();});}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._callback();}),0));}remove(){this._channel=void 0,this._callback=()=>{};}}class fw{constructor(){this.tasks={},this.taskQueue=[],j([\"process\"],this),this.invoker=new pw(this.process),this.nextId=0;}add(e,t){const i=this.nextId++,r=function({type:e,isSymbolTile:t,zoom:i}){return i=i||0,\"message\"===e?0:\"maybePrepare\"!==e||t?\"parseTile\"!==e||t?\"parseTile\"===e&&t?300-i:\"maybePrepare\"===e&&t?400-i:500:200-i:100-i}(t);if(0===r){Q();try{e();}finally{}return {cancel:()=>{}}}return this.tasks[i]={fn:e,metadata:t,priority:r,id:i},this.taskQueue.push(i),this.invoker.trigger(),{cancel:()=>{delete this.tasks[i];}}}process(){Q();try{if(this.taskQueue=this.taskQueue.filter((e=>!!this.tasks[e])),!this.taskQueue.length)return;const e=this.pick();if(null===e)return;const t=this.tasks[e];if(delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),!t)return;t.fn();}finally{}}pick(){let e=null,t=1/0;for(let i=0;i<this.taskQueue.length;i++){const r=this.tasks[this.taskQueue[i]];r.priority<t&&(t=r.priority,e=i);}if(null===e)return null;const i=this.taskQueue[e];return this.taskQueue.splice(e,1),i}remove(){this.invoker.remove();}}class mw{constructor(e,t,i){this.target=e,this.parent=t,this.mapId=i,this.callbacks={},this.cancelCallbacks={},j([\"receive\"],this),this.target.addEventListener(\"message\",this.receive,!1),this.scheduler=new fw;}send(e,t,i,r,n=!1,o){const s=Math.round(1e18*Math.random()).toString(36).substring(0,10);i&&(i.metadata=o,this.callbacks[s]=i);const a=new Set;return this.target.postMessage({id:s,type:e,hasCallback:!!i,targetMapId:r,mustQueue:n,sourceMapId:this.mapId,data:Ds(t,a)},a),{cancel:()=>{i&&delete this.callbacks[s],this.target.postMessage({id:s,type:\"<cancel>\",targetMapId:r,sourceMapId:this.mapId});}}}receive(e){const t=e.data,i=t.id;if(i&&(!t.targetMapId||this.mapId===t.targetMapId))if(\"<cancel>\"===t.type){const e=this.cancelCallbacks[i];delete this.cancelCallbacks[i],e&&e.cancel();}else if(t.mustQueue||Q()){const e=this.callbacks[i];this.cancelCallbacks[i]=this.scheduler.add((()=>this.processTask(i,t)),e&&e.metadata||{type:\"message\"});}else this.processTask(i,t);}processTask(e,t){if(\"<response>\"===t.type){const i=this.callbacks[e];delete this.callbacks[e],i&&(t.error?i(Ps(t.error)):i(null,Ps(t.data)));}else {const i=new Set,r=t.hasCallback?(t,r)=>{delete this.cancelCallbacks[e],this.target.postMessage({id:e,type:\"<response>\",sourceMapId:this.mapId,error:t?Ds(t):null,data:Ds(r,i)},i);}:e=>{},n=Ps(t.data);if(this.parent[t.type])this.parent[t.type](t.sourceMapId,n,r);else if(this.parent.getWorkerSource){const e=t.type.split(\".\");this.parent.getWorkerSource(t.sourceMapId,e[0],n.source,n.scope)[e[1]](n,r);}else r(new Error(`Could not find function ${t.type}`));}}remove(){this.scheduler.remove(),this.target.removeEventListener(\"message\",this.receive,!1);}}class _w{constructor(e,t){this.workerPool=e,this.actors=[],this.currentActor=0,this.id=F();const i=this.workerPool.acquire(this.id);for(let e=0;e<i.length;e++){const r=new _w.Actor(i[e],t,this.id);r.name=`Worker ${e}`,this.actors.push(r);}this.ready=!1,this.broadcast(\"checkIfReady\",null,(()=>{this.ready=!0;}));}broadcast(e,t,i){R(this.actors,((i,r)=>{i.send(e,t,r);}),i=i||function(){});}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach((e=>{e.remove();})),this.actors=[],this.workerPool.release(this.id);}}_w.Actor=mw;class gw extends It{constructor(e,t,i,r){super(),this.scope=i,this._options=e,this.properties=new la(t),this._transitionable=new ra(t,new Map(r)),this._transitionable.setTransitionOrValue(e.properties),this._transitioning=this._transitionable.untransitioned();}updateConfig(e){this._transitionable.setTransitionOrValue(this._options.properties,new Map(e));}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning);}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e);}get(){return this._options.properties=this._transitionable.serialize(),this._options}set(e,t){this._options=e,this._transitionable.setTransitionOrValue(e.properties,t);}shadowsEnabled(){return !!this.properties&&!0===this.properties.get(\"cast-shadows\")}}const yw=new da({color:new ca(Ct.properties_light_ambient.color),intensity:new ca(Ct.properties_light_ambient.intensity)}),xw=new da({direction:new class{constructor(e){this.specification=e;}possiblyEvaluate(e,t){return function([e,t]){const i=K([1,e,t]);return {x:i.x,y:i.y,z:i.z}}(e.expression.evaluate(t))}interpolate(e,t,i){return {x:Wr(e.x,t.x,i),y:Wr(e.y,t.y,i),z:Wr(e.z,t.z,i)}}}(Ct.properties_light_directional.direction),color:new ca(Ct.properties_light_directional.color),intensity:new ca(Ct.properties_light_directional.intensity),\"cast-shadows\":new ca(Ct.properties_light_directional[\"cast-shadows\"]),\"shadow-intensity\":new ca(Ct.properties_light_directional[\"shadow-intensity\"])});class vw{constructor(e,t,i,r){this.screenBounds=e,this.cameraPoint=t,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=i,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,r);}static createFromScreenPoints(e,t){let i,r;if(e instanceof y||\"number\"==typeof e[0]){const n=y.convert(e);i=[n],r=t.isPointAboveHorizon(n);}else {const n=y.convert(e[0]),o=y.convert(e[1]);i=[n,o],r=S(n,o).every((e=>t.isPointAboveHorizon(e)));}return new vw(i,t.getCameraPoint(),r,t)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(e){return S(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],e)}bufferedCameraGeometry(e){const t=this.screenBounds[0],i=1===this.screenBounds.length?this.screenBounds[0].add(new y(1,1)):this.screenBounds[1],r=S(t,i,0,!1);return this.cameraPoint.y>i.y&&(this.cameraPoint.x>t.x&&this.cameraPoint.x<i.x?r.splice(3,0,this.cameraPoint):this.cameraPoint.x>=i.x?r[2]=this.cameraPoint:this.cameraPoint.x<=t.x&&(r[3]=this.cameraPoint)),function(e,t){const i=[];for(let r=0;r<e.length;r++){const n=P(r-1,-1,e.length-1),o=P(r+1,-1,e.length-1),s=e[r],a=e[o],l=e[n].sub(s).unit(),c=a.sub(s).unit(),h=c.angleWithSep(l.x,l.y),u=l.add(c).unit().mult(-1*t/Math.sin(h/2));i.push(s.add(u));}return i}(r,e)}bufferedCameraGeometryGlobe(e){const t=this.screenBounds[0],i=1===this.screenBounds.length?this.screenBounds[0].add(new y(1,1)):this.screenBounds[1],r=S(t,i,e),n=this.cameraPoint.clone();switch(3*((n.y>t.y)+(n.y>i.y))+((n.x>t.x)+(n.x>i.x))){case 0:r[0]=n,r[4]=n.clone();break;case 1:r.splice(1,0,n);break;case 2:r[1]=n;break;case 3:r.splice(4,0,n);break;case 5:r.splice(2,0,n);break;case 6:r[3]=n;break;case 7:r.splice(3,0,n);break;case 8:r[2]=n;}return r}containsTile(e,t,i,r=0){const n=e.queryPadding/t._pixelsPerMercatorPixel+1,o=i?this._bufferedCameraMercator(n,t):this._bufferedScreenMercator(n,t);let s=e.tileID.wrap+(o.unwrapped?r:0);const a=o.polygon.map((t=>Mg(e.tileTransform,t,s)));if(!Tp(a,0,0,sr,sr))return;s=e.tileID.wrap+(this.screenGeometryMercator.unwrapped?r:0);const l=this.screenGeometryMercator.polygon.map((t=>Ag(e.tileTransform,t,s))),c=l.map((e=>new y(e[0],e[1]))),h=t.getFreeCameraOptions().position||new ep(0,0,0),u=Ag(e.tileTransform,h,s),d=l.map((e=>{const t=Mu.sub(e,e,u);return Mu.normalize(t,t),new Uu(u,t)})),p=Xx(e,1,t.zoom)*t._pixelsPerMercatorPixel;return {queryGeometry:this,tilespaceGeometry:c,tilespaceRays:d,bufferedTilespaceGeometry:a,bufferedTilespaceBounds:(f=A(a),f.min.x=z(f.min.x,0,sr),f.min.y=z(f.min.y,0,sr),f.max.x=z(f.max.x,0,sr),f.max.y=z(f.max.y,0,sr),f),tile:e,tileID:e.tileID,pixelToTileUnitsFactor:p};var f;}_bufferedScreenMercator(e,t){const i=Tw(e);if(this._screenRaycastCache[i])return this._screenRaycastCache[i];{let r;return r=\"globe\"===t.projection.name?this._projectAndResample(this.bufferedScreenGeometry(e),t):{polygon:this.bufferedScreenGeometry(e).map((e=>t.pointCoordinate3D(e))),unwrapped:!0},this._screenRaycastCache[i]=r,r}}_bufferedCameraMercator(e,t){const i=Tw(e);if(this._cameraRaycastCache[i])return this._cameraRaycastCache[i];{let r;return r=\"globe\"===t.projection.name?this._projectAndResample(this.bufferedCameraGeometryGlobe(e),t):{polygon:this.bufferedCameraGeometry(e).map((e=>t.pointCoordinate3D(e))),unwrapped:!0},this._cameraRaycastCache[i]=r,r}}_projectAndResample(e,t){const i=function(e,t){const i=xu.multiply([],t.pixelMatrix,t.globeMatrix),r=[0,-Yu,0,1],n=[0,Yu,0,1],o=[0,0,0,1];uu.transformMat4(r,r,i),uu.transformMat4(n,n,i),uu.transformMat4(o,o,i);const s=new y(r[0]/r[3],r[1]/r[3]),a=new y(n[0]/n[3],n[1]/n[3]),l=wp(e,s)&&r[3]<o[3],c=wp(e,a)&&n[3]<o[3];if(!l&&!c)return null;const h=function(e,t,i){for(let r=1;r<e.length;r++){const n=ww(t.pointCoordinate3D(e[r-1]).x),o=ww(t.pointCoordinate3D(e[r]).x);if(i<0){if(n<o)return {idx:r,t:-n/(o-1-n)}}else if(o<n)return {idx:r,t:(1-n)/(o+1-n)}}return null}(e,t,l?-1:1);if(!h)return null;const{idx:u,t:d}=h;let p=u>1?bw(e.slice(0,u),t):[],f=u<e.length?bw(e.slice(u),t):[];p=p.map((e=>new y(ww(e.x),e.y))),f=f.map((e=>new y(ww(e.x),e.y)));const m=[...p];0===m.length&&m.push(f[f.length-1]);const _=Wr(m[m.length-1].y,(0===f.length?p[0]:f[0]).y,d);let g;return g=l?[new y(0,_),new y(0,0),new y(1,0),new y(1,_)]:[new y(1,_),new y(1,1),new y(0,1),new y(0,_)],m.push(...g),0===f.length?m.push(p[0]):m.push(...f),{polygon:m.map((e=>new ep(e.x,e.y))),unwrapped:!1}}(e,t);if(i)return i;const r=function(e,t){let i=!1,r=-1/0,n=0;for(let t=0;t<e.length-1;t++)e[t].x>r&&(r=e[t].x,n=t);for(let t=0;t<e.length-1;t++){const r=(n+t)%(e.length-1),o=e[r],s=e[r+1];Math.abs(o.x-s.x)>.5&&(o.x<s.x?(o.x+=1,0===r&&(e[e.length-1].x+=1)):(s.x+=1,r+1===e.length-1&&(e[0].x+=1)),i=!0);}const o=Gd(t.center.lng);return i&&o<Math.abs(o-1)&&e.forEach((e=>{e.x-=1;})),{polygon:e,unwrapped:i}}(bw(e,t).map((e=>new y(ww(e.x),e.y))),t);return {polygon:r.polygon.map((e=>new ep(e.x,e.y))),unwrapped:r.unwrapped}}}function bw(e,t){return ip(e,(e=>{const i=t.pointCoordinate3D(e);e.x=i.x,e.y=i.y;}),1/256)}function ww(e){return e<0?1+e%1:e%1}function Tw(e){return 100*e|0}function Ew(e,t,i,r,n){const o=function(i,r){if(i)return n(i);if(r){e.url&&r.tiles&&e.tiles&&delete e.tiles;const i=O(k(r,e),[\"tiles\",\"minzoom\",\"maxzoom\",\"attribution\",\"mapbox_logo\",\"bounds\",\"scheme\",\"tileSize\",\"encoding\"]);r.vector_layers&&(i.vectorLayers=r.vector_layers,i.vectorLayerIds=i.vectorLayers.map((e=>e.id))),i.tiles=t.canonicalizeTileset(i,e.url),n(null,i);}};return e.url?we(t.transformRequest(t.normalizeSourceURL(e.url,null,i,r),ye.Source),o):ht.frame((()=>o(null,e)))}class Mw{constructor(e,t,i){this.bounds=Ql.convert(this.validateBounds(e)),this.minzoom=t||0,this.maxzoom=i||24;}validateBounds(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(e){const t=Math.pow(2,e.z),i=Math.floor(Gd(this.bounds.getWest())*t),r=Math.floor(qd(this.bounds.getNorth())*t),n=Math.ceil(Gd(this.bounds.getEast())*t),o=Math.ceil(qd(this.bounds.getSouth())*t);return e.x>=i&&e.x<n&&e.y>=r&&e.y<o}}class Aw{constructor(e,t){this.width=e,this.height=t,this.nextRow=0,this.image=new Zp({width:e,height:t}),this.positions={},this.uploaded=!1;}getDash(e,t){const i=this.getKey(e,t);return this.positions[i]}trim(){const e=this.width,t=this.height=U(this.nextRow);this.image.resize({width:e,height:t});}getKey(e,t){return e.join(\",\")+t}getDashRanges(e,t,i){const r=[];let n=e.length%2==1?-e[e.length-1]*i:0,o=e[0]*i,s=!0;r.push({left:n,right:o,isDash:s,zeroLength:0===e[0]});let a=e[0];for(let t=1;t<e.length;t++){s=!s;const l=e[t];n=a*i,a+=l,o=a*i,r.push({left:n,right:o,isDash:s,zeroLength:0===l});}return r}addRoundDash(e,t,i){const r=t/2;for(let t=-i;t<=i;t++){const n=this.width*(this.nextRow+i+t);let o=0,s=e[o];for(let a=0;a<this.width;a++){a/s.right>1&&(s=e[++o]);const l=Math.abs(a-s.left),c=Math.abs(a-s.right),h=Math.min(l,c);let u;const d=t/i*(r+1);if(s.isDash){const e=r-Math.abs(d);u=Math.sqrt(h*h+e*e);}else u=r-Math.sqrt(h*h+d*d);this.image.data[n+a]=Math.max(0,Math.min(255,u+128));}}}addRegularDash(e,t){for(let t=e.length-1;t>=0;--t){const i=e[t],r=e[t+1];i.zeroLength?e.splice(t,1):r&&r.isDash===i.isDash&&(r.left=i.left,e.splice(t,1));}const i=e[0],r=e[e.length-1];i.isDash===r.isDash&&(i.left=r.left-this.width,r.right=i.right+this.width);const n=this.width*this.nextRow;let o=0,s=e[o];for(let i=0;i<this.width;i++){i/s.right>1&&(s=e[++o]);const r=Math.abs(i-s.left),a=Math.abs(i-s.right),l=Math.min(r,a);this.image.data[n+i]=Math.max(0,Math.min(255,(s.isDash?l:-l)+t+128));}}addDash(e,t){const i=this.getKey(e,t);if(this.positions[i])return this.positions[i];const r=\"round\"===t,n=r?7:0,o=2*n+1;if(this.nextRow+o>this.height)return W(\"LineAtlas out of space\"),null;0===e.length&&e.push(1);let s=0;for(let t=0;t<e.length;t++)e[t]<0&&(W(\"Negative value is found in line dasharray, replacing values with 0\"),e[t]=0),s+=e[t];if(0!==s){const i=this.width/s,o=this.getDashRanges(e,this.width,i);r?this.addRoundDash(o,i,n):this.addRegularDash(o,\"square\"===t?.5*i:0);}const a=this.nextRow+n;this.nextRow+=o;const l={tl:[a,n],br:[s,0]};return this.positions[i]=l,l}}Is(Aw,\"LineAtlas\");const Sw=1*Y_;class Iw{constructor(e){const t={},i=[];for(const r in e){const n=e[r],o=t[r]={};for(const e in n.glyphs){const t=n.glyphs[+e];if(!t||0===t.bitmap.width||0===t.bitmap.height)continue;const r=t.metrics.localGlyph?Sw:1,s={x:0,y:0,w:t.bitmap.width+2*r,h:t.bitmap.height+2*r};i.push(s),o[e]=s;}}const{w:r,h:n}=y_(i),o=new Zp({width:r||1,height:n||1});for(const i in e){const r=e[i];for(const e in r.glyphs){const n=r.glyphs[+e];if(!n||0===n.bitmap.width||0===n.bitmap.height)continue;const s=t[i][e],a=n.metrics.localGlyph?Sw:1;Zp.copy(n.bitmap,o,{x:0,y:0},{x:s.x+a,y:s.y+a},n.bitmap);}}this.image=o,this.positions=t;}}Is(Iw,\"GlyphAtlas\");class Cw{constructor(e){this.tileID=new Bu(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.tileZoom=e.tileZoom,this.uid=e.uid,this.zoom=e.zoom,this.canonical=e.tileID.canonical,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.scope=e.scope,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.promoteId=e.promoteId,this.isSymbolTile=e.isSymbolTile,this.tileTransform=Tg(e.tileID.canonical,e.projection),this.projection=e.projection,this.brightness=e.brightness,this.extraShadowCaster=!!e.extraShadowCaster;}parse(e,t,i,r,n){this.status=\"parsing\",this.data=e,this.collisionBoxArray=new el;const o=new nm(Object.keys(e.layers).sort()),s=new Zm(this.tileID,this.promoteId);s.bucketLayerIDs=[];const a={},l=new Aw(256,256),c={featureIndex:s,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:l,availableImages:i,brightness:this.brightness},h=t.familiesBySource[this.source];for(const t in h){const r=e.layers[t];if(!r)continue;let n=!1,l=!1,u=!1;for(const e of h[t])\"symbol\"===e[0].type?n=!0:l=!0,e[0].is3D()&&\"model\"!==e[0].type&&(u=!0);if(this.extraShadowCaster&&!u)continue;if(!0===this.isSymbolTile&&!n)continue;if(!1===this.isSymbolTile&&!l)continue;1===r.version&&W(`Vector tile source \"${this.source}\" layer \"${t}\" does not use vector tile spec v2 and therefore may have some rendering errors.`);const d=o.encode(t),p=[];for(let e=0;e<r.length;e++){const i=r.feature(e),n=s.getId(i,t);p.push({feature:i,id:n,index:e,sourceLayerIndex:d});}for(const e of h[t]){const t=e[0];(!this.extraShadowCaster||t.is3D()&&\"model\"!==t.type)&&(void 0!==this.isSymbolTile&&\"symbol\"===t.type!==this.isSymbolTile||t.minzoom&&this.zoom<Math.floor(t.minzoom)||t.maxzoom&&this.zoom>=t.maxzoom||\"none\"!==t.visibility&&(zw(e,this.zoom,c.brightness,i),(a[t.id]=t.createBucket({index:s.bucketLayerIDs.length,layers:e,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:d,sourceID:this.source,projection:this.projection.spec})).populate(p,c,this.tileID.canonical,this.tileTransform),s.bucketLayerIDs.push(e.map((e=>e.id)))));}}let u,d,p,f;l.trim();const m={type:\"maybePrepare\",isSymbolTile:this.isSymbolTile,zoom:this.zoom},_=()=>{if(u)return n(u);if(this.extraShadowCaster)this.status=\"done\",n(null,{buckets:L(a).filter((e=>!e.isEmpty())),featureIndex:s,collisionBoxArray:null,glyphAtlasImage:null,lineAtlas:null,imageAtlas:null,brightness:c.brightness,glyphMap:null,iconMap:null,glyphPositions:null});else if(d&&p&&f){const e=new Iw(d),t=new b_(p,f);for(const r in a){const n=a[r];n instanceof cy?(zw(n.layers,this.zoom,c.brightness,i),dg(n,d,e.positions,p,t.iconPositions,this.showCollisionBoxes,i,this.tileID.canonical,this.tileZoom,this.projection,this.brightness)):n.hasPattern&&(n instanceof _y||n instanceof Lf||n instanceof db)&&(zw(n.layers,this.zoom,c.brightness,i),n.addFeatures(c,this.tileID.canonical,t.patternPositions,i,this.tileTransform,this.brightness));}this.status=\"done\",n(null,{buckets:L(a).filter((e=>!e.isEmpty())),featureIndex:s,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,lineAtlas:l,imageAtlas:t,brightness:c.brightness});}};if(!this.extraShadowCaster){const e=q(c.glyphDependencies,(e=>Object.keys(e).map(Number)));Object.keys(e).length?r.send(\"getGlyphs\",{uid:this.uid,stacks:e,scope:this.scope},((e,t)=>{u||(u=e,d=t,_());}),void 0,!1,m):d={};const t=Object.keys(c.iconDependencies);t.length?r.send(\"getImages\",{icons:t,source:this.source,scope:this.scope,tileID:this.tileID,type:\"icons\"},((e,t)=>{u||(u=e,p=t,_());}),void 0,!1,m):p={};const i=Object.keys(c.patternDependencies);i.length?r.send(\"getImages\",{icons:i,source:this.source,scope:this.scope,tileID:this.tileID,type:\"patterns\"},((e,t)=>{u||(u=e,f=t,_());}),void 0,!1,m):f={};}_();}}function zw(e,t,i,r){const n=new ea(t,{brightness:i});for(const t of e)t.recalculate(n,r);}class Dw{constructor(e){this.entries={},this.scheduler=e;}request(e,t,i,r){const n=this.entries[e]=this.entries[e]||{callbacks:[]};if(n.result){const[e,i]=n.result;return this.scheduler?this.scheduler.add((()=>{r(e,i);}),t):r(e,i),()=>{}}return n.callbacks.push(r),n.cancel||(n.cancel=i(((i,r)=>{n.result=[i,r];for(const e of n.callbacks)this.scheduler?this.scheduler.add((()=>{e(i,r);}),t):e(i,r);setTimeout((()=>delete this.entries[e]),3e3);}))),()=>{n.result||(n.callbacks=n.callbacks.filter((e=>e!==r)),n.callbacks.length||(n.cancel(),delete this.entries[e]));}}}function Pw(e,t,i){const r=JSON.stringify(e.request);return e.data&&(this.deduped.entries[r]={result:[null,e.data]}),this.deduped.request(r,{type:\"parseTile\",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom},(t=>{const r=Te(e.request,((e,r,n,o)=>{e?t(e):r&&t(null,{vectorTile:i?void 0:new tm(new Sm(r)),rawData:r,cacheControl:n,expires:o});}));return ()=>{r.cancel(),t();}}),t)}class Rw extends It{constructor(e,t,i,r){if(super(),this.id=e,this.dispatcher=i,this.type=\"vector\",this.minzoom=0,this.maxzoom=22,this.scheme=\"xyz\",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,k(this,O(t,[\"url\",\"scheme\",\"tileSize\",\"promoteId\"])),this._options=k({type:\"vector\"},t),this._collectResourceTiming=!!t.collectResourceTiming,512!==this.tileSize)throw new Error(\"vector tile sources must have a tileSize of 512\");this.setEventedParent(r),this._tileWorkers={},this._deduped=new Dw;}load(e){this._loaded=!1,this.fire(new At(\"dataloading\",{dataType:\"source\"}));const t=Array.isArray(this.map._language)?this.map._language.join():this.map._language,i=this.map._worldview;this._tileJSONRequest=Ew(this._options,this.map._requestManager,t,i,((r,n)=>{this._tileJSONRequest=null,this._loaded=!0,r?(t&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${t}`),i&&2!==i.length&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${i}`),this.fire(new St(r))):n&&(k(this,n),n.bounds&&(this.tileBounds=new Mw(n.bounds,this.minzoom,this.maxzoom)),Ge(n.tiles,this.map._requestManager._customAccessToken),this.fire(new At(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"})),this.fire(new At(\"data\",{dataType:\"source\",sourceDataType:\"content\"}))),e&&e(r);}));}loaded(){return this._loaded}hasTile(e){return !this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load();}reload(){this.cancelTileJSONRequest();const e=pa(this.id,this.scope);this.load((()=>this.map.style.clearSource(e)));}setTiles(e){return this._options.tiles=e,this.reload(),this}setUrl(e){return this.url=e,this._options.url=e,this.reload(),this}onRemove(){this.cancelTileJSONRequest();}serialize(){return k({},this._options)}loadTile(e,t){const i=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme)),r={request:this.map._requestManager.transformRequest(i,ye.Tile),data:void 0,uid:e.uid,tileID:e.tileID,tileZoom:e.tileZoom,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,pixelRatio:ht.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:e.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0,extraShadowCaster:e.isExtraShadowCaster};if(r.request.collectResourceTiming=this._collectResourceTiming,e.actor&&\"expired\"!==e.state)\"loading\"===e.state?e.reloadCallback=t:e.request=e.actor.send(\"reloadTile\",r,n.bind(this));else if(e.actor=this._tileWorkers[i]=this._tileWorkers[i]||this.dispatcher.getActor(),this.dispatcher.ready)e.request=e.actor.send(\"loadTile\",r,n.bind(this),void 0,!0);else {const t=Pw.call({deduped:this._deduped},r,((t,i)=>{t||!i?n.call(this,t):(r.data={cacheControl:i.cacheControl,expires:i.expires,rawData:i.rawData.slice(0)},e.actor&&e.actor.send(\"loadTile\",r,n.bind(this),void 0,!0));}),!0);e.request={cancel:t};}function n(i,r){return delete e.request,e.aborted?t(null):i&&404!==i.status?t(i):(r&&r.resourceTiming&&(e.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&r&&e.setExpiryData(r),e.loadVectorData(r,this.map.painter),ge(this.dispatcher),t(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send(\"abortTile\",{uid:e.uid,type:this.type,source:this.id,scope:this.scope});}unloadTile(e){e.unloadVectorData(),e.actor&&e.actor.send(\"removeTile\",{uid:e.uid,type:this.type,source:this.id,scope:this.scope});}hasTransition(){return !1}afterUpdate(){this._tileWorkers={};}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null);}}class Lw extends It{constructor(e,t,i,r){super(),this.id=e,this.dispatcher=i,this.setEventedParent(r),this.type=\"raster\",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme=\"xyz\",this.tileSize=512,this._loaded=!1,this._options=k({type:\"raster\"},t),k(this,O(t,[\"url\",\"scheme\",\"tileSize\"]));}load(e){this._loaded=!1,this.fire(new At(\"dataloading\",{dataType:\"source\"})),this._tileJSONRequest=Ew(this._options,this.map._requestManager,null,null,((t,i)=>{this._tileJSONRequest=null,this._loaded=!0,t?this.fire(new St(t)):i&&(k(this,i),i.bounds&&(this.tileBounds=new Mw(i.bounds,this.minzoom,this.maxzoom)),Ge(i.tiles),this.fire(new At(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"})),this.fire(new At(\"data\",{dataType:\"source\",sourceDataType:\"content\"}))),e&&e(t);}));}loaded(){return this._loaded}onAdd(e){this.map=e,this.load();}reload(){this.cancelTileJSONRequest();const e=pa(this.id,this.scope);this.load((()=>this.map.style.clearSource(e)));}setTiles(e){return this._options.tiles=e,this.reload(),this}setUrl(e){return this.url=e,this._options.url=e,this.reload(),this}onRemove(){this.cancelTileJSONRequest();}serialize(){return k({},this._options)}hasTile(e){return !this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(e,t){const i=ht.devicePixelRatio>=2,r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),i,this.tileSize);e.request=Ie(this.map._requestManager.transformRequest(r,ye.Tile),((i,r,n,o)=>(delete e.request,e.aborted?(e.state=\"unloaded\",t(null)):i?(e.state=\"errored\",t(i)):r?(this.map._refreshExpiredTiles&&e.setExpiryData({cacheControl:n,expires:o}),e.setTexture(r,this.map.painter),e.state=\"loaded\",ge(this.dispatcher),void t(null)):t(null))));}static loadTileData(e,t,i){e.setTexture(t,i);}static unloadTileData(e,t){e.texture&&t.saveTileTexture(e.texture);}abortTile(e,t){e.request&&(e.request.cancel(),delete e.request),t();}unloadTile(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t();}hasTransition(){return !1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null);}}let kw;function Ow(){return null!=cI.workerClass?new cI.workerClass:new t.Worker(cI.workerUrl)}const Bw=\"mapboxgl_preloaded_worker_pool\";class Fw{constructor(){this.active={};}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<Fw.workerCount;)this.workers.push(new Ow);return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],this.workers&&0===this.numActive()&&(this.workers.forEach((e=>{e.terminate();})),this.workers=null);}isPreloaded(){return !!this.active[Bw]}numActive(){return Object.keys(this.active).length}}let Nw;function Uw(){return Nw||(Nw=new Fw),Nw}Fw.workerCount=2;let Vw,jw,Gw,qw=null;function Zw(){return Q()&&self.worker&&self.worker.dracoUrl?self.worker.dracoUrl:jw||n.DRACO_URL}const $w=5123,Hw=5126,Ww={5120:Int8Array,5121:Uint8Array,5122:Int16Array,[$w]:Uint16Array,5125:Uint32Array,[Hw]:Float32Array},Xw={5120:\"DT_INT8\",5121:\"DT_UINT8\",5122:\"DT_INT16\",[$w]:\"DT_UINT16\",5125:\"DT_UINT32\",[Hw]:\"DT_FLOAT32\"},Yw={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16};function Kw(e,t,i){const r=i.json.bufferViews.length,n=i.buffers.length;t.bufferView=r,i.json.bufferViews[r]={buffer:n,byteLength:e.byteLength},i.buffers[n]=e;}const Jw=\"KHR_draco_mesh_compression\";function Qw(e,t){const i=e.extensions&&e.extensions[Jw];if(!i)return;const r=new Gw.Decoder,n=nT(t,i.bufferView),o=new Gw.Mesh;if(!r.DecodeArrayToMesh(n,n.byteLength,o))throw new Error(\"Failed to decode Draco mesh\");const s=t.json.accessors[e.indices],a=Ww[s.componentType],l=s.count*a.BYTES_PER_ELEMENT,c=Gw._malloc(l);a===Uint16Array?r.GetTrianglesUInt16Array(o,l,c):r.GetTrianglesUInt32Array(o,l,c),Kw(Gw.memory.buffer.slice(c,c+l),s,t),Gw._free(c);for(const n of Object.keys(i.attributes)){const s=r.GetAttributeByUniqueId(o,i.attributes[n]),a=t.json.accessors[e.attributes[n]],l=Xw[a.componentType],c=a.count*Yw[a.type]*Ww[a.componentType].BYTES_PER_ELEMENT,h=Gw._malloc(c);r.GetAttributeDataArrayForAllPoints(o,s,Gw[l],c,h),Kw(Gw.memory.buffer.slice(h,h+c),a,t),Gw._free(h);}r.destroy(),o.destroy(),delete e.extensions[Jw];}const eT=1179937895,tT=new TextDecoder(\"utf8\");function iT(e,t){return new URL(e,t).href}function rT(e,t,i,r){return fetch(iT(e.uri,r)).then((e=>e.arrayBuffer())).then((e=>{t.buffers[i]=e;}))}function nT(e,t){const i=e.json.bufferViews[t];return new Uint8Array(e.buffers[i.buffer],i.byteOffset||0,i.byteLength)}function oT(e,i,r,n){if(e.uri){const o=iT(e.uri,n);return fetch(o).then((e=>e.blob())).then((e=>t.createImageBitmap(e))).then((e=>{i.images[r]=e;}))}if(void 0!==e.bufferView){const n=nT(i,e.bufferView),o=new t.Blob([n],{type:e.mimeType});return t.createImageBitmap(o).then((e=>{i.images[r]=e;}))}}function sT(e,t=0,i){const r={json:null,images:[],buffers:[]};if(new Uint32Array(e,t,1)[0]===eT){const i=new Uint32Array(e,t);let n=2;const o=(i[n++]>>2)-3,s=i[n++]>>2;if(n++,r.json=JSON.parse(tT.decode(i.subarray(n,n+s))),n+=s,n<o){const o=i[n++];n++;const s=t+(n<<2);r.buffers[0]=e.slice(s,s+o);}}else r.json=JSON.parse(tT.decode(new Uint8Array(e,t)));const{buffers:n,images:o,meshes:s,extensionsUsed:a}=r.json;let l=Promise.resolve();if(n){const e=[];for(let t=0;t<n.length;t++){const o=n[t];o.uri?e.push(rT(o,r,t,i)):r.buffers[t]||(r.buffers[t]=null);}l=Promise.all(e);}return l.then((()=>{const e=[],t=a&&a.includes(Jw);if(t&&e.push(function(){if(!Gw)return Vw||(Vw=function(e){let t,i=null;function r(){t=new Uint8Array(i.buffer);}function n(){throw new Error(\"Unexpected Draco error.\")}const o={a:{a:n,d:function(e,i,r){return t.copyWithin(e,i,i+r)},c:function(e){const n=t.length,o=Math.max(e>>>0,Math.ceil(1.2*n)),s=Math.ceil((o-n)/65536);try{return i.grow(s),r(),!0}catch(e){return !1}},b:n}};return (WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(e,o):e.then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,o)))).then((e=>{const{Rb:n,Qb:o,P:s,T:a,X:l,Ja:c,La:h,Qa:u,Va:d,Wa:p,eb:f,jb:m,f:_,e:g,yb:y,zb:x,Ab:v,Bb:b,Db:w,Gb:T}=e.instance.exports;i=g;const E=(()=>{let e=0,i=0,r=0,s=0;return a=>{r&&(n(s),n(e),i+=r,r=e=0),e||(i+=128,e=o(i));const l=a.length+7&-8;let c=e;l>=i&&(r=l,c=s=o(l));for(let e=0;e<a.length;e++)t[c+e]=a[e];return c}})();return r(),_(),{memory:g,_free:n,_malloc:o,Mesh:class{constructor(){this.ptr=s();}destroy(){a(this.ptr);}},Decoder:class{constructor(){this.ptr=c();}destroy(){m(this.ptr);}DecodeArrayToMesh(e,t,i){const r=E(e),n=h(this.ptr,r,t,i.ptr);return !!l(n)}GetAttributeByUniqueId(e,t){return {ptr:u(this.ptr,e.ptr,t)}}GetTrianglesUInt16Array(e,t,i){d(this.ptr,e.ptr,t,i);}GetTrianglesUInt32Array(e,t,i){p(this.ptr,e.ptr,t,i);}GetAttributeDataArrayForAllPoints(e,t,i,r,n){f(this.ptr,e.ptr,t.ptr,i,r,n);}},DT_INT8:y(),DT_UINT8:x(),DT_INT16:v(),DT_UINT16:b(),DT_UINT32:w(),DT_FLOAT32:T()}}))}(fetch(Zw())),Vw.then((e=>{Gw=e,Vw=void 0;})))}()),o)for(let t=0;t<o.length;t++)e.push(oT(o[t],r,t,i));return (e.length?Promise.all(e):Promise.resolve()).then((()=>{if(t&&s)for(const{primitives:e}of s)for(const t of e)Qw(t,r);return r}))}))}function aT(e){return fetch(e).then((e=>e.arrayBuffer())).then((t=>sT(t,0,e)))}class lT{constructor(e,t,i){if(this.triangleCount=t.length/3,this.min=new y(0,0),this.max=new y(0,0),this.xScale=0,this.yScale=0,this.cellsX=0,this.cellsY=0,this.cells=[],this.payload=[],0===this.triangleCount||0===e.length||0===i)return;const r=e.map((e=>e.x)),n=e.map((e=>e.y));this.min=new y(Math.min(...r),Math.min(...n)),this.max=new y(Math.max(...r),Math.max(...n));const o=this.max.sub(this.min);o.x=Math.max(o.x,1),o.y=Math.max(o.y,1);const s=Math.max(o.x,o.y)/i;this.cellsX=Math.max(1,Math.ceil(o.x/s)),this.cellsY=Math.max(1,Math.ceil(o.y/s)),this.xScale=1/s,this.yScale=1/s;const a=[];for(let i=0;i<this.triangleCount;i++){const r=e[t[3*i+0]].sub(this.min),n=e[t[3*i+1]].sub(this.min),o=e[t[3*i+2]].sub(this.min),l=cT(Math.floor(Math.min(r.x,n.x,o.x)),this.xScale,this.cellsX),c=cT(Math.floor(Math.max(r.x,n.x,o.x)),this.xScale,this.cellsX),h=cT(Math.floor(Math.min(r.y,n.y,o.y)),this.yScale,this.cellsY),u=cT(Math.floor(Math.max(r.y,n.y,o.y)),this.yScale,this.cellsY),d=new y(0,0),p=new y(0,0),f=new y(0,0),m=new y(0,0);for(let e=h;e<=u;++e){d.y=p.y=e*s,f.y=m.y=(e+1)*s;for(let t=l;t<=c;++t)d.x=f.x=t*s,p.x=m.x=(t+1)*s,(Ap(r,n,o,d,p,m)||Ap(r,n,o,d,m,f))&&a.push({cellIdx:e*this.cellsX+t,triIdx:i});}}if(0===a.length)return;a.sort(((e,t)=>e.cellIdx-t.cellIdx||e.triIdx-t.triIdx));let l=0;for(;l<a.length;){const e=a[l].cellIdx,t={start:this.payload.length,len:0};for(;l<a.length&&a[l].cellIdx===e;)++t.len,this.payload.push(a[l++].triIdx);this.cells[e]=t;}}query(e,t,i){if(0===this.triangleCount||0===this.cells.length)return;if(e.x>this.max.x||this.min.x>t.x)return;if(e.y>this.max.y||this.min.y>t.y)return;this.lookup||(this.lookup=new Uint8Array(Math.ceil(this.triangleCount/8)));for(let e=0;e<this.lookup.length;e++)this.lookup[e]=0;const r=cT(e.x-this.min.x,this.xScale,this.cellsX),n=cT(t.x-this.min.x,this.xScale,this.cellsX),o=cT(e.y-this.min.y,this.yScale,this.cellsY),s=cT(t.y-this.min.y,this.yScale,this.cellsY);for(let e=o;e<=s;e++)for(let t=r;t<=n;t++){const r=this.cells[e*this.cellsX+t];if(r)for(let e=0;e<r.len;e++){const t=this.payload[r.start+e],n=Math.floor(t/8),o=1<<t%8;if(!(this.lookup[n]&o)&&(this.lookup[n]|=o,i.push(t),i.length===this.triangleCount))return}}}}function cT(e,t,i){return Math.max(0,Math.min(i-1,Math.floor(e*t)))}function hT(e,t){const i=e.json.bufferViews[t.bufferView];return new(0,Ww[t.componentType])(e.buffers[i.buffer],(t.byteOffset||0)+(i.byteOffset||0),t.count*Yw[t.type])}function uT(e,t,i){const r=e.indices,n=e.attributes,o={};o.indexArray=new Va;const s=t.json.accessors[r],a=s.count/3;o.indexArray.reserve(a);const l=hT(t,s);for(let e=0;e<a;e++)o.indexArray.emplaceBack(l[3*e],l[3*e+1],l[3*e+2]);o.indexArray._trim(),o.vertexArray=new Ua;const c=t.json.accessors[n.POSITION];o.vertexArray.reserve(c.count);const h=hT(t,c);for(let e=0;e<c.count;e++)o.vertexArray.emplaceBack(h[3*e],h[3*e+1],h[3*e+2]);if(o.vertexArray._trim(),o.aabb=new Hu(c.min,c.max),o.centroid=function(e,t){const i=[0,0,0],r=e.length;if(r>0){for(let n=0;n<r;n++){const r=3*e[n];i[0]+=t[r],i[1]+=t[r+1],i[2]+=t[r+2];}i[0]/=r,i[1]/=r,i[2]/=r;}return i}(l,h),void 0!==n.COLOR_0){const e=t.json.accessors[n.COLOR_0],i=Yw[e.type];if(e.componentType===Hw){o.colorArray=3===i?new Ua:new Ia,o.colorArray.reserve(e.count);const r=hT(t,e);if(3===i)for(let t=0;t<e.count;t++)o.colorArray.emplaceBack(r[3*t],r[3*t+1],r[3*t+2]);else for(let t=0;t<e.count;t++)o.colorArray.emplaceBack(r[4*t],r[4*t+1],r[4*t+2],r[4*t+3]);o.colorArray._trim();}else if(e.componentType===$w&&4===i){o.colorArray=new Ia,o.colorArray.resize(e.count);const i=hT(t,e),r=1/65535,n=o.colorArray.float32;for(let e=0;e<4*i.length;++e)n[e]=i[e]*r;}else W(`glTF color buffer parsing for accessor ${JSON.stringify(e)} is not supported`);}if(void 0!==n.NORMAL){o.normalArray=new Ua;const e=t.json.accessors[n.NORMAL];o.normalArray.reserve(e.count);const i=hT(t,e);for(let t=0;t<e.count;t++)o.normalArray.emplaceBack(i[3*t],i[3*t+1],i[3*t+2]);o.normalArray._trim();}if(void 0!==n.TEXCOORD_0&&i.length>0){o.texcoordArray=new Xa;const e=t.json.accessors[n.TEXCOORD_0];o.texcoordArray.reserve(e.count);const i=hT(t,e);for(let t=0;t<e.count;t++)o.texcoordArray.emplaceBack(i[2*t],i[2*t+1]);o.texcoordArray._trim();}const u=e.material;return o.material=function(e,t){const{emissiveFactor:i=[0,0,0],alphaMode:r=\"OPAQUE\",alphaCutoff:n=.5,normalTexture:o,occlusionTexture:s,emissiveTexture:a,doubleSided:l}=e,{baseColorFactor:c=[1,1,1,1],metallicFactor:h=1,roughnessFactor:u=1,baseColorTexture:d,metallicRoughnessTexture:p}=e.pbrMetallicRoughness||{};return {pbrMetallicRoughness:{baseColorFactor:new li(...c),metallicFactor:h,roughnessFactor:u,baseColorTexture:d?t[d.index]:void 0,metallicRoughnessTexture:p?t[p.index]:void 0},doubleSided:l,emissiveFactor:i,alphaMode:r,alphaCutoff:n,normalTexture:o?t[o.index]:void 0,occlusionTexture:s?t[s.index]:void 0,emissionTexture:a?t[a.index]:void 0,defined:void 0===e.defined}}(void 0!==u?t.json.materials[u]:{defined:!1},i),void 0!==n._FEATURE_RGBA4444&&(o.featureData=new Uint32Array(hT(t,t.json.accessors[n._FEATURE_RGBA4444]).buffer)),o}function dT(e,t,i){const{matrix:r,rotation:n,translation:o,scale:s,mesh:a,extras:l,children:c}=e,h={};if(h.matrix=r||xu.fromRotationTranslationScale([],n||[0,0,0,1],o||[0,0,0],s||[1,1,1]),void 0!==a){h.meshes=i[a];const e=h.anchor=[0,0];for(const t of h.meshes){const{min:i,max:r}=t.aabb;e[0]+=i[0]+r[0],e[1]+=i[1]+r[1];}e[0]=Math.floor(e[0]/h.meshes.length/2),e[1]=Math.floor(e[1]/h.meshes.length/2);}if(l&&(l.id&&(h.id=l.id),l.lights&&(h.lights=function(e){if(!e.length)return [];const t=function(e){const t=atob(e),i=new Uint8Array(t.length);for(let e=0;e<t.length;e++)i[e]=t.codePointAt(e);return i}(e),i=[],r=t.length/24,n=new Uint16Array(t.buffer),o=new Float32Array(t.buffer);for(let e=0;e<r;e++){const t=n[2*e*6]/30,r=n[2*e*6+1]/30,s=n[2*e*6+10]/100,a=o[6*e+1],l=o[6*e+2],c=o[6*e+3],h=o[6*e+4],u=c-a,d=h-l,p=Math.hypot(u,d);i.push({pos:[a+.5*u,l+.5*d,r],normal:[d/p,-u/p,0],width:p,height:t,depth:s,points:[a,l,c,h]});}return i}(l.lights))),c){const e=[];for(const r of c)e.push(dT(t.json.nodes[r],t,i));h.children=e;}return h}function pT(e){if(0===e.vertices.length||0===e.indices.length)return null;const[t,i]=[e.vertices[0].clone(),e.vertices[0].clone()];for(let r=1;r<e.vertices.length;++r){const n=e.vertices[r];t.x=Math.min(t.x,n.x),t.y=Math.min(t.y,n.y),i.x=Math.max(i.x,n.x),i.y=Math.max(i.y,n.y);}const r=Math.ceil(Math.max(i.x-t.x,i.y-t.y)/256),n=Math.max(8,r),o=new lT(e.vertices,e.indices,n);return {vertices:e.vertices,indices:e.indices,grid:o,min:t,max:i}}function fT(e){if(!e.extras||!e.extras.ground)return null;const t=e.extras.ground;if(!t||!Array.isArray(t)||0===t.length)return null;const i=t[0];if(!i||!Array.isArray(i)||0===i.length)return null;const r=[];for(const e of i){if(!Array.isArray(e)||2!==e.length)continue;const t=e[0],i=e[1];\"number\"==typeof t&&\"number\"==typeof i&&r.push(new y(t,i));}if(r.length<3)return null;r.length>1&&r[r.length-1].equals(r[0])&&r.pop();let n=0;for(let e=0;e<r.length;e++){const t=r[e],i=r[(e+1)%r.length],o=r[(e+2)%r.length];n+=(t.x-i.x)*(o.y-i.y)-(o.x-i.x)*(t.y-i.y);}n>0&&r.reverse();const o=Cf(r.flatMap((e=>[e.x,e.y])),[]);return 0===o.length?null:{vertices:r,indices:o}}function mT(e){const t=[],i=[];let r=0;for(const n of e){r=t.length;const e=n.vertexArray.float32,o=n.indexArray.uint16;for(let i=0;i<n.vertexArray.length;i++)t.push(new y(e[3*i+0],e[3*i+1]));for(let e=0;e<3*n.indexArray.length;e++)i.push(o[e]+r);}if(i.length%3!=0)return null;for(let e=0;e<i.length;e+=3){const r=t[i[e+0]],n=t[i[e+1]],o=t[i[e+2]];(r.x-n.x)*(o.y-n.y)-(o.x-n.x)*(r.y-n.y)>0&&([i[e+1],i[e+2]]=[i[e+2],i[e+1]]);}return {vertices:t,indices:i}}function _T(e){const i=function(e,i){const r=[],n=t.WebGL2RenderingContext;if(e.json.textures)for(const t of e.json.textures){const o={magFilter:n.LINEAR,minFilter:n.NEAREST,wrapS:n.REPEAT,wrapT:n.REPEAT};void 0!==t.sampler&&Object.assign(o,e.json.samplers[t.sampler]),r.push({image:i[t.source],sampler:o,uploaded:!1});}return r}(e,e.images),r=function(e,t){const i=[];for(const r of e.json.meshes){const n=[];for(const i of r.primitives)n.push(uT(i,e,t));i.push(n);}return i}(e,i),{scenes:n,scene:o,nodes:s}=e.json,a=n?n[o||0].nodes:s,l=[];for(const t of a)l.push(dT(s[t],e,r));return function(e,t,i){const r={},n=new Set;for(let o=0;o<e.length;o++){const e=i[t[o]];if(!e.extras)continue;const s=e.extras[\"mapbox:footprint:version\"],a=e.extras[\"mapbox:footprint:id\"];(s||a)&&n.add(o),\"1.0.0\"===s&&a&&(r[a]=o);}for(let o=0;o<e.length;o++){if(n.has(o))continue;const s=e[o],a=i[t[o]];if(!a.extras)continue;let l=null;s.id in r&&(l=mT(e[r[s.id]].meshes)),l||(l=fT(a)),l&&(s.footprint=pT(l));}if(n.size>0){const t=Array.from(n.values()).sort(((e,t)=>e-t));for(let i=t.length-1;i>=0;i--)e.splice(t[i],1);}}(l,a,e.json.nodes),l}function gT(e){e.heightmap=new Float32Array(4096),e.heightmap.fill(-1);const t=e.vertexArray.float32,i=e.aabb.min[0]-1,r=e.aabb.min[1]-1,n=xv/(e.aabb.max[0]-i+2),o=xv/(e.aabb.max[1]-r+2);for(let s=0;s<t.length;s+=3){const a=t[s+2],l=(t[s+0]-i)*n|0,c=(t[s+1]-r)*o|0;a>e.heightmap[c*xv+l]&&(e.heightmap[c*xv+l]=a);}}function yT(e,t){const i={};i.indexArray=new Va,i.indexArray.reserve(4*e.length),i.vertexArray=new Ua,i.vertexArray.reserve(10*e.length),i.colorArray=new Ia,i.vertexArray.reserve(10*e.length);let r=0;for(const n of e){const e=Math.min(10,Math.max(4,1.3*n.height))*t,o=[-n.normal[1],n.normal[0],0],s=Math.min(.29,.1*n.width/n.depth),a=n.width-2*n.depth*t*(s+.01),l=Mu.scaleAndAdd([],n.pos,o,a/2),c=Mu.scaleAndAdd([],n.pos,o,-a/2),h=[l[0],l[1],l[2]+n.height],u=[c[0],c[1],c[2]+n.height],d=Mu.scaleAndAdd([],n.normal,o,s);Mu.scale(d,d,e);const p=Mu.scaleAndAdd([],n.normal,o,-s);Mu.scale(p,p,e),Mu.add(d,l,d),Mu.add(p,c,p),l[2]+=.1,c[2]+=.1,i.vertexArray.emplaceBack(d[0],d[1],d[2]),i.vertexArray.emplaceBack(p[0],p[1],p[2]),i.vertexArray.emplaceBack(l[0],l[1],l[2]),i.vertexArray.emplaceBack(c[0],c[1],c[2]),i.vertexArray.emplaceBack(h[0],h[1],h[2]),i.vertexArray.emplaceBack(u[0],u[1],u[2]),i.vertexArray.emplaceBack(l[0],l[1],l[2]),i.vertexArray.emplaceBack(c[0],c[1],c[2]),i.vertexArray.emplaceBack(d[0],d[1],d[2]),i.vertexArray.emplaceBack(p[0],p[1],p[2]);const f=a/e/2;i.colorArray.emplaceBack(-f-s,-1,f,.8),i.colorArray.emplaceBack(f+s,-1,f,.8),i.colorArray.emplaceBack(-f,0,f,1.3),i.colorArray.emplaceBack(f,0,f,1.3),i.colorArray.emplaceBack(f+s,-.8,f,.7),i.colorArray.emplaceBack(f+s,-.8,f,.7),i.colorArray.emplaceBack(0,0,f,1.3),i.colorArray.emplaceBack(0,0,f,1.3),i.colorArray.emplaceBack(f+s,-1.2,f,.8),i.colorArray.emplaceBack(f+s,-1.2,f,.8),i.indexArray.emplaceBack(6+r,4+r,8+r),i.indexArray.emplaceBack(7+r,9+r,5+r),i.indexArray.emplaceBack(0+r,1+r,2+r),i.indexArray.emplaceBack(1+r,3+r,2+r),r+=10;}const n={defined:!0,emissiveFactor:[0,0,0]},o={};return o.baseColorFactor=li.white,n.pbrMetallicRoughness=o,i.material=n,i.aabb=new Hu([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),i}Is(lT,\"TriangleGridIndex\");const xT={vector:Rw,raster:Lw,\"raster-dem\":class extends Lw{constructor(e,t,i,r){super(e,t,i,r),this.type=\"raster-dem\",this.maxzoom=22,this._options=k({type:\"raster-dem\"},t),this.encoding=t.encoding||\"mapbox\";}loadTile(e,i){const r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);e.request=Ie(this.map._requestManager.transformRequest(r,ye.Tile),function(r,s,a,l){if(delete e.request,e.aborted)e.state=\"unloaded\",i(null);else if(r)e.state=\"errored\",i(r);else if(s){this.map._refreshExpiredTiles&&e.setExpiryData({cacheControl:a,expires:l});const i=t.ImageBitmap&&s instanceof t.ImageBitmap&&(null==kw&&(kw=t.OffscreenCanvas&&new t.OffscreenCanvas(1,1).getContext(\"2d\")&&\"function\"==typeof t.createImageBitmap),kw),r=1-(s.width-((c=s.width)<=1?1:Math.pow(2,Math.floor(Math.log(c)/Math.LN2))))/2;r<1||e.neighboringTiles||(e.neighboringTiles=this._getNeighboringTiles(e.tileID));const h=i?s:ht.getImageData(s,r),u={uid:e.uid,coord:e.tileID,source:this.id,scope:this.scope,rawImageData:h,encoding:this.encoding,padding:r,convertToFloat:n};e.actor&&\"expired\"!==e.state||(e.actor=this.dispatcher.getActor(),e.actor.send(\"loadDEMTile\",u,o.bind(this),void 0,!0));}var c;}.bind(this));const n=this.map?.painter?.terrainUseFloatDEM();function o(t,r){t&&(e.state=\"errored\",i(t)),r&&(e.dem=r,e.dem.onDeserialize(),e.needsHillshadePrepare=!0,e.needsDEMTextureUpload=!0,e.state=\"loaded\",i(null));}}_getNeighboringTiles(e){const t=e.canonical,i=Math.pow(2,t.z),r=(t.x-1+i)%i,n=0===t.x?e.wrap-1:e.wrap,o=(t.x+1+i)%i,s=t.x+1===i?e.wrap+1:e.wrap,a={};return a[new Bu(e.overscaledZ,n,t.z,r,t.y).key]={backfilled:!1},a[new Bu(e.overscaledZ,s,t.z,o,t.y).key]={backfilled:!1},t.y>0&&(a[new Bu(e.overscaledZ,n,t.z,r,t.y-1).key]={backfilled:!1},a[new Bu(e.overscaledZ,e.wrap,t.z,t.x,t.y-1).key]={backfilled:!1},a[new Bu(e.overscaledZ,s,t.z,o,t.y-1).key]={backfilled:!1}),t.y+1<i&&(a[new Bu(e.overscaledZ,n,t.z,r,t.y+1).key]={backfilled:!1},a[new Bu(e.overscaledZ,e.wrap,t.z,t.x,t.y+1).key]={backfilled:!1},a[new Bu(e.overscaledZ,s,t.z,o,t.y+1).key]={backfilled:!1}),a}unloadTile(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.hillshadeFBO&&(e.hillshadeFBO.destroy(),delete e.hillshadeFBO),e.dem&&delete e.dem,delete e.neighboringTiles,e.state=\"unloaded\";}},geojson:class extends It{constructor(e,t,i,r){super(),this.id=e,this.type=\"geojson\",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(r),this._data=t.data,this._options=k({},t),this._collectResourceTiming=t.collectResourceTiming,void 0!==t.maxzoom&&(this.maxzoom=t.maxzoom),t.type&&(this.type=t.type),t.attribution&&(this.attribution=t.attribution),this.promoteId=t.promoteId;const n=sr/this.tileSize;this.workerOptions=k({source:this.id,scope:this.scope,cluster:t.cluster||!1,geojsonVtOptions:{buffer:(void 0!==t.buffer?t.buffer:128)*n,tolerance:(void 0!==t.tolerance?t.tolerance:.375)*n,extent:sr,maxZoom:this.maxzoom,lineMetrics:t.lineMetrics||!1,generateId:t.generateId||!1},superclusterOptions:{maxZoom:void 0!==t.clusterMaxZoom?t.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,t.clusterMinPoints||2),extent:sr,radius:(void 0!==t.clusterRadius?t.clusterRadius:50)*n,log:!1,generateId:t.generateId||!1},clusterProperties:t.clusterProperties,filter:t.filter},t.workerOptions);}onAdd(e){this.map=e,this.setData(this._data);}setData(e){return this._data=e,this._updateWorkerData(),this}getClusterExpansionZoom(e,t){return this.actor.send(\"geojson.getClusterExpansionZoom\",{clusterId:e,source:this.id,scope:this.scope},t),this}getClusterChildren(e,t){return this.actor.send(\"geojson.getClusterChildren\",{clusterId:e,source:this.id,scope:this.scope},t),this}getClusterLeaves(e,t,i,r){return this.actor.send(\"geojson.getClusterLeaves\",{source:this.id,scope:this.scope,clusterId:e,limit:t,offset:i},r),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new At(\"dataloading\",{dataType:\"source\"})),this._loaded=!1;const e=k({},this.workerOptions);e.scope=this.scope;const t=this._data;\"string\"==typeof t?(e.request=this.map._requestManager.transformRequest(ht.resolveURL(t),ye.Source),e.request.collectResourceTiming=this._collectResourceTiming):e.data=JSON.stringify(t),this._pendingLoad=this.actor.send(`${this.type}.loadData`,e,((e,t)=>{if(this._loaded=!0,this._pendingLoad=null,e)this.fire(new St(e));else {const e={dataType:\"source\",sourceDataType:this._metadataFired?\"content\":\"metadata\"};this._collectResourceTiming&&t&&t.resourceTiming&&t.resourceTiming[this.id]&&(e.resourceTiming=t.resourceTiming[this.id]),this.fire(new At(\"data\",e)),this._metadataFired=!0;}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1);}));}loaded(){return this._loaded}loadTile(e,t){const i=e.actor?\"reloadTile\":\"loadTile\";e.actor=this.actor;const r={type:this.type,uid:e.uid,tileID:e.tileID,tileZoom:e.tileZoom,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,scope:this.scope,pixelRatio:ht.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,brightness:this.map.style&&this.map.style.getBrightness()||0};e.request=this.actor.send(i,r,((r,n)=>(delete e.request,e.unloadVectorData(),e.aborted?t(null):r?t(r):(e.loadVectorData(n,this.map.painter,\"reloadTile\"===i),t(null)))),void 0,\"loadTile\"===i);}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0;}unloadTile(e){e.unloadVectorData(),this.actor.send(\"removeTile\",{uid:e.uid,type:this.type,source:this.id,scope:this.scope});}onRemove(){this._pendingLoad&&this._pendingLoad.cancel();}serialize(){return k({},this._options,{type:this.type,data:this._data})}hasTransition(){return !1}},video:class extends qb{constructor(e,t,i,r){super(e,t,i,r),this.roundZoom=!0,this.type=\"video\",this.options=t;}load(){this._loaded=!1;const e=this.options;this.urls=[];for(const t of e.urls)this.urls.push(this.map._requestManager.transformRequest(t,ye.Source).url);!function(e,i){const r=t.document.createElement(\"video\");r.muted=!0,r.onloadstart=function(){i(null,r);};for(let i=0;i<e.length;i++){const n=t.document.createElement(\"source\");Ee(e[i])||(r.crossOrigin=\"Anonymous\"),n.src=e[i],r.appendChild(n);}}(this.urls,((e,t)=>{this._loaded=!0,e?this.fire(new St(e)):t&&(this.video=t,this.video.loop=!0,this.video.setAttribute(\"playsinline\",\"\"),this.video.addEventListener(\"playing\",(()=>{this.map.triggerRepaint();})),this.map&&this.video.play(),this._finishLoading());}));}pause(){this.video&&this.video.pause();}play(){this.video&&this.video.play();}seek(e){if(this.video){const t=this.video.seekable;e<t.start(0)||e>t.end(0)?this.fire(new St(new zt(`sources.${this.id}`,null,`Playback for this video can be set only between the ${t.start(0)} and ${t.end(0)}-second mark.`))):this.video.currentTime=e;}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)));}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const e=this.map.painter.context,t=e.gl;this.texture?this.video.paused||(this.texture.bind(t.LINEAR,t.CLAMP_TO_EDGE),t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,this.video)):(this.texture=new gy(e,this.video,t.RGBA),this.texture.bind(t.LINEAR,t.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(e);}serialize(){return {type:\"video\",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:qb,model:class extends It{constructor(e,t,i,r){super(),this.id=e,this.type=\"model\",this.models=[],this._loaded=!1,this._options=t;}load(){const e=[];for(const t in this._options.models){const i=this._options.models[t],r=aT(this.map._requestManager.transformRequest(i.uri,ye.Model).url).then((e=>{if(!e)return;const r=_T(e),n=new bv(t,i.position,i.orientation,r);n.computeBoundsAndApplyParent(),this.models.push(n);})).catch((e=>{this.fire(new St(new Error(`Could not load model ${t} from ${i.uri}: ${e.message}`)));}));e.push(r);}return Promise.allSettled(e).then((()=>{this._loaded=!0,this.fire(new At(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"}));})).catch((e=>{this.fire(new St(new Error(`Could not load models: ${e.message}`)));}))}onAdd(e){this.map=e,this.load();}hasTransition(){return !1}loaded(){return this._loaded}getModels(){return this.models}loadTile(e,t){}serialize(){return {type:\"model\"}}},\"batched-model\":class extends It{constructor(e,t,i,r){super(),this.type=\"batched-model\",this.id=e,this.tileSize=512,this._options=t,this.tiles=this._options.tiles,this.maxzoom=t.maxzoom||19,this.minzoom=t.minzoom||0,this.roundZoom=!0,this.usedInConflation=!0,this.dispatcher=i,this.reparseOverscaled=!1,this.scheme=\"xyz\",this._loaded=!1,this.setEventedParent(r);}onAdd(e){this.map=e,this.load();}load(e){this._loaded=!1,this.fire(new At(\"dataloading\",{dataType:\"source\"}));const t=Array.isArray(this.map._language)?this.map._language.join():this.map._language,i=this.map._worldview;this._tileJSONRequest=Ew(this._options,this.map._requestManager,t,i,((r,n)=>{this._tileJSONRequest=null,this._loaded=!0,r?(t&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${t}`),i&&2!==i.length&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${i}`),this.fire(new St(r))):n&&(k(this,n),n.bounds&&(this.tileBounds=new Mw(n.bounds,this.minzoom,this.maxzoom)),Ge(n.tiles,this.map._requestManager._customAccessToken),this.fire(new At(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"})),this.fire(new At(\"data\",{dataType:\"source\",sourceDataType:\"content\"}))),e&&e(r);}));}hasTransition(){return !1}hasTile(e){return !this.tileBounds||this.tileBounds.contains(e.canonical)}loaded(){return this._loaded}loadTile(e,t){const i=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme)),r={request:this.map._requestManager.transformRequest(i,ye.Tile),data:void 0,uid:e.uid,tileID:e.tileID,tileZoom:e.tileZoom,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,showCollisionBoxes:this.map.showCollisionBoxes,isSymbolTile:e.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0};if(e.actor&&\"expired\"!==e.state)if(\"loading\"===e.state)e.reloadCallback=t;else {if(e.buckets){const t=Object.values(e.buckets);for(const e of t)e.dirty=!0;return void(e.state=\"loaded\")}e.request=e.actor.send(\"reloadTile\",r,n.bind(this));}else e.actor=this.dispatcher.getActor(),e.request=e.actor.send(\"loadTile\",r,n.bind(this),void 0,!0);function n(i,r){return e.aborted?t(null):i&&404!==i.status?t(i):(r&&(r.resourceTiming&&(e.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&e.setExpiryData(r),e.buckets={...e.buckets,...r.buckets}),e.state=\"loaded\",void t(null))}}serialize(){return k({},this._options)}},canvas:class extends qb{constructor(e,i,r,n){super(e,i,r,n),i.coordinates?Array.isArray(i.coordinates)&&4===i.coordinates.length&&!i.coordinates.some((e=>!Array.isArray(e)||2!==e.length||e.some((e=>\"number\"!=typeof e))))||this.fire(new St(new zt(`sources.${e}`,null,'\"coordinates\" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new St(new zt(`sources.${e}`,null,'missing required property \"coordinates\"'))),i.animate&&\"boolean\"!=typeof i.animate&&this.fire(new St(new zt(`sources.${e}`,null,'optional \"animate\" property must be a boolean value'))),i.canvas?\"string\"==typeof i.canvas||i.canvas instanceof t.HTMLCanvasElement||this.fire(new St(new zt(`sources.${e}`,null,'\"canvas\" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new St(new zt(`sources.${e}`,null,'missing required property \"canvas\"'))),this.options=i,this.animate=void 0===i.animate||i.animate;}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof t.HTMLCanvasElement?this.options.canvas:t.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new St(new Error(\"Canvas dimensions cannot be less than or equal to zero.\"))):(this.play=function(){this._playing=!0,this.map.triggerRepaint();},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1);},this._finishLoading());}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play();}onRemove(){this.pause();}prepare(){let e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const t=this.map.painter.context;this.texture?!e&&!this._playing||this.texture instanceof yy||this.texture.update(this.canvas,{premultiply:!0}):this.texture=new gy(t,this.canvas,t.gl.RGBA,{premultiply:!0}),this._prepareData(t);}serialize(){return {type:\"canvas\",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of [this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return !0;return !1}},custom:class extends It{constructor(e,t,i,r){super(),this.id=e,this.type=\"custom\",this._dataType=\"raster\",this._dispatcher=i,this._implementation=t,this.setEventedParent(r),this.scheme=\"xyz\",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new St(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new St(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new Mw(this._implementation.bounds,this.minzoom,this.maxzoom)),t.update=this._update.bind(this),t.clearTiles=this._clearTiles.bind(this),t.coveringTiles=this._coveringTiles.bind(this),k(this,O(t,[\"dataType\",\"scheme\",\"minzoom\",\"maxzoom\",\"tileSize\",\"attribution\",\"minTileCacheSize\",\"maxTileCacheSize\"]));}serialize(){return O(this,[\"type\",\"scheme\",\"minzoom\",\"maxzoom\",\"tileSize\",\"attribution\"])}load(){this._loaded=!0,this.fire(new At(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"})),this.fire(new At(\"data\",{dataType:\"source\",sourceDataType:\"content\"}));}loaded(){return this._loaded}onAdd(e){this._map=e,this._loaded=!1,this.fire(new At(\"dataloading\",{dataType:\"source\"})),this._implementation.onAdd&&this._implementation.onAdd(e),this.load();}onRemove(e){this._implementation.onRemove&&this._implementation.onRemove(e);}hasTile(e){if(this._implementation.hasTile){const{x:t,y:i,z:r}=e.canonical;return this._implementation.hasTile({x:t,y:i,z:r})}return !this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(e,i){const{x:r,y:n,z:o}=e.tileID.canonical,s=new t.AbortController;e.request=Promise.resolve(this._implementation.loadTile({x:r,y:n,z:o},{signal:s.signal})).then(function(r){return delete e.request,e.aborted?(e.state=\"unloaded\",i(null)):void 0===r?(e.state=\"errored\",i(null)):null===r?(this.loadTileData(e,{width:this.tileSize,height:this.tileSize,data:null}),e.state=\"loaded\",i(null)):function(e){return e instanceof t.ImageData||e instanceof t.HTMLCanvasElement||e instanceof t.ImageBitmap||e instanceof t.HTMLImageElement}(r)?(this.loadTileData(e,r),e.state=\"loaded\",void i(null)):(e.state=\"errored\",i(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch((t=>{20!==t.code&&(e.state=\"errored\",i(t));})),e.request.cancel=()=>s.abort();}loadTileData(e,t){Lw.loadTileData(e,t,this._map.painter);}unloadTileData(e){Lw.unloadTileData(e,this._map.painter);}unloadTile(e,t){if(this.unloadTileData(e),this._implementation.unloadTile){const{x:t,y:i,z:r}=e.tileID.canonical;this._implementation.unloadTile({x:t,y:i,z:r});}t();}abortTile(e,t){e.request&&e.request.cancel&&(e.request.cancel(),delete e.request),t();}hasTransition(){return !1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map((e=>({x:e.canonical.x,y:e.canonical.y,z:e.canonical.z})))}_clearTiles(){const e=pa(this.id,this.scope);this._map.style.clearSource(e);}_update(){this.fire(new At(\"data\",{dataType:\"source\",sourceDataType:\"content\"}));}}},vT=function(e,t,i,r){const n=new xT[t.type](e,t,i,r);if(n.id!==e)throw new Error(`Expected Source id to be ${e} instead of ${n.id}`);return j([\"load\",\"abort\",\"unload\",\"serialize\",\"prepare\"],n),n};function bT(e,t){const i=xu.identity([]);return xu.scale(i,i,[.5*e.width,.5*-e.height,1]),xu.translate(i,i,[1,-1,0]),xu.multiply(i,i,e.calculateProjMatrix(t.toUnwrapped())),Float32Array.from(i)}function wT(e,t,i,r,n,o,s,a=!1){const l=e.tilesIn(r,s,a);l.sort(ET);const c=[];for(const r of l)c.push({wrappedTileID:r.tile.tileID.wrapped().key,queryResults:r.tile.queryRenderedFeatures(t,i,e._state,r,n,o,bT(e.transform,r.tile.tileID),a)});const h=function(e){const t={},i={};for(const r of e){const e=r.queryResults,n=r.wrappedTileID,o=i[n]=i[n]||{};for(const i in e){const r=e[i],n=o[i]=o[i]||{},s=t[i]=t[i]||[];for(const e of r)n[e.featureIndex]||(n[e.featureIndex]=!0,s.push(e));}}return t}(c);for(const t in h)h[t].forEach((t=>{const i=t.feature,r=i.layer;r&&\"background\"!==r.type&&\"sky\"!==r.type&&\"slot\"!==r.type&&(i.source=r.source,r[\"source-layer\"]&&(i.sourceLayer=r[\"source-layer\"]),i.state=void 0!==i.id?e.getFeatureState(r[\"source-layer\"],i.id):{});}));return h}function TT(e,t){const i=e.getRenderableIds().map((t=>e.getTileByID(t))),r=[],n={};for(let e=0;e<i.length;e++){const o=i[e],s=o.tileID.canonical.key;n[s]||(n[s]=!0,o.querySourceFeatures(r,t));}return r}function ET(e,t){const i=e.tileID,r=t.tileID;return i.overscaledZ-r.overscaledZ||i.canonical.y-r.canonical.y||i.wrap-r.wrap||i.canonical.x-r.canonical.x}class MT{constructor(e){this.style=e;}processLayersChanged(){this.layers=[];for(const e in this.style._mergedLayers){const t=this.style._mergedLayers[e];if(\"fill-extrusion\"===t.type)this.layers.push(t);else if(\"model\"===t.type){const e=this.style.getLayerSource(t);e&&\"batched-model\"===e.type&&this.layers.push(t);}}}updateZOffset(e,t){this.currentBuildingBuckets=[];for(let e=0;e<this.layers.length;++e){const i=this.layers[e],r=this.style.getLayerSourceCache(i);let n=1;\"fill-extrusion\"===i.type&&(n=i.paint.get(\"fill-extrusion-opacity\")>0?i.paint.get(\"fill-extrusion-vertical-scale\"):0);let o=r?r.getTile(t):null;if(!o&&r&&t.canonical.z>r.getSource().minzoom){let e=t.scaledTo(Math.min(r.getSource().maxzoom,t.overscaledZ-1));for(;e.overscaledZ>=r.getSource().minzoom&&(o=r.getTile(e),!o&&0!==e.overscaledZ);)e=e.scaledTo(e.overscaledZ-1);}this.currentBuildingBuckets.push({bucket:o?o.getBucket(i):null,tileID:o?o.tileID:t,verticalScale:n});}e.hasAnyZOffset=!1;let i=!1;for(let r=0;r<e.symbolInstances.length;r++){const n=e.symbolInstances.get(r),o=n.zOffset,s=this._getHeightAtTileOffset(t,n.tileAnchorX,n.tileAnchorY);n.zOffset=-1!==s?s:o,i||o===n.zOffset||(i=!0),e.hasAnyZOffset||0===n.zOffset||(e.hasAnyZOffset=!0);}i&&(e.zOffsetBuffersNeedUpload=!0,e.zOffsetSortDirty=!0);}_mapCoordToOverlappingTile(e,t,i,r){let n=t,o=i;if(e.canonical.z!==r.canonical.z){const s=r.canonical,a=1/(1<<e.canonical.z-s.z);n=(t+e.canonical.x*sr)*a-s.x*sr|0,o=(i+e.canonical.y*sr)*a-s.y*sr|0;}return {tileX:n,tileY:o}}_getHeightAtTileOffset(e,t,i){let r;for(let n=0;n<this.layers.length;++n){if(\"fill-extrusion\"!==this.layers[n].type)continue;const{bucket:o,tileID:s,verticalScale:a}=this.currentBuildingBuckets[n];if(!o)continue;const{tileX:l,tileY:c}=this._mapCoordToOverlappingTile(e,t,i,s),h=o.getHeightAtTileCoord(l,c);if(h&&void 0!==h.height){if(!h.hidden)return h.height*a;r=h.height;}}for(let n=0;n<this.layers.length;++n){if(\"model\"!==this.layers[n].type)continue;const{bucket:o,tileID:s}=this.currentBuildingBuckets[n];if(!o)continue;const{tileX:a,tileY:l}=this._mapCoordToOverlappingTile(e,t,i,s),c=o.getHeightAtTileCoord(a,l);if(c&&!c.hidden)return void 0===c.height&&void 0!==r?Math.min(c.maxHeight,r)*c.verticalScale:(c.height||0)*c.verticalScale}return -1}}var AT=[\"type\",\"source\",\"source-layer\",\"minzoom\",\"maxzoom\",\"filter\",\"layout\"];function ST(e,t){const i={};for(const t in e)\"ref\"!==t&&(i[t]=e[t]);return AT.forEach((e=>{e in t&&(i[e]=t[e]);})),i}function IT(e){e=e.slice();const t=Object.create(null);for(let i=0;i<e.length;i++)t[e[i].id]=e[i];for(let i=0;i<e.length;i++)\"ref\"in e[i]&&(e[i]=ST(e[i],t[e[i].ref]));return e}const CT={setStyle:\"setStyle\",addLayer:\"addLayer\",removeLayer:\"removeLayer\",setPaintProperty:\"setPaintProperty\",setLayoutProperty:\"setLayoutProperty\",setSlot:\"setSlot\",setFilter:\"setFilter\",addSource:\"addSource\",removeSource:\"removeSource\",setGeoJSONSourceData:\"setGeoJSONSourceData\",setLayerZoomRange:\"setLayerZoomRange\",setLayerProperty:\"setLayerProperty\",setCenter:\"setCenter\",setZoom:\"setZoom\",setBearing:\"setBearing\",setPitch:\"setPitch\",setSprite:\"setSprite\",setGlyphs:\"setGlyphs\",setTransition:\"setTransition\",setLight:\"setLight\",setTerrain:\"setTerrain\",setFog:\"setFog\",setCamera:\"setCamera\",setLights:\"setLights\",setProjection:\"setProjection\",addImport:\"addImport\",removeImport:\"removeImport\",setImportUrl:\"setImportUrl\",setImportData:\"setImportData\",setImportConfig:\"setImportConfig\"};function zT(e,t,i){i.push({command:CT.addSource,args:[e,t[e]]});}function DT(e,t,i){t.push({command:CT.removeSource,args:[e]}),i[e]=!0;}function PT(e,t,i,r){DT(e,i,r),zT(e,t,i);}function RT(e,t,i){let r;for(r in e[i])if(e[i].hasOwnProperty(r)&&\"data\"!==r&&!x(e[i][r],t[i][r]))return !1;for(r in t[i])if(t[i].hasOwnProperty(r)&&\"data\"!==r&&!x(e[i][r],t[i][r]))return !1;return !0}function LT(e,t,i,r,n,o){let s;for(s in t=t||{},e=e||{})e.hasOwnProperty(s)&&(x(e[s],t[s])||i.push({command:o,args:[r,s,t[s],n]}));for(s in t)t.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(x(e[s],t[s])||i.push({command:o,args:[r,s,t[s],n]}));}function kT(e){return e.id}function OT(e,t){return e[t.id]=t,e}class BT{constructor(e,t){this.reset(e,t);}reset(e,t){this.points=e||[],this._distances=[0];for(let e=1;e<this.points.length;e++)this._distances[e]=this._distances[e-1]+this.points[e].dist(this.points[e-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding;}lerp(e){if(1===this.points.length)return this.points[0];e=z(e,0,1);let t=1,i=this._distances[t];const r=e*this.paddedLength+this.padding;for(;i<r&&t<this._distances.length;)i=this._distances[++t];const n=t-1,o=this._distances[n],s=i-o,a=s>0?(r-o)/s:0;return this.points[n].mult(1-a).add(this.points[t].mult(a))}}class FT{constructor(e,t,i){const r=this.boxCells=[],n=this.circleCells=[];this.xCellCount=Math.ceil(e/i),this.yCellCount=Math.ceil(t/i);for(let e=0;e<this.xCellCount*this.yCellCount;e++)r.push([]),n.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0;}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,t,i,r,n){this._forEachCell(t,i,r,n,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(i),this.bboxes.push(r),this.bboxes.push(n);}insertCircle(e,t,i,r){this._forEachCell(t-r,i-r,t+r,i+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(i),this.circles.push(r);}_insertBoxCell(e,t,i,r,n,o){this.boxCells[n].push(o);}_insertCircleCell(e,t,i,r,n,o){this.circleCells[n].push(o);}_query(e,t,i,r,n,o){if(i<0||e>this.width||r<0||t>this.height)return !n&&[];const s=[];if(e<=0&&t<=0&&this.width<=i&&this.height<=r){if(n)return !0;for(let e=0;e<this.boxKeys.length;e++)s.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});for(let e=0;e<this.circleKeys.length;e++){const t=this.circles[3*e],i=this.circles[3*e+1],r=this.circles[3*e+2];s.push({key:this.circleKeys[e],x1:t-r,y1:i-r,x2:t+r,y2:i+r});}return o?s.filter(o):s}return this._forEachCell(e,t,i,r,this._queryCell,s,{hitTest:n,seenUids:{box:{},circle:{}}},o),n?s.length>0:s}_queryCircle(e,t,i,r,n){const o=e-i,s=e+i,a=t-i,l=t+i;if(s<0||o>this.width||l<0||a>this.height)return !r&&[];const c=[];return this._forEachCell(o,a,s,l,this._queryCellCircle,c,{hitTest:r,circle:{x:e,y:t,radius:i},seenUids:{box:{},circle:{}}},n),r?c.length>0:c}query(e,t,i,r,n){return this._query(e,t,i,r,!1,n)}hitTest(e,t,i,r,n){return this._query(e,t,i,r,!0,n)}hitTestCircle(e,t,i,r){return this._queryCircle(e,t,i,!0,r)}_queryCell(e,t,i,r,n,o,s,a){const l=s.seenUids,c=this.boxCells[n];if(null!==c){const n=this.bboxes;for(const h of c)if(!l.box[h]){l.box[h]=!0;const c=4*h;if(e<=n[c+2]&&t<=n[c+3]&&i>=n[c+0]&&r>=n[c+1]&&(!a||a(this.boxKeys[h]))){if(s.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[h],x1:n[c],y1:n[c+1],x2:n[c+2],y2:n[c+3]});}}}const h=this.circleCells[n];if(null!==h){const n=this.circles;for(const c of h)if(!l.circle[c]){l.circle[c]=!0;const h=3*c;if(this._circleAndRectCollide(n[h],n[h+1],n[h+2],e,t,i,r)&&(!a||a(this.circleKeys[c]))){if(s.hitTest)return o.push(!0),!0;{const e=n[h],t=n[h+1],i=n[h+2];o.push({key:this.circleKeys[c],x1:e-i,y1:t-i,x2:e+i,y2:t+i});}}}}}_queryCellCircle(e,t,i,r,n,o,s,a){const l=s.circle,c=s.seenUids,h=this.boxCells[n];if(null!==h){const e=this.bboxes;for(const t of h)if(!c.box[t]){c.box[t]=!0;const i=4*t;if(this._circleAndRectCollide(l.x,l.y,l.radius,e[i+0],e[i+1],e[i+2],e[i+3])&&(!a||a(this.boxKeys[t])))return o.push(!0),!0}}const u=this.circleCells[n];if(null!==u){const e=this.circles;for(const t of u)if(!c.circle[t]){c.circle[t]=!0;const i=3*t;if(this._circlesCollide(e[i],e[i+1],e[i+2],l.x,l.y,l.radius)&&(!a||a(this.circleKeys[t])))return o.push(!0),!0}}}_forEachCell(e,t,i,r,n,o,s,a){const l=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),h=this._convertToXCellCoord(i),u=this._convertToYCellCoord(r);for(let d=l;d<=h;d++)for(let l=c;l<=u;l++)if(n.call(this,e,t,i,r,this.xCellCount*l+d,o,s,a))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,t,i,r,n,o){const s=r-e,a=n-t,l=i+o;return l*l>s*s+a*a}_circleAndRectCollide(e,t,i,r,n,o,s){const a=(o-r)/2,l=Math.abs(e-(r+a));if(l>a+i)return !1;const c=(s-n)/2,h=Math.abs(t-(n+c));if(h>c+i)return !1;if(l<=a||h<=c)return !0;const u=l-a,d=h-c;return u*u+d*d<=i*i}}const NT=100;class UT{constructor(e,t,i=new FT(e.width+200,e.height+200,25),r=new FT(e.width+200,e.height+200,25)){this.transform=e,this.grid=i,this.ignoredGrid=r,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+NT,this.screenBottomBoundary=e.height+NT,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.fogState=t;}placeCollisionBox(e,t,i,r,n,o,s,a){let l=i.projectedAnchorX,c=i.projectedAnchorY,h=i.projectedAnchorZ;const u=i.elevation,d=i.tileID,p=e.getProjection();if(u&&d){const[e,t,r]=p.upVector(d.canonical,i.tileAnchorX,i.tileAnchorY),n=p.upVectorScale(d.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;l+=e*u*n,c+=t*u*n,h+=r*u*n;}const f=this.projectAndGetPerspectiveRatio(s,l,c,h,i.tileID,\"globe\"===p.name||!!u||this.transform.pitch>0,p),m=o*f.perspectiveRatio,_=(i.x1*t+r.x-i.padding)*m+f.point.x,g=(i.y1*t+r.y-i.padding)*m+f.point.y,y=(i.x2*t+r.x+i.padding)*m+f.point.x,x=(i.y2*t+r.y+i.padding)*m+f.point.y,v=f.perspectiveRatio<=.55||f.occluded;return !this.isInsideGrid(_,g,y,x)||!n&&this.grid.hitTest(_,g,y,x,a)||v?{box:[],offscreen:!1,occluded:f.occluded}:{box:[_,g,y,x],offscreen:this.isOffscreen(_,g,y,x),occluded:!1}}placeCollisionCircles(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f){const m=[],_=this.transform.elevation,g=e.getProjection(),x=_?_.getAtTileOffsetFunc(f,this.transform.center.lat,this.transform.worldSize,g):null,v=new y(i.tileAnchorX,i.tileAnchorY);let{x:b,y:w,z:T}=g.projectTilePoint(v.x,v.y,f.canonical);if(x){const[e,t,i]=x(v);b+=e,w+=t,T+=i;}const E=\"globe\"===g.name,M=this.projectAndGetPerspectiveRatio(s,b,w,T,f,E||!!_||this.transform.pitch>0,g),{perspectiveRatio:A}=M,S=(h?o/A:o*A)/r_,I=tv(b,w,T,a),C=M.signedDistanceFromCamera>0?ov(S,n,i.lineOffsetX*S,i.lineOffsetY*S,!1,I,v,i,r,a,{},_&&!h?x:null,h&&!!_,g,f,h):null;let z=!1,D=!1,P=!0;if(C&&!M.occluded){const e=.5*d*A+p,i=new y(-100,-100),r=new y(this.screenRightBoundary,this.screenBottomBoundary),n=new BT,{first:o,last:s}=C,a=o.path.length;let h=[];for(let e=a-1;e>=1;e--)h.push(o.path[e]);for(let e=1;e<s.path.length;e++)h.push(s.path[e]);const f=2.5*e;l&&(h=h.map((([e,t,i],r)=>(x&&!E&&(i=x(r<a-1?o.tilePath[a-1-r]:s.tilePath[r-a+2])[2]),tv(e,t,i,l)))),h.some((e=>e[3]<=0))&&(h=[]));let _=[];if(h.length>0){let e=1/0,t=-1/0,n=1/0,o=-1/0;for(const i of h)e=Math.min(e,i[0]),n=Math.min(n,i[1]),t=Math.max(t,i[0]),o=Math.max(o,i[1]);t>=i.x&&e<=r.x&&o>=i.y&&n<=r.y&&(_=[h.map((e=>new y(e[0],e[1])))],(e<i.x||t>r.x||n<i.y||o>r.y)&&(_=$_(_,i.x,i.y,r.x,r.y)));}for(const i of _){n.reset(i,.25*e);let r=0;r=n.length<=.5*e?1:Math.ceil(n.paddedLength/f)+1;for(let i=0;i<r;i++){const o=i/Math.max(r-1,1),s=n.lerp(o),a=s.x+NT,l=s.y+NT;m.push(a,l,e,0);const h=a-e,d=l-e,p=a+e,f=l+e;if(P=P&&this.isOffscreen(h,d,p,f),D=D||this.isInsideGrid(h,d,p,f),!t&&this.grid.hitTestCircle(a,l,e,u)&&(z=!0,!c))return {circles:[],offscreen:!1,collisionDetected:z,occluded:!1}}}}return {circles:!c&&z||!D?[]:m,offscreen:P,collisionDetected:z,occluded:M.occluded}}queryRenderedSymbols(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return {};const t=[];let i=1/0,r=1/0,n=-1/0,o=-1/0;for(const s of e){const e=new y(s.x+NT,s.y+NT);i=Math.min(i,e.x),r=Math.min(r,e.y),n=Math.max(n,e.x),o=Math.max(o,e.y),t.push(e);}const s=this.grid.query(i,r,n,o).concat(this.ignoredGrid.query(i,r,n,o)),a={},l={};for(const e of s){const i=e.key;void 0===a[i.bucketInstanceId]&&(a[i.bucketInstanceId]={}),a[i.bucketInstanceId][i.featureIndex]||pp(t,[new y(e.x1,e.y1),new y(e.x2,e.y1),new y(e.x2,e.y2),new y(e.x1,e.y2)])&&(a[i.bucketInstanceId][i.featureIndex]=!0,void 0===l[i.bucketInstanceId]&&(l[i.bucketInstanceId]=[]),l[i.bucketInstanceId].push(i.featureIndex));}return l}insertCollisionBox(e,t,i,r,n){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:i,featureIndex:r,collisionGroupID:n},e[0],e[1],e[2],e[3]);}insertCollisionCircles(e,t,i,r,n){const o=t?this.ignoredGrid:this.grid,s={bucketInstanceId:i,featureIndex:r,collisionGroupID:n};for(let t=0;t<e.length;t+=4)o.insertCircle(s,e[t],e[t+1],e[t+2]);}projectAndGetPerspectiveRatio(e,t,i,r,n,o,s){const a=[t,i,r,1];let l=!1;if(r||this.transform.pitch>0){if(uu.transformMat4(a,a,e),this.fogState&&n&&\"globe\"!==s.name){const e=function(e,t,i,r,n,o){const s=o.calculateFogTileMatrix(n),a=[t,i,r];return Mu.transformMat4(a,a,s),aw(e,Mu.length(a),o.pitch,o._fov)}(this.fogState,t,i,r,n.toUnwrapped(),this.transform);l=e>.9;}}else dv(a,a,e);const c=a[3];return {point:new y((a[0]/c+1)/2*this.transform.width+NT,(-a[1]/c+1)/2*this.transform.height+NT),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(s)/c*.5,1.5),signedDistanceFromCamera:c,occluded:o&&a[2]>c||l}}isOffscreen(e,t,i,r){return i<NT||e>=this.screenRightBoundary||r<NT||t>this.screenBottomBoundary}isInsideGrid(e,t,i,r){return i>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary}getViewportMatrix(){const e=xu.identity([]);return xu.translate(e,e,[-100,-100,0]),e}}function VT(e,t,i){const r=t.createTileMatrix(e,e.worldSize,i.toUnwrapped());return xu.multiply(new Float32Array(16),e.projMatrix,r)}function jT(e,t,i){if(t.projection.name===i.projection.name)return e.projMatrix;const r=i.clone();return r.setProjection(t.projection),VT(r,t.getProjection(),e)}function GT(e,t,i){return t.name===i.projection.name?e.projMatrix:VT(i,t,e)}class qT{constructor(e,t,i,r){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):r&&i?1:0,this.placed=i;}isHidden(){return 0===this.opacity&&!this.placed}}class ZT{constructor(e,t,i,r,n,o=!1){this.text=new qT(e?e.text:null,t,i,n),this.icon=new qT(e?e.icon:null,t,r,n),this.clipped=o;}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class $T{constructor(e,t,i,r=!1){this.text=e,this.icon=t,this.skipFade=i,this.clipped=r;}}class HT{constructor(){this.invProjMatrix=xu.create(),this.viewportMatrix=xu.create(),this.circles=[];}}class WT{constructor(e,t,i,r,n){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=i,this.bucketIndex=r,this.tileID=n;}}class XT{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={};}get(e){if(this.crossSourceCollisions)return {ID:0,predicate:null};if(!this.collisionGroups[e]){const t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:e=>e.collisionGroupID===t};}return this.collisionGroups[e]}}function YT(e,t,i,r,n){const{horizontalAlign:o,verticalAlign:s}=L_(e),a=-(o-.5)*t,l=-(s-.5)*i,c=ug(e,r);return new y(a+c[0]*n,l+c[1]*n)}function KT(e,t,i,r,n){const o=new y(e,t);return i&&o._rotate(r?n:-n),o}class JT{constructor(e,t,i,r,n,o){this.transform=e.clone(),this.projection=e.projection.name,this.collisionIndex=new UT(this.transform,n),this.buildingIndex=o,this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new XT(i),this.collisionCircleArrays={},this.prevPlacement=r,r&&(r.prevPlacement=void 0),this.placedOrientations={};}getBucketParts(e,t,i,r){const n=i.getBucket(t),o=i.latestFeatureIndex;if(!n||!o||t.fqid!==n.layerIds[0])return;const s=n.layers[0].layout,a=i.collisionBoxArray,l=Math.pow(2,this.transform.zoom-i.tileID.overscaledZ),c=i.tileSize/sr,h=i.tileID.toUnwrapped();this.transform.setProjection(n.projection);const u=(d=i.tileID,p=n.getProjection(),f=this.transform,p.name===this.projection?f.calculateProjMatrix(d.toUnwrapped()):VT(f,p,d));var d,p,f;const m=\"map\"===s.get(\"text-pitch-alignment\"),_=\"map\"===s.get(\"text-rotation-alignment\");t.compileFilter();const g=t.dynamicFilter(),y=t.dynamicFilterNeedsFeature(),x=this.transform.calculatePixelsToTileUnitsMatrix(i),v=Qx(u,i.tileID.canonical,m,_,this.transform,n.getProjection(),x);let b=null;if(m){const e=ev(u,i.tileID.canonical,m,_,this.transform,n.getProjection(),x);b=xu.multiply([],this.transform.labelPlaneMatrix,e);}let w=null;g&&i.latestFeatureIndex&&(w={unwrappedTileID:h,dynamicFilter:g,dynamicFilterNeedsFeature:y,featureIndex:i.latestFeatureIndex}),this.retainedQueryData[n.bucketInstanceId]=new WT(n.bucketInstanceId,o,n.sourceLayerIndex,n.index,i.tileID);const T={bucket:n,layout:s,posMatrix:u,textLabelPlaneMatrix:v,labelToScreenMatrix:b,clippingData:w,scale:l,textPixelRatio:c,holdingForFade:i.holdingForFade(),collisionBoxArray:a,partiallyEvaluatedTextSize:a_(n.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:a_(n.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(n.sourceID)};if(r)for(const t of n.sortKeyRanges){const{sortKey:i,symbolInstanceStart:r,symbolInstanceEnd:n}=t;e.push({sortKey:i,symbolInstanceStart:r,symbolInstanceEnd:n,parameters:T});}else e.push({symbolInstanceStart:0,symbolInstanceEnd:n.symbolInstances.length,parameters:T});}attemptAnchorPlacement(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_,g){const{textOffset0:y,textOffset1:x,crossTileID:v}=u,b=[y,x],w=YT(e,i,r,b,n),T=this.collisionIndex.placeCollisionBox(p,n,t,KT(w.x,w.y,o,s,this.transform.angle),h,a,l,c.predicate);if(m){const e=p.getSymbolInstanceIconSize(g,this.transform.zoom,u.placedIconSymbolIndex);if(0===this.collisionIndex.placeCollisionBox(p,e,m,KT(w.x,w.y,o,s,this.transform.angle),h,a,l,c.predicate).box.length)return}if(T.box.length>0){let t;return this.prevPlacement&&this.prevPlacement.variableOffsets[v]&&this.prevPlacement.placements[v]&&this.prevPlacement.placements[v].text&&(t=this.prevPlacement.variableOffsets[v].anchor),this.variableOffsets[v]={textOffset:b,width:i,height:r,anchor:e,textScale:n,prevAnchor:t},this.markUsedJustification(p,e,u,f),p.allowVerticalPlacement&&(this.markUsedOrientation(p,f,u),this.placedOrientations[v]=f),{shift:w,placedGlyphBoxes:T}}}placeLayerBucketPart(e,t,i,r){const{bucket:n,layout:o,posMatrix:s,textLabelPlaneMatrix:a,labelToScreenMatrix:l,clippingData:c,textPixelRatio:h,holdingForFade:u,collisionBoxArray:d,partiallyEvaluatedTextSize:p,partiallyEvaluatedIconSize:f,collisionGroup:m}=e.parameters,_=o.get(\"text-optional\"),g=o.get(\"icon-optional\"),x=o.get(\"text-allow-overlap\"),v=o.get(\"icon-allow-overlap\"),b=\"map\"===o.get(\"text-rotation-alignment\"),w=\"map\"===o.get(\"text-pitch-alignment\"),T=\"viewport-y\"===o.get(\"symbol-z-order\"),E=o.get(\"symbol-z-elevate\");this.transform.setProjection(n.projection);let M=x&&(v||!n.hasIconData()||g),A=v&&(x||!n.hasTextData()||_);!n.collisionArrays&&d&&n.deserializeCollisionBoxes(d),i&&r&&n.updateCollisionDebugBuffers(this.transform.zoom,d);const S=(e,r,d)=>{const{crossTileID:T,numVerticalGlyphVertices:E}=e;if(c){const i={zoom:this.transform.zoom,pitch:this.transform.pitch};let r=null;if(c.dynamicFilterNeedsFeature){const t=this.retainedQueryData[n.bucketInstanceId];r=c.featureIndex.loadFeature({featureIndex:e.featureIndex,bucketIndex:t.bucketIndex,sourceLayerIndex:t.sourceLayerIndex,layoutVertexArrayOffset:0});}if(!(0,c.dynamicFilter)(i,r,this.retainedQueryData[n.bucketInstanceId].tileID.canonical,new y(e.tileAnchorX,e.tileAnchorY),this.transform.calculateDistanceTileData(c.unwrappedTileID)))return this.placements[T]=new $T(!1,!1,!1,!0),void t.add(T)}if(t.has(T))return;if(u)return void(this.placements[T]=new $T(!1,!1,!1));let S=!1,I=!1,C=!0,z=!1,D=!1,P=null,R={box:null,offscreen:null,occluded:null},L={box:null,offscreen:null,occluded:null},k=null,O=null,B=null,F=0,N=0,U=0;d.textFeatureIndex?F=d.textFeatureIndex:e.useRuntimeCollisionCircles&&(F=e.featureIndex),d.verticalTextFeatureIndex&&(N=d.verticalTextFeatureIndex);const V=t=>{t.tileID=this.retainedQueryData[n.bucketInstanceId].tileID;const i=this.transform.elevation;t.elevation=e.zOffset+(i?i.getAtTileOffset(t.tileID,t.tileAnchorX,t.tileAnchorY):0);},j=d.textBox;if(j){V(j);const t=t=>{let i=w_.horizontal;if(n.allowVerticalPlacement&&!t&&this.prevPlacement){const t=this.prevPlacement.placedOrientations[T];t&&(this.placedOrientations[T]=t,i=t,this.markUsedOrientation(n,i,e));}return i},i=(e,t)=>{if(n.allowVerticalPlacement&&E>0&&d.verticalTextBox){for(const i of n.writingModes)if(i===w_.vertical?(R=t(),L=R):R=e(),R&&R.box&&R.box.length)break}else R=e();};if(o.get(\"text-variable-anchor\")){let a=o.get(\"text-variable-anchor\");if(this.prevPlacement&&this.prevPlacement.variableOffsets[T]){const e=this.prevPlacement.variableOffsets[T];a.indexOf(e.anchor)>0&&(a=a.filter((t=>t!==e.anchor)),a.unshift(e.anchor));}const l=(t,i,o)=>{const l=n.getSymbolInstanceTextSize(p,e,this.transform.zoom,r),c=(t.x2-t.x1)*l+2*t.padding,u=(t.y2-t.y1)*l+2*t.padding,d=e.hasIconTextFit&&!v?i:null;d&&V(d);let _={box:[],offscreen:!1,occluded:!1};const g=x?2*a.length:a.length;for(let i=0;i<g;++i){const g=this.attemptAnchorPlacement(a[i%a.length],t,c,u,l,b,w,h,s,m,i>=a.length,e,r,n,o,d,p,f);if(g&&(_=g.placedGlyphBoxes,_&&_.box&&_.box.length)){S=!0,P=g.shift;break}}return _};i((()=>l(j,d.iconBox,w_.horizontal)),(()=>{const e=d.verticalTextBox;return e&&V(e),n.allowVerticalPlacement&&!(R&&R.box&&R.box.length)&&E>0&&e?l(e,d.verticalIconBox,w_.vertical):{box:null,offscreen:null,occluded:null}})),R&&(S=R.box,C=R.offscreen,z=R.occluded);const c=t(!(!R||!R.box));if(!S&&this.prevPlacement){const t=this.prevPlacement.variableOffsets[T];t&&(this.variableOffsets[T]=t,this.markUsedJustification(n,t.anchor,e,c));}}else {const o=(t,i)=>{const o=n.getSymbolInstanceTextSize(p,e,this.transform.zoom,r),a=this.collisionIndex.placeCollisionBox(n,o,t,new y(0,0),x,h,s,m.predicate);return a&&a.box&&a.box.length&&(this.markUsedOrientation(n,i,e),this.placedOrientations[T]=i),a};i((()=>o(j,w_.horizontal)),(()=>{const e=d.verticalTextBox;return n.allowVerticalPlacement&&E>0&&e?(V(e),o(e,w_.vertical)):{box:null,offscreen:null,occluded:null}})),t(!!(R&&R.box&&R.box.length));}}if(k=R,S=k&&k.box&&k.box.length>0,C=k&&k.offscreen,z=k&&k.occluded,e.useRuntimeCollisionCircles){const t=n.text.placedSymbolArray.get(e.centerJustifiedTextSymbolIndex>=0?e.centerJustifiedTextSymbolIndex:e.verticalPlacedTextSymbolIndex),r=s_(n.textSizeData,p,t),c=o.get(\"text-padding\");O=this.collisionIndex.placeCollisionCircles(n,x,t,n.lineVertexArray,n.glyphOffsetArray,r,s,a,l,i,w,m.predicate,e.collisionCircleDiameter*r/r_,c,this.retainedQueryData[n.bucketInstanceId].tileID),S=x||O.circles.length>0&&!O.collisionDetected,C=C&&O.offscreen,z=O.occluded;}if(d.iconFeatureIndex&&(U=d.iconFeatureIndex),d.iconBox){const t=t=>{V(t);const i=e.hasIconTextFit&&P?KT(P.x,P.y,b,w,this.transform.angle):new y(0,0),r=n.getSymbolInstanceIconSize(f,this.transform.zoom,e.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(n,r,t,i,v,h,s,m.predicate)};L&&L.box&&L.box.length&&d.verticalIconBox?(B=t(d.verticalIconBox),I=B.box.length>0):(B=t(d.iconBox),I=B.box.length>0),C=C&&B.offscreen,D=B.occluded;}const G=_||0===e.numHorizontalGlyphVertices&&0===E,q=g||0===e.numIconVertices;if(G||q?q?G||(I=I&&S):S=I&&S:I=S=I&&S,S&&k&&k.box&&this.collisionIndex.insertCollisionBox(k.box,o.get(\"text-ignore-placement\"),n.bucketInstanceId,L&&L.box&&N?N:F,m.ID),I&&B&&this.collisionIndex.insertCollisionBox(B.box,o.get(\"icon-ignore-placement\"),n.bucketInstanceId,U,m.ID),O&&(S&&this.collisionIndex.insertCollisionCircles(O.circles,o.get(\"text-ignore-placement\"),n.bucketInstanceId,F,m.ID),i)){const e=n.bucketInstanceId;let t=this.collisionCircleArrays[e];void 0===t&&(t=this.collisionCircleArrays[e]=new HT);for(let e=0;e<O.circles.length;e+=4)t.circles.push(O.circles[e+0]),t.circles.push(O.circles[e+1]),t.circles.push(O.circles[e+2]),t.circles.push(O.collisionDetected?1:0);}const Z=\"globe\"!==n.projection.name;M=M&&(Z||!z),A=A&&(Z||!D),this.placements[T]=new $T(S||M,I||A,C||n.justReloaded),t.add(T);};if(E&&this.buildingIndex&&(this.buildingIndex.updateZOffset(n,this.retainedQueryData[n.bucketInstanceId].tileID),n.updateZOffset()),T){const e=n.getSortedSymbolIndexes(this.transform.angle);for(let t=e.length-1;t>=0;--t){const i=e[t];S(n.symbolInstances.get(i),i,n.collisionArrays[i]);}n.hasAnyZOffset&&W(`${n.layerIds[0]} layer symbol-z-elevate: symbols are not sorted by elevation if symbol-z-order is evaluated to viewport-y`);}else if(n.hasAnyZOffset){const e=n.getSortedIndexesByZOffset();for(let t=0;t<e.length;++t){const i=e[t];S(n.symbolInstances.get(i),i,n.collisionArrays[i]);}}else for(let t=e.symbolInstanceStart;t<e.symbolInstanceEnd;t++)S(n.symbolInstances.get(t),t,n.collisionArrays[t]);if(i&&n.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[n.bucketInstanceId];xu.invert(e.invProjMatrix,s),e.viewportMatrix=this.collisionIndex.getViewportMatrix();}n.justReloaded=!1;}markUsedJustification(e,t,i,r){const{leftJustifiedTextSymbolIndex:n,centerJustifiedTextSymbolIndex:o,rightJustifiedTextSymbolIndex:s,verticalPlacedTextSymbolIndex:a,crossTileID:l}=i,c=pg(t),h=r===w_.vertical?a:\"left\"===c?n:\"center\"===c?o:\"right\"===c?s:-1;n>=0&&(e.text.placedSymbolArray.get(n).crossTileID=h>=0&&n!==h?0:l),o>=0&&(e.text.placedSymbolArray.get(o).crossTileID=h>=0&&o!==h?0:l),s>=0&&(e.text.placedSymbolArray.get(s).crossTileID=h>=0&&s!==h?0:l),a>=0&&(e.text.placedSymbolArray.get(a).crossTileID=h>=0&&a!==h?0:l);}markUsedOrientation(e,t,i){const r=t===w_.horizontal||t===w_.horizontalOnly?t:0,n=t===w_.vertical?t:0,{leftJustifiedTextSymbolIndex:o,centerJustifiedTextSymbolIndex:s,rightJustifiedTextSymbolIndex:a,verticalPlacedTextSymbolIndex:l}=i,c=e.text.placedSymbolArray;o>=0&&(c.get(o).placedOrientation=r),s>=0&&(c.get(s).placedOrientation=r),a>=0&&(c.get(a).placedOrientation=r),l>=0&&(c.get(l).placedOrientation=n);}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const t=this.prevPlacement;let i=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;const r=t?t.symbolFadeChange(e):1,n=t?t.opacities:{},o=t?t.variableOffsets:{},s=t?t.placedOrientations:{};for(const e in this.placements){const t=this.placements[e],o=n[e];o?(this.opacities[e]=new ZT(o,r,t.text,t.icon,null,t.clipped),i=i||t.text!==o.text.placed||t.icon!==o.icon.placed):(this.opacities[e]=new ZT(null,r,t.text,t.icon,t.skipFade,t.clipped),i=i||t.text||t.icon);}for(const e in n){const t=n[e];if(!this.opacities[e]){const n=new ZT(t,r,!1,!1);n.isHidden()||(this.opacities[e]=n,i=i||t.text.placed||t.icon.placed);}}for(const e in o)this.variableOffsets[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.variableOffsets[e]=o[e]);for(const e in s)this.placedOrientations[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.placedOrientations[e]=s[e]);i?this.lastPlacementChangeTime=e:\"number\"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e);}updateLayerOpacities(e,t){const i=new Set;for(const r of t){const t=r.getBucket(e);t&&r.latestFeatureIndex&&e.fqid===t.layerIds[0]&&(this.updateBucketOpacities(t,i,r.collisionBoxArray),t.layers[0].layout.get(\"symbol-z-elevate\")&&this.buildingIndex&&(this.buildingIndex.updateZOffset(t,r.tileID),t.updateZOffset()));}}updateBucketOpacities(e,t,i){e.hasTextData()&&e.text.opacityVertexArray.clear(),e.hasIconData()&&e.icon.opacityVertexArray.clear(),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear();const r=e.layers[0].layout,n=!!e.layers[0].dynamicFilter(),o=new ZT(null,0,!1,!1,!0),s=r.get(\"text-allow-overlap\"),a=r.get(\"icon-allow-overlap\"),l=r.get(\"text-variable-anchor\"),c=\"map\"===r.get(\"text-rotation-alignment\"),h=\"map\"===r.get(\"text-pitch-alignment\"),u=new ZT(null,0,s&&(a||!e.hasIconData()||r.get(\"icon-optional\")),a&&(s||!e.hasTextData()||r.get(\"text-optional\")),!0);!e.collisionArrays&&i&&(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData())&&e.deserializeCollisionBoxes(i);const d=(e,t,i)=>{for(let r=0;r<t/4;r++)e.opacityVertexArray.emplaceBack(i);};let p=0;for(let i=0;i<e.symbolInstances.length;i++){const r=e.symbolInstances.get(i),{numHorizontalGlyphVertices:s,numVerticalGlyphVertices:a,crossTileID:f,numIconVertices:m}=r,_=t.has(f);let g=this.opacities[f];_?g=o:g||(g=u,this.opacities[f]=g),t.add(f);const x=s>0||a>0,v=m>0,b=this.placedOrientations[f],w=b===w_.vertical,T=b===w_.horizontal||b===w_.horizontalOnly;if(!x&&!v||g.isHidden()||p++,x){const t=aE(g.text);d(e.text,s,w?lE:t),d(e.text,a,T?lE:t);const i=g.text.isHidden(),{leftJustifiedTextSymbolIndex:n,centerJustifiedTextSymbolIndex:o,rightJustifiedTextSymbolIndex:l,verticalPlacedTextSymbolIndex:c}=r,h=e.text.placedSymbolArray,u=i||w?1:0;n>=0&&(h.get(n).hidden=u),o>=0&&(h.get(o).hidden=u),l>=0&&(h.get(l).hidden=u),c>=0&&(h.get(c).hidden=i||T?1:0);const p=this.variableOffsets[f];p&&this.markUsedJustification(e,p.anchor,r,b);const m=this.placedOrientations[f];m&&(this.markUsedJustification(e,\"left\",r,m),this.markUsedOrientation(e,m,r));}if(v){const t=aE(g.icon),{placedIconSymbolIndex:i,verticalPlacedIconSymbolIndex:n}=r,o=e.icon.placedSymbolArray,s=g.icon.isHidden()?1:0;i>=0&&(d(e.icon,m,w?lE:t),o.get(i).hidden=s),n>=0&&(d(e.icon,r.numVerticalIconVertices,T?lE:t),o.get(n).hidden=s);}if(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData()){const t=e.collisionArrays[i];if(t){let i=new y(0,0),o=!0;if(t.textBox||t.verticalTextBox){if(l){const e=this.variableOffsets[f];e?(i=YT(e.anchor,e.width,e.height,e.textOffset,e.textScale),c&&i._rotate(h?this.transform.angle:-this.transform.angle)):o=!1;}n&&(o=!g.clipped),t.textBox&&QT(e.textCollisionBox.collisionVertexArray,g.text.placed,!o||w,i.x,i.y),t.verticalTextBox&&QT(e.textCollisionBox.collisionVertexArray,g.text.placed,!o||T,i.x,i.y);}const s=o&&Boolean(!T&&t.verticalIconBox);t.iconBox&&QT(e.iconCollisionBox.collisionVertexArray,g.icon.placed,s,r.hasIconTextFit?i.x:0,r.hasIconTextFit?i.y:0),t.verticalIconBox&&QT(e.iconCollisionBox.collisionVertexArray,g.icon.placed,!s,r.hasIconTextFit?i.x:0,r.hasIconTextFit?i.y:0);}}}if(e.fullyClipped=0===p,e.sortFeatures(this.transform.angle),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[e.bucketInstanceId];e.placementInvProjMatrix=t.invProjMatrix,e.placementViewportMatrix=t.viewportMatrix,e.collisionCircleArray=t.circles,delete this.collisionCircleArrays[e.bucketInstanceId];}}symbolFadeChange(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,t){const i=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*i>e}setStale(){this.stale=!0;}}function QT(e,t,i,r,n){e.emplaceBack(t?1:0,i?1:0,r||0,n||0),e.emplaceBack(t?1:0,i?1:0,r||0,n||0),e.emplaceBack(t?1:0,i?1:0,r||0,n||0),e.emplaceBack(t?1:0,i?1:0,r||0,n||0);}const eE=Math.pow(2,25),tE=Math.pow(2,24),iE=Math.pow(2,17),rE=Math.pow(2,16),nE=Math.pow(2,9),oE=Math.pow(2,8),sE=Math.pow(2,1);function aE(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;const t=e.placed?1:0,i=Math.floor(127*e.opacity);return i*eE+t*tE+i*iE+t*rE+i*nE+t*oE+i*sE+t}const lE=0;class cE{constructor(e){this._sortAcrossTiles=\"viewport-y\"!==e.layout.get(\"symbol-z-order\")&&void 0!==e.layout.get(\"symbol-sort-key\").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[];}continuePlacement(e,t,i,r,n){const o=this._bucketParts;for(;this._currentTileIndex<e.length;)if(t.getBucketParts(o,r,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,n())return !0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort(((e,t)=>e.sortKey-t.sortKey)));this._currentPartIndex<o.length;){const e=o[this._currentPartIndex];if(t.placeLayerBucketPart(e,this._seenCrossTileIDs,i,0===e.symbolInstanceStart),this._currentPartIndex++,n())return !0}return !1}}class hE{constructor(e,t,i,r,n,o,s,a,l){this.placement=new JT(e,n,o,s,a,l),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=i,this._showCollisionBoxes=r,this._done=!1;}isDone(){return this._done}continuePlacement(e,t,i,r){const n=ht.now(),o=()=>{const e=ht.now()-n;return !this._forceFullPlacement&&e>2};for(;this._currentPlacementIndex>=0;){const n=t[e[this._currentPlacementIndex]],s=this.placement.collisionIndex.transform.zoom;if(\"symbol\"===n.type&&(!n.minzoom||n.minzoom<=s)&&(!n.maxzoom||n.maxzoom>s)){const e=n,t=e.layout.get(\"symbol-z-elevate\"),s=this._inProgressLayer=this._inProgressLayer||new cE(e),a=pa(n.source,n.scope);if(s.continuePlacement(t?r[a]:i[a],this.placement,this._showCollisionBoxes,n,o))return;delete this._inProgressLayer;}this._currentPlacementIndex--;}this._done=!0;}commit(e){return this.placement.commit(e),this.placement}}const uE=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class dE{static from(e){if(!(e instanceof ArrayBuffer))throw new Error(\"Data must be an instance of ArrayBuffer.\");const[t,i]=new Uint8Array(e,0,2);if(219!==t)throw new Error(\"Data does not appear to be in a KDBush format.\");const r=i>>4;if(1!==r)throw new Error(`Got v${r} data when expected v1.`);const n=uE[15&i];if(!n)throw new Error(\"Unrecognized array type.\");const[o]=new Uint16Array(e,2,1),[s]=new Uint32Array(e,4,1);return new dE(s,o,n,e)}constructor(e,t=64,i=Float64Array,r){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=i,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const n=uE.indexOf(this.ArrayType),o=2*e*this.ArrayType.BYTES_PER_ELEMENT,s=e*this.IndexArrayType.BYTES_PER_ELEMENT,a=(8-s%8)%8;if(n<0)throw new Error(`Unexpected typed array class: ${i}.`);r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+s+a,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+o+s+a),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+s+a,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+n]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e);}add(e,t){const i=this._pos>>1;return this.ids[i]=i,this.coords[this._pos++]=e,this.coords[this._pos++]=t,i}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return pE(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,i,r){if(!this._finished)throw new Error(\"Data not yet indexed - call index.finish().\");const{ids:n,coords:o,nodeSize:s}=this,a=[0,n.length-1,0],l=[];for(;a.length;){const c=a.pop()||0,h=a.pop()||0,u=a.pop()||0;if(h-u<=s){for(let s=u;s<=h;s++){const a=o[2*s],c=o[2*s+1];a>=e&&a<=i&&c>=t&&c<=r&&l.push(n[s]);}continue}const d=u+h>>1,p=o[2*d],f=o[2*d+1];p>=e&&p<=i&&f>=t&&f<=r&&l.push(n[d]),(0===c?e<=p:t<=f)&&(a.push(u),a.push(d-1),a.push(1-c)),(0===c?i>=p:r>=f)&&(a.push(d+1),a.push(h),a.push(1-c));}return l}within(e,t,i){if(!this._finished)throw new Error(\"Data not yet indexed - call index.finish().\");const{ids:r,coords:n,nodeSize:o}=this,s=[0,r.length-1,0],a=[],l=i*i;for(;s.length;){const c=s.pop()||0,h=s.pop()||0,u=s.pop()||0;if(h-u<=o){for(let i=u;i<=h;i++)gE(n[2*i],n[2*i+1],e,t)<=l&&a.push(r[i]);continue}const d=u+h>>1,p=n[2*d],f=n[2*d+1];gE(p,f,e,t)<=l&&a.push(r[d]),(0===c?e-i<=p:t-i<=f)&&(s.push(u),s.push(d-1),s.push(1-c)),(0===c?e+i>=p:t+i>=f)&&(s.push(d+1),s.push(h),s.push(1-c));}return a}}function pE(e,t,i,r,n,o){if(n-r<=i)return;const s=r+n>>1;fE(e,t,s,r,n,o),pE(e,t,i,r,s-1,1-o),pE(e,t,i,s+1,n,1-o);}function fE(e,t,i,r,n,o){for(;n>r;){if(n-r>600){const s=n-r+1,a=i-r+1,l=Math.log(s),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(s-c)/s)*(a-s/2<0?-1:1);fE(e,t,i,Math.max(r,Math.floor(i-a*c/s+h)),Math.min(n,Math.floor(i+(s-a)*c/s+h)),o);}const s=t[2*i+o];let a=r,l=n;for(mE(e,t,r,i),t[2*n+o]>s&&mE(e,t,r,n);a<l;){for(mE(e,t,a,l),a++,l--;t[2*a+o]<s;)a++;for(;t[2*l+o]>s;)l--;}t[2*r+o]===s?mE(e,t,r,l):(l++,mE(e,t,l,n)),l<=i&&(r=l+1),i<=l&&(n=l-1);}}function mE(e,t,i,r){_E(e,i,r),_E(t,2*i,2*r),_E(t,2*i+1,2*r+1);}function _E(e,t,i){const r=e[t];e[t]=e[i],e[i]=r;}function gE(e,t,i,r){const n=e-i,o=t-r;return n*n+o*o}const yE=512/sr/2;class xE{constructor(e,t,i){this.tileID=e,this.bucketInstanceId=i,this.index=new dE(t.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const r=e.canonical.x*sr,n=e.canonical.y*sr;for(let e=0;e<t.length;e++){const{key:i,crossTileID:o,tileAnchorX:s,tileAnchorY:a}=t.get(e),l=Math.floor((r+s)*yE),c=Math.floor((n+a)*yE);this.index.add(l,c),this.keys.push(i),this.crossTileIDs.push(o);}this.index.finish();}findMatches(e,t,i){const r=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),n=yE/Math.pow(2,t.canonical.z-this.tileID.canonical.z),o=t.canonical.x*sr,s=t.canonical.y*sr;for(let t=0;t<e.length;t++){const a=e.get(t);if(a.crossTileID)continue;const{key:l,tileAnchorX:c,tileAnchorY:h}=a,u=Math.floor((o+c)*n),d=Math.floor((s+h)*n),p=this.index.range(u-r,d-r,u+r,d+r);for(const e of p){const t=this.crossTileIDs[e];if(this.keys[e]===l&&!i.has(t)){i.add(t),a.crossTileID=t;break}}}}}class vE{constructor(){this.maxCrossTileID=0;}generate(){return ++this.maxCrossTileID}}class bE{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0;}handleWrapJump(e){const t=Math.round((e-this.lng)/360);if(0!==t)for(const e in this.indexes){const i=this.indexes[e],r={};for(const e in i){const n=i[e];n.tileID=n.tileID.unwrapTo(n.tileID.wrap+t),r[n.tileID.key]=n;}this.indexes[e]=r;}this.lng=e;}addBucket(e,t,i){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return !1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key]);}for(let e=0;e<t.symbolInstances.length;e++)t.symbolInstances.get(e).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]=new Set);const r=this.usedCrossTileIDs[e.overscaledZ];for(const i in this.indexes){const n=this.indexes[i];if(Number(i)>e.overscaledZ)for(const i in n){const o=n[i];o.tileID.isChildOf(e)&&o.findMatches(t.symbolInstances,e,r);}else {const o=n[e.scaledTo(Number(i)).key];o&&o.findMatches(t.symbolInstances,e,r);}}for(let e=0;e<t.symbolInstances.length;e++){const n=t.symbolInstances.get(e);n.crossTileID||(n.crossTileID=i.generate(),r.add(n.crossTileID));}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new xE(e,t.symbolInstances,t.bucketInstanceId),!0}removeBucketCrossTileIDs(e,t){for(const i of t.crossTileIDs)this.usedCrossTileIDs[e].delete(i);}removeStaleBuckets(e){let t=!1;for(const i in this.indexes){const r=this.indexes[i];for(const n in r)e[r[n].bucketInstanceId]||(this.removeBucketCrossTileIDs(i,r[n]),delete r[n],t=!0);}return t}}class wE{constructor(){this.layerIndexes={},this.crossTileIDs=new vE,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={};}addLayer(e,t,i,r){let n=this.layerIndexes[e.fqid];void 0===n&&(n=this.layerIndexes[e.fqid]=new bE);let o=!1;const s={};\"globe\"!==r.name&&n.handleWrapJump(i);for(const i of t){const t=i.getBucket(e);t&&e.fqid===t.layerIds[0]&&(t.bucketInstanceId||(t.bucketInstanceId=++this.maxBucketInstanceId),n.addBucket(i.tileID,t,this.crossTileIDs)&&(o=!0),s[t.bucketInstanceId]=!0);}return n.removeStaleBuckets(s)&&(o=!0),o}pruneUnusedLayers(e){const t={};e.forEach((e=>{t[e]=!0;}));for(const e in this.layerIndexes)t[e]||delete this.layerIndexes[e];}}var TE=\"\\n#define EPSILON 0.0000001\\n#define PI 3.141592653589793\\n#define EXTENT 8192.0\\n#define HALF_PI PI/2.0\\n#define QUARTER_PI PI/4.0\\n#define RAD_TO_DEG 180.0/PI\\n#define DEG_TO_RAD PI/180.0\\n#define GLOBE_RADIUS EXTENT/PI/2.0\\nvec3 linearTosRGB(vec3 color)\\n{return pow(color,vec3(1./2.2));}vec3 sRGBToLinear(vec3 srgbIn)\\n{return pow(srgbIn,vec3(2.2));}vec3 linearProduct(vec3 srgbIn,vec3 k)\\n{return srgbIn*pow(k,vec3(1./2.2));}\\n#if __VERSION__ >=300\\n#define _HANDLE_WIREFRAME_DEPTH gl_FragDepth=gl_FragCoord.z-0.0001;\\n#else\\n#define _HANDLE_WIREFRAME_DEPTH\\n#endif\\n#ifdef DEBUG_WIREFRAME\\n#define HANDLE_WIREFRAME_DEBUG \\\\\\ngl_FragColor=vec4(0.7,0.0,0.0,0.7); \\\\\\n_HANDLE_WIREFRAME_DEPTH;\\n#else\\n#define HANDLE_WIREFRAME_DEBUG\\n#endif\\n#ifdef RENDER_CUTOFF\\nfloat cutoff_opacity(vec4 cutoff_params,float depth) {float near=cutoff_params.x;float far=cutoff_params.y;float cutoffStart=cutoff_params.z;float cutoffEnd=cutoff_params.w-0.0001;float linearDepth=(depth-near)/(far-near);return clamp((linearDepth-cutoffStart)/(cutoffEnd-cutoffStart),0.0,1.0);}\\n#endif\",EE=\"attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}\",ME=\"\\n#define ELEVATION_SCALE 7.0\\n#define ELEVATION_OFFSET 450.0\\n#ifdef PROJECTION_GLOBE_VIEW\\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\\n#else\\nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\\n#endif\\nconst float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)\\n{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}\\n#ifdef TERRAIN\\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\\n#else\\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\\n#endif\\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem,pos).r;\\n#else\\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\\n#endif\\n}float prevElevation(vec2 apos) {\\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem_prev,pos).r;\\n#else\\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\\n#endif\\n}\\n#ifdef TERRAIN_VERTEX_MORPHING\\nfloat elevation(vec2 apos) {\\n#ifdef ZERO_EXAGGERATION\\nreturn 0.0;\\n#endif\\nfloat nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\\n#else\\nfloat elevation(vec2 apos) {\\n#ifdef ZERO_EXAGGERATION\\nreturn 0.0;\\n#endif\\nreturn currentElevation(apos);}\\n#endif\\nhighp float unpack_depth(highp vec4 rgba_depth)\\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\\nfloat tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(off.x,0.0)).r;float bl=texture(u_dem,pos+vec2(0.0,off.y)).r;float br=texture(u_dem,pos+off).r;\\n#else\\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\\n#endif\\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\\n#else\\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\\n#endif\",AE=\"#ifdef FOG\\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\\n#endif\",SE=\"#ifdef FOG\\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump vec2 u_fog_vertical_limit;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec4 fog_apply_premultiplied(vec4 color,vec3 pos,float heightMeters) {float verticalProgress=(u_fog_vertical_limit.x > 0.0 || u_fog_vertical_limit.y > 0.0) ? smoothstep(u_fog_vertical_limit.x,u_fog_vertical_limit.y,heightMeters) : 0.0;float opacityLimit=1.0-smoothstep(0.9,1.0,fog_opacity(pos));return mix(fog_apply_premultiplied(color,pos),color,min(verticalProgress,opacityLimit));}vec3 fog_dither(vec3 color) {\\n#ifdef FOG_DITHERING\\nvec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);\\n#else\\nreturn color;\\n#endif\\n}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\\n#endif\",IE=\"#ifdef RENDER_SHADOWS\\nuniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_normal_offset;vec3 shadow_normal_offset(vec3 normal) {float tileInMeters=u_shadow_normal_offset[0];vec3 n=vec3(-normal.xy,tileInMeters*normal.z);float dotScale=min(1.0-dot(normal,u_shadow_direction),1.0)*0.5+0.5;return n*dotScale;}vec3 shadow_normal_offset_model(vec3 normal) {float dotScale=min(1.0-dot(normal,u_shadow_direction),1.0)*0.5+0.5;return normal*dotScale;}float shadow_normal_offset_multiplier0() {return u_shadow_normal_offset[1];}float shadow_normal_offset_multiplier1() {return u_shadow_normal_offset[2];}\\n#endif//RENDER_SHADOWS\",CE=\"#ifdef RENDER_SHADOWS\\n#if defined(NATIVE) && __VERSION__ >=300\\n#define TEXTURE_GATHER\\n#endif\\n#ifdef DEPTH_TEXTURE\\nuniform highp sampler2D u_shadowmap_0;uniform highp sampler2D u_shadowmap_1;\\n#else\\nuniform sampler2D u_shadowmap_0;uniform sampler2D u_shadowmap_1;\\n#endif\\nuniform float u_shadow_intensity;uniform float u_shadow_map_resolution;uniform float u_shadow_texel_size;uniform highp vec3 u_shadow_normal_offset;uniform vec2 u_fade_range;uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_bias;highp float shadow_sample_1(highp vec2 uv,highp float compare) {highp float shadow_depth;\\n#ifdef DEPTH_TEXTURE\\nshadow_depth=texture2D(u_shadowmap_1,uv).r;\\n#else\\nshadow_depth=unpack_depth(texture2D(u_shadowmap_1,uv))*0.5+0.5;\\n#endif\\nreturn step(shadow_depth,compare);}highp float shadow_sample_0(highp vec2 uv,highp float compare) {highp float shadow_depth;\\n#ifdef DEPTH_TEXTURE\\nshadow_depth=texture2D(u_shadowmap_0,uv).r;\\n#else\\nshadow_depth=unpack_depth(texture2D(u_shadowmap_0,uv))*0.5+0.5;\\n#endif\\nreturn step(shadow_depth,compare);}float shadow_occlusion_1(highp vec4 pos,highp float bias) {highp vec2 uv=pos.xy;return shadow_sample_1(uv,pos.z-bias);}float shadow_occlusion_0(highp vec4 pos,highp float bias) {highp float compare0=pos.z-bias;\\n#ifdef TEXTURE_GATHER\\nhighp vec2 uv=pos.xy;highp vec4 samples=textureGather(u_shadowmap_0,uv,0);lowp vec4 stepSamples=step(samples,vec4(compare0));\\n#else\\nhighp vec2 uv00=pos.xy-vec2(0.5*u_shadow_texel_size);highp vec2 uv10=uv00+vec2(u_shadow_texel_size,0.0);highp vec2 uv01=uv00+vec2(0.0,u_shadow_texel_size);highp vec2 uv11=uv01+vec2(u_shadow_texel_size,0.0);lowp vec4 stepSamples=vec4(\\nshadow_sample_0(uv01,compare0),shadow_sample_0(uv11,compare0),shadow_sample_0(uv10,compare0),shadow_sample_0(uv00,compare0)\\n);\\n#endif\\nvec2 f=fract(pos.xy*u_shadow_map_resolution-vec2(0.5));lowp vec2 lerpx=mix(stepSamples.wx,stepSamples.zy,f.xx);return mix(lerpx.x,lerpx.y,f.y);}float shadow_occlusion(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth,highp float bias) {\\n#ifdef SHADOWS_SINGLE_CASCADE\\nlight_view_pos0.xyz=light_view_pos0.xyz/light_view_pos0.w*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);\\n#else\\nlight_view_pos0.xyz/=light_view_pos0.w;light_view_pos1.xyz/=light_view_pos1.w;vec4 uv=vec4(light_view_pos0.xy,light_view_pos1.xy);vec4 abs_bounds=abs(uv);if (abs_bounds.x < 1.0 && abs_bounds.y < 1.0) {light_view_pos0.xyz=light_view_pos0.xyz*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);}if (abs_bounds.z >=1.0 || abs_bounds.w >=1.0) {return 0.0;}light_view_pos1.xyz=light_view_pos1.xyz*0.5+0.5;float occlusion1=shadow_occlusion_1(light_view_pos1,bias);return mix(occlusion1,0.0,smoothstep(u_fade_range.x,u_fade_range.y,view_depth));\\n#endif\\n}highp float calculate_shadow_bias(float NDotL) {\\n#ifdef NORMAL_OFFSET\\nreturn 0.5*u_shadow_bias.x;\\n#else\\nreturn 0.5*(u_shadow_bias.x+clamp(u_shadow_bias.y*tan(acos(NDotL)),0.0,u_shadow_bias.z));\\n#endif\\n}float shadowed_light_factor_normal(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=calculate_shadow_bias(NDotL);float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor_normal_unbiased(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return 1.0-(u_shadow_intensity*occlusion);}float shadow_occlusion(float ndotl,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=calculate_shadow_bias(ndotl);return shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);}\\n#endif\";const zE=[];OE(TE,zE);const DE={\"_prelude_fog.vertex.glsl\":AE,\"_prelude_terrain.vertex.glsl\":ME,\"_prelude_shadow.vertex.glsl\":IE,\"_prelude_fog.fragment.glsl\":SE,\"_prelude_shadow.fragment.glsl\":CE,\"_prelude_lighting.glsl\":\"\\n#ifdef LIGHTING_3D_MODE\\nuniform mediump vec3 u_lighting_ambient_color;uniform mediump vec3 u_lighting_directional_dir;uniform mediump vec3 u_lighting_directional_color;uniform mediump vec3 u_ground_radiance;float calculate_ambient_directional_factor(vec3 normal) {float NdotL=dot(normal,u_lighting_directional_dir);const float factor_reduction_max=0.3;float dir_luminance=dot(u_lighting_directional_color,vec3(0.2126,0.7152,0.0722));float directional_factor_min=1.0-factor_reduction_max*min(dir_luminance,1.0);float ambient_directional_factor=mix(directional_factor_min,1.0,min((NdotL+1.0),1.0));const float vertical_factor_min=0.92;float vertical_factor=mix(vertical_factor_min,1.0,normal.z*0.5+0.5);return vertical_factor*ambient_directional_factor;}vec3 apply_lighting(vec3 color,vec3 normal,float dir_factor) {float ambient_directional_factor=calculate_ambient_directional_factor(normal);vec3 ambient_contrib=ambient_directional_factor*u_lighting_ambient_color;vec3 directional_contrib=u_lighting_directional_color*dir_factor;return linearProduct(color,ambient_contrib+directional_contrib);}vec4 apply_lighting(vec4 color,vec3 normal,float dir_factor) {return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting(vec3 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return apply_lighting(color.rgb,normal,dir_factor);}vec4 apply_lighting(vec4 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting_ground(vec3 color) {return color*u_ground_radiance;}vec4 apply_lighting_ground(vec4 color) {return vec4(apply_lighting_ground(color.rgb),color.a);}float calculate_NdotL(vec3 normal) {const float ext=0.70710678118;return (clamp(dot(normal,u_lighting_directional_dir),-ext,1.0)+ext)/(1.0+ext);}vec4 apply_lighting_with_emission_ground(vec4 color,float emissive_strength) {return mix(apply_lighting_ground(color),color,emissive_strength);}vec3 compute_flood_lighting(vec3 flood_light_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=flood_light_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);float occlusion_ramp=smoothstep(0.0,0.2,1.0-occlusion);return mix(fully_occluded_color,flood_light_color,occlusion_ramp);}vec3 compute_emissive_draped(vec3 unlit_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=unlit_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);return mix(fully_occluded_color,unlit_color,1.0-occlusion);}\\n#endif//LIGHTING_3D_MODE\"},PE={};BE(\"\",ME),BE(SE,AE),BE(CE,IE);const RE=BE(\"\\n#if __VERSION__ >=300\\n#define varying in\\n#define gl_FragColor glFragColor\\n#define texture2D texture\\n#define textureCube texture\\nout vec4 glFragColor;\\n#endif\\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)\\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}\\n#ifdef INDICATOR_CUTOUT\\nuniform vec2 u_indicator_cutout_centers;uniform vec4 u_indicator_cutout_params;\\n#endif\\nvec4 applyCutout(vec4 color) {\\n#ifdef INDICATOR_CUTOUT\\nfloat holeMinOpacity=u_indicator_cutout_params.x;float holeRadius=max(u_indicator_cutout_params.y,0.0);float holeAspectRatio=u_indicator_cutout_params.z;float fadeStart=u_indicator_cutout_params.w;float distA=distance(vec2(gl_FragCoord.x,gl_FragCoord.y*holeAspectRatio),vec2(u_indicator_cutout_centers[0],u_indicator_cutout_centers[1]*holeAspectRatio));return color*min(smoothstep(fadeStart,holeRadius,distA)+holeMinOpacity,1.0);\\n#else\\nreturn color;\\n#endif\\n}\\n#ifdef RENDER_CUTOFF\\nuniform highp vec4 u_cutoff_params;varying float v_cutoff_opacity;\\n#endif\",\"\\n#if __VERSION__ >=300\\n#define attribute in\\n#define varying out\\n#define texture2D texture\\n#endif\\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\\n#ifndef PROJECTED_POS_ON_VIEWPORT\\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\\n#else\\nreturn vec3(0.0);\\n#endif\\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}\\n#endif\\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}\\n#ifdef RENDER_CUTOFF\\nuniform vec4 u_cutoff_params;varying float v_cutoff_opacity;\\n#endif\\nconst vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.\"),LE=TE;var kE={background:BE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform vec4 u_color;uniform float u_opacity;\\n#ifdef LIGHTING_3D_MODE\\nvarying vec4 v_color;\\n#endif\\nvoid main() {vec4 out_color;\\n#ifdef LIGHTING_3D_MODE\\nout_color=v_color;\\n#else\\nout_color=u_color;\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\ngl_FragColor=out_color*u_opacity;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nattribute vec2 a_pos;uniform mat4 u_matrix;\\n#ifdef LIGHTING_3D_MODE\\nuniform mediump vec4 u_color;varying vec4 v_color;uniform float u_emissive_strength;\\n#endif\\nvoid main() {gl_Position=u_matrix*vec4(a_pos,0,1);\\n#ifdef LIGHTING_3D_MODE\\nv_color=apply_lighting_with_emission_ground(u_color,u_emissive_strength);\\n#endif\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}'),backgroundPattern:BE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform float u_emissive_strength;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\ngl_FragColor=out_color*u_opacity;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\nuniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}'),circle:BE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nvarying vec3 v_data;varying float v_visibility;\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define mediump float radius\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define highp vec4 stroke_color\\n#pragma mapbox: define mediump float stroke_width\\n#pragma mapbox: define lowp float stroke_opacity\\nuniform float u_emissive_strength;void main() {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize mediump float radius\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize highp vec4 stroke_color\\n#pragma mapbox: initialize mediump float stroke_width\\n#pragma mapbox: initialize lowp float stroke_opacity\\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);\\n#endif\\n#ifdef FOG\\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\\n#endif\\ngl_FragColor=out_color*(v_visibility*opacity_t);\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}','#include \"_prelude_fog.vertex.glsl\"\\n#include \"_prelude_terrain.vertex.glsl\"\\n#define NUM_VISIBILITY_RINGS 2\\n#define INV_SQRT2 0.70710678\\n#define ELEVATION_BIAS 0.0001\\n#define NUM_SAMPLES_PER_RING 16\\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\\n#endif\\nvarying vec3 v_data;varying float v_visibility;\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define mediump float radius\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define highp vec4 stroke_color\\n#pragma mapbox: define mediump float stroke_width\\n#pragma mapbox: define lowp float stroke_opacity\\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\\n#if defined(TERRAIN)\\nreturn elevation(pos)+ELEVATION_BIAS;\\n#else\\nreturn 0.0;\\n#endif\\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\\n#ifdef PITCH_WITH_MAP\\n#ifdef PROJECTION_GLOBE_VIEW\\nreturn u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );\\n#else\\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\\n#endif\\n#else\\nreturn projected_center+vec4(sample_offset,0,0);\\n#endif\\n}float get_sample_step() {\\n#ifdef PITCH_WITH_MAP\\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\\n#else\\nreturn PI/float(NUM_SAMPLES_PER_RING);\\n#endif\\n}void main(void) {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize mediump float radius\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize highp vec4 stroke_color\\n#pragma mapbox: initialize mediump float stroke_width\\n#pragma mapbox: initialize lowp float stroke_opacity\\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);\\n#else \\nsurface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);\\n#endif\\nvec4 projected_center=u_matrix*world_center;float view_scale=0.0;\\n#ifdef PITCH_WITH_MAP\\n#ifdef SCALE_WITH_MAP\\nview_scale=1.0;\\n#else\\nview_scale=projected_center.w/u_camera_to_center_distance;\\n#endif\\n#else\\n#ifdef SCALE_WITH_MAP\\nview_scale=u_camera_to_center_distance;\\n#else\\nview_scale=projected_center.w;\\n#endif\\n#endif\\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;\\n#ifdef TERRAIN\\nfloat step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;\\n#ifdef PITCH_WITH_MAP\\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;\\n#else\\nocclusion_world_center=world_center;occlusion_projected_center=projected_center;\\n#endif\\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\\n#else\\nvisibility=1.0;\\n#endif\\n#ifdef PROJECTION_GLOBE_VIEW\\nvisibility=1.0;\\n#endif\\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\\n#ifdef FOG\\nv_fog_pos=fog_position(world_center.xyz);\\n#endif\\n}'),clippingMask:BE(\"void main() {gl_FragColor=vec4(1.0);}\",\"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}\"),heatmap:BE('#include \"_prelude_fog.fragment.glsl\"\\nuniform highp float u_intensity;varying vec2 v_extrude;\\n#pragma mapbox: define highp float weight\\n#define GAUSS_COEF 0.3989422804014327\\nvoid main() {\\n#pragma mapbox: initialize highp float weight\\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\\n#ifdef FOG\\nif (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}\\n#endif\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_terrain.vertex.glsl\"\\n#include \"_prelude_fog.vertex.glsl\"\\nuniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\\n#endif\\nvarying vec2 v_extrude;\\n#pragma mapbox: define highp float weight\\n#pragma mapbox: define mediump float radius\\nconst highp float ZERO=1.0/255.0/16.0;\\n#define GAUSS_COEF 0.3989422804014327\\nvoid main(void) {\\n#pragma mapbox: initialize highp float weight\\n#pragma mapbox: initialize mediump float radius\\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\\n#else\\npos=vec3(tilePos+extrude,elevation(tilePos));\\n#endif\\ngl_Position=u_matrix*vec4(pos,1);\\n#ifdef FOG\\nv_fog_pos=fog_position(pos);\\n#endif\\n}'),heatmapTexture:BE(\"uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(0.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}\",\"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}\"),collisionBox:BE(\"varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}\",'#include \"_prelude_terrain.vertex.glsl\"\\nattribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}'),collisionCircle:BE(\"varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}\",\"attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}\"),debug:BE(\"uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}\",'#include \"_prelude_terrain.vertex.glsl\"\\nattribute vec2 a_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nattribute vec3 a_pos_3;\\n#endif\\nvarying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;\\n#ifdef PROJECTION_GLOBE_VIEW\\ngl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);\\n#else\\ngl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);\\n#endif\\n}'),fill:BE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define lowp float opacity\\nuniform float u_emissive_strength;void main() {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize lowp float opacity\\nvec4 out_color=color;\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\ngl_FragColor=out_color*opacity;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\nattribute vec2 a_pos;uniform mat4 u_matrix;\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize lowp float opacity\\ngl_Position=u_matrix*vec4(a_pos,0,1);\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}'),fillOutline:BE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nvarying vec2 v_pos;uniform float u_emissive_strength;\\n#pragma mapbox: define highp vec4 outline_color\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 outline_color\\n#pragma mapbox: initialize lowp float opacity\\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\ngl_FragColor=out_color*(alpha*opacity);\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\nattribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\\n#pragma mapbox: define highp vec4 outline_color\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 outline_color\\n#pragma mapbox: initialize lowp float opacity\\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}'),fillOutlinePattern:BE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_emissive_strength;varying vec2 v_pos;varying vec2 v_pos_world;\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp vec4 pattern\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize mediump vec4 pattern\\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\ngl_FragColor=out_color*(alpha*opacity);\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\nuniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp vec4 pattern\\n#pragma mapbox: define lowp float pixel_ratio\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize mediump vec4 pattern\\n#pragma mapbox: initialize lowp float pixel_ratio\\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}'),fillPattern:BE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;uniform float u_emissive_strength;\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp vec4 pattern\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize mediump vec4 pattern\\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\ngl_FragColor=out_color*opacity;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\nuniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp vec4 pattern\\n#pragma mapbox: define lowp float pixel_ratio\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize mediump vec4 pattern\\n#pragma mapbox: initialize lowp float pixel_ratio\\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}'),fillExtrusion:BE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_shadow.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nvarying vec4 v_color;\\n#ifdef RENDER_SHADOWS\\nvarying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\\n#endif\\nuniform lowp float u_opacity;\\n#ifdef FAUX_AO\\nuniform lowp vec2 u_ao;varying vec2 v_ao;\\n#endif\\n#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)\\nvarying vec4 v_roof_color;\\n#endif\\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)\\nvarying highp vec3 v_normal;\\n#endif\\nuniform vec3 u_flood_light_color;uniform highp float u_vertical_scale;uniform float u_flood_light_intensity;uniform vec3 u_ground_shadow_factor;\\n#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)\\nvarying float v_flood_radius;varying float v_has_floodlight;\\n#endif\\nvarying float v_height;void main() {\\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)\\nvec3 normal=normalize(v_normal);\\n#endif\\nfloat z;vec4 color=v_color;\\n#ifdef ZERO_ROOF_RADIUS\\nz=float(normal.z > 0.00001);\\n#ifdef LIGHTING_3D_MODE\\nnormal=mix(normal,vec3(0.0,0.0,1.0),z);\\n#else\\ncolor=mix(v_color,v_roof_color,z);\\n#endif\\n#endif\\nfloat h=max(0.0,v_height);float ao_shade=1.0;\\n#ifdef FAUX_AO\\nfloat intensity=u_ao[0];float h_floors=h/(u_ao[1]*u_vertical_scale);float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);ao_shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;\\n#ifdef ZERO_ROOF_RADIUS\\nconcave*=(1.0-z);\\n#endif\\nfloat x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);ao_shade*=mix(1.0,x_shade*x_shade*x_shade,concave);\\n#ifdef LIGHTING_3D_MODE\\n#ifdef FLOOD_LIGHT\\ncolor.rgb*=mix(ao_shade,1.0,v_has_floodlight);\\n#else\\ncolor.rgb*=ao_shade;\\n#endif\\n#else\\ncolor.rgb*=ao_shade;\\n#endif\\n#endif\\n#ifdef LIGHTING_3D_MODE\\nfloat flood_radiance=0.0;\\n#ifdef FLOOD_LIGHT\\nflood_radiance=(1.0-min(h/v_flood_radius,1.0))*u_flood_light_intensity*v_has_floodlight;\\n#endif\\n#ifdef RENDER_SHADOWS\\n#ifdef FLOOD_LIGHT\\nfloat ndotl_unclamped=dot(normal,u_shadow_direction);float ndotl=max(0.0,ndotl_unclamped);float occlusion=ndotl_unclamped < 0.0 ? 1.0 : shadow_occlusion(ndotl,v_pos_light_view_0,v_pos_light_view_1,v_depth);vec3 litColor=apply_lighting(color.rgb,normal,(1.0-u_shadow_intensity*occlusion)*ndotl);vec3 floodLitColor=compute_flood_lighting(u_flood_light_color*u_opacity,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=mix(litColor,floodLitColor,flood_radiance);\\n#else\\nfloat shadowed_lighting_factor=shadowed_light_factor_normal(normal,v_pos_light_view_0,v_pos_light_view_1,v_depth);color.rgb=apply_lighting(color.rgb,normal,shadowed_lighting_factor);\\n#endif\\n#else\\ncolor.rgb=apply_lighting(color.rgb,normal);\\n#ifdef FLOOD_LIGHT\\ncolor.rgb=mix(color.rgb,u_flood_light_color*u_opacity,flood_radiance);\\n#endif\\n#endif\\ncolor*=u_opacity;\\n#endif\\n#ifdef FOG\\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos,h));\\n#endif\\n#ifdef RENDER_CUTOFF\\ncolor*=v_cutoff_opacity;\\n#endif\\n#ifdef INDICATOR_CUTOUT\\ncolor=applyCutout(color);\\n#endif\\ngl_FragColor=color;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\n#include \"_prelude_terrain.vertex.glsl\"\\n#include \"_prelude_shadow.vertex.glsl\"\\n#include \"_prelude_lighting.glsl\"\\n#if __VERSION__ >=300\\n#ifdef RENDER_CUTOFF\\ninvariant gl_Position;\\n#endif\\n#endif\\nuniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\\n#endif\\nuniform highp float u_vertical_scale;varying vec4 v_color;\\n#ifdef RENDER_SHADOWS\\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\\n#endif\\n#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)\\nvarying vec4 v_roof_color;\\n#endif\\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)\\nvarying highp vec3 v_normal;\\n#endif\\n#ifdef FAUX_AO\\nuniform lowp vec2 u_ao;varying vec2 v_ao;\\n#endif\\n#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)\\nvarying float v_flood_radius;varying float v_has_floodlight;\\n#endif\\nvarying float v_height;\\n#pragma mapbox: define highp float base\\n#pragma mapbox: define highp float height\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define highp float flood_light_wall_radius\\nvoid main() {\\n#pragma mapbox: initialize highp float base\\n#pragma mapbox: initialize highp float height\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize highp float flood_light_wall_radius\\nbase*=u_vertical_scale;height*=u_vertical_scale;vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));\\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)\\nv_normal=normal;\\n#endif\\nbase=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\\n#if defined(HAS_CENTROID) || defined(TERRAIN)\\ncentroid_pos=a_centroid_pos;\\n#endif\\nfloat ele=0.0;float h=0.0;float c_ele;vec3 pos;\\n#ifdef TERRAIN\\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);\\n#else\\nh=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);\\n#endif\\n#ifdef PROJECTION_GLOBE_VIEW\\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\\n#endif\\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);h=h-ele;v_height=h;\\n#ifdef RENDER_SHADOWS\\nvec3 shd_pos0=pos;vec3 shd_pos1=pos;\\n#ifdef NORMAL_OFFSET\\nvec3 offset=shadow_normal_offset(normal);shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();\\n#endif\\nv_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;\\n#endif\\nfloat NdotL=0.0;float colorvalue=0.0;\\n#ifndef LIGHTING_3D_MODE\\ncolorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);if (normal.y !=0.0) {float r=0.84;r=mix(0.7,0.98,1.0-u_lightintensity);NdotL*=(\\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}\\n#endif\\n#ifdef FAUX_AO\\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\\n#ifdef TERRAIN\\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\\n#endif\\nv_ao=vec2(mix(concave,-concave,start),y_ground);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\\n#ifdef PROJECTION_GLOBE_VIEW\\ntop_height+=u_height_lift;\\n#endif\\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\\n#endif\\n#ifdef LIGHTING_3D_MODE\\n#ifdef FLOOD_LIGHT\\nfloat is_wall=1.0-float(t > 0.0 && top_up_ny.y > 0.0);v_has_floodlight=float(flood_light_wall_radius > 0.0 && is_wall > 0.0);v_flood_radius=flood_light_wall_radius*u_vertical_scale;\\n#endif\\nv_color=vec4(color.rgb,1.0);\\n#else\\nv_color=vec4(0.0,0.0,0.0,1.0);v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;\\n#endif\\n#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)\\nfloat roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color=vec4(0.0,0.0,0.0,1.0);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_roof_color*=u_opacity;\\n#endif\\n#ifdef FOG\\nv_fog_pos=fog_position(pos);\\n#endif\\n#ifdef RENDER_CUTOFF\\nv_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);\\n#endif\\n}'),fillExtrusionDepth:BE(\"varying highp float v_depth;void main() {\\n#ifndef DEPTH_TEXTURE\\ngl_FragColor=pack_depth(v_depth);\\n#endif\\n}\",'#include \"_prelude_terrain.vertex.glsl\"\\nuniform mat4 u_matrix;uniform float u_edge_radius;uniform float u_vertical_scale;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\\n#pragma mapbox: define highp float base\\n#pragma mapbox: define highp float height\\nvarying highp float v_depth;void main() {\\n#pragma mapbox: initialize highp float base\\n#pragma mapbox: initialize highp float height\\nbase*=u_vertical_scale;height*=u_vertical_scale;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\\n#if defined(HAS_CENTROID) || defined(TERRAIN)\\ncentroid_pos=a_centroid_pos;\\n#endif\\nvec3 pos;\\n#ifdef TERRAIN\\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;float ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base);pos=vec3(pos_nx.xy,h);\\n#else\\npos=vec3(pos_nx.xy,t > 0.0 ? height : base);\\n#endif\\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);v_depth=gl_Position.z/gl_Position.w;}'),fillExtrusionPattern:BE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform vec2 u_texsize;uniform sampler2D u_image;\\n#ifdef FAUX_AO\\nuniform lowp vec2 u_ao;varying vec3 v_ao;\\n#endif\\n#ifdef LIGHTING_3D_MODE\\nvarying vec3 v_normal;\\n#endif\\nvarying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;\\n#pragma mapbox: define highp float base\\n#pragma mapbox: define highp float height\\n#pragma mapbox: define mediump vec4 pattern\\n#pragma mapbox: define highp float pixel_ratio\\nvoid main() {\\n#pragma mapbox: initialize highp float base\\n#pragma mapbox: initialize highp float height\\n#pragma mapbox: initialize mediump vec4 pattern\\n#pragma mapbox: initialize highp float pixel_ratio\\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting(out_color,normalize(v_normal))*u_opacity;\\n#else\\nout_color=out_color*v_lighting;\\n#endif\\n#ifdef FAUX_AO\\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\n#ifdef INDICATOR_CUTOUT\\nout_color=applyCutout(out_color);\\n#endif\\ngl_FragColor=out_color;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\n#include \"_prelude_terrain.vertex.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\\n#endif\\nvarying vec2 v_pos;varying vec4 v_lighting;\\n#ifdef FAUX_AO\\nuniform lowp vec2 u_ao;varying vec3 v_ao;\\n#endif\\n#ifdef LIGHTING_3D_MODE\\nvarying vec3 v_normal;\\n#endif\\n#pragma mapbox: define highp float base\\n#pragma mapbox: define highp float height\\n#pragma mapbox: define mediump vec4 pattern\\n#pragma mapbox: define highp float pixel_ratio\\nvoid main() {\\n#pragma mapbox: initialize highp float base\\n#pragma mapbox: initialize highp float height\\n#pragma mapbox: initialize mediump vec4 pattern\\n#pragma mapbox: initialize highp float pixel_ratio\\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\\n#if defined(HAS_CENTROID) || defined(TERRAIN)\\ncentroid_pos=a_centroid_pos;\\n#endif\\nfloat ele=0.0;float h=z;vec3 p;float c_ele;\\n#ifdef TERRAIN\\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);\\n#else\\np=vec3(pos_nx.xy,z);\\n#endif\\n#ifdef PROJECTION_GLOBE_VIEW\\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\\n#endif\\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\\n? pos_nx.xy\\n: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;\\n#ifdef LIGHTING_3D_MODE\\nNdotL=calculate_NdotL(normal);\\n#else\\nNdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);\\n#endif\\nif (normal.y !=0.0) {float r=0.84;\\n#ifndef LIGHTING_3D_MODE\\nr=mix(0.7,0.98,1.0-u_lightintensity);\\n#endif\\nNdotL*=(\\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}\\n#ifdef FAUX_AO\\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\\n#ifdef TERRAIN\\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\\n#endif\\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\\n#ifdef PROJECTION_GLOBE_VIEW\\ntop_height+=u_height_lift;\\n#endif\\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\\n#endif\\n#ifdef LIGHTING_3D_MODE\\nv_normal=normal;\\n#else\\nv_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\\n#endif \\n#ifdef FOG\\nv_fog_pos=fog_position(p);\\n#endif\\n}'),groundShadow:BE('#include \"_prelude_shadow.fragment.glsl\"\\n#ifdef GL_ES\\nprecision highp float;\\n#endif\\nuniform vec3 u_ground_shadow_factor;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\\n#ifdef FOG\\nvarying float v_fog_opacity;\\n#endif\\nvoid main() {float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);vec3 shadow=mix(u_ground_shadow_factor,vec3(1.0),light);\\n#ifdef RENDER_CUTOFF\\nshadow=mix(vec3(1.0),shadow,cutoff_opacity(u_cutoff_params,v_depth));\\n#endif\\n#ifdef FOG\\nshadow=mix(shadow,vec3(1.0),v_fog_opacity);\\n#endif\\n#ifdef INDICATOR_CUTOUT\\nshadow=mix(shadow,vec3(1.0),1.0-applyCutout(vec4(1.0)).r);\\n#endif\\ngl_FragColor=vec4(shadow,1.0);}','#include \"_prelude_fog.vertex.glsl\"\\nuniform mat4 u_matrix;uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;attribute vec2 a_pos;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\\n#ifdef FOG\\nvarying float v_fog_opacity;\\n#endif\\nvoid main() {gl_Position=u_matrix*vec4(a_pos,0.0,1.0);v_pos_light_view_0=u_light_matrix_0*vec4(a_pos,0.0,1.0);v_pos_light_view_1=u_light_matrix_1*vec4(a_pos,0.0,1.0);v_depth=gl_Position.w;\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);v_fog_opacity=fog(v_fog_pos);\\n#endif\\n}'),fillExtrusionGroundEffect:BE(\"uniform highp float u_ao_pass;uniform highp float u_opacity;uniform highp float u_flood_light_intensity;uniform highp vec3 u_flood_light_color;uniform highp float u_attenuation;uniform sampler2D u_fb;uniform float u_fb_size;\\n#ifdef SDF_SUBPASS\\nvarying highp vec2 v_pos;varying highp vec4 v_line_segment;varying highp float v_flood_light_radius_tile;varying highp vec2 v_ao;float line_df(highp vec2 a,highp vec2 b,highp vec2 p) {highp vec2 ba=b-a;highp vec2 pa=p-a;highp float r=clamp(dot(pa,ba)/dot(ba,ba),0.0,1.0);return length(pa-r*ba);}\\n#ifdef FOG\\nvarying highp float v_fog;\\n#endif\\n#endif\\nvoid main() {\\n#ifdef CLEAR_SUBPASS\\nvec4 color=vec4(1.0);\\n#ifdef CLEAR_FROM_TEXTURE\\ncolor=texture2D(u_fb,gl_FragCoord.xy/vec2(u_fb_size));\\n#endif\\ngl_FragColor=color;\\n#else\\n#ifdef SDF_SUBPASS\\nhighp float d=line_df(v_line_segment.xy,v_line_segment.zw,v_pos);highp float effect_radius=mix(v_flood_light_radius_tile,v_ao.y,u_ao_pass);d/=effect_radius;d=min(d,1.0);d=1.0-pow(1.0-d,u_attenuation);highp float effect_intensity=mix(u_flood_light_intensity,v_ao.x,u_ao_pass);highp float fog=1.0;\\n#ifdef FOG\\nfog=v_fog;\\n#endif\\n#ifdef RENDER_CUTOFF\\nfog*=v_cutoff_opacity;\\n#endif\\ngl_FragColor=vec4(vec3(0.0),mix(1.0,d,effect_intensity*u_opacity*fog));\\n#else\\nvec4 color=mix(vec4(u_flood_light_color,1.0),vec4(vec3(0.0),1.0),u_ao_pass);\\n#ifdef OVERDRAW_INSPECTOR\\ncolor=vec4(1.0);\\n#endif\\ngl_FragColor=color;HANDLE_WIREFRAME_DEBUG;\\n#endif\\n#endif\\n}\",'#include \"_prelude_fog.vertex.glsl\"\\nattribute highp vec4 a_pos_end;attribute highp float a_angular_offset_factor;attribute highp float a_hidden_by_landmark;\\n#ifdef SDF_SUBPASS\\nvarying highp vec2 v_pos;varying highp vec4 v_line_segment;varying highp float v_flood_light_radius_tile;varying highp vec2 v_ao;\\n#ifdef FOG\\nvarying highp float v_fog;\\n#endif\\n#endif\\nuniform highp float u_flood_light_intensity;uniform highp mat4 u_matrix;uniform highp float u_ao_pass;uniform highp float u_meter_to_tile;uniform highp float u_edge_radius;uniform highp vec2 u_ao;\\n#pragma mapbox: define highp float flood_light_ground_radius\\nconst float TANGENT_CUTOFF=4.0;const float NORM=32767.0;void main() {\\n#pragma mapbox: initialize highp float flood_light_ground_radius\\nvec2 p=a_pos_end.xy;vec2 q=floor(a_pos_end.zw*0.5);vec2 start_bottom=a_pos_end.zw-q*2.0;float fl_ground_radius=flood_light_ground_radius;\\n#ifdef FORCE_ABS_FL_GROUND_RADIUS\\nfl_ground_radius=abs(flood_light_ground_radius);\\n#endif\\nfloat flood_radius_tile=fl_ground_radius*u_meter_to_tile;vec2 v=normalize(q-p);float ao_radius=u_ao.y/3.5;float effect_radius=mix(flood_radius_tile,ao_radius,u_ao_pass)+u_edge_radius;float angular_offset_factor=a_angular_offset_factor/NORM*TANGENT_CUTOFF;float angular_offset=angular_offset_factor*effect_radius;float top=1.0-start_bottom.y;float side=(0.5-start_bottom.x)*2.0;vec2 extrusion_parallel=v*side*mix(1.0,angular_offset,top);vec2 perp=vec2(v.y,-v.x);vec2 extrusion_perp=perp*effect_radius*top;vec3 pos=vec3(mix(q,p,start_bottom.x),0.0);pos.xy+=extrusion_parallel+extrusion_perp;\\n#ifdef SDF_SUBPASS\\nv_pos=pos.xy;v_line_segment=vec4(p,q)+perp.xyxy*u_edge_radius;v_flood_light_radius_tile=flood_radius_tile;v_ao=vec2(u_ao.x,ao_radius);\\n#ifdef FOG\\nv_fog_pos=fog_position(pos);v_fog=1.0-fog(v_fog_pos);\\n#endif\\n#endif\\nfloat hidden_by_landmark=0.0;\\n#ifdef HAS_CENTROID\\nhidden_by_landmark=a_hidden_by_landmark;\\n#endif\\nfloat isFloodlit=float(fl_ground_radius > 0.0 && u_flood_light_intensity > 0.0);float hidden=mix(1.0-isFloodlit,isFloodlit,u_ao_pass);hidden+=hidden_by_landmark;gl_Position=mix(u_matrix*vec4(pos,1.0),AWAY,float(hidden > 0.0));\\n#ifdef RENDER_CUTOFF\\nv_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);\\n#endif\\n}'),hillshadePrepare:BE(\"#ifdef GL_ES\\nprecision highp float;\\n#endif\\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\\nreturn texture(u_image,coord).r/4.0;\\n#else\\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\\n#endif\\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\\n(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)\\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);}\",\"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}\"),hillshade:BE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;uniform float u_emissive_strength;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\\n#ifdef LIGHTING_3D_MODE\\ngl_FragColor=apply_lighting_with_emission_ground(gl_FragColor,u_emissive_strength);\\n#endif\\n#ifdef FOG\\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\\n#endif\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\nuniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}'),line:BE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;\\n#ifdef RENDER_LINE_DASH\\nuniform sampler2D u_dash_image;varying vec2 v_tex;\\n#endif\\n#ifdef RENDER_LINE_GRADIENT\\nuniform sampler2D u_gradient_image;\\n#endif\\nfloat luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}uniform float u_emissive_strength;\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define lowp float floorwidth\\n#pragma mapbox: define lowp vec4 dash\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float border_width\\n#pragma mapbox: define lowp vec4 border_color\\nfloat linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize lowp float floorwidth\\n#pragma mapbox: initialize lowp vec4 dash\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float border_width\\n#pragma mapbox: initialize lowp vec4 border_color\\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\\n#ifdef RENDER_LINE_DASH\\nfloat sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\\n#endif\\nhighp vec4 out_color;\\n#ifdef RENDER_LINE_GRADIENT\\nout_color=texture2D(u_gradient_image,v_uv.xy);\\n#else\\nout_color=color;\\n#endif\\nfloat trimmed=1.0;\\n#ifdef RENDER_LINE_TRIM_OFFSET\\nhighp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);trimmed=0.0;}}\\n#endif\\nif (u_alpha_discard_threshold !=0.0) {if (alpha < u_alpha_discard_threshold) {discard;}}\\n#ifdef RENDER_LINE_BORDER\\nfloat edgeBlur=(border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);if (border_color.a==0.0) {    \\nfloat Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}} else {out_color.rgb=mix(border_color.rgb*border_color.a*trimmed,out_color.rgb,smoothAlpha);}}\\n#endif\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\nout_color*=(alpha*opacity);\\n#ifdef INDICATOR_CUTOUT\\nout_color=applyCutout(out_color);\\n#endif\\ngl_FragColor=out_color;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\n#define EXTRUDE_SCALE 0.015873016\\nattribute vec2 a_pos_normal;attribute vec4 a_data;\\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\\nattribute highp vec4 a_packed;\\n#endif\\n#ifdef RENDER_LINE_DASH\\nattribute float a_linesofar;\\n#endif\\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;\\n#ifdef RENDER_LINE_DASH\\nuniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;\\n#endif\\n#ifdef RENDER_LINE_GRADIENT\\nuniform float u_image_height;\\n#endif\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define lowp float floorwidth\\n#pragma mapbox: define lowp vec4 dash\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define mediump float gapwidth\\n#pragma mapbox: define lowp float offset\\n#pragma mapbox: define mediump float width\\n#pragma mapbox: define lowp float border_width\\n#pragma mapbox: define lowp vec4 border_color\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize lowp float floorwidth\\n#pragma mapbox: initialize lowp vec4 dash\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize mediump float gapwidth\\n#pragma mapbox: initialize lowp float offset\\n#pragma mapbox: initialize mediump float width\\n#pragma mapbox: initialize lowp float border_width\\n#pragma mapbox: initialize lowp vec4 border_color\\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\\n#ifndef RENDER_TO_TEXTURE\\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\\n#else\\nv_gamma_scale=1.0;\\n#endif\\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];\\n#ifdef RENDER_LINE_GRADIENT\\nhighp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);\\n#else\\nv_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);\\n#endif\\n#endif\\n#ifdef RENDER_LINE_DASH\\nfloat scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);\\n#endif\\nv_width2=vec2(outset,inset);\\n#ifdef FOG\\nv_fog_pos=fog_position(pos);\\n#endif\\n}'),linePattern:BE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\\n#pragma mapbox: define lowp vec4 pattern\\n#pragma mapbox: define lowp float pixel_ratio\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize mediump vec4 pattern\\n#pragma mapbox: initialize lowp float pixel_ratio\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);\\n#ifdef LIGHTING_3D_MODE\\ncolor=apply_lighting_ground(color);\\n#endif\\n#ifdef FOG\\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\\n#endif\\ncolor*=(alpha*opacity);\\n#ifdef INDICATOR_CUTOUT\\ncolor=applyCutout(color);\\n#endif\\ngl_FragColor=color;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\n#define scale 0.015873016\\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float offset\\n#pragma mapbox: define mediump float gapwidth\\n#pragma mapbox: define mediump float width\\n#pragma mapbox: define lowp float floorwidth\\n#pragma mapbox: define lowp vec4 pattern\\n#pragma mapbox: define lowp float pixel_ratio\\nvoid main() {\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float offset\\n#pragma mapbox: initialize mediump float gapwidth\\n#pragma mapbox: initialize mediump float width\\n#pragma mapbox: initialize lowp float floorwidth\\n#pragma mapbox: initialize mediump vec4 pattern\\n#pragma mapbox: initialize lowp float pixel_ratio\\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\\n#ifndef RENDER_TO_TEXTURE\\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\\n#else\\nv_gamma_scale=1.0;\\n#endif\\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\\n#ifdef FOG\\nv_fog_pos=fog_position(pos);\\n#endif\\n}'),raster:BE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;\\n#ifdef RASTER_COLOR\\nuniform sampler2D u_color_ramp;uniform highp vec2 u_colorization_scale;uniform highp vec4 u_colorization_mix;highp vec4 colormap (highp float value) {highp float scaled_value=value*u_colorization_scale.y+u_colorization_scale.x;highp vec2 coords=vec2(scaled_value,0.5);return texture2D(u_color_ramp,coords);}\\n#endif\\nvoid main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);vec4 color;\\n#ifdef RASTER_COLOR\\nhighp vec4 fadedColor=mix(color0,color1,u_fade_t);color=colormap(dot(vec4(fadedColor.rgb,1),u_colorization_mix));color.a*=fadedColor.a;if (color.a > 0.0) {color.rgb/=color.a;}\\n#else\\nif (color0.a > 0.0) {color0.rgb/=color0.a;}if (color1.a > 0.0) {color1.rgb/=color1.a;}color=mix(color0,color1,u_fade_t);\\n#endif\\ncolor.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_ground(out_color);\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\\n#endif\\ngl_FragColor=vec4(out_color*color.a,color.a);\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\nuniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;\\n#ifdef PROJECTION_GLOBE_VIEW\\nattribute vec3 a_globe_pos;attribute vec2 a_uv;\\n#else\\nattribute vec2 a_pos;attribute vec2 a_texture_pos;\\n#endif\\nvarying vec2 v_pos0;varying vec2 v_pos1;void main() {vec2 uv;\\n#ifdef PROJECTION_GLOBE_VIEW\\ngl_Position=u_matrix*u_globe_matrix*vec4(a_globe_pos,1.0);uv=a_uv;\\n#ifdef FOG\\nv_fog_pos=fog_position((u_normalize_matrix*vec4(a_globe_pos,1.0)).xyz);\\n#endif\\n#else\\nfloat w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\nuv=a_texture_pos/8192.0;\\n#endif\\nv_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}'),symbolIcon:BE('#include \"_prelude_lighting.glsl\"\\nuniform sampler2D u_texture;\\n#ifdef ICON_TRANSITION\\nuniform float u_icon_transition;\\n#endif\\nvarying float v_fade_opacity;varying vec2 v_tex_a;\\n#ifdef ICON_TRANSITION\\nvarying vec2 v_tex_b;\\n#endif\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float emissive_strength\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float emissive_strength\\nlowp float alpha=opacity*v_fade_opacity;vec4 out_color;\\n#ifdef ICON_TRANSITION\\nvec4 a=texture2D(u_texture,v_tex_a)*(1.0-u_icon_transition);vec4 b=texture2D(u_texture,v_tex_b)*u_icon_transition;out_color=(a+b)*alpha;\\n#else\\nout_color=texture2D(u_texture,v_tex_a)*alpha;\\n#endif\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,emissive_strength);\\n#endif\\ngl_FragColor=out_color;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_terrain.vertex.glsl\"\\nattribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\\n#ifdef Z_OFFSET\\nattribute float a_z_offset;\\n#endif\\n#ifdef PROJECTION_GLOBE_VIEW\\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\\n#endif\\n#ifdef ICON_TRANSITION\\nattribute vec2 a_texb;\\n#endif\\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;\\n#ifdef PROJECTION_GLOBE_VIEW\\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\\n#endif\\nvarying vec2 v_tex_a;\\n#ifdef ICON_TRANSITION\\nvarying vec2 v_tex_b;\\n#endif\\nvarying float v_fade_opacity;\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float emissive_strength\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float emissive_strength\\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=elevation(tile_anchor);\\n#ifdef Z_OFFSET\\ne+=a_z_offset;\\n#endif\\nvec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\\n#else\\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\\n#endif\\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\\ncamera_to_anchor_distance/u_camera_to_center_distance :\\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\\n#else\\noffsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\\n#endif\\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\\n#else\\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\\n#endif\\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);\\n#ifdef TERRAIN\\n#ifdef PITCH_WITH_MAP_TERRAIN\\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\\n#endif\\n#endif\\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;float projection_transition_fade=1.0;\\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\\n#endif\\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float out_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);\\n#else\\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);\\n#endif\\nv_tex_a=a_tex/u_texsize;\\n#ifdef ICON_TRANSITION\\nv_tex_b=a_texb/u_texsize;\\n#endif\\nv_fade_opacity=out_fade_opacity;}'),symbolSDF:BE('#include \"_prelude_lighting.glsl\"\\n#define SDF_PX 8.0\\nuniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;uniform bool u_is_halo;\\n#if __VERSION__ >=300\\nflat varying float v_draw_halo;\\n#endif\\nvarying vec2 v_data0;varying vec3 v_data1;\\n#pragma mapbox: define highp vec4 fill_color\\n#pragma mapbox: define highp vec4 halo_color\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float halo_width\\n#pragma mapbox: define lowp float halo_blur\\n#pragma mapbox: define lowp float emissive_strength\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 fill_color\\n#pragma mapbox: initialize highp vec4 halo_color\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float halo_width\\n#pragma mapbox: initialize lowp float halo_blur\\n#pragma mapbox: initialize lowp float emissive_strength\\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;bool draw_halo;\\n#if __VERSION__ >=300\\ndraw_halo=v_draw_halo > 0.0;\\n#else\\ndraw_halo=u_is_halo;\\n#endif\\nif (draw_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);vec4 out_color=color*(alpha*opacity*fade_opacity);\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,emissive_strength);\\n#endif\\ngl_FragColor=out_color;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_terrain.vertex.glsl\"\\nattribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\\n#ifdef Z_OFFSET\\nattribute float a_z_offset;\\n#endif\\n#ifdef PROJECTION_GLOBE_VIEW\\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\\n#endif\\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform bool u_is_halo;\\n#ifdef PROJECTION_GLOBE_VIEW\\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\\n#endif\\n#if __VERSION__ >=300\\nflat varying float v_draw_halo;\\n#endif\\nvarying vec2 v_data0;varying vec3 v_data1;\\n#pragma mapbox: define highp vec4 fill_color\\n#pragma mapbox: define highp vec4 halo_color\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float halo_width\\n#pragma mapbox: define lowp float halo_blur\\n#pragma mapbox: define lowp float emissive_strength\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 fill_color\\n#pragma mapbox: initialize highp vec4 halo_color\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float halo_width\\n#pragma mapbox: initialize lowp float halo_blur\\n#pragma mapbox: initialize lowp float emissive_strength\\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=elevation(tile_anchor);\\n#ifdef Z_OFFSET\\ne+=a_z_offset;\\n#endif\\nvec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\\n#else\\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\\n#endif\\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\\ncamera_to_anchor_distance/u_camera_to_center_distance :\\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\\n#else\\noffsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\\n#endif\\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\\n#else\\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\\n#endif\\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\\n#ifdef TERRAIN\\n#ifdef PITCH_WITH_MAP_TERRAIN\\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\\n#endif\\n#endif\\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;float projection_transition_fade=1.0;\\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\\n#endif\\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float out_fade_opacity=interpolated_fade_opacity*projection_transition_fade;float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);\\n#else\\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);\\n#endif\\nfloat gamma_scale=gl_Position.w;\\n#if __VERSION__ >=300\\nv_draw_halo=(u_is_halo && float(gl_InstanceID)==0.0) ? 1.0 : 0.0;\\n#endif\\nv_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,out_fade_opacity);}'),symbolTextAndIcon:BE('#include \"_prelude_lighting.glsl\"\\n#define SDF_PX 8.0\\n#define SDF 1.0\\n#define ICON 0.0\\nuniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_halo;\\n#if __VERSION__ >=300\\nflat varying float v_draw_halo;\\n#endif\\nvarying vec4 v_data0;varying vec4 v_data1;\\n#pragma mapbox: define highp vec4 fill_color\\n#pragma mapbox: define highp vec4 halo_color\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float halo_width\\n#pragma mapbox: define lowp float halo_blur\\n#pragma mapbox: define lowp float emissive_strength\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 fill_color\\n#pragma mapbox: initialize highp vec4 halo_color\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float halo_width\\n#pragma mapbox: initialize lowp float halo_blur\\n#pragma mapbox: initialize lowp float emissive_strength\\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;bool draw_halo;\\n#if __VERSION__ >=300\\ndraw_halo=v_draw_halo > 0.0;\\n#else\\ndraw_halo=u_is_halo;\\n#endif\\nif (draw_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);vec4 out_color=color*(alpha*opacity*fade_opacity);\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,emissive_strength);\\n#endif\\ngl_FragColor=out_color;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_terrain.vertex.glsl\"\\nattribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\\n#ifdef Z_OFFSET\\nattribute float a_z_offset;\\n#endif\\n#ifdef PROJECTION_GLOBE_VIEW\\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\\n#endif\\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;uniform bool u_is_halo;\\n#ifdef PROJECTION_GLOBE_VIEW\\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\\n#endif\\n#if __VERSION__ >=300\\nflat varying float v_draw_halo;\\n#endif\\nvarying vec4 v_data0;varying vec4 v_data1;\\n#pragma mapbox: define highp vec4 fill_color\\n#pragma mapbox: define highp vec4 halo_color\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float halo_width\\n#pragma mapbox: define lowp float halo_blur\\n#pragma mapbox: define lowp float emissive_strength\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 fill_color\\n#pragma mapbox: initialize highp vec4 halo_color\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float halo_width\\n#pragma mapbox: initialize lowp float halo_blur\\n#pragma mapbox: initialize lowp float emissive_strength\\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=elevation(tile_anchor);\\n#ifdef Z_OFFSET\\ne+=a_z_offset;\\n#endif\\nvec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\\n#else\\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\\n#endif\\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\\ncamera_to_anchor_distance/u_camera_to_center_distance :\\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\\n#else\\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\\n#endif\\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);\\n#ifdef TERRAIN\\n#ifdef PITCH_WITH_MAP_TERRAIN\\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\\n#endif\\n#endif\\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\\n#endif\\nfloat out_fade_opacity=interpolated_fade_opacity*projection_transition_fade;float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);\\n#else\\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);\\n#endif\\nfloat gamma_scale=gl_Position.w;\\n#if __VERSION__ >=300\\nv_draw_halo=(u_is_halo && float(gl_InstanceID)==0.0) ? 1.0 : 0.0;\\n#endif\\nv_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,out_fade_opacity,is_sdf);}'),terrainRaster:BE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_shadow.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform sampler2D u_image0;varying vec2 v_pos0;\\n#ifdef FOG\\nvarying float v_fog_opacity;\\n#endif\\n#ifdef RENDER_SHADOWS\\nvarying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\\n#endif\\nuniform vec3 u_ground_shadow_factor;void main() {vec4 image_color=texture2D(u_image0,v_pos0);vec4 color;\\n#ifdef LIGHTING_3D_MODE\\nconst vec3 normal=vec3(0.0,0.0,1.0);\\n#ifdef RENDER_SHADOWS\\nfloat cutoffOpacity=1.0;\\n#ifdef RENDER_CUTOFF\\ncutoffOpacity=cutoff_opacity(u_cutoff_params,v_depth);\\n#endif\\n#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS\\nvec3 unlit_base=image_color.rgb*(1.0-image_color.a);vec3 emissive_base=image_color.rgb*image_color.a;float ndotl=u_shadow_direction.z;float occlusion=ndotl < 0.0 ? 1.0 : shadow_occlusion(v_pos_light_view_0,v_pos_light_view_1,v_depth,0.0);ndotl=max(0.0,ndotl);vec3 lit=apply_lighting(unlit_base,normal,mix(1.0,(1.0-(u_shadow_intensity*occlusion))*ndotl,cutoffOpacity));vec3 emissive=compute_emissive_draped(emissive_base,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=lit+emissive;color.a=1.0;\\n#else\\nfloat lighting_factor=shadowed_light_factor_normal_unbiased(normal,v_pos_light_view_0,v_pos_light_view_1,v_depth);color=apply_lighting(image_color,normal,mix(1.0,lighting_factor,cutoffOpacity));\\n#endif\\n#else\\nfloat lighting_factor=u_lighting_directional_dir.z;color=apply_lighting(image_color,normal,lighting_factor);\\n#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS\\ncolor.rgb=mix(color.rgb,image_color.rgb,image_color.a);color.a=1.0;\\n#endif\\n#endif\\n#else\\ncolor=image_color;\\n#endif\\n#ifdef FOG\\n#ifdef ZERO_EXAGGERATION\\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\\n#else\\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\\n#endif\\n#endif\\ngl_FragColor=color;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\n#include \"_prelude_terrain.vertex.glsl\"\\nuniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;varying vec2 v_pos0;\\n#ifdef FOG\\nvarying float v_fog_opacity;\\n#endif\\n#ifdef RENDER_SHADOWS\\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\\n#endif\\nvoid main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\\n#ifdef FOG\\n#ifdef ZERO_EXAGGERATION\\nv_fog_pos=fog_position(decodedPos);\\n#else\\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\\n#endif\\n#endif\\n#ifdef RENDER_SHADOWS\\nvec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;\\n#endif\\n}'),terrainDepth:BE(\"#ifdef GL_ES\\nprecision highp float;\\n#endif\\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}\",'#include \"_prelude_terrain.vertex.glsl\"\\nuniform mat4 u_matrix;attribute vec2 a_pos;varying float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}'),skybox:BE('#include \"_prelude_fog.fragment.glsl\"\\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\\n#ifdef FOG\\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\\n#endif\\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}',EE),skyboxGradient:BE('#include \"_prelude_fog.fragment.glsl\"\\nvarying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\\n#ifdef FOG\\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\\n#endif\\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}',EE),skyboxCapture:BE(\"\\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\\n#ifdef GL_ES\\nprecision highp float;\\n#endif\\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\\n#define MIE_G                   0.76\\n#define DENSITY_HEIGHT_SCALE_R  8000.0\\n#define DENSITY_HEIGHT_SCALE_M  1200.0\\n#define PLANET_RADIUS           6360e3\\n#define ATMOSPHERE_RADIUS       6420e3\\n#define SAMPLE_STEPS            10\\n#define DENSITY_STEPS           4\\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}\",\"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}\"),globeRaster:BE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform sampler2D u_image0;varying vec2 v_pos0;\\n#ifndef FOG\\nuniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;\\n#endif\\nvoid main() {vec4 color;\\n#ifdef CUSTOM_ANTIALIASING\\nvec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);\\n#ifdef LIGHTING_3D_MODE\\n#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS\\nraster=apply_lighting_with_emission_ground(raster,raster.a);color=vec4(raster.rgb*antialias,antialias);\\n#else\\nraster=apply_lighting_ground(raster);color=vec4(raster.rgb*antialias,raster.a*antialias);\\n#endif\\n#else\\ncolor=vec4(raster.rgb*antialias,raster.a*antialias);\\n#endif\\n#else\\ncolor=texture2D(u_image0,v_pos0);\\n#ifdef LIGHTING_3D_MODE\\n#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS\\ncolor=apply_lighting_with_emission_ground(color,color.a);color.a=1.0;\\n#else\\ncolor=apply_lighting_ground(color);\\n#endif\\n#endif\\n#endif\\n#ifdef FOG\\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\\n#endif\\ngl_FragColor=color;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\n#include \"_prelude_terrain.vertex.glsl\"\\nuniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;\\n#ifdef GLOBE_POLES\\nattribute vec3 a_globe_pos;attribute vec2 a_uv;\\n#else\\nattribute vec2 a_pos;\\n#endif\\nvarying vec2 v_pos0;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {\\n#ifdef GLOBE_POLES\\nvec3 globe_pos=a_globe_pos;vec2 uv=a_uv;\\n#else\\nfloat tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);\\n#endif\\nv_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;\\n#ifdef GLOBE_POLES\\nvec3 up_vector=globe_derived_up_vector;\\n#else\\nvec3 up_vector=elevationVector(tile_pos);\\n#endif\\nfloat height=elevation(tile_pos);globe_pos+=up_vector*height;\\n#ifndef GLOBE_POLES\\nglobe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;\\n#endif\\n#ifdef GLOBE_POLES\\nvec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);\\n#else\\nvec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);\\n#endif\\ngl_Position=u_proj_matrix*interpolated_pos;\\n#ifdef FOG\\nv_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);\\n#endif\\n}'),globeAtmosphere:BE('#include \"_prelude_fog.fragment.glsl\"\\nuniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec4 u_color;uniform vec4 u_high_color;uniform vec4 u_space_color;uniform float u_horizon_angle;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;\\n#ifdef PROJECTION_GLOBE_VIEW\\nglobe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {\\n#ifdef ALPHA_PASS\\ngl_FragColor=vec4(0,0,0,0);return;\\n#else\\n#ifdef NATIVE\\ngl_FragColor=vec4(1,1,1,1);\\n#else\\ngl_FragColor=vec4(0,0,0,1);\\n#endif\\nreturn;\\n#endif\\n}\\n#endif\\nhighp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?\\n0.0 : max(acos(clamp(dot(dir,horizon_dir),-1.0,1.0)),0.0);float horizon_angle;\\n#ifdef PROJECTION_GLOBE_VIEW\\nhighp vec3 closest_point=globe_pos_dot_dir*dir;highp float closest_point_to_center=length(closest_point-u_globe_pos);highp float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?\\nPI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);\\n#else\\nhorizon_angle=horizon_angle_mercator;\\n#endif\\nhorizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;\\n#ifdef ALPHA_PASS\\nfloat a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);gl_FragColor=vec4(1.0,1.0,1.0,a);\\n#else\\nvec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c=c2;\\n#ifndef NATIVE\\nc=dither(c,gl_FragCoord.xy+u_temporal_offset);\\n#endif\\ngl_FragColor=vec4(c*t,t);\\n#endif\\n}',\"attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(\\nmix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(\\nmix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}\"),model:BE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_shadow.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform float u_opacity;uniform vec3 u_lightcolor;uniform vec3 u_lightpos;uniform float u_lightintensity;uniform vec4 u_baseColorFactor;uniform vec4 u_emissiveFactor;uniform float u_metallicFactor;uniform float u_roughnessFactor;uniform float u_emissive_strength;varying highp vec4 v_position_height;varying lowp vec4 v_color_mix;\\n#ifdef RENDER_SHADOWS\\nvarying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth_shadows;\\n#endif\\n#pragma mapbox: define-attribute highp vec3 normal_3f\\n#pragma mapbox: define-attribute highp vec3 color_3f\\n#pragma mapbox: define-attribute highp vec4 color_4f\\n#pragma mapbox: define-attribute highp vec2 uv_2f\\n#pragma mapbox: initialize-attribute highp vec3 normal_3f\\n#pragma mapbox: initialize-attribute highp vec3 color_3f\\n#pragma mapbox: initialize-attribute highp vec4 color_4f\\n#pragma mapbox: initialize-attribute highp vec2 uv_2f\\n#ifdef HAS_ATTRIBUTE_a_pbr\\nvarying lowp vec4 v_roughness_metallic_emissive_alpha;varying mediump vec4 v_height_based_emission_params;\\n#endif\\n#ifdef HAS_TEXTURE_u_baseColorTexture\\nuniform sampler2D u_baseColorTexture;uniform bool u_baseTextureIsAlpha;uniform bool u_alphaMask;uniform float u_alphaCutoff;\\n#endif\\n#ifdef HAS_TEXTURE_u_metallicRoughnessTexture\\nuniform sampler2D u_metallicRoughnessTexture;\\n#endif\\n#ifdef HAS_TEXTURE_u_occlusionTexture\\nuniform sampler2D u_occlusionTexture;uniform float u_aoIntensity;\\n#endif\\n#ifdef HAS_TEXTURE_u_normalTexture\\nuniform sampler2D u_normalTexture;\\n#endif\\n#ifdef HAS_TEXTURE_u_emissionTexture\\nuniform sampler2D u_emissionTexture;\\n#endif\\n#ifdef TERRAIN_FRAGMENT_OCCLUSION\\nvarying highp float v_depth;uniform sampler2D u_depthTexture;uniform vec2 u_inv_depth_size;bool isOccluded() {vec2 coord=gl_FragCoord.xy*u_inv_depth_size;highp float depth=unpack_depth(texture2D(u_depthTexture,coord));return v_depth > depth+0.0005;}\\n#endif\\nconst float M_PI=3.141592653589793;\\n#define saturate(_x) clamp(_x,0.,1.)\\nfloat calculate_NdotL(vec3 normal,vec3 lightDir) {const float ext=0.70710678118;return (clamp(dot(normal,lightDir),-ext,1.0)+ext)/(1.0+ext);}vec3 getDiffuseShadedColor(vec3 albedo,vec3 normal,vec3 lightDir,vec3 lightColor)\\n{\\n#ifdef LIGHTING_3D_MODE\\nvec3 transformed_normal=vec3(-normal.xy,normal.z);float lighting_factor;\\n#ifdef RENDER_SHADOWS\\nlighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);\\n#else\\nlighting_factor=saturate(dot(transformed_normal,u_lighting_directional_dir));\\n#endif\\nreturn apply_lighting(albedo,transformed_normal,lighting_factor);\\n#else\\nvec3 n=normal;float colorvalue=((albedo.x*0.2126)+(albedo.y*0.7152))+(albedo.z*0.0722);vec3 c=vec3(0.03,0.03,0.03);float directional=clamp(dot(n,vec3(lightDir)),0.0,1.0);directional=mix(1.0-u_lightintensity,max((1.0-colorvalue)+u_lightintensity,1.0),directional);vec3 c3=c+clamp((albedo*directional)*lightColor,mix(vec3(0.0),vec3(0.3),vec3(1.0)-lightColor),vec3(1.0));return c3;\\n#endif\\n}vec4 getBaseColor() {vec4 albedo=u_baseColorFactor;\\n#ifdef HAS_ATTRIBUTE_a_color_3f\\nalbedo*=vec4(color_3f,1.0);\\n#endif\\n#ifdef HAS_ATTRIBUTE_a_pbr\\n#else\\n#ifdef HAS_ATTRIBUTE_a_color_4f\\nalbedo*=color_4f;\\n#endif\\n#endif\\n#if defined (HAS_TEXTURE_u_baseColorTexture) && defined (HAS_ATTRIBUTE_a_uv_2f)\\nvec4 texColor=texture2D(u_baseColorTexture,uv_2f);if(u_alphaMask) {if (texColor.w < u_alphaCutoff) {discard;}}\\n#ifdef UNPREMULT_TEXTURE_IN_SHADER\\nif(texColor.w > 0.0) {texColor.rgb/=texColor.w;}texColor.w=1.0;\\n#endif\\ntexColor.rgb=sRGBToLinear(texColor.rgb);if(u_baseTextureIsAlpha) {if (texColor.w < 0.5) {discard;}albedo*=mix(vec4(texColor.rgb,texColor.a),vec4(texColor.a),float(u_baseTextureIsAlpha));} else {albedo*=texColor;}\\n#endif\\nreturn vec4(mix(albedo.rgb,v_color_mix.rgb,v_color_mix.a),albedo.a);}highp mat3 cotangentFrame(highp vec3 N,highp vec3 p,highp vec2 uv ) {\\n#ifdef HAS_TEXTURE_u_normalTexture\\nhighp vec3 dp1=vec3(dFdx(p.x),dFdx(p.y),dFdx(p.z));highp vec3 dp2=vec3(dFdy(p.x),dFdy(p.y),dFdy(p.z));highp vec2 duv1=vec2(dFdx(uv.x),dFdx(uv.y));highp vec2 duv2=vec2(dFdy(uv.x),dFdy(uv.y));highp vec3 dp2perp=cross( dp2,N );highp vec3 dp1perp=cross( N,dp1 );highp vec3 T=dp2perp*duv1.x+dp1perp*duv2.x;highp vec3 B=dp2perp*duv1.y+dp1perp*duv2.y;highp float lengthT=dot(T,T);highp float lengthB=dot(B,B);highp float maxLength=max(lengthT,lengthB);highp float invmax=inversesqrt( maxLength );highp mat3 res=mat3( T*invmax,B*invmax,N );return res;\\n#else\\nreturn mat3(1.0);\\n#endif\\n}highp vec3 getNormal(){highp vec3 n;\\n#ifdef HAS_ATTRIBUTE_a_normal_3f\\nn=normalize(normal_3f);\\n#else\\nhighp vec3 fdx=vec3(dFdx(v_position_height.x),dFdx(v_position_height.y),dFdx(v_position_height.z));highp vec3 fdy=vec3(dFdy(v_position_height.x),dFdy(v_position_height.y),dFdy(v_position_height.z));n=normalize(cross(fdx,fdy))*-1.0;\\n#endif\\n#if defined(HAS_TEXTURE_u_normalTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)\\nvec3 nMap=texture2D( u_normalTexture,uv_2f).xyz;nMap=normalize(2.0*nMap-vec3(1.0));highp vec3 v=normalize(-v_position_height.xyz);highp mat3 TBN=cotangentFrame(n,v,uv_2f);n=normalize(TBN*nMap);\\n#endif\\nreturn n;}struct Material {float perceptualRoughness;float alphaRoughness;float metallic;vec3 f90;vec4 baseColor;vec3 diffuseColor;vec3 specularColor;highp vec3 normal;};Material getPBRMaterial() {Material mat;mat.baseColor=getBaseColor();mat.perceptualRoughness=u_roughnessFactor;mat.metallic=u_metallicFactor;\\n#ifdef HAS_ATTRIBUTE_a_pbr\\nmat.perceptualRoughness=v_roughness_metallic_emissive_alpha.x;mat.metallic=v_roughness_metallic_emissive_alpha.y;mat.baseColor.w*=v_roughness_metallic_emissive_alpha.w;\\n#endif\\n#if defined(HAS_TEXTURE_u_metallicRoughnessTexture) && defined(HAS_ATTRIBUTE_a_uv_2f) \\nvec4 mrSample=texture2D(u_metallicRoughnessTexture,uv_2f);mat.perceptualRoughness*=mrSample.g;mat.metallic*=mrSample.b;\\n#endif\\nconst float c_minRoughness=0.04;mat.perceptualRoughness=clamp(mat.perceptualRoughness,c_minRoughness,1.0);mat.metallic=saturate(mat.metallic);mat.alphaRoughness=mat.perceptualRoughness*mat.perceptualRoughness;const vec3 f0=vec3(0.04);mat.diffuseColor=mat.baseColor.rgb*(vec3(1.0)-f0);mat.diffuseColor*=1.0-mat.metallic;mat.specularColor=mix(f0,mat.baseColor.rgb,mat.metallic);highp float reflectance=max(max(mat.specularColor.r,mat.specularColor.g),mat.specularColor.b);highp float reflectance90=saturate(reflectance*25.0);mat.f90=vec3(reflectance90);mat.normal=getNormal();return mat;}float V_GGX(float NdotL,float NdotV,float roughness)\\n{float a2=roughness*roughness;float GGXV=NdotL*sqrt(NdotV*NdotV*(1.0-a2)+a2);float GGXL=NdotV*sqrt(NdotL*NdotL*(1.0-a2)+a2);return 0.5/(GGXV+GGXL);}float V_GGXFast(float NdotL,float NdotV,float roughness) {float a=roughness;float GGXV=NdotL*(NdotV*(1.0-a)+a);float GGXL=NdotV*(NdotL*(1.0-a)+a);return 0.5/(GGXV+GGXL);}vec3 F_Schlick(vec3 specularColor,vec3 f90,float VdotH)\\n{return specularColor+(f90-specularColor)*pow(clamp(1.0-VdotH,0.0,1.0),5.0);}vec3 F_SchlickFast(vec3 specularColor,float VdotH)\\n{float x=1.0-VdotH;float x4=x*x*x*x;return specularColor+(1.0-specularColor)*x4*x;}float D_GGX(highp float NdotH,float alphaRoughness)\\n{highp float a4=alphaRoughness*alphaRoughness;highp float f=(NdotH*a4-NdotH)*NdotH+1.0;return a4/(M_PI*f*f);}vec3 diffuseBurley(Material mat,float LdotH,float NdotL,float NdotV)\\n{float f90=2.0*LdotH*LdotH*mat.alphaRoughness-0.5;return (mat.diffuseColor/M_PI)*(1.0+f90*pow((1.0-NdotL),5.0))*(1.0+f90*pow((1.0-NdotV),5.0));}vec3 diffuseLambertian(Material mat)\\n{\\n#ifdef LIGHTING_3D_MODE\\nreturn mat.diffuseColor;\\n#else\\nreturn mat.diffuseColor/M_PI;\\n#endif\\n}vec3 EnvBRDFApprox(vec3 specularColor,float roughness,highp float NdotV)\\n{vec4 c0=vec4(-1,-0.0275,-0.572,0.022);vec4 c1=vec4(1,0.0425,1.04,-0.04);highp vec4 r=roughness*c0+c1;highp float a004=min(r.x*r.x,exp2(-9.28*NdotV))*r.x+r.y;vec2 AB=vec2(-1.04,1.04)*a004+r.zw;return specularColor*AB.x+AB.y;}vec3 computeIndirectLightContribution(Material mat,float NdotV,vec3 normal)\\n{vec3 env_light=vec3(0.65,0.65,0.65);\\n#ifdef LIGHTING_3D_MODE\\nfloat ambient_factor=calculate_ambient_directional_factor(normal);env_light=u_lighting_ambient_color*ambient_factor;\\n#endif\\nvec3 envBRDF=EnvBRDFApprox(mat.specularColor,mat.perceptualRoughness,NdotV);vec3 indirectSpecular= envBRDF*env_light;vec3 indirectDiffuse=mat.diffuseColor*env_light;return indirectSpecular+indirectDiffuse;}vec3 computeLightContribution(Material mat,vec3 lightPosition,vec3 lightColor)\\n{highp vec3 n=mat.normal;highp vec3 v=normalize(-v_position_height.xyz);highp vec3 l=normalize(lightPosition);highp vec3 h=normalize(v+l);float NdotV=clamp(abs(dot(n,v)),0.001,1.0);float NdotL=saturate(dot(n,l));highp float NdotH=saturate(dot(n,h));float VdotH=saturate(dot(v,h));vec3 f=F_SchlickFast(mat.specularColor,VdotH);float g=V_GGXFast(NdotL,NdotV,mat.alphaRoughness);float d=D_GGX(NdotH,mat.alphaRoughness);vec3 diffuseTerm=(1.0-f)*diffuseLambertian(mat);vec3 specularTerm=f*g*d;vec3 transformed_normal=vec3(-n.xy,n.z);float lighting_factor;\\n#ifdef RENDER_SHADOWS\\nlighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);\\n#else\\nlighting_factor=NdotL;\\n#endif\\nvec3 directLightColor=(specularTerm+diffuseTerm)*lighting_factor*lightColor;vec3 indirectLightColor=computeIndirectLightContribution(mat,NdotV,transformed_normal);vec3 color=(saturate(directLightColor)+indirectLightColor);float intensityFactor=1.0;\\n#if !defined(LIGHTING_3D_MODE)\\nconst vec3 luminosityFactor=vec3(0.2126,0.7152,0.0722);float luminance=dot(diffuseTerm,luminosityFactor);intensityFactor=mix((1.0-u_lightintensity),max((1.0-luminance+u_lightintensity),1.0),NdotL);\\n#endif\\ncolor*=intensityFactor;return color;}void main() {\\n#ifdef TERRAIN_FRAGMENT_OCCLUSION\\nif (isOccluded()) {discard;}\\n#endif\\nvec3 lightDir=u_lightpos;vec3 lightColor=u_lightcolor;\\n#ifdef LIGHTING_3D_MODE\\nlightDir=u_lighting_directional_dir;lightDir.xy=-lightDir.xy;lightColor=u_lighting_directional_color;\\n#endif\\nvec4 finalColor;\\n#ifdef DIFFUSE_SHADED\\nvec3 N=getNormal();vec3 diffuse=getDiffuseShadedColor(getBaseColor().rgb,N,lightDir,lightColor);\\n#ifdef HAS_TEXTURE_u_occlusionTexture\\nfloat ao=(texture2D(u_occlusionTexture,uv_2f).r-1.0)*u_aoIntensity+1.0;diffuse*=ao;\\n#endif\\nfinalColor=vec4(diffuse,1.0)*u_opacity;\\n#else\\nMaterial mat=getPBRMaterial();vec3 color=computeLightContribution(mat,lightDir,lightColor);\\n#if defined (HAS_TEXTURE_u_occlusionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)\\nfloat ao=(texture2D(u_occlusionTexture,uv_2f).x-1.0)*u_aoIntensity+1.0;color*=ao;\\n#endif\\nvec4 emissive=u_emissiveFactor;\\n#if defined(HAS_TEXTURE_u_emissionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)\\nemissive.rgb*=sRGBToLinear(texture2D(u_emissionTexture,uv_2f).rgb);\\n#endif\\ncolor+=emissive.rgb;float opacity=mat.baseColor.w*u_opacity;\\n#ifdef HAS_ATTRIBUTE_a_pbr\\nfloat resEmission=v_roughness_metallic_emissive_alpha.z;resEmission*=v_height_based_emission_params.z+v_height_based_emission_params.w*pow(clamp(v_height_based_emission_params.x,0.0,1.0),v_height_based_emission_params.y);color=mix(color,v_color_mix.rgb,min(1.0,resEmission));\\n#ifdef HAS_ATTRIBUTE_a_color_4f\\nfloat distance=length(vec2(1.3*max(0.0,abs(color_4f.x)-color_4f.z),color_4f.y));distance+= mix(0.5,0.0,clamp(resEmission-1.0,0.0,1.0));opacity*=v_roughness_metallic_emissive_alpha.w*saturate(1.0-distance*distance);\\n#endif\\n#endif\\ncolor=mix(color,mat.baseColor.rgb,u_emissive_strength);color=linearTosRGB(color);color*=opacity;finalColor=vec4(color,opacity);\\n#endif\\n#ifdef FOG\\nfinalColor=fog_dither(fog_apply_premultiplied(finalColor,v_fog_pos,v_position_height.w));\\n#endif\\n#ifdef RENDER_CUTOFF\\nfinalColor*=v_cutoff_opacity;\\n#endif\\n#ifdef INDICATOR_CUTOUT\\nfinalColor=applyCutout(finalColor);\\n#endif\\ngl_FragColor=finalColor;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\n#include \"_prelude_shadow.vertex.glsl\"\\nattribute vec3 a_pos_3f;\\n#pragma mapbox: define-attribute highp vec3 normal_3f\\n#pragma mapbox: define-attribute highp vec2 uv_2f\\n#pragma mapbox: define-attribute highp vec3 color_3f\\n#pragma mapbox: define-attribute highp vec4 color_4f\\n#pragma mapbox: define-attribute-vertex-shader-only highp vec4 pbr\\n#pragma mapbox: define-attribute-vertex-shader-only highp vec3 heightBasedEmissiveStrength\\nuniform mat4 u_matrix;uniform mat4 u_lighting_matrix;uniform vec3 u_camera_pos;uniform vec4 u_color_mix;\\n#ifdef INSTANCED_ARRAYS\\nattribute vec4 a_normal_matrix0;attribute vec4 a_normal_matrix1;attribute vec4 a_normal_matrix2;attribute vec4 a_normal_matrix3;\\n#else\\nuniform highp mat4 u_normal_matrix;\\n#endif\\n#ifdef RENDER_SHADOWS\\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth_shadows;\\n#endif\\nvarying vec4 v_position_height;varying lowp vec4 v_color_mix;\\n#ifdef TERRAIN_FRAGMENT_OCCLUSION\\nvarying highp float v_depth;\\n#endif\\n#ifdef HAS_ATTRIBUTE_a_pbr\\nvarying lowp vec4 v_roughness_metallic_emissive_alpha;varying mediump vec4 v_height_based_emission_params;\\n#endif\\nvoid main() {\\n#pragma mapbox: initialize-attribute highp vec3 normal_3f\\n#pragma mapbox: initialize-attribute highp vec2 uv_2f\\n#pragma mapbox: initialize-attribute highp vec3 color_3f\\n#pragma mapbox: initialize-attribute highp vec4 color_4f\\n#pragma mapbox: initialize-attribute-custom highp vec4 pbr\\n#pragma mapbox: initialize-attribute-custom highp vec3 heightBasedEmissiveStrength\\nhighp mat4 normal_matrix;\\n#ifdef INSTANCED_ARRAYS\\nnormal_matrix=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);\\n#else\\nnormal_matrix=u_normal_matrix;\\n#endif\\nvec3 local_pos;mat3 rs;\\n#ifdef MODEL_POSITION_ON_GPU\\nvec3 pos_color=normal_matrix[0].xyz;vec4 translate=normal_matrix[1];vec3 pos_a=floor(pos_color);vec3 rgb=1.05*(pos_color-pos_a);float color_mix=pos_a.z/100.0;v_color_mix=vec4(sRGBToLinear(rgb),color_mix);float meter_to_tile=normal_matrix[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);rs[0].x=normal_matrix[1].w;rs[0].yz=normal_matrix[2].xy;rs[1].xy=normal_matrix[2].zw;rs[1].z=normal_matrix[3].x;rs[2].xyz=normal_matrix[3].yzw;vec4 pos_node=u_lighting_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;local_pos=pos.xyz;gl_Position=u_matrix*pos;pos.z*=meter_to_tile;v_position_height.xyz=pos.xyz-u_camera_pos;\\n#else\\nlocal_pos=a_pos_3f;gl_Position=u_matrix*vec4(a_pos_3f,1);v_position_height.xyz=vec3(u_lighting_matrix*vec4(a_pos_3f,1));v_color_mix=vec4(sRGBToLinear(u_color_mix.rgb),u_color_mix.a);\\n#endif\\nv_position_height.w=a_pos_3f.z;\\n#ifdef HAS_ATTRIBUTE_a_pbr\\nvec4 albedo_c=decode_color(pbr.xy);vec2 e_r_m=unpack_float(pbr.z);vec2 r_m= unpack_float(e_r_m.y*16.0);r_m.r=r_m.r*16.0;v_color_mix=vec4(albedo_c.rgb,1.0);v_roughness_metallic_emissive_alpha=vec4(vec3(r_m,e_r_m.x)/255.0,albedo_c.a);v_roughness_metallic_emissive_alpha.z*=2.0;float heightBasedRelativeIntepolation=a_pos_3f.z*heightBasedEmissiveStrength.x+heightBasedEmissiveStrength.y;v_height_based_emission_params.x=heightBasedRelativeIntepolation;v_height_based_emission_params.y=heightBasedEmissiveStrength.z;vec2 emissionMultiplierValues=unpack_float(pbr.w)/256.0;v_height_based_emission_params.z=emissionMultiplierValues.x;v_height_based_emission_params.w=emissionMultiplierValues.y-emissionMultiplierValues.x;\\n#endif\\n#ifdef FOG\\nv_fog_pos=fog_position(local_pos);\\n#endif\\n#ifdef RENDER_CUTOFF\\nv_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);\\n#endif\\n#ifdef TERRAIN_FRAGMENT_OCCLUSION\\nv_depth=gl_Position.z/gl_Position.w;\\n#endif\\n#ifdef HAS_ATTRIBUTE_a_normal_3f\\n#ifdef MODEL_POSITION_ON_GPU\\nfloat x_squared_scale=dot(rs[0],rs[0]);float y_squared_scale=dot(rs[1],rs[1]);float z_squared_scale=dot(rs[2],rs[2]);vec3 squared_scale=vec3(x_squared_scale,y_squared_scale,z_squared_scale);normal_3f=rs*((u_lighting_matrix*vec4(normal_3f,0.0)).xyz/squared_scale);normal_3f=normalize(normal_3f);\\n#else\\nnormal_3f=vec3(normal_matrix*vec4(normal_3f,0));\\n#endif\\n#endif\\n#ifdef HAS_ATTRIBUTE_a_pbr\\n#ifdef HAS_ATTRIBUTE_a_color_4f\\nv_roughness_metallic_emissive_alpha.w=clamp(color_4f.a*v_roughness_metallic_emissive_alpha.w*(v_roughness_metallic_emissive_alpha.z-1.0),0.0,1.0);\\n#endif\\n#endif\\n#ifdef RENDER_SHADOWS\\nvec3 shadow_pos=local_pos;\\n#ifdef NORMAL_OFFSET\\n#ifdef HAS_ATTRIBUTE_a_normal_3f\\n#ifdef MODEL_POSITION_ON_GPU\\nvec3 offset=shadow_normal_offset(vec3(-normal_3f.xy,normal_3f.z));shadow_pos+=offset*shadow_normal_offset_multiplier0();\\n#else\\nvec3 offset=shadow_normal_offset_model(normalize(normal_3f));shadow_pos+=offset*shadow_normal_offset_multiplier0();\\n#endif\\n#endif\\n#endif\\nv_pos_light_view_0=u_light_matrix_0*vec4(shadow_pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(shadow_pos,1);v_depth_shadows=gl_Position.w;\\n#endif\\n}'),modelDepth:BE(\"varying highp float v_depth;void main() {\\n#ifndef DEPTH_TEXTURE\\ngl_FragColor=pack_depth(v_depth);\\n#endif\\n}\",\"attribute vec3 a_pos_3f;uniform mat4 u_matrix;varying highp float v_depth;\\n#ifdef MODEL_POSITION_ON_GPU\\n#ifdef INSTANCED_ARRAYS\\nattribute vec4 a_normal_matrix0;attribute vec4 a_normal_matrix1;attribute vec4 a_normal_matrix2;attribute vec4 a_normal_matrix3;\\n#else\\nuniform highp mat4 u_instance;\\n#endif\\nuniform highp mat4 u_node_matrix;\\n#endif\\nvoid main() {\\n#ifdef MODEL_POSITION_ON_GPU\\nhighp mat4 instance;\\n#ifdef INSTANCED_ARRAYS\\ninstance=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);\\n#else\\ninstance=u_instance;\\n#endif\\nvec3 pos_color=instance[0].xyz;vec4 translate=instance[1];vec3 pos_a=floor(pos_color);float meter_to_tile=instance[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);mat3 rs;rs[0].x=instance[1].w;rs[0].yz=instance[2].xy;rs[1].xy=instance[2].zw;rs[1].z=instance[3].x;rs[2].xyz=instance[3].yzw;vec4 pos_node=u_node_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;gl_Position=u_matrix*pos;\\n#else\\ngl_Position=u_matrix*vec4(a_pos_3f,1);\\n#endif\\nv_depth=gl_Position.z/gl_Position.w;}\"),stars:BE(\"varying highp vec2 v_uv;varying mediump float v_intensity;float shapeCircle(in vec2 uv)\\n{float beginFade=0.6;float lengthFromCenter=length(v_uv);return 1.0-clamp((lengthFromCenter-beginFade)/(1.0-beginFade),0.0,1.0);}void main() {float alpha=shapeCircle(v_uv);vec3 color=vec3(1.0,1.0,1.0);alpha*=v_intensity;gl_FragColor=vec4(color*alpha,alpha);HANDLE_WIREFRAME_DEBUG;}\",\"\\nattribute vec3 a_pos_3f;attribute vec2 a_uv;attribute float a_size_scale;attribute float a_fade_opacity;uniform mat4 u_matrix;uniform vec3 u_up;uniform vec3 u_right;uniform float u_intensity_multiplier;varying highp vec2 v_uv;varying mediump float v_intensity;void main() {v_uv=a_uv;v_intensity=a_fade_opacity*u_intensity_multiplier;vec3 pos=a_pos_3f;pos+=a_uv.x*u_right*a_size_scale;pos+=a_uv.y*u_up*a_size_scale;gl_Position=u_matrix*vec4(pos,1.0);}\")};function OE(e,t){const i=e.replace(/\\s*\\/\\/[^\\n]*\\n/g,\"\\n\").split(\"\\n\");for(let e of i)if(e=e.trim(),\"#\"===e[0]&&e.includes(\"if\")&&!e.includes(\"endif\")){e=e.replace(\"#\",\"\").replace(/ifdef|ifndef|elif|if/g,\"\").replace(/!|defined|\\(|\\)|\\|\\||&&/g,\"\").replace(/\\s+/g,\" \").trim();const i=e.split(\" \");for(const e of i)t.includes(e)||t.push(e);}}function BE(e,t){const i=/#include\\s+\"([^\"]+)\"/g,r=/#pragma mapbox: ([\\w\\-]+) ([\\w]+) ([\\w]+) ([\\w]+)/g;let n=t.match(/attribute(\\S*) (highp |mediump |lowp )?([\\w]+) ([\\w]+)/g);n&&(n=n.filter(((e,t)=>n.indexOf(e)===t)));const o={},s=[],a=[];e=e.replace(i,((e,t)=>(a.push(t),\"\"))),t=t.replace(i,((e,t)=>(s.push(t),\"\")));let l=[...zE];OE(e,l),OE(t,l);for(const e of [...s,...a])DE[e]||console.error(`Undefined include: ${e}`),PE[e]||(PE[e]=[],OE(DE[e],PE[e])),l=[...l,...PE[e]];return {fragmentSource:e=e.replace(r,((e,t,i,r,n)=>(o[n]=!0,\"define\"===t?`\\n#ifndef HAS_UNIFORM_u_${n}\\nvarying ${i} ${r} ${n};\\n#else\\nuniform ${i} ${r} u_${n};\\n#endif\\n`:\"initialize\"===t?`\\n#ifdef HAS_UNIFORM_u_${n}\\n    ${i} ${r} ${n} = u_${n};\\n#endif\\n`:\"define-attribute\"===t?`\\n#ifdef HAS_ATTRIBUTE_a_${n}\\n    varying ${i} ${r} ${n};\\n#endif\\n`:\"initialize-attribute\"===t?\"\":void 0))),vertexSource:t=t.replace(r,((e,t,i,r,n)=>{const s=\"float\"===r?\"vec2\":r,a=n.match(/color/)?\"color\":s;return \"define-attribute-vertex-shader-only\"===t?`\\n#ifdef HAS_ATTRIBUTE_a_${n}\\nattribute ${i} ${r} a_${n};\\n#endif\\n`:o[n]?\"define\"===t?`\\n#ifndef HAS_UNIFORM_u_${n}\\nuniform lowp float u_${n}_t;\\nattribute ${i} ${s} a_${n};\\nvarying ${i} ${r} ${n};\\n#else\\nuniform ${i} ${r} u_${n};\\n#endif\\n`:\"initialize\"===t?\"vec4\"===a?`\\n#ifndef HAS_UNIFORM_u_${n}\\n    ${n} = a_${n};\\n#else\\n    ${i} ${r} ${n} = u_${n};\\n#endif\\n`:`\\n#ifndef HAS_UNIFORM_u_${n}\\n    ${n} = unpack_mix_${a}(a_${n}, u_${n}_t);\\n#else\\n    ${i} ${r} ${n} = u_${n};\\n#endif\\n`:\"define-attribute\"===t?`\\n#ifdef HAS_ATTRIBUTE_a_${n}\\n    attribute ${i} ${r} a_${n};\\n    varying ${i} ${r} ${n};\\n#endif\\n`:\"initialize-attribute\"===t?`\\n#ifdef HAS_ATTRIBUTE_a_${n}\\n    ${n} = a_${n};\\n#endif\\n`:void 0:\"define\"===t?`\\n#ifndef HAS_UNIFORM_u_${n}\\nuniform lowp float u_${n}_t;\\nattribute ${i} ${s} a_${n};\\n#else\\nuniform ${i} ${r} u_${n};\\n#endif\\n`:\"define-instanced\"===t?\"mat4\"===a?`\\n#ifdef INSTANCED_ARRAYS\\nattribute vec4 a_${n}0;\\nattribute vec4 a_${n}1;\\nattribute vec4 a_${n}2;\\nattribute vec4 a_${n}3;\\n#else\\nuniform ${i} ${r} u_${n};\\n#endif\\n`:`\\n#ifdef INSTANCED_ARRAYS\\nattribute ${i} ${s} a_${n};\\n#else\\nuniform ${i} ${r} u_${n};\\n#endif\\n`:\"initialize-attribute-custom\"===t?`\\n#ifdef HAS_ATTRIBUTE_a_${n}\\n    ${i} ${r} ${n} = a_${n};\\n#endif\\n`:\"vec4\"===a?`\\n#ifndef HAS_UNIFORM_u_${n}\\n    ${i} ${r} ${n} = a_${n};\\n#else\\n    ${i} ${r} ${n} = u_${n};\\n#endif\\n`:`\\n#ifndef HAS_UNIFORM_u_${n}\\n    ${i} ${r} ${n} = unpack_mix_${a}(a_${n}, u_${n}_t);\\n#else\\n    ${i} ${r} ${n} = u_${n};\\n#endif\\n`})),staticAttributes:n,usedDefines:l,vertexIncludes:s,fragmentIncludes:a}}class FE{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null;}bind(e,t,i,r,n,o,s,a){this.context=e;let l=this.boundPaintVertexBuffers.length!==r.length;for(let e=0;!l&&e<r.length;e++)this.boundPaintVertexBuffers[e]!==r[e]&&(l=!0);let c=this.boundDynamicVertexBuffers.length!==s.length;for(let e=0;!c&&e<s.length;e++)this.boundDynamicVertexBuffers[e]!==s[e]&&(c=!0);if(!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==i||l||c||this.boundIndexBuffer!==n||this.boundVertexOffset!==o)this.freshBind(t,i,r,n,o,s,a);else {e.bindVertexArrayOES.set(this.vao);for(const i of s)i&&(i.bind(),a&&i.instanceCount&&i.setVertexAttribDivisor(e.gl,t,a));n&&n.dynamicDraw&&n.bind();}}freshBind(e,t,i,r,n,o,s){const a=e.numAttributes,l=this.context,c=l.gl;this.vao&&this.destroy(),this.vao=l.gl.createVertexArray(),l.bindVertexArrayOES.set(this.vao),this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=i,this.boundIndexBuffer=r,this.boundVertexOffset=n,this.boundDynamicVertexBuffers=o,t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,n);for(const t of i)t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,n);for(const t of o)t&&(t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,n),s&&t.instanceCount&&t.setVertexAttribDivisor(c,e,s));r&&r.bind(),l.currentNumAttributes=a;}destroy(){this.vao&&(this.context.gl.deleteVertexArray(this.vao),this.vao=null);}}function NE(e,t){const i=Math.pow(2,t.canonical.z),r=t.canonical.y;return [new ep(0,r/i).toLngLat().lat,new ep(0,(r+1)/i).toLngLat().lat]}function UE(e,t,i,r,n,o,s){const a=e.context,l=a.gl,c=i.hillshadeFBO;if(!c)return;e.prepareDrawTile();const h=e.isTileAffectedByFog(t),u=e.getOrCreateProgram(\"hillshade\",{overrideFog:h});a.activeTexture.set(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,c.colorAttachment.get());const d=((e,t,i,r)=>{const n=i.paint.get(\"hillshade-shadow-color\"),o=i.paint.get(\"hillshade-highlight-color\"),s=i.paint.get(\"hillshade-accent-color\"),a=i.paint.get(\"hillshade-emissive-strength\");let l=w(i.paint.get(\"hillshade-illumination-direction\"));if(\"viewport\"===i.paint.get(\"hillshade-illumination-anchor\"))l-=e.transform.angle;else if(e.style&&e.style.enable3dLights()&&e.style.directionalLight){const t=e.style.directionalLight.properties.get(\"direction\");l=w(J(t.x,t.y,t.z)[1]);}const c=!e.options.moving;return {u_matrix:r||e.transform.calculateProjMatrix(t.tileID.toUnwrapped(),c),u_image:0,u_latrange:NE(0,t.tileID),u_light:[i.paint.get(\"hillshade-exaggeration\"),l],u_shadow:n,u_highlight:o,u_emissive_strength:a,u_accent:s}})(e,i,r,e.terrain?t.projMatrix:null);e.uploadCommonUniforms(a,u,t.toUnwrapped());const{tileBoundsBuffer:p,tileBoundsIndexBuffer:f,tileBoundsSegments:m}=e.getTileBoundsBuffers(i);u.draw(e,l.TRIANGLES,n,o,s,Ex.disabled,d,r.id,p,f,m);}function VE(e,t,i){if(!t.needsDEMTextureUpload)return;const r=e.context,n=r.gl;r.pixelStoreUnpackPremultiplyAlpha.set(!1),t.demTexture=t.demTexture||e.getTileTexture(i.stride);const o=i.getPixels();t.demTexture?t.demTexture.update(o,{premultiply:!1}):t.demTexture=new gy(r,o,e.terrainUseFloatDEM()?n.R32F:n.RGBA,{premultiply:!1}),t.needsDEMTextureUpload=!1;}function jE(e,t,i){const r=e.context,n=r.gl;if(!t.dem)return;const o=t.dem;if(r.activeTexture.set(n.TEXTURE1),VE(e,t,o),!t.demTexture)return;t.demTexture.bind(n.NEAREST,n.CLAMP_TO_EDGE);const s=o.dim;r.activeTexture.set(n.TEXTURE0);let a=t.hillshadeFBO;if(!a){const e=new gy(r,{width:s,height:s,data:null},n.RGBA);e.bind(n.LINEAR,n.CLAMP_TO_EDGE),a=t.hillshadeFBO=r.createFramebuffer(s,s,!0,\"renderbuffer\"),a.colorAttachment.set(e.texture);}r.bindFramebuffer.set(a.framebuffer),r.viewport.set([0,0,s,s]);const{tileBoundsBuffer:l,tileBoundsIndexBuffer:c,tileBoundsSegments:h}=e.getMercatorTileBoundsBuffers(),u=[];e.terrainUseFloatDEM()&&u.push(\"TERRAIN_DEM_FLOAT_FORMAT\"),e.getOrCreateProgram(\"hillshadePrepare\",{defines:u}).draw(e,n.TRIANGLES,gx.disabled,xx.disabled,bx.unblended,Ex.disabled,((e,t)=>{const i=t.stride,r=xu.create();return xu.ortho(r,0,sr,-sr,0,0,1),xu.translate(r,r,[0,-sr,0]),{u_matrix:r,u_image:1,u_dimension:[i,i],u_zoom:e.overscaledZ,u_unpack:t.unpackVector}})(t.tileID,o),i.id,l,c,h),t.needsHillshadePrepare=!1;}const GE=e=>({u_matrix:new kl(e),u_image0:new Il(e),u_skirt_height:new Cl(e),u_ground_shadow_factor:new Dl(e)}),qE=(e,t,i)=>({u_matrix:e,u_image0:0,u_skirt_height:t,u_ground_shadow_factor:i}),ZE=(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f)=>({u_proj_matrix:Float32Array.from(e),u_globe_matrix:t,u_normalize_matrix:Float32Array.from(r),u_merc_matrix:i,u_zoom_transition:n,u_merc_center:o,u_image0:0,u_frustum_tl:s,u_frustum_tr:a,u_frustum_br:l,u_frustum_bl:c,u_globe_pos:h,u_globe_radius:u,u_viewport:d,u_grid_matrix:f?Float32Array.from(f):new Float32Array(9),u_skirt_height:p}),$E=(e,t)=>{if(t>0&&e.terrain&&W(\"Cutoff is currently disabled on terrain\"),t<=0||e.terrain)return {shouldRenderCutoff:!1,uniformValues:{u_cutoff_params:[0,0,0,0]}};const i=e.transform,r=Math.max(Math.abs(i._zoom-(e.minCutoffZoom-1)),1),n=i.isLODDisabled(!1)?D(60,45,i.pitch):D(30,15,i.pitch),o=i._farZ-i._nearZ,s=t*i.height,a=((1-(l=n))*(.75*i.cameraToCenterDistance)+l*(i._farZ+s))*r;var l;return {shouldRenderCutoff:n<1,uniformValues:{u_cutoff_params:[i._nearZ,i._farZ,(a-i._nearZ)/o,(a-s-i._nearZ)/o]}}};function HE(e,t){return null!=e&&null!=t&&!(!e.hasData()||!t.hasData())&&null!=e.demTexture&&null!=t.demTexture&&e.tileID.key!==t.tileID.key}const WE=new class{constructor(){this.operations={};}newMorphing(e,t,i,r,n){if(e in this.operations){const t=this.operations[e];t.to.tileID.key!==i.tileID.key&&(t.queued=i);}else this.operations[e]={startTime:r,phase:0,duration:n,from:t,to:i,queued:null};}getMorphValuesForProxy(e){if(!(e in this.operations))return null;const t=this.operations[e];return {from:t.from,to:t.to,phase:t.phase}}update(e){for(const t in this.operations){const i=this.operations[t];for(i.phase=(e-i.startTime)/i.duration;i.phase>=1||!this._validOp(i);)if(!this._nextOp(i,e)){delete this.operations[t];break}}}_nextOp(e,t){return !!e.queued&&(e.from=e.to,e.to=e.queued,e.queued=null,e.phase=0,e.startTime=t,!0)}_validOp(e){return e.from.hasData()&&e.to.hasData()}},XE={0:null,1:\"TERRAIN_VERTEX_MORPHING\"};function YE(e,t,i){if(0===t)return 0;const r=t<1&&514===i?.25/t:1;return 6*Math.pow(1.5,22-e)*Math.max(t,1)*r}function KE(e,t){const i=1<<e.z;return !t&&(0===e.x||e.x===i-1)||0===e.y||e.y===i-1}const JE=e=>({u_matrix:e});function QE(e,t,i,r,n){if(n>0){const o=ht.now(),s=(o-e.timeAdded)/n,a=t?(o-t.timeAdded)/n:-1,l=i.getSource(),c=r.coveringZoomLevel({tileSize:l.tileSize,roundZoom:l.roundZoom}),h=!t||Math.abs(t.tileID.overscaledZ-c)>Math.abs(e.tileID.overscaledZ-c),u=h&&e.refreshedUponExpiration?1:z(h?s:1-a,0,1);return e.refreshedUponExpiration&&s>=1&&(e.refreshedUponExpiration=!1),t?{opacity:1,mix:1-u}:{opacity:u,mix:0}}return {opacity:1,mix:0}}class eM extends Ax{constructor(e){const t={type:\"raster-dem\",maxzoom:e.transform.maxZoom},i=new _w(Uw(),null),r=vT(\"mock-dem\",t,i,e.style);super(\"mock-dem\",r,!1),r.setEventedParent(this),this._sourceLoaded=!0;}_loadTile(e,t){e.state=\"loaded\",t(null);}}class tM extends Ax{constructor(e){const t=vT(\"proxy\",{type:\"geojson\",maxzoom:e.transform.maxZoom},new _w(Uw(),null),e.style);super(\"proxy\",t,!1),t.setEventedParent(this),this.map=this.getSource().map=e,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={};}update(e,t,i){if(e.freezeTileCoverage)return;this.transform=e;const r=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce(((t,i)=>{if(t[i.key]=\"\",!this._tiles[i.key]){const t=new Iy(i,this._source.tileSize*i.overscaleFactor(),e.tileZoom);t.state=\"loaded\",this._tiles[i.key]=t;}return t}),{});for(const e in this._tiles)e in r||(this.freeFBO(e),this._tiles[e].unloadVectorData(),delete this._tiles[e]);}freeFBO(e){const t=this.proxyCachedFBO[e];if(void 0!==t){const i=Object.values(t);this.renderCachePool.push(...i),delete this.proxyCachedFBO[e];}}deallocRenderCache(){this.renderCache.forEach((e=>e.fb.destroy())),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={};}}class iM extends Bu{constructor(e,t,i){super(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y),this.proxyTileKey=t,this.projMatrix=i;}}class rM extends Gm{constructor(e,t){super(),this.painter=e,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[i,r,n]=function(e){const t=new Ta,i=new Va,r=131;t.reserve(17161),i.reserve(33800);const n=sr/128,o=sr+n/2,s=o+n;for(let e=-n;e<s;e+=n)for(let i=-n;i<s;i+=n){const r=i<0||i>o||e<0||e>o?24575:0,n=z(Math.round(i),0,sr),s=z(Math.round(e),0,sr);t.emplaceBack(n+r,s);}const a=(e,t)=>{const n=t*r+e;i.emplaceBack(n+1,n,n+r),i.emplaceBack(n+r,n+r+1,n+1);};for(let e=1;e<129;e++)for(let t=1;t<129;t++)a(t,e);return [0,129].forEach((e=>{for(let t=0;t<130;t++)a(t,e),a(e,t);})),[t,i,32768]}(),o=e.context;this.gridBuffer=o.createVertexBuffer(i,Pu.members),this.gridIndexBuffer=o.createIndexBuffer(r),this.gridSegments=dl.simpleSegment(0,0,i.length,r.length),this.gridNoSkirtSegments=dl.simpleSegment(0,0,i.length,n),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new tM(t.map),this.orthoMatrix=xu.create(),xu.ortho(this.orthoMatrix,\"globe\"===this.painter.transform.projection.name?.015:0,sr,0,sr,0,1);const s=o.gl;this._overlapStencilMode=new xx({func:s.GEQUAL,mask:255},0,255,s.KEEP,s.KEEP,s.REPLACE),this._previousZoom=e.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=t,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new eM(t.map),this._pendingGroundEffectLayers=[];}set style(e){e.on(\"data\",this._onStyleDataEvent.bind(this)),this._style=e,this._style.map.on(\"moveend\",(()=>{this._clearLineLayersFromRenderCache();}));}update(e,t,i){if(e&&e.terrain){this._style!==e&&(this.style=e,this._evaluationZoom=void 0);const r=e.terrain.properties,n=0===e.terrain.drapeRenderMode,o=e.terrain.isZoomDependent();this._previousUpdateTimestamp=this.enabled?this._updateTimestamp:void 0,this._updateTimestamp=ht.now();const s=e.terrain&&e.terrain.scope,a=r.get(\"source\"),l=n?this._mockSourceCache:e.getSourceCache(a,s);if(!l)return void W(`Couldn't find terrain source \"${a}\".`);if(this.sourceCache=l,this._exaggeration=o?this.calculateExaggeration(t):r.get(\"exaggeration\"),!t.projection.requiresDraping&&o&&0===this._exaggeration)return void this._disable();this.enabled=!0;const c=()=>{this.sourceCache.used&&W(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const e=this.getScaledDemTileSize();this.sourceCache.update(t,e,!0),this.resetTileLookupCache(this.sourceCache.id);};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,c(),this._initializing=!0),c(),t.updateElevation(!0,i),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(t),this._emptyDEMTextureDirty=!0,this._previousZoom=t.zoom;}else this._disable();}calculateExaggeration(e){const t=this._previousCameraAltitude,i=e.getFreeCameraOptions().position.z/e.pixelsPerMeter*e.worldSize;this._previousCameraAltitude=i;const r=null!=t?i-t:Number.MAX_VALUE;if(Math.abs(r)<2)return this._exaggeration;const n=e.zoom,o=this._style.terrain;if(!this._previousUpdateTimestamp)return o.getExaggeration(n);let s=n-this._previousZoom;const a=this._previousUpdateTimestamp;let l=n;null!=this._evaluationZoom&&(l=this._evaluationZoom,Math.abs(n-l)>.5&&(s=.5*(n-l+s)),s*r<0&&(l+=s)),this._evaluationZoom=l;const c=o.getExaggeration(l),h=c===o.getExaggeration(Math.max(0,l-.1));if(h&&Math.abs(c-this._exaggeration)<.01)return c;let u=Math.min(.1,.00375*(this._updateTimestamp-a));return (h||c<.1||Math.abs(s)<1e-4)&&(u=Math.min(.2,4*u)),Wr(this._exaggeration,c,u)}resetTileLookupCache(e){this._findCoveringTileCache[e]={};}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_onStyleDataEvent(e){e.coord&&\"source\"===e.dataType?this._clearRenderCacheForTile(e.sourceCacheId,e.coord):\"style\"===e.dataType&&(this.invalidateRenderCache=!0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this._previousCameraAltitude=void 0);}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const e in this._style._mergedSourceCaches)this._style._mergedSourceCaches[e].usedForTerrain=!1;}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach((e=>e.fb.destroy())),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),this.framebufferCopyTexture&&this.framebufferCopyTexture.destroy();}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const e=2*this.proxySourceCache.getSource().tileSize;return [e,e]}set useVertexMorphing(e){this._useVertexMorphing=e;}updateTileBinding(e){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const t=this.proxySourceCache,i=this.painter.transform;this._initializing&&(this._initializing=0===i._centerAltitude&&-1===this.getAtPointOrZero(ep.fromLngLat(i.center),-1),this._emptyDEMTextureDirty=!this._initializing);const r=this.proxyCoords=t.getIds().map((e=>{const r=t.getTileByID(e).tileID;return r.projMatrix=i.calculateProjMatrix(r.toUnwrapped()),r}));!function(e,t){const i=t.transform.pointCoordinate(t.transform.getCameraPoint()),r=new y(i.x,i.y);e.sort(((e,t)=>{if(t.overscaledZ-e.overscaledZ)return t.overscaledZ-e.overscaledZ;const i=new y(e.canonical.x+(1<<e.canonical.z)*e.wrap,e.canonical.y),n=new y(t.canonical.x+(1<<t.canonical.z)*t.wrap,t.canonical.y),o=r.mult(1<<e.canonical.z);return o.x-=.5,o.y-=.5,o.distSqr(i)-o.distSqr(n)}));}(r,this.painter);const n=this.proxyToSource||{};this.proxyToSource={},r.forEach((e=>{this.proxyToSource[e.key]={};})),this.terrainTileForTile={};const o=this._style._mergedSourceCaches;for(const t in o){const i=o[t];if(!i.used)continue;if(i!==this.sourceCache&&this.resetTileLookupCache(i.id),this._setupProxiedCoordsForOrtho(i,e[t],n),i.usedForTerrain)continue;const r=e[t];i.getSource().reparseOverscaled&&this._assignTerrainTiles(r);}this.proxiedCoords[t.id]=r.map((e=>new iM(e,e.key,this.orthoMatrix))),this._assignTerrainTiles(r),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(n),this.renderingToTexture=!1;const s={};this._visibleDemTiles=[];for(const e of this.proxyCoords){const t=this.terrainTileForTile[e.key];if(!t)continue;const i=t.tileID.key;i in s||(this._visibleDemTiles.push(t),s[i]=i);}}_assignTerrainTiles(e){this._initializing||e.forEach((e=>{if(this.terrainTileForTile[e.key])return;const t=this._findTileCoveringTileID(e,this.sourceCache);t&&(this.terrainTileForTile[e.key]=t);}));}_prepareDEMTextures(){const e=this.painter.context,t=e.gl;for(const i in this.terrainTileForTile){const r=this.terrainTileForTile[i],n=r.dem;!n||r.demTexture&&!r.needsDEMTextureUpload||(e.activeTexture.set(t.TEXTURE1),VE(this.painter,r,n));}}_prepareDemTileUniforms(e,t,i,r){if(!t||null==t.demTexture)return !1;const n=e.tileID.canonical,o=Math.pow(2,t.tileID.canonical.z-n.z),s=r||\"\";return i[`u_dem_tl${s}`]=[n.x*o%1,n.y*o%1],i[`u_dem_scale${s}`]=o,!0}get emptyDEMTexture(){return !this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const e=this.painter.context,t=e.gl;if(!this._emptyDepthBufferTexture){const i=new $p({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new gy(e,i,t.RGBA,{premultiply:!1});}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let e=0;const t=this._visibleDemTiles.reduce(((t,i)=>{if(!i.dem)return t;const r=i.dem.tree.minimums[0];return r>0&&e++,t+r}),0);return e?t/e:0}_updateEmptyDEMTexture(){const e=this.painter.context,t=e.gl;e.activeTexture.set(t.TEXTURE2);const i=this._getLoadedAreaMinimum(),[r,n]=(()=>{if(this.painter.terrainUseFloatDEM()){const e=new Hp({width:1,height:1},new Float32Array([i]));return [t.R32F,e]}{const e=new $p({width:1,height:1},new Uint8Array(jm.pack(i,this.sourceCache.getSource().encoding)));return [t.RGBA,e]}})();this._emptyDEMTextureDirty=!1;let o=this._emptyDEMTexture;return o?o.update(n,{premultiply:!1}):o=this._emptyDEMTexture=new gy(e,n,r,{premultiply:!1}),o}setupElevationDraw(e,t,i){const r=this.painter.context,n=r.gl,o=(s=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:jm.getUnpackVector(s),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var s;o.u_exaggeration=this.exaggeration();let a=null,l=null,c=1;if(i&&i.morphing&&this._useVertexMorphing){const t=i.morphing.srcDemTile,r=i.morphing.dstDemTile;c=i.morphing.phase,t&&r&&(this._prepareDemTileUniforms(e,t,o,\"_prev\")&&(l=t),this._prepareDemTileUniforms(e,r,o)&&(a=r));}const h=e=>e&&e.demTexture&&this.painter.terrainUseFloatDEM()?n.LINEAR:n.NEAREST,u=e=>{o.u_dem_size=1===e.size[0]?1:e.size[0]-2;};if(l&&a)r.activeTexture.set(n.TEXTURE2),a.demTexture.bind(h(a),n.CLAMP_TO_EDGE),r.activeTexture.set(n.TEXTURE4),l.demTexture.bind(h(l),n.CLAMP_TO_EDGE),a.demTexture&&u(a.demTexture),o.u_dem_lerp=c;else {a=this.terrainTileForTile[e.tileID.key],r.activeTexture.set(n.TEXTURE2);const t=this._prepareDemTileUniforms(e,a,o)?a.demTexture:this.emptyDEMTexture;t.bind(h(a),n.CLAMP_TO_EDGE),u(t);}if(r.activeTexture.set(n.TEXTURE3),i&&i.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(n.NEAREST,n.CLAMP_TO_EDGE),this._depthFBO&&(o.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(n.NEAREST,n.CLAMP_TO_EDGE),o.u_depth_size_inv=[1,1]),i&&i.useMeterToDem&&a){const e=(1<<a.tileID.canonical.z)*Zd(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;o.u_meter_to_dem=e;}if(i&&i.labelPlaneMatrixInv&&(o.u_label_plane_matrix_inv=i.labelPlaneMatrixInv),t.setTerrainUniformValues(r,o),\"globe\"===this.painter.transform.projection.name){const n=this.globeUniformValues(this.painter.transform,e.tileID.canonical,i&&i.useDenormalizedUpVectorScale);t.setGlobeUniformValues(r,n);}}globeUniformValues(e,t,i){const r=e.projection;return {u_tile_tl_up:r.upVector(t,0,0),u_tile_tr_up:r.upVector(t,sr,0),u_tile_br_up:r.upVector(t,sr,sr),u_tile_bl_up:r.upVector(t,0,sr),u_tile_up_scale:i?rd(1):r.upVectorScale(t,e.center.lat,e.worldSize).metersToTile}}renderToBackBuffer(e){const t=this.painter,i=this.painter.context;0!==e.length&&(i.bindFramebuffer.set(null),i.viewport.set([0,0,t.width,t.height]),t.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(e,t,i,r,n){if(\"globe\"===e.transform.projection.name)!function(e,t,i,r,n){const o=e.context,s=o.gl;let a,l;const c=e.transform,h=Ad(e,o,c),u=(t,i)=>{if(l===i)return;const r=[XE[i],\"PROJECTION_GLOBE_VIEW\"];h&&r.push(\"CUSTOM_ANTIALIASING\");const n=e.isTileAffectedByFog(t);a=e.getOrCreateProgram(\"globeRaster\",{defines:r,overrideFog:n}),l=i;},d=e.colorModeForRenderPass(),p=new gx(s.LEQUAL,gx.ReadWrite,e.depthRangeFor3D);WE.update(n);const f=function(e){const t=e.pixelsPerMeter,i=t/Zd(1,e.center.lat),r=xu.identity(new Float64Array(16));return xu.translate(r,r,[e.point.x,e.point.y,0]),xu.scale(r,r,[i,i,t]),Float32Array.from(r)}(c),m=[Gd(c.center.lng),qd(c.center.lat)],_=e.globeSharedBuffers,g=[c.width*ht.devicePixelRatio,c.height*ht.devicePixelRatio],y=Float32Array.from(c.globeMatrix),x={useDenormalizedUpVectorScale:!0};{const c=e.transform,h=YE(c.zoom,t.exaggeration(),t.sourceCache._source.tileSize);l=-1;const v=s.TRIANGLES;for(const l of r){const r=i.getTile(l),b=xx.disabled,w=t.prevTerrainTileForTile[l.key],T=t.terrainTileForTile[l.key];HE(w,T)&&WE.newMorphing(l.key,w,T,n,250),o.activeTexture.set(s.TEXTURE0),r.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE);const E=WE.getMorphValuesForProxy(l.key),A=E?1:0;E&&Pt(x,{morphing:{srcDemTile:E.from,dstDemTile:E.to,phase:M(E.phase)}});const S=dd(l.canonical),I=Id(S.getCenter().lat),C=Sd(l.canonical,S,I,c.worldSize/c._pixelsPerMercatorPixel),z=xd(ad(l.canonical)),D=ZE(c.projMatrix,y,f,z,Ed(c.zoom),m,c.frustumCorners.TL,c.frustumCorners.TR,c.frustumCorners.BR,c.frustumCorners.BL,c.globeCenterInViewSpace,c.globeRadius,g,h,C);if(u(l,A),a&&(t.setupElevationDraw(r,a,x),e.uploadCommonUniforms(o,a,l.toUnwrapped()),_)){const[t,i,r]=_.getGridBuffers(I,0!==h);a.draw(e,v,p,b,d,Ex.backCCW,D,\"globe_raster\",t,i,r);}}}if(_&&(e.renderDefaultNorthPole||e.renderDefaultSouthPole)){const n=[\"GLOBE_POLES\",\"PROJECTION_GLOBE_VIEW\"];h&&n.push(\"CUSTOM_ANTIALIASING\"),a=e.getOrCreateProgram(\"globeRaster\",{defines:n});for(const n of r){const{x:r,y:l,z:h}=n.canonical,u=0===l,f=l===(1<<h)-1,[y,v,b,w]=_.getPoleBuffers(h,!1);if(w&&(u||f)){const l=i.getTile(n);o.activeTexture.set(s.TEXTURE0),l.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE);let _=Md(h,r,c);const T=xd(ad(n.canonical)),E=(t,i)=>t.draw(e,s.TRIANGLES,p,xx.disabled,d,Ex.disabled,ZE(c.projMatrix,_,_,T,0,m,c.frustumCorners.TL,c.frustumCorners.TR,c.frustumCorners.BR,c.frustumCorners.BL,c.globeCenterInViewSpace,c.globeRadius,g,0),\"globe_pole_raster\",i,b,w);t.setupElevationDraw(l,a,x),e.uploadCommonUniforms(o,a,n.toUnwrapped()),u&&e.renderDefaultNorthPole&&E(a,y),f&&e.renderDefaultSouthPole&&(_=xu.scale(xu.create(),_,[1,-1,1]),E(a,v));}}}}(e,t,i,r,n);else {const o=e.context,s=o.gl;let a,l;const c=e.shadowRenderer,h=$E(e,e.longestCutoffRange),u=t=>{if(l===t)return;const i=[];i.push(XE[t]),h.shouldRenderCutoff&&i.push(\"RENDER_CUTOFF\"),a=e.getOrCreateProgram(\"terrainRaster\",{defines:i}),l=t;},d=e.colorModeForRenderPass(),p=new gx(s.LEQUAL,gx.ReadWrite,e.depthRangeFor3D);WE.update(n);const f=e.transform,m=YE(f.zoom,t.exaggeration(),t.sourceCache._source.tileSize);let _=[0,0,0];if(c){const t=e.style.directionalLight,i=e.style.ambientLight;t&&i&&(_=BA(t,i));}{l=-1;const g=s.TRIANGLES,[y,x]=[t.gridIndexBuffer,t.gridSegments];for(const l of r){const r=i.getTile(l),v=xx.disabled,b=t.prevTerrainTileForTile[l.key],w=t.terrainTileForTile[l.key];HE(b,w)&&WE.newMorphing(l.key,b,w,n,250),o.activeTexture.set(s.TEXTURE0),r.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST);const T=WE.getMorphValuesForProxy(l.key),E=T?1:0;let A;T&&(A={morphing:{srcDemTile:T.from,dstDemTile:T.to,phase:M(T.phase)}});const S=qE(l.projMatrix,KE(l.canonical,f.renderWorldCopies)?m/10:m,_);if(u(E),!a)continue;t.setupElevationDraw(r,a,A);const I=l.toUnwrapped();c&&c.setupShadows(I,a),e.uploadCommonUniforms(o,a,I,null,h),a.draw(e,g,p,v,d,Ex.backCCW,S,\"terrain_raster\",t.gridBuffer,y,x);}}}}(t,this,this.proxySourceCache,e,this._updateTimestamp),this.renderingToTexture=!0,t.gpuTimingDeferredRenderEnd(),e.splice(0,e.length));}renderBatch(e){if(0===this._drapedRenderBatches.length)return e+1;this.renderingToTexture=!0;const t=this.painter,i=this.painter.context,r=this.proxySourceCache,n=this.proxiedCoords[r.id],o=this._drapedRenderBatches.shift(),s=t.style.order,a=[];let l=0;for(const c of n){const n=r.getTileByID(c.proxyTileKey),h=r.proxyCachedFBO[c.key]?r.proxyCachedFBO[c.key][e]:void 0,u=void 0!==h?r.renderCache[h]:this.pool[l++],d=void 0!==h;if(n.texture=u.tex,d&&!u.dirty){a.push(n.tileID);continue}let p;i.bindFramebuffer.set(u.fb.framebuffer),this.renderedToTile=!1,u.dirty&&(i.clear({color:li.transparent,stencil:0}),u.dirty=!1);for(let e=o.start;e<=o.end;++e){const r=t.style._mergedLayers[s[e]];if(r.isHidden(t.transform.zoom))continue;const n=t.style.getLayerSourceCache(r),o=n?this.proxyToSource[c.key][n.id]:[c];if(!o)continue;const a=o;i.viewport.set([0,0,u.fb.width,u.fb.height]),p!==(n?n.id:null)&&(this._setupStencil(u,o,r,n),p=n?n.id:null),t.renderLayer(t,n,r,a);}if(0===this._drapedRenderBatches.length)for(const e of this._pendingGroundEffectLayers){const r=t.style._mergedLayers[s[e]];if(r.isHidden(t.transform.zoom))continue;const n=t.style.getLayerSourceCache(r),o=n?this.proxyToSource[c.key][n.id]:[c];if(!o)continue;const a=o;i.viewport.set([0,0,u.fb.width,u.fb.height]),p!==(n?n.id:null)&&(this._setupStencil(u,o,r,n),p=n?n.id:null),t.renderLayer(t,n,r,a);}this.renderedToTile?(u.dirty=!0,a.push(n.tileID)):d||--l,5===l&&(l=0,this.renderToBackBuffer(a));}return this.renderToBackBuffer(a),this.renderingToTexture=!1,i.bindFramebuffer.set(null),i.viewport.set([0,0,t.width,t.height]),o.end+1}postRender(){}isLayerOrderingCorrect(e){const t=e.order.length;let i=-1,r=t;for(let n=0;n<t;++n)this._style.isLayerDraped(e._mergedLayers[e.order[n]])?i=Math.max(i,n):r=Math.min(r,n);return r>i}getMinElevationBelowMSL(){let e=0;return this._visibleDemTiles.filter((e=>e.dem)).forEach((t=>{e=Math.min(e,t.dem.tree.minimums[0]);})),0===e?e:(e-30)*this._exaggeration}raycast(e,t,i){if(!this._visibleDemTiles)return null;const r=this._visibleDemTiles.filter((e=>e.dem)).map((r=>{const n=r.tileID,o=1<<n.overscaledZ,{x:s,y:a}=n.canonical,l=s/o,c=(s+1)/o,h=a/o,u=(a+1)/o;return {minx:l,miny:h,maxx:c,maxy:u,t:r.dem.tree.raycastRoot(l,h,c,u,e,t,i),tile:r}}));r.sort(((e,t)=>(null!==e.t?e.t:Number.MAX_VALUE)-(null!==t.t?t.t:Number.MAX_VALUE)));for(const n of r){if(null==n.t)return null;const r=n.tile.dem.tree.raycast(n.minx,n.miny,n.maxx,n.maxy,e,t,i);if(null!=r)return r}return null}_createFBO(){const e=this.painter.context,t=e.gl,i=this.drapeBufferSize;e.activeTexture.set(t.TEXTURE0);const r=new gy(e,{width:i[0],height:i[1],data:null},t.RGBA);r.bind(t.LINEAR,t.CLAMP_TO_EDGE);const n=e.createFramebuffer(i[0],i[1],!0,null);return n.colorAttachment.set(r.texture),n.depthAttachment=new mx(e,n.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=e.createRenderbuffer(e.gl.DEPTH_STENCIL,i[0],i[1]),this._stencilRef=0,n.depthAttachment.set(this._sharedDepthStencil),e.clear({stencil:0})):n.depthAttachment.set(this._sharedDepthStencil),e.extTextureFilterAnisotropic&&!e.extTextureFilterAnisotropicForceOff&&t.texParameterf(t.TEXTURE_2D,e.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,e.extTextureFilterAnisotropicMax),{fb:n,tex:r,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO());}_shouldDisableRenderCache(){if(this._style.hasLightTransitions())return !0;for(const e in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[e].hasTransition())return !0;return this._style.order.some((e=>{const t=this._style._mergedLayers[e],i=t.isHidden(this.painter.transform.zoom);return \"custom\"===t.type?!i&&t.shouldRedrape():!i&&t.hasTransition()}))}_clearLineLayersFromRenderCache(){let e=!1;for(const t of this._style.getSources())if(t instanceof Rw){e=!0;break}if(!e)return;const t={};for(let e=0;e<this._style.order.length;++e){const i=this._style._mergedLayers[this._style.order[e]],r=this._style.getLayerSourceCache(i);if(r&&!t[r.id]&&!i.isHidden(this.painter.transform.zoom)&&\"line\"===i.type&&i.widthExpression()instanceof bo){t[r.id]=!0;for(const e of this.proxyCoords){const t=this.proxyToSource[e.key][r.id];if(t)for(const e of t)this._clearRenderCacheForTile(r.id,e);}}}}_clearRasterLayersFromRenderCache(){let e=!1;for(const t in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[t]._source instanceof Lw){e=!0;break}if(!e)return;const t={};for(let e=0;e<this._style.order.length;++e){const i=this._style._mergedLayers[this._style.order[e]],r=this._style.getLayerSourceCache(i);if(!r||t[r.id])continue;if(i.isHidden(this.painter.transform.zoom)||\"raster\"!==i.type)continue;const n=i.paint.get(\"raster-fade-duration\");for(const e of this.proxyCoords){const t=this.proxyToSource[e.key][r.id];if(t)for(const e of t){const t=QE(r.getTile(e),r.findLoadedParent(e,0),r,this.painter.transform,n);(1!==t.opacity||0!==t.mix)&&this._clearRenderCacheForTile(r.id,e);}}}}_setupDrapedRenderBatches(){const e=this._style.order,t=e.length;if(0===t)return;const i=[];this._pendingGroundEffectLayers=[];let r,n=0,o=this._style._mergedLayers[e[n]];for(;!this._style.isLayerDraped(o)&&o.isHidden(this.painter.transform.zoom)&&++n<t;)o=this._style._mergedLayers[e[n]];for(;n<t;++n){const t=this._style._mergedLayers[e[n]];t.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(t)?void 0===r&&(r=n):(\"fill-extrusion\"===t.type&&this._pendingGroundEffectLayers.push(n),void 0!==r&&(i.push({start:r,end:n-1}),r=void 0)));}if(void 0!==r&&i.push({start:r,end:n-1}),0!==i.length){const e=i[i.length-1],t=this._pendingGroundEffectLayers.every((t=>t>e.end));t||W(\"fill-extrusion with flood lighting and/or ground ambient occlusion should be moved to be on top of all draped layers.\");}this._drapedRenderBatches=i;}_setupRenderCache(e){const t=this.proxySourceCache;if(this._shouldDisableRenderCache()||this.invalidateRenderCache){if(this.invalidateRenderCache=!1,t.renderCache.length>t.renderCachePool.length){const e=Object.values(t.proxyCachedFBO);t.proxyCachedFBO={};for(let i=0;i<e.length;++i){const r=Object.values(e[i]);t.renderCachePool.push(...r);}}return}this._clearRasterLayersFromRenderCache();const i=this.proxyCoords,r=this._tilesDirty;for(let n=i.length-1;n>=0;n--){const o=i[n];if(t.getTileByID(o.key),void 0!==t.proxyCachedFBO[o.key]){const i=e[o.key],n=this.proxyToSource[o.key];let s=0;for(const e in n){const t=n[e],o=i[e];if(!o||o.length!==t.length||t.some(((t,i)=>t!==o[i]||r[e]&&r[e].hasOwnProperty(t.key)))){s=-1;break}++s;}for(const e in t.proxyCachedFBO[o.key])t.renderCache[t.proxyCachedFBO[o.key][e]].dirty=s<0||s!==Object.values(i).length;}}const n=[...this._drapedRenderBatches];n.sort(((e,t)=>t.end-t.start-(e.end-e.start)));for(const e of n)for(const r of i){if(t.proxyCachedFBO[r.key])continue;let i=t.renderCachePool.pop();void 0===i&&t.renderCache.length<50&&(i=t.renderCache.length,t.renderCache.push(this._createFBO())),void 0!==i&&(t.proxyCachedFBO[r.key]={},t.proxyCachedFBO[r.key][e.start]=i,t.renderCache[i].dirty=!0);}this._tilesDirty={};}_setupStencil(e,t,i,r){if(!r||!this._sourceTilesOverlap[r.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const n=this.painter.context,o=n.gl;if(t.length<=1)return void(this._overlapStencilType=!1);let s;if(i.isTileClipped())s=t.length,this._overlapStencilMode.test={func:o.EQUAL,mask:255},this._overlapStencilType=\"Clip\";else {if(!(t[0].overscaledZ>t[t.length-1].overscaledZ))return void(this._overlapStencilType=!1);s=1,this._overlapStencilMode.test={func:o.GREATER,mask:255},this._overlapStencilType=\"Mask\";}this._stencilRef+s>255&&(n.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=s,this._overlapStencilMode.ref=this._stencilRef,i.isTileClipped()&&this._renderTileClippingMasks(t,this._overlapStencilMode.ref);}clipOrMaskOverlapStencilType(){return \"Clip\"===this._overlapStencilType||\"Mask\"===this._overlapStencilType}stencilModeForRTTOverlap(e){return this.renderingToTexture&&this._overlapStencilType?(\"Clip\"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[e.key]),this._overlapStencilMode):xx.disabled}_renderTileClippingMasks(e,t){const i=this.painter,r=this.painter.context,n=r.gl;i._tileClippingMaskIDs={},r.setColorMode(bx.disabled),r.setDepthMode(gx.disabled);const o=i.getOrCreateProgram(\"clippingMask\");for(const r of e){const e=i._tileClippingMaskIDs[r.key]=--t;o.draw(i,n.TRIANGLES,gx.disabled,new xx({func:n.ALWAYS,mask:0},e,255,n.KEEP,n.KEEP,n.REPLACE),bx.disabled,Ex.disabled,JE(r.projMatrix),\"$clipping\",i.tileExtentBuffer,i.quadTriangleIndexBuffer,i.tileExtentSegments);}}pointCoordinate(e){const t=this.painter.transform;if(e.x<0||e.x>t.width||e.y<0||e.y>t.height)return null;const i=[e.x,e.y,1,1];uu.transformMat4(i,i,t.pixelMatrixInverse),uu.scale(i,i,1/i[3]),i[0]/=t.worldSize,i[1]/=t.worldSize;const r=t._camera.position,n=Zd(1,t.center.lat),o=[r[0],r[1],r[2]/n,0],s=Mu.subtract([],i.slice(0,3),o);Mu.normalize(s,s);const a=this.raycast(o,s,this._exaggeration);return null!==a&&a?(Mu.scaleAndAdd(o,o,s,a),o[3]=o[2],o[2]*=n,o):null}drawDepth(){const e=this.painter,t=e.context,i=this.proxySourceCache,r=Math.ceil(e.width),n=Math.ceil(e.height);if(!this._depthFBO||this._depthFBO.width===r&&this._depthFBO.height===n||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const e=t.gl,i=t.createFramebuffer(r,n,!0,\"renderbuffer\");t.activeTexture.set(e.TEXTURE0);const o=new gy(t,{width:r,height:n,data:null},e.RGBA);o.bind(e.NEAREST,e.CLAMP_TO_EDGE),i.colorAttachment.set(o.texture);const s=t.createRenderbuffer(t.gl.DEPTH_COMPONENT16,r,n);i.depthAttachment.set(s),this._depthFBO=i,this._depthTexture=o;}t.bindFramebuffer.set(this._depthFBO.framebuffer),t.viewport.set([0,0,r,n]),function(e,t,i,r){if(\"globe\"===e.transform.projection.name)return;const n=e.context,o=n.gl;n.clear({depth:1});const s=e.getOrCreateProgram(\"terrainDepth\"),a=new gx(o.LESS,gx.ReadWrite,e.depthRangeFor3D);for(const n of r){const r=i.getTile(n),l=qE(n.projMatrix,0,[0,0,0]);t.setupElevationDraw(r,s),s.draw(e,o.TRIANGLES,a,xx.disabled,bx.unblended,Ex.backCCW,l,\"terrain_depth\",t.gridBuffer,t.gridIndexBuffer,t.gridNoSkirtSegments);}}(e,this,i,this.proxyCoords);}_setupProxiedCoordsForOrtho(e,t,i){if(e.getSource()instanceof qb)return this._setupProxiedCoordsForImageSource(e,t,i);this._findCoveringTileCache[e.id]=this._findCoveringTileCache[e.id]||{};const r=this.proxiedCoords[e.id]=[],n=this.proxyCoords;for(let t=0;t<n.length;t++){const o=n[t],s=this._findTileCoveringTileID(o,e);if(s){const t=this._createProxiedId(o,s,i[o.key]&&i[o.key][e.id]);r.push(t),this.proxyToSource[o.key][e.id]=[t];}}let o=!1;for(let n=0;n<t.length;n++){const s=e.getTile(t[n]);if(!s||!s.hasData())continue;const a=this._findTileCoveringTileID(s.tileID,this.proxySourceCache);if(a&&a.tileID.canonical.z!==s.tileID.canonical.z){const t=this.proxyToSource[a.tileID.key][e.id],n=this._createProxiedId(a.tileID,s,i[a.tileID.key]&&i[a.tileID.key][e.id]);t?t.splice(t.length-1,0,n):this.proxyToSource[a.tileID.key][e.id]=[n],r.push(n),o=!0;}}this._sourceTilesOverlap[e.id]=o;}_setupProxiedCoordsForImageSource(e,t,i){if(!e.getSource().loaded())return;const r=this.proxiedCoords[e.id]=[],n=this.proxyCoords,o=e.getSource(),s=o.tileID;if(!s)return;const a=new y(s.x,s.y)._div(1<<s.z),l=o.coordinates.map(ep.fromLngLat).reduce(((e,t)=>(e.min.x=Math.min(e.min.x,t.x-a.x),e.min.y=Math.min(e.min.y,t.y-a.y),e.max.x=Math.max(e.max.x,t.x-a.x),e.max.y=Math.max(e.max.y,t.y-a.y),e)),{min:new y(Number.MAX_VALUE,Number.MAX_VALUE),max:new y(-Number.MAX_VALUE,-Number.MAX_VALUE)}),c=(e,t)=>{const i=e.wrap+e.canonical.x/(1<<e.canonical.z),r=e.canonical.y/(1<<e.canonical.z),n=sr/(1<<e.canonical.z),o=t.wrap+t.canonical.x/(1<<t.canonical.z),s=t.canonical.y/(1<<t.canonical.z);return i+n<o+l.min.x||i>o+l.max.x||r+n<s+l.min.y||r>s+l.max.y};for(let o=0;o<n.length;o++){const s=n[o];for(let n=0;n<t.length;n++){const o=e.getTile(t[n]);if(!o||!o.hasData())continue;if(c(s,o.tileID))continue;const a=this._createProxiedId(s,o,i[s.key]&&i[s.key][e.id]),l=this.proxyToSource[s.key][e.id];l?l.push(a):this.proxyToSource[s.key][e.id]=[a],r.push(a);}}}_createProxiedId(e,t,i){let r=this.orthoMatrix;if(i){const e=i.find((e=>e.key===t.tileID.key));if(e)return e}if(t.tileID.key!==e.key){const i=e.canonical.z-t.tileID.canonical.z;let n,o,s;r=xu.create();const a=t.tileID.wrap-e.wrap<<e.overscaledZ;i>0?(n=sr>>i,o=n*((t.tileID.canonical.x<<i)-e.canonical.x+a),s=n*((t.tileID.canonical.y<<i)-e.canonical.y)):(n=sr<<-i,o=sr*(t.tileID.canonical.x-(e.canonical.x+a<<-i)),s=sr*(t.tileID.canonical.y-(e.canonical.y<<-i))),xu.ortho(r,0,n,0,n,0,1),xu.translate(r,r,[o,s,0]);}return new iM(t.tileID,e.key,r)}_findTileCoveringTileID(e,t){let i=t.getTile(e);if(i&&i.hasData())return i;const r=this._findCoveringTileCache[t.id],n=r[e.key];if(i=n?t.getTileByID(n):null,i&&i.hasData()||null===n)return i;let o=i?i.tileID:e,s=o.overscaledZ;const a=t.getSource().minzoom,l=[];if(!n){const r=t.getSource().maxzoom;if(e.canonical.z>=r){const i=e.canonical.z-r;t.getSource().reparseOverscaled?(s=Math.max(e.canonical.z+2,t.transform.tileZoom),o=new Bu(s,e.wrap,r,e.canonical.x>>i,e.canonical.y>>i)):0!==i&&(s=r,o=new Bu(s,e.wrap,r,e.canonical.x>>i,e.canonical.y>>i));}o.key!==e.key&&(l.push(o.key),i=t.getTile(o));}const c=e=>{l.forEach((t=>{r[t]=e;})),l.length=0;};for(s-=1;s>=a&&(!i||!i.hasData());s--){i&&c(i.tileID.key);const e=o.calculateScaledKey(s);if(i=t.getTileByID(e),i&&i.hasData())break;const n=r[e];if(null===n)break;void 0===n?l.push(e):i=t.getTileByID(n);}return c(i?i.tileID.key:null),i&&i.hasData()?i:null}findDEMTileFor(e){return this.enabled?this._findTileCoveringTileID(e,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0;}_clearRenderCacheForTile(e,t){let i=this._tilesDirty[e];i||(i=this._tilesDirty[e]={}),i[t.key]=!0;}}function nM(e,t,i){const r=function(e,t,i){const r=Mu.dot(t,e),n=Mu.dot(i,[.2126,.7152,.0722]),o=(e,t,i)=>(1-i)*e+i*t,s=o(1-.3*Math.min(n,1),1,Math.min(r+1,1));return o(.92,1,Math.asin(z(t[2],-1,1))/Math.PI+.5)*s}(e,[0,0,1],t),n=[0,0,0];Mu.scale(n,i.slice(0,3),r);const o=[0,0,0];Mu.scale(o,t.slice(0,3),e[2]);const s=[0,0,0];return Mu.add(s,n,o),ae(s)}const oM=[\"fill\",\"fillOutline\",\"fillPattern\",\"line\",\"linePattern\",\"background\",\"backgroundPattern\",\"hillshade\",\"raster\"],sM=[\"stars\",\"fillExtrusion\",\"fillExtrusionGroundEffect\",\"model\",\"symbolSDF\",\"symbolIcon\",\"symbolTextAndIcon\"];class aM{static cacheKey(e,t,i,r){let n=`${t}${r?r.cacheKey:\"\"}`;for(const t of i)e.usedDefines.includes(t)&&(n+=`/${t}`);return n}constructor(e,t,i,r,n,o){const s=e.gl;this.program=s.createProgram(),this.configuration=r,this.name=t,this.fixedDefines=[...o];const a=function(e){const t=[];for(let i=0;i<e.length;i++){if(null===e[i])continue;const r=e[i].split(\" \");t.push(r.pop());}return t}(i.staticAttributes),l=r?r.getBinderAttributes():[],c=a.concat(l);let h=r?r.defines():[];h=h.concat(o.map((e=>`#define ${e}`)));const u=\"#version 300 es\\n\";let d=u+h.concat(\"\\n#ifdef GL_ES\\nprecision mediump float;\\n#else\\n\\n#if !defined(lowp)\\n#define lowp\\n#endif\\n\\n#if !defined(mediump)\\n#define mediump\\n#endif\\n\\n#if !defined(highp)\\n#define highp\\n#endif\\n\\n#endif\",LE,RE.fragmentSource).join(\"\\n\");for(const e of i.fragmentIncludes)d+=`\\n${DE[e]}`;d+=`\\n${i.fragmentSource}`;let p=u+h.concat(\"\\n#ifdef GL_ES\\nprecision highp float;\\n#else\\n\\n#if !defined(lowp)\\n#define lowp\\n#endif\\n\\n#if !defined(mediump)\\n#define mediump\\n#endif\\n\\n#if !defined(highp)\\n#define highp\\n#endif\\n\\n#endif\",LE,RE.vertexSource).join(\"\\n\");for(const e of i.vertexIncludes)p+=`\\n${DE[e]}`;p+=`\\n${i.vertexSource}`;const f=s.createShader(s.FRAGMENT_SHADER);if(s.isContextLost())return void(this.failedToCreate=!0);s.shaderSource(f,d),s.compileShader(f),s.attachShader(this.program,f);const m=s.createShader(s.VERTEX_SHADER);if(s.isContextLost())this.failedToCreate=!0;else {s.shaderSource(m,p),s.compileShader(m),s.attachShader(this.program,m),this.attributes={},this.numAttributes=c.length;for(let e=0;e<this.numAttributes;e++)if(c[e]){const t=c[e].startsWith(\"a_\")?c[e]:`a_${c[e]}`;s.bindAttribLocation(this.program,e,t),this.attributes[t]=e;}s.linkProgram(this.program),s.deleteShader(m),s.deleteShader(f),this.fixedUniforms=n(e),this.binderUniforms=r?r.getUniforms(e):[],o.includes(\"TERRAIN\")&&(this.terrainUniforms=(e=>({u_dem:new Il(e),u_dem_prev:new Il(e),u_dem_unpack:new Pl(e),u_dem_tl:new zl(e),u_dem_scale:new Cl(e),u_dem_tl_prev:new zl(e),u_dem_scale_prev:new Cl(e),u_dem_size:new Cl(e),u_dem_lerp:new Cl(e),u_exaggeration:new Cl(e),u_depth:new Il(e),u_depth_size_inv:new zl(e),u_meter_to_dem:new Cl(e),u_label_plane_matrix_inv:new kl(e)}))(e)),o.includes(\"GLOBE\")&&(this.globeUniforms=(e=>({u_tile_tl_up:new Dl(e),u_tile_tr_up:new Dl(e),u_tile_br_up:new Dl(e),u_tile_bl_up:new Dl(e),u_tile_up_scale:new Cl(e)}))(e)),o.includes(\"FOG\")&&(this.fogUniforms=(e=>({u_fog_matrix:new kl(e),u_fog_range:new zl(e),u_fog_color:new Pl(e),u_fog_horizon_blend:new Cl(e),u_fog_vertical_limit:new zl(e),u_fog_temporal_offset:new Cl(e),u_frustum_tl:new Dl(e),u_frustum_tr:new Dl(e),u_frustum_br:new Dl(e),u_frustum_bl:new Dl(e),u_globe_pos:new Dl(e),u_globe_radius:new Cl(e),u_globe_transition:new Cl(e),u_is_globe:new Il(e),u_viewport:new zl(e)}))(e)),o.includes(\"RENDER_CUTOFF\")&&(this.cutoffUniforms=(e=>({u_cutoff_params:new Pl(e)}))(e)),o.includes(\"LIGHTING_3D_MODE\")&&(this.lightsUniforms=(e=>({u_lighting_ambient_color:new Dl(e),u_lighting_directional_dir:new Dl(e),u_lighting_directional_color:new Dl(e),u_ground_radiance:new Dl(e)}))(e)),o.includes(\"RENDER_SHADOWS\")&&(this.shadowUniforms=(e=>({u_light_matrix_0:new kl(e),u_light_matrix_1:new kl(e),u_fade_range:new zl(e),u_shadow_normal_offset:new Dl(e),u_shadow_intensity:new Cl(e),u_shadow_texel_size:new Cl(e),u_shadow_map_resolution:new Cl(e),u_shadow_direction:new Dl(e),u_shadow_bias:new Dl(e),u_shadowmap_0:new Il(e),u_shadowmap_1:new Il(e)}))(e));}}setTerrainUniformValues(e,t){if(!this.terrainUniforms)return;const i=this.terrainUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e]&&i[e].set(this.program,e,t[e]);}}setGlobeUniformValues(e,t){if(!this.globeUniforms)return;const i=this.globeUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e]&&i[e].set(this.program,e,t[e]);}}setFogUniformValues(e,t){if(!this.fogUniforms)return;const i=this.fogUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e].set(this.program,e,t[e]);}}setCutoffUniformValues(e,t){if(!this.cutoffUniforms)return;const i=this.cutoffUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e].set(this.program,e,t[e]);}}setLightsUniformValues(e,t){if(!this.lightsUniforms)return;const i=this.lightsUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e].set(this.program,e,t[e]);}}setShadowUniformValues(e,t){if(this.failedToCreate||!this.shadowUniforms)return;const i=this.shadowUniforms;e.program.set(this.program);for(const e in t)i[e].set(this.program,e,t[e]);}_drawDebugWireframe(e,t,i,r,n,o,s,a,l,c){const h=e.options.wireframe;if(!1===h.terrain&&!1===h.layers2D&&!1===h.layers3D)return;const u=e.context;if(!(()=>!(!h.terrain||\"terrainRaster\"!==this.name&&\"globeRaster\"!==this.name)||!(!h.layers2D||e._terrain&&e._terrain.renderingToTexture||!oM.includes(this.name))||!(!h.layers3D||!sM.includes(this.name)))())return;const d=u.gl,p=e.wireframeDebugCache.getLinesFromTrianglesBuffer(e.frameCounter,n,u);if(!p)return;const f=[...this.fixedDefines];f.push(\"DEBUG_WIREFRAME\");const m=e.getOrCreateProgram(this.name,{config:this.configuration,defines:f});u.program.set(m.program);const _=(e,t,i)=>{if(t[e]&&i[e])for(const r in t[e])i[e][r]&&i[e][r].set(i.program,r,t[e][r].current);};l&&l.setUniforms(m.program,u,m.binderUniforms,s,{zoom:a}),_(\"fixedUniforms\",this,m),_(\"terrainUniforms\",this,m),_(\"globeUniforms\",this,m),_(\"fogUniforms\",this,m),_(\"lightsUniforms\",this,m),_(\"shadowUniforms\",this,m),p.bind(),u.setColorMode(new bx([d.ONE,d.ONE_MINUS_SRC_ALPHA,d.ZERO,d.ONE],li.transparent,[!0,!0,!0,!1])),u.setDepthMode(new gx(t.func===d.LESS?d.LEQUAL:t.func,gx.ReadOnly,t.range)),u.setStencilMode(xx.disabled);const g=3*o.primitiveLength*2,y=3*o.primitiveOffset*2*2;c&&c>1?d.drawElementsInstanced(d.LINES,g,d.UNSIGNED_SHORT,y,c):d.drawElements(d.LINES,g,d.UNSIGNED_SHORT,y),n.bind(),u.program.set(this.program),u.setDepthMode(t),u.setStencilMode(i),u.setColorMode(r);}draw(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m){const _=e.context,g=_.gl;if(this.failedToCreate)return;_.program.set(this.program),_.setDepthMode(i),_.setStencilMode(r),_.setColorMode(n),_.setCullFace(o);for(const e of Object.keys(this.fixedUniforms))this.fixedUniforms[e].set(this.program,e,s[e]);p&&p.setUniforms(this.program,_,this.binderUniforms,u,{zoom:d});const y={[g.LINES]:2,[g.TRIANGLES]:3,[g.LINE_STRIP]:1}[t],x=m&&m>0?1:void 0;for(const o of h.get()){const s=o.vaos||(o.vaos={});(s[a]||(s[a]=new FE)).bind(_,this,l,p?p.getPaintVertexBuffers():[],c,o.vertexOffset,f||[],x),m&&m>1?g.drawElementsInstanced(t,o.primitiveLength*y,g.UNSIGNED_SHORT,o.primitiveOffset*y*2,m):g.drawElements(t,o.primitiveLength*y,g.UNSIGNED_SHORT,o.primitiveOffset*y*2),t===g.TRIANGLES&&this._drawDebugWireframe(e,i,r,n,c,o,u,d,p,m);}}}function lM(e,t){const i=Math.pow(2,t.tileID.overscaledZ),r=t.tileSize*Math.pow(2,e.transform.tileZoom)/i,n=r*(t.tileID.canonical.x+t.tileID.wrap*i),o=r*t.tileID.canonical.y;return {u_image:0,u_texsize:t.imageAtlasTexture.size,u_tile_units_to_pixels:1/Xx(t,1,e.transform.tileZoom),u_pixel_coord_upper:[n>>16,o>>16],u_pixel_coord_lower:[65535&n,65535&o]}}const cM=xu.create(),hM=(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f)=>{const m=t.style.light,_=m.properties.get(\"position\"),g=[_.x,_.y,_.z],y=gu.create();\"viewport\"===m.properties.get(\"anchor\")&&(gu.fromRotation(y,-t.transform.angle),Mu.transformMat3(g,g,y));const x=m.properties.get(\"color\"),v=t.transform,b={u_matrix:e,u_lightpos:g,u_lightintensity:m.properties.get(\"intensity\"),u_lightcolor:[x.r,x.g,x.b],u_vertical_gradient:+i,u_opacity:r,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:cM,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:n,u_edge_radius:o,u_flood_light_color:u,u_vertical_scale:d,u_flood_light_intensity:p,u_ground_shadow_factor:f};return \"globe\"===v.projection.name&&(b.u_tile_id=[s.canonical.x,s.canonical.y,1<<s.canonical.z],b.u_zoom_transition=l,b.u_inv_rot_matrix=h,b.u_merc_center=c,b.u_up_dir=v.projection.upVector(new ku(0,0,0),c[0]*sr,c[1]*sr),b.u_height_lift=a),b},uM=(e,t,i)=>({u_matrix:e,u_edge_radius:t,u_vertical_scale:i}),dM=(e,t,i,r,n,o,s,a,l,c,h,u,d,p)=>{const f=hM(e,t,i,r,n,o,s,l,c,h,u,d,p,1,[0,0,0]),m={u_height_factor:-Math.pow(2,s.overscaledZ)/a.tileSize/8};return k(f,lM(t,a),m)},pM=(e,t)=>({u_matrix:e,u_emissive_strength:t}),fM=(e,t,i,r)=>k(pM(e,t),lM(i,r)),mM=(e,t,i)=>({u_matrix:e,u_world:i,u_emissive_strength:t}),_M=(e,t,i,r,n)=>k(fM(e,t,i,r),{u_world:n}),gM=(e,t,i,r)=>{const n=sr/i.tileSize;return {u_matrix:e,u_camera_to_center_distance:t.getCameraToCenterDistance(r),u_extrude_scale:[t.pixelsToGLUnits[0]/n,t.pixelsToGLUnits[1]/n]}},yM=(e,t,i=1)=>({u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:i}),xM=xu.create(),vM=(e,t,i,r,n,o,s)=>{const a=e.transform,l=\"globe\"===a.projection.name,c=l?wd(a.zoom,t.canonical)*a._pixelsPerMercatorPixel:Xx(i,1,o),h={u_matrix:t.projMatrix,u_extrude_scale:c,u_intensity:s,u_inv_rot_matrix:xM,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(l){h.u_inv_rot_matrix=r,h.u_merc_center=n,h.u_tile_id=[t.canonical.x,t.canonical.y,1<<t.canonical.z],h.u_zoom_transition=Ed(a.zoom);const e=n[0]*sr,i=n[1]*sr;h.u_up_dir=a.projection.upVector(new ku(0,0,0),e,i);}return h},bM=(e,t,i,r,n,o,s,a,l,c,h)=>{return {u_matrix:e,u_normalize_matrix:t,u_globe_matrix:i,u_tl_parent:r,u_scale_parent:n,u_fade_t:o.mix,u_opacity:o.opacity*s.paint.get(\"raster-opacity\"),u_image0:0,u_image1:1,u_brightness_low:s.paint.get(\"raster-brightness-min\"),u_brightness_high:s.paint.get(\"raster-brightness-max\"),u_saturation_factor:(d=s.paint.get(\"raster-saturation\"),d>0?1-1/(1.001-d):-d),u_contrast_factor:(u=s.paint.get(\"raster-contrast\"),u>0?1/(1-u):1+u),u_spin_weights:wM(s.paint.get(\"raster-hue-rotate\")),u_perspective_transform:a,u_colorization_mix:c,u_colorization_scale:TM(h),u_color_ramp:l};var u,d;};function wM(e){e*=Math.PI/180;const t=Math.sin(e),i=Math.cos(e);return [(2*i+1)/3,(-Math.sqrt(3)*t-i+1)/3,(Math.sqrt(3)*t-i+1)/3]}function TM([e,t]){if(e===t)return [e,t];const i=(t+e)/2,r=(t-e)/2*256/255;return [-(e=i-r)/((t=i+r)-e),1/(t-e)]}const EM=xu.create(),MM=(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_)=>{const g=n.transform,y={u_is_size_zoom_constant:+(\"constant\"===e||\"source\"===e),u_is_size_feature_constant:+(\"constant\"===e||\"camera\"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:g.getCameraToCenterDistance(m),u_rotate_symbol:+i,u_aspect_ratio:g.width/g.height,u_fade_change:n.options.fadeDuration?n.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:s,u_coord_matrix:a,u_is_text:+l,u_pitch_with_map:+r,u_texsize:c,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:EM,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:EM,u_up_vector:[0,-1,0],u_icon_transition:_||0};return \"globe\"===m.name&&(y.u_tile_id=[h.canonical.x,h.canonical.y,1<<h.canonical.z],y.u_zoom_transition=u,y.u_inv_rot_matrix=p,y.u_merc_center=d,y.u_camera_forward=g._camera.forward(),y.u_ecef_origin=function(e,t){const i=[0,0,0],r=xd(ad(t.canonical));return Mu.transformMat4(i,i,r),Mu.transformMat4(i,i,e),i}(g.globeMatrix,h.toUnwrapped()),y.u_tile_matrix=Float32Array.from(g.globeMatrix),y.u_up_vector=f),y},AM=(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_)=>k(MM(e,t,i,r,n,o,s,a,l,c,u,d,p,f,m,_),{u_gamma_scale:r?n.transform.getCameraToCenterDistance(_)*Math.cos(n.terrain?0:n.transform._pitch):1,u_device_pixel_ratio:ht.devicePixelRatio,u_is_halo:+h,undefined:void 0}),SM=(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m)=>k(AM(e,t,i,r,n,o,s,a,!0,l,!0,h,u,d,p,f,m),{u_texsize_icon:c,u_texture_icon:1}),IM=(e,t,i,r)=>({u_matrix:e,u_emissive_strength:t,u_opacity:i,u_color:r}),CM=(e,t,i,r,n,o,s)=>k(function(e,t,i,r){const n=i.imageManager.getPattern(e.toString(),t),{width:o,height:s}=i.imageManager.getPixelSize(t),a=Math.pow(2,r.tileID.overscaledZ),l=r.tileSize*Math.pow(2,i.transform.tileZoom)/a,c=l*(r.tileID.canonical.x+r.tileID.wrap*a),h=l*r.tileID.canonical.y;return {u_image:0,u_pattern_tl:n.tl,u_pattern_br:n.br,u_texsize:[o,s],u_pattern_size:n.displaySize,u_tile_units_to_pixels:1/Xx(r,1,i.transform.tileZoom),u_pixel_coord_upper:[c>>16,h>>16],u_pixel_coord_lower:[65535&c,65535&h]}}(n,o,r,s),{u_matrix:e,u_emissive_strength:t,u_opacity:i}),zM={BaseColor:5,MetallicRoughness:6,Normal:7,Occlusion:8,Emission:9,ShadowMap0:10},DM=(e,t,i,r,n,o,s,a,l,c,h,u=[0,0,0])=>{const d=r.style.light,p=d.properties.get(\"position\"),f=[-p.x,-p.y,p.z],m=gu.create();\"viewport\"===d.properties.get(\"anchor\")&&(gu.fromRotation(m,-r.transform.angle),Mu.transformMat3(f,f,m));const _=\"MASK\"===c.alphaMode,g=d.properties.get(\"color\"),y=h.paint.get(\"model-ambient-occlusion-intensity\"),x=h.paint.get(\"model-color\").constantOr(li.white),v=h.paint.get(\"model-color-mix-intensity\").constantOr(0);return {u_matrix:e,u_lighting_matrix:t,u_normal_matrix:i,u_lightpos:f,u_lightintensity:d.properties.get(\"intensity\"),u_lightcolor:[g.r,g.g,g.b],u_camera_pos:u,u_opacity:n,u_baseTextureIsAlpha:0,u_alphaMask:+_,u_alphaCutoff:c.alphaCutoff,u_baseColorFactor:[o.r,o.g,o.b,o.a],u_emissiveFactor:[s[0],s[1],s[2],1],u_metallicFactor:a,u_roughnessFactor:l,u_baseColorTexture:zM.BaseColor,u_metallicRoughnessTexture:zM.MetallicRoughness,u_normalTexture:zM.Normal,u_occlusionTexture:zM.Occlusion,u_emissionTexture:zM.Emission,u_color_mix:[x.r,x.g,x.b,v],u_aoIntensity:y}},PM=new Float32Array(16),RM=(e,t=PM,i=PM)=>({u_matrix:e,u_instance:t,u_node_matrix:i}),LM={fillExtrusion:e=>({u_matrix:new kl(e),u_lightpos:new Dl(e),u_lightintensity:new Cl(e),u_lightcolor:new Dl(e),u_vertical_gradient:new Cl(e),u_opacity:new Cl(e),u_edge_radius:new Cl(e),u_ao:new zl(e),u_tile_id:new Dl(e),u_zoom_transition:new Cl(e),u_inv_rot_matrix:new kl(e),u_merc_center:new zl(e),u_up_dir:new Dl(e),u_height_lift:new Cl(e),u_flood_light_color:new Dl(e),u_vertical_scale:new Cl(e),u_flood_light_intensity:new Cl(e),u_ground_shadow_factor:new Dl(e)}),fillExtrusionDepth:e=>({u_matrix:new kl(e),u_edge_radius:new Cl(e),u_vertical_scale:new Cl(e)}),fillExtrusionPattern:e=>({u_matrix:new kl(e),u_lightpos:new Dl(e),u_lightintensity:new Cl(e),u_lightcolor:new Dl(e),u_vertical_gradient:new Cl(e),u_height_factor:new Cl(e),u_edge_radius:new Cl(e),u_ao:new zl(e),u_tile_id:new Dl(e),u_zoom_transition:new Cl(e),u_inv_rot_matrix:new kl(e),u_merc_center:new zl(e),u_up_dir:new Dl(e),u_height_lift:new Cl(e),u_image:new Il(e),u_texsize:new zl(e),u_pixel_coord_upper:new zl(e),u_pixel_coord_lower:new zl(e),u_tile_units_to_pixels:new Cl(e),u_opacity:new Cl(e)}),fillExtrusionGroundEffect:e=>({u_matrix:new kl(e),u_opacity:new Cl(e),u_ao_pass:new Cl(e),u_meter_to_tile:new Cl(e),u_ao:new zl(e),u_flood_light_intensity:new Cl(e),u_flood_light_color:new Dl(e),u_attenuation:new Cl(e),u_edge_radius:new Cl(e),u_fb:new Il(e),u_fb_size:new Cl(e)}),fill:e=>({u_matrix:new kl(e),u_emissive_strength:new Cl(e)}),fillPattern:e=>({u_matrix:new kl(e),u_emissive_strength:new Cl(e),u_image:new Il(e),u_texsize:new zl(e),u_pixel_coord_upper:new zl(e),u_pixel_coord_lower:new zl(e),u_tile_units_to_pixels:new Cl(e)}),fillOutline:e=>({u_matrix:new kl(e),u_emissive_strength:new Cl(e),u_world:new zl(e)}),fillOutlinePattern:e=>({u_matrix:new kl(e),u_emissive_strength:new Cl(e),u_world:new zl(e),u_image:new Il(e),u_texsize:new zl(e),u_pixel_coord_upper:new zl(e),u_pixel_coord_lower:new zl(e),u_tile_units_to_pixels:new Cl(e)}),circle:e=>({u_camera_to_center_distance:new Cl(e),u_extrude_scale:new Nl(e),u_device_pixel_ratio:new Cl(e),u_matrix:new kl(e),u_inv_rot_matrix:new kl(e),u_merc_center:new zl(e),u_tile_id:new Dl(e),u_zoom_transition:new Cl(e),u_up_dir:new Dl(e),u_emissive_strength:new Cl(e)}),collisionBox:e=>({u_matrix:new kl(e),u_camera_to_center_distance:new Cl(e),u_extrude_scale:new zl(e)}),collisionCircle:e=>({u_matrix:new kl(e),u_inv_matrix:new kl(e),u_camera_to_center_distance:new Cl(e),u_viewport_size:new zl(e)}),debug:e=>({u_color:new Rl(e),u_matrix:new kl(e),u_overlay:new Il(e),u_overlay_scale:new Cl(e)}),clippingMask:e=>({u_matrix:new kl(e)}),heatmap:e=>({u_extrude_scale:new Cl(e),u_intensity:new Cl(e),u_matrix:new kl(e),u_inv_rot_matrix:new kl(e),u_merc_center:new zl(e),u_tile_id:new Dl(e),u_zoom_transition:new Cl(e),u_up_dir:new Dl(e)}),heatmapTexture:e=>({u_image:new Il(e),u_color_ramp:new Il(e),u_opacity:new Cl(e)}),hillshade:e=>({u_matrix:new kl(e),u_image:new Il(e),u_latrange:new zl(e),u_light:new zl(e),u_shadow:new Rl(e),u_highlight:new Rl(e),u_emissive_strength:new Cl(e),u_accent:new Rl(e)}),hillshadePrepare:e=>({u_matrix:new kl(e),u_image:new Il(e),u_dimension:new zl(e),u_zoom:new Cl(e),u_unpack:new Pl(e)}),line:e=>({u_matrix:new kl(e),u_pixels_to_tile_units:new Nl(e),u_device_pixel_ratio:new Cl(e),u_units_to_pixels:new zl(e),u_dash_image:new Il(e),u_gradient_image:new Il(e),u_image_height:new Cl(e),u_texsize:new zl(e),u_tile_units_to_pixels:new Cl(e),u_alpha_discard_threshold:new Cl(e),u_trim_offset:new zl(e),u_emissive_strength:new Cl(e)}),linePattern:e=>({u_matrix:new kl(e),u_texsize:new zl(e),u_pixels_to_tile_units:new Nl(e),u_device_pixel_ratio:new Cl(e),u_image:new Il(e),u_units_to_pixels:new zl(e),u_tile_units_to_pixels:new Cl(e),u_alpha_discard_threshold:new Cl(e)}),raster:e=>({u_matrix:new kl(e),u_normalize_matrix:new kl(e),u_globe_matrix:new kl(e),u_tl_parent:new zl(e),u_scale_parent:new Cl(e),u_fade_t:new Cl(e),u_opacity:new Cl(e),u_image0:new Il(e),u_image1:new Il(e),u_brightness_low:new Cl(e),u_brightness_high:new Cl(e),u_saturation_factor:new Cl(e),u_contrast_factor:new Cl(e),u_spin_weights:new Dl(e),u_perspective_transform:new zl(e),u_colorization_mix:new Pl(e),u_colorization_scale:new zl(e),u_color_ramp:new Il(e)}),symbolIcon:e=>({u_is_size_zoom_constant:new Il(e),u_is_size_feature_constant:new Il(e),u_size_t:new Cl(e),u_size:new Cl(e),u_camera_to_center_distance:new Cl(e),u_rotate_symbol:new Il(e),u_aspect_ratio:new Cl(e),u_fade_change:new Cl(e),u_matrix:new kl(e),u_label_plane_matrix:new kl(e),u_coord_matrix:new kl(e),u_is_text:new Il(e),u_pitch_with_map:new Il(e),u_texsize:new zl(e),u_tile_id:new Dl(e),u_zoom_transition:new Cl(e),u_inv_rot_matrix:new kl(e),u_merc_center:new zl(e),u_camera_forward:new Dl(e),u_tile_matrix:new kl(e),u_up_vector:new Dl(e),u_ecef_origin:new Dl(e),u_texture:new Il(e),u_icon_transition:new Cl(e)}),symbolSDF:e=>({u_is_size_zoom_constant:new Il(e),u_is_size_feature_constant:new Il(e),u_size_t:new Cl(e),u_size:new Cl(e),u_camera_to_center_distance:new Cl(e),u_rotate_symbol:new Il(e),u_aspect_ratio:new Cl(e),u_fade_change:new Cl(e),u_matrix:new kl(e),u_label_plane_matrix:new kl(e),u_coord_matrix:new kl(e),u_is_text:new Il(e),u_pitch_with_map:new Il(e),u_texsize:new zl(e),u_texture:new Il(e),u_gamma_scale:new Cl(e),u_device_pixel_ratio:new Cl(e),u_tile_id:new Dl(e),u_zoom_transition:new Cl(e),u_inv_rot_matrix:new kl(e),u_merc_center:new zl(e),u_camera_forward:new Dl(e),u_tile_matrix:new kl(e),u_up_vector:new Dl(e),u_ecef_origin:new Dl(e),u_is_halo:new Il(e)}),symbolTextAndIcon:e=>({u_is_size_zoom_constant:new Il(e),u_is_size_feature_constant:new Il(e),u_size_t:new Cl(e),u_size:new Cl(e),u_camera_to_center_distance:new Cl(e),u_rotate_symbol:new Il(e),u_aspect_ratio:new Cl(e),u_fade_change:new Cl(e),u_matrix:new kl(e),u_label_plane_matrix:new kl(e),u_coord_matrix:new kl(e),u_is_text:new Il(e),u_pitch_with_map:new Il(e),u_texsize:new zl(e),u_texsize_icon:new zl(e),u_texture:new Il(e),u_texture_icon:new Il(e),u_gamma_scale:new Cl(e),u_device_pixel_ratio:new Cl(e),u_is_halo:new Il(e)}),background:e=>({u_matrix:new kl(e),u_emissive_strength:new Cl(e),u_opacity:new Cl(e),u_color:new Rl(e)}),backgroundPattern:e=>({u_matrix:new kl(e),u_emissive_strength:new Cl(e),u_opacity:new Cl(e),u_image:new Il(e),u_pattern_tl:new zl(e),u_pattern_br:new zl(e),u_texsize:new zl(e),u_pattern_size:new zl(e),u_pixel_coord_upper:new zl(e),u_pixel_coord_lower:new zl(e),u_tile_units_to_pixels:new Cl(e)}),terrainRaster:GE,terrainDepth:GE,skybox:e=>({u_matrix:new kl(e),u_sun_direction:new Dl(e),u_cubemap:new Il(e),u_opacity:new Cl(e),u_temporal_offset:new Cl(e)}),skyboxGradient:e=>({u_matrix:new kl(e),u_color_ramp:new Il(e),u_center_direction:new Dl(e),u_radius:new Cl(e),u_opacity:new Cl(e),u_temporal_offset:new Cl(e)}),skyboxCapture:e=>({u_matrix_3f:new Bl(e),u_sun_direction:new Dl(e),u_sun_intensity:new Cl(e),u_color_tint_r:new Pl(e),u_color_tint_m:new Pl(e),u_luminance:new Cl(e)}),globeRaster:e=>({u_proj_matrix:new kl(e),u_globe_matrix:new kl(e),u_normalize_matrix:new kl(e),u_merc_matrix:new kl(e),u_zoom_transition:new Cl(e),u_merc_center:new zl(e),u_image0:new Il(e),u_grid_matrix:new Bl(e),u_skirt_height:new Cl(e),u_frustum_tl:new Dl(e),u_frustum_tr:new Dl(e),u_frustum_br:new Dl(e),u_frustum_bl:new Dl(e),u_globe_pos:new Dl(e),u_globe_radius:new Cl(e),u_viewport:new zl(e)}),globeAtmosphere:e=>({u_frustum_tl:new Dl(e),u_frustum_tr:new Dl(e),u_frustum_br:new Dl(e),u_frustum_bl:new Dl(e),u_horizon:new Cl(e),u_transition:new Cl(e),u_fadeout_range:new Cl(e),u_color:new Pl(e),u_high_color:new Pl(e),u_space_color:new Pl(e),u_temporal_offset:new Cl(e),u_horizon_angle:new Cl(e)}),model:e=>({u_matrix:new kl(e),u_lighting_matrix:new kl(e),u_normal_matrix:new kl(e),u_lightpos:new Dl(e),u_lightintensity:new Cl(e),u_lightcolor:new Dl(e),u_camera_pos:new Dl(e),u_opacity:new Cl(e),u_baseColorFactor:new Pl(e),u_emissiveFactor:new Pl(e),u_metallicFactor:new Cl(e),u_roughnessFactor:new Cl(e),u_baseTextureIsAlpha:new Il(e),u_alphaMask:new Il(e),u_alphaCutoff:new Cl(e),u_baseColorTexture:new Il(e),u_metallicRoughnessTexture:new Il(e),u_normalTexture:new Il(e),u_occlusionTexture:new Il(e),u_emissionTexture:new Il(e),u_color_mix:new Pl(e),u_aoIntensity:new Cl(e)}),modelDepth:e=>({u_matrix:new kl(e),u_instance:new kl(e),u_node_matrix:new kl(e)}),groundShadow:e=>({u_matrix:new kl(e),u_ground_shadow_factor:new Dl(e)}),stars:e=>({u_matrix:new kl(e),u_up:new Dl(e),u_right:new Dl(e),u_intensity_multiplier:new Cl(e)})};let kM;function OM(e,t,i,r,n,o,s){const a=e.context,l=a.gl,c=e.transform,h=e.getOrCreateProgram(\"collisionBox\"),u=[];let d=0,p=0;for(let a=0;a<r.length;a++){const f=r[a],m=t.getTile(f),_=m.getBucket(i);if(!_)continue;const g=jT(f,_,c);let y=g;0===n[0]&&0===n[1]||(y=e.translatePosMatrix(g,m,n,o));const x=s?_.textCollisionBox:_.iconCollisionBox,v=_.collisionCircleArray;if(v.length>0){const e=xu.create(),t=y;xu.mul(e,_.placementInvProjMatrix,c.glCoordMatrix),xu.mul(e,e,_.placementViewportMatrix),u.push({circleArray:v,circleOffset:p,transform:t,invTransform:e,projection:_.getProjection()}),d+=v.length/4,p=d;}x&&(e.terrain&&e.terrain.setupElevationDraw(m,h),h.draw(e,l.LINES,gx.disabled,xx.disabled,e.colorModeForRenderPass(),Ex.disabled,gM(y,c,m,_.getProjection()),i.id,x.layoutVertexBuffer,x.indexBuffer,x.segments,null,c.zoom,null,[x.collisionVertexBuffer,x.collisionVertexBufferExt]));}if(!s||!u.length)return;const f=e.getOrCreateProgram(\"collisionCircle\"),m=new Fa;m.resize(4*d),m._trim();let _=0;for(const e of u)for(let t=0;t<e.circleArray.length/4;t++){const i=4*t,r=e.circleArray[i+0],n=e.circleArray[i+1],o=e.circleArray[i+2],s=e.circleArray[i+3];m.emplace(_++,r,n,o,s,0),m.emplace(_++,r,n,o,s,1),m.emplace(_++,r,n,o,s,2),m.emplace(_++,r,n,o,s,3);}(!kM||kM.length<2*d)&&(kM=function(e){const t=2*e,i=new Va;i.resize(t),i._trim();for(let e=0;e<t;e++){const t=6*e;i.uint16[t+0]=4*e+0,i.uint16[t+1]=4*e+1,i.uint16[t+2]=4*e+2,i.uint16[t+3]=4*e+2,i.uint16[t+4]=4*e+3,i.uint16[t+5]=4*e+0;}return i}(d));const g=a.createIndexBuffer(kM,!0),y=a.createVertexBuffer(m,i_.members,!0);for(const t of u){const r={u_matrix:t.transform,u_inv_matrix:t.invTransform,u_camera_to_center_distance:(x=c).getCameraToCenterDistance(t.projection),u_viewport_size:[x.width,x.height]};f.draw(e,l.TRIANGLES,gx.disabled,xx.disabled,e.colorModeForRenderPass(),Ex.disabled,r,i.id,y,g,dl.simpleSegment(0,2*t.circleOffset,t.circleArray.length,t.circleArray.length/2),null,c.zoom);}var x;y.destroy(),g.destroy();}const BM=xu.create();function FM({width:e,height:t,anchor:i,textOffset:r,textScale:n},o){const{horizontalAlign:s,verticalAlign:a}=L_(i),l=-(s-.5)*e,c=-(a-.5)*t,h=ug(i,r);return new y((l/n+h[0])*o,(c/n+h[1])*o)}function NM(e,t,i,r,n,o,s,a,l,c,h){const u=e.text.placedSymbolArray,d=e.text.dynamicLayoutVertexArray,p=e.icon.dynamicLayoutVertexArray,f={},m=e.getProjection(),_=GT(a,m,o),g=o.elevation,y=m.upVectorScale(a.canonical,o.center.lat,o.worldSize).metersToTile;d.clear();for(let p=0;p<u.length;p++){const x=u.get(p),{tileAnchorX:v,tileAnchorY:b,numGlyphs:w}=x,T=x.hidden||!x.crossTileID||e.allowVerticalPlacement&&!x.placedOrientation?null:r[x.crossTileID];if(T){let r=0,u=0,p=0;if(g){const e=g?g.getAtTileOffset(a,v,b):0,[t,i,n]=m.upVector(a.canonical,v,b);r=e*t*y,u=e*i*y,p=e*n*y;}let[E,M,A,S]=tv(x.projectedAnchorX+r,x.projectedAnchorY+u,x.projectedAnchorZ+p,i?_:s);const I=iv(o.getCameraToCenterDistance(m),S);let C=n.evaluateSizeForFeature(e.textSizeData,c,x)*I/r_;i&&(C*=e.tilePixelRatio/l);const z=FM(T,C);i?(({x:E,y:M,z:A}=m.projectTilePoint(v+z.x,b+z.y,a.canonical)),[E,M,A]=tv(E+r,M+u,A+p,s)):(t&&z._rotate(-o.angle),E+=z.x,M+=z.y,A=0);const D=e.allowVerticalPlacement&&x.placedOrientation===w_.vertical?Math.PI/2:0;for(let e=0;e<w;e++)ny(d,E,M,A,D);h&&x.associatedIconIndex>=0&&(f[x.associatedIconIndex]={x:E,y:M,z:A,angle:D});}else uv(w,d);}if(h){p.clear();const t=e.icon.placedSymbolArray;for(let e=0;e<t.length;e++){const i=t.get(e),{numGlyphs:r}=i,n=f[e];if(i.hidden||!n)uv(r,p);else {const{x:e,y:t,z:i,angle:o}=n;for(let n=0;n<r;n++)ny(p,e,t,i,o);}}e.icon.dynamicLayoutVertexBuffer.updateData(p);}e.text.dynamicLayoutVertexBuffer.updateData(d);}function UM(e,t,i){return i.iconsInText&&t?\"symbolTextAndIcon\":e?\"symbolSDF\":\"symbolIcon\"}function VM(e,t,i,r,n,o,s,a,l,c,h,u){const d=e.context,p=d.gl,f=e.transform,m=\"map\"===a,_=\"map\"===l,g=m&&\"point\"!==i.layout.get(\"symbol-placement\"),y=m&&!_&&!g,x=void 0!==i.layout.get(\"symbol-sort-key\").constantOr(1);let v=!1;const b=e.depthModeForSublayer(0,gx.ReadOnly),w=[Gd(f.center.lng),qd(f.center.lat)],T=i.layout.get(\"text-variable-anchor\"),E=\"globe\"===f.projection.name,M=[],A=[0,-1,0];let S=A;!E&&!f.mercatorFromTransition||m||(S=function(e){const t=e._camera.getWorldToCamera(e.worldSize,1),i=xu.multiply([],t,e.globeMatrix);xu.invert(i,i);const r=[0,0,0],n=[0,1,0,0];return uu.transformMat4(n,n,i),r[0]=n[0],r[1]=n[1],r[2]=n[2],Mu.normalize(r,r),r}(f));for(const a of r){const r=t.getTile(a),l=r.getBucket(i);if(!l)continue;if(\"mercator\"===l.projection.name&&E)continue;const h=n?l.text:l.icon;if(!h||l.fullyClipped||!h.segments.get().length)continue;const u=h.programConfigurations.get(i.id),d=n||l.sdfIcons,b=n?l.textSizeData:l.iconSizeData,I=_||0!==f.pitch,C=a_(b,f.zoom);let z,D,P,R,L=[0,0],k=null;if(n)D=r.glyphAtlasTexture,P=p.LINEAR,z=r.glyphAtlasTexture.size,l.iconsInText&&(L=r.imageAtlasTexture.size,k=r.imageAtlasTexture,R=I||e.options.rotating||e.options.zooming||\"composite\"===b.kind||\"camera\"===b.kind?p.LINEAR:p.NEAREST);else {const t=1!==i.layout.get(\"icon-size\").constantOr(0)||l.iconsNeedLinear;D=r.imageAtlasTexture,P=d||e.options.rotating||e.options.zooming||t||I?p.LINEAR:p.NEAREST,z=r.imageAtlasTexture.size;}const O=\"globe\"===l.projection.name,B=O?S:A,F=O?Ed(f.zoom):0,N=GT(a,l.getProjection(),f),U=f.calculatePixelsToTileUnitsMatrix(r),V=Jx(N,r.tileID.canonical,_,m,f,l.getProjection(),U),j=e.terrain&&_&&g?xu.invert(xu.create(),V):BM,G=ev(N,r.tileID.canonical,_,m,f,l.getProjection(),U),q=T&&l.hasTextData(),Z=l.hasIconTextFit()&&q&&l.hasIconData();if(g){const t=f.elevation,i=t?t.getAtTileOffsetFunc(a,f.center.lat,f.worldSize,l.getProjection()):null,o=Qx(N,r.tileID.canonical,_,m,f,l.getProjection(),U);nv(l,N,e,n,o,G,_,c,i,a);}const $=g||n&&T||Z,H=e.translatePosMatrix(N,r,o,s),W=$?BM:V,X=e.translatePosMatrix(G,r,o,s,!0),Y=l.getProjection().createInversionMatrix(f,a.canonical),K=i.paint.get(\"icon-image-cross-fade\").constantOr(0),J=[];e.terrainRenderModeElevated()&&_&&J.push(\"PITCH_WITH_MAP_TERRAIN\"),O&&(J.push(\"PROJECTION_GLOBE_VIEW\"),$&&J.push(\"PROJECTED_POS_ON_VIEWPORT\")),K>0&&J.push(\"ICON_TRANSITION\"),h.zOffsetVertexBuffer&&J.push(\"Z_OFFSET\");const Q=d&&0!==i.paint.get(n?\"text-halo-width\":\"icon-halo-width\").constantOr(1);let ee;ee=d?l.iconsInText?SM(b.kind,C,y,_,e,H,W,X,z,L,a,F,w,Y,B,l.getProjection()):AM(b.kind,C,y,_,e,H,W,X,n,z,!0,a,F,w,Y,B,l.getProjection()):MM(b.kind,C,y,_,e,H,W,X,n,z,a,F,w,Y,B,l.getProjection(),K);const te={program:e.getOrCreateProgram(UM(d,n,l),{config:u,defines:J}),buffers:h,uniformValues:ee,atlasTexture:D,atlasTextureIcon:k,atlasInterpolation:P,atlasInterpolationIcon:R,isSDF:d,hasHalo:Q,tile:r,labelPlaneMatrixInv:j};if(x&&l.canOverlap){v=!0;const e=h.segments.get();for(const t of e)M.push({segments:new dl([t]),sortKey:t.sortKey,state:te});}else M.push({segments:h.segments,sortKey:0,state:te});}v&&M.sort(((e,t)=>e.sortKey-t.sortKey));for(const t of M){const r=t.state;if(e.terrain&&e.terrain.setupElevationDraw(r.tile,r.program,{useDepthForOcclusion:f.depthOcclusionForSymbolsAndCircles,labelPlaneMatrixInv:r.labelPlaneMatrixInv}),d.activeTexture.set(p.TEXTURE0),r.atlasTexture.bind(r.atlasInterpolation,p.CLAMP_TO_EDGE),r.atlasTextureIcon&&(d.activeTexture.set(p.TEXTURE1),r.atlasTextureIcon&&r.atlasTextureIcon.bind(r.atlasInterpolationIcon,p.CLAMP_TO_EDGE)),e.uploadCommonLightUniforms(e.context,r.program),r.hasHalo){const n=r.uniformValues;n.u_is_halo=1,jM(r.buffers,t.segments,i,e,r.program,b,h,u,n,2),n.u_is_halo=0;}else {if(r.isSDF){const n=r.uniformValues;r.hasHalo&&(n.u_is_halo=1,jM(r.buffers,t.segments,i,e,r.program,b,h,u,n,1)),n.u_is_halo=0;}jM(r.buffers,t.segments,i,e,r.program,b,h,u,r.uniformValues,1);}}}function jM(e,t,i,r,n,o,s,a,l,c){const h=[e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer,e.iconTransitioningVertexBuffer,e.globeExtVertexBuffer,e.zOffsetVertexBuffer];n.draw(r,r.context.gl.TRIANGLES,o,s,a,Ex.disabled,l,i.id,e.layoutVertexBuffer,e.indexBuffer,t,i.paint,r.transform.zoom,e.programConfigurations.get(i.id),h,c);}function GM(e,t,i,r,n,o,s){const a=e.context.gl,l=i.paint.get(\"fill-pattern\"),c=l&&l.constantOr(1);let h,u,d,p,f;s?(u=c&&!i.getPaintProperty(\"fill-outline-color\")?\"fillOutlinePattern\":\"fillOutline\",h=a.LINES):(u=c?\"fillPattern\":\"fill\",h=a.TRIANGLES);for(const m of r){const r=t.getTile(m);if(c&&!r.patternsLoaded())continue;const _=r.getBucket(i);if(!_)continue;e.prepareDrawTile();const g=_.programConfigurations.get(i.id),y=e.isTileAffectedByFog(m),x=e.getOrCreateProgram(u,{config:g,overrideFog:y});c&&(e.context.activeTexture.set(a.TEXTURE0),r.imageAtlasTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE),g.updatePaintBuffers());const v=l.constantOr(null);if(v&&r.imageAtlas){const e=r.imageAtlas.patternPositions[v.toString()];e&&g.setConstantPatternPositions(e);}const b=e.translatePosMatrix(m.projMatrix,r,i.paint.get(\"fill-translate\"),i.paint.get(\"fill-translate-anchor\")),w=i.paint.get(\"fill-emissive-strength\");if(s){p=_.indexBuffer2,f=_.segments2;const t=e.terrain&&e.terrain.renderingToTexture?e.terrain.drapeBufferSize:[a.drawingBufferWidth,a.drawingBufferHeight];d=\"fillOutlinePattern\"===u&&c?_M(b,w,e,r,t):mM(b,w,t);}else p=_.indexBuffer,f=_.segments,d=c?fM(b,w,e,r):pM(b,w);e.uploadCommonUniforms(e.context,x,m.toUnwrapped()),x.draw(e,h,n,e.stencilModeForClipping(m),o,Ex.disabled,d,i.id,_.layoutVertexBuffer,p,f,i.paint,e.transform.zoom,g,void 0);}}function qM(e,t,i,r,n,o,s,a){const l=e.context,c=l.gl,h=e.transform,u=i.paint.get(\"fill-extrusion-pattern\"),d=u.constantOr(1),p=i.paint.get(\"fill-extrusion-opacity\"),f=e.style.enable3dLights(),m=i.paint.get(f&&!d?\"fill-extrusion-ambient-occlusion-wall-radius\":\"fill-extrusion-ambient-occlusion-radius\"),_=[i.paint.get(\"fill-extrusion-ambient-occlusion-intensity\"),m],g=i.layout.get(\"fill-extrusion-edge-radius\"),y=g>0&&!i.paint.get(\"fill-extrusion-rounded-roof\"),x=y?0:g,v=\"globe\"===h.projection.name?vb():0,b=\"globe\"===h.projection.name,w=b?Ed(h.zoom):0,T=[Gd(h.center.lng),qd(h.center.lat)],E=i.paint.get(\"fill-extrusion-flood-light-color\").toArray01().slice(0,3),M=i.paint.get(\"fill-extrusion-flood-light-intensity\"),A=i.paint.get(\"fill-extrusion-vertical-scale\"),S=$E(e,i.paint.get(\"fill-extrusion-cutoff-fade-range\")),I=[];let C;b&&I.push(\"PROJECTION_GLOBE_VIEW\"),_[0]>0&&I.push(\"FAUX_AO\"),y&&I.push(\"ZERO_ROOF_RADIUS\"),a&&I.push(\"HAS_CENTROID\"),M>0&&I.push(\"FLOOD_LIGHT\"),S.shouldRenderCutoff&&I.push(\"RENDER_CUTOFF\");const z=\"shadow\"===e.renderPass,D=e.shadowRenderer,P=z&&!!D;e.shadowRenderer&&(e.shadowRenderer.useNormalOffset=!0);let R=[0,0,0];if(D){const t=e.style.directionalLight,i=e.style.ambientLight;t&&i&&(R=BA(t,i)),C=I.concat([\"SHADOWS_SINGLE_CASCADE\"]);}const L=P?\"fillExtrusionDepth\":d?\"fillExtrusionPattern\":\"fillExtrusion\";for(const f of r){const r=t.getTile(f),m=r.getBucket(i);if(!m||m.projection.name!==h.projection.name)continue;let g=!1;D&&(g=0===D.getMaxCascadeForTile(f.toUnwrapped()));const y=e.isTileAffectedByFog(f),P=m.programConfigurations.get(i.id),k=e.getOrCreateProgram(L,{config:P,defines:g?C:I,overrideFog:y});if(e.terrain){const t=e.terrain;e.style.terrainSetForDrapingOnly(),t.setupElevationDraw(r,k,{useMeterToDem:!0});}if(!m.centroidVertexBuffer){const e=k.attributes.a_centroid_pos;void 0!==e&&c.vertexAttrib2f(e,0,0);}!z&&D&&D.setupShadows(r.tileID.toUnwrapped(),k,\"vector-tile\",r.tileID.overscaledZ),d&&(e.context.activeTexture.set(c.TEXTURE0),r.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),P.updatePaintBuffers());const O=u.constantOr(null);if(O&&r.imageAtlas){const e=r.imageAtlas.patternPositions[O.toString()];e&&P.setConstantPatternPositions(e);}const B=i.paint.get(\"fill-extrusion-vertical-gradient\");let F;if(z&&D){if(YM(r.tileID,m,e))continue;const t=D.calculateShadowPassMatrixFromTile(r.tileID.toUnwrapped());F=uM(t,x,A);}else {const t=e.translatePosMatrix(f.projMatrix,r,i.paint.get(\"fill-extrusion-translate\"),i.paint.get(\"fill-extrusion-translate-anchor\")),n=h.projection.createInversionMatrix(h,f.canonical);F=d?dM(t,e,B,p,_,x,f,r,v,w,T,n,E,A):hM(t,e,B,p,_,x,f,v,w,T,n,E,A,M,R);}e.uploadCommonUniforms(l,k,f.toUnwrapped(),null,S);const N=[];(e.terrain||a)&&N.push(m.centroidVertexBuffer),b&&N.push(m.layoutVertexExtBuffer),k.draw(e,l.gl.TRIANGLES,n,o,s,Ex.backCCW,F,i.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,i.paint,e.transform.zoom,P,N);}e.shadowRenderer&&(e.shadowRenderer.useNormalOffset=!1);}function ZM(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_,g,y){const x=e.context,v=x.gl,b=e.transform,w=e.transform.zoom,T=[],E=$E(e,i.paint.get(\"fill-extrusion-cutoff-fade-range\"));\"clear\"===c?(T.push(\"CLEAR_SUBPASS\"),y&&(T.push(\"CLEAR_FROM_TEXTURE\"),x.activeTexture.set(v.TEXTURE0),y.bind(v.LINEAR,v.CLAMP_TO_EDGE))):\"sdf\"===c&&T.push(\"SDF_SUBPASS\"),_&&T.push(\"HAS_CENTROID\"),E.shouldRenderCutoff&&T.push(\"RENDER_CUTOFF\");const M=i.layout.get(\"fill-extrusion-edge-radius\"),A=(t,r,c,g,v)=>{const b=r.programConfigurations.get(i.id),A=e.isTileAffectedByFog(t),S=e.getOrCreateProgram(\"fillExtrusionGroundEffect\",{config:b,defines:T,overrideFog:A}),I=((e,t,i,r,n,o,s,a,l,c,h)=>({u_matrix:t,u_opacity:i,u_ao_pass:r?1:0,u_meter_to_tile:n,u_ao:o,u_flood_light_intensity:s,u_flood_light_color:a,u_attenuation:l,u_edge_radius:c,u_fb:0,u_fb_size:h}))(0,g,h,l,v,[u,d*v],p,f,m,w>=17?0:M*v,y?y.size[0]:0),C=[];_&&C.push(r.hiddenByLandmarkVertexBuffer),e.uploadCommonUniforms(x,S,t.toUnwrapped(),null,E),S.draw(e,x.gl.TRIANGLES,n,o,s,a,I,i.id,r.vertexBuffer,r.indexBuffer,c,i.paint,w,b,C);};for(const n of r){const r=t.getTile(n),o=r.getBucket(i);if(!o||o.projection.name!==b.projection.name||!o.groundEffect||o.groundEffect&&!o.groundEffect.hasData())continue;const s=o.groundEffect,a=1/o.tileToMeter;{const t=e.translatePosMatrix(n.projMatrix,r,i.paint.get(\"fill-extrusion-translate\"),i.paint.get(\"fill-extrusion-translate-anchor\")),o=s.getDefaultSegment();A(n,s,o,t,a);}if(g)for(let o=0;o<4;o++){const s=Nu[o](n),l=t.getTile(s);if(!l)continue;const c=l.getBucket(i);if(!c||c.projection.name!==b.projection.name||!c.groundEffect||c.groundEffect&&!c.groundEffect.hasData())continue;const h=c.groundEffect;let u,d;0===o?(u=[-sr,0,0],d=1):1===o?(u=[sr,0,0],d=0):2===o?(u=[0,-sr,0],d=3):(u=[0,sr,0],d=2);const p=h.regionSegments[d];if(!p)continue;const f=new Float32Array(16);xu.translate(f,n.projMatrix,u),A(n,h,p,e.translatePosMatrix(f,r,i.paint.get(\"fill-extrusion-translate\"),i.paint.get(\"fill-extrusion-translate-anchor\")),a);}}}function $M(e,t,i,r,n,o,s){0===r.centroidVertexArray.length&&r.createCentroidsBuffer();const a=o?o.findDEMTileFor(i):null;if(!(a&&a.dem||s))return;const l=e=>{const i=t.getSource().minzoom,r=e=>{const i=t.getTileByID(e);if(i&&i.hasData())return i.getBucket(n)},o=[0,-1,1];for(const t of o){if(e.overscaledZ+t<i)continue;const n=r(e.calculateScaledKey(e.overscaledZ+t));if(n)return n}},c=[0,0,0],h=(e,t)=>(c[0]=Math.min(e.min.y,t.min.y),c[1]=Math.max(e.max.y,t.max.y),c[2]=sr-t.min.x>e.max.x?t.min.x-sr:e.max.x,c),u=(e,t)=>(c[0]=Math.min(e.min.x,t.min.x),c[1]=Math.max(e.max.x,t.max.x),c[2]=sr-t.min.y>e.max.y?t.min.y-sr:e.max.y,c),d=[(e,t)=>h(e,t),(e,t)=>h(t,e),(e,t)=>u(e,t),(e,t)=>u(t,e)],p=(e,t,r,n,s,l,c)=>{if(!o)return 0;const h=[[l?r:e,l?e:r,0],[l?r:t,l?t:r,0]],u=c<0?sr+c:c,d=[l?u:(e+t)/2,l?(e+t)/2:u,0];return 0===r&&c<0||0!==r&&c>0?o.getForTilePoints(s,[d],!0,n):h.push(d),o.getForTilePoints(i,h,!0,a),Math.max(h[0][2],h[1][2],d[2])/o.exaggeration()};for(let e=0;e<4;e++){const t=r.borderFeatureIndices[e];if(0===t.length)continue;const n=Nu[e](i),a=l(n);if(!(a&&a instanceof db))continue;if(r.borderDoneWithNeighborZ[e]===a.canonical.z)continue;0===a.centroidVertexArray.length&&a.createCentroidsBuffer();const c=o?o.findDEMTileFor(n):null;if(!(c&&c.dem||s))continue;const h=(e<2?1:5)-e,u=a.borderDoneWithNeighborZ[h]!==r.canonical.z,g=a.borderFeatureIndices[h];let x=0;if(r.canonical.z!==a.canonical.z){for(const e of t)r.showCentroid(r.featuresOnBorder[e]);if(u)for(const e of g)a.showCentroid(a.featuresOnBorder[e]);r.borderDoneWithNeighborZ[e]=a.canonical.z,a.borderDoneWithNeighborZ[h]=r.canonical.z;}for(const i of t){const t=r.featuresOnBorder[i],o=r.centroidData[t.centroidDataIndex],l=t.borders[e];let u;for(;x<g.length;){u=a.featuresOnBorder[g[x]];const e=u.borders[h];if(e[1]>l[0]+3||e[0]>l[0]-3)break;a.showCentroid(u),x++;}if(u&&x<g.length){const i=x;let v=0;for(;!(u.borders[h][0]>l[1]-3)&&(v++,++x!==g.length);)u=a.featuresOnBorder[g[x]];if(u=a.featuresOnBorder[g[i]],v>1){const e=u.borders[h];Math.abs(l[0]-e[0])<3&&Math.abs(l[1]-e[1])<3&&(v=1,x=i+1);}else if(0===v){r.showCentroid(t);continue}const b=a.centroidData[u.centroidDataIndex];s&&1===v&&(((m=o).flags|(_=b).flags)&tb?(m.flags|=tb,_.flags|=tb):(m.flags&=2147483647,_.flags&=2147483647));let w=new y(0,0);if(v>1)x=i;else if(c&&c.dem&&!(t.intersectsCount()>1||u.intersectsCount()>1)){const t=d[e](o,b),i=e%2?sr-1:0;f=p(t[0],Math.min(sr-1,t[1]),i,c,n,e<2,t[2]),w=new y(Math.ceil(7*(f+450)),0);}o.centroidXY=b.centroidXY=w,r.writeCentroidToBuffer(o),a.writeCentroidToBuffer(b);}else r.showCentroid(t);}r.borderDoneWithNeighborZ[e]=a.canonical.z,a.borderDoneWithNeighborZ[h]=r.canonical.z;}var f,m,_;(r.needsCentroidUpdate||!r.centroidVertexBuffer&&0!==r.centroidVertexArray.length)&&r.uploadCentroid(e);}const HM=[1,0,0],WM=[0,1,0],XM=[0,0,1];function YM(e,t,i){const r=i.transform,n=i.shadowRenderer;if(!n)return !0;const o=e.toUnwrapped(),s=r.tileSize*n._cascades[i.currentShadowCascade].scale;let a=t.maxHeight;if(r.elevation){const t=r.elevation.getMinMaxForTile(e);t&&(a+=t.max);}const l=[...n.shadowDirection];l[2]=-l[2];const c=n.computeSimplifiedTileShadowVolume(o,a,s,l);if(!c)return !1;const h=[HM,WM,XM,l,[l[0],0,l[2]],[0,l[1],l[2]]],u=\"globe\"===r.projection.name,d=r.scaleZoom(s),p=$u.fromInvProjectionMatrix(r.invProjMatrix,r.worldSize,d,!u),f=n.getCurrentCascadeFrustum();return 0===p.intersectsPrecise(c.vertices,c.planes,h)||0===f.intersectsPrecise(c.vertices,c.planes,h)}const KM=new li(1,0,0,1),JM=new li(0,1,0,1),QM=new li(0,0,1,1),eA=new li(1,0,1,1),tA=new li(0,1,1,1);function iA(e,t,i){const r=e.context,n=e.transform,o=r.gl,s=\"globe\"===n.projection.name,a=s?[\"PROJECTION_GLOBE_VIEW\"]:[];let l=i.projMatrix;if(s&&Ed(n.zoom)>0){const e=vd(cd(i.canonical,n));l=xu.multiply(new Float32Array(16),n.globeMatrix,e),xu.multiply(l,n.projMatrix,l);}const c=e.getOrCreateProgram(\"debug\",{defines:a}),h=t.getTileByID(i.key);e.terrain&&e.terrain.setupElevationDraw(h,c);const u=gx.disabled,d=xx.disabled,p=e.colorModeForRenderPass(),f=\"$debug\";r.activeTexture.set(o.TEXTURE0),e.emptyTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE),s?h._makeGlobeTileDebugBuffers(e.context,n):h._makeDebugTileBoundsBuffers(e.context,n.projection);const m=h._tileDebugBuffer||e.debugBuffer,_=h._tileDebugIndexBuffer||e.debugIndexBuffer,g=h._tileDebugSegments||e.debugSegments;c.draw(e,o.LINE_STRIP,u,d,p,Ex.disabled,yM(l,li.red),f,m,_,g,null,null,null,[h._globeTileDebugBorderBuffer]);const y=h.latestRawTileData,x=Math.floor((y&&y.byteLength||0)/1024),v=t.getTile(i).tileSize,b=512/Math.min(v,512)*(i.overscaledZ/n.zoom)*.5;let w=i.canonical.toString();i.overscaledZ!==i.canonical.z&&(w+=` => ${i.overscaledZ}`),w+=` ${x}kb`,function(e,t){e.initDebugOverlayCanvas();const i=e.debugOverlayCanvas,r=e.context.gl,n=e.debugOverlayCanvas.getContext(\"2d\");n.clearRect(0,0,i.width,i.height),n.shadowColor=\"white\",n.shadowBlur=2,n.lineWidth=1.5,n.strokeStyle=\"white\",n.textBaseline=\"top\",n.font=\"bold 36px Open Sans, sans-serif\",n.fillText(t,5,5),n.strokeText(t,5,5),e.debugOverlayTexture.update(i),e.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE);}(e,w);const T=h._tileDebugTextBuffer||e.debugBuffer,E=h._tileDebugTextIndexBuffer||e.quadTriangleIndexBuffer,M=h._tileDebugTextSegments||e.debugSegments;c.draw(e,o.TRIANGLES,u,d,bx.alphaBlended,Ex.disabled,yM(l,li.transparent,b),f,T,E,M,null,null,null,[h._globeTileDebugTextBuffer]);}function rA(e,t,i,r){oA(e,0,t+i/2,e.transform.width,i,r);}function nA(e,t,i,r){oA(e,t-i/2,0,i,e.transform.height,r);}function oA(e,t,i,r,n,o){const s=e.context,a=s.gl;a.enable(a.SCISSOR_TEST),a.scissor(t*ht.devicePixelRatio,i*ht.devicePixelRatio,r*ht.devicePixelRatio,n*ht.devicePixelRatio),s.clear({color:o}),a.disable(a.SCISSOR_TEST);}const sA=ba([{name:\"a_pos_3f\",components:3,type:\"Float32\"}]),{members:aA}=sA;function lA(e,t,i,r){e.emplaceBack(t,i,r);}class cA{constructor(e){this.vertexArray=new Ua,this.indices=new Va,lA(this.vertexArray,-1,-1,1),lA(this.vertexArray,1,-1,1),lA(this.vertexArray,-1,1,1),lA(this.vertexArray,1,1,1),lA(this.vertexArray,-1,-1,-1),lA(this.vertexArray,1,-1,-1),lA(this.vertexArray,-1,1,-1),lA(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=e.createVertexBuffer(this.vertexArray,aA),this.indexBuffer=e.createIndexBuffer(this.indices),this.segment=dl.simpleSegment(0,0,36,12);}}function hA(e,t,i,r,n,o){const s=e.context.gl,a=t.paint.get(\"sky-atmosphere-color\"),l=t.paint.get(\"sky-atmosphere-halo-color\"),c=t.paint.get(\"sky-atmosphere-sun-intensity\"),h=((e,t,i,r,n)=>({u_matrix_3f:e,u_sun_direction:t,u_sun_intensity:i,u_color_tint_r:[r.r,r.g,r.b,r.a],u_color_tint_m:[n.r,n.g,n.b,n.a],u_luminance:5e-5}))(gu.fromMat4(gu.create(),r),n,c,a,l);s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+o,t.skyboxTexture,0),i.draw(e,s.TRIANGLES,gx.disabled,xx.disabled,bx.unblended,Ex.frontCW,h,\"skyboxCapture\",t.skyboxGeometry.vertexBuffer,t.skyboxGeometry.indexBuffer,t.skyboxGeometry.segment);}const uA=ba([{type:\"Float32\",name:\"a_pos\",components:3},{type:\"Float32\",name:\"a_uv\",components:2}]);class dA{constructor(e){const t=new Za;t.emplaceBack(-1,1,1,0,0),t.emplaceBack(1,1,1,1,0),t.emplaceBack(1,-1,1,1,1),t.emplaceBack(-1,-1,1,0,1);const i=new Va;i.emplaceBack(0,1,2),i.emplaceBack(2,3,0),this.vertexBuffer=e.createVertexBuffer(t,uA.members),this.indexBuffer=e.createIndexBuffer(i),this.segments=dl.simpleSegment(0,0,4,2);}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy();}}const pA=ba([{type:\"Float32\",name:\"a_pos_3f\",components:3},{type:\"Float32\",name:\"a_uv\",components:2},{type:\"Float32\",name:\"a_size_scale\",components:1},{type:\"Float32\",name:\"a_fade_opacity\",components:1}]);class fA{constructor(){this.colorModeAlphaBlendedWriteRGB=new bx([1,vx,1,vx],li.transparent,[!0,!0,!0,!1]),this.colorModeWriteAlpha=new bx([1,0,1,0],li.transparent,[!1,!1,!1,!0]);}update(e){const t=e.context;if(!this.atmosphereBuffer){this.atmosphereBuffer=new dA(t);const e=100,i=200,r=function(e){const t=$n(30),i=[];for(let e=0;e<16e3;++e){const e=2*Math.PI*t(),r=Math.acos(1-2*t())-.5*Math.PI;i.push(Mu.fromValues(Math.cos(r)*Math.cos(e),Math.cos(r)*Math.sin(e),Math.sin(r)));}return i}(),n=$n(300),o=new $a,s=new Va;let a=0;for(let t=0;t<r.length;++t){const l=Mu.scale([],r[t],200),c=Math.max(0,1+.01*e*(1*n()-.5)),h=Math.max(0,1+.01*i*(1*n()-.5));o.emplaceBack(l[0],l[1],l[2],-1,-1,c,h),o.emplaceBack(l[0],l[1],l[2],1,-1,c,h),o.emplaceBack(l[0],l[1],l[2],1,1,c,h),o.emplaceBack(l[0],l[1],l[2],-1,1,c,h),s.emplaceBack(a+0,a+1,a+2),s.emplaceBack(a+0,a+2,a+3),a+=4;}this.starsVx=t.createVertexBuffer(o,pA.members),this.starsIdx=t.createIndexBuffer(s),this.starsSegments=dl.simpleSegment(0,0,o.length,s.length);}}destroy(){this.atmosphereBuffer&&this.atmosphereBuffer.destroy(),this.starsVx&&this.starsVx.destroy(),this.starsIdx&&this.starsIdx.destroy();}drawAtmosphereGlow(e,t){const i=e.context,r=i.gl,n=e.transform,o=new gx(r.LEQUAL,gx.ReadOnly,[0,1]),s=Ed(n.zoom),a=t.properties.get(\"color\").toArray01(),l=t.properties.get(\"high-color\").toArray01(),c=t.properties.get(\"space-color\").toArray01PremultipliedAlpha(),h=5e-4,u=z((t.properties.get(\"horizon-blend\")-0)/1*.2495+h,5e-4,.25),d=Ad(e,i,n)&&u===h?n.worldSize/(2*Math.PI*1.025)-1:n.globeRadius,p=e.frameCounter/1e3%1,f=Mu.length(n.globeCenterInViewSpace),m=Math.sqrt(Math.pow(f,2)-Math.pow(d,2)),_=Math.acos(m/f),g=t=>{const h=\"globe\"===n.projection.name?[\"PROJECTION_GLOBE_VIEW\",\"FOG\"]:[\"FOG\"];t&&h.push(\"ALPHA_PASS\");const d=e.getOrCreateProgram(\"globeAtmosphere\",{defines:h}),f=((e,t,i,r,n,o,s,a,l,c,h,u)=>({u_frustum_tl:e,u_frustum_tr:t,u_frustum_br:i,u_frustum_bl:r,u_horizon:n,u_transition:o,u_fadeout_range:s,u_color:a,u_high_color:l,u_space_color:c,u_temporal_offset:h,u_horizon_angle:u}))(n.frustumCorners.TL,n.frustumCorners.TR,n.frustumCorners.BR,n.frustumCorners.BL,n.frustumCorners.horizon,s,u,a,l,c,p,_);e.uploadCommonUniforms(i,d);const m=this.atmosphereBuffer;m&&d.draw(e,r.TRIANGLES,o,xx.disabled,t?this.colorModeWriteAlpha:this.colorModeAlphaBlendedWriteRGB,Ex.backCW,f,t?\"atmosphere_glow_alpha\":\"atmosphere_glow\",m.vertexBuffer,m.indexBuffer,m.segments);};g(!1),g(!0);}drawStars(e,t){const i=z(t.properties.get(\"star-intensity\"),0,1);if(0===i)return;const r=e.context,n=r.gl,o=e.transform,s=e.getOrCreateProgram(\"stars\"),a=bu.identity([]);bu.rotateX(a,a,-o._pitch),bu.rotateZ(a,a,-o.angle),bu.rotateX(a,a,w(o._center.lat)),bu.rotateY(a,a,-w(o._center.lng));const l=xu.fromQuat(new Float32Array(16),a),c=xu.multiply([],o.starsProjMatrix,l),h=gu.fromMat4([],l),u=gu.invert([],h),d=[0,1,0];Mu.transformMat3(d,d,u),Mu.scale(d,d,.15);const p=[1,0,0];Mu.transformMat3(p,p,u),Mu.scale(p,p,.15);const f=((e,t,i,r)=>({u_matrix:Float32Array.from(e),u_up:t,u_right:i,u_intensity_multiplier:r}))(c,d,p,i);e.uploadCommonUniforms(r,s),this.starsVx&&this.starsIdx&&s.draw(e,n.TRIANGLES,gx.disabled,xx.disabled,this.colorModeAlphaBlendedWriteRGB,Ex.disabled,f,\"atmosphere_stars\",this.starsVx,this.starsIdx,this.starsSegments);}}function mA(e,t){const i=[...e],r=t.cameraWorldSizeForFog/t.worldSize,n=xu.identity([]);return xu.scale(n,n,[r,r,1]),xu.multiply(i,n,i),xu.multiply(i,t.worldToFogMatrix,i),i}function _A(e,t,i,r){const n=i.material,o=r.context,{baseColorTexture:s,metallicRoughnessTexture:a}=n.pbrMetallicRoughness,{normalTexture:l,occlusionTexture:c,emissionTexture:h}=n;function u(t,i,r){if(t&&(e.push(i),o.activeTexture.set(o.gl.TEXTURE0+r),t.gfxTexture)){const{minFilter:e,magFilter:i,wrapS:r,wrapT:n}=t.sampler;t.gfxTexture.bindExtraParam(e,i,r,n);}}u(s,\"HAS_TEXTURE_u_baseColorTexture\",zM.BaseColor),u(a,\"HAS_TEXTURE_u_metallicRoughnessTexture\",zM.MetallicRoughness),u(l,\"HAS_TEXTURE_u_normalTexture\",zM.Normal),u(c,\"HAS_TEXTURE_u_occlusionTexture\",zM.Occlusion),u(h,\"HAS_TEXTURE_u_emissionTexture\",zM.Emission),i.texcoordBuffer&&(e.push(\"HAS_ATTRIBUTE_a_uv_2f\"),t.push(i.texcoordBuffer)),i.colorBuffer&&(e.push(12===i.colorBuffer.itemSize?\"HAS_ATTRIBUTE_a_color_3f\":\"HAS_ATTRIBUTE_a_color_4f\"),t.push(i.colorBuffer)),i.normalBuffer&&(e.push(\"HAS_ATTRIBUTE_a_normal_3f\"),t.push(i.normalBuffer)),i.pbrBuffer&&(e.push(\"HAS_ATTRIBUTE_a_pbr\"),e.push(\"HAS_ATTRIBUTE_a_heightBasedEmissiveStrength\"),t.push(i.pbrBuffer)),\"OPAQUE\"!==n.alphaMode&&\"MASK\"!==n.alphaMode||e.push(\"UNPREMULT_TEXTURE_IN_SHADER\"),n.defined||e.push(\"DIFFUSE_SHADED\"),e.push(\"USE_STANDARD_DERIVATIVES\");}function gA(e,t,i,r,n,o){const s=i.paint.get(\"model-opacity\"),a=t.context,l=new gx(t.context.gl.LEQUAL,gx.ReadWrite,t.depthRangeFor3D),c=t.transform,h=e.mesh,u=h.material,d=u.pbrMetallicRoughness,p=t.style.fog;let f;f=\"pixels\"===t.transform.projection.zAxisUnit?[...e.nodeModelMatrix]:xu.multiply([],r.zScaleMatrix,e.nodeModelMatrix),xu.multiply(f,r.negCameraPosMatrix,f);const m=xu.invert([],f);xu.transpose(m,m);const _=DM(new Float32Array(e.worldViewProjection),new Float32Array(f),new Float32Array(m),t,s,d.baseColorFactor,u.emissiveFactor,d.metallicFactor,d.roughnessFactor,u,i),g={defines:[]},y=[];_A(g.defines,y,h,t);const x=t.shadowRenderer;x&&(x.useNormalOffset=!1);let v=null;if(p){const i=mA(e.nodeModelMatrix,t.transform);if(v=new Float32Array(i),\"globe\"!==c.projection.name){const e=h.aabb.min,t=h.aabb.max,[r,n]=p.getOpacityForBounds(i,e[0],e[1],t[0],t[1]);g.overrideFog=r>=sw||n>=sw;}}const b=$E(t,i.paint.get(\"model-cutoff-fade-range\"));b.shouldRenderCutoff&&g.defines.push(\"RENDER_CUTOFF\");const w=t.getOrCreateProgram(\"model\",g);t.uploadCommonUniforms(a,w,null,v,b),\"shadow\"!==t.renderPass&&x&&x.setupShadowsFromMatrix(e.nodeModelMatrix,w),w.draw(t,a.gl.TRIANGLES,l,n,o,h.material.doubleSided?Ex.disabled:Ex.backCCW,_,i.id,h.vertexBuffer,h.indexBuffer,h.segments,i.paint,t.transform.zoom,void 0,y);}function yA(e,t,i,r,n,o,s){let a;a=\"globe\"===e.projection.name?yv(i,e):[...i],xu.multiply(a,a,t.matrix);const l=xu.multiply([],r,a);if(t.meshes)for(const e of t.meshes){if(\"BLEND\"!==e.material.alphaMode){s.push({mesh:e,depth:0,modelIndex:n,worldViewProjection:l,nodeModelMatrix:a});continue}const t=Mu.transformMat4([],e.centroid,l);t[2]>0&&o.push({mesh:e,depth:t[2],modelIndex:n,worldViewProjection:l,nodeModelMatrix:a});}if(t.children)for(const a of t.children)yA(e,a,i,r,n,o,s);}function xA(e,t,i,r){const n=i.shadowRenderer;if(!n)return;const o=n.getShadowPassDepthMode(),s=n.getShadowPassColorMode(),a=n.calculateShadowPassMatrixFromMatrix(t),l=RM(a);i.getOrCreateProgram(\"modelDepth\",{defines:[\"DEPTH_TEXTURE\"]}).draw(i,i.context.gl.TRIANGLES,o,xx.disabled,s,Ex.backCCW,l,r.id,e.vertexBuffer,e.indexBuffer,e.segments,r.paint,i.transform.zoom,void 0,void 0);}function vA(e,t,i){const r=t.updateZoomBasedPaintProperties(),n=function(e,t,i){let r,n,o,s=e.terrain?e.terrain.exaggeration():0;if(e.terrain&&s>0){const t=e.terrain,n=t.findDEMTileFor(i);n&&n.dem?r=qm.create(t,i,n):s=0;}if(0===s&&(t.terrainElevationMin=0,t.terrainElevationMax=0),s===t.validForExaggeration&&(0===s||r&&r._demTile&&r._demTile.tileID===t.validForDEMTile.id&&r._dem._timestamp===t.validForDEMTile.timestamp))return !1;for(const e in t.instancesPerModel){const i=t.instancesPerModel[e];for(let e=0;e<i.instancedDataArray.length;++e){const a=(r?s*r.getElevationAt(0|i.instancedDataArray.float32[16*e],0|i.instancedDataArray.float32[16*e+1],!0,!0):0)+i.instancesEvaluatedElevation[e];i.instancedDataArray.float32[16*e+6]=a,n=n?Math.min(t.terrainElevationMin,a):a,o=o?Math.max(t.terrainElevationMax,a):a;}}return t.terrainElevationMin=n||0,t.terrainElevationMax=o||0,t.validForExaggeration=s,t.validForDEMTile=r&&r._demTile?{id:r._demTile.tileID,timestamp:r._dem._timestamp}:{id:void 0,timestamp:0},!0}(e,t,i);(r||n)&&(t.uploaded=!1,t.upload(e.context));}const bA={shadowUniformsInitialized:!1,useSingleShadowCascade:!1,tileMatrix:new Float64Array(16),shadowTileMatrix:new Float32Array(16),aabb:new Hu([0,0,0],[sr,sr,0])};function wA(e,t){const i=1<<e.canonical.z,r=t.getFreeCameraOptions().position,n=t.elevation,o=e.canonical.x/i,s=(e.canonical.x+1)/i,a=e.canonical.y/i,l=(e.canonical.y+1)/i;let c=t._centerAltitude;if(n){const t=n.getMinMaxForTile(e);t&&t.max>c&&(c=t.max);}const h=z(r.x,o,s)-r.x,u=z(r.y,a,l)-r.y,d=Zd(c,t.center.lat)-r.z;return t._zoomFromMercatorZ(Math.sqrt(h*h+u*u+d*d))}function TA(e,t,i,r,n,o,s){const a=e.context,l=\"shadow\"===e.renderPass,c=e.shadowRenderer,h=l&&c?c.getShadowPassDepthMode():new gx(a.gl.LEQUAL,gx.ReadWrite,e.depthRangeFor3D),u=e.isTileAffectedByFog(o);if(i.meshes)for(const d of i.meshes){const p=[\"MODEL_POSITION_ON_GPU\"],f=[];let m,_,g;r.instancedDataArray.length>20&&p.push(\"INSTANCED_ARRAYS\");const y=$E(e,t.paint.get(\"model-cutoff-fade-range\"));if(y.shouldRenderCutoff&&p.push(\"RENDER_CUTOFF\"),l&&c)m=e.getOrCreateProgram(\"modelDepth\",{defines:p}),_=RM(s.shadowTileMatrix,s.shadowTileMatrix,Float32Array.from(i.matrix)),g=c.getShadowPassColorMode();else {_A(p,f,d,e),m=e.getOrCreateProgram(\"model\",{defines:p,overrideFog:u});const r=d.material,l=r.pbrMetallicRoughness,h=t.paint.get(\"model-opacity\");_=DM(o.projMatrix,Float32Array.from(i.matrix),new Float32Array(16),e,h,l.baseColorFactor,r.emissiveFactor,l.metallicFactor,l.roughnessFactor,r,t,n),c&&(s.shadowUniformsInitialized?m.setShadowUniformValues(a,c.getShadowUniformValues()):(c.setupShadows(o.toUnwrapped(),m,\"model-tile\",o.overscaledZ),s.shadowUniformsInitialized=!0)),g=y.shouldRenderCutoff||h<1||\"OPAQUE\"!==r.alphaMode?bx.alphaBlended:bx.unblended;}e.uploadCommonUniforms(a,m,o.toUnwrapped(),null,y);const x=d.material.doubleSided?Ex.disabled:Ex.backCCW;if(r.instancedDataArray.length>20)f.push(r.instancedDataBuffer),m.draw(e,a.gl.TRIANGLES,h,xx.disabled,g,x,_,t.id,d.vertexBuffer,d.indexBuffer,d.segments,t.paint,e.transform.zoom,void 0,f,r.instancedDataArray.length);else {const i=l?\"u_instance\":\"u_normal_matrix\";for(let n=0;n<r.instancedDataArray.length;++n)_[i]=new Float32Array(r.instancedDataArray.arrayBuffer,64*n,16),m.draw(e,a.gl.TRIANGLES,h,xx.disabled,g,x,_,t.id,d.vertexBuffer,d.indexBuffer,d.segments,t.paint,e.transform.zoom,void 0,f);}}if(i.children)for(const a of i.children)TA(e,t,a,r,n,o,s);}const EA=[1,-1,1];function MA(e,t,i,r){if(!i.modelManager)return !0;const n=i.modelManager;if(!i.shadowRenderer)return !0;const o=i.shadowRenderer,s=t.aabb;let a=!0,l=e.maxHeight;if(0===l){let t=0;for(const i in e.instancesPerModel){const e=n.getModel(i,r);e?t=Math.max(t,Math.max(Math.max(e.aabb.max[0],e.aabb.max[1]),e.aabb.max[2])):a=!1;}l=e.maxScale*t*1.41+e.maxVerticalOffset,a&&(e.maxHeight=l);}s.max[2]=l,s.min[2]+=e.terrainElevationMin,s.max[2]+=e.terrainElevationMax,Mu.transformMat4(s.min,s.min,t.tileMatrix),Mu.transformMat4(s.max,s.max,t.tileMatrix);const c=s.intersects(o.getCurrentCascadeFrustum());return 0===i.currentShadowCascade&&(e.isInsideFirstShadowMapFrustum=2===c),0===c}class AA{}class SA{constructor(){this._storage=new Map;}getLinesFromTrianglesBuffer(e,t,i){{const i=this._storage.get(t.id);if(i)return i.lastUsedFrameIdx=e,i.buf}const r=i.gl,n=r.getBufferParameter(r.ELEMENT_ARRAY_BUFFER,r.BUFFER_SIZE),o=new ArrayBuffer(n),s=new Int16Array(o);r.getBufferSubData(r.ELEMENT_ARRAY_BUFFER,0,new Int16Array(o));const a=new ka;for(let e=0;e<n/2;e+=3){const t=s[e],i=s[e+1],r=s[e+2];a.emplaceBack(t,i),a.emplaceBack(i,r),a.emplaceBack(r,t);}const l=i.bindVertexArrayOES.current,c=new AA;return c.buf=new zy(i,a),c.lastUsedFrameIdx=e,this._storage.set(t.id,c),i.bindVertexArrayOES.set(l),c.buf}update(e){for(const[t,i]of this._storage)e-i.lastUsedFrameIdx>30&&(i.buf.destroy(),this._storage.delete(t));}destroy(){for(const[e,t]of this._storage)t.buf.destroy(),this._storage.delete(e);}}const IA={symbol:function(e,t,i,r,n){if(\"translucent\"!==e.renderPass)return;const o=xx.disabled,s=e.colorModeForRenderPass();i.layout.get(\"text-variable-anchor\")&&function(e,t,i,r,n,o,s){const a=t.transform,l=\"map\"===n,c=\"map\"===o;for(const t of e){const e=r.getTile(t),n=e.getBucket(i);if(!n||!n.text||!n.text.segments.get().length)continue;const o=a_(n.textSizeData,a.zoom),h=GT(t,n.getProjection(),a),u=a.calculatePixelsToTileUnitsMatrix(e),d=Jx(h,e.tileID.canonical,c,l,a,n.getProjection(),u),p=n.hasIconTextFit()&&n.hasIconData();if(o){const i=Math.pow(2,a.zoom-e.tileID.overscaledZ);NM(n,l,c,s,l_,a,d,t,i,o,p);}}}(r,e,i,t,i.layout.get(\"text-rotation-alignment\"),i.layout.get(\"text-pitch-alignment\"),n),0!==i.paint.get(\"icon-opacity\").constantOr(1)&&VM(e,t,i,r,!1,i.paint.get(\"icon-translate\"),i.paint.get(\"icon-translate-anchor\"),i.layout.get(\"icon-rotation-alignment\"),i.layout.get(\"icon-pitch-alignment\"),i.layout.get(\"icon-keep-upright\"),o,s),0!==i.paint.get(\"text-opacity\").constantOr(1)&&VM(e,t,i,r,!0,i.paint.get(\"text-translate\"),i.paint.get(\"text-translate-anchor\"),i.layout.get(\"text-rotation-alignment\"),i.layout.get(\"text-pitch-alignment\"),i.layout.get(\"text-keep-upright\"),o,s),t.map.showCollisionBoxes&&(OM(e,t,i,r,i.paint.get(\"text-translate\"),i.paint.get(\"text-translate-anchor\"),!0),OM(e,t,i,r,i.paint.get(\"icon-translate\"),i.paint.get(\"icon-translate-anchor\"),!1));},circle:function(e,t,i,r){if(\"translucent\"!==e.renderPass)return;const n=i.paint.get(\"circle-opacity\"),o=i.paint.get(\"circle-stroke-width\"),s=i.paint.get(\"circle-stroke-opacity\"),a=void 0!==i.layout.get(\"circle-sort-key\").constantOr(1),l=i.paint.get(\"circle-emissive-strength\");if(0===n.constantOr(1)&&(0===o.constantOr(1)||0===s.constantOr(1)))return;const c=e.context,h=c.gl,u=e.transform,d=e.depthModeForSublayer(0,gx.ReadOnly),p=xx.disabled,f=e.colorModeForDrapableLayerRenderPass(l),m=\"globe\"===u.projection.name,_=[Gd(u.center.lng),qd(u.center.lat)],g=[];for(let n=0;n<r.length;n++){const o=r[n],s=t.getTile(o),l=s.getBucket(i);if(!l||l.projection.name!==u.projection.name)continue;const c=l.programConfigurations.get(i.id),h=kp(i),d=e.isTileAffectedByFog(o);m&&h.push(\"PROJECTION_GLOBE_VIEW\");const p=e.getOrCreateProgram(\"circle\",{config:c,defines:h,overrideFog:d}),f=l.layoutVertexBuffer,y=l.globeExtVertexBuffer,x=l.indexBuffer,v=u.projection.createInversionMatrix(u,o.canonical),b={programConfiguration:c,program:p,layoutVertexBuffer:f,globeExtVertexBuffer:y,indexBuffer:x,uniformValues:Lp(e,o,s,v,_,i),tile:s};if(a){const e=l.segments.get();for(const t of e)g.push({segments:new dl([t]),sortKey:t.sortKey,state:b});}else g.push({segments:l.segments,sortKey:0,state:b});}a&&g.sort(((e,t)=>e.sortKey-t.sortKey));const y={useDepthForOcclusion:u.depthOcclusionForSymbolsAndCircles};for(const t of g){const{programConfiguration:r,program:n,layoutVertexBuffer:o,globeExtVertexBuffer:s,indexBuffer:a,uniformValues:l,tile:m}=t.state,_=t.segments;e.terrain&&e.terrain.setupElevationDraw(m,n,y),e.uploadCommonUniforms(c,n,m.tileID.toUnwrapped()),n.draw(e,h.TRIANGLES,d,p,f,Ex.disabled,l,i.id,o,a,_,i.paint,u.zoom,r,[s]);}},heatmap:function(e,t,i,r){if(0!==i.paint.get(\"heatmap-opacity\"))if(\"offscreen\"===e.renderPass){const n=e.context,o=n.gl,s=xx.disabled,a=new bx([o.ONE,o.ONE,o.ONE,o.ONE],li.transparent,[!0,!0,!0,!0]);!function(e,t,i,r){const n=e.gl,o=t.width*r,s=t.height*r;e.activeTexture.set(n.TEXTURE1),e.viewport.set([0,0,o,s]);let a=i.heatmapFbo;if(!a||a&&(a.width!==o||a.height!==s)){a&&a.destroy();const t=n.createTexture();n.bindTexture(n.TEXTURE_2D,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),a=i.heatmapFbo=e.createFramebuffer(o,s,!0,null),function(e,t,i,r,n,o){const s=e.gl;s.texImage2D(s.TEXTURE_2D,0,e.extRenderToTextureHalfFloat?s.RGBA16F:s.RGBA,n,o,0,s.RGBA,e.extRenderToTextureHalfFloat?s.HALF_FLOAT:s.UNSIGNED_BYTE,null),r.colorAttachment.set(i);}(e,0,t,a,o,s);}else n.bindTexture(n.TEXTURE_2D,a.colorAttachment.get()),e.bindFramebuffer.set(a.framebuffer);}(n,e,i,\"globe\"===e.transform.projection.name?.5:.25),n.clear({color:li.transparent});const l=e.transform,c=\"globe\"===l.projection.name,h=c?[\"PROJECTION_GLOBE_VIEW\"]:[],u=c?Ex.frontCCW:Ex.disabled,d=[Gd(l.center.lng),qd(l.center.lat)];for(let p=0;p<r.length;p++){const f=r[p];if(t.hasRenderableParent(f))continue;const m=t.getTile(f),_=m.getBucket(i);if(!_||_.projection.name!==l.projection.name)continue;const g=e.isTileAffectedByFog(f),y=_.programConfigurations.get(i.id),x=e.getOrCreateProgram(\"heatmap\",{config:y,defines:h,overrideFog:g}),{zoom:v}=e.transform;e.terrain&&e.terrain.setupElevationDraw(m,x),e.uploadCommonUniforms(n,x,f.toUnwrapped());const b=l.projection.createInversionMatrix(l,f.canonical);x.draw(e,o.TRIANGLES,gx.disabled,s,a,u,vM(e,f,m,b,d,v,i.paint.get(\"heatmap-intensity\")),i.id,_.layoutVertexBuffer,_.indexBuffer,_.segments,i.paint,e.transform.zoom,y,c?[_.globeExtVertexBuffer]:null);}n.viewport.set([0,0,e.width,e.height]);}else \"translucent\"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,t){const i=e.context,r=i.gl,n=t.heatmapFbo;if(!n)return;i.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,n.colorAttachment.get()),i.activeTexture.set(r.TEXTURE1);let o=t.colorRampTexture;o||(o=t.colorRampTexture=new gy(i,t.colorRamp,r.RGBA)),o.bind(r.LINEAR,r.CLAMP_TO_EDGE),e.getOrCreateProgram(\"heatmapTexture\").draw(e,r.TRIANGLES,gx.disabled,xx.disabled,e.colorModeForRenderPass(),Ex.disabled,((e,t,i,r)=>({u_image:0,u_color_ramp:1,u_opacity:t.paint.get(\"heatmap-opacity\")}))(0,t),t.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,t.paint,e.transform.zoom);}(e,i));},line:function(e,t,i,r){if(\"translucent\"!==e.renderPass)return;const n=i.paint.get(\"line-opacity\"),o=i.paint.get(\"line-width\");if(0===n.constantOr(1)||0===o.constantOr(1))return;const s=i.paint.get(\"line-emissive-strength\"),a=e.depthModeForSublayer(0,gx.ReadOnly),l=e.colorModeForDrapableLayerRenderPass(s),c=e.terrain&&e.terrain.renderingToTexture?1:ht.devicePixelRatio,h=i.paint.get(\"line-dasharray\"),u=h.constantOr(1),d=i.layout.get(\"line-cap\"),p=i.paint.get(\"line-pattern\"),f=p.constantOr(1),m=i.paint.get(\"line-pattern\").constantOr(1),_=1!==i.paint.get(\"line-opacity\").constantOr(1);let g=!m&&_;const y=i.paint.get(\"line-gradient\"),x=f?\"linePattern\":\"line\",v=e.context,b=v.gl,w=kb(i);e.terrain&&e.terrain.clipOrMaskOverlapStencilType()&&(g=!1);for(const n of r){const r=t.getTile(n);if(f&&!r.patternsLoaded())continue;const o=r.getBucket(i);if(!o)continue;e.prepareDrawTile();const s=o.programConfigurations.get(i.id),m=e.isTileAffectedByFog(n),_=e.getOrCreateProgram(x,{config:s,defines:w,overrideFog:m}),T=p.constantOr(null);if(T&&r.imageAtlas){const e=r.imageAtlas.patternPositions[T.toString()];e&&s.setConstantPatternPositions(e);}const E=h.constantOr(null),M=d.constantOr(null);if(!f&&E&&M&&r.lineAtlas){const e=r.lineAtlas.getDash(E,M);e&&s.setConstantPatternPositions(e);}let[A,S]=i.paint.get(\"line-trim-offset\");if(\"round\"===M||\"square\"===M){const e=1;A!==S&&(0===A&&(A-=e),1===S&&(S+=e));}const I=e.terrain?n.projMatrix:null,C=f?Pb(e,r,i,I,c):Db(e,r,i,I,o.lineClipsArray.length,c,[A,S]);if(y){const r=o.gradients[i.id];let s=r.texture;if(i.gradientVersion!==r.version){let a=256;if(i.stepInterpolant){const i=t.getSource().maxzoom,r=n.canonical.z===i?Math.ceil(1<<e.transform.maxZoom-n.canonical.z):1;a=z(U(o.maxLineLength/sr*1024*r),256,v.maxTextureSize);}r.gradient=Yp({expression:i.gradientExpression(),evaluationKey:\"lineProgress\",resolution:a,image:r.gradient||void 0,clips:o.lineClipsArray}),r.texture?r.texture.update(r.gradient):r.texture=new gy(v,r.gradient,b.RGBA),r.version=i.gradientVersion,s=r.texture;}v.activeTexture.set(b.TEXTURE1),s.bind(i.stepInterpolant?b.NEAREST:b.LINEAR,b.CLAMP_TO_EDGE);}u&&(v.activeTexture.set(b.TEXTURE0),r.lineAtlasTexture.bind(b.LINEAR,b.REPEAT),s.updatePaintBuffers()),f&&(v.activeTexture.set(b.TEXTURE0),r.imageAtlasTexture.bind(b.LINEAR,b.CLAMP_TO_EDGE),s.updatePaintBuffers()),e.uploadCommonUniforms(v,_,n.toUnwrapped());const D=t=>{_.draw(e,b.TRIANGLES,a,t,l,Ex.disabled,C,i.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,i.paint,e.transform.zoom,s,[o.layoutVertexBuffer2]);};if(g){const t=e.stencilModeForClipping(n).ref;0===t&&e.terrain&&v.clear({stencil:0});const i={func:b.EQUAL,mask:255};C.u_alpha_discard_threshold=.8,D(new xx(i,t,255,b.KEEP,b.KEEP,b.INVERT)),C.u_alpha_discard_threshold=0,D(new xx(i,t,255,b.KEEP,b.KEEP,b.KEEP));}else D(e.stencilModeForClipping(n));}g&&(e.resetStencilClippingMasks(),e.terrain&&v.clear({stencil:0}));},fill:function(e,t,i,r){const n=i.paint.get(\"fill-color\"),o=i.paint.get(\"fill-opacity\");if(0===o.constantOr(1))return;const s=i.paint.get(\"fill-emissive-strength\"),a=e.colorModeForDrapableLayerRenderPass(s),l=i.paint.get(\"fill-pattern\"),c=e.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===n.constantOr(li.transparent).a&&1===o.constantOr(0)?\"opaque\":\"translucent\";if(e.renderPass===c){const n=e.depthModeForSublayer(1,\"opaque\"===e.renderPass?gx.ReadWrite:gx.ReadOnly);GM(e,t,i,r,n,a,!1);}if(\"translucent\"===e.renderPass&&i.paint.get(\"fill-antialias\")){const n=e.depthModeForSublayer(i.getPaintProperty(\"fill-outline-color\")?2:0,gx.ReadOnly);GM(e,t,i,r,n,a,!0);}},\"fill-extrusion\":function(e,t,i,r){const n=i.paint.get(\"fill-extrusion-opacity\"),o=e.context,s=o.gl,a=e.terrain,l=a&&a.renderingToTexture,c=i.paint.get(\"fill-extrusion-cutoff-fade-range\");if(0===n)return;const h=e.conflationActive&&e.layerUsedInConflation(i,t.getSource());if(h&&function(e,t,i,r){for(const n of r){const r=t.getTile(n).getBucket(i);r&&(r.updateReplacement(n,e.replacementSource),r.uploadCentroid(e.context));}}(e,t,i,r),a||h)for(const n of r){const r=t.getTile(n).getBucket(i);r&&$M(e.context,t,n,r,i,a,h);}if(\"shadow\"===e.renderPass&&e.shadowRenderer){const o=e.shadowRenderer;if(a&&n<.65&&i._transitionablePaint._values[\"fill-extrusion-opacity\"].value.expression instanceof bo)return;const s=o.getShadowPassDepthMode(),l=o.getShadowPassColorMode();qM(e,t,i,r,s,xx.disabled,l,h);}else if(\"translucent\"===e.renderPass){const u=!i.paint.get(\"fill-extrusion-pattern\").constantOr(1);if(!l){const o=new gx(e.context.gl.LEQUAL,gx.ReadWrite,e.depthRangeFor3D);0===c&&1===n&&u?qM(e,t,i,r,o,xx.disabled,bx.unblended,h):(qM(e,t,i,r,o,xx.disabled,bx.disabled,h),qM(e,t,i,r,o,e.stencilModeFor3D(),e.colorModeForRenderPass(),h),e.resetStencilClippingMasks());}if(e.style.enable3dLights()&&u&&(!a&&\"globe\"!==e.transform.projection.name||l)){const n=i.paint.get(\"fill-extrusion-opacity\"),c=i.paint.get(\"fill-extrusion-ambient-occlusion-intensity\"),u=i.paint.get(\"fill-extrusion-ambient-occlusion-ground-radius\"),d=i.paint.get(\"fill-extrusion-flood-light-intensity\"),p=i.paint.get(\"fill-extrusion-flood-light-color\").toArray01().slice(0,3),f=c>0&&u>0,m=d>0,_=(e,t,i)=>(1-i)*e+i*t,g=o=>{const a=e.depthModeForSublayer(1,gx.ReadOnly,s.LEQUAL,!0),l=i.paint.get(o?\"fill-extrusion-ambient-occlusion-ground-attenuation\":\"fill-extrusion-flood-light-ground-attenuation\"),f=_(.1,3,l),m=e._showOverdrawInspector;if(!m){const l=new xx({func:s.ALWAYS,mask:255},255,255,s.KEEP,s.KEEP,s.REPLACE),m=new bx([s.ONE,s.ONE,s.ONE,s.ONE],li.transparent,[!1,!1,!1,!0],s.MIN);ZM(e,t,i,r,a,l,m,Ex.disabled,o,\"sdf\",n,c,u,d,p,f,h,!1);}{const l=m?xx.disabled:new xx({func:s.EQUAL,mask:255},255,255,s.KEEP,s.DECR,s.DECR),_=m?e.colorModeForRenderPass():new bx([s.ONE_MINUS_DST_ALPHA,s.DST_ALPHA,s.ONE,s.ONE],li.transparent,[!0,!0,!0,!0]);ZM(e,t,i,r,a,l,_,Ex.disabled,o,\"color\",n,c,u,d,p,f,h,!1);}};if(l){const l=(o,a,l)=>{const f=e.depthModeForSublayer(1,gx.ReadOnly,s.LEQUAL,!1),m=i.paint.get(o?\"fill-extrusion-ambient-occlusion-ground-attenuation\":\"fill-extrusion-flood-light-ground-attenuation\"),g=_(.1,3,m);{const l=new bx([s.ONE,s.ONE,s.ONE,s.ONE],li.transparent,[!1,!1,!1,!0]);ZM(e,t,i,r,f,xx.disabled,l,Ex.disabled,o,\"clear\",n,c,u,d,p,g,h,a);}{const l=new xx({func:s.ALWAYS,mask:255},255,255,s.KEEP,s.KEEP,s.REPLACE),m=new bx([s.ONE,s.ONE,s.ONE,s.ONE],li.transparent,[!1,!1,!1,!0],s.MIN);ZM(e,t,i,r,f,l,m,Ex.disabled,o,\"sdf\",n,c,u,d,p,g,h,a);}{const l=o?s.ZERO:s.ONE_MINUS_DST_ALPHA,m=new xx({func:s.EQUAL,mask:255},255,255,s.KEEP,s.DECR,s.DECR),_=new bx([l,s.DST_ALPHA,s.ONE_MINUS_DST_ALPHA,s.ZERO],li.transparent,[!0,!0,!0,!0]);ZM(e,t,i,r,f,m,_,Ex.disabled,o,\"color\",n,c,u,d,p,g,h,a);}{const m=new bx([s.ONE,s.ONE,s.ONE,o?s.ZERO:s.ONE],li.transparent,[!1,!1,!1,!0],o?s.FUNC_ADD:s.MAX);ZM(e,t,i,r,f,xx.disabled,m,Ex.disabled,o,\"clear\",n,c,u,d,p,g,h,a,l);}};if(f||m){let t;if(e.prepareDrawTile(),a){const e=a.drapeBufferSize[0],i=a.drapeBufferSize[1];t=a.framebufferCopyTexture,t&&(!t||t.size[0]===e&&t.size[1]===i)||(t&&t.destroy(),t=a.framebufferCopyTexture=new gy(o,new $p({width:e,height:i}),s.RGBA)),t.bind(s.LINEAR,s.CLAMP_TO_EDGE),s.copyTexImage2D(s.TEXTURE_2D,0,s.RGBA,0,0,e,i,0);}f&&l(!0,!1,t),m&&l(!1,!0,t);}}else f&&g(!0),m&&g(!1);}}},hillshade:function(e,t,i,r){if(\"offscreen\"!==e.renderPass&&\"translucent\"!==e.renderPass)return;const n=e.context,o=e.terrain&&e.terrain.renderingToTexture,[s,a]=\"translucent\"!==e.renderPass||o?[{},r]:e.stencilConfigForOverlap(r);for(const r of a){const n=t.getTile(r);if(n.needsHillshadePrepare&&\"offscreen\"===e.renderPass)jE(e,n,i);else if(\"translucent\"===e.renderPass){const t=e.depthModeForSublayer(0,gx.ReadOnly),a=i.paint.get(\"hillshade-emissive-strength\"),l=e.colorModeForDrapableLayerRenderPass(a),c=o&&e.terrain?e.terrain.stencilModeForRTTOverlap(r):s[r.overscaledZ];UE(e,r,n,i,t,c,l);}}n.viewport.set([0,0,e.width,e.height]),e.resetStencilClippingMasks();},raster:function(e,t,i,r,n,o){if(\"translucent\"!==e.renderPass)return;if(0===i.paint.get(\"raster-opacity\"))return;const s=e.context,a=s.gl,l=t.getSource(),c=function(e,t,i){const r=[];let n,o;if(e.paint.get(\"raster-color\")){r.push(\"RASTER_COLOR\"),n=e.paint.get(\"raster-color-mix\"),o=e.paint.get(\"raster-color-range\"),t.activeTexture.set(i.TEXTURE2);let s=e.colorRampTexture;s||(s=e.colorRampTexture=new gy(t,e.colorRamp,i.RGBA)),s.bind(i.LINEAR,i.CLAMP_TO_EDGE);}return {mix:n,range:o,defines:r}}(i,s,a),h=c.defines;let u=!1;if(l instanceof qb&&!r.length){if(\"globe\"!==e.transform.projection.name)return;if(l.onNorthPole)u=!0,h.push(\"PROJECTION_GLOBE_VIEW\");else {if(!l.onSouthPole)return;u=!0,h.push(\"PROJECTION_GLOBE_VIEW\");}}const d=e.colorModeForDrapableLayerRenderPass(),p=e.terrain&&e.terrain.renderingToTexture,f=!e.options.moving,m=\"nearest\"===i.paint.get(\"raster-resampling\")?a.NEAREST:a.LINEAR;if(u){const r=t.getSource();if(!(r instanceof qb))return;const n=r.texture;if(!n)return;const o=e.globeSharedBuffers;if(!o)return;const l=new gx(a.LEQUAL,gx.ReadWrite,e.depthRangeFor3D),h=Float32Array.from(e.transform.projMatrix);let u=Md(0,0,e.transform);const p=Float32Array.from(xd(ad(new ku(0,0,0)))),f={opacity:1,mix:0};e.terrain&&e.terrain.prepareDrawTile(),s.activeTexture.set(a.TEXTURE0),n.bind(m,a.CLAMP_TO_EDGE),s.activeTexture.set(a.TEXTURE1),n.bind(m,a.CLAMP_TO_EDGE),n.useMipmap&&s.extTextureFilterAnisotropic&&e.transform.pitch>20&&a.texParameterf(a.TEXTURE_2D,s.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,s.extTextureFilterAnisotropicMax);const[_,g,y,x]=o.getPoleBuffers(0,!0);let v;r.onNorthPole?(v=_,e.renderDefaultNorthPole=!1):(u=xu.scale(xu.create(),u,[1,-1,1]),v=g,e.renderDefaultSouthPole=!1);const b=bM(h,p,u,[0,0],1,f,i,r.perspectiveTransform||[0,0],2,c.mix||[0,0,0,0],c.range||[0,0]),w=e.getOrCreateProgram(\"raster\",{defines:c.defines});return e.uploadCommonUniforms(s,w,null),void w.draw(e,a.TRIANGLES,l,xx.disabled,d,Ex.disabled,b,i.id,v,y,x)}if(!r.length)return;const[_,g]=l instanceof qb||p?[{},r]:e.stencilConfigForOverlap(r),y=g[g.length-1].overscaledZ;for(const r of g){const n=p?gx.disabled:e.depthModeForSublayer(r.overscaledZ-y,1===i.paint.get(\"raster-opacity\")?gx.ReadWrite:gx.ReadOnly,a.LESS),h=r.toUnwrapped(),u=t.getTile(r);if(p&&(!u||!u.hasData()))continue;if(!u.texture)continue;const g=p?r.projMatrix:e.transform.calculateProjMatrix(h,f),x=e.terrain&&p?e.terrain.stencilModeForRTTOverlap(r):_[r.overscaledZ],v=o?0:i.paint.get(\"raster-fade-duration\");u.registerFadeDuration(v);const b=t.findLoadedParent(r,0),w=QE(u,b,t,e.transform,v);let T,E;e.terrain&&e.terrain.prepareDrawTile(),s.activeTexture.set(a.TEXTURE0),u.texture.bind(m,a.CLAMP_TO_EDGE),s.activeTexture.set(a.TEXTURE1),b?(b.texture.bind(m,a.CLAMP_TO_EDGE),T=Math.pow(2,b.tileID.overscaledZ-u.tileID.overscaledZ),E=[u.tileID.canonical.x*T%1,u.tileID.canonical.y*T%1]):u.texture.bind(m,a.CLAMP_TO_EDGE),u.texture.useMipmap&&s.extTextureFilterAnisotropic&&e.transform.pitch>20&&a.texParameterf(a.TEXTURE_2D,s.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,s.extTextureFilterAnisotropicMax);const M=l instanceof qb?l.perspectiveTransform:[0,0],A=new Float32Array(16),S=bM(g,A,A,E||[0,0],T||1,w,i,M,2,c.mix||[0,0,0,0],c.range||[0,0]),I=e.isTileAffectedByFog(r),C=e.getOrCreateProgram(\"raster\",{defines:c.defines,overrideFog:I});if(e.uploadCommonUniforms(s,C,h),l instanceof qb)l.boundsBuffer&&l.boundsSegments&&C.draw(e,a.TRIANGLES,n,xx.disabled,d,Ex.disabled,S,i.id,l.boundsBuffer,e.quadTriangleIndexBuffer,l.boundsSegments);else {const{tileBoundsBuffer:t,tileBoundsIndexBuffer:r,tileBoundsSegments:o}=e.getTileBoundsBuffers(u);C.draw(e,a.TRIANGLES,n,x,d,Ex.disabled,S,i.id,t,r,o);}}e.resetStencilClippingMasks();},background:function(e,t,i,r){const n=i.paint.get(\"background-color\"),o=i.paint.get(\"background-opacity\"),s=i.paint.get(\"background-emissive-strength\");if(0===o)return;const a=e.context,l=a.gl,c=e.transform,h=c.tileSize,u=i.paint.get(\"background-pattern\");if(e.isPatternMissing(u,i.scope))return;const d=!u&&1===n.a&&1===o&&e.opaquePassEnabledForLayer()?\"opaque\":\"translucent\";if(e.renderPass!==d)return;const p=xx.disabled,f=e.depthModeForSublayer(0,\"opaque\"===d?gx.ReadWrite:gx.ReadOnly),m=e.colorModeForDrapableLayerRenderPass(s),_=u?\"backgroundPattern\":\"background\";let g,y=r;y||(g=e.getBackgroundTiles(),y=Object.values(g).map((e=>e.tileID))),u&&(a.activeTexture.set(l.TEXTURE0),e.imageManager.bind(e.context,i.scope));for(const d of y){const y=e.isTileAffectedByFog(d),x=e.getOrCreateProgram(_,{overrideFog:y}),v=d.toUnwrapped(),b=r?d.projMatrix:e.transform.calculateProjMatrix(v);e.prepareDrawTile();const w=t?t.getTile(d):g?g[d.key]:new Iy(d,h,c.zoom,e),T=u?CM(b,s,o,e,u,i.scope,{tileID:d,tileSize:h}):IM(b,s,o,n);e.uploadCommonUniforms(a,x,v);const{tileBoundsBuffer:E,tileBoundsIndexBuffer:M,tileBoundsSegments:A}=e.getTileBoundsBuffers(w);x.draw(e,l.TRIANGLES,f,p,m,Ex.disabled,T,i.id,E,M,A);}},sky:function(e,t,i){const r=e._atmosphere?Ed(e.transform.zoom):1,n=i.paint.get(\"sky-opacity\")*r;if(0===n)return;const o=e.context,s=i.paint.get(\"sky-type\"),a=new gx(o.gl.LEQUAL,gx.ReadOnly,[0,1]),l=e.frameCounter/1e3%1;\"atmosphere\"===s?\"offscreen\"===e.renderPass?i.needsSkyboxCapture(e)&&(function(e,t,i,r){const n=e.context,o=n.gl;let s=t.skyboxFbo;if(!s){s=t.skyboxFbo=n.createFramebuffer(32,32,!0,null),t.skyboxGeometry=new cA(n),t.skyboxTexture=n.gl.createTexture(),o.bindTexture(o.TEXTURE_CUBE_MAP,t.skyboxTexture),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_MAG_FILTER,o.LINEAR);for(let e=0;e<6;++e)o.texImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,o.RGBA,32,32,0,o.RGBA,o.UNSIGNED_BYTE,null);}n.bindFramebuffer.set(s.framebuffer),n.viewport.set([0,0,32,32]);const a=t.getCenter(e,!0),l=e.getOrCreateProgram(\"skyboxCapture\"),c=new Float64Array(16);xu.identity(c),xu.rotateY(c,c,.5*-Math.PI),hA(e,t,l,c,a,0),xu.identity(c),xu.rotateY(c,c,.5*Math.PI),hA(e,t,l,c,a,1),xu.identity(c),xu.rotateX(c,c,.5*-Math.PI),hA(e,t,l,c,a,2),xu.identity(c),xu.rotateX(c,c,.5*Math.PI),hA(e,t,l,c,a,3),xu.identity(c),hA(e,t,l,c,a,4),xu.identity(c),xu.rotateY(c,c,Math.PI),hA(e,t,l,c,a,5),n.viewport.set([0,0,e.width,e.height]);}(e,i),i.markSkyboxValid(e)):\"sky\"===e.renderPass&&function(e,t,i,r,n){const o=e.context,s=o.gl,a=e.transform,l=e.getOrCreateProgram(\"skybox\");o.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_CUBE_MAP,t.skyboxTexture);const c=((e,t,i,r,n)=>({u_matrix:e,u_sun_direction:t,u_cubemap:0,u_opacity:r,u_temporal_offset:n}))(a.skyboxMatrix,t.getCenter(e,!1),0,r,n);e.uploadCommonUniforms(o,l),l.draw(e,s.TRIANGLES,i,xx.disabled,e.colorModeForRenderPass(),Ex.backCW,c,\"skybox\",t.skyboxGeometry.vertexBuffer,t.skyboxGeometry.indexBuffer,t.skyboxGeometry.segment);}(e,i,a,n,l):\"gradient\"===s&&\"sky\"===e.renderPass&&function(e,t,i,r,n){const o=e.context,s=o.gl,a=e.transform,l=e.getOrCreateProgram(\"skyboxGradient\");t.skyboxGeometry||(t.skyboxGeometry=new cA(o)),o.activeTexture.set(s.TEXTURE0);let c=t.colorRampTexture;c||(c=t.colorRampTexture=new gy(o,t.colorRamp,s.RGBA)),c.bind(s.LINEAR,s.CLAMP_TO_EDGE);const h=((e,t,i,r,n)=>({u_matrix:e,u_color_ramp:0,u_center_direction:t,u_radius:w(i),u_opacity:r,u_temporal_offset:n}))(a.skyboxMatrix,t.getCenter(e,!1),t.paint.get(\"sky-gradient-radius\"),r,n);e.uploadCommonUniforms(o,l),l.draw(e,s.TRIANGLES,i,xx.disabled,e.colorModeForRenderPass(),Ex.backCW,h,\"skyboxGradient\",t.skyboxGeometry.vertexBuffer,t.skyboxGeometry.indexBuffer,t.skyboxGeometry.segment);}(e,i,a,n,l);},debug:function(e,t,i){for(let r=0;r<i.length;r++)iA(e,t,i[r]);},custom:function(e,t,i,r){const n=e.context,o=i.implementation;if(!e.transform.projection.unsupportedLayers||!e.transform.projection.unsupportedLayers.includes(\"custom\")||e.terrain&&(e.terrain.renderingToTexture||\"offscreen\"===e.renderPass)&&i.isLayerDraped(t)){if(\"offscreen\"===e.renderPass){const t=o.prerender;if(t){if(e.setCustomLayerDefaults(),n.setColorMode(e.colorModeForRenderPass()),\"globe\"===e.transform.projection.name){const i=e.transform.pointMerc;t.call(o,n.gl,e.transform.customLayerMatrix(),e.transform.getProjection(),e.transform.globeToMercatorMatrix(),Ed(e.transform.zoom),[i.x,i.y],e.transform.pixelsPerMeterRatio);}else t.call(o,n.gl,e.transform.customLayerMatrix());n.setDirty(),e.setBaseState();}}else if(\"translucent\"===e.renderPass){if(e.terrain&&e.terrain.renderingToTexture){const t=o.renderToTile;if(t){const i=r[0].canonical,s=new ep(i.x+r[0].wrap*(1<<i.z),i.y,i.z);n.setDepthMode(gx.disabled),n.setStencilMode(xx.disabled),n.setColorMode(e.colorModeForRenderPass()),e.setCustomLayerDefaults(),t.call(o,n.gl,s),n.setDirty(),e.setBaseState();}return}e.setCustomLayerDefaults(),n.setColorMode(e.colorModeForRenderPass()),n.setStencilMode(xx.disabled);const t=\"3d\"===o.renderingMode?new gx(e.context.gl.LEQUAL,gx.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,gx.ReadOnly);if(n.setDepthMode(t),\"globe\"===e.transform.projection.name){const t=e.transform.pointMerc;o.render(n.gl,e.transform.customLayerMatrix(),e.transform.getProjection(),e.transform.globeToMercatorMatrix(),Ed(e.transform.zoom),[t.x,t.y],e.transform.pixelsPerMeterRatio);}else o.render(n.gl,e.transform.customLayerMatrix());n.setDirty(),e.setBaseState(),n.bindFramebuffer.set(null);}}else W(\"Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.\");},model:function(e,t,i,r){if(\"opaque\"===e.renderPass)return;const n=i.paint.get(\"model-opacity\");if(0===n)return;const o=i.paint.get(\"model-cast-shadows\");if(\"shadow\"===e.renderPass){if(!o)return;if(e.terrain&&n<.65&&i._transitionablePaint._values[\"model-opacity\"].value.expression instanceof bo)return}const s=e.shadowRenderer,a=i.paint.get(\"model-receive-shadows\");s&&(s.useNormalOffset=!0,a||(s.enabled=!1));const l=()=>{s&&(s.useNormalOffset=!0,a||(s.enabled=!0));},c=t.getSource();if(\"light-beam\"===e.renderPass&&\"batched-model\"!==c.type)return;if(\"vector\"===c.type||\"geojson\"===c.type)return function(e,t,i,r){const n=e.transform;if(\"mercator\"!==n.projection.name)return void W(`Drawing 3D models for ${n.projection.name} projection is not yet implemented`);const o=n.getFreeCameraOptions().position;if(!e.modelManager)return;const s=e.modelManager,a=e.shadowRenderer;if(!i._unevaluatedLayout._values.hasOwnProperty(\"model-id\"))return;const l=i._unevaluatedLayout._values[\"model-id\"],c={...i.layout.get(\"model-id\").parameters};for(const h of r){const r=t.getTile(h).getBucket(i);if(!r||r.projection.name!==n.projection.name)continue;const u=wA(h,n);c.zoom=u;const d=l.possiblyEvaluate(c);if(vA(e,r,h),bA.shadowUniformsInitialized=!1,bA.useSingleShadowCascade=!!a&&0===a.getMaxCascadeForTile(h.toUnwrapped()),\"shadow\"===e.renderPass&&a){if(1===e.currentShadowCascade&&r.isInsideFirstShadowMapFrustum)continue;const t=n.calculatePosMatrix(h.toUnwrapped(),n.worldSize);if(bA.tileMatrix.set(t),bA.shadowTileMatrix=Float32Array.from(a.calculateShadowPassMatrixFromMatrix(t)),bA.aabb.min.fill(0),bA.aabb.max[0]=bA.aabb.max[1]=sr,bA.aabb.max[2]=0,MA(r,bA,e,i.scope))continue}const p=1<<h.canonical.z,f=[((o.x-h.wrap)*p-h.canonical.x)*sr,(o.y*p-h.canonical.y)*sr,o.z*p*sr];for(let t in r.instancesPerModel){const n=r.instancesPerModel[t];n.features.length>0&&(t=d.evaluate(n.features[0].feature,{}));const o=s.getModel(t,i.scope);if(o&&o.uploaded)for(const t of o.nodes)TA(e,i,t,n,f,h,bA);}}}(e,t,i,r),void l();if(!c.loaded())return;if(\"batched-model\"===c.type)return function(e,t,i,r){const n=e.context,o=e.transform,s=e.style.fog,a=e.shadowRenderer;if(\"mercator\"!==o.projection.name)return void W(`Drawing 3D landmark models for ${o.projection.name} projection is not yet implemented`);const l=e.transform.getFreeCameraOptions().position,c=Mu.scale([],[l.x,l.y,l.z],e.transform.worldSize);Mu.negate(c,c);const h=xu.identity([]),u=Kd(o.center.lat,o.zoom),d=xu.fromScaling([],[1,1,1/u]);xu.translate(h,h,c);const p=i.paint.get(\"model-opacity\"),f=new gx(n.gl.LEQUAL,gx.ReadWrite,e.depthRangeFor3D),m=new gx(n.gl.LEQUAL,gx.ReadOnly,e.depthRangeFor3D),_=function(l,c){for(const u of r){const r=t.getTile(u).getBucket(i);if(!r||!r.uploaded)continue;let _=!1;a&&(_=0===a.getMaxCascadeForTile(u.toUnwrapped()));const g=o.calculatePosMatrix(u.toUnwrapped(),o.worldSize),y=r.modelTraits;for(const t of r.getNodesInfo()){if(t.hiddenByReplacement)continue;if(!t.node.meshes)continue;const r=t.node,x=\"light-beam\"===e.renderPass,v=[...g],b=t.evaluatedScale;let w=0;e.terrain&&r.elevation&&(w=r.elevation*e.terrain.exaggeration()),xu.translate(v,v,[(r.anchor?r.anchor[0]:0)*(b[0]-1),(r.anchor?r.anchor[1]:0)*(b[1]-1),w]),b!==vv&&xu.scale(v,v,b),xu.multiply(v,v,r.matrix);const T=xu.multiply([],d,v);xu.multiply(T,h,T);const E=xu.invert([],T);xu.transpose(E,E),xu.scale(E,E,EA);const M=xu.multiply([],o.projMatrix,v);for(let h=0;h<r.meshes.length;++h){const d=r.meshes[h],g=h===r.lightMeshIndex;if(g){if(!x&&!e.terrain&&e.shadowRenderer){e.currentLayer<e.firstLightBeamLayer&&(e.firstLightBeamLayer=e.currentLayer);continue}}else if(x)continue;const b={defines:[]},w=[];_A(b.defines,w,d,e),4&y||b.defines.push(\"DIFFUSE_SHADED\"),_&&b.defines.push(\"SHADOWS_SINGLE_CASCADE\");const A=\"shadow\"===e.renderPass;if(A){xA(d,v,e,i);continue}let S=null;if(s){const t=mA(v,e.transform);if(S=new Float32Array(t),\"globe\"!==o.projection.name){const e=d.aabb.min,i=d.aabb.max,[r,n]=s.getOpacityForBounds(t,e[0],e[1],i[0],i[1]);b.overrideFog=r>=sw||n>=sw;}}const I=e.getOrCreateProgram(\"model\",b);!A&&a&&(a.useNormalOffset=!!d.normalBuffer,a.setupShadowsFromMatrix(v,I,a.useNormalOffset)),e.uploadCommonUniforms(n,I,u.toUnwrapped(),S);const C=d.material,z=C.pbrMetallicRoughness;z.metallicFactor=.9,z.roughnessFactor=.5;const D=DM(new Float32Array(M),new Float32Array(T),new Float32Array(E),e,p,z.baseColorFactor,C.emissiveFactor,z.metallicFactor,z.roughnessFactor,C,i);I.draw(e,n.gl.TRIANGLES,c&&!g?f:m,xx.disabled,l?g||p<1||t.hasTranslucentParts?bx.alphaBlended:bx.unblended:bx.disabled,Ex.backCCW,D,i.id,d.vertexBuffer,d.indexBuffer,d.segments,i.paint,e.transform.zoom,void 0,w);}}}};((function(e,t,i,r){const n=e.terrain?e.terrain.exaggeration():0,o=e.transform.zoom;for(const s of r){const r=t.getTile(s).getBucket(i);r&&(e.conflationActive&&r.updateReplacement(s,e.replacementSource),r.evaluateScale(e,i),e.terrain&&n>0&&r.elevationUpdate(e.terrain,n,s,i.source),r.needsReEvaluation(e,o,i)&&r.evaluate(i));}}))(e,t,i,r),1===p?_(!0,!0):(_(!1,!0),_(!0,!1));}(e,t,i,r),void l();const h=c.getModels(),u=[],d=e.transform.getFreeCameraOptions().position,p=Mu.scale([],[d.x,d.y,d.z],e.transform.worldSize);Mu.negate(p,p);const f=[],m=[];let _=0;for(const t of h){const r=i.paint.get(\"model-rotation\").constantOr(null),n=i.paint.get(\"model-scale\").constantOr(null),o=i.paint.get(\"model-translation\").constantOr(null);t.computeModelMatrix(e,r,n,o,!0,!0,!1);const s=xu.identity([]),a=Kd(t.position.lat,e.transform.zoom),l=xu.fromScaling([],[1,1,1/a]);xu.translate(s,s,p),u.push({zScaleMatrix:l,negCameraPosMatrix:s});for(const i of t.nodes)yA(e.transform,i,t.matrix,e.transform.projMatrix,_,f,m);_++;}if(f.sort(((e,t)=>t.depth-e.depth)),\"shadow\"!==e.renderPass){if(1===n)for(const t of m)gA(t,e,i,u[t.modelIndex],xx.disabled,e.colorModeForRenderPass());else {for(const t of m)gA(t,e,i,u[t.modelIndex],xx.disabled,bx.disabled);for(const t of m)gA(t,e,i,u[t.modelIndex],e.stencilModeFor3D(),e.colorModeForRenderPass());e.resetStencilClippingMasks();}for(const t of f)gA(t,e,i,u[t.modelIndex],xx.disabled,e.colorModeForRenderPass());l();}else {for(const t of m)xA(t.mesh,t.nodeModelMatrix,e,i);for(const t of f)xA(t.mesh,t.nodeModelMatrix,e,i);l();}}},CA={modelUpload:function(e,t,i){const r=t.getSource();if(!r.loaded())return;if(\"vector\"===r.type||\"geojson\"===r.type)return void(e.modelManager&&e.modelManager.upload(e,i));if(\"batched-model\"===r.type)return;const n=r.getModels();for(const t of n)t.upload(e.context);}};class zA{constructor(e,t){this.context=new Mx(e),this.transform=t,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=Ax.maxUnderzooming+Ax.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={},this.conflationActive=!1,this.replacementSource=new Vv,this.longestCutoffRange=0,this.minCutoffZoom=0,this._fogVisible=!1,this._cachedTileFogOpacities={},this._shadowRenderer=new LA(this),this._wireframeDebugCache=new SA,this.renderDefaultNorthPole=!0,this.renderDefaultSouthPole=!0;}updateTerrain(e,t){const i=!!e&&!!e.terrain&&this.transform.projection.supportsTerrain;if(!(i||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new rM(this,e));const r=this._terrain;this.transform.elevation=i?r:null,r.update(e,this.transform,t),this.transform.elevation&&!r.enabled&&(this.transform.elevation=null);}_updateFog(e){const t=e.fog;if(!t||\"globe\"===this.transform.projection.name||t.getOpacity(this.transform.pitch)<1||t.properties.get(\"horizon-blend\")<.03)return void(this.transform.fogCullDistSq=null);const[i,r]=t.getFovAdjustedRange(this.transform._fov);if(i>r)return void(this.transform.fogCullDistSq=null);const n=i+.78*(r-i);this.transform.fogCullDistSq=n*n;}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}get shadowRenderer(){return this._shadowRenderer&&this._shadowRenderer.enabled?this._shadowRenderer:null}get wireframeDebugCache(){return this._wireframeDebugCache}resize(e,t){if(this.width=e*ht.devicePixelRatio,this.height=t*ht.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const e of this.style.order)this.style._mergedLayers[e].resize();}setup(){const e=this.context,i=new Ta;i.emplaceBack(0,0),i.emplaceBack(sr,0),i.emplaceBack(0,sr),i.emplaceBack(sr,sr),this.tileExtentBuffer=e.createVertexBuffer(i,Pu.members),this.tileExtentSegments=dl.simpleSegment(0,0,4,2);const r=new Ta;r.emplaceBack(0,0),r.emplaceBack(sr,0),r.emplaceBack(0,sr),r.emplaceBack(sr,sr),this.debugBuffer=e.createVertexBuffer(r,Pu.members),this.debugSegments=dl.simpleSegment(0,0,4,5);const n=new Ta;n.emplaceBack(-1,-1),n.emplaceBack(1,-1),n.emplaceBack(-1,1),n.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(n,Pu.members),this.viewportSegments=dl.simpleSegment(0,0,4,2);const o=new Ma;o.emplaceBack(0,0,0,0),o.emplaceBack(sr,0,sr,0),o.emplaceBack(0,sr,0,sr),o.emplaceBack(sr,sr,sr,sr),this.mercatorBoundsBuffer=e.createVertexBuffer(o,Ay.members),this.mercatorBoundsSegments=dl.simpleSegment(0,0,4,2);const s=new Va;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(s);const a=new Wa;for(const e of [0,1,3,2,0])a.emplaceBack(e);this.debugIndexBuffer=e.createIndexBuffer(a),this.emptyTexture=new gy(e,new $p({width:1,height:1},Uint8Array.of(0,0,0,0)),e.gl.RGBA),this.identityMat=xu.create();const l=this.context.gl;this.stencilClearMode=new xx({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO),this.loadTimeStamps.push(t.performance.now());}getMercatorTileBoundsBuffers(){return {tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(e){return e._makeTileBoundsBuffers(this.context,this.transform.projection),e._tileBoundsBuffer?{tileBoundsBuffer:e._tileBoundsBuffer,tileBoundsIndexBuffer:e._tileBoundsIndexBuffer,tileBoundsSegments:e._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const e=this.context.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.getOrCreateProgram(\"clippingMask\").draw(this,e.TRIANGLES,gx.disabled,this.stencilClearMode,bx.disabled,Ex.disabled,JE(this.identityMat),\"$clipping\",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments);}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={});}_renderTileClippingMasks(e,t,i){if(!t||this.currentStencilSource===t.id||!e.isTileClipped()||!i||0===i.length)return;if(this._tileClippingMaskIDs&&!this.terrain){let e=!1;for(const t of i)if(void 0===this._tileClippingMaskIDs[t.key]){e=!0;break}if(!e)return}this.currentStencilSource=t.id;const r=this.context,n=r.gl;this.nextStencilID+i.length>256&&this.clearStencil(),r.setColorMode(bx.disabled),r.setDepthMode(gx.disabled);const o=this.getOrCreateProgram(\"clippingMask\");this._tileClippingMaskIDs={};for(const e of i){const i=t.getTile(e),r=this._tileClippingMaskIDs[e.key]=this.nextStencilID++,{tileBoundsBuffer:s,tileBoundsIndexBuffer:a,tileBoundsSegments:l}=this.getTileBoundsBuffers(i);o.draw(this,n.TRIANGLES,gx.disabled,new xx({func:n.ALWAYS,mask:0},r,255,n.KEEP,n.KEEP,n.REPLACE),bx.disabled,Ex.disabled,JE(e.projMatrix),\"$clipping\",s,a,l);}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const e=this.nextStencilID++,t=this.context.gl;return new xx({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)}stencilModeForClipping(e){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(e);const t=this.context.gl;return new xx({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)}stencilConfigForOverlap(e){const t=this.context.gl,i=e.sort(((e,t)=>t.overscaledZ-e.overscaledZ)),r=i[i.length-1].overscaledZ,n=i[0].overscaledZ-r+1;if(n>1){this.currentStencilSource=void 0,this.nextStencilID+n>256&&this.clearStencil();const e={};for(let i=0;i<n;i++)e[i+r]=new xx({func:t.GEQUAL,mask:255},i+this.nextStencilID,255,t.KEEP,t.KEEP,t.REPLACE);return this.nextStencilID+=n,[e,i]}return [{[r]:xx.disabled},i]}colorModeForRenderPass(){const e=this.context.gl;if(this._showOverdrawInspector){const t=1/8;return new bx([e.CONSTANT_COLOR,e.ONE,e.CONSTANT_COLOR,e.ONE],new li(t,t,t,0),[!0,!0,!0,!0])}return \"opaque\"===this.renderPass?bx.unblended:bx.alphaBlended}colorModeForDrapableLayerRenderPass(e){const t=this.context.gl;return (()=>this.style&&this.style.enable3dLights()&&this.terrain&&this.terrain.renderingToTexture)()&&\"translucent\"===this.renderPass?new bx([t.ONE,t.ONE_MINUS_SRC_ALPHA,t.CONSTANT_ALPHA,t.ONE_MINUS_SRC_ALPHA],new li(0,0,0,void 0===e?0:e),[!0,!0,!0,!0]):this.colorModeForRenderPass()}depthModeForSublayer(e,t,i,r=!1){if(!this.opaquePassEnabledForLayer()&&!r)return gx.disabled;const n=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new gx(i||this.context.gl.LEQUAL,t,[n,n])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(e,i){this._wireframeDebugCache.update(this.frameCounter),this.style=e,this.options=i;const r=this.style._mergedLayers,n=this.style.order,o=n.map((e=>r[e])),s=this.style._mergedSourceCaches;this.imageManager=e.imageManager,this.modelManager=e.modelManager,this.symbolFadeChange=e.placement.symbolFadeChange(ht.now()),this.imageManager.beginFrame();let a=0,l=!1;for(const e in s){const t=s[e];t.used&&(t.prepare(this.context),t.getSource().usedInConflation&&++a);}const c={},h={},u={},d={},p={};for(const e in s){const t=s[e];c[e]=t.getVisibleCoordinates(),h[e]=c[e].slice().reverse(),u[e]=t.getVisibleCoordinates(!0).reverse(),d[e]=t.getShadowCasterCoordinates(),p[e]=t.sortCoordinatesByDistance(c[e]);}const f=e=>{const t=this.style.getLayerSourceCache(e);return t&&t.used?t.getSource():null};if(a){const e=[];for(const t of o)this.layerUsedInConflation(t,f(t))&&e.push(t);if(e&&e.length>1){const t=[];for(const i of e){const e=this.style.getLayerSourceCache(i);e&&e.used&&e.getSource().usedInConflation&&t.push({layer:i.fqid,cache:e});}this.replacementSource.setSources(t),l=!0;}}l||this.replacementSource.clear(),this.conflationActive=l,this.minCutoffZoom=0,this.longestCutoffRange=0;for(const e of o){const t=e.cutoffRange();if(this.longestCutoffRange=Math.max(t,this.longestCutoffRange),t>0){const t=f(e);t&&(this.minCutoffZoom=Math.max(t.minzoom,this.minCutoffZoom)),e.minzoom&&(this.minCutoffZoom=Math.max(e.minzoom,this.minCutoffZoom));}}this.opaquePassCutoff=1/0;for(let e=0;e<o.length;e++)if(o[e].is3D()){this.opaquePassCutoff=e;break}const m=this.style&&this.style.fog;m?(this._fogVisible=0!==m.getOpacity(this.transform.pitch),this._fogVisible&&\"globe\"!==this.transform.projection.name&&(this._fogVisible=m.isVisibleOnFrustum(this.transform.cameraFrustum))):this._fogVisible=!1,this._cachedTileFogOpacities={},this.terrain&&(this.terrain.updateTileBinding(u),this.opaquePassCutoff=0);const _=this._shadowRenderer;if(_){_.updateShadowParameters(this.transform,this.style.directionalLight);for(const e in s)for(const t of c[e]){let e={min:0,max:0};this.terrain&&(e=this.terrain.getMinMaxForTile(t)||e),_.addShadowReceiver(t.toUnwrapped(),e.min,e.max);}}\"globe\"!==this.transform.projection.name||this.globeSharedBuffers||(this.globeSharedBuffers=new kd(this.context));for(const t of o){if(t.isHidden(this.transform.zoom))continue;const i=e.getLayerSourceCache(t);this.uploadLayer(this,t,i);}if(this.style.fog&&this.transform.projection.supportsFog?(this._atmosphere||(this._atmosphere=new fA),this._atmosphere.update(this)):this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0),!Ye.has(this.context.gl))return;this.renderPass=\"offscreen\";for(const t of o){const i=e.getLayerSourceCache(t);if(!t.hasOffscreenPass()||t.isHidden(this.transform.zoom))continue;const r=i?h[i.id]:void 0;(\"custom\"===t.type||\"raster\"===t.type||t.isSky()||r&&r.length)&&this.renderLayer(this,i,t,r);}this.depthRangeFor3D=[0,1-(o.length+2)*this.numSublayers*this.depthEpsilon];const g=this.terrain;g&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&!this.transform.isOrthographic&&g.drawDepth(),this._shadowRenderer&&(this.renderPass=\"shadow\",this._shadowRenderer.drawShadowPass(this.style,d)),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);const y=\"globe\"===this.transform.projection.name||this.transform.isHorizonVisible(),x=(()=>{if(i.showOverdrawInspector)return li.black;if(this.style.fog&&this.transform.projection.supportsFog&&!y){const e=this.style.fog.properties.get(\"color\").toArray01();return new li(...e)}if(this.style.fog&&this.transform.projection.supportsFog&&y){const e=this.style.fog.properties.get(\"space-color\").toArray01();return new li(...e)}return li.transparent})();if(this.context.clear({color:x,depth:1}),this.clearStencil(),this._showOverdrawInspector=i.showOverdrawInspector,this.renderPass=\"opaque\",this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&y&&this._atmosphere.drawStars(this,this.style.fog),!this.terrain)for(this.currentLayer=n.length-1;this.currentLayer>=0;this.currentLayer--){const t=o[this.currentLayer],i=e.getLayerSourceCache(t);if(t.isSky())continue;const r=i?(t.is3D()?p:h)[i.id]:void 0;this._renderTileClippingMasks(t,i,r),this.renderLayer(this,i,t,r);}if(this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&y&&this._atmosphere.drawAtmosphereGlow(this,this.style.fog),this.renderPass=\"sky\",(!this._atmosphere||Ed(this.transform.zoom)>0)&&(\"globe\"===this.transform.projection.name||this.transform.isHorizonVisible()))for(this.currentLayer=0;this.currentLayer<n.length;this.currentLayer++){const t=o[this.currentLayer],i=e.getLayerSourceCache(t);t.isSky()&&this.renderLayer(this,i,t,i?h[i.id]:void 0);}this.renderPass=\"translucent\",this.currentLayer=0,this.firstLightBeamLayer=Number.MAX_SAFE_INTEGER;let v=0;for(_&&(v=_.getShadowCastingLayerCount());this.currentLayer<n.length;){const t=o[this.currentLayer],i=e.getLayerSourceCache(t);if(t.isSky()){++this.currentLayer;continue}if(g&&this.style.isLayerDraped(t)){if(t.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=g.renderBatch(this.currentLayer);continue}let r;if(i&&(r=(\"symbol\"===t.type?u:t.is3D()?p:h)[i.id]),this._renderTileClippingMasks(t,i,i?c[i.id]:void 0),this.renderLayer(this,i,t,r),!g&&_&&v>0&&t.hasShadowPass()&&0==--v&&(_.drawGroundShadows(),this.firstLightBeamLayer<=this.currentLayer)){const t=this.currentLayer;for(this.renderPass=\"light-beam\",this.currentLayer=this.firstLightBeamLayer;this.currentLayer<=t;this.currentLayer++){const t=o[this.currentLayer];if(!t.hasLightBeamPass())continue;const i=e.getLayerSourceCache(t);this.renderLayer(this,i,t,i?h[i.id]:void 0);}this.currentLayer=t,this.renderPass=\"translucent\";}++this.currentLayer;}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let t=null;o.forEach((i=>{const r=e.getLayerSourceCache(i);r&&!i.isHidden(this.transform.zoom)&&r.getVisibleCoordinates().length&&(!t||t.getSource().maxzoom<r.getSource().maxzoom)&&(t=r);})),t&&this.options.showTileBoundaries&&IA.debug(this,t,t.getVisibleCoordinates());}this.options.showPadding&&function(e){const t=e.transform.padding;rA(e,e.transform.height-(t.top||0),3,KM),rA(e,t.bottom||0,3,JM),nA(e,t.left||0,3,QM),nA(e,e.transform.width-(t.right||0),3,eA);const i=e.transform.centerPoint;!function(e,t,i,r){oA(e,t-1,i-10,2,20,r),oA(e,t-10,i-1,20,2,r);}(e,i.x,e.transform.height-i.y,tA);}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(t.performance.now()),this.saveCanvasCopy()),l||(this.conflationActive=!1);}uploadLayer(e,t,i){this.gpuTimingStart(t),(!e.transform.projection.unsupportedLayers||!e.transform.projection.unsupportedLayers.includes(t.type)||e.terrain&&\"custom\"===t.type)&&CA[`${t.type}Upload`]&&CA[`${t.type}Upload`](e,i,t.scope),this.gpuTimingEnd();}renderLayer(e,t,i,r){i.isHidden(this.transform.zoom)||(\"background\"===i.type||\"sky\"===i.type||\"custom\"===i.type||\"model\"===i.type||\"raster\"===i.type||r&&r.length)&&(this.id=i.id,this.gpuTimingStart(i),(!e.transform.projection.unsupportedLayers||!e.transform.projection.unsupportedLayers.includes(i.type)||e.terrain&&\"custom\"===i.type)&&IA[i.type](e,t,i,r,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd());}gpuTimingStart(e){if(!this.options.gpuTiming)return;const t=this.context.extTimerQuery,i=this.context.gl;let r=this.gpuTimers[e.id];r||(r=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:i.createQuery()}),r.calls++,i.beginQuery(t.TIME_ELAPSED_EXT,r.query);}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const e=this.context.extTimerQuery,t=this.context.gl,i=t.createQuery();this.deferredRenderGpuTimeQueries.push(i),t.beginQuery(e.TIME_ELAPSED_EXT,i);}}gpuTimingDeferredRenderEnd(){this.options.gpuTimingDeferredRender&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT);}gpuTimingEnd(){this.options.gpuTiming&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT);}collectGpuTimers(){const e=this.gpuTimers;return this.gpuTimers={},e}collectDeferredRenderGpuQueries(){const e=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],e}queryGpuTimers(e){const t={};for(const i in e){const r=e[i],n=this.context.extTimerQuery,o=n.getQueryParameter(r.query,this.context.gl.QUERY_RESULT)/1e6;n.deleteQueryEXT(r.query),t[i]=o;}return t}queryGpuTimeDeferredRender(e){if(!this.options.gpuTimingDeferredRender)return 0;const t=this.context.extTimerQuery,i=this.context.gl;let r=0;for(const n of e)r+=t.getQueryParameter(n,i.QUERY_RESULT)/1e6,t.deleteQueryEXT(n);return r}translatePosMatrix(e,t,i,r,n){if(!i[0]&&!i[1])return e;const o=n?\"map\"===r?this.transform.angle:0:\"viewport\"===r?-this.transform.angle:0;if(o){const e=Math.sin(o),t=Math.cos(o);i=[i[0]*t-i[1]*e,i[0]*e+i[1]*t];}const s=[n?i[0]:Xx(t,i[0],this.transform.zoom),n?i[1]:Xx(t,i[1],this.transform.zoom),0],a=new Float32Array(16);return xu.translate(a,e,s),a}saveTileTexture(e){const t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e];}getTileTexture(e){const t=this._tileTextures[e];return t&&t.length>0?t.pop():null}isPatternMissing(e,t){return null===e||void 0!==e&&!this.imageManager.getPattern(e.toString(),t)}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}terrainUseFloatDEM(){return null!=this.context.extTextureFloatLinear}currentGlobalDefines(e,t,i){const r=void 0===i?this.terrain&&this.terrain.renderingToTexture:i,n=this.terrain&&0===this.terrain.exaggeration(),o=[];return this.style&&this.style.enable3dLights()&&(\"globeRaster\"===e||\"terrainRaster\"===e?(o.push(\"LIGHTING_3D_MODE\"),o.push(\"LIGHTING_3D_ALPHA_EMISSIVENESS\")):r||o.push(\"LIGHTING_3D_MODE\")),\"shadow\"===this.renderPass?this._shadowMapDebug||o.push(\"DEPTH_TEXTURE\"):this.shadowRenderer&&(this.shadowRenderer.useNormalOffset?o.push(\"RENDER_SHADOWS\",\"DEPTH_TEXTURE\",\"NORMAL_OFFSET\"):o.push(\"RENDER_SHADOWS\",\"DEPTH_TEXTURE\")),this.terrainRenderModeElevated()&&(o.push(\"TERRAIN\"),this.terrainUseFloatDEM()&&o.push(\"TERRAIN_DEM_FLOAT_FORMAT\"),n&&o.push(\"ZERO_EXAGGERATION\")),\"globe\"===this.transform.projection.name&&o.push(\"GLOBE\"),!this._fogVisible||r||void 0!==t&&!t||o.push(\"FOG\",\"FOG_DITHERING\"),r&&o.push(\"RENDER_TO_TEXTURE\"),this._showOverdrawInspector&&o.push(\"OVERDRAW_INSPECTOR\"),o}getOrCreateProgram(e,t){this.cache=this.cache||{};const i=t&&t.defines||[],r=t&&t.config,n=this.currentGlobalDefines(e,t&&t.overrideFog,t&&t.overrideRtt).concat(i),o=aM.cacheKey(kE[e],e,n,r);return this.cache[o]||(this.cache[o]=new aM(this.context,e,kE[e],r,LM[e],n)),this.cache[o]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault();}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD);}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=t.document.createElement(\"canvas\"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new gy(this.context,this.debugOverlayCanvas,this.context.gl.RGBA));}destroy(){this._terrain&&this._terrain.destroy(),this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this._wireframeDebugCache.destroy();}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile();}uploadCommonLightUniforms(e,t){if(this.style.enable3dLights()){const i=this.style.directionalLight,r=this.style.ambientLight;if(i&&r){const n=((e,t)=>{const i=e.properties.get(\"direction\"),r=e.properties.get(\"color\").toArray01(),n=e.properties.get(\"intensity\"),o=t.properties.get(\"color\").toArray01(),s=t.properties.get(\"intensity\"),a=[i.x,i.y,i.z],l=se(o,s),c=se(r,n);return {u_lighting_ambient_color:l,u_lighting_directional_dir:a,u_lighting_directional_color:c,u_ground_radiance:nM(a,c,l)}})(i,r);t.setLightsUniformValues(e,n);}}}uploadCommonUniforms(e,t,i,r,n){if(this.uploadCommonLightUniforms(e,t),this.terrain&&this.terrain.renderingToTexture)return;const o=this.style.fog;if(o){const n=o.getOpacity(this.transform.pitch),s=((e,t,i,r,n,o,s,a,l,c,h,u)=>{const d=e.transform,p=t.properties.get(\"color\").toArray01();p[3]=r;const f=e.frameCounter/1e3%1,[m,_]=t.properties.get(\"vertical-range\");return {u_fog_matrix:i?d.calculateFogTileMatrix(i):u||e.identityMat,u_fog_range:t.getFovAdjustedRange(d._fov),u_fog_color:p,u_fog_horizon_blend:t.properties.get(\"horizon-blend\"),u_fog_vertical_limit:[Math.min(m,_),_],u_fog_temporal_offset:f,u_frustum_tl:n,u_frustum_tr:o,u_frustum_br:s,u_frustum_bl:a,u_globe_pos:l,u_globe_radius:c,u_viewport:h,u_globe_transition:Ed(d.zoom),u_is_globe:+(\"globe\"===d.projection.name)}})(this,o,i,n,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*ht.devicePixelRatio,this.transform.height*ht.devicePixelRatio],r);t.setFogUniformValues(e,s);}n&&t.setCutoffUniformValues(e,n.uniformValues);}setTileLoadedFlag(e){this.tileLoaded=e;}saveCanvasCopy(){const e=this.canvasCopy();e&&(this.frameCopies.push(e),this.tileLoaded=!1);}canvasCopy(){const e=this.context.gl,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,e.drawingBufferWidth,e.drawingBufferHeight,0),t}getCanvasCopiesAndTimestamps(){return {canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return !1;const e=this.style&&this.style.fog;return !!e&&0!==e.getOpacity(this.transform.pitch)}getBackgroundTiles(){const e=this._backgroundTiles,t=this._backgroundTiles={},i=this.transform.coveringTiles({tileSize:512});for(const r of i)t[r.key]=e[r.key]||new Iy(r,512,this.transform.tileZoom,this);return t}clearBackgroundTiles(){this._backgroundTiles={};}layerUsedInConflation(e,t){return !(!e.is3D()||e.minzoom&&e.minzoom>this.transform.zoom||\"building\"!==e.sourceLayer&&(!t||\"batched-model\"!==t.type))}isTileAffectedByFog(e){if(!this.style||!this.style.fog)return !1;if(\"globe\"===this.transform.projection.name)return !0;let t=this._cachedTileFogOpacities[e.key];return t||(this._cachedTileFogOpacities[e.key]=t=this.style.fog.getOpacityForTile(e)),t[0]>=sw||t[1]>=sw}}const DA=2048;class PA{constructor(e,t){this.aabb=e,this.lastCascade=t;}}class RA{add(e,t){const i=this.receivers[e.key];void 0!==i?(i.aabb.min[0]=Math.min(i.aabb.min[0],t.min[0]),i.aabb.min[1]=Math.min(i.aabb.min[1],t.min[1]),i.aabb.min[2]=Math.min(i.aabb.min[2],t.min[2]),i.aabb.max[0]=Math.max(i.aabb.max[0],t.max[0]),i.aabb.max[1]=Math.max(i.aabb.max[1],t.max[1]),i.aabb.max[2]=Math.max(i.aabb.max[2],t.max[2])):this.receivers[e.key]=new PA(t,null);}clear(){this.receivers={};}get(e){return this.receivers[e.key]}computeRequiredCascades(e,t,i){const r=Hu.fromPoints(e.points);let n=0;for(const e in this.receivers){const o=this.receivers[e];if(!o)continue;if(!r.intersectsAabb(o.aabb))continue;o.aabb.min=r.closestPoint(o.aabb.min),o.aabb.max=r.closestPoint(o.aabb.max);const s=o.aabb.getCorners();for(let e=0;e<i.length;e++){let r=!0;for(const n of s){const o=[n[0]*t,n[1]*t,n[2]];if(Mu.transformMat4(o,o,i[e].matrix),o[0]<-1||o[0]>1||o[1]<-1||o[1]>1){r=!1;break}}if(o.lastCascade=e,n=Math.max(n,e),r)break}}return n+1}}class LA{constructor(e){this.painter=e,this._enabled=!1,this._shadowLayerCount=0,this._numCascadesToRender=0,this._cascades=[],this._groundShadowTiles=[],this._receivers=new RA,this._depthMode=new gx(e.context.gl.LEQUAL,gx.ReadWrite,[0,1]),this._uniformValues={u_light_matrix_0:new Float32Array(16),u_light_matrix_1:new Float32Array(16),u_shadow_intensity:0,u_fade_range:[0,0],u_shadow_normal_offset:[1,1,1],u_shadow_texel_size:1,u_shadow_map_resolution:1,u_shadow_direction:[0,0,1],u_shadow_bias:[36e-5,.0012,.012],u_shadowmap_0:0,u_shadowmap_1:0},this.useNormalOffset=!1;}destroy(){for(const e of this._cascades)e.texture.destroy(),e.framebuffer.destroy();this._cascades=[];}updateShadowParameters(e,t){const i=this.painter;if(this._enabled=!1,this._shadowLayerCount=0,this._receivers.clear(),!t||!t.properties)return;const r=t.properties.get(\"shadow-intensity\");if(!t.shadowsEnabled()||r<=0)return;if(this._shadowLayerCount=i.style.order.reduce(((t,r)=>{const n=i.style._mergedLayers[r];return t+(n.hasShadowPass()&&!n.isHidden(e.zoom)?1:0)}),0),this._enabled=this._shadowLayerCount>0,!this._enabled)return;const n=i.context,o=DA,s=DA;if(0===this._cascades.length)for(let e=0;e<2;++e){const e=i._shadowMapDebug,t=n.gl,r=n.createFramebuffer(o,s,e,\"texture\"),a=new gy(n,{width:o,height:s,data:null},t.DEPTH_COMPONENT);if(r.depthAttachment.set(a.texture),e){const e=new gy(n,{width:o,height:s,data:null},t.RGBA);r.colorAttachment.set(e.texture);}this._cascades.push({framebuffer:r,texture:a,matrix:[],far:0,boundingSphereRadius:0,frustum:new $u,scale:0});}this.shadowDirection=OA(t);let a=0;if(e.elevation){const t=e.elevation,i=[1e4,-1e4];t.visibleDemTiles.filter((e=>e.dem)).forEach((e=>{const t=e.dem.tree;i[0]=Math.min(i[0],t.minimums[0]),i[1]=Math.max(i[1],t.maximums[0]);})),1e4!==i[0]&&(a=(i[1]-i[0])*t.exaggeration());}const l=1.5*e.cameraToCenterDistance,c=3*l,h=new Float64Array(16);for(let t=0;t<2;++t){const i=this._cascades[t];let r=e.height/50,n=1;0===t?n=l:(r=l,n=c);const[o,s]=FA(e,this.shadowDirection,r,n,DA,a);i.scale=e.scale,i.matrix=o,i.boundingSphereRadius=s,xu.invert(h,i.matrix),i.frustum=$u.fromInvProjectionMatrix(h,1,0,!0),i.far=n;}this._uniformValues.u_fade_range=[.75*this._cascades[1].far,this._cascades[1].far],this._uniformValues.u_shadow_intensity=r,this._uniformValues.u_shadow_direction=[this.shadowDirection[0],this.shadowDirection[1],this.shadowDirection[2]],this._uniformValues.u_shadow_texel_size=.00048828125,this._uniformValues.u_shadow_map_resolution=DA,this._uniformValues.u_shadowmap_0=zM.ShadowMap0,this._uniformValues.u_shadowmap_1=zM.ShadowMap0+1,this._groundShadowTiles=i.transform.coveringTiles({tileSize:512,renderWorldCopies:!0});const u=i.transform.elevation;for(const e of this._groundShadowTiles){let t={min:0,max:0};if(u){const i=u.getMinMaxForTile(e);i&&(t=i);}this.addShadowReceiver(e.toUnwrapped(),t.min,t.max);}}get enabled(){return this._enabled}set enabled(e){this._enabled=e;}drawShadowPass(e,t){if(!this._enabled)return;const i=this.painter,r=i.context;this._numCascadesToRender=this._receivers.computeRequiredCascades(i.transform.getFrustum(0),i.transform.worldSize,this._cascades),r.viewport.set([0,0,DA,DA]);for(let n=0;n<this._numCascadesToRender;++n){i.currentShadowCascade=n,r.bindFramebuffer.set(this._cascades[n].framebuffer.framebuffer),r.clear({color:li.white,depth:1});for(const r of e.order){const n=e._mergedLayers[r];if(!n.hasShadowPass()||n.isHidden(i.transform.zoom))continue;const o=e.getLayerSourceCache(n),s=o?t[o.id]:void 0;(\"model\"===n.type||s&&s.length)&&i.renderLayer(i,o,n,s);}}i.currentShadowCascade=0;}drawGroundShadows(){if(!this._enabled)return;const e=this.painter,t=e.style,i=e.context,r=t.directionalLight,n=t.ambientLight;if(!r||!n)return;const o=[],s=$E(e,e.longestCutoffRange);s.shouldRenderCutoff&&o.push(\"RENDER_CUTOFF\");const a=BA(r,n),l=new gx(i.gl.LEQUAL,gx.ReadOnly,e.depthRangeFor3D);for(const t of this._groundShadowTiles){const r=t.toUnwrapped(),n=e.isTileAffectedByFog(t),c=e.getOrCreateProgram(\"groundShadow\",{defines:o,overrideFog:n});this.setupShadows(r,c),e.uploadCommonUniforms(i,c,r,null,s);const h={u_matrix:e.transform.calculateProjMatrix(r),u_ground_shadow_factor:a};c.draw(e,i.gl.TRIANGLES,l,xx.disabled,bx.multiply,Ex.disabled,h,\"ground_shadow\",e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments,{},e.transform.zoom,null,null);}}getShadowPassColorMode(){return this.painter._shadowMapDebug?bx.unblended:bx.disabled}getShadowPassDepthMode(){return this._depthMode}getShadowCastingLayerCount(){return this._shadowLayerCount}calculateShadowPassMatrixFromTile(e){const t=this.painter.transform,i=t.calculatePosMatrix(e,t.worldSize);return xu.multiply(i,this._cascades[this.painter.currentShadowCascade].matrix,i),Float32Array.from(i)}calculateShadowPassMatrixFromMatrix(e){return xu.multiply(e,this._cascades[this.painter.currentShadowCascade].matrix,e),Float32Array.from(e)}setupShadows(e,t,i,r=0){if(!this._enabled)return;const n=this.painter.transform,o=this.painter.context,s=o.gl,a=this._uniformValues,l=new Float64Array(16),c=n.calculatePosMatrix(e,n.worldSize);for(let e=0;e<2;e++)xu.multiply(l,this._cascades[e].matrix,c),a[0===e?\"u_light_matrix_0\":\"u_light_matrix_1\"]=Float32Array.from(l),o.activeTexture.set(s.TEXTURE0+zM.ShadowMap0+e),this._cascades[e].texture.bind(s.NEAREST,s.CLAMP_TO_EDGE);if(this.useNormalOffset=!!i,this.useNormalOffset){const t=Qd(e.canonical),o=2/n.tileSize*sr/DA,s=o*this._cascades[0].boundingSphereRadius,l=o*this._cascades[1].boundingSphereRadius,c=(\"vector-tile\"===i?1:3)/Math.pow(2,r-e.canonical.z-(1-n.zoom+Math.floor(n.zoom)));a.u_shadow_normal_offset=[t,s*c,l*c],a.u_shadow_bias=[6e-5,.0012,.012];}else a.u_shadow_bias=[36e-5,.0012,.012];t.setShadowUniformValues(o,a);}setupShadowsFromMatrix(e,t,i=!1){if(!this._enabled)return;const r=this.painter.context,n=r.gl,o=this._uniformValues,s=new Float64Array(16);for(let t=0;t<2;t++)xu.multiply(s,this._cascades[t].matrix,e),o[0===t?\"u_light_matrix_0\":\"u_light_matrix_1\"]=Float32Array.from(s),r.activeTexture.set(n.TEXTURE0+zM.ShadowMap0+t),this._cascades[t].texture.bind(n.NEAREST,n.CLAMP_TO_EDGE);if(this.useNormalOffset=i,i){const e=5;o.u_shadow_normal_offset=[1,e,e],o.u_shadow_bias=[6e-5,.0012,.012];}else o.u_shadow_bias=[36e-5,.0012,.012];t.setShadowUniformValues(r,o);}getShadowUniformValues(){return this._uniformValues}getCurrentCascadeFrustum(){return this._cascades[this.painter.currentShadowCascade].frustum}computeSimplifiedTileShadowVolume(e,t,i,r){if(r[2]>=0)return {};const n=function(e,t,i){const r=i/(1<<e.canonical.z);return new Hu([e.canonical.x*r+e.wrap*i,e.canonical.y*r+e.wrap*i,0],[(e.canonical.x+1)*r+e.wrap*i,(e.canonical.y+1)*r+e.wrap*i,t])}(e,t,i).getCorners(),o=t/-r[2];r[0]<0?(Mu.add(n[0],n[0],[r[0]*o,0,0]),Mu.add(n[3],n[3],[r[0]*o,0,0])):r[0]>0&&(Mu.add(n[1],n[1],[r[0]*o,0,0]),Mu.add(n[2],n[2],[r[0]*o,0,0])),r[1]<0?(Mu.add(n[0],n[0],[0,r[1]*o,0]),Mu.add(n[1],n[1],[0,r[1]*o,0])):r[1]>0&&(Mu.add(n[2],n[2],[0,r[1]*o,0]),Mu.add(n[3],n[3],[0,r[1]*o,0]));const s={};return s.vertices=n,s.planes=[kA(n[1],n[0],n[4]),kA(n[2],n[1],n[5]),kA(n[3],n[2],n[6]),kA(n[0],n[3],n[7])],s}addShadowReceiver(e,t,i){this._receivers.add(e,Hu.fromTileIdAndHeight(e,t,i));}getMaxCascadeForTile(e){const t=this._receivers.get(e);return t&&t.lastCascade?t.lastCascade:0}}function kA(e,t,i){const r=Mu.sub([],i,t),n=Mu.sub([],e,t),o=Mu.cross([],r,n),s=Mu.length(o);return 0===s?[0,0,1,0]:(Mu.scale(o,o,1/s),[o[0],o[1],o[2],-Mu.dot(o,t)])}function OA(e){const t=e.properties.get(\"direction\"),i=J(t.x,t.y,t.z);i[2]=z(i[2],0,75);const r=K([i[0],i[1],i[2]]);return Mu.fromValues(r.x,r.y,r.z)}function BA(e,t){const i=e.properties.get(\"color\"),r=e.properties.get(\"intensity\"),n=e.properties.get(\"direction\"),o=[n.x,n.y,n.z],s=t.properties.get(\"color\"),a=t.properties.get(\"intensity\"),l=Math.max(Mu.dot([0,0,1],o),0),c=[0,0,0];Mu.scale(c,s.toArray01Linear().slice(0,3),a);const h=[0,0,0];return Mu.scale(h,i.toArray01Linear().slice(0,3),l*r),ae([c[0]>0?c[0]/(c[0]+h[0]):0,c[1]>0?c[1]/(c[1]+h[1]):0,c[2]>0?c[2]/(c[2]+h[2]):0])}function FA(e,t,i,r,n,o){const s=e.zoom,a=e.scale,l=e.worldSize,c=1/l,h=e.aspect,u=Math.sqrt(1+h*h)*Math.tan(.5*e.fovX),d=u*u,p=r-i,f=r+i;let m,_;d>p/f?(m=r,_=r*u):(m=.5*f*(1+d),_=.5*Math.sqrt(p*p+2*(r*r+i*i)*d+f*f*d*d));const g=e.projection.pixelsPerMeter(e.center.lat,l),y=e._camera.getCameraToWorldMercator(),x=[0,0,-m*c];Mu.transformMat4(x,x,y);let v=_*c;const b=e._edgeInsets;if(!(0===b.left&&0===b.top&&0===b.right&&0===b.bottom||b.left===b.right&&b.top===b.bottom)){const t=e._camera.getWorldToCamera(e.worldSize,\"meters\"===e.projection.zAxisUnit?g:1),n=e._camera.getCameraToClipPerspective(e._fov,e.width/e.height,i,r);n[8]=2*-e.centerOffset.x/e.width,n[9]=2*e.centerOffset.y/e.height;const o=new Float64Array(16);xu.mul(o,n,t);const c=new Float64Array(16);xu.invert(c,o);const h=$u.fromInvProjectionMatrix(c,l,s,!0);for(const t of h.points){const i=((w=t)[0]/=a,w[1]/=a,w[2]=Zd(w[2],e._center.lat),w);v=Math.max(v,Mu.len(Mu.subtract([],x,i)));}}var w;v*=n/(n-1);const T=Math.acos(t[2]),E=Math.atan2(-t[0],-t[1]),M=new jx;M.position=x,M.setPitchBearing(T,E);const A=M.getWorldToCamera(l,g),S=v*l,I=Math.min(e._mercatorZfromZoom(17)*l*-2,-2*S),C=M.getCameraToClipOrthographic(-S,S,-S,S,I,(S+o*g)/t[2]),z=new Float64Array(16);xu.multiply(z,C,A);const D=Mu.fromValues(Math.floor(1e6*x[0])/1e6*l,Math.floor(1e6*x[1])/1e6*l,0),P=.5*n,R=[0,0,0];Mu.transformMat4(R,D,z),Mu.scale(R,R,P);const L=[Math.floor(R[0]),Math.floor(R[1]),Math.floor(R[2])],k=[0,0,0];Mu.sub(k,R,L),Mu.scale(k,k,-1/P);const O=new Float64Array(16);return xu.identity(O),xu.translate(O,O,k),xu.multiply(z,O,z),[z,S]}class NA extends It{constructor(e){super(),this.requestManager=e,this.models={\"\":{}},this.numModelsLoading={};}loadModel(e,t){return aT(this.requestManager.transformRequest(t,ye.Model).url).then((t=>{if(!t)return;const i=_T(t),r=new bv(e,void 0,void 0,i);return r.computeBoundsAndApplyParent(),r})).catch((i=>{this.fire(new St(new Error(`Could not load model ${e} from ${t}: ${i.message}`)));}))}load(e,t){this.models[t]||(this.models[t]={});const i=Object.keys(e);this.numModelsLoading[t]=(this.numModelsLoading[t]||0)+i.length;const r=[];for(const t of i)r.push(this.loadModel(t,e[t]));Promise.allSettled(r).then((e=>{for(let r=0;r<e.length;r++){const{status:n,value:o}=e[r];\"fulfilled\"===n&&o&&(this.models[t][i[r]]=o);}this.numModelsLoading[t]-=i.length,this.fire(new At(\"data\",{dataType:\"style\"}));})).catch((e=>{this.fire(new St(new Error(`Could not load models: ${e.message}`)));}));}isLoaded(){for(const e in this.numModelsLoading)if(this.numModelsLoading[e]>0)return !1;return !0}hasModel(e,t){return !!this.getModel(e,t)}getModel(e,t){return this.models[t]||(this.models[t]={}),this.models[t][e]}addModel(e,t,i){this.models[i]||(this.models[i]={}),this.hasModel(e,i)&&this.removeModel(e,i),this.load({[e]:this.requestManager.normalizeModelURL(t)},i);}addModels(e,t){const i={};for(const t in e)i[t]=this.requestManager.normalizeModelURL(e[t]);this.load(i,t);}removeModel(e,t){this.models[t]||(this.models[t]={});const i=this.models[t][e];delete this.models[t][e],i.destroy();}listModels(e){return this.models[e]||(this.models[e]={}),Object.keys(this.models[e])}upload(e,t){this.models[t]||(this.models[t]={});for(const i in this.models[t])this.models[t][i].upload(e.context);}}const UA=(e,t)=>ws(e,t&&t.filter((e=>\"source.canvas\"!==e.identifier))),VA=O(CT,[\"addLayer\",\"removeLayer\",\"setLights\",\"setPaintProperty\",\"setLayoutProperty\",\"setSlot\",\"setFilter\",\"addSource\",\"removeSource\",\"setLayerZoomRange\",\"setLight\",\"setTransition\",\"setGeoJSONSourceData\",\"setTerrain\",\"setFog\",\"setProjection\",\"setCamera\",\"addImport\",\"removeImport\",\"setImportUrl\",\"setImportData\",\"setImportConfig\"]),jA=O(CT,[\"setCenter\",\"setZoom\",\"setBearing\",\"setPitch\"]),GA={version:8,layers:[],sources:{}},qA={duration:300,delay:0},ZA=new Set([\"fill\",\"line\",\"background\",\"hillshade\",\"raster\"]);class $A extends It{constructor(e,t={}){super(),this.map=e,this.scope=t.scope||\"\",this.fragments=[],this.importDepth=t.importDepth||0,this.importsCache=t.importsCache||new Map,this.resolvedImports=t.resolvedImports||new Set,this.transition=k({},qA),this._buildingIndex=new MT(this),this.crossTileSymbolIndex=new wE,this._mergedOrder=[],this._drapedFirstOrder=[],this._mergedLayers={},this._mergedSourceCaches={},this._mergedOtherSourceCaches={},this._mergedSymbolSourceCaches={},this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this._changes=t.styleChanges||new ga,this.dispatcher=t.dispatcher?t.dispatcher:new _w(Uw(),this),t.imageManager?this.imageManager=t.imageManager:(this.imageManager=new Qb,this.imageManager.setEventedParent(this)),this.imageManager.createScope(this.scope),this.glyphManager=t.glyphManager?t.glyphManager:new K_(e._requestManager,t.localFontFamily?2:t.localIdeographFontFamily?1:0,t.localFontFamily||t.localIdeographFontFamily),t.modelManager?this.modelManager=t.modelManager:(this.modelManager=new NA(e._requestManager),this.modelManager.setEventedParent(this)),this._layers={},this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._precompileDone=!1,this._shouldPrecompile=!1,this._availableImages=[],this._order=[],this._markersNeedUpdate=!1,this.options=new Map,this._configDependentLayers=new Set,this.dispatcher.broadcast(\"setReferrer\",ve());const i=this;this._rtlTextPluginCallback=$A.registerForPluginStateChange((e=>{i.dispatcher.broadcast(\"syncRTLPluginState\",{pluginStatus:e.pluginStatus,pluginURL:e.pluginURL},((e,t)=>{if(Ws(e),t&&t.every((e=>e)))for(const e in i._sourceCaches){const t=i._sourceCaches[e],r=t.getSource().type;\"vector\"!==r&&\"geojson\"!==r||t.reload();}}));})),this.on(\"data\",(e=>{if(\"source\"!==e.dataType||\"metadata\"!==e.sourceDataType)return;const t=this.getOwnSource(e.sourceId);if(t&&t.vectorLayerIds)for(const e in this._layers){const i=this._layers[e];i.source===t.id&&this._validateLayer(i);}}));}loadURL(e,t={}){this.fire(new At(\"dataloading\",{dataType:\"style\"}));const i=\"boolean\"==typeof t.validate?t.validate:!De(e);e=this.map._requestManager.normalizeStyleURL(e,t.accessToken),this.resolvedImports.add(e);const r=this.importsCache.get(e);if(r)return this._load(r,i);const n=this.map._requestManager.transformRequest(e,ye.Style);this._request=we(n,((t,r)=>{if(this._request=null,t)this.fire(new St(t));else if(r)return this.importsCache.set(e,r),this._load(r,i)}));}loadJSON(e,t={}){this.fire(new At(\"dataloading\",{dataType:\"style\"})),this._request=ht.frame((()=>{this._request=null,this._load(e,!1!==t.validate);}));}loadEmpty(){this.fire(new At(\"dataloading\",{dataType:\"style\"})),this._load(GA,!1);}_loadImports(e,t){if(this.importDepth>=4)return W(\"Style doesn't support nesting deeper than 5\"),this._reloadImports();const i=[];for(const r of e){const e=this._createFragmentStyle(r),n=new Promise((t=>e.on(\"style.import.load\",t)));if(i.push(n),this.resolvedImports.has(r.url)){e.loadEmpty();continue}const o=r.data||this.importsCache.get(r.url);o?e.loadJSON(o,{validate:t}):r.url?e.loadURL(r.url,{validate:t}):e.loadEmpty(),this.fragments.push({style:e,id:r.id,config:r.config});}Promise.all(i).then((()=>this._reloadImports()));}_createFragmentStyle(e){const t=this.scope?pa(e.id,this.scope):e.id,i=new $A(this.map,{scope:t,styleChanges:this._changes,importDepth:this.importDepth+1,importsCache:this.importsCache,resolvedImports:new Set(this.resolvedImports),dispatcher:this.dispatcher,imageManager:this.imageManager,glyphManager:this.glyphManager,modelManager:this.modelManager});return i.setEventedParent(this.map,{style:i}),i.setConfig(e.config),i}_reloadImports(){this.mergeAll(),this._updateMapProjection(),this.dispatcher.broadcast(\"setLayers\",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options});const e=this.isRootStyle();this._shouldPrecompile=e,this.fire(new At(\"data\",{dataType:\"style\"})),this.fire(new At(e?\"style.load\":\"style.import.load\"));}_load(e,t){const i=e.schema;if(this.isRootStyle()&&(e.fragment||i&&!1!==e.fragment)){const i=k({},GA,{imports:[{id:\"basemap\",data:e,url:\"\"}]});return void this._load(i,t)}if(this.updateSchema(i),t&&UA(this,hs(e)))return;this._loaded=!0,this.stylesheet=$(e);for(const t in e.sources)this.addSource(t,e.sources[t],{validate:!1});this._changes.changed=!1,e.sprite?this._loadSprite(e.sprite):(this.imageManager.setLoaded(!0,this.scope),this.dispatcher.broadcast(\"spriteLoaded\",{scope:this.scope,isLoaded:!0})),this.glyphManager.setURL(e.glyphs,this.scope);const r=IT(this.stylesheet.layers);if(this._order=r.map((e=>e.id)),this.stylesheet.light&&W(\"The `light` root property is deprecated, prefer using `lights` with `flat` light type instead.\"),this.stylesheet.lights)if(1===this.stylesheet.lights.length&&\"flat\"===this.stylesheet.lights[0].type){const e=this.stylesheet.lights[0];this.light=new tw(e.properties,e.id);}else this.setLights(this.stylesheet.lights);this.light||(this.light=new tw(this.stylesheet.light)),this._layers={},this._serializedLayers={};for(const e of r){const t=Kb(e,this.options);t.setScope(this.scope),t.isConfigDependent&&this._configDependentLayers.add(t.fqid),t.setEventedParent(this,{layer:{id:t.id}}),this._layers[t.id]=t,this._layers[t.id]=t,this._serializedLayers[t.id]=t.serialize();const i=this.getOwnLayerSourceCache(t),r=!!this.directionalLight&&this.directionalLight.shadowsEnabled();i&&t.canCastShadows()&&r&&(i.castsShadows=!0);}this.stylesheet.models&&this.modelManager.addModels(this.stylesheet.models,this.scope);const n=this.stylesheet.terrain;if(n&&!this.terrainSetForDrapingOnly()&&this._createTerrain(n,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this.stylesheet.transition&&this.setTransition(this.stylesheet.transition),this.mergeAll(),this._updateMapProjection(),this.map._triggerCameraUpdate(this.camera),this.fire(new At(\"data\",{dataType:\"style\"})),e.imports)this._loadImports(e.imports,t);else {this.dispatcher.broadcast(\"setLayers\",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options});const e=this.isRootStyle();this._shouldPrecompile=e,this.fire(new At(e?\"style.load\":\"style.import.load\"));}}isRootStyle(){return 0===this.importDepth}mergeAll(){let e,t,i,r,n,o,s,a;this.forEachFragmentStyle((l=>{if(l.stylesheet){if(null!=l.light&&(e=l.light),l.stylesheet.lights)for(const e of l.stylesheet.lights)\"ambient\"===e.type&&null!=l.ambientLight&&(t=l.ambientLight),\"directional\"===e.type&&null!=l.directionalLight&&(i=l.directionalLight);(l.stylesheet.terrain||l.stylesheet.projection&&\"globe\"===l.stylesheet.projection.name)&&null!=l.terrain&&(!r||r&&0===r.drapeRenderMode||1===l.terrain.drapeRenderMode)&&(r=l.terrain),l.stylesheet.fog&&null!=l.fog&&(n=l.fog),null!=l.stylesheet.camera&&(a=l.stylesheet.camera),null!=l.stylesheet.projection&&(o=l.stylesheet.projection),null!=l.stylesheet.transition&&(s=l.stylesheet.transition);}})),this.light=e,this.ambientLight=t,this.directionalLight=i,this.terrain=r,this.fog=n,this.camera=a||{\"camera-projection\":\"perspective\"},this.projection=o||{name:\"mercator\"},this.transition=k({},qA,s),this.mergeSources(),this.mergeLayers();}forEachFragmentStyle(e){const t=i=>{for(const e of i.fragments)t(e.style);e(i);};t(this);}mergeTerrain(){let e;this.forEachFragmentStyle((t=>{null!=t.terrain&&(!e||e&&0===e.drapeRenderMode||1===t.terrain.drapeRenderMode)&&(e=t.terrain);})),this.terrain=e;}mergeProjection(){let e;this.forEachFragmentStyle((t=>{null!=t.stylesheet.projection&&(e=t.stylesheet.projection);})),this.projection=e||{name:\"mercator\"};}mergeSources(){const e={},t={},i={};this.forEachFragmentStyle((r=>{for(const t in r._sourceCaches){const i=pa(t,r.scope);e[i]=r._sourceCaches[t];}for(const e in r._otherSourceCaches){const i=pa(e,r.scope);t[i]=r._otherSourceCaches[e];}for(const e in r._symbolSourceCaches){const t=pa(e,r.scope);i[t]=r._symbolSourceCaches[e];}})),this._mergedSourceCaches=e,this._mergedOtherSourceCaches=t,this._mergedSymbolSourceCaches=i;}mergeLayers(){const e={},t=[],i={};this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this.forEachFragmentStyle((i=>{for(const r of i._order){const n=i._layers[r];if(\"slot\"===n.type){const t=fa(r);if(e[t])continue;e[t]=[];}n.slot&&e[n.slot]?e[n.slot].push(n):t.push(n);}})),this._mergedOrder=[];const r=(t=[])=>{for(const n of t)if(\"slot\"===n.type){const t=fa(n.id);e[t]&&r(e[t]);}else {const e=pa(n.id,n.scope);this._mergedOrder.push(e),i[e]=n,n.is3D()&&(this._has3DLayers=!0),\"circle\"===n.type&&(this._hasCircleLayers=!0),\"symbol\"===n.type&&(this._hasSymbolLayers=!0);}};r(t),this._mergedLayers=i,this.updateDrapeFirstLayers(),this._buildingIndex.processLayersChanged();}terrainSetForDrapingOnly(){return !!this.terrain&&0===this.terrain.drapeRenderMode}getCamera(){return this.stylesheet.camera}setCamera(e){return this.stylesheet.camera=k({},this.stylesheet.camera,e),this.camera=this.stylesheet.camera,this}setProjection(e){e?this.stylesheet.projection=e:delete this.stylesheet.projection,this.mergeProjection(),this._updateMapProjection();}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast(\"setProjection\",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null));}_updateMapProjection(){this.isRootStyle()&&(this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.projection));}_loadSprite(e){this._spriteRequest=function(e,t,i){let r,n,o;const s=ht.devicePixelRatio>1?\"@2x\":\"\";let a=we(t.transformRequest(t.normalizeSpriteURL(e,s,\".json\"),ye.SpriteJSON),((e,t)=>{a=null,o||(o=e,r=t,c());})),l=Ie(t.transformRequest(t.normalizeSpriteURL(e,s,\".png\"),ye.SpriteImage),((e,t)=>{l=null,o||(o=e,n=t,c());}));function c(){if(o)i(o);else if(r&&n){const e=ht.getImageData(n),t={};for(const i in r){const{width:n,height:o,x:s,y:a,sdf:l,pixelRatio:c,stretchX:h,stretchY:u,content:d}=r[i],p=new $p({width:n,height:o});$p.copy(e,p,{x:s,y:a},{x:0,y:0},{width:n,height:o}),t[i]={data:p,pixelRatio:c,sdf:l,stretchX:h,stretchY:u,content:d};}i(null,t);}}return {cancel(){a&&(a.cancel(),a=null),l&&(l.cancel(),l=null);}}}(e,this.map._requestManager,((e,t)=>{if(this._spriteRequest=null,e)this.fire(new St(e));else if(t)for(const e in t)this.imageManager.addImage(e,this.scope,t[e]);this.imageManager.setLoaded(!0,this.scope),this._availableImages=this.imageManager.listImages(this.scope),this.dispatcher.broadcast(\"setImages\",{scope:this.scope,images:this._availableImages}),this.dispatcher.broadcast(\"spriteLoaded\",{scope:this.scope,isLoaded:!0}),this.fire(new At(\"data\",{dataType:\"style\"}));}));}_validateLayer(e){const t=this.getOwnSource(e.source);if(!t)return;const i=e.sourceLayer;i&&(\"geojson\"===t.type||t.vectorLayerIds&&-1===t.vectorLayerIds.indexOf(i))&&this.fire(new St(new Error(`Source layer \"${i}\" does not exist on source \"${t.id}\" as specified by style layer \"${e.id}\"`)));}loaded(){if(!this._loaded)return !1;if(Object.keys(this._changes.updatedSourceCaches).length)return !1;for(const e in this._sourceCaches)if(!this._sourceCaches[e].loaded())return !1;if(!this.imageManager.isLoaded())return !1;if(!this.modelManager.isLoaded())return !1;for(const{style:e}of this.fragments)if(!e.loaded())return !1;return !0}_serializeImports(){if(this.stylesheet.imports)return this.stylesheet.imports.map(((e,t)=>{const i=this.fragments[t];return i&&i.style&&(e.data=i.style.serialize()),e}))}_serializeSources(){const e={};for(const t in this._sourceCaches){const i=this._sourceCaches[t].getSource();e[i.id]||(e[i.id]=i.serialize());}return e}_serializeLayers(e){const t=[];for(const i of e){const e=this._layers[i];e&&\"custom\"!==e.type&&t.push(e.serialize());}return t}hasLightTransitions(){return !(!this.light||!this.light.hasTransition())||!(!this.ambientLight||!this.ambientLight.hasTransition())||!(!this.directionalLight||!this.directionalLight.hasTransition())}hasFogTransition(){return !!this.fog&&this.fog.hasTransition()}hasTransitions(){if(this.hasLightTransitions())return !0;if(this.hasFogTransition())return !0;for(const e in this._sourceCaches)if(this._sourceCaches[e].hasTransition())return !0;for(const e in this._layers)if(this._layers[e].hasTransition())return !0;return !1}get order(){return this.terrain?this._drapedFirstOrder:this._mergedOrder}isLayerDraped(e){return !!this.terrain&&(\"function\"==typeof e.isLayerDraped?e.isLayerDraped(this.getLayerSourceCache(e)):ZA.has(e.type))}_checkLoaded(){if(!this._loaded)throw new Error(\"Style is not done loading\")}_checkLayer(e){const t=this.getOwnLayer(e);if(t)return t;this.fire(new St(new Error(`The layer '${e}' does not exist in the map's style.`)));}_checkSource(e){const t=this.getOwnSource(e);if(t)return t;this.fire(new St(new Error(`The source '${e}' does not exist in the map's style.`)));}update(e){if(!this._loaded)return;this.ambientLight&&this.ambientLight.recalculate(e),this.directionalLight&&this.directionalLight.recalculate(e);const t=this.calculateLightsBrightness();e.brightness=t||0,t!==this._brightness&&(this._brightness=t,this.dispatcher.broadcast(\"setBrightness\",t));const i=this._changes.changed;if(this._changes.changed){const t=this._changes.getLayerUpdatesByScope();for(const e in t){const{updatedIds:i,removedIds:r}=t[e];(i||r)&&this._updateWorkerLayers(e,i,r);}this.updateSourceCaches(),this._updateTilesForChangedImages(),this.updateLayers(e),this.light&&this.light.updateTransitions(e),this.ambientLight&&this.ambientLight.updateTransitions(e),this.directionalLight&&this.directionalLight.updateTransitions(e),this.fog&&this.fog.updateTransitions(e),this._changes.reset();}const r={};for(const e in this._mergedSourceCaches){const t=this._mergedSourceCaches[e];r[e]=t.used,t.used=!1;}for(const t of this._mergedOrder){const i=this._mergedLayers[t];if(i.recalculate(e,this._availableImages),!i.isHidden(e.zoom)){const e=this.getOwnLayerSourceCache(i);e&&(e.used=!0);}if(!this._precompileDone&&this._shouldPrecompile)for(let t=i.minzoom||0;t<(i.maxzoom||25.5);t++){const t=this.map.painter;if(t){const r=i.getProgramIds();if(!r)continue;for(const n of r){const r=i.getDefaultProgramParams(n,e.zoom);r&&(t.style=this,this.fog&&(t._fogVisible=!0,r.overrideFog=!0,t.getOrCreateProgram(n,r)),t._fogVisible=!1,r.overrideFog=!1,t.getOrCreateProgram(n,r),(this.stylesheet.terrain||this.stylesheet.projection&&\"globe\"===this.stylesheet.projection.name)&&(r.overrideRtt=!0,t.getOrCreateProgram(n,r)));}}}}this._shouldPrecompile&&(this._precompileDone=!0);for(const e in r){const t=this._mergedSourceCaches[e];r[e]!==t.used&&t.getSource().fire(new At(\"data\",{sourceDataType:\"visibility\",dataType:\"source\",sourceId:t.getSource().id}));}this.light&&this.light.recalculate(e),this.terrain&&this.terrain.recalculate(e),this.fog&&this.fog.recalculate(e),this.z=e.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),i&&this.fire(new At(\"data\",{dataType:\"style\"}));for(const{style:t}of this.fragments)t.update(e);}_updateTilesForChangedImages(){const e=Array.from(this._changes.changedImages.keys());if(e.length){for(const t in this._sourceCaches)this._sourceCaches[t].reloadTilesForDependencies([\"icons\",\"patterns\"],e);this._changes.changedImages.clear();}}_updateWorkerLayers(e,t,i){const r=this.getFragmentStyle(e);this.dispatcher.broadcast(\"updateLayers\",{layers:t?r._serializeLayers(t):[],scope:e,removedIds:i||[],options:r.options});}setState(e){if(this._checkLoaded(),UA(this,hs(e)))return !1;(e=$(e)).layers=IT(e.layers);const t=function(e,t){if(!e)return [{command:CT.setStyle,args:[t]}];let i=[];try{if(!x(e.version,t.version))return [{command:CT.setStyle,args:[t]}];x(e.center,t.center)||i.push({command:CT.setCenter,args:[t.center]}),x(e.zoom,t.zoom)||i.push({command:CT.setZoom,args:[t.zoom]}),x(e.bearing,t.bearing)||i.push({command:CT.setBearing,args:[t.bearing]}),x(e.pitch,t.pitch)||i.push({command:CT.setPitch,args:[t.pitch]}),x(e.sprite,t.sprite)||i.push({command:CT.setSprite,args:[t.sprite]}),x(e.glyphs,t.glyphs)||i.push({command:CT.setGlyphs,args:[t.glyphs]}),x(e.transition,t.transition)||i.push({command:CT.setTransition,args:[t.transition]}),x(e.light,t.light)||i.push({command:CT.setLight,args:[t.light]}),x(e.fog,t.fog)||i.push({command:CT.setFog,args:[t.fog]}),x(e.projection,t.projection)||i.push({command:CT.setProjection,args:[t.projection]}),x(e.lights,t.lights)||i.push({command:CT.setLights,args:[t.lights]}),x(e.camera,t.camera)||i.push({command:CT.setCamera,args:[t.camera]});const r={},n=[];!function(e,t,i,r){let n;for(n in t=t||{},e=e||{})e.hasOwnProperty(n)&&(t.hasOwnProperty(n)||DT(n,i,r));for(n in t){if(!t.hasOwnProperty(n))continue;const o=t[n];e.hasOwnProperty(n)?x(e[n],o)||(\"geojson\"===e[n].type&&\"geojson\"===o.type&&RT(e,t,n)?i.push({command:CT.setGeoJSONSourceData,args:[n,o.data]}):PT(n,t,i,r)):zT(n,t,i);}}(e.sources,t.sources,n,r);const o=[];e.layers&&e.layers.forEach((e=>{e.source&&r[e.source]?i.push({command:CT.removeLayer,args:[e.id]}):o.push(e);}));let s=e.terrain;s&&r[s.source]&&(i.push({command:CT.setTerrain,args:[void 0]}),s=void 0),i=i.concat(n),x(s,t.terrain)||i.push({command:CT.setTerrain,args:[t.terrain]}),function(e,t,i){t=t||[];const r=(e=e||[]).map(kT),n=t.map(kT),o=e.reduce(OT,{}),s=t.reduce(OT,{}),a=r.slice(),l=Object.create(null);let c,h,u,d,p,f,m;for(c=0,h=0;c<r.length;c++)u=r[c],s.hasOwnProperty(u)?h++:(i.push({command:CT.removeLayer,args:[u]}),a.splice(a.indexOf(u,h),1));for(c=0,h=0;c<n.length;c++)u=n[n.length-1-c],a[a.length-1-c]!==u&&(o.hasOwnProperty(u)?(i.push({command:CT.removeLayer,args:[u]}),a.splice(a.lastIndexOf(u,a.length-h),1)):h++,f=a[a.length-c],i.push({command:CT.addLayer,args:[s[u],f]}),a.splice(a.length-c,0,u),l[u]=!0);for(c=0;c<n.length;c++)if(u=n[c],d=o[u],p=s[u],!l[u]&&!x(d,p))if(x(d.source,p.source)&&x(d[\"source-layer\"],p[\"source-layer\"])&&x(d.type,p.type)){for(m in LT(d.layout,p.layout,i,u,null,CT.setLayoutProperty),LT(d.paint,p.paint,i,u,null,CT.setPaintProperty),x(d.slot,p.slot)||i.push({command:CT.setSlot,args:[u,p.slot]}),x(d.filter,p.filter)||i.push({command:CT.setFilter,args:[u,p.filter]}),x(d.minzoom,p.minzoom)&&x(d.maxzoom,p.maxzoom)||i.push({command:CT.setLayerZoomRange,args:[u,p.minzoom,p.maxzoom]}),d)d.hasOwnProperty(m)&&\"layout\"!==m&&\"paint\"!==m&&\"filter\"!==m&&\"metadata\"!==m&&\"minzoom\"!==m&&\"maxzoom\"!==m&&\"slot\"!==m&&(0===m.indexOf(\"paint.\")?LT(d[m],p[m],i,u,m.slice(6),CT.setPaintProperty):x(d[m],p[m])||i.push({command:CT.setLayerProperty,args:[u,m,p[m]]}));for(m in p)p.hasOwnProperty(m)&&!d.hasOwnProperty(m)&&\"layout\"!==m&&\"paint\"!==m&&\"filter\"!==m&&\"metadata\"!==m&&\"minzoom\"!==m&&\"maxzoom\"!==m&&\"slot\"!==m&&(0===m.indexOf(\"paint.\")?LT(d[m],p[m],i,u,m.slice(6),CT.setPaintProperty):x(d[m],p[m])||i.push({command:CT.setLayerProperty,args:[u,m,p[m]]}));}else i.push({command:CT.removeLayer,args:[u]}),f=a[a.lastIndexOf(u)+1],i.push({command:CT.addLayer,args:[p,f]});}(o,t.layers,i),function(e=[],t=[],i){t=t||[];const r=(e=e||[]).map(kT),n=t.map(kT),o=e.reduce(OT,{}),s=t.reduce(OT,{}),a=r.slice();let l,c,h,u;for(l=0,c=0;l<r.length;l++)h=r[l],s.hasOwnProperty(h)?c++:(i.push({command:CT.removeImport,args:[h]}),a.splice(a.indexOf(h,c),1));for(l=0,c=0;l<n.length;l++)h=n[n.length-1-l],a[a.length-1-l]!==h&&(o.hasOwnProperty(h)?(i.push({command:CT.removeImport,args:[h]}),a.splice(a.lastIndexOf(h,a.length-c),1)):c++,u=a[a.length-l],i.push({command:CT.addImport,args:[s[h],u]}),a.splice(a.length-l,0,h));for(const e of t){const t=o[e.id];if(!t||x(t,e))continue;x(t.config,e.config)||i.push({command:CT.setImportConfig,args:[e.id,e.config]}),x(t.url,e.url)||i.push({command:CT.setImportUrl,args:[e.id,e.url]});const r=e.data;x(t&&t.data,r)||i.push({command:CT.setImportData,args:[e.id,r]});}}(e.imports,t.imports,i);}catch(e){console.warn(\"Unable to compute style diff:\",e),i=[{command:CT.setStyle,args:[t]}];}return i}(this.serialize(),e).filter((e=>!(e.command in jA)));if(0===t.length)return !1;const i=t.filter((e=>!(e.command in VA)));if(i.length>0)throw new Error(`Unimplemented: ${i.map((e=>e.command)).join(\", \")}.`);return t.forEach((e=>{this[e.command].apply(this,e.args);})),this.stylesheet=e,this.mergeAll(),this.dispatcher.broadcast(\"setLayers\",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options}),!0}addImage(e,t){return this.getImage(e)?this.fire(new St(new Error(\"An image with this name already exists.\"))):(this.imageManager.addImage(e,this.scope,t),this._afterImageUpdated(e),this)}updateImage(e,t){this.imageManager.updateImage(e,this.scope,t);}getImage(e){return this.imageManager.getImage(e,this.scope)}removeImage(e){return this.getImage(e)?(this.imageManager.removeImage(e,this.scope),this._afterImageUpdated(e),this):this.fire(new St(new Error(\"No image with this name exists.\")))}_afterImageUpdated(e){this._availableImages=this.imageManager.listImages(this.scope),this._changes.changedImages.add(e),this._changes.changed=!0,this.dispatcher.broadcast(\"setImages\",{scope:this.scope,images:this._availableImages}),this.fire(new At(\"data\",{dataType:\"style\"}));}listImages(){return this._checkLoaded(),this._availableImages.slice()}addModel(e,t,i={}){return this._checkLoaded(),this._validate(vs,`models.${e}`,t,null,i)||(this.modelManager.addModel(e,t,this.scope),this._changes.changed=!0),this}hasModel(e){return this.modelManager.hasModel(e,this.scope)}removeModel(e){return this.hasModel(e)?(this.modelManager.removeModel(e,this.scope),this):this.fire(new St(new Error(\"No model with this ID exists.\")))}listModels(){return this._checkLoaded(),this.modelManager.listModels(this.scope)}addSource(e,t,i={}){if(this._checkLoaded(),void 0!==this.getOwnSource(e))throw new Error(`There is already a source with ID \"${e}\".`);if(!t.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(t).join(\", \")}.`);if([\"vector\",\"raster\",\"geojson\",\"video\",\"image\"].indexOf(t.type)>=0&&this._validate(us,`sources.${e}`,t,null,i))return;this.map&&this.map._collectResourceTiming&&(t.collectResourceTiming=!0);const r=vT(e,t,this.dispatcher,this);r.scope=this.scope,r.setEventedParent(this,(()=>({isSourceLoaded:this._isSourceCacheLoaded(r.id),source:r.serialize(),sourceId:r.id})));const n=e=>{const t=(e?\"symbol:\":\"other:\")+r.id,i=pa(t,this.scope),n=this._sourceCaches[t]=new Ax(i,r,e);(e?this._symbolSourceCaches:this._otherSourceCaches)[r.id]=n,n.onAdd(this.map);};n(!1),\"vector\"!==t.type&&\"geojson\"!==t.type||n(!0),r.onAdd&&r.onAdd(this.map),this.mergeSources(),this._changes.changed=!0;}removeSource(e){this._checkLoaded();const t=this.getOwnSource(e);if(!t)throw new Error(\"There is no source with this ID\");for(const t in this._layers)if(this._layers[t].source===e)return this.fire(new St(new Error(`Source \"${e}\" cannot be removed while layer \"${t}\" is using it.`)));if(this.terrain&&this.terrain.get().source===e)return this.fire(new St(new Error(`Source \"${e}\" cannot be removed while terrain is using it.`)));const i=this.getOwnSourceCaches(e);for(const e of i){const t=fa(e.id);delete this._sourceCaches[t],delete this._changes.updatedSourceCaches[e.id],e.fire(new At(\"data\",{sourceDataType:\"metadata\",dataType:\"source\",sourceId:e.getSource().id})),e.setEventedParent(null),e.clearTiles();}return delete this._otherSourceCaches[e],delete this._symbolSourceCaches[e],this.mergeSources(),t.setEventedParent(null),t.onRemove&&t.onRemove(this.map),this._changes.changed=!0,this}setGeoJSONSourceData(e,t){this._checkLoaded(),this.getOwnSource(e).setData(t),this._changes.changed=!0;}getOwnSource(e){const t=this.getOwnSourceCache(e);return t&&t.getSource()}getOwnSources(){const e=[];for(const t in this._otherSourceCaches){const i=this.getOwnSourceCache(t);i&&e.push(i.getSource());}return e}setLights(e){if(this._checkLoaded(),!e)return delete this.ambientLight,void delete this.directionalLight;const t=this._getTransitionParameters();for(const i of e){if(this._validate(ps,\"lights\",i))return;switch(i.type){case\"ambient\":if(this.ambientLight){const e=this.ambientLight;e.set(i),e.updateTransitions(t);}else this.ambientLight=new gw(i,yw,this.scope,this.options);break;case\"directional\":if(this.directionalLight){const e=this.directionalLight;e.set(i),e.updateTransitions(t);}else this.directionalLight=new gw(i,xw,this.scope,this.options);}}const i=new ea(this.z||0,t);this.ambientLight&&this.ambientLight.recalculate(i),this.directionalLight&&this.directionalLight.recalculate(i),this._brightness=this.calculateLightsBrightness(),this.dispatcher.broadcast(\"setBrightness\",this._brightness);}calculateLightsBrightness(){const e=this.directionalLight,t=this.ambientLight;if(!e||!t)return;const i=e=>.2126*(e[0]<=.03928?e[0]/12.92:Math.pow((e[0]+.055)/1.055,2.4))+.7152*(e[1]<=.03928?e[1]/12.92:Math.pow((e[1]+.055)/1.055,2.4))+.0722*(e[2]<=.03928?e[2]/12.92:Math.pow((e[2]+.055)/1.055,2.4)),r=e.properties.get(\"color\").toArray01(),n=e.properties.get(\"intensity\"),o=e.properties.get(\"direction\"),s=1-J(o.x,o.y,o.z)[2]/90,a=i(r)*n*s,l=t.properties.get(\"color\").toArray01(),c=t.properties.get(\"intensity\");return (a+i(l)*c)/2}getBrightness(){return this._brightness}getLights(){if(!this.enable3dLights())return null;const e=[];return this.directionalLight&&e.push(this.directionalLight.get()),this.ambientLight&&e.push(this.ambientLight.get()),e}enable3dLights(){return !!this.ambientLight&&!!this.directionalLight}getFragmentStyle(e){if(!e)return this;const t=this.fragments.find((({id:t})=>t===e));if(!t)throw new Error(`Style import not found: ${e}`);return t.style}setConfigProperty(e,t,i){const r=xo(i);if(\"success\"!==r.result)return void UA(this,r.value);const n=r.value.expression,o=this.getFragmentStyle(e);o.options.set(t,n),o.updateConfigDependencies();}setConfig(e,t){if(this.options.clear(),e){for(const t in e){const i=xo(e[t]);\"success\"===i.result&&this.options.set(t,i.value.expression);}this.updateSchema(t);}}updateSchema(e){if(e)for(const t in e){if(this.options.has(t))continue;const i=xo(e[t].default);\"success\"===i.result&&this.options.set(t,i.value.expression);}}updateConfigDependencies(){for(const e of this._configDependentLayers){const t=this.getLayer(e);t&&(t.possiblyEvaluateVisibility(),this._updateLayer(t));}this.ambientLight&&this.ambientLight.scope===this.scope&&this.ambientLight.updateConfig(this.options),this.directionalLight&&this.directionalLight.scope===this.scope&&this.directionalLight.updateConfig(this.options),this._changes.changed=!0;}addLayer(e,t,i={}){this._checkLoaded();const r=e.id;if(this._layers[r])return void this.fire(new St(new Error(`Layer with id \"${r}\" already exists on this map`)));let n;if(\"custom\"===e.type){if(UA(this,function(e){const t=[],i=e.id;return void 0===i&&t.push({message:`layers.${i}: missing required property \"id\"`}),void 0===e.render&&t.push({message:`layers.${i}: missing required method \"render\"`}),e.renderingMode&&\"2d\"!==e.renderingMode&&\"3d\"!==e.renderingMode&&t.push({message:`layers.${i}: property \"renderingMode\" must be either \"2d\" or \"3d\"`}),t}(e)))return;n=Kb(e,this.options);}else {if(\"object\"==typeof e.source&&(this.addSource(r,e.source),e=k(e=$(e),{source:r})),this._validate(_s,`layers.${r}`,e,{arrayIndex:-1},i))return;n=Kb(e,this.options),this._validateLayer(n),n.setEventedParent(this,{layer:{id:r}}),this._serializedLayers[n.id]=n.serialize();}n.isConfigDependent&&this._configDependentLayers.add(n.fqid),n.setScope(this.scope);const o=t?this._order.indexOf(t):this._order.length;if(t&&-1===o)return void this.fire(new St(new Error(`Layer with id \"${t}\" does not exist on this map.`)));this._order.splice(o,0,r),this._layerOrderChanged=!0,this._layers[r]=n;const s=this.getOwnLayerSourceCache(n),a=!!this.directionalLight&&this.directionalLight.shadowsEnabled();s&&n.canCastShadows()&&a&&(s.castsShadows=!0);const l=this._changes.getRemovedLayer(n);if(l&&n.source&&s&&\"custom\"!==n.type){this._changes.discardLayerRemoval(n);const e=pa(n.source,n.scope);l.type!==n.type?this._changes.updatedSourceCaches[e]=\"clear\":(this._changes.updatedSourceCaches[e]=\"reload\",s.pause());}this._updateLayer(n),n.onAdd&&n.onAdd(this.map),n.scope=this.scope,this.mergeLayers();}moveLayer(e,t){if(this._checkLoaded(),this._changes.changed=!0,!this._checkLayer(e))return;if(e===t)return;const i=this._order.indexOf(e);this._order.splice(i,1);const r=t?this._order.indexOf(t):this._order.length;t&&-1===r?this.fire(new St(new Error(`Layer with id \"${t}\" does not exist on this map.`))):(this._order.splice(r,0,e),this._layerOrderChanged=!0,this.mergeLayers());}removeLayer(e){this._checkLoaded();const t=this._checkLayer(e);if(!t)return;t.setEventedParent(null);const i=this._order.indexOf(e);this._order.splice(i,1),delete this._layers[e],delete this._serializedLayers[e],this._changes.changed=!0,this._layerOrderChanged=!0,this._configDependentLayers.delete(t.fqid),this._changes.removeLayer(t);const r=this.getOwnLayerSourceCache(t);if(r&&r.castsShadows){let e=!1;for(const i in this._layers)if(this._layers[i].source===t.source&&this._layers[i].canCastShadows()){e=!0;break}r.castsShadows=e;}t.onRemove&&t.onRemove(this.map),this.mergeLayers();}getOwnLayer(e){return this._layers[e]}hasLayer(e){return e in this._mergedLayers}hasLayerType(e){for(const t in this._layers)if(this._layers[t].type===e)return !0;return !1}setLayerZoomRange(e,t,i){this._checkLoaded();const r=this._checkLayer(e);r&&(r.minzoom===t&&r.maxzoom===i||(null!=t&&(r.minzoom=t),null!=i&&(r.maxzoom=i),this._updateLayer(r)));}setSlot(e,t){this._checkLoaded();const i=this._checkLayer(e);i&&i.slot!==t&&(i.slot=t,this._updateLayer(i));}setFilter(e,t,i={}){this._checkLoaded();const r=this._checkLayer(e);if(r&&!x(r.filter,t))return null==t?(r.filter=void 0,void this._updateLayer(r)):void(this._validate(gs,`layers.${r.id}.filter`,t,{layerType:r.type},i)||(r.filter=$(t),this._updateLayer(r)))}getFilter(e){const t=this._checkLayer(e);if(t)return $(t.filter)}setLayoutProperty(e,t,i,r={}){this._checkLoaded();const n=this._checkLayer(e);n&&(x(n.getLayoutProperty(t),i)||(n.setLayoutProperty(t,i,r),n.isConfigDependent&&this._configDependentLayers.add(n.fqid),this._updateLayer(n)));}getLayoutProperty(e,t){const i=this._checkLayer(e);if(i)return i.getLayoutProperty(t)}setPaintProperty(e,t,i,r={}){this._checkLoaded();const n=this._checkLayer(e);if(!n)return;if(x(n.getPaintProperty(t),i))return;const o=n.setPaintProperty(t,i,r);n.isConfigDependent&&this._configDependentLayers.add(n.fqid),o&&this._updateLayer(n),this._changes.changed=!0,this._changes.updatedPaintProps.add(n.fqid);}getPaintProperty(e,t){const i=this._checkLayer(e);if(i)return i.getPaintProperty(t)}setFeatureState(e,t){this._checkLoaded();const i=e.source,r=e.sourceLayer,n=this._checkSource(i);if(!n)return;const o=n.type;if(\"geojson\"===o&&r)return void this.fire(new St(new Error(\"GeoJSON sources cannot have a sourceLayer parameter.\")));if(\"vector\"===o&&!r)return void this.fire(new St(new Error(\"The sourceLayer parameter must be provided for vector source types.\")));void 0===e.id&&this.fire(new St(new Error(\"The feature id parameter must be provided.\")));const s=this.getOwnSourceCaches(i);for(const i of s)i.setFeatureState(r,e.id,t);}removeFeatureState(e,t){this._checkLoaded();const i=e.source,r=this._checkSource(i);if(!r)return;const n=r.type,o=\"vector\"===n?e.sourceLayer:void 0;if(\"vector\"===n&&!o)return void this.fire(new St(new Error(\"The sourceLayer parameter must be provided for vector source types.\")));if(t&&\"string\"!=typeof e.id&&\"number\"!=typeof e.id)return void this.fire(new St(new Error(\"A feature id is required to remove its specific state property.\")));const s=this.getOwnSourceCaches(i);for(const i of s)i.removeFeatureState(o,e.id,t);}getFeatureState(e){this._checkLoaded();const t=e.source,i=e.sourceLayer,r=this._checkSource(t);if(r){if(\"vector\"!==r.type||i)return void 0===e.id&&this.fire(new St(new Error(\"The feature id parameter must be provided.\"))),this.getOwnSourceCaches(t)[0].getFeatureState(i,e.id);this.fire(new St(new Error(\"The sourceLayer parameter must be provided for vector source types.\")));}}setTransition(e){return this.stylesheet.transition=k({},this.stylesheet.transition,e),this.transition=this.stylesheet.transition,this}getTransition(){return k({},this.stylesheet.transition)}serialize(){this._checkLoaded();const e=this.getTerrain(),t=e&&this.terrain&&this.terrain.scope===this.scope?e:void 0;return Z({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,imports:this._serializeImports(),schema:this.stylesheet.schema,camera:this.stylesheet.camera,light:this.stylesheet.light,lights:this.stylesheet.lights,terrain:t,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:this._serializeSources(),layers:this._serializeLayers(this._order)},(e=>void 0!==e))}_updateLayer(e){this._changes.updateLayer(e);const t=this.getLayerSourceCache(e),i=pa(e.source,e.scope);e.source&&!this._changes.updatedSourceCaches[i]&&t&&\"raster\"!==t.getSource().type&&(this._changes.updatedSourceCaches[i]=\"reload\",t.pause()),this._changes.changed=!0,e.invalidateCompiledFilter();}_flattenAndSortRenderedFeatures(e){const t=e=>\"fill-extrusion\"===this._mergedLayers[e].type,i=this.order,r={},n=[];for(let o=i.length-1;o>=0;o--){const s=i[o];if(t(s)){r[s]=o;for(const t of e){const e=t[s];if(e)for(const t of e)n.push(t);}}}n.sort(((e,t)=>t.intersectionZ-e.intersectionZ));const o=[];for(let s=i.length-1;s>=0;s--){const a=i[s];if(t(a))for(let e=n.length-1;e>=0;e--){const t=n[e].feature;if(r[t.layer.id]<s)break;o.push(t),n.pop();}else for(const t of e){const e=t[a];if(e)for(const t of e)o.push(t.feature);}}return o}queryRenderedFeatures(e,t,i){t&&t.filter&&this._validate(gs,\"queryRenderedFeatures.filter\",t.filter,null,t),t.scope=this.scope,t.availableImages=this._availableImages,t.serializedLayers=this._serializedLayers;const r={};if(t&&t.layers){if(!Array.isArray(t.layers))return this.fire(new St(new Error(\"parameters.layers must be an Array.\"))),[];for(const e of t.layers){const t=this._mergedLayers[e];if(!t)return this.fire(new St(new Error(`The layer '${e}' does not exist in the map's style and cannot be queried for features.`))),[];r[t.source]=!0;}}const n=[],o=t.serializedLayers||{},s=t&&t.layers?t.layers.some((e=>{const t=this.getLayer(e);return t&&t.is3D()})):this.has3DLayers(),a=vw.createFromScreenPoints(e,i);for(const e in this._mergedSourceCaches){const l=this._mergedSourceCaches[e].getSource();if(!l||l.scope!==t.scope)continue;const c=this._mergedSourceCaches[e].getSource().id;t.layers&&!r[c]||n.push(wT(this._mergedSourceCaches[e],this._mergedLayers,o,a,t,i,s,!!this.map._showQueryGeometry));}return this.placement&&n.push(function(e,t,i,r,n,o,s){const a={},l=o.queryRenderedSymbols(r),c=[];for(const e of Object.keys(l).map(Number))c.push(s[e]);c.sort(ET);for(const i of c){const r=i.featureIndex.lookupSymbolFeatures(l[i.bucketInstanceId],t,i.bucketIndex,i.sourceLayerIndex,n.filter,n.layers,n.availableImages,e);for(const e in r){const t=a[e]=a[e]||[],n=r[e];n.sort(((e,t)=>{const r=i.featureSortOrder;if(r){const i=r.indexOf(e.featureIndex);return r.indexOf(t.featureIndex)-i}return t.featureIndex-e.featureIndex}));for(const e of n)t.push(e);}}for(const t in a)a[t].forEach((r=>{const n=r.feature,o=i(e[t]);if(!o)return;const s=o.getFeatureState(n.layer[\"source-layer\"],n.id);n.source=n.layer.source,n.layer[\"source-layer\"]&&(n.sourceLayer=n.layer[\"source-layer\"]),n.state=s;}));return a}(this._mergedLayers,o,this.getLayerSourceCache.bind(this),a.screenGeometry,t,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(n)}querySourceFeatures(e,t){t&&t.filter&&this._validate(gs,\"querySourceFeatures.filter\",t.filter,null,t);const i=this.getOwnSourceCaches(e);let r=[];for(const e of i)r=r.concat(TT(e,t));return r}addSourceType(e,t,i){return $A.getSourceType(e)?i(new Error(`A source type called \"${e}\" already exists.`)):($A.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast(\"loadWorkerSource\",{name:e,url:t.workerSourceURL},i):i(null,null))}getFlatLight(){return this.light.getLight()}setFlatLight(e,t,i={}){this._checkLoaded();const r=this.light.getLight();let n=!1;for(const t in e)if(!x(e[t],r[t])){n=!0;break}if(!n)return;const o=this._getTransitionParameters();this.light.setLight(e,t,i),this.light.updateTransitions(o);}getTerrain(){return this.terrain&&1===this.terrain.drapeRenderMode?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:\"\",exaggeration:0},0);}setTerrain(e,t=1){if(this._checkLoaded(),!e)return delete this.terrain,delete this.stylesheet.terrain,this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);let i=e;if(1===t){if(\"object\"==typeof i.source){const e=\"terrain-dem-src\";this.addSource(e,i.source),i=$(i),i=k(i,{source:e});}if(this._validate(fs,\"terrain\",i))return}if(!this.terrain||this.terrain&&t!==this.terrain.drapeRenderMode){if(!i)return;this._createTerrain(i,t),this.fire(new At(\"data\",{dataType:\"style\"}));}else {const t=this.terrain,r=t.get();for(const e of Object.keys(Ct.terrain))!i.hasOwnProperty(e)&&Ct.terrain[e].default&&(i[e]=Ct.terrain[e].default);for(const i in e)if(!x(e[i],r[i])){t.set(e),this.stylesheet.terrain=e;const i=this._getTransitionParameters({duration:0});t.updateTransitions(i),this.fire(new At(\"data\",{dataType:\"style\"}));break}}this.mergeTerrain(),this.updateDrapeFirstLayers(),this._markersNeedUpdate=!0;}_createFog(e){const t=this.fog=new dw(e,this.map.transform);this.stylesheet.fog=t.get();const i=this._getTransitionParameters({duration:0});t.updateTransitions(i);}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask((()=>{for(const e of this.map._markers)e._evaluateOpacity();}));}getFog(){return this.fog?this.fog.get():null}setFog(e){if(this._checkLoaded(),!e)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const t=this.fog;if(!x(t.get(),e)){t.set(e),this.stylesheet.fog=t.get();const i=this._getTransitionParameters({duration:0});t.updateTransitions(i);}}else this._createFog(e);this._markersNeedUpdate=!0;}_getTransitionParameters(e){return {now:ht.now(),transition:k(this.transition,e)}}updateDrapeFirstLayers(){if(!this.terrain)return;const e=[],t=[];for(const i in this._mergedLayers)this.isLayerDraped(this._mergedLayers[i])?e.push(i):t.push(i);this._drapedFirstOrder=[],this._drapedFirstOrder.push(...e),this._drapedFirstOrder.push(...t);}_createTerrain(e,t){const i=this.terrain=new rw(e,t);i.setScope(this.scope),this.stylesheet.terrain=e,this.mergeTerrain(),this.updateDrapeFirstLayers(),this._force3DLayerUpdate();const r=this._getTransitionParameters({duration:0});i.updateTransitions(r);}_force3DLayerUpdate(){for(const e in this._layers){const t=this._layers[e];\"fill-extrusion\"===t.type&&this._updateLayer(t);}}_forceSymbolLayerUpdate(){for(const e in this._layers){const t=this._layers[e];\"symbol\"===t.type&&this._updateLayer(t);}}_validate(e,t,i,r,n={}){if(n&&!1===n.validate)return !1;const o=k({},this.serialize());return UA(this,e.call(hs,k({key:t,style:o,value:i,styleSpec:Ct},r)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),Ys.off(\"pluginStateChange\",this._rtlTextPluginCallback);for(const e in this._mergedLayers)this._mergedLayers[e].setEventedParent(null);for(const e in this._mergedSourceCaches)this._mergedSourceCaches[e].clearTiles(),this._mergedSourceCaches[e].setEventedParent(null);this.setEventedParent(null),delete this.fog,delete this.terrain,delete this.ambientLight,delete this.directionalLight,this.isRootStyle()&&(this.imageManager.setEventedParent(null),this.modelManager.setEventedParent(null),this.dispatcher.remove());}clearSource(e){const t=this.getSourceCaches(e);for(const e of t)e.clearTiles();}clearSources(){for(const e in this._mergedSourceCaches)this._mergedSourceCaches[e].clearTiles();}reloadSource(e){const t=this.getSourceCaches(e);for(const e of t)e.resume(),e.reload();}updateSources(e){let t;this.directionalLight&&(t=OA(this.directionalLight));for(const i in this._mergedSourceCaches)this._mergedSourceCaches[i].update(e,void 0,void 0,t);}_generateCollisionBoxes(){for(const e in this._sourceCaches){const t=this._sourceCaches[e];t.resume(),t.reload();}}_updatePlacement(e,t,i,r,n=!1){let o=!1,s=!1;const a={},l={};for(const t of this._mergedOrder){const i=this._mergedLayers[t];if(\"symbol\"!==i.type)continue;const r=pa(i.source,i.scope);let n=a[r];if(!n){const e=this.getLayerSourceCache(i);if(!e)continue;const t=e.getRenderableIds(!0).map((t=>e.getTileByID(t)));l[r]=t.slice(),n=a[r]=t.sort(((e,t)=>t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)));}const s=this.crossTileSymbolIndex.addLayer(i,n,e.center.lng,e.projection);o=o||s;}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._mergedOrder),n=n||this._layerOrderChanged||0===i,this._layerOrderChanged&&this.fire(new At(\"neworder\")),(n||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(ht.now(),e.zoom))&&(this.pauseablePlacement=new hE(e,this._mergedOrder,n,t,i,r,this.placement,this.fog&&e.projection.supportsFog?this.fog.state:null,this._buildingIndex),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._mergedOrder,this._mergedLayers,a,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(ht.now()),s=!0),o&&this.pauseablePlacement.placement.setStale()),s||o)for(const e of this._mergedOrder){const t=this._mergedLayers[e];\"symbol\"===t.type&&this.placement.updateLayerOpacities(t,a[pa(t.source,t.scope)]);}return !this.pauseablePlacement.isDone()||this.placement.hasTransitions(ht.now())}_releaseSymbolFadeTiles(){for(const e in this._sourceCaches)this._sourceCaches[e].releaseSymbolFadeTiles();}addImport(e){this._checkLoaded();const t=this.stylesheet.imports=this.stylesheet.imports||[],i=t.findIndex((({id:t})=>t===e.id));return -1!==i?this.fire(new St(new Error(`Import with id '${e.id}' already exists in the map's style.`))):(t.push(e),this._loadImports([e],!0),this)}setImportUrl(e,t){this._checkLoaded();const i=this.stylesheet.imports||[],r=this.getImportIndex(e);if(-1===r)return this;i[r].url=t;const n=this.fragments[r];n.style=this._createFragmentStyle({id:e,url:t});const o=new Promise((e=>n.style.on(\"style.import.load\",e)));return n.style.loadURL(t),o.then((()=>this._reloadImports())),this}setImportData(e,t){this._checkLoaded();const i=this.getImportIndex(e),r=this.stylesheet.imports||[];return -1===i?this:t?(this.fragments[i].style.setState(t),this._reloadImports(),this):(delete r[i].data,this.setImportUrl(e,r[i].url))}setImportConfig(e,t){this._checkLoaded();const i=this.getImportIndex(e),r=this.stylesheet.imports||[];if(-1===i)return this;t?r[i].config=t:delete r[i].config;const n=this.fragments[i],o=n.style.stylesheet&&n.style.stylesheet.schema;return n.config=t,n.style.setConfig(t,o),n.style.updateConfigDependencies(),this}removeImport(e){this._checkLoaded();const t=this.stylesheet.imports||[],i=this.getImportIndex(e);return -1===i||(t.splice(i,1),this.fragments[i].style._remove(),this.fragments.splice(i,1),this._reloadImports()),this}getImportIndex(e){const t=(this.stylesheet.imports||[]).findIndex((t=>t.id===e));return -1===t&&this.fire(new St(new Error(`Import '${e}' does not exist in the map's style and cannot be updated.`))),t}getLayer(e){return this._mergedLayers[e]}getSources(){const e=[];for(const t in this._mergedOtherSourceCaches){const i=this._mergedOtherSourceCaches[t];i&&e.push(i.getSource());}return e}getSource(e,t){const i=this.getSourceCache(e,t);return i&&i.getSource()}getLayerSource(e){const t=this.getLayerSourceCache(e);return t&&t.getSource()}getSourceCache(e,t){const i=pa(e,t);return this._mergedOtherSourceCaches[i]}getLayerSourceCache(e){const t=pa(e.source,e.scope);return \"symbol\"===e.type?this._mergedSymbolSourceCaches[t]:this._mergedOtherSourceCaches[t]}getSourceCaches(e){const t=[];return this._mergedOtherSourceCaches[e]&&t.push(this._mergedOtherSourceCaches[e]),this._mergedSymbolSourceCaches[e]&&t.push(this._mergedSymbolSourceCaches[e]),t}updateSourceCaches(){for(const e in this._changes.updatedSourceCaches){const t=this._changes.updatedSourceCaches[e];\"reload\"===t?this.reloadSource(e):\"clear\"===t&&this.clearSource(e);}}updateLayers(e){for(const t of this._changes.updatedPaintProps){const i=this.getLayer(t);i&&i.updateTransitions(e);}}getImages(e,t,i){this.imageManager.getImages(t.icons,t.scope,i),this._updateTilesForChangedImages();const r=e=>{e&&e.setDependencies(t.tileID.key,t.type,t.icons);};r(this._otherSourceCaches[t.source]),r(this._symbolSourceCaches[t.source]);}getGlyphs(e,t,i){this.glyphManager.getGlyphs(t.stacks,t.scope,i);}getResource(e,t,i){return be(t,i)}getOwnSourceCache(e){return this._otherSourceCaches[e]}getOwnLayerSourceCache(e){return \"symbol\"===e.type?this._symbolSourceCaches[e.source]:this._otherSourceCaches[e.source]}getOwnSourceCaches(e){const t=[];return this._otherSourceCaches[e]&&t.push(this._otherSourceCaches[e]),this._symbolSourceCaches[e]&&t.push(this._symbolSourceCaches[e]),t}_isSourceCacheLoaded(e){const t=this.getOwnSourceCaches(e);return 0===t.length?(this.fire(new St(new Error(`There is no source with ID '${e}'`))),!1):t.every((e=>e.loaded()))}has3DLayers(){return this._has3DLayers}hasSymbolLayers(){return this._hasSymbolLayers}hasCircleLayers(){return this._hasCircleLayers}_clearWorkerCaches(){this.dispatcher.broadcast(\"clearCaches\");}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain);}}function HA(e,t){let i=!1,r=null;const n=()=>{r=null,i&&(e(),r=setTimeout(n,t),i=!1);};return ()=>(i=!0,r||n(),r)}$A.getSourceType=function(e){return xT[e]},$A.setSourceType=function(e,t){xT[e]=t;},$A.registerForPluginStateChange=function(e){return e({pluginStatus:$s,pluginURL:Hs}),Ys.on(\"pluginStateChange\",e),e};class WA{constructor(e){this._hashName=e&&encodeURIComponent(e),j([\"_getCurrentHash\",\"_onHashChange\",\"_updateHash\"],this),this._updateHash=HA(this._updateHashUnthrottled.bind(this),300);}addTo(e){return this._map=e,t.addEventListener(\"hashchange\",this._onHashChange,!1),e.on(\"moveend\",this._updateHash),this}remove(){return this._map?(this._map.off(\"moveend\",this._updateHash),t.removeEventListener(\"hashchange\",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const e=this._map;if(!e)return \"\";const i=XA(e);if(this._hashName){const e=this._hashName;let r=!1;const n=t.location.hash.slice(1).split(\"&\").map((t=>{const n=t.split(\"=\")[0];return n===e?(r=!0,`${n}=${i}`):t})).filter((e=>e));return r||n.push(`${e}=${i}`),`#${n.join(\"&\")}`}return `#${i}`}_getCurrentHash(){const e=t.location.hash.replace(\"#\",\"\");if(this._hashName){let t;return e.split(\"&\").map((e=>e.split(\"=\"))).forEach((e=>{e[0]===this._hashName&&(t=e);})),(t&&t[1]||\"\").split(\"/\")}return e.split(\"/\")}_onHashChange(){const e=this._map;if(!e)return !1;const t=this._getCurrentHash();if(t.length>=3&&!t.some((e=>isNaN(e)))){const i=e.dragRotate.isEnabled()&&e.touchZoomRotate.isEnabled()?+(t[3]||0):e.getBearing();return e.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:i,pitch:+(t[4]||0)}),!0}return !1}_updateHashUnthrottled(){const e=t.location.href.replace(/(#.+)?$/,this.getHashString());t.history.replaceState(t.history.state,null,e);}}function XA(e,t){const i=e.getCenter(),r=Math.round(100*e.getZoom())/100,n=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,n),s=Math.round(i.lng*o)/o,a=Math.round(i.lat*o)/o,l=e.getBearing(),c=e.getPitch();let h=t?`/${s}/${a}/${r}`:`${r}/${a}/${s}`;return (l||c)&&(h+=\"/\"+Math.round(10*l)/10),c&&(h+=`/${Math.round(c)}`),h}const YA={linearity:.3,easing:I(0,0,.3,1)},KA=k({deceleration:2500,maxSpeed:1400},YA),JA=k({deceleration:20,maxSpeed:1400},YA),QA=k({deceleration:1e3,maxSpeed:360},YA),eS=k({deceleration:1e3,maxSpeed:90},YA);class tS{constructor(e){this._map=e,this.clear();}clear(){this._inertiaBuffer=[];}record(e){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:ht.now(),settings:e});}_drainInertiaBuffer(){const e=this._inertiaBuffer,t=ht.now();for(;e.length>0&&t-e[0].time>160;)e.shift();}_onMoveEnd(e){if(this._map._prefersReducedMotion())return;if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const t={zoom:0,bearing:0,pitch:0,pan:new y(0,0),pinchAround:void 0,around:void 0};for(const{settings:e}of this._inertiaBuffer)t.zoom+=e.zoomDelta||0,t.bearing+=e.bearingDelta||0,t.pitch+=e.pitchDelta||0,e.panDelta&&t.pan._add(e.panDelta),e.around&&(t.around=e.around),e.pinchAround&&(t.pinchAround=e.pinchAround);const i=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,r={};if(t.pan.mag()){const n=rS(t.pan.mag(),i,k({},KA,e||{}));r.offset=t.pan.mult(n.amount/t.pan.mag()),r.center=this._map.transform.center,iS(r,n);}if(t.zoom){const e=rS(t.zoom,i,JA);r.zoom=this._map.transform.zoom+e.amount,iS(r,e);}if(t.bearing){const e=rS(t.bearing,i,QA);r.bearing=this._map.transform.bearing+z(e.amount,-179,179),iS(r,e);}if(t.pitch){const e=rS(t.pitch,i,eS);r.pitch=this._map.transform.pitch+e.amount,iS(r,e);}if(r.zoom||r.bearing){const e=void 0===t.pinchAround?t.around:t.pinchAround;r.around=e?this._map.unproject(e):this._map.getCenter();}return this.clear(),r.noMoveStart=!0,r}}function iS(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing);}function rS(e,t,i){const{maxSpeed:r,linearity:n,deceleration:o}=i,s=z(e*n/(t/1e3),-r,r),a=Math.abs(s)/(o*n);return {easing:i.easing,duration:1e3*a,amount:s*(a/2)}}class nS extends At{preventDefault(){this._defaultPrevented=!0;}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,i,r={}){const n=vt(t.getCanvasContainer(),i);super(e,k({point:n,lngLat:t.unproject(n),originalEvent:i},r)),this._defaultPrevented=!1,this.target=t;}}class oS extends At{preventDefault(){this._defaultPrevented=!0;}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,i){const r=\"touchend\"===e?i.changedTouches:i.touches,n=bt(t.getCanvasContainer(),r),o=n.map((e=>t.unproject(e))),s=n.reduce(((e,t,i,r)=>e.add(t.div(r.length))),new y(0,0));super(e,{points:n,point:s,lngLats:o,lngLat:t.unproject(s),originalEvent:i}),this._defaultPrevented=!1;}}class sS extends At{preventDefault(){this._defaultPrevented=!0;}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,i){super(e,{originalEvent:i}),this._defaultPrevented=!1;}}class aS{constructor(e,t){this._map=e,this._clickTolerance=t.clickTolerance;}reset(){this._mousedownPos=void 0;}wheel(e){return this._firePreventable(new sS(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new nS(e.type,this._map,e))}mouseup(e){this._map.fire(new nS(e.type,this._map,e));}preclick(e){const t=k({},e);t.type=\"preclick\",this._map.fire(new nS(t.type,this._map,t));}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||(this.preclick(e),this._map.fire(new nS(e.type,this._map,e)));}dblclick(e){return this._firePreventable(new nS(e.type,this._map,e))}mouseover(e){this._map.fire(new nS(e.type,this._map,e));}mouseout(e){this._map.fire(new nS(e.type,this._map,e));}touchstart(e){return this._firePreventable(new oS(e.type,this._map,e))}touchmove(e){this._map.fire(new oS(e.type,this._map,e));}touchend(e){this._map.fire(new oS(e.type,this._map,e));}touchcancel(e){this._map.fire(new oS(e.type,this._map,e));}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return {}}isEnabled(){return !0}isActive(){return !1}enable(){}disable(){}}class lS{constructor(e){this._map=e;}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0;}mousemove(e){this._map.fire(new nS(e.type,this._map,e));}mousedown(){this._delayContextMenu=!0;}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new nS(\"contextmenu\",this._map,this._contextMenuEvent)),delete this._contextMenuEvent);}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new nS(e.type,this._map,e)),this._map.listens(\"contextmenu\")&&e.preventDefault();}isEnabled(){return !0}isActive(){return !1}enable(){}disable(){}}class cS{constructor(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1;}isEnabled(){return !!this._enabled}isActive(){return !!this._active}enable(){this.isEnabled()||(this._enabled=!0);}disable(){this.isEnabled()&&(this._enabled=!1);}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(_t(),this._startPos=this._lastPos=t,this._active=!0);}mousemoveWindow(e,t){if(!this._active)return;const i=t,r=this._startPos,n=this._lastPos;if(!r||!n||n.equals(i)||!this._box&&i.dist(r)<this._clickTolerance)return;this._lastPos=i,this._box||(this._box=ut(\"div\",\"mapboxgl-boxzoom\",this._container),this._container.classList.add(\"mapboxgl-crosshair\"),this._fireEvent(\"boxzoomstart\",e));const o=Math.min(r.x,i.x),s=Math.max(r.x,i.x),a=Math.min(r.y,i.y),l=Math.max(r.y,i.y);this._map._requestDomTask((()=>{this._box&&(this._box.style.transform=`translate(${o}px,${a}px)`,this._box.style.width=s-o+\"px\",this._box.style.height=l-a+\"px\");}));}mouseupWindow(e,t){if(!this._active)return;const i=this._startPos,r=t;if(i&&0===e.button){if(this.reset(),xt(),i.x!==r.x||i.y!==r.y)return this._map.fire(new At(\"boxzoomend\",{originalEvent:e})),{cameraAnimation:e=>e.fitScreenCoordinates(i,r,this._map.getBearing(),{linear:!1})};this._fireEvent(\"boxzoomcancel\",e);}}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent(\"boxzoomcancel\",e));}blur(){this.reset();}reset(){this._active=!1,this._container.classList.remove(\"mapboxgl-crosshair\"),this._box&&(this._box.remove(),this._box=null),gt(),delete this._startPos,delete this._lastPos;}_fireEvent(e,t){return this._map.fire(new At(e,{originalEvent:t}))}}function hS(e,t){const i={};for(let r=0;r<e.length;r++)i[e[r].identifier]=t[r];return i}class uS{constructor(e){this.reset(),this.numTouches=e.numTouches;}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1;}touchstart(e,t,i){(this.centroid||i.length>this.numTouches)&&(this.aborted=!0),this.aborted||(0===this.startTime&&(this.startTime=e.timeStamp),i.length===this.numTouches&&(this.centroid=function(e){const t=new y(0,0);for(const i of e)t._add(i);return t.div(e.length)}(t),this.touches=hS(i,t)));}touchmove(e,t,i){if(this.aborted||!this.centroid)return;const r=hS(i,t);for(const e in this.touches){const t=r[e];(!t||t.dist(this.touches[e])>30)&&(this.aborted=!0);}}touchend(e,t,i){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===i.length){const e=!this.aborted&&this.centroid;if(this.reset(),e)return e}}}class dS{constructor(e){this.singleTap=new uS(e),this.numTaps=e.numTaps,this.reset();}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset();}touchstart(e,t,i){this.singleTap.touchstart(e,t,i);}touchmove(e,t,i){this.singleTap.touchmove(e,t,i);}touchend(e,t,i){const r=this.singleTap.touchend(e,t,i);if(r){const t=e.timeStamp-this.lastTime<500,i=!this.lastTap||this.lastTap.dist(r)<30;if(t&&i||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}}}class pS{constructor(){this._zoomIn=new dS({numTouches:1,numTaps:2}),this._zoomOut=new dS({numTouches:2,numTaps:1}),this.reset();}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset();}touchstart(e,t,i){this._zoomIn.touchstart(e,t,i),this._zoomOut.touchstart(e,t,i);}touchmove(e,t,i){this._zoomIn.touchmove(e,t,i),this._zoomOut.touchmove(e,t,i);}touchend(e,t,i){const r=this._zoomIn.touchend(e,t,i),n=this._zoomOut.touchend(e,t,i);return r?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(r)},{originalEvent:e})}):n?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(n)},{originalEvent:e})}):void 0}touchcancel(){this.reset();}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}const fS={0:1,2:2};class mS{constructor(e){this.reset(),this._clickTolerance=e.clickTolerance||1;}blur(){this.reset();}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0;}_correctButton(e,t){return !1}_move(e,t){return {}}mousedown(e,t){if(this._lastPoint)return;const i=wt(e);this._correctButton(e,i)&&(this._lastPoint=t,this._eventButton=i);}mousemoveWindow(e,t){const i=this._lastPoint;if(i)if(e.preventDefault(),null!=this._eventButton&&function(e,t){const i=fS[t];return void 0===e.buttons||(e.buttons&i)!==i}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(i)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(i,t)}mouseupWindow(e){this._lastPoint&&wt(e)===this._eventButton&&(this._moved&&xt(),this.reset());}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}class _S extends mS{mousedown(e,t){super.mousedown(e,t),this._lastPoint&&(this._active=!0);}_correctButton(e,t){return 0===t&&!e.ctrlKey}_move(e,t){return {around:t,panDelta:t.sub(e)}}}class gS extends mS{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const i=.8*(t.x-e.x);if(i)return this._active=!0,{bearingDelta:i}}contextmenu(e){e.preventDefault();}}class yS extends mS{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const i=-.5*(t.y-e.y);if(i)return this._active=!0,{pitchDelta:i}}contextmenu(e){e.preventDefault();}}class xS{constructor(e,t){this._map=e,this._el=e.getCanvasContainer(),this._minTouches=1,this._clickTolerance=t.clickTolerance||1,this.reset(),j([\"_addTouchPanBlocker\",\"_showTouchPanBlockerAlert\"],this);}reset(){this._active=!1,this._touches={},this._sum=new y(0,0);}touchstart(e,t,i){return this._calculateTransform(e,t,i)}touchmove(e,t,i){if(this._active&&!(i.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===i.length&&!ie())return void this._showTouchPanBlockerAlert();\"hidden\"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility=\"hidden\",clearTimeout(this._alertTimer));}return e.cancelable&&e.preventDefault(),this._calculateTransform(e,t,i)}}touchend(e,t,i){this._calculateTransform(e,t,i),this._active&&i.length<this._minTouches&&this.reset();}touchcancel(){this.reset();}_calculateTransform(e,t,i){i.length>0&&(this._active=!0);const r=hS(i,t),n=new y(0,0),o=new y(0,0);let s=0;for(const e in r){const t=r[e],i=this._touches[e];i&&(n._add(t),o._add(t.sub(i)),s++,r[e]=t);}if(this._touches=r,s<this._minTouches||!o.mag())return;const a=o.div(s);return this._sum._add(a),this._sum.mag()<this._clickTolerance?void 0:{around:n.div(s),panDelta:a}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add(\"mapboxgl-touch-pan-blocker-override\",\"mapboxgl-scrollable-page\"));}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove(\"mapboxgl-touch-pan-blocker-override\",\"mapboxgl-scrollable-page\")),this.reset();}isEnabled(){return !!this._enabled}isActive(){return !!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=ut(\"div\",\"mapboxgl-touch-pan-blocker\",this._map._container),this._alertContainer.textContent=this._map._getUIString(\"TouchPanBlocker.Message\"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`);}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility=\"visible\",this._alertContainer.classList.add(\"mapboxgl-touch-pan-blocker-show\"),this._alertContainer.setAttribute(\"role\",\"alert\"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((()=>{this._alertContainer.classList.remove(\"mapboxgl-touch-pan-blocker-show\"),this._alertContainer.setAttribute(\"role\",\"null\");}),500);}}class vS{constructor(){this.reset();}reset(){this._active=!1,this._firstTwoTouches=void 0;}_start(e){}_move(e,t,i){return {}}touchstart(e,t,i){this._firstTwoTouches||i.length<2||(this._firstTwoTouches=[i[0].identifier,i[1].identifier],this._start([t[0],t[1]]));}touchmove(e,t,i){const r=this._firstTwoTouches;if(!r)return;e.preventDefault();const[n,o]=r,s=bS(i,t,n),a=bS(i,t,o);if(!s||!a)return;const l=this._aroundCenter?null:s.add(a).div(2);return this._move([s,a],l,e)}touchend(e,t,i){if(!this._firstTwoTouches)return;const[r,n]=this._firstTwoTouches,o=bS(i,t,r),s=bS(i,t,n);o&&s||(this._active&&xt(),this.reset());}touchcancel(){this.reset();}enable(e){this._enabled=!0,this._aroundCenter=!!e&&\"center\"===e.around;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}function bS(e,t,i){for(let r=0;r<e.length;r++)if(e[r].identifier===i)return t[r]}function wS(e,t){return Math.log(e/t)/Math.LN2}class TS extends vS{reset(){super.reset(),this._distance=0,this._startDistance=0;}_start(e){this._startDistance=this._distance=e[0].dist(e[1]);}_move(e,t){const i=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(wS(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:wS(this._distance,i),pinchAround:t}}}function ES(e,t){return 180*e.angleWith(t)/Math.PI}class MS extends vS{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0;}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1]);}_move(e,t){const i=this._vector;if(this._vector=e[0].sub(e[1]),i&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:ES(this._vector,i),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const t=25/(Math.PI*this._minDiameter)*360,i=this._startVector;if(!i)return !1;const r=ES(e,i);return Math.abs(r)<t}}function AS(e){return Math.abs(e.y)>Math.abs(e.x)}class SS extends vS{constructor(e){super(),this._map=e;}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0;}_start(e){this._lastPoints=e,AS(e[0].sub(e[1]))&&(this._valid=!1);}_move(e,t,i){const r=this._lastPoints;if(!r)return;const n=e[0].sub(r[0]),o=e[1].sub(r[1]);return this._map._cooperativeGestures&&!ie()&&i.touches.length<3||(this._valid=this.gestureBeginsVertically(n,o,i.timeStamp),!this._valid)?void 0:(this._lastPoints=e,this._active=!0,{pitchDelta:(n.y+o.y)/2*-.5})}gestureBeginsVertically(e,t,i){if(void 0!==this._valid)return this._valid;const r=e.mag()>=2,n=t.mag()>=2;if(!r&&!n)return;if(!r||!n)return null==this._firstMove&&(this._firstMove=i),i-this._firstMove<100&&void 0;const o=e.y>0==t.y>0;return AS(e)&&AS(t)&&o}}const IS={panStep:100,bearingStep:15,pitchStep:10};class CS{constructor(){const e=IS;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1;}blur(){this.reset();}reset(){this._active=!1;}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=0,i=0,r=0,n=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?i=-1:(e.preventDefault(),n=-1);break;case 39:e.shiftKey?i=1:(e.preventDefault(),n=1);break;case 38:e.shiftKey?r=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?r=-1:(e.preventDefault(),o=1);break;default:return}return this._rotationDisabled&&(i=0,r=0),{cameraAnimation:s=>{const a=s.getZoom();s.easeTo({duration:300,easeId:\"keyboardHandler\",easing:zS,zoom:t?Math.round(a)+t*(e.shiftKey?2:1):a,bearing:s.getBearing()+i*this._bearingStep,pitch:s.getPitch()+r*this._pitchStep,offset:[-n*this._panStep,-o*this._panStep],center:s.getCenter()},{originalEvent:e});}}}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0;}enableRotation(){this._rotationDisabled=!1;}}function zS(e){return e*(2-e)}const DS=4.000244140625;class PS{constructor(e,t){this._map=e,this._el=e.getCanvasContainer(),this._handler=t,this._delta=0,this._lastDelta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,j([\"_onTimeout\",\"_addScrollZoomBlocker\",\"_showBlockerAlert\"],this);}setZoomRate(e){this._defaultZoomRate=e;}setWheelZoomRate(e){this._wheelZoomRate=e;}isEnabled(){return !!this._enabled}isActive(){return this._active||void 0!==this._finishTimeout}isZooming(){return !!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&\"center\"===e.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker());}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()));}wheel(e){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(e.ctrlKey||e.metaKey||this.isZooming()||ie()))return void this._showBlockerAlert();\"hidden\"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility=\"hidden\",clearTimeout(this._alertTimer));}let i=e.deltaMode===t.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY;const r=ht.now(),n=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==i&&i%DS==0?this._type=\"wheel\":0!==i&&Math.abs(i)<4?this._type=\"trackpad\":n>400?(this._type=null,this._lastValue=i,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(n*i)<200?\"trackpad\":\"wheel\",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,i+=this._lastValue)),e.shiftKey&&i&&(i/=4),this._type&&(this._lastWheelEvent=e,this._delta-=i,this._active||this._start(e)),e.preventDefault();}_onTimeout(e){this._type=\"wheel\",this._delta-=this._lastValue,this._active||this._start(e);}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const t=vt(this._el,e);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:t,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame());}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const e=this._map.transform;\"wheel\"===this._type&&e.projection.wrap&&(e._center.lng>=180||e._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const t=()=>e._terrainEnabled()&&this._aroundCoord?e.computeZoomRelativeTo(this._aroundCoord):e.zoom;if(0!==this._delta){const i=\"wheel\"===this._type&&Math.abs(this._delta)>DS?this._wheelZoomRate:this._defaultZoomRate;let r=2/(1+Math.exp(-Math.abs(this._delta*i)));this._delta<0&&0!==r&&(r=1/r);const n=t(),o=Math.pow(2,n),s=\"number\"==typeof this._targetZoom?e.zoomScale(this._targetZoom):o;this._targetZoom=Math.min(e.maxZoom,Math.max(e.minZoom,e.scaleZoom(s*r))),\"wheel\"===this._type&&(this._startZoom=n,this._easing=this._smoothOutEasing(200)),this._lastDelta=this._delta,this._delta=0;}const i=\"number\"==typeof this._targetZoom?this._targetZoom:t(),r=this._startZoom,n=this._easing;let o,s=!1;if(\"wheel\"===this._type&&r&&n){const e=Math.min((ht.now()-this._lastWheelEventTime)/200,1);o=Wr(r,i,n(e)),e<1?this._frameId||(this._frameId=!0):s=!0;}else o=i,s=!0;this._active=!0,s&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout;}),200));let a=o-t();return a*this._lastDelta<0&&(a=0),{noInertia:!0,needsRenderFrame:!s,zoomDelta:a,around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(e){let t=C;if(this._prevEase){const e=this._prevEase,i=(ht.now()-e.start)/e.duration,r=e.easing(i+.01)-e.easing(i),n=.27/Math.sqrt(r*r+1e-4)*.01;t=I(n,Math.sqrt(.0729-n*n),.25,1);}return this._prevEase={start:ht.now(),duration:e,easing:t},t}blur(){this.reset();}reset(){this._active=!1;}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=ut(\"div\",\"mapboxgl-scroll-zoom-blocker\",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(t.navigator.userAgent)?this._map._getUIString(\"ScrollZoomBlocker.CmdMessage\"):this._map._getUIString(\"ScrollZoomBlocker.CtrlMessage\"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`);}_showBlockerAlert(){this._alertContainer.style.visibility=\"visible\",this._alertContainer.classList.add(\"mapboxgl-scroll-zoom-blocker-show\"),this._alertContainer.setAttribute(\"role\",\"alert\"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((()=>{this._alertContainer.classList.remove(\"mapboxgl-scroll-zoom-blocker-show\"),this._alertContainer.setAttribute(\"role\",\"null\");}),200);}}class RS{constructor(e,t){this._clickZoom=e,this._tapZoom=t;}enable(){this._clickZoom.enable(),this._tapZoom.enable();}disable(){this._clickZoom.disable(),this._tapZoom.disable();}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class LS{constructor(){this.reset();}reset(){this._active=!1;}blur(){this.reset();}dblclick(e,t){return e.preventDefault(),{cameraAnimation:i=>{i.easeTo({duration:300,zoom:i.getZoom()+(e.shiftKey?-1:1),around:i.unproject(t)},{originalEvent:e});}}}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}class kS{constructor(){this._tap=new dS({numTouches:1,numTaps:1}),this.reset();}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset();}touchstart(e,t,i){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?i.length>0&&(this._swipePoint=t[0],this._swipeTouch=i[0].identifier):this._tap.touchstart(e,t,i));}touchmove(e,t,i){if(this._tapTime){if(this._swipePoint){if(i[0].identifier!==this._swipeTouch)return;const r=t[0],n=r.y-this._swipePoint.y;return this._swipePoint=r,e.preventDefault(),this._active=!0,{zoomDelta:n/128}}}else this._tap.touchmove(e,t,i);}touchend(e,t,i){this._tapTime?this._swipePoint&&0===i.length&&this.reset():this._tap.touchend(e,t,i)&&(this._tapTime=e.timeStamp);}touchcancel(){this.reset();}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}class OS{constructor(e,t,i){this._el=e,this._mousePan=t,this._touchPan=i;}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add(\"mapboxgl-touch-drag-pan\");}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove(\"mapboxgl-touch-drag-pan\");}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class BS{constructor(e,t,i){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=i;}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable();}disable(){this._mouseRotate.disable(),this._mousePitch.disable();}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class FS{constructor(e,t,i,r){this._el=e,this._touchZoom=t,this._touchRotate=i,this._tapDragZoom=r,this._rotationDisabled=!1,this._enabled=!0;}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add(\"mapboxgl-touch-zoom-rotate\");}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove(\"mapboxgl-touch-zoom-rotate\");}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable();}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable();}}const NS=e=>e.zoom||e.drag||e.pitch||e.rotate;class US extends At{}class VS{constructor(){this.constants=[1,1,.01],this.radius=0;}setup(e,t){const i=Mu.sub([],t,e);this.radius=Mu.length(i[2]<0?Mu.div([],i,this.constants):[i[0],i[1],0]);}projectRay(e){Mu.div(e,e,this.constants),Mu.normalize(e,e),Mu.mul(e,e,this.constants);const t=Mu.scale([],e,this.radius);if(t[2]>0){const e=Mu.scale([],[0,0,1],Mu.dot(t,[0,0,1])),i=Mu.scale([],Mu.normalize([],[t[0],t[1],0]),this.radius),r=Mu.add([],t,Mu.scale([],Mu.sub([],Mu.add([],i,e),t),2));t[0]=r[0],t[1]=r[1];}return t}}function jS(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}class GS{constructor(e,i){this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new tS(e),this._bearingSnap=i.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new VS,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(i),j([\"handleEvent\",\"handleWindowEvent\"],this);const r=this._el;this._listeners=[[r,\"touchstart\",{passive:!0}],[r,\"touchmove\",{passive:!1}],[r,\"touchend\",void 0],[r,\"touchcancel\",void 0],[r,\"mousedown\",void 0],[r,\"mousemove\",void 0],[r,\"mouseup\",void 0],[t.document,\"mousemove\",{capture:!0}],[t.document,\"mouseup\",void 0],[r,\"mouseover\",void 0],[r,\"mouseout\",void 0],[r,\"dblclick\",void 0],[r,\"click\",void 0],[r,\"keydown\",{capture:!1}],[r,\"keyup\",void 0],[r,\"wheel\",{passive:!1}],[r,\"contextmenu\",void 0],[t,\"blur\",void 0]];for(const[e,i,r]of this._listeners)e.addEventListener(i,e===t.document?this.handleWindowEvent:this.handleEvent,r);}destroy(){for(const[e,i,r]of this._listeners)e.removeEventListener(i,e===t.document?this.handleWindowEvent:this.handleEvent,r);}_addDefaultHandlers(e){const t=this._map,i=t.getCanvasContainer();this._add(\"mapEvent\",new aS(t,e));const r=t.boxZoom=new cS(t,e);this._add(\"boxZoom\",r);const n=new pS,o=new LS;t.doubleClickZoom=new RS(o,n),this._add(\"tapZoom\",n),this._add(\"clickZoom\",o);const s=new kS;this._add(\"tapDragZoom\",s);const a=t.touchPitch=new SS(t);this._add(\"touchPitch\",a);const l=new gS(e),c=new yS(e);t.dragRotate=new BS(e,l,c),this._add(\"mouseRotate\",l,[\"mousePitch\"]),this._add(\"mousePitch\",c,[\"mouseRotate\"]);const h=new _S(e),u=new xS(t,e);t.dragPan=new OS(i,h,u),this._add(\"mousePan\",h),this._add(\"touchPan\",u,[\"touchZoom\",\"touchRotate\"]);const d=new MS,p=new TS;t.touchZoomRotate=new FS(i,p,d,s),this._add(\"touchRotate\",d,[\"touchPan\",\"touchZoom\"]),this._add(\"touchZoom\",p,[\"touchPan\",\"touchRotate\"]),this._add(\"blockableMapEvent\",new lS(t));const f=t.scrollZoom=new PS(t,this);this._add(\"scrollZoom\",f,[\"mousePan\"]);const m=t.keyboard=new CS;this._add(\"keyboard\",m);for(const i of [\"boxZoom\",\"doubleClickZoom\",\"tapDragZoom\",\"touchPitch\",\"dragRotate\",\"dragPan\",\"touchZoomRotate\",\"scrollZoom\",\"keyboard\"])e.interactive&&e[i]&&t[i].enable(e[i]);}_add(e,t,i){this._handlers.push({handlerName:e,handler:t,allowed:i}),this._handlersById[e]=t;}stop(e){if(!this._updatingCamera){for(const{handler:e}of this._handlers)e.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[],this._originalZoom=void 0;}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return !0;return !1}isZooming(){return !!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return !!this._eventsInProgress.rotate}isMoving(){return !!NS(this._eventsInProgress)||this.isZooming()}_isDragging(){return !!this._eventsInProgress.drag}_blockedByActive(e,t,i){for(const r in e)if(r!==i&&(!t||t.indexOf(r)<0))return !0;return !1}handleWindowEvent(e){this.handleEvent(e,`${e.type}Window`);}_getMapTouches(e){const t=[];for(const i of e)this._el.contains(i.target)&&t.push(i);return t}handleEvent(e,t){this._updatingCamera=!0;const i=\"renderFrame\"===e.type,r=i?void 0:e,n={needsRenderFrame:!1},o={},s={},a=e.touches?this._getMapTouches(e.touches):void 0,l=a?bt(this._el,a):i?void 0:vt(this._el,e);for(const{handlerName:i,handler:c,allowed:h}of this._handlers){if(!c.isEnabled())continue;let u;this._blockedByActive(s,h,i)?c.reset():c[t||e.type]&&(u=c[t||e.type](e,l,a),this.mergeHandlerResult(n,o,u,i,r),u&&u.needsRenderFrame&&this._triggerRenderFrame()),(u||c.isActive())&&(s[i]=c);}const c={};for(const e in this._previousActiveHandlers)s[e]||(c[e]=r);this._previousActiveHandlers=s,(Object.keys(c).length||jS(n))&&(this._changes.push([n,o,c]),this._triggerRenderFrame()),(Object.keys(s).length||jS(n))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:h}=n;h&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],h(this._map));}mergeHandlerResult(e,t,i,r,n){if(!i)return;k(e,i);const o={handlerName:r,originalEvent:i.originalEvent||n};void 0!==i.zoomDelta&&(t.zoom=o),void 0!==i.panDelta&&(t.drag=o),void 0!==i.pitchDelta&&(t.pitch=o),void 0!==i.bearingDelta&&(t.rotate=o);}_applyChanges(){const e={},t={},i={};for(const[r,n,o]of this._changes)r.panDelta&&(e.panDelta=(e.panDelta||new y(0,0))._add(r.panDelta)),r.zoomDelta&&(e.zoomDelta=(e.zoomDelta||0)+r.zoomDelta),r.bearingDelta&&(e.bearingDelta=(e.bearingDelta||0)+r.bearingDelta),r.pitchDelta&&(e.pitchDelta=(e.pitchDelta||0)+r.pitchDelta),void 0!==r.around&&(e.around=r.around),void 0!==r.aroundCoord&&(e.aroundCoord=r.aroundCoord),void 0!==r.pinchAround&&(e.pinchAround=r.pinchAround),r.noInertia&&(e.noInertia=r.noInertia),k(t,n),k(i,o);this._updateMapTransform(e,t,i),this._changes=[];}_updateMapTransform(e,t,i){const r=this._map,n=r.transform,o=e=>[e.x,e.y,e.z];if((e=>{const t=this._eventsInProgress.drag;return t&&!this._handlersById[t.handlerName].isActive()})()&&!jS(e)){const e=n.zoom;n.cameraElevationReference=\"sea\",null!=this._originalZoom&&n._orthographicProjectionAtLowPitch&&\"globe\"!==n.projection.name&&0===n.pitch?(n.cameraElevationReference=\"ground\",n.zoom=this._originalZoom):(n.recenterOnTerrain(),n.cameraElevationReference=\"ground\"),e!==n.zoom&&this._map._update(!0);}if(n._isCameraConstrained&&r._stop(!0),!jS(e))return void this._fireEvents(t,i,!0);let{panDelta:s,zoomDelta:a,bearingDelta:l,pitchDelta:c,around:h,aroundCoord:u,pinchAround:d}=e;n._isCameraConstrained&&(a>0&&(a=0),n._isCameraConstrained=!1),void 0!==d&&(h=d),(a||(e=>t[e]&&!this._eventsInProgress[e])(\"drag\"))&&h&&(this._dragOrigin=o(n.pointCoordinate3D(h)),this._originalZoom=n.zoom,this._trackingEllipsoid.setup(n._camera.position,this._dragOrigin)),n.cameraElevationReference=\"sea\",r._stop(!0),h=h||r.transform.centerPoint,l&&(n.bearing+=l),c&&(n.pitch+=c),n._updateCameraState();const p=[0,0,0];if(s)if(\"mercator\"===n.projection.name){const e=this._trackingEllipsoid.projectRay(n.screenPointToMercatorRay(h).dir),t=this._trackingEllipsoid.projectRay(n.screenPointToMercatorRay(h.sub(s)).dir);p[0]=t[0]-e[0],p[1]=t[1]-e[1];}else {const e=n.pointCoordinate(h);if(\"globe\"===n.projection.name){s=s.rotate(-n.angle);const t=n._pixelsPerMercatorPixel/n.worldSize;p[0]=-s.x*Jd(Hd(e.y))*t,p[1]=-s.y*Jd(n.center.lat)*t;}else {const t=n.pointCoordinate(h.sub(s));e&&t&&(p[0]=t.x-e.x,p[1]=t.y-e.y);}}const f=n.zoom,m=[0,0,0];if(a){const e=o(u||n.pointCoordinate3D(h)),t={dir:Mu.normalize([],Mu.sub([],e,n._camera.position))};if(t.dir[2]<0){const i=n.zoomDeltaToMovement(e,a);Mu.scale(m,t.dir,i);}}const _=Mu.add(p,p,m);n._translateCameraConstrained(_),a&&Math.abs(n.zoom-f)>1e-4&&n.recenterOnTerrain(),n.cameraElevationReference=\"ground\",this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(t,i,!0);}_fireEvents(e,t,i){const r=NS(this._eventsInProgress),n=NS(e),o={};for(const t in e){const{originalEvent:i}=e[t];this._eventsInProgress[t]||(o[`${t}start`]=i),this._eventsInProgress[t]=e[t];}!r&&n&&this._fireEvent(\"movestart\",n.originalEvent);for(const e in o)this._fireEvent(e,o[e]);n&&this._fireEvent(\"move\",n.originalEvent);for(const t in e){const{originalEvent:i}=e[t];this._fireEvent(t,i);}const s={};let a;for(const e in this._eventsInProgress){const{handlerName:i,originalEvent:r}=this._eventsInProgress[e];this._handlersById[i].isActive()||(delete this._eventsInProgress[e],a=t[i]||r,s[`${e}end`]=a);}for(const e in s)this._fireEvent(e,s[e]);const l=NS(this._eventsInProgress);if(i&&(r||n)&&!l){this._updatingCamera=!0;const e=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),t=e=>0!==e&&-this._bearingSnap<e&&e<this._bearingSnap;e?(t(e.bearing||this._map.getBearing())&&(e.bearing=0),this._map.easeTo(e,{originalEvent:a})):(this._map.fire(new At(\"moveend\",{originalEvent:a})),t(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1;}}_fireEvent(e,t){this._map.fire(new At(e,t?{originalEvent:t}:{}));}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((e=>{this._frameId=void 0,this.handleEvent(new US(\"renderFrame\",{timeStamp:e})),this._applyChanges();}))}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame());}}const qS=\"map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.\";class ZS extends It{constructor(e,t){super(),this._moving=!1,this._zooming=!1,this.transform=e,this._bearingSnap=t.bearingSnap,this._respectPrefersReducedMotion=!1!==t.respectPrefersReducedMotion,j([\"_renderFrameCallback\"],this);}getCenter(){return new Nd(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}panBy(e,t,i){return e=y.convert(e).mult(-1),this.panTo(this.transform.center,k({offset:e},t),i)}panTo(e,t,i){return this.easeTo(k({center:e},t),i)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(e,t,i){return this.easeTo(k({zoom:e},t),i)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(e,t,i){return this.easeTo(k({bearing:e},t),i)}resetNorth(e,t){return this.rotateTo(0,k({duration:1e3},e),t),this}resetNorthPitch(e,t){return this.easeTo(k({bearing:0,pitch:0,duration:1e3},e),t),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}cameraForBounds(e,t){e=Ql.convert(e);const i=t&&t.bearing||0,r=t&&t.pitch||0,n=e.getNorthWest(),o=e.getSouthEast();return this._cameraForBounds(this.transform,n,o,i,r,t)}_extendCameraOptions(e){const t={top:0,bottom:0,right:0,left:0};if(\"number\"==typeof(e=k({padding:t,offset:[0,0],maxZoom:this.transform.maxZoom},e)).padding){const t=e.padding;e.padding={top:t,bottom:t,right:t,left:t};}return e.padding=k(t,e.padding),e}_minimumAABBFrustumDistance(e,t){const i=t.max[0]-t.min[0],r=t.max[1]-t.min[1];return i/r>e.aspect?i/(2*Math.tan(.5*e.fovX)*e.aspect):r/(2*Math.tan(.5*e.fovY)*e.aspect)}_cameraForBoundsOnGlobe(e,t,i,r,n,o){const s=e.clone(),a=this._extendCameraOptions(o);s.bearing=r,s.pitch=n;const l=Nd.convert(t),c=Nd.convert(i),h=.5*(l.lat+c.lat),u=.5*(l.lng+c.lng),d=md(h,u),p=Mu.normalize([],d),f=Mu.normalize([],Mu.cross([],p,[0,1,0])),m=Mu.cross([],f,p),_=[f[0],f[1],f[2],0,m[0],m[1],m[2],0,p[0],p[1],p[2],0,0,0,0,1],g=[d,md(l.lat,l.lng),md(c.lat,l.lng),md(c.lat,c.lng),md(l.lat,c.lng),md(h,l.lng),md(h,c.lng),md(l.lat,u),md(c.lat,u)];let y=Hu.fromPoints(g.map((e=>[Mu.dot(f,e),Mu.dot(m,e),Mu.dot(p,e)])));const x=Mu.transformMat4([],y.center,_);0===Mu.squaredLength(x)&&Mu.set(x,0,0,1),Mu.normalize(x,x),Mu.scale(x,x,Yu),s.center=function([e,t,i]){const r=Math.hypot(e,t,i),n=Math.atan2(e,i),o=.5*Math.PI-Math.acos(-t/r);return new Nd(T(n),T(o))}(x);const v=s.getWorldToCameraMatrix(),b=xu.invert(new Float64Array(16),v);y=Hu.applyTransform(y,xu.multiply([],v,_)),Mu.transformMat4(x,x,v);const w=.5*(y.max[2]-y.min[2]),E=this._minimumAABBFrustumDistance(s,y),M=Mu.scale([],[0,0,1],w),A=Mu.add(M,x,M),S=E+(0===s.pitch?0:Mu.distance(x,A)),I=s.globeCenterInViewSpace,C=Mu.sub([],x,[I[0],I[1],I[2]]);Mu.normalize(C,C),Mu.scale(C,C,S);const z=Mu.add([],x,C);Mu.transformMat4(z,z,b);const D=Od/Yu,P=Mu.length(z),R=Zd(Math.max(P*D-Od,Number.EPSILON),0),L=Math.min(s.zoomFromMercatorZAdjusted(R),a.maxZoom);return L>.5*(Wu+Xu)?(s.setProjection({name:\"mercator\"}),s.zoom=L,this._cameraForBounds(s,t,i,r,n,o)):{center:s.center,zoom:L,bearing:r,pitch:n}}queryTerrainElevation(e,t){const i=this.transform.elevation;return i?(t=k({},{exaggerated:!0},t),i.getAtPoint(ep.fromLngLat(e),null,t.exaggerated)):null}_cameraForBounds(e,t,i,r,n,o){if(\"globe\"===e.projection.name)return this._cameraForBoundsOnGlobe(e,t,i,r,n,o);const s=e.clone(),a=this._extendCameraOptions(o),l=s.padding;s.bearing=r,s.pitch=n;const c=Nd.convert(t),h=Nd.convert(i),u=new Nd(c.lng,h.lat),d=new Nd(h.lng,c.lat),p=s.project(c),f=s.project(h),m=this.queryTerrainElevation(c),_=this.queryTerrainElevation(h),g=this.queryTerrainElevation(u),x=this.queryTerrainElevation(d),v=[[p.x,p.y,Math.min(m||0,_||0,g||0,x||0)],[f.x,f.y,Math.max(m||0,_||0,g||0,x||0)]];let b=Hu.fromPoints(v);const T=s.getWorldToCameraMatrix(),E=xu.invert(new Float64Array(16),T);b=Hu.applyTransform(b,T);const M=Mu.sub([],b.max,b.min),A=l.left||0,S=l.right||0,I=l.bottom||0,C=l.top||0,{left:z,right:D,top:P,bottom:R}=a.padding,L=.5*(A+S),k=.5*(C+I),O=Math.min(s.scaleZoom(s.scale*Math.min((s.width-(A+S+z+D))/M[0],(s.height-(I+C+R+P))/M[1])),a.maxZoom),B=s.scale/s.zoomScale(O);b=new Hu([b.min[0]-(z+L)*B,b.min[1]-(R+k)*B,b.min[2]],[b.max[0]+(D+L)*B,b.max[1]+(P+k)*B,b.max[2]]);const F=.5*M[2],N=this._minimumAABBFrustumDistance(s,b),U=[0,0,1,0];uu.transformMat4(U,U,T),uu.normalize(U,U);const V=Mu.scale([],U,N+F),j=Mu.add([],b.center,V),G=(\"number\"==typeof a.offset.x&&\"number\"==typeof a.offset.y?new y(a.offset.x,a.offset.y):y.convert(a.offset)).rotate(-w(r));b.center[0]-=G.x*B,b.center[1]+=G.y*B,Mu.transformMat4(b.center,b.center,E),Mu.transformMat4(j,j,E);const q=[b.center[0],b.center[1],j[2]*s.pixelsPerMeter];Mu.scale(q,q,1/s.worldSize);const Z=$d(q[0]),$=Hd(q[1]),H=Math.min(s._zoomFromMercatorZ(q[2]),a.maxZoom),W=new Nd(Z,$);return s.mercatorFromTransition&&H<.5*(Wu+Xu)?(s.setProjection({name:\"globe\"}),s.zoom=H,this._cameraForBounds(s,t,i,r,n,o)):{center:W,zoom:H,bearing:r,pitch:n}}fitBounds(e,t,i){const r=this.cameraForBounds(e,t);return this._fitInternal(r,t,i)}fitScreenCoordinates(e,t,i,r,n){const o=y.convert(e),s=y.convert(t),a=new y(Math.min(o.x,s.x),Math.min(o.y,s.y)),l=new y(Math.max(o.x,s.x),Math.max(o.y,s.y));if(\"mercator\"===this.transform.projection.name&&this.transform.anyCornerOffEdge(o,s))return this;const c=this.transform.pointLocation3D(a),h=this.transform.pointLocation3D(l),u=this.transform.pointLocation3D(new y(a.x,l.y)),d=this.transform.pointLocation3D(new y(l.x,a.y)),p=[Math.min(c.lng,h.lng,u.lng,d.lng),Math.min(c.lat,h.lat,u.lat,d.lat)],f=[Math.max(c.lng,h.lng,u.lng,d.lng),Math.max(c.lat,h.lat,u.lat,d.lat)],m=r&&r.pitch?r.pitch:this.getPitch(),_=this._cameraForBounds(this.transform,p,f,i,m,r);return this._fitInternal(_,r,n)}_fitInternal(e,t,i){return e?(delete(t=k(e,t)).padding,t.linear?this.easeTo(t,i):this.flyTo(t,i)):this}jumpTo(e,t){this.stop();const i=e.preloadOnly?this.transform.clone():this.transform;let r=!1,n=!1,o=!1;return \"zoom\"in e&&i.zoom!==+e.zoom&&(r=!0,i.zoom=+e.zoom),void 0!==e.center&&(i.center=Nd.convert(e.center)),\"bearing\"in e&&i.bearing!==+e.bearing&&(n=!0,i.bearing=+e.bearing),\"pitch\"in e&&i.pitch!==+e.pitch&&(o=!0,i.pitch=+e.pitch),null==e.padding||i.isPaddingEqual(e.padding)||(i.padding=e.padding),e.preloadOnly?(this._preloadTiles(i),this):(this.fire(new At(\"movestart\",t)).fire(new At(\"move\",t)),r&&this.fire(new At(\"zoomstart\",t)).fire(new At(\"zoom\",t)).fire(new At(\"zoomend\",t)),n&&this.fire(new At(\"rotatestart\",t)).fire(new At(\"rotate\",t)).fire(new At(\"rotateend\",t)),o&&this.fire(new At(\"pitchstart\",t)).fire(new At(\"pitch\",t)).fire(new At(\"pitchend\",t)),this.fire(new At(\"moveend\",t)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||W(qS),this.transform.getFreeCameraOptions()}setFreeCameraOptions(e,t){const i=this.transform;if(!i.projection.supportsFreeCamera)return W(qS),this;this.stop();const r=i.zoom,n=i.pitch,o=i.bearing;i.setFreeCameraOptions(e);const s=r!==i.zoom,a=n!==i.pitch,l=o!==i.bearing;return this.fire(new At(\"movestart\",t)).fire(new At(\"move\",t)),s&&this.fire(new At(\"zoomstart\",t)).fire(new At(\"zoom\",t)).fire(new At(\"zoomend\",t)),l&&this.fire(new At(\"rotatestart\",t)).fire(new At(\"rotate\",t)).fire(new At(\"rotateend\",t)),a&&this.fire(new At(\"pitchstart\",t)).fire(new At(\"pitch\",t)).fire(new At(\"pitchend\",t)),this.fire(new At(\"moveend\",t)),this}easeTo(e,t){this._stop(!1,e.easeId),(!1===(e=k({offset:[0,0],duration:500,easing:C},e)).animate||this._prefersReducedMotion(e))&&(e.duration=0);const i=this.transform,r=this.getZoom(),n=this.getBearing(),o=this.getPitch(),s=this.getPadding(),a=\"zoom\"in e?+e.zoom:r,l=\"bearing\"in e?this._normalizeBearing(e.bearing,n):n,c=\"pitch\"in e?+e.pitch:o,h=\"padding\"in e?e.padding:i.padding,u=y.convert(e.offset);let d,p,f;if(\"globe\"===i.projection.name){const t=ep.fromLngLat(i.center),r=u.rotate(-i.angle);t.x+=r.x/i.worldSize,t.y+=r.y/i.worldSize;const n=t.toLngLat(),o=Nd.convert(e.center||n);this._normalizeCenter(o),d=i.centerPoint.add(r),p=new y(t.x,t.y).mult(i.worldSize),f=new y(Gd(o.lng),qd(o.lat)).mult(i.worldSize).sub(p);}else {d=i.centerPoint.add(u);const t=i.pointLocation(d),r=Nd.convert(e.center||t);this._normalizeCenter(r),p=i.project(t),f=i.project(r).sub(p);}const m=i.zoomScale(a-r);let _,g;e.around&&(_=Nd.convert(e.around),g=i.locationPoint(_));const x=this._zooming||a!==r,v=this._rotating||n!==l,b=this._pitching||c!==o,w=!i.isPaddingEqual(h),T=i=>y=>{if(x&&(i.zoom=Wr(r,a,y)),v&&(i.bearing=Wr(n,l,y)),b&&(i.pitch=Wr(o,c,y)),w&&(i.interpolatePadding(s,h,y),d=i.centerPoint.add(u)),_)i.setLocationAtPoint(_,g);else {const e=i.zoomScale(i.zoom-r),t=a>r?Math.min(2,m):Math.max(.5,m),n=Math.pow(t,1-y),o=i.unproject(p.add(f.mult(y*n)).mult(e));i.setLocationAtPoint(i.renderWorldCopies?o.wrap():o,d);}return e.preloadOnly||this._fireMoveEvents(t),i};if(e.preloadOnly){const t=this._emulate(T,e.duration,i);return this._preloadTiles(t),this}const E={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=x,this._rotating=v,this._pitching=b,this._padding=w,this._easeId=e.easeId,this._prepareEase(t,e.noMoveStart,E),this._ease(T(i),(e=>{\"sea\"===i.cameraElevationReference&&i.recenterOnTerrain(),this._afterEase(t,e);}),e),this}_prepareEase(e,t,i={}){this._moving=!0,this.transform.cameraElevationReference=\"sea\",this.transform._orthographicProjectionAtLowPitch&&0===this.transform.pitch&&\"globe\"!==this.transform.projection.name&&(this.transform.cameraElevationReference=\"ground\"),t||i.moving||this.fire(new At(\"movestart\",e)),this._zooming&&!i.zooming&&this.fire(new At(\"zoomstart\",e)),this._rotating&&!i.rotating&&this.fire(new At(\"rotatestart\",e)),this._pitching&&!i.pitching&&this.fire(new At(\"pitchstart\",e));}_fireMoveEvents(e){this.fire(new At(\"move\",e)),this._zooming&&this.fire(new At(\"zoom\",e)),this._rotating&&this.fire(new At(\"rotate\",e)),this._pitching&&this.fire(new At(\"pitch\",e));}_afterEase(e,t){if(this._easeId&&t&&this._easeId===t)return;this._easeId=void 0,this.transform.cameraElevationReference=\"ground\";const i=this._zooming,r=this._rotating,n=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,i&&this.fire(new At(\"zoomend\",e)),r&&this.fire(new At(\"rotateend\",e)),n&&this.fire(new At(\"pitchend\",e)),this.fire(new At(\"moveend\",e));}flyTo(e,t){if(this._prefersReducedMotion(e)){const i=O(e,[\"center\",\"zoom\",\"bearing\",\"pitch\",\"around\"]);return this.jumpTo(i,t)}this.stop(),e=k({offset:[0,0],speed:1.2,curve:1.42,easing:C},e);const i=this.transform,r=this.getZoom(),n=this.getBearing(),o=this.getPitch(),s=this.getPadding(),a=\"zoom\"in e?z(+e.zoom,i.minZoom,i.maxZoom):r,l=\"bearing\"in e?this._normalizeBearing(e.bearing,n):n,c=\"pitch\"in e?+e.pitch:o,h=\"padding\"in e?e.padding:i.padding,u=i.zoomScale(a-r),d=y.convert(e.offset);let p=i.centerPoint.add(d);const f=i.pointLocation(p),m=Nd.convert(e.center||f);this._normalizeCenter(m);const _=i.project(f),g=i.project(m).sub(_);let x=e.curve;const v=Math.max(i.width,i.height),b=v/u,w=g.mag();if(\"minZoom\"in e){const t=z(Math.min(e.minZoom,r,a),i.minZoom,i.maxZoom),n=v/i.zoomScale(t-r);x=Math.sqrt(n/w*2);}const T=x*x;function E(e){const t=(b*b-v*v+(e?-1:1)*T*T*w*w)/(2*(e?b:v)*T*w);return Math.log(Math.sqrt(t*t+1)-t)}function M(e){return (Math.exp(e)-Math.exp(-e))/2}function A(e){return (Math.exp(e)+Math.exp(-e))/2}const S=E(0);let I=function(e){return A(S)/A(S+x*e)},D=function(e){return v*((A(S)*(M(t=S+x*e)/A(t))-M(S))/T)/w;var t;},P=(E(1)-S)/x;if(Math.abs(w)<1e-6||!isFinite(P)){if(Math.abs(v-b)<1e-6)return this.easeTo(e,t);const i=b<v?-1:1;P=Math.abs(Math.log(b/v))/x,D=function(){return 0},I=function(e){return Math.exp(i*x*e)};}e.duration=\"duration\"in e?+e.duration:1e3*P/(\"screenSpeed\"in e?+e.screenSpeed/x:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0);const R=n!==l,L=c!==o,B=!i.isPaddingEqual(h),F=i=>u=>{const f=u*P,y=1/I(f);i.zoom=1===u?a:r+i.scaleZoom(y),R&&(i.bearing=Wr(n,l,u)),L&&(i.pitch=Wr(o,c,u)),B&&(i.interpolatePadding(s,h,u),p=i.centerPoint.add(d));const x=1===u?m:i.unproject(_.add(g.mult(D(f))).mult(y));return i.setLocationAtPoint(i.renderWorldCopies?x.wrap():x,p),i._updateCameraOnTerrain(),e.preloadOnly||this._fireMoveEvents(t),i};if(e.preloadOnly){const t=this._emulate(F,e.duration,i);return this._preloadTiles(t),this}return this._zooming=!0,this._rotating=R,this._pitching=L,this._padding=B,this._prepareEase(t,!1),this._ease(F(i),(()=>this._afterEase(t)),e),this}isEasing(){return !!this._easeFrameId}stop(){return this._stop()}_stop(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const e=this._onEaseEnd;this._onEaseEnd=void 0,e.call(this,t);}if(!e){const e=this.handlers;e&&e.stop(!1);}return this}_ease(e,t,i){!1===i.animate||0===i.duration?(e(1),t()):(this._easeStart=ht.now(),this._easeOptions=i,this._onEaseFrame=e,this._onEaseEnd=t,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback));}_renderFrameCallback(){const e=Math.min((ht.now()-this._easeStart)/this._easeOptions.duration,1),t=this._onEaseFrame;t&&t(this._easeOptions.easing(e)),e<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop();}_normalizeBearing(e,t){e=P(e,-180,180);const i=Math.abs(e-t);return Math.abs(e-360-t)<i&&(e-=360),Math.abs(e+360-t)<i&&(e+=360),e}_normalizeCenter(e){const t=this.transform;if(!t.renderWorldCopies||t.maxBounds)return;const i=e.lng-t.center.lng;e.lng+=i>180?-360:i<-180?360:0;}_prefersReducedMotion(e){return this._respectPrefersReducedMotion&&ht.prefersReducedMotion&&!(e&&e.essential)}_emulate(e,t,i){const r=Math.ceil(15*t/1e3),n=[],o=e(i.clone());for(let e=0;e<=r;e++){const t=o(e/r);n.push(t.clone());}return n}}class $S{constructor(e={}){this.options=e,j([\"_toggleAttribution\",\"_updateEditLink\",\"_updateData\",\"_updateCompact\"],this);}getDefaultPosition(){return \"bottom-right\"}onAdd(e){const t=this.options&&this.options.compact;return this._map=e,this._container=ut(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-attrib\"),this._compactButton=ut(\"button\",\"mapboxgl-ctrl-attrib-button\",this._container),ut(\"span\",\"mapboxgl-ctrl-icon\",this._compactButton).setAttribute(\"aria-hidden\",\"true\"),this._compactButton.type=\"button\",this._compactButton.addEventListener(\"click\",this._toggleAttribution),this._setElementTitle(this._compactButton,\"ToggleAttribution\"),this._innerContainer=ut(\"div\",\"mapboxgl-ctrl-attrib-inner\",this._container),t&&this._container.classList.add(\"mapboxgl-compact\"),this._updateAttributions(),this._updateEditLink(),this._map.on(\"styledata\",this._updateData),this._map.on(\"sourcedata\",this._updateData),this._map.on(\"moveend\",this._updateEditLink),void 0===t&&(this._map.on(\"resize\",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off(\"styledata\",this._updateData),this._map.off(\"sourcedata\",this._updateData),this._map.off(\"moveend\",this._updateEditLink),this._map.off(\"resize\",this._updateCompact),this._map=void 0,this._attribHTML=void 0;}_setElementTitle(e,t){const i=this._map._getUIString(`AttributionControl.${t}`);e.setAttribute(\"aria-label\",i),e.removeAttribute(\"title\"),e.firstElementChild&&e.firstElementChild.setAttribute(\"title\",i);}_toggleAttribution(){this._container.classList.contains(\"mapboxgl-compact-show\")?(this._container.classList.remove(\"mapboxgl-compact-show\"),this._compactButton.setAttribute(\"aria-expanded\",\"false\")):(this._container.classList.add(\"mapboxgl-compact-show\"),this._compactButton.setAttribute(\"aria-expanded\",\"true\"));}_updateEditLink(){let e=this._editLink;e||(e=this._editLink=this._container.querySelector(\".mapbox-improve-map\"));const t=[{key:\"owner\",value:this.styleOwner},{key:\"id\",value:this.styleId},{key:\"access_token\",value:this._map._requestManager._customAccessToken||n.ACCESS_TOKEN}];if(e){const i=t.reduce(((e,i,r)=>(i.value&&(e+=`${i.key}=${i.value}${r<t.length-1?\"&\":\"\"}`),e)),\"?\");e.href=`${n.FEEDBACK_URL}/${i}#${XA(this._map,!0)}`,e.rel=\"noopener nofollow\",this._setElementTitle(e,\"MapFeedback\");}}_updateData(e){!e||\"metadata\"!==e.sourceDataType&&\"visibility\"!==e.sourceDataType&&\"style\"!==e.dataType||(this._updateAttributions(),this._updateEditLink());}_updateAttributions(){if(!this._map.style)return;let e=[];if(this._map.style.stylesheet){const e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id;}const t=this._map.style._mergedSourceCaches;for(const i in t){const r=t[i];if(r.used){const t=r.getSource();t.attribution&&e.indexOf(t.attribution)<0&&e.push(t.attribution);}}e.sort(((e,t)=>e.length-t.length)),e=e.filter(((t,i)=>{for(let r=i+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return !1;return !0})),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=[...this.options.customAttribution,...e]:e.unshift(this.options.customAttribution));const i=e.join(\" | \");i!==this._attribHTML&&(this._attribHTML=i,e.length?(this._innerContainer.innerHTML=i,this._container.classList.remove(\"mapboxgl-attrib-empty\")):this._container.classList.add(\"mapboxgl-attrib-empty\"),this._editLink=null);}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add(\"mapboxgl-compact\"):this._container.classList.remove(\"mapboxgl-compact\",\"mapboxgl-compact-show\");}}class HS{constructor(){j([\"_updateLogo\",\"_updateCompact\"],this);}onAdd(e){this._map=e,this._container=ut(\"div\",\"mapboxgl-ctrl\");const t=ut(\"a\",\"mapboxgl-ctrl-logo\");return t.target=\"_blank\",t.rel=\"noopener nofollow\",t.href=\"https://www.mapbox.com/\",t.setAttribute(\"aria-label\",this._map._getUIString(\"LogoControl.Title\")),t.setAttribute(\"rel\",\"noopener nofollow\"),this._container.appendChild(t),this._container.style.display=\"none\",this._map.on(\"sourcedata\",this._updateLogo),this._updateLogo(),this._map.on(\"resize\",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off(\"sourcedata\",this._updateLogo),this._map.off(\"resize\",this._updateCompact);}getDefaultPosition(){return \"bottom-left\"}_updateLogo(e){e&&\"metadata\"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?\"block\":\"none\");}_logoRequired(){if(!this._map.style)return !0;const e=this._map.style._sourceCaches;if(0===Object.entries(e).length)return !0;for(const t in e){const i=e[t].getSource();if(i.hasOwnProperty(\"mapbox_logo\")&&!i.mapbox_logo)return !1}return !0}_updateCompact(){const e=this._container.children;if(e.length){const t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add(\"mapboxgl-compact\"):t.classList.remove(\"mapboxgl-compact\");}}}class WS{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1;}add(e){const t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}remove(e){const t=this._currentlyRunning,i=t?this._queue.concat(t):this._queue;for(const t of i)if(t.id===e)return void(t.cancelled=!0)}run(e=0){const t=this._currentlyRunning=this._queue;this._queue=[];for(const i of t)if(!i.cancelled&&(i.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1;}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[];}}function XS(e,t,i){if(e=new Nd(e.lng,e.lat),t){const r=new Nd(e.lng-360,e.lat),n=new Nd(e.lng+360,e.lat),o=360*Math.ceil(Math.abs(e.lng-i.center.lng)/360),s=i.locationPoint(e).distSqr(t),a=t.x<0||t.y<0||t.x>i.width||t.y>i.height;i.locationPoint(r).distSqr(t)<s&&(a||Math.abs(r.lng-i.center.lng)<o)?e=r:i.locationPoint(n).distSqr(t)<s&&(a||Math.abs(n.lng-i.center.lng)<o)&&(e=n);}for(;Math.abs(e.lng-i.center.lng)>180;){const t=i.locationPoint(e);if(t.x>=0&&t.y>=0&&t.x<=i.width&&t.y<=i.height)break;e.lng>i.center.lng?e.lng-=360:e.lng+=360;}return e}const YS={center:\"translate(-50%,-50%)\",top:\"translate(-50%,0)\",\"top-left\":\"translate(0,0)\",\"top-right\":\"translate(-100%,0)\",bottom:\"translate(-50%,-100%)\",\"bottom-left\":\"translate(0,-100%)\",\"bottom-right\":\"translate(-100%,-100%)\",left:\"translate(0,-50%)\",right:\"translate(-100%,-50%)\"};class KS extends It{constructor(e,i){if(super(),(e instanceof t.HTMLElement||i)&&(e=k({element:e},i)),j([\"_update\",\"_onMove\",\"_onUp\",\"_addDragHandler\",\"_onMapClick\",\"_onKeyPress\",\"_clearFadeTimer\"],this),this._anchor=e&&e.anchor||\"center\",this._color=e&&e.color||\"#3FB1CE\",this._scale=e&&e.scale||1,this._draggable=e&&e.draggable||!1,this._clickTolerance=e&&e.clickTolerance||0,this._isDragging=!1,this._state=\"inactive\",this._rotation=e&&e.rotation||0,this._rotationAlignment=e&&e.rotationAlignment||\"auto\",this._pitchAlignment=e&&e.pitchAlignment&&e.pitchAlignment||\"auto\",this._updateMoving=()=>this._update(!0),this._occludedOpacity=e&&e.occludedOpacity||.2,e&&e.element)this._element=e.element,this._offset=y.convert(e&&e.offset||[0,0]);else {this._defaultMarker=!0,this._element=ut(\"div\");const t=41,i=27,r=dt(\"svg\",{display:\"block\",height:t*this._scale+\"px\",width:i*this._scale+\"px\",viewBox:`0 0 ${i} ${t}`},this._element),n=dt(\"radialGradient\",{id:\"shadowGradient\"},dt(\"defs\",{},r));dt(\"stop\",{offset:\"10%\",\"stop-opacity\":.4},n),dt(\"stop\",{offset:\"100%\",\"stop-opacity\":.05},n),dt(\"ellipse\",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:\"url(#shadowGradient)\"},r),dt(\"path\",{fill:this._color,d:\"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z\"},r),dt(\"path\",{opacity:.25,d:\"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z\"},r),dt(\"circle\",{fill:\"white\",cx:13.5,cy:13.5,r:5.5},r),this._offset=y.convert(e&&e.offset||[0,-14]);}this._element.hasAttribute(\"aria-label\")||this._element.setAttribute(\"aria-label\",\"Map marker\"),this._element.hasAttribute(\"role\")||this._element.setAttribute(\"role\",\"img\"),this._element.classList.add(\"mapboxgl-marker\"),this._element.addEventListener(\"dragstart\",(e=>{e.preventDefault();})),this._element.addEventListener(\"mousedown\",(e=>{e.preventDefault();}));const r=this._element.classList;for(const e in YS)r.remove(`mapboxgl-marker-anchor-${e}`);r.add(`mapboxgl-marker-anchor-${this._anchor}`);const n=e&&e.className?e.className.trim().split(/\\s+/):[];r.add(...n),this._popup=null;}addTo(e){return e===this._map||(this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on(\"move\",this._updateMoving),e.on(\"moveend\",this._update),e.on(\"remove\",this._clearFadeTimer),e._addMarker(this),this.setDraggable(this._draggable),this._update(),e.on(\"click\",this._onMapClick)),this}remove(){const e=this._map;return e&&(e.off(\"click\",this._onMapClick),e.off(\"move\",this._updateMoving),e.off(\"moveend\",this._update),e.off(\"mousedown\",this._addDragHandler),e.off(\"touchstart\",this._addDragHandler),e.off(\"mouseup\",this._onUp),e.off(\"touchend\",this._onUp),e.off(\"mousemove\",this._onMove),e.off(\"touchmove\",this._onMove),e.off(\"remove\",this._clearFadeTimer),e._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(e){return this._lngLat=Nd.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute(\"role\"),this._element.removeEventListener(\"keypress\",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute(\"tabindex\")),e){if(!(\"offset\"in e.options)){const t=38.1,i=13.5,r=Math.sqrt(Math.pow(i,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],\"top-left\":[0,0],\"top-right\":[0,0],bottom:[0,-t],\"bottom-left\":[r,-1*(t-i+r)],\"bottom-right\":[-r,-1*(t-i+r)],left:[i,-1*(t-i)],right:[-i,-1*(t-i)]}:this._offset;}this._popup=e,e._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute(\"role\",\"button\"),this._originalTabIndex=this._element.getAttribute(\"tabindex\"),this._originalTabIndex||this._element.setAttribute(\"tabindex\",\"0\"),this._element.addEventListener(\"keypress\",this._onKeyPress),this._element.setAttribute(\"aria-expanded\",\"false\");}return this}_onKeyPress(e){const t=e.code,i=e.charCode||e.keyCode;\"Space\"!==t&&\"Enter\"!==t&&32!==i&&13!==i||this.togglePopup();}_onMapClick(e){const t=e.originalEvent.target,i=this._element;this._popup&&(t===i||i.contains(t))&&this.togglePopup();}getPopup(){return this._popup}togglePopup(){const e=this._popup;return e?(e.isOpen()?(e.remove(),this._element.setAttribute(\"aria-expanded\",\"false\")):this._map&&(e.addTo(this._map),this._element.setAttribute(\"aria-expanded\",\"true\")),this):this}_behindTerrain(){const e=this._map,t=this._pos;if(!e||!t)return !1;const i=e.unproject(t),r=e.getFreeCameraOptions();if(!r.position)return !1;const n=r.position.toLngLat();return n.distanceTo(i)<.9*n.distanceTo(this._lngLat)}_evaluateOpacity(){const e=this._map;if(!e)return;const t=this._pos;if(!t||t.x<0||t.x>e.transform.width||t.y<0||t.y>e.transform.height)return void this._clearFadeTimer();const i=e.unproject(t);let r;e._showingGlobe()&&Dd(e.transform,this._lngLat)?r=0:(r=1-e._queryFogOpacity(i),e.transform._terrainEnabled()&&e.getTerrain()&&this._behindTerrain()&&(r*=this._occludedOpacity)),this._element.style.opacity=`${r}`,this._element.style.pointerEvents=r>0?\"auto\":\"none\",this._popup&&this._popup._setOpacity(r),this._fadeTimer=null;}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null);}_updateDOM(){const e=this._pos;if(!e||!this._map)return;const t=this._offset.mult(this._scale);this._element.style.transform=`\\n            translate(${e.x}px,${e.y}px)\\n            ${YS[this._anchor]}\\n            ${this._calculateXYTransform()} ${this._calculateZTransform()}\\n            translate(${t.x}px,${t.y}px)\\n        `;}_calculateXYTransform(){const e=this._pos,t=this._map,i=this.getPitchAlignment();if(!t||!e||\"map\"!==i)return \"\";if(!t._showingGlobe()){const e=t.getPitch();return e?`rotateX(${e}deg)`:\"\"}const r=T(zd(t.transform,this._lngLat)),n=e.sub(Cd(t.transform)),o=Math.abs(n.x)+Math.abs(n.y);if(0===o)return \"\";const s=r/o;return `rotateX(${-n.y*s}deg) rotateY(${n.x*s}deg)`}_calculateZTransform(){const e=this._pos,t=this._map;if(!t||!e)return \"\";let i=0;const r=this.getRotationAlignment();if(\"map\"===r)if(t._showingGlobe()){const e=t.project(new Nd(this._lngLat.lng,this._lngLat.lat+.001)),r=t.project(new Nd(this._lngLat.lng,this._lngLat.lat-.001)).sub(e);i=T(Math.atan2(r.y,r.x))-90;}else i=-t.getBearing();else if(\"horizon\"===r){const r=D(4,6,t.getZoom()),n=Cd(t.transform);n.y+=r*t.transform.height;const o=e.sub(n),s=T(Math.atan2(o.y,o.x));i=(s>90?s-270:s+90)*(1-r);}return i+=this._rotation,i?`rotateZ(${i}deg)`:\"\"}_update(e){t.cancelAnimationFrame(this._updateFrameId);const i=this._map;i&&(i.transform.renderWorldCopies&&(this._lngLat=XS(this._lngLat,this._pos,i.transform)),this._pos=i.project(this._lngLat),!0===e?this._updateFrameId=t.requestAnimationFrame((()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM());})):this._pos=this._pos.round(),i._requestDomTask((()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(i._showingGlobe()||i.getTerrain()||i.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)));})));}getOffset(){return this._offset}setOffset(e){return this._offset=y.convert(e),this._update(),this}addClassName(e){return this._element.classList.add(e),this}removeClassName(e){return this._element.classList.remove(e),this}toggleClassName(e){return this._element.classList.toggle(e)}_onMove(e){const t=this._map;if(!t)return;const i=this._pointerdownPos,r=this._positionDelta;if(i&&r){if(!this._isDragging){const r=this._clickTolerance||t._clickTolerance;if(e.point.dist(i)<r)return;this._isDragging=!0;}this._pos=e.point.sub(r),this._lngLat=t.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents=\"none\",\"pending\"===this._state&&(this._state=\"active\",this.fire(new At(\"dragstart\"))),this.fire(new At(\"drag\"));}}_onUp(){this._element.style.pointerEvents=\"auto\",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const e=this._map;e&&(e.off(\"mousemove\",this._onMove),e.off(\"touchmove\",this._onMove)),\"active\"===this._state&&this.fire(new At(\"dragend\")),this._state=\"inactive\";}_addDragHandler(e){const t=this._map,i=this._pos;t&&i&&this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(i),this._pointerdownPos=e.point,this._state=\"pending\",t.on(\"mousemove\",this._onMove),t.on(\"touchmove\",this._onMove),t.once(\"mouseup\",this._onUp),t.once(\"touchend\",this._onUp));}setDraggable(e){this._draggable=!!e;const t=this._map;return t&&(e?(t.on(\"mousedown\",this._addDragHandler),t.on(\"touchstart\",this._addDragHandler)):(t.off(\"mousedown\",this._addDragHandler),t.off(\"touchstart\",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||\"auto\",this._update(),this}getRotationAlignment(){return \"auto\"===this._rotationAlignment||\"horizon\"===this._rotationAlignment&&this._map&&!this._map._showingGlobe()?\"viewport\":this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e||\"auto\",this._update(),this}getPitchAlignment(){return \"auto\"===this._pitchAlignment?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(e){return this._occludedOpacity=e||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const JS={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:\"\",maxWidth:\"240px\"},QS=[\"a[href]\",\"[tabindex]:not([tabindex='-1'])\",\"[contenteditable]:not([contenteditable='false'])\",\"button:not([disabled])\",\"input:not([disabled])\",\"select:not([disabled])\",\"textarea:not([disabled])\"].join(\", \");function eI(e=new y(0,0),t=\"bottom\"){if(\"number\"==typeof e){const i=Math.round(Math.sqrt(.5*Math.pow(e,2)));switch(t){case\"top\":return new y(0,e);case\"top-left\":return new y(i,i);case\"top-right\":return new y(-i,i);case\"bottom\":return new y(0,-e);case\"bottom-left\":return new y(i,-i);case\"bottom-right\":return new y(-i,-i);case\"left\":return new y(e,0);case\"right\":return new y(-e,0)}return new y(0,0)}return e instanceof y||Array.isArray(e)?y.convert(e):y.convert(e[t]||[0,0])}class tI{constructor(e){this.jumpTo(e);}getValue(e){if(e<=this._startTime)return this._start;if(e>=this._endTime)return this._end;const t=M((e-this._startTime)/(this._endTime-this._startTime));return this._start*(1-t)+this._end*t}isEasing(e){return e>=this._startTime&&e<=this._endTime}jumpTo(e){this._startTime=-1/0,this._endTime=-1/0,this._start=e,this._end=e;}easeTo(e,t,i){this._start=this.getValue(t),this._end=e,this._startTime=t,this._endTime=t+i;}}const iI={\"AttributionControl.ToggleAttribution\":\"Toggle attribution\",\"AttributionControl.MapFeedback\":\"Map feedback\",\"FullscreenControl.Enter\":\"Enter fullscreen\",\"FullscreenControl.Exit\":\"Exit fullscreen\",\"GeolocateControl.FindMyLocation\":\"Find my location\",\"GeolocateControl.LocationNotAvailable\":\"Location not available\",\"LogoControl.Title\":\"Mapbox logo\",\"Map.Title\":\"Map\",\"NavigationControl.ResetBearing\":\"Reset bearing to north\",\"NavigationControl.ZoomIn\":\"Zoom in\",\"NavigationControl.ZoomOut\":\"Zoom out\",\"ScrollZoomBlocker.CtrlMessage\":\"Use ctrl + scroll to zoom the map\",\"ScrollZoomBlocker.CmdMessage\":\"Use â + scroll to zoom the map\",\"TouchPanBlocker.Message\":\"Use two fingers to move the map\"},rI={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,antialias:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:\"sans-serif\",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0,collectResourceTiming:!1,testMode:!1},nI={showCompass:!0,showZoom:!0,visualizePitch:!1};class oI{constructor(e,t,i=!1){this._clickTolerance=10,this.element=t,this.mouseRotate=new gS({clickTolerance:e.dragRotate._mouseRotate._clickTolerance}),this.map=e,i&&(this.mousePitch=new yS({clickTolerance:e.dragRotate._mousePitch._clickTolerance})),j([\"mousedown\",\"mousemove\",\"mouseup\",\"touchstart\",\"touchmove\",\"touchend\",\"reset\"],this),t.addEventListener(\"mousedown\",this.mousedown),t.addEventListener(\"touchstart\",this.touchstart,{passive:!1}),t.addEventListener(\"touchmove\",this.touchmove),t.addEventListener(\"touchend\",this.touchend),t.addEventListener(\"touchcancel\",this.reset);}down(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),_t();}move(e,t){const i=this.map,r=this.mouseRotate.mousemoveWindow(e,t),n=r&&r.bearingDelta;if(n&&i.setBearing(i.getBearing()+n),this.mousePitch){const r=this.mousePitch.mousemoveWindow(e,t),n=r&&r.pitchDelta;n&&i.setPitch(i.getPitch()+n);}}off(){const e=this.element;e.removeEventListener(\"mousedown\",this.mousedown),e.removeEventListener(\"touchstart\",this.touchstart,{passive:!1}),e.removeEventListener(\"touchmove\",this.touchmove),e.removeEventListener(\"touchend\",this.touchend),e.removeEventListener(\"touchcancel\",this.reset),this.offTemp();}offTemp(){gt(),t.removeEventListener(\"mousemove\",this.mousemove),t.removeEventListener(\"mouseup\",this.mouseup);}mousedown(e){this.down(k({},e,{ctrlKey:!0,preventDefault:()=>e.preventDefault()}),vt(this.element,e)),t.addEventListener(\"mousemove\",this.mousemove),t.addEventListener(\"mouseup\",this.mouseup);}mousemove(e){this.move(e,vt(this.element,e));}mouseup(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp();}touchstart(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=bt(this.element,e.targetTouches)[0],this.down({type:\"mousedown\",button:0,ctrlKey:!0,preventDefault:()=>e.preventDefault()},this._startPos));}touchmove(e){1!==e.targetTouches.length?this.reset():(this._lastPos=bt(this.element,e.targetTouches)[0],this.move({preventDefault:()=>e.preventDefault()},this._lastPos));}touchend(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset();}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp();}}const sI={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},aI={maxWidth:100,unit:\"metric\"},lI={kilometer:\"km\",meter:\"m\",mile:\"mi\",foot:\"ft\",\"nautical-mile\":\"nm\"},cI={version:i,supported:rt,setRTLTextPlugin:function(e,t,i=!1){if($s===js||$s===Gs||$s===qs)throw new Error(\"setRTLTextPlugin cannot be called multiple times.\");Hs=ht.resolveURL(e),$s=js,Zs=t,Xs(),i||Js();},getRTLTextPluginStatus:Ks,Map:class extends ZS{constructor(e){if(Qe.mark(Je.create),null!=(e=k({},rI,e)).minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error(\"maxZoom must be greater than or equal to minZoom\");if(null!=e.minPitch&&null!=e.maxPitch&&e.minPitch>e.maxPitch)throw new Error(\"maxPitch must be greater than or equal to minPitch\");if(null!=e.minPitch&&e.minPitch<0)throw new Error(\"minPitch must be greater than or equal to 0\");if(null!=e.maxPitch&&e.maxPitch>85)throw new Error(\"maxPitch must be less than or equal to 85\");if(e.antialias&&function(e){const t=e.navigator?e.navigator.userAgent:null;return !!function(e){if(null==te){const t=e.navigator?e.navigator.userAgent:null;te=!!e.safari||!(!t||!(/\\b(iPad|iPhone|iPod)\\b/.test(t)||t.match(\"Safari\")&&!t.match(\"Chrome\")));}return te}(e)&&t&&(t.match(\"Version/15.4\")||t.match(\"Version/15.5\")||t.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))}(t)&&(e.antialias=!1,W(\"Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609\")),super(new mv(e.minZoom,e.maxZoom,e.minPitch,e.maxPitch,e.renderWorldCopies),e),this._interactive=e.interactive,this._minTileCacheSize=e.minTileCacheSize,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._antialias=e.antialias,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=e.crossSourceCollisions,this._collectResourceTiming=e.collectResourceTiming,this._language=this._parseLanguage(e.language),this._worldview=e.worldview,this._renderTaskQueue=new WS,this._domRenderTaskQueue=new WS,this._controls=[],this._markers=[],this._popups=[],this._mapId=F(),this._locale=k({},iI,e.locale),this._clickTolerance=e.clickTolerance,this._cooperativeGestures=e.cooperativeGestures,this._performanceMetricsCollection=e.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new tI(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new ze(e.transformRequest,e.accessToken,e.testMode),this._silenceAuthErrors=!!e.testMode,\"string\"==typeof e.container){if(this._container=t.document.getElementById(e.container),!this._container)throw new Error(`Container '${e.container.toString()}' not found.`)}else {if(!(e.container instanceof t.HTMLElement))throw new Error(\"Invalid type: 'container' must be a String or HTMLElement.\");this._container=e.container;}if(this._container.childNodes.length>0&&W(\"The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead.\"),e.maxBounds&&this.setMaxBounds(e.maxBounds),j([\"_onWindowOnline\",\"_onWindowResize\",\"_onVisibilityChange\",\"_onMapScroll\",\"_contextLost\",\"_contextRestored\"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error(\"Failed to initialize WebGL.\");if(this.on(\"move\",(()=>this._update(!1))),this.on(\"moveend\",(()=>this._update(!1))),this.on(\"zoom\",(()=>this._update(!0))),void 0!==t&&(this._fullscreenchangeEvent=\"onfullscreenchange\"in t.document?\"fullscreenchange\":\"webkitfullscreenchange\",t.addEventListener(\"online\",this._onWindowOnline,!1),t.addEventListener(\"resize\",this._onWindowResize,!1),t.addEventListener(\"orientationchange\",this._onWindowResize,!1),t.addEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),t.addEventListener(\"visibilitychange\",this._onVisibilityChange,!1)),this.handlers=new GS(this,e),this._localFontFamily=e.localFontFamily,this._localIdeographFontFamily=e.localIdeographFontFamily,(e.style||!e.testMode)&&this.setStyle(e.style||n.DEFAULT_STYLE,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),e.projection&&this.setProjection(e.projection),e.hash&&(this._hash=new WA(\"string\"==typeof e.hash&&e.hash||void 0).addTo(this)),!this._hash||!this._hash._onHashChange()){this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch});const t=e.bounds;t&&(this.resize(),this.fitBounds(t,k({},e.fitBoundsOptions,{duration:0})));}this.resize(),e.attributionControl&&this.addControl(new $S({customAttribution:e.customAttribution})),this._logoControl=new HS,this.addControl(this._logoControl,e.logoPosition),this.on(\"style.load\",(()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet);})),this.on(\"data\",(e=>{this._update(\"style\"===e.dataType),this.fire(new At(`${e.dataType}data`,e));})),this.on(\"dataloading\",(e=>{this.fire(new At(`${e.dataType}dataloading`,e));}));}_getMapId(){return this._mapId}addControl(e,t){if(void 0===t&&(t=e.getDefaultPosition?e.getDefaultPosition():\"top-right\"),!e||!e.onAdd)return this.fire(new St(new Error(\"Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.\")));const i=e.onAdd(this);this._controls.push(e);const r=this._controlPositions[t];return -1!==t.indexOf(\"bottom\")?r.insertBefore(i,r.firstChild):r.appendChild(i),this}removeControl(e){if(!e||!e.onRemove)return this.fire(new St(new Error(\"Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.\")));const t=this._controls.indexOf(e);return t>-1&&this._controls.splice(t,1),e.onRemove(this),this}hasControl(e){return this._controls.indexOf(e)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(e){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const t=!this._moving;return t&&this.fire(new At(\"movestart\",e)).fire(new At(\"move\",e)),this.fire(new At(\"resize\",e)),t&&this.fire(new At(\"moveend\",e)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(e){return this.transform.setMaxBounds(Ql.convert(e)),this._update()}setMinZoom(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e?this.setZoom(e):this.fire(new At(\"zoomstart\")).fire(new At(\"zoom\")).fire(new At(\"zoomend\")),this;throw new Error(\"minZoom must be between -2 and the current maxZoom, inclusive\")}getMinZoom(){return this.transform.minZoom}setMaxZoom(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e?this.setZoom(e):this.fire(new At(\"zoomstart\")).fire(new At(\"zoom\")).fire(new At(\"zoomend\")),this;throw new Error(\"maxZoom must be greater than the current minZoom\")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(e){if((e=null==e?0:e)<0)throw new Error(\"minPitch must be greater than or equal to 0\");if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e?this.setPitch(e):this.fire(new At(\"pitchstart\")).fire(new At(\"pitch\")).fire(new At(\"pitchend\")),this;throw new Error(\"minPitch must be between 0 and the current maxPitch, inclusive\")}getMinPitch(){return this.transform.minPitch}setMaxPitch(e){if((e=null==e?85:e)>85)throw new Error(\"maxPitch must be less than or equal to 85\");if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e?this.setPitch(e):this.fire(new At(\"pitchstart\")).fire(new At(\"pitch\")).fire(new At(\"pitchend\")),this;throw new Error(\"maxPitch must be greater than or equal to minPitch\")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){return this.transform.renderWorldCopies=e,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(e){return \"auto\"===e?t.navigator.language:Array.isArray(e)?0===e.length?void 0:e.map((e=>\"auto\"===e?t.navigator.language:e)):e}setLanguage(e){const t=this._parseLanguage(e);if(!this.style||t===this._language)return this;this._language=t,this.style.clearSources();for(const e of this._controls)e._setLanguage&&e._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(e){return this.style&&e!==this._worldview?(this._worldview=e,this.style.clearSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:\"globe\",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return \"globe\"===this.transform.projection.name}setProjection(e){return this._lazyInitEmptyStyle(),e?\"string\"==typeof e&&(e={name:e}):e=null,this._useExplicitProjection=!!e,this._prioritizeAndUpdateProjection(e,this.style.projection)}_updateProjectionTransition(){if(\"globe\"!==this.getProjection().name)return;const e=this.transform,t=e.projection.name;let i;\"globe\"===t&&e.zoom>=Xu?(e.setMercatorFromTransition(),i=!0):\"mercator\"===t&&e.zoom<Xu&&(e.setProjection({name:\"globe\"}),i=!0),i&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate());}_prioritizeAndUpdateProjection(e,t){return this._updateProjection(e||t||{name:\"mercator\"})}_updateProjection(e){let t;return t=\"globe\"===e.name&&this.transform.zoom>=Xu?this.transform.setMercatorFromTransition():this.transform.setProjection(e),this.style.applyProjectionUpdate(),t&&(this.painter.clearBackgroundTiles(),this.style.clearSources(),this._update(!0),this._forceMarkerAndPopupUpdate(!0)),this}project(e){return this.transform.locationPoint3D(Nd.convert(e))}unproject(e){return this.transform.pointLocation3D(y.convert(e))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(e,t,i){if(\"mouseenter\"===e||\"mouseover\"===e){let r=!1;const n=n=>{const o=t.filter((e=>this.getLayer(e))),s=o.length?this.queryRenderedFeatures(n.point,{layers:o}):[];s.length?r||(r=!0,i.call(this,new nS(e,this,n.originalEvent,{features:s}))):r=!1;},o=()=>{r=!1;};return {layers:new Set(t),listener:i,delegates:{mousemove:n,mouseout:o}}}if(\"mouseleave\"===e||\"mouseout\"===e){let r=!1;const n=n=>{const o=t.filter((e=>this.getLayer(e)));(o.length?this.queryRenderedFeatures(n.point,{layers:o}):[]).length?r=!0:r&&(r=!1,i.call(this,new nS(e,this,n.originalEvent)));},o=t=>{r&&(r=!1,i.call(this,new nS(e,this,t.originalEvent)));};return {layers:new Set(t),listener:i,delegates:{mousemove:n,mouseout:o}}}{const r=e=>{const r=t.filter((e=>this.getLayer(e))),n=r.length?this.queryRenderedFeatures(e.point,{layers:r}):[];n.length&&(e.features=n,i.call(this,e),delete e.features);};return {layers:new Set(t),listener:i,delegates:{[e]:r}}}}on(e,t,i){if(void 0===i)return super.on(e,t);if(Array.isArray(t)||(t=[t]),t)for(const e of t)if(!this._isValidId(e))return this;const r=this._createDelegatedListener(e,t,i);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(r);for(const e in r.delegates)this.on(e,r.delegates[e]);return this}once(e,t,i){if(void 0===i)return super.once(e,t);if(Array.isArray(t)||(t=[t]),t)for(const e of t)if(!this._isValidId(e))return this;const r=this._createDelegatedListener(e,t,i);for(const e in r.delegates)this.once(e,r.delegates[e]);return this}off(e,t,i){if(void 0===i)return super.off(e,t);t=new Set(Array.isArray(t)?t:[t]);for(const e of t)if(!this._isValidId(e))return this;const r=(e,t)=>{if(e.size!==t.size)return !1;for(const i of e)if(!t.has(i))return !1;return !0},n=this._delegatedListeners?this._delegatedListeners[e]:void 0;return n&&(e=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.listener===i&&r(o.layers,t)){for(const e in o.delegates)this.off(e,o.delegates[e]);return e.splice(n,1),this}}})(n),this}queryRenderedFeatures(e,t){if(!this.style)return [];if(void 0!==t||void 0===e||e instanceof y||Array.isArray(e)||(t=e,e=void 0),e=e||[[0,0],[this.transform.width,this.transform.height]],(t=t||{}).layers&&Array.isArray(t.layers))for(const e of t.layers)if(!this._isValidId(e))return [];return this.style.queryRenderedFeatures(e,t,this.transform)}querySourceFeatures(e,t){return this._isValidId(e)?this.style.querySourceFeatures(e,t):[]}isPointOnSurface(e){const{name:t}=this.transform.projection;return \"globe\"!==t&&\"mercator\"!==t&&W(`${t} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(y.convert(e))}setStyle(e,t){return !1!==(t=k({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},t)).diff&&t.localIdeographFontFamily===this._localIdeographFontFamily&&t.localFontFamily===this._localFontFamily&&this.style&&e?(this._diffStyle(e,t),this):(this._localIdeographFontFamily=t.localIdeographFontFamily,this._localFontFamily=t.localFontFamily,this._updateStyle(e,t))}_getUIString(e){const t=this._locale[e];if(null==t)throw new Error(`Missing UI string '${e}'`);return t}_updateStyle(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),e&&(this.style=new $A(this,t||{}),this.style.setEventedParent(this,{style:this.style}),\"string\"==typeof e?this.style.loadURL(e):this.style.loadJSON(e)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new $A(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty());}_diffStyle(e,t){if(\"string\"==typeof e){const i=this._requestManager.normalizeStyleURL(e),r=this._requestManager.transformRequest(i,ye.Style);we(r,((e,i)=>{e?this.fire(new St(e)):i&&this._updateDiff(i,t);}));}else \"object\"==typeof e&&this._updateDiff(e,t);}_updateDiff(e,t){try{this.style.setState(e)&&this._update(!0);}catch(i){W(`Unable to perform style diff: ${i.message||i.error||i}.  Rebuilding the style from scratch.`),this._updateStyle(e,t);}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(W(\"There is no style added to the map.\"),!1)}_isValidId(e){return !function(e){return e.indexOf(\"\u001f\")>=0}(e)||(this.fire(new St(new Error(`IDs can't contain special symbols: \"${e}\".`))),!1)}addSource(e,t){return this._isValidId(e)?(this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)):this}isSourceLoaded(e){return !!this._isValidId(e)&&!!this.style&&this.style._isSourceCacheLoaded(e)}areTilesLoaded(){const e=this.style&&this.style._sourceCaches;for(const t in e){const i=e[t]._tiles;for(const e in i){const t=i[e];if(\"loaded\"!==t.state&&\"errored\"!==t.state)return !1}}return !0}addSourceType(e,t,i){this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,i);}removeSource(e){return this._isValidId(e)?(this.style.removeSource(e),this._updateTerrain(),this._update(!0)):this}getSource(e){return this._isValidId(e)?this.style.getOwnSource(e):null}addImage(e,i,{pixelRatio:r=1,sdf:n=!1,stretchX:o,stretchY:s,content:a}={}){if(this._lazyInitEmptyStyle(),i instanceof t.HTMLImageElement||t.ImageBitmap&&i instanceof t.ImageBitmap){const{width:t,height:l,data:c}=ht.getImageData(i);this.style.addImage(e,{data:new $p({width:t,height:l},c),pixelRatio:r,stretchX:o,stretchY:s,content:a,sdf:n,version:0});}else if(void 0===i.width||void 0===i.height)this.fire(new St(new Error(\"Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`\")));else {const{width:t,height:l}=i,c=i;this.style.addImage(e,{data:new $p({width:t,height:l},new Uint8Array(c.data)),pixelRatio:r,stretchX:o,stretchY:s,content:a,sdf:n,version:0,userImage:c}),c.onAdd&&c.onAdd(this,e);}}updateImage(e,i){this._lazyInitEmptyStyle();const r=this.style.getImage(e);if(!r)return void this.fire(new St(new Error(\"The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.\")));const n=i instanceof t.HTMLImageElement||t.ImageBitmap&&i instanceof t.ImageBitmap?ht.getImageData(i):i,{width:o,height:s}=n;void 0!==o&&void 0!==s?o===r.data.width&&s===r.data.height?(r.data.replace(n.data,!(i instanceof t.HTMLImageElement||t.ImageBitmap&&i instanceof t.ImageBitmap)),this.style.updateImage(e,r)):this.fire(new St(new Error(`The width and height of the updated image (${o}, ${s})\\n                must be that same as the previous version of the image\\n                (${r.data.width}, ${r.data.height})`))):this.fire(new St(new Error(\"Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`\")));}hasImage(e){return e?!!this.style&&!!this.style.getImage(e):(this.fire(new St(new Error(\"Missing required image id\"))),!1)}removeImage(e){this.style.removeImage(e);}loadImage(e,i){Ie(this._requestManager.transformRequest(e,ye.Image),((e,r)=>{i(e,r instanceof t.HTMLImageElement?ht.getImageData(r):r);}));}listImages(){return this.style.listImages()}addModel(e,t){this._lazyInitEmptyStyle(),this.style.addModel(e,t);}hasModel(e){return e?this.style.hasModel(e):(this.fire(new St(new Error(\"Missing required model id\"))),!1)}removeModel(e){this.style.removeModel(e);}listModels(){return this.style.listModels()}addLayer(e,t){return this._isValidId(e.id)?(this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)):this}moveLayer(e,t){return this._isValidId(e)?(this.style.moveLayer(e,t),this._update(!0)):this}removeLayer(e){return this._isValidId(e)?(this.style.removeLayer(e),this._update(!0)):this}getLayer(e){return this._isValidId(e)?this.style.getOwnLayer(e):null}setLayerZoomRange(e,t,i){return this._isValidId(e)?(this.style.setLayerZoomRange(e,t,i),this._update(!0)):this}setFilter(e,t,i={}){return this._isValidId(e)?(this.style.setFilter(e,t,i),this._update(!0)):this}getFilter(e){return this._isValidId(e)?this.style.getFilter(e):null}setPaintProperty(e,t,i,r={}){return this._isValidId(e)?(this.style.setPaintProperty(e,t,i,r),this._update(!0)):this}getPaintProperty(e,t){return this._isValidId(e)?this.style.getPaintProperty(e,t):null}setLayoutProperty(e,t,i,r={}){return this._isValidId(e)?(this.style.setLayoutProperty(e,t,i,r),this._update(!0)):this}getLayoutProperty(e,t){return this._isValidId(e)?this.style.getLayoutProperty(e,t):null}setConfigProperty(e,t,i){return this.style.setConfigProperty(e,t,i),this._update(!0)}setLights(e){if(this._lazyInitEmptyStyle(),e&&1===e.length&&\"flat\"===e[0].type){const t=e[0];t.properties?this.style.setFlatLight(t.properties,t.id,{}):this.style.setFlatLight({},\"flat\");}else this.style.setLights(e),this.painter.terrain&&(this.painter.terrain.invalidateRenderCache=!0);return this._update(!0)}getLights(){const e=this.style.getLights()||[];return 0===e.length&&e.push({id:this.style.light.id,type:\"flat\",properties:this.style.getFlatLight()}),e}setLight(e,t={}){return console.log(\"The `map.setLight` function is deprecated, prefer using `map.setLights` with `flat` light type instead.\"),this.setLights([{id:\"flat\",type:\"flat\",properties:e}])}getLight(){return console.log(\"The `map.getLight` function is deprecated, prefer using `map.getLights` instead.\"),this.style.getFlatLight()}setTerrain(e){return this._lazyInitEmptyStyle(),!e&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(e),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(e){return this._lazyInitEmptyStyle(),this.style.setFog(e),this._update(!0)}getFog(){return this.style?this.style.getFog():null}setCamera(e){return this.style.setCamera(e),this._triggerCameraUpdate(e)}_triggerCameraUpdate(e){return this._update(this.transform.setOrthographicProjectionAtLowPitch(\"orthographic\"===e[\"camera-projection\"]))}getCamera(){return this.style.camera}_queryFogOpacity(e){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(Nd.convert(e),this.transform):0}setFeatureState(e,t){return this._isValidId(e.source)?(this.style.setFeatureState(e,t),this._update()):this}removeFeatureState(e,t){return this._isValidId(e.source)?(this.style.removeFeatureState(e,t),this._update()):this}getFeatureState(e){return this._isValidId(e.source)?this.style.getFeatureState(e):null}_updateContainerDimensions(){if(!this._container)return;const e=this._container.getBoundingClientRect().width||400,i=this._container.getBoundingClientRect().height||300;let r,n,o,s=this._container;for(;s&&(!n||!o);){const e=t.getComputedStyle(s).transform;e&&\"none\"!==e&&(r=e.match(/matrix.*\\((.+)\\)/)[1].split(\", \"),r[0]&&\"0\"!==r[0]&&\"1\"!==r[0]&&(n=r[0]),r[3]&&\"0\"!==r[3]&&\"1\"!==r[3]&&(o=r[3])),s=s.parentElement;}this._containerWidth=n?Math.abs(e/n):e,this._containerHeight=o?Math.abs(i/o):i;}_detectMissingCSS(){\"rgb(250, 128, 114)\"!==t.getComputedStyle(this._missingCSSCanary).getPropertyValue(\"background-color\")&&W(\"This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.\");}_setupContainer(){const e=this._container;e.classList.add(\"mapboxgl-map\"),(this._missingCSSCanary=ut(\"div\",\"mapboxgl-canary\",e)).style.visibility=\"hidden\",this._detectMissingCSS();const t=this._canvasContainer=ut(\"div\",\"mapboxgl-canvas-container\",e);this._canvas=ut(\"canvas\",\"mapboxgl-canvas\",t),this._interactive&&(t.classList.add(\"mapboxgl-interactive\"),this._canvas.setAttribute(\"tabindex\",\"0\")),this._canvas.addEventListener(\"webglcontextlost\",this._contextLost,!1),this._canvas.addEventListener(\"webglcontextrestored\",this._contextRestored,!1),this._canvas.setAttribute(\"aria-label\",this._getUIString(\"Map.Title\")),this._canvas.setAttribute(\"role\",\"region\"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const i=this._controlContainer=ut(\"div\",\"mapboxgl-control-container\",e),r=this._controlPositions={};[\"top-left\",\"top-right\",\"bottom-left\",\"bottom-right\"].forEach((e=>{r[e]=ut(\"div\",`mapboxgl-ctrl-${e}`,i);})),this._container.addEventListener(\"scroll\",this._onMapScroll,!1);}_resizeCanvas(e,t){const i=ht.devicePixelRatio||1;this._canvas.width=i*Math.ceil(e),this._canvas.height=i*Math.ceil(t),this._canvas.style.width=`${e}px`,this._canvas.style.height=`${t}px`;}_addMarker(e){this._markers.push(e);}_removeMarker(e){const t=this._markers.indexOf(e);-1!==t&&this._markers.splice(t,1);}_addPopup(e){this._popups.push(e);}_removePopup(e){const t=this._popups.indexOf(e);-1!==t&&this._popups.splice(t,1);}_setupPainter(){const e=k({},rt.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),t=this._canvas.getContext(\"webgl2\",e);t?(Ke(t,!0),this.painter=new zA(t,this.transform),this.on(\"data\",(e=>{\"source\"===e.dataType&&this.painter.setTileLoadedFlag(!0);})),o.testSupport(t)):this.fire(new St(new Error(\"Failed to initialize WebGL\")));}_contextLost(e){e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new At(\"webglcontextlost\",{originalEvent:e}));}_contextRestored(e){this._setupPainter(),this.resize(),this._update(),this.fire(new At(\"webglcontextrestored\",{originalEvent:e}));}_onMapScroll(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return !this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e);}_requestDomTask(e){!this.loaded()||this.loaded()&&!this.isMoving()?e():this._domRenderTaskQueue.add(e);}_render(e){let i;this.fire(new At(\"renderstart\"));const r=this.painter.context.extTimerQuery,n=ht.now(),o=this.painter.context.gl;if(this.listens(\"gpu-timing-frame\")&&(i=o.createQuery(),o.beginQuery(r.TIME_ELAPSED_EXT,i)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],t.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],t.performance.now())),this._renderTaskQueue.run(e),this._domRenderTaskQueue.run(e),this._removed)return;this._updateProjectionTransition();const s=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const e=this.transform.zoom,t=this.transform.pitch,i=ht.now(),r=new ea(e,{now:i,fadeDuration:s,pitch:t,transition:this.style.transition});this.style.update(r);}this.style&&this.style.hasFogTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let a=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),a=this._updateAverageElevation(n),this.style.updateSources(this.transform),this._forceMarkerAndPopupUpdate()):a=this._updateAverageElevation(n),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,s,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,wireframe:{terrain:this.showTerrainWireframe,layers2D:this.showLayers2DWireframe,layers3D:this.showLayers3DWireframe},showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:s,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens(\"gpu-timing-layer\"),gpuTimingDeferredRender:!!this.listens(\"gpu-timing-deferred-render\"),speedIndexTiming:this.speedIndexTiming}),this.fire(new At(\"render\")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new At(\"load\"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),i){const e=ht.now()-n;o.endQuery(r.TIME_ELAPSED_EXT),setTimeout((()=>{const r=o.getQueryParameter(i,o.QUERY_RESULT)/1e6;o.deleteQuery(i),this.fire(new At(\"gpu-timing-frame\",{cpuTime:e,gpuTime:r})),t.performance.mark(\"frame-gpu\",{startTime:n,detail:{gpuTime:r}});}),50);}if(this.listens(\"gpu-timing-layer\")){const e=this.painter.collectGpuTimers();setTimeout((()=>{const t=this.painter.queryGpuTimers(e);this.fire(new At(\"gpu-timing-layer\",{layerTimes:t}));}),50);}if(this.listens(\"gpu-timing-deferred-render\")){const e=this.painter.collectDeferredRenderGpuQueries();setTimeout((()=>{const t=this.painter.queryGpuTimeDeferredRender(e);this.fire(new At(\"gpu-timing-deferred-render\",{gpuTime:t}));}),50);}const l=this._sourcesDirty||this._styleDirty||this._placementDirty||a;if(l||this._repaint)this.triggerRepaint();else {const e=!this.isMoving()&&this.loaded();if(e&&(a=this._updateAverageElevation(n,!0)),a)this.triggerRepaint();else if(this._triggerFrame(!1),e&&(this.fire(new At(\"idle\")),this._isInitialLoad=!1,this.speedIndexTiming)){const e=this._calculateSpeedIndex();this.fire(new At(\"speedindexcompleted\",{speedIndex:e})),this.speedIndexTiming=!1;}}!this._loaded||this._fullyLoaded||l||(this._fullyLoaded=!0,Qe.mark(Je.fullLoad),this._performanceMetricsCollection&&He(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate());}_forceMarkerAndPopupUpdate(e){for(const t of this._markers)e&&!this.getRenderWorldCopies()&&(t._lngLat=t._lngLat.wrap()),t._update();for(const t of this._popups)!e||this.getRenderWorldCopies()||t._trackPointer||(t._lngLat=t._lngLat.wrap()),t._update();}_updateAverageElevation(e,t=!1){const i=e=>(this.transform.averageElevation=e,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&i(0);const r=this.transform.elevation&&this.transform.elevation.exaggeration()!==this._averageElevationExaggeration;if(r||(t||e-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(e)){const t=this.transform.averageElevation;let n=this.transform.sampleAverageElevation();this.transform.elevation&&(this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(n)?n=0:this._averageElevationLastSampledAt=e;const o=Math.abs(t-n);if(o>1){if(this._isInitialLoad||r)return this._averageElevation.jumpTo(n),i(n);this._averageElevation.easeTo(n,e,300);}else if(o>1e-4)return this._averageElevation.jumpTo(n),i(n)}return !!this._averageElevation.isEasing(e)&&i(this._averageElevation.getValue(e))}_authenticate(){Xe(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(e=>{if(e&&(e.message===Ce||401===e.status)){const e=this.painter.context.gl;Ke(e,!1),this._logoControl instanceof HS&&this._logoControl._updateLogo(),e&&e.clear(e.DEPTH_BUFFER_BIT|e.COLOR_BUFFER_BIT|e.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new St(new Error(\"A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/\")));}})),Ze(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(()=>{}));}_updateTerrain(){const e=this._isDragging();this.painter.updateTerrain(this.style,e);}_calculateSpeedIndex(){const e=this.painter.canvasCopy(),t=this.painter.getCanvasCopiesAndTimestamps();t.timeStamps.push(performance.now());const i=this.painter.context.gl,r=i.createFramebuffer();function n(e){i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e,0);const t=new Uint8Array(i.drawingBufferWidth*i.drawingBufferHeight*4);return i.readPixels(0,0,i.drawingBufferWidth,i.drawingBufferHeight,i.RGBA,i.UNSIGNED_BYTE,t),t}return i.bindFramebuffer(i.FRAMEBUFFER,r),this._canvasPixelComparison(n(e),t.canvasCopies.map(n),t.timeStamps)}_canvasPixelComparison(e,t,i){let r=i[1]-i[0];const n=e.length/4;for(let o=0;o<t.length;o++){const s=t[o];let a=0;for(let t=0;t<s.length;t+=4)s[t]===e[t]&&s[t+1]===e[t+1]&&s[t+2]===e[t+2]&&s[t+3]===e[t+3]&&(a+=1);r+=(i[o+2]-i[o+1])*(1-a/n);}return r}remove(){this._hash&&this._hash.remove();for(const e of this._controls)e.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),void 0!==t&&(t.removeEventListener(\"resize\",this._onWindowResize,!1),t.removeEventListener(\"orientationchange\",this._onWindowResize,!1),t.removeEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),t.removeEventListener(\"online\",this._onWindowOnline,!1),t.removeEventListener(\"visibilitychange\",this._onVisibilityChange,!1));const e=this.painter.context.gl.getExtension(\"WEBGL_lose_context\");e&&e.loseContext(),this._canvas.removeEventListener(\"webglcontextlost\",this._contextLost,!1),this._canvas.removeEventListener(\"webglcontextrestored\",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove(\"mapboxgl-map\"),this._container.removeEventListener(\"scroll\",this._onMapScroll,!1),Ye.delete(this.painter.context.gl),this._removed=!0,this.fire(new At(\"remove\"));}triggerRepaint(){this._triggerFrame(!0);}_triggerFrame(e){this._renderNextFrame=this._renderNextFrame||e,this.style&&!this._frame&&(this._frame=ht.frame((e=>{const t=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,t&&this._render(e);})));}_preloadTiles(e){return R(this.style?Object.values(this.style._sourceCaches):[],((t,i)=>t._preloadTiles(e,i)),(()=>{this.triggerRepaint();})),this}_onWindowOnline(){this._update();}_onWindowResize(e){this._trackResize&&this.resize({originalEvent:e})._update();}_onVisibilityChange(){\"hidden\"===t.document.visibilityState&&this._visibilityHidden++;}get showTileBoundaries(){return !!this._showTileBoundaries}set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update());}get showTerrainWireframe(){return !!this._showTerrainWireframe}set showTerrainWireframe(e){this._showTerrainWireframe!==e&&(this._showTerrainWireframe=e,this._update());}get showLayers2DWireframe(){return !!this._showLayers2DWireframe}set showLayers2DWireframe(e){this._showLayers2DWireframe!==e&&(this._showLayers2DWireframe=e,this._update());}get showLayers3DWireframe(){return !!this._showLayers3DWireframe}set showLayers3DWireframe(e){this._showLayers3DWireframe!==e&&(this._showLayers3DWireframe=e,this._update());}get speedIndexTiming(){return !!this._speedIndexTiming}set speedIndexTiming(e){this._speedIndexTiming!==e&&(this._speedIndexTiming=e,this._update());}get showPadding(){return !!this._showPadding}set showPadding(e){this._showPadding!==e&&(this._showPadding=e,this._update());}get showCollisionBoxes(){return !!this._showCollisionBoxes}set showCollisionBoxes(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update());}get showOverdrawInspector(){return !!this._showOverdrawInspector}set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update());}get repaint(){return !!this._repaint}set repaint(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint());}get vertices(){return !!this._vertices}set vertices(e){this._vertices=e,this._update();}get showTileAABBs(){return !!this._showTileAABBs}set showTileAABBs(e){this._showTileAABBs!==e&&(this._showTileAABBs=e,e&&this._update());}_setCacheLimits(e,t){!function(e,t){ce=e,he=t;}(e,t);}get version(){return i}},NavigationControl:class{constructor(e){this.options=k({},nI,e),this._container=ut(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-group\"),this._container.addEventListener(\"contextmenu\",(e=>e.preventDefault())),this.options.showZoom&&(j([\"_setButtonTitle\",\"_updateZoomButtons\"],this),this._zoomInButton=this._createButton(\"mapboxgl-ctrl-zoom-in\",(e=>{this._map&&this._map.zoomIn({},{originalEvent:e});})),ut(\"span\",\"mapboxgl-ctrl-icon\",this._zoomInButton).setAttribute(\"aria-hidden\",\"true\"),this._zoomOutButton=this._createButton(\"mapboxgl-ctrl-zoom-out\",(e=>{this._map&&this._map.zoomOut({},{originalEvent:e});})),ut(\"span\",\"mapboxgl-ctrl-icon\",this._zoomOutButton).setAttribute(\"aria-hidden\",\"true\")),this.options.showCompass&&(j([\"_rotateCompassArrow\"],this),this._compass=this._createButton(\"mapboxgl-ctrl-compass\",(e=>{const t=this._map;t&&(this.options.visualizePitch?t.resetNorthPitch({},{originalEvent:e}):t.resetNorth({},{originalEvent:e}));})),this._compassIcon=ut(\"span\",\"mapboxgl-ctrl-icon\",this._compass),this._compassIcon.setAttribute(\"aria-hidden\",\"true\"));}_updateZoomButtons(){const e=this._map;if(!e)return;const t=e.getZoom(),i=t===e.getMaxZoom(),r=t===e.getMinZoom();this._zoomInButton.disabled=i,this._zoomOutButton.disabled=r,this._zoomInButton.setAttribute(\"aria-disabled\",i.toString()),this._zoomOutButton.setAttribute(\"aria-disabled\",r.toString());}_rotateCompassArrow(){const e=this._map;if(!e)return;const t=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(e.transform.pitch*(Math.PI/180)),.5)}) rotateX(${e.transform.pitch}deg) rotateZ(${e.transform.angle*(180/Math.PI)}deg)`:`rotate(${e.transform.angle*(180/Math.PI)}deg)`;e._requestDomTask((()=>{this._compassIcon&&(this._compassIcon.style.transform=t);}));}onAdd(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,\"ZoomIn\"),this._setButtonTitle(this._zoomOutButton,\"ZoomOut\"),e.on(\"zoom\",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,\"ResetBearing\"),this.options.visualizePitch&&e.on(\"pitch\",this._rotateCompassArrow),e.on(\"rotate\",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new oI(e,this._compass,this.options.visualizePitch)),this._container}onRemove(){const e=this._map;e&&(this._container.remove(),this.options.showZoom&&e.off(\"zoom\",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&e.off(\"pitch\",this._rotateCompassArrow),e.off(\"rotate\",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0);}_createButton(e,t){const i=ut(\"button\",e,this._container);return i.type=\"button\",i.addEventListener(\"click\",t),i}_setButtonTitle(e,t){if(!this._map)return;const i=this._map._getUIString(`NavigationControl.${t}`);e.setAttribute(\"aria-label\",i),e.firstElementChild&&e.firstElementChild.setAttribute(\"title\",i);}},GeolocateControl:class extends It{constructor(e){super(),this.options=k({geolocation:t.navigator.geolocation},sI,e),j([\"_onSuccess\",\"_onError\",\"_onZoom\",\"_finish\",\"_setupUI\",\"_updateCamera\",\"_updateMarker\",\"_updateMarkerRotation\",\"_onDeviceOrientation\"],this),this._updateMarkerRotationThrottled=HA(this._updateMarkerRotation,20),this._numberOfWatches=0;}onAdd(e){return this._map=e,this._container=ut(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-group\"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off(\"zoom\",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1;}_checkGeolocationSupport(e){const i=(t=!!this.options.geolocation)=>{this._supportsGeolocation=t,e(t);};void 0!==this._supportsGeolocation?e(this._supportsGeolocation):void 0!==t.navigator.permissions?t.navigator.permissions.query({name:\"geolocation\"}).then((e=>i(\"denied\"!==e.state))).catch((()=>i())):i();}_isOutOfMapMaxBounds(e){const t=this._map.getMaxBounds(),i=e.coords;return !!t&&(i.longitude<t.getWest()||i.longitude>t.getEast()||i.latitude<t.getSouth()||i.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case\"WAITING_ACTIVE\":this._watchState=\"ACTIVE_ERROR\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active-error\");break;case\"ACTIVE_LOCK\":this._watchState=\"ACTIVE_ERROR\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active-error\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\");break;case\"BACKGROUND\":this._watchState=\"BACKGROUND_ERROR\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-background-error\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\");}}_onSuccess(e){if(this._map){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new At(\"outofmaxbounds\",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case\"WAITING_ACTIVE\":case\"ACTIVE_LOCK\":case\"ACTIVE_ERROR\":this._watchState=\"ACTIVE_LOCK\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active-error\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active\");break;case\"BACKGROUND\":case\"BACKGROUND_ERROR\":this._watchState=\"BACKGROUND\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background-error\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-background\");}this.options.showUserLocation&&\"OFF\"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&\"ACTIVE_LOCK\"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._userLocationDotMarker.removeClassName(\"mapboxgl-user-location-dot-stale\"),this.fire(new At(\"geolocate\",e)),this._finish();}}_updateCamera(e){const t=new Nd(e.coords.longitude,e.coords.latitude),i=e.coords.accuracy,r=k({bearing:this._map.getBearing()},this.options.fitBoundsOptions);this._map.fitBounds(t.toBounds(i),r,{geolocateSource:!0});}_updateMarker(e){if(e){const t=new Nd(e.coords.longitude,e.coords.latitude);this._accuracyCircleMarker.setLngLat(t).addTo(this._map),this._userLocationDotMarker.setLngLat(t).addTo(this._map),this._accuracy=e.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius();}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove();}_updateCircleRadius(){const e=this._map.transform,t=Zd(1,e._center.lat)*e.worldSize,i=Math.ceil(2*this._accuracy*t);this._circleElement.style.width=`${i}px`,this._circleElement.style.height=`${i}px`;}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius();}_updateMarkerRotation(){this._userLocationDotMarker&&\"number\"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._userLocationDotMarker.addClassName(\"mapboxgl-user-location-show-heading\")):(this._userLocationDotMarker.removeClassName(\"mapboxgl-user-location-show-heading\"),this._userLocationDotMarker.setRotation(0));}_onError(e){if(this._map){if(this.options.trackUserLocation)if(1===e.code){this._watchState=\"OFF\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active-error\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background-error\"),this._geolocateButton.disabled=!0;const e=this._map._getUIString(\"GeolocateControl.LocationNotAvailable\");this._geolocateButton.setAttribute(\"aria-label\",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute(\"title\",e),void 0!==this._geolocationWatchID&&this._clearWatch();}else {if(3===e.code&&this._noTimeout)return;this._setErrorState();}\"OFF\"!==this._watchState&&this.options.showUserLocation&&this._userLocationDotMarker.addClassName(\"mapboxgl-user-location-dot-stale\"),this.fire(new At(\"error\",e)),this._finish();}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0;}_setupUI(e){if(void 0!==this._map){if(this._container.addEventListener(\"contextmenu\",(e=>e.preventDefault())),this._geolocateButton=ut(\"button\",\"mapboxgl-ctrl-geolocate\",this._container),ut(\"span\",\"mapboxgl-ctrl-icon\",this._geolocateButton).setAttribute(\"aria-hidden\",\"true\"),this._geolocateButton.type=\"button\",!1===e){W(\"Geolocation support is not available so the GeolocateControl will be disabled.\");const e=this._map._getUIString(\"GeolocateControl.LocationNotAvailable\");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute(\"aria-label\",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute(\"title\",e);}else {const e=this._map._getUIString(\"GeolocateControl.FindMyLocation\");this._geolocateButton.setAttribute(\"aria-label\",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute(\"title\",e);}this.options.trackUserLocation&&(this._geolocateButton.setAttribute(\"aria-pressed\",\"false\"),this._watchState=\"OFF\"),this.options.showUserLocation&&(this._dotElement=ut(\"div\",\"mapboxgl-user-location\"),this._dotElement.appendChild(ut(\"div\",\"mapboxgl-user-location-dot\")),this._dotElement.appendChild(ut(\"div\",\"mapboxgl-user-location-heading\")),this._userLocationDotMarker=new KS({element:this._dotElement,rotationAlignment:\"map\",pitchAlignment:\"map\"}),this._circleElement=ut(\"div\",\"mapboxgl-user-location-accuracy-circle\"),this._accuracyCircleMarker=new KS({element:this._circleElement,pitchAlignment:\"map\"}),this.options.trackUserLocation&&(this._watchState=\"OFF\"),this._map.on(\"zoom\",this._onZoom)),this._geolocateButton.addEventListener(\"click\",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on(\"movestart\",(e=>{e.geolocateSource||\"ACTIVE_LOCK\"!==this._watchState||e.originalEvent&&\"resize\"===e.originalEvent.type||(this._watchState=\"BACKGROUND\",this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-background\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active\"),this.fire(new At(\"trackuserlocationend\")));}));}}_onDeviceOrientation(e){this._userLocationDotMarker&&(e.webkitCompassHeading?this._heading=e.webkitCompassHeading:!0===e.absolute&&(this._heading=-1*e.alpha),this._updateMarkerRotationThrottled());}trigger(){if(!this._setup)return W(\"Geolocate control triggered before added to a map\"),!1;if(this.options.trackUserLocation){switch(this._watchState){case\"OFF\":this._watchState=\"WAITING_ACTIVE\",this.fire(new At(\"trackuserlocationstart\"));break;case\"WAITING_ACTIVE\":case\"ACTIVE_LOCK\":case\"ACTIVE_ERROR\":case\"BACKGROUND_ERROR\":this._numberOfWatches--,this._noTimeout=!1,this._watchState=\"OFF\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active-error\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background-error\"),this.fire(new At(\"trackuserlocationend\"));break;case\"BACKGROUND\":this._watchState=\"ACTIVE_LOCK\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background\"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new At(\"trackuserlocationstart\"));}switch(this._watchState){case\"WAITING_ACTIVE\":this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active\");break;case\"ACTIVE_LOCK\":this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active\");break;case\"ACTIVE_ERROR\":this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active-error\");break;case\"BACKGROUND\":this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-background\");break;case\"BACKGROUND_ERROR\":this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-background-error\");}if(\"OFF\"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.setAttribute(\"aria-pressed\",\"true\"),this._numberOfWatches++,this._numberOfWatches>1?(e={maximumAge:6e5,timeout:0},this._noTimeout=!0):(e=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,e),this.options.showUserHeading&&this._addDeviceOrientationListener();}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return !0}_addDeviceOrientationListener(){const e=()=>{t.addEventListener(\"ondeviceorientationabsolute\"in t?\"deviceorientationabsolute\":\"deviceorientation\",this._onDeviceOrientation);};void 0!==t.DeviceMotionEvent&&\"function\"==typeof t.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((t=>{\"granted\"===t&&e();})).catch(console.error):e();}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),t.removeEventListener(\"deviceorientation\",this._onDeviceOrientation),t.removeEventListener(\"deviceorientationabsolute\",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.setAttribute(\"aria-pressed\",\"false\"),this.options.showUserLocation&&this._updateMarker(null);}},AttributionControl:$S,ScaleControl:class{constructor(e){this.options=k({},aI,e),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat(\"en\",{style:\"unit\",unitDisplay:\"short\",unit:\"meter\"}),!0}catch(e){return !1}}(),j([\"_update\",\"_setScale\",\"setUnit\"],this);}getDefaultPosition(){return \"bottom-left\"}_update(){const e=this.options.maxWidth||100,t=this._map,i=t._containerHeight/2,r=t._containerWidth/2-e/2,n=t.unproject([r,i]),o=t.unproject([r+e,i]),s=n.distanceTo(o);if(\"imperial\"===this.options.unit){const t=3.2808*s;t>5280?this._setScale(e,t/5280,\"mile\"):this._setScale(e,t,\"foot\");}else \"nautical\"===this.options.unit?this._setScale(e,s/1852,\"nautical-mile\"):s>=1e3?this._setScale(e,s/1e3,\"kilometer\"):this._setScale(e,s,\"meter\");}_setScale(e,t,i){this._map._requestDomTask((()=>{const r=function(e){const t=Math.pow(10,`${Math.floor(e)}`.length-1);let i=e/t;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:i>=1?1:function(e){const t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(i),t*i}(t),n=r/t;this._container.innerHTML=this._isNumberFormatSupported&&\"nautical-mile\"!==i?new Intl.NumberFormat(this._language,{style:\"unit\",unitDisplay:\"short\",unit:i}).format(r):`${r}&nbsp;${lI[i]}`,this._container.style.width=e*n+\"px\";}));}onAdd(e){return this._map=e,this._language=e.getLanguage(),this._container=ut(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-scale\",e.getContainer()),this._container.dir=\"auto\",this._map.on(\"move\",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off(\"move\",this._update),this._map=void 0;}_setLanguage(e){this._language=e,this._update();}setUnit(e){this.options.unit=e,this._update();}},FullscreenControl:class{constructor(e){this._fullscreen=!1,e&&e.container&&(e.container instanceof t.HTMLElement?this._container=e.container:W(\"Full screen control 'container' must be a DOM element.\")),j([\"_onClickFullscreen\",\"_changeIcon\"],this),\"onfullscreenchange\"in t.document?this._fullscreenchange=\"fullscreenchange\":\"onwebkitfullscreenchange\"in t.document&&(this._fullscreenchange=\"webkitfullscreenchange\");}onAdd(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=ut(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-group\"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display=\"none\",W(\"This device does not support fullscreen mode.\")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,t.document.removeEventListener(this._fullscreenchange,this._changeIcon);}_checkFullscreenSupport(){return !(!t.document.fullscreenEnabled&&!t.document.webkitFullscreenEnabled)}_setupUI(){const e=this._fullscreenButton=ut(\"button\",\"mapboxgl-ctrl-fullscreen\",this._controlContainer);ut(\"span\",\"mapboxgl-ctrl-icon\",e).setAttribute(\"aria-hidden\",\"true\"),e.type=\"button\",this._updateTitle(),this._fullscreenButton.addEventListener(\"click\",this._onClickFullscreen),t.document.addEventListener(this._fullscreenchange,this._changeIcon);}_updateTitle(){const e=this._getTitle();this._fullscreenButton.setAttribute(\"aria-label\",e),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute(\"title\",e);}_getTitle(){return this._map._getUIString(this._isFullscreen()?\"FullscreenControl.Exit\":\"FullscreenControl.Enter\")}_isFullscreen(){return this._fullscreen}_changeIcon(){(t.document.fullscreenElement||t.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(\"mapboxgl-ctrl-shrink\"),this._fullscreenButton.classList.toggle(\"mapboxgl-ctrl-fullscreen\"),this._updateTitle());}_onClickFullscreen(){this._isFullscreen()?t.document.exitFullscreen?t.document.exitFullscreen():t.document.webkitCancelFullScreen&&t.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen();}},Popup:class extends It{constructor(e){super(),this.options=k(Object.create(JS),e),j([\"_update\",\"_onClose\",\"remove\",\"_onMouseEvent\"],this),this._classList=new Set(e&&e.className?e.className.trim().split(/\\s+/):[]);}addTo(e){return this._map&&this.remove(),this._map=e,this.options.closeOnClick&&e.on(\"preclick\",this._onClose),this.options.closeOnMove&&e.on(\"move\",this._onClose),e.on(\"remove\",this.remove),this._update(),e._addPopup(this),this._focusFirstElement(),this._trackPointer?(e.on(\"mousemove\",this._onMouseEvent),e.on(\"mouseup\",this._onMouseEvent),e._canvasContainer.classList.add(\"mapboxgl-track-pointer\")):e.on(\"move\",this._update),this.fire(new At(\"open\")),this}isOpen(){return !!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const e=this._map;return e&&(e.off(\"move\",this._update),e.off(\"move\",this._onClose),e.off(\"preclick\",this._onClose),e.off(\"click\",this._onClose),e.off(\"remove\",this.remove),e.off(\"mousemove\",this._onMouseEvent),e.off(\"mouseup\",this._onMouseEvent),e.off(\"drag\",this._onMouseEvent),e._canvasContainer&&e._canvasContainer.classList.remove(\"mapboxgl-track-pointer\"),e._removePopup(this),this._map=void 0),this.fire(new At(\"close\")),this}getLngLat(){return this._lngLat}setLngLat(e){this._lngLat=Nd.convert(e),this._pos=null,this._trackPointer=!1,this._update();const t=this._map;return t&&(t.on(\"move\",this._update),t.off(\"mousemove\",this._onMouseEvent),t._canvasContainer.classList.remove(\"mapboxgl-track-pointer\")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const e=this._map;return e&&(e.off(\"move\",this._update),e.on(\"mousemove\",this._onMouseEvent),e.on(\"drag\",this._onMouseEvent),e._canvasContainer.classList.add(\"mapboxgl-track-pointer\")),this}getElement(){return this._container}setText(e){return this.setDOMContent(t.document.createTextNode(e))}setHTML(e){const i=t.document.createDocumentFragment(),r=t.document.createElement(\"body\");let n;for(r.innerHTML=e;n=r.firstChild,n;)i.appendChild(n);return this.setDOMContent(i)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(e){return this.options.maxWidth=e,this._update(),this}setDOMContent(e){let t=this._content;if(t)for(;t.hasChildNodes();)t.firstChild&&t.removeChild(t.firstChild);else t=this._content=ut(\"div\",\"mapboxgl-popup-content\",this._container||void 0);if(t.appendChild(e),this.options.closeButton){const e=this._closeButton=ut(\"button\",\"mapboxgl-popup-close-button\",t);e.type=\"button\",e.setAttribute(\"aria-label\",\"Close popup\"),e.setAttribute(\"aria-hidden\",\"true\"),e.innerHTML=\"&#215;\",e.addEventListener(\"click\",this._onClose);}return this._update(),this._focusFirstElement(),this}addClassName(e){return this._classList.add(e),this._updateClassList(),this}removeClassName(e){return this._classList.delete(e),this._updateClassList(),this}setOffset(e){return this.options.offset=e,this._update(),this}toggleClassName(e){let t;return this._classList.delete(e)?t=!1:(this._classList.add(e),t=!0),this._updateClassList(),t}_onMouseEvent(e){this._update(e.point);}_getAnchor(e){if(this.options.anchor)return this.options.anchor;const t=this._map,i=this._container,r=this._pos;if(!t||!i||!r)return \"bottom\";const n=i.offsetWidth,o=i.offsetHeight,s=r.x<n/2,a=r.x>t.transform.width-n/2;if(r.y+e<o)return s?\"top-left\":a?\"top-right\":\"top\";if(r.y>t.transform.height-o){if(s)return \"bottom-left\";if(a)return \"bottom-right\"}return s?\"left\":a?\"right\":\"bottom\"}_updateClassList(){const e=this._container;if(!e)return;const t=[...this._classList];t.push(\"mapboxgl-popup\"),this._anchor&&t.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&t.push(\"mapboxgl-popup-track-pointer\"),e.className=t.join(\" \");}_update(e){const t=this._map,i=this._content;if(!t||!this._lngLat&&!this._trackPointer||!i)return;let r=this._container;if(r||(r=this._container=ut(\"div\",\"mapboxgl-popup\",t.getContainer()),this._tip=ut(\"div\",\"mapboxgl-popup-tip\",r),r.appendChild(i)),this.options.maxWidth&&r.style.maxWidth!==this.options.maxWidth&&(r.style.maxWidth=this.options.maxWidth),t.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=XS(this._lngLat,this._pos,t.transform)),!this._trackPointer||e){const i=this._pos=this._trackPointer&&e?e:t.project(this._lngLat),r=eI(this.options.offset),n=this._anchor=this._getAnchor(r.y),o=eI(this.options.offset,n),s=i.add(o).round();t._requestDomTask((()=>{this._container&&n&&(this._container.style.transform=`${YS[n]} translate(${s.x}px,${s.y}px)`);}));}if(!this._marker&&t._showingGlobe()){const e=Dd(t.transform,this._lngLat)?0:1;this._setOpacity(e);}this._updateClassList();}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const e=this._container.querySelector(QS);e&&e.focus();}_onClose(){this.remove();}_setOpacity(e){this._container&&(this._container.style.opacity=`${e}`),this._content&&(this._content.style.pointerEvents=e?\"auto\":\"none\");}},Marker:KS,Style:$A,LngLat:Nd,LngLatBounds:Ql,Point:y,MercatorCoordinate:ep,FreeCameraOptions:Vx,Evented:It,config:n,prewarm:function(){Uw().acquire(Bw);},clearPrewarmedResources:function(){const e=Nw;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(Bw),Nw=null):console.warn(\"Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()\"));},get accessToken(){return n.ACCESS_TOKEN},set accessToken(e){n.ACCESS_TOKEN=e;},get baseApiUrl(){return n.API_URL},set baseApiUrl(e){n.API_URL=e;},get workerCount(){return Fw.workerCount},set workerCount(e){Fw.workerCount=e;},get maxParallelImageRequests(){return n.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(e){n.MAX_PARALLEL_IMAGE_REQUESTS=e;},clearStorage(e){!function(e){if(!pe())return;const i=t.caches.delete(le);e&&i.catch(e).then((()=>e()));}(e);},workerUrl:\"\",workerClass:null,get dracoUrl(){return Zw()},set dracoUrl(e){!function(e){jw=ht.resolveURL(e),qw||(qw=new _w(Uw(),new It)),qw.broadcast(\"setDracoUrl\",jw);}(e);},setNow:ht.setNow,restoreNow:ht.restoreNow};e.A=mw,e.D=jm,e.E=sr,e.F=Zm,e.K=dE,e.O=Bu,e.P=y,e.T=Bv,e.V=im,e.a=Gf,e.b=sm,e.c=Kb,e.d=class extends It{constructor(e,t,i,r,n,o){super(),this.actor=e,this.layerIndex=t,this.availableImages=i,this.loadVectorData=n||Pw,this.loading={},this.loaded={},this.deduped=new Dw(e.scheduler),this.isSpriteLoaded=r,this.scheduler=e.scheduler,this.brightness=o;}loadTile(e,t){const i=e.uid,r=e&&e.request,n=r&&r.collectResourceTiming,o=this.loading[i]=new Cw(e);o.abort=this.loadVectorData(e,((s,a)=>{const l=!this.loading[i];if(delete this.loading[i],l||s||!a)return o.status=\"done\",l||(this.loaded[i]=o),t(s);const c=a.rawData,h={};a.expires&&(h.expires=a.expires),a.cacheControl&&(h.cacheControl=a.cacheControl),o.vectorTile=a.vectorTile||new tm(new Sm(c));const u=()=>{o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,((e,i)=>{if(e||!i)return t(e);const o={};if(n){const e=it(r);e.length>0&&(o.resourceTiming=JSON.parse(JSON.stringify(e)));}t(null,k({rawTileData:c.slice(0)},i,h,o));}));};this.isSpriteLoaded?u():this.once(\"isSpriteLoaded\",(()=>{this.scheduler?this.scheduler.add(u,{type:\"parseTile\",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom}):u();})),this.loaded=this.loaded||{},this.loaded[i]=o;}));}reloadTile(e,t){const i=this.loaded,r=e.uid,n=this;if(i&&i[r]){const o=i[r];o.showCollisionBoxes=e.showCollisionBoxes,o.projection=e.projection,o.brightness=e.brightness,o.tileTransform=Tg(e.tileID.canonical,e.projection),o.extraShadowCaster=e.extraShadowCaster;const s=(e,i)=>{const r=o.reloadCallback;r&&(delete o.reloadCallback,o.parse(o.vectorTile,n.layerIndex,this.availableImages,n.actor,r)),t(e,i);};\"parsing\"===o.status?o.reloadCallback=s:\"done\"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s());}}abortTile(e,t){const i=e.uid,r=this.loading[i];r&&(r.abort&&r.abort(),delete this.loading[i]),t();}removeTile(e,t){const i=this.loaded,r=e.uid;i&&i[r]&&delete i[r],t();}},e.e=xo,e.f=it,e.g=d,e.h=we,e.i=Te,e.j=function(e,t){const i=_T(e);for(const e of i){for(const t of e.meshes)gT(t);e.lights&&(e.lightMeshIndex=e.meshes.length,e.meshes.push(yT(e.lights,t)));}return i},e.k=ea,e.l=function(e){let t=0;if(new Uint32Array(e,0,1)[0]!==eT){const i=new Uint32Array(e,0,7),[,,r,n,o,s]=i;t=i.byteLength+n+o+s+o,(r!==e.byteLength||t>=e.byteLength)&&W(\"Invalid b3dm header information.\");}return sT(e,t)},e.m=Hg,e.n=Qs,e.o=At,e.p=_,e.q=function(e){fe(),ue&&ue.then((t=>{t.keys().then((i=>{for(let r=0;r<i.length-e;r++)t.delete(i[r]);}));}));},e.r=AT,e.s=cI,e.t=Qd,e.v=L,e.w=t;}));\n\ndefine([\"./shared\"],(function(e){\"use strict\";function t(e){if(\"number\"==typeof e||\"boolean\"==typeof e||\"string\"==typeof e||null==e)return JSON.stringify(e);if(Array.isArray(e)){let r=\"[\";for(const o of e)r+=`${t(o)},`;return `${r}]`}let r=\"{\";for(const o of Object.keys(e).sort())r+=`${o}:${t(e[o])},`;return `${r}}`}function r(r){let o=\"\";for(const i of e.r)o+=`/${t(r[i])}`;return o}class o{constructor(e){this.keyCache={},e&&this.replace(e);}replace(e,t){this._layerConfigs={},this._layers={},this.update(e,[],t);}update(t,o,i){this._options=i;for(const r of t){this._layerConfigs[r.id]=r;const t=this._layers[r.id]=e.c(r,this._options);t.setScope(this.scope),t.compileFilter(),this.keyCache[r.id]&&delete this.keyCache[r.id];}for(const e of o)delete this.keyCache[e],delete this._layerConfigs[e],delete this._layers[e];this.familiesBySource={};const s=function(e,t){const o={};for(let i=0;i<e.length;i++){const s=t&&t[e[i].id]||r(e[i]);t&&(t[e[i].id]=s);let n=o[s];n||(n=o[s]=[]),n.push(e[i]);}const i=[];for(const e in o)i.push(o[e]);return i}(e.v(this._layerConfigs),this.keyCache);for(const e of s){const t=e.map((e=>this._layers[e.id])),r=t[0];if(\"none\"===r.visibility)continue;const o=r.source||\"\";let i=this.familiesBySource[o];i||(i=this.familiesBySource[o]={});const s=r.sourceLayer||\"_geojsonTileLayer\";let n=i[s];n||(n=i[s]=[]),n.push(t);}}}class i{loadTile(t,r){const{uid:o,encoding:i,rawImageData:s,padding:n}=t,a=e.w.ImageBitmap&&s instanceof e.w.ImageBitmap?this.getImageData(s,n):s;r(null,new e.D(o,a,i,t.convertToFloat,n<1));}getImageData(e,t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext(\"2d\",{willReadFrequently:!0})),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);const r=this.offscreenCanvasContext.getImageData(-t,-t,e.width+2*t,e.height+2*t);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),r}}function s(e,t){if(0!==e.length){n(e[0],t);for(var r=1;r<e.length;r++)n(e[r],!t);}}function n(e,t){for(var r=0,o=0,i=0,s=e.length,n=s-1;i<s;n=i++){var a=(e[i][0]-e[n][0])*(e[n][1]+e[i][1]),l=r+a;o+=Math.abs(r)>=Math.abs(a)?r-l+a:a-l+r,r=l;}r+o>=0!=!!t&&e.reverse();}var a=e.g((function e(t,r){var o,i=t&&t.type;if(\"FeatureCollection\"===i)for(o=0;o<t.features.length;o++)e(t.features[o],r);else if(\"GeometryCollection\"===i)for(o=0;o<t.geometries.length;o++)e(t.geometries[o],r);else if(\"Feature\"===i)e(t.geometry,r);else if(\"Polygon\"===i)s(t.coordinates,r);else if(\"MultiPolygon\"===i)for(o=0;o<t.coordinates.length;o++)s(t.coordinates[o],r);return t}));const l=e.V.prototype.toGeoJSON;var h={exports:{}},u=e.p,c=e.a.VectorTileFeature,f=d;function d(e,t){this.options=t||{},this.features=e,this.length=e.length;}function p(e,t){this.id=\"number\"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096;}d.prototype.feature=function(e){return new p(this.features[e],this.options.extent)},p.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var r=e[t],o=[],i=0;i<r.length;i++)o.push(new u(r[i][0],r[i][1]));this.geometry.push(o);}return this.geometry},p.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,r=-1/0,o=1/0,i=-1/0,s=0;s<e.length;s++)for(var n=e[s],a=0;a<n.length;a++){var l=n[a];t=Math.min(t,l.x),r=Math.max(r,l.x),o=Math.min(o,l.y),i=Math.max(i,l.y);}return [t,o,r,i]},p.prototype.toGeoJSON=c.prototype.toGeoJSON;var g=e.b,m=f;function y(e){var t=new g;return function(e,t){for(var r in e.layers)t.writeMessage(3,v,e.layers[r]);}(e,t),t.finish()}function v(e,t){var r;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||\"\"),t.writeVarintField(5,e.extent||4096);var o={keys:[],values:[],keycache:{},valuecache:{}};for(r=0;r<e.length;r++)o.feature=e.feature(r),t.writeMessage(2,w,o);var i=o.keys;for(r=0;r<i.length;r++)t.writeStringField(3,i[r]);var s=o.values;for(r=0;r<s.length;r++)t.writeMessage(4,I,s[r]);}function w(e,t){var r=e.feature;void 0!==r.id&&t.writeVarintField(1,r.id),t.writeMessage(2,x,e),t.writeVarintField(3,r.type),t.writeMessage(4,b,r);}function x(e,t){var r=e.feature,o=e.keys,i=e.values,s=e.keycache,n=e.valuecache;for(var a in r.properties){var l=r.properties[a],h=s[a];if(null!==l){void 0===h&&(o.push(a),s[a]=h=o.length-1),t.writeVarint(h);var u=typeof l;\"string\"!==u&&\"boolean\"!==u&&\"number\"!==u&&(l=JSON.stringify(l));var c=u+\":\"+l,f=n[c];void 0===f&&(i.push(l),n[c]=f=i.length-1),t.writeVarint(f);}}}function S(e,t){return (t<<3)+(7&e)}function M(e){return e<<1^e>>31}function b(e,t){for(var r=e.loadGeometry(),o=e.type,i=0,s=0,n=r.length,a=0;a<n;a++){var l=r[a],h=1;1===o&&(h=l.length),t.writeVarint(S(1,h));for(var u=3===o?l.length-1:l.length,c=0;c<u;c++){1===c&&1!==o&&t.writeVarint(S(2,u-1));var f=l[c].x-i,d=l[c].y-s;t.writeVarint(M(f)),t.writeVarint(M(d)),i+=f,s+=d;}3===o&&t.writeVarint(S(7,1));}}function I(e,t){var r=typeof e;\"string\"===r?t.writeStringField(1,e):\"boolean\"===r?t.writeBooleanField(7,e):\"number\"===r&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e));}h.exports=y,h.exports.fromVectorTileJs=y,h.exports.fromGeojsonVt=function(e,t){t=t||{};var r={};for(var o in e)r[o]=new m(e[o].features,t),r[o].name=o,r[o].version=t.version,r[o].extent=t.extent;return y({layers:r})},h.exports.GeoJSONWrapper=m;var k=e.g(h.exports);const P={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},_=Math.fround||(T=new Float32Array(1),e=>(T[0]=+e,T[0]));var T;const L=3,C=5,O=6;class j{constructor(e){this.options=Object.assign(Object.create(P),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[];}load(e){const{log:t,minZoom:r,maxZoom:o}=this.options;t&&console.time(\"total time\");const i=`prepare ${e.length} points`;t&&console.time(i),this.points=e;const s=[];for(let t=0;t<e.length;t++){const r=e[t];if(!r.geometry)continue;const[o,i]=r.geometry.coordinates,n=_(z(o)),a=_(D(i));s.push(n,a,1/0,t,-1,1),this.options.reduce&&s.push(0);}let n=this.trees[o+1]=this._createTree(s);t&&console.timeEnd(i);for(let e=o;e>=r;e--){const r=+Date.now();n=this.trees[e]=this._createTree(this._cluster(n,e)),t&&console.log(\"z%d: %d clusters in %dms\",e,n.numItems,+Date.now()-r);}return t&&console.timeEnd(\"total time\"),this}getClusters(e,t){let r=((e[0]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[1]));let i=180===e[2]?180:((e[2]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){const e=this.getClusters([r,o,180,s],t),n=this.getClusters([-180,o,i,s],t);return e.concat(n)}const n=this.trees[this._limitZoom(t)],a=n.range(z(r),D(s),z(i),D(o)),l=n.data,h=[];for(const e of a){const t=this.stride*e;h.push(l[t+C]>1?F(l,t,this.clusterProps):this.points[l[t+L]]);}return h}getChildren(e){const t=this._getOriginId(e),r=this._getOriginZoom(e),o=\"No cluster with the specified id.\",i=this.trees[r];if(!i)throw new Error(o);const s=i.data;if(t*this.stride>=s.length)throw new Error(o);const n=this.options.radius/(this.options.extent*Math.pow(2,r-1)),a=i.within(s[t*this.stride],s[t*this.stride+1],n),l=[];for(const t of a){const r=t*this.stride;s[r+4]===e&&l.push(s[r+C]>1?F(s,r,this.clusterProps):this.points[s[r+L]]);}if(0===l.length)throw new Error(o);return l}getLeaves(e,t,r){const o=[];return this._appendLeaves(o,e,t=t||10,r=r||0,0),o}getTile(e,t,r){const o=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:s,radius:n}=this.options,a=n/s,l=(r-a)/i,h=(r+1+a)/i,u={features:[]};return this._addTileFeatures(o.range((t-a)/i,l,(t+1+a)/i,h),o.data,t,r,i,u),0===t&&this._addTileFeatures(o.range(1-a/i,l,1,h),o.data,i,r,i,u),t===i-1&&this._addTileFeatures(o.range(0,l,a/i,h),o.data,-1,r,i,u),u.features.length?u:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id;}return t}_appendLeaves(e,t,r,o,i){const s=this.getChildren(t);for(const t of s){const s=t.properties;if(s&&s.cluster?i+s.point_count<=o?i+=s.point_count:i=this._appendLeaves(e,s.cluster_id,r,o,i):i<o?i++:e.push(t),e.length===r)break}return i}_createTree(t){const r=new e.K(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let e=0;e<t.length;e+=this.stride)r.add(t[e],t[e+1]);return r.finish(),r.data=t,r}_addTileFeatures(e,t,r,o,i,s){for(const n of e){const e=n*this.stride,a=t[e+C]>1;let l,h,u;if(a)l=Z(t,e,this.clusterProps),h=t[e],u=t[e+1];else {const r=this.points[t[e+L]];l=r.properties;const[o,i]=r.geometry.coordinates;h=z(o),u=D(i);}const c={type:1,geometry:[[Math.round(this.options.extent*(h*i-r)),Math.round(this.options.extent*(u*i-o))]],tags:l};let f;f=a||this.options.generateId?t[e+L]:this.points[t[e+L]].id,void 0!==f&&(c.id=f),s.features.push(c);}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const{radius:r,extent:o,reduce:i,minPoints:s}=this.options,n=r/(o*Math.pow(2,t)),a=e.data,l=[],h=this.stride;for(let r=0;r<a.length;r+=h){if(a[r+2]<=t)continue;a[r+2]=t;const o=a[r],u=a[r+1],c=e.within(a[r],a[r+1],n),f=a[r+C];let d=f;for(const e of c){const r=e*h;a[r+2]>t&&(d+=a[r+C]);}if(d>f&&d>=s){let e,s=o*f,n=u*f,p=-1;const g=((r/h|0)<<5)+(t+1)+this.points.length;for(const o of c){const l=o*h;if(a[l+2]<=t)continue;a[l+2]=t;const u=a[l+C];s+=a[l]*u,n+=a[l+1]*u,a[l+4]=g,i&&(e||(e=this._map(a,r,!0),p=this.clusterProps.length,this.clusterProps.push(e)),i(e,this._map(a,l)));}a[r+4]=g,l.push(s/d,n/d,1/0,g,-1,d),i&&l.push(p);}else {for(let e=0;e<h;e++)l.push(a[r+e]);if(d>1)for(const e of c){const r=e*h;if(!(a[r+2]<=t)){a[r+2]=t;for(let e=0;e<h;e++)l.push(a[r+e]);}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return (e-this.points.length)%32}_map(e,t,r){if(e[t+C]>1){const o=this.clusterProps[e[t+O]];return r?Object.assign({},o):o}const o=this.points[e[t+L]].properties,i=this.options.map(o);return r&&i===o?Object.assign({},i):i}}function F(e,t,r){return {type:\"Feature\",id:e[t+L],properties:Z(e,t,r),geometry:{type:\"Point\",coordinates:[(o=e[t],360*(o-.5)),E(e[t+1])]}};var o;}function Z(e,t,r){const o=e[t+C],i=o>=1e4?`${Math.round(o/1e3)}k`:o>=1e3?Math.round(o/100)/10+\"k\":o,s=e[t+O],n=-1===s?{}:Object.assign({},r[s]);return Object.assign(n,{cluster:!0,cluster_id:e[t+L],point_count:o,point_count_abbreviated:i})}function z(e){return e/360+.5}function D(e){const t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function E(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}var N={exports:{}};N.exports=function(){function e(r,o,i,s){for(var n,a=s,l=i-o>>1,h=i-o,u=r[o],c=r[o+1],f=r[i],d=r[i+1],p=o+3;p<i;p+=3){var g=t(r[p],r[p+1],u,c,f,d);if(g>a)n=p,a=g;else if(g===a){var m=Math.abs(p-l);m<h&&(n=p,h=m);}}a>s&&(n-o>3&&e(r,o,n,s),r[n+2]=a,i-n>3&&e(r,n,i,s));}function t(e,t,r,o,i,s){var n=i-r,a=s-o;if(0!==n||0!==a){var l=((e-r)*n+(t-o)*a)/(n*n+a*a);l>1?(r=i,o=s):l>0&&(r+=n*l,o+=a*l);}return (n=e-r)*n+(a=t-o)*a}function r(e,t,r,i){var s={id:void 0===e?null:e,type:t,geometry:r,tags:i,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,r=e.type;if(\"Point\"===r||\"MultiPoint\"===r||\"LineString\"===r)o(e,t);else if(\"Polygon\"===r||\"MultiLineString\"===r)for(var i=0;i<t.length;i++)o(e,t[i]);else if(\"MultiPolygon\"===r)for(i=0;i<t.length;i++)for(var s=0;s<t[i].length;s++)o(e,t[i][s]);}(s),s}function o(e,t){for(var r=0;r<t.length;r+=3)e.minX=Math.min(e.minX,t[r]),e.minY=Math.min(e.minY,t[r+1]),e.maxX=Math.max(e.maxX,t[r]),e.maxY=Math.max(e.maxY,t[r+1]);}function i(e,t,o,l){if(t.geometry){var h=t.geometry.coordinates,u=t.geometry.type,c=Math.pow(o.tolerance/((1<<o.maxZoom)*o.extent),2),f=[],d=t.id;if(o.promoteId?d=t.properties[o.promoteId]:o.generateId&&(d=l||0),\"Point\"===u)s(h,f);else if(\"MultiPoint\"===u)for(var p=0;p<h.length;p++)s(h[p],f);else if(\"LineString\"===u)n(h,f,c,!1);else if(\"MultiLineString\"===u){if(o.lineMetrics){for(p=0;p<h.length;p++)n(h[p],f=[],c,!1),e.push(r(d,\"LineString\",f,t.properties));return}a(h,f,c,!1);}else if(\"Polygon\"===u)a(h,f,c,!0);else {if(\"MultiPolygon\"!==u){if(\"GeometryCollection\"===u){for(p=0;p<t.geometry.geometries.length;p++)i(e,{id:d,geometry:t.geometry.geometries[p],properties:t.properties},o,l);return}throw new Error(\"Input data is not a valid GeoJSON object.\")}for(p=0;p<h.length;p++){var g=[];a(h[p],g,c,!0),f.push(g);}}e.push(r(d,u,f,t.properties));}}function s(e,t){t.push(l(e[0])),t.push(h(e[1])),t.push(0);}function n(t,r,o,i){for(var s,n,a=0,u=0;u<t.length;u++){var c=l(t[u][0]),f=h(t[u][1]);r.push(c),r.push(f),r.push(0),u>0&&(a+=i?(s*f-c*n)/2:Math.sqrt(Math.pow(c-s,2)+Math.pow(f-n,2))),s=c,n=f;}var d=r.length-3;r[2]=1,e(r,0,d,o),r[d+2]=1,r.size=Math.abs(a),r.start=0,r.end=r.size;}function a(e,t,r,o){for(var i=0;i<e.length;i++){var s=[];n(e[i],s,r,o),t.push(s);}}function l(e){return e/360+.5}function h(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function u(e,t,o,i,s,n,a,l){if(i/=t,n>=(o/=t)&&a<i)return e;if(a<o||n>=i)return null;for(var h=[],u=0;u<e.length;u++){var d=e[u],g=d.geometry,m=d.type,y=0===s?d.minX:d.minY,v=0===s?d.maxX:d.maxY;if(y>=o&&v<i)h.push(d);else if(!(v<o||y>=i)){var w=[];if(\"Point\"===m||\"MultiPoint\"===m)c(g,w,o,i,s);else if(\"LineString\"===m)f(g,w,o,i,s,!1,l.lineMetrics);else if(\"MultiLineString\"===m)p(g,w,o,i,s,!1);else if(\"Polygon\"===m)p(g,w,o,i,s,!0);else if(\"MultiPolygon\"===m)for(var x=0;x<g.length;x++){var S=[];p(g[x],S,o,i,s,!0),S.length&&w.push(S);}if(w.length){if(l.lineMetrics&&\"LineString\"===m){for(x=0;x<w.length;x++)h.push(r(d.id,m,w[x],d.tags));continue}\"LineString\"!==m&&\"MultiLineString\"!==m||(1===w.length?(m=\"LineString\",w=w[0]):m=\"MultiLineString\"),\"Point\"!==m&&\"MultiPoint\"!==m||(m=3===w.length?\"Point\":\"MultiPoint\"),h.push(r(d.id,m,w,d.tags));}}}return h.length?h:null}function c(e,t,r,o,i){for(var s=0;s<e.length;s+=3){var n=e[s+i];n>=r&&n<=o&&(t.push(e[s]),t.push(e[s+1]),t.push(e[s+2]));}}function f(e,t,r,o,i,s,n){for(var a,l,h=d(e),u=0===i?m:y,c=e.start,f=0;f<e.length-3;f+=3){var p=e[f],v=e[f+1],w=e[f+2],x=e[f+3],S=e[f+4],M=0===i?p:v,b=0===i?x:S,I=!1;n&&(a=Math.sqrt(Math.pow(p-x,2)+Math.pow(v-S,2))),M<r?b>r&&(l=u(h,p,v,x,S,r),n&&(h.start=c+a*l)):M>o?b<o&&(l=u(h,p,v,x,S,o),n&&(h.start=c+a*l)):g(h,p,v,w),b<r&&M>=r&&(l=u(h,p,v,x,S,r),I=!0),b>o&&M<=o&&(l=u(h,p,v,x,S,o),I=!0),!s&&I&&(n&&(h.end=c+a*l),t.push(h),h=d(e)),n&&(c+=a);}var k=e.length-3;p=e[k],v=e[k+1],w=e[k+2],(M=0===i?p:v)>=r&&M<=o&&g(h,p,v,w),k=h.length-3,s&&k>=3&&(h[k]!==h[0]||h[k+1]!==h[1])&&g(h,h[0],h[1],h[2]),h.length&&t.push(h);}function d(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function p(e,t,r,o,i,s){for(var n=0;n<e.length;n++)f(e[n],t,r,o,i,s,!1);}function g(e,t,r,o){e.push(t),e.push(r),e.push(o);}function m(e,t,r,o,i,s){var n=(s-t)/(o-t);return e.push(s),e.push(r+(i-r)*n),e.push(1),n}function y(e,t,r,o,i,s){var n=(s-r)/(i-r);return e.push(t+(o-t)*n),e.push(s),e.push(1),n}function v(e,t){for(var o=[],i=0;i<e.length;i++){var s,n=e[i],a=n.type;if(\"Point\"===a||\"MultiPoint\"===a||\"LineString\"===a)s=w(n.geometry,t);else if(\"MultiLineString\"===a||\"Polygon\"===a){s=[];for(var l=0;l<n.geometry.length;l++)s.push(w(n.geometry[l],t));}else if(\"MultiPolygon\"===a)for(s=[],l=0;l<n.geometry.length;l++){for(var h=[],u=0;u<n.geometry[l].length;u++)h.push(w(n.geometry[l][u],t));s.push(h);}o.push(r(n.id,a,s,n.tags));}return o}function w(e,t){var r=[];r.size=e.size,void 0!==e.start&&(r.start=e.start,r.end=e.end);for(var o=0;o<e.length;o+=3)r.push(e[o]+t,e[o+1],e[o+2]);return r}function x(e,t){if(e.transformed)return e;var r,o,i,s=1<<e.z,n=e.x,a=e.y;for(r=0;r<e.features.length;r++){var l=e.features[r],h=l.geometry,u=l.type;if(l.geometry=[],1===u)for(o=0;o<h.length;o+=2)l.geometry.push(S(h[o],h[o+1],t,s,n,a));else for(o=0;o<h.length;o++){var c=[];for(i=0;i<h[o].length;i+=2)c.push(S(h[o][i],h[o][i+1],t,s,n,a));l.geometry.push(c);}}return e.transformed=!0,e}function S(e,t,r,o,i,s){return [Math.round(r*(e*o-i)),Math.round(r*(t*o-s))]}function M(e,t,r,o,i){for(var s=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),n={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:o,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},a=0;a<e.length;a++){n.numFeatures++,b(n,e[a],s,i);var l=e[a].minX,h=e[a].minY,u=e[a].maxX,c=e[a].maxY;l<n.minX&&(n.minX=l),h<n.minY&&(n.minY=h),u>n.maxX&&(n.maxX=u),c>n.maxY&&(n.maxY=c);}return n}function b(e,t,r,o){var i=t.geometry,s=t.type,n=[];if(\"Point\"===s||\"MultiPoint\"===s)for(var a=0;a<i.length;a+=3)n.push(i[a]),n.push(i[a+1]),e.numPoints++,e.numSimplified++;else if(\"LineString\"===s)I(n,i,e,r,!1,!1);else if(\"MultiLineString\"===s||\"Polygon\"===s)for(a=0;a<i.length;a++)I(n,i[a],e,r,\"Polygon\"===s,0===a);else if(\"MultiPolygon\"===s)for(var l=0;l<i.length;l++){var h=i[l];for(a=0;a<h.length;a++)I(n,h[a],e,r,!0,0===a);}if(n.length){var u=t.tags||null;if(\"LineString\"===s&&o.lineMetrics){for(var c in u={},t.tags)u[c]=t.tags[c];u.mapbox_clip_start=i.start/i.size,u.mapbox_clip_end=i.end/i.size;}var f={geometry:n,type:\"Polygon\"===s||\"MultiPolygon\"===s?3:\"LineString\"===s||\"MultiLineString\"===s?2:1,tags:u};null!==t.id&&(f.id=t.id),e.features.push(f);}}function I(e,t,r,o,i,s){var n=o*o;if(o>0&&t.size<(i?n:o))r.numPoints+=t.length/3;else {for(var a=[],l=0;l<t.length;l+=3)(0===o||t[l+2]>n)&&(r.numSimplified++,a.push(t[l]),a.push(t[l+1])),r.numPoints++;i&&function(e,t){for(var r=0,o=0,i=e.length,s=i-2;o<i;s=o,o+=2)r+=(e[o]-e[s])*(e[o+1]+e[s+1]);if(r>0===t)for(o=0,i=e.length;o<i/2;o+=2){var n=e[o],a=e[o+1];e[o]=e[i-2-o],e[o+1]=e[i-1-o],e[i-2-o]=n,e[i-1-o]=a;}}(a,s),e.push(a);}}function k(e,t){var r=(t=this.options=function(e,t){for(var r in t)e[r]=t[r];return e}(Object.create(this.options),t)).debug;if(r&&console.time(\"preprocess data\"),t.maxZoom<0||t.maxZoom>24)throw new Error(\"maxZoom should be in the 0-24 range\");if(t.promoteId&&t.generateId)throw new Error(\"promoteId and generateId cannot be used together.\");var o=function(e,t){var r=[];if(\"FeatureCollection\"===e.type)for(var o=0;o<e.features.length;o++)i(r,e.features[o],t,o);else i(r,\"Feature\"===e.type?e:{geometry:e},t);return r}(e,t);this.tiles={},this.tileCoords=[],r&&(console.timeEnd(\"preprocess data\"),console.log(\"index: maxZoom: %d, maxPoints: %d\",t.indexMaxZoom,t.indexMaxPoints),console.time(\"generate tiles\"),this.stats={},this.total=0),(o=function(e,t){var r=t.buffer/t.extent,o=e,i=u(e,1,-1-r,r,0,-1,2,t),s=u(e,1,1-r,2+r,0,-1,2,t);return (i||s)&&(o=u(e,1,-r,1+r,0,-1,2,t)||[],i&&(o=v(i,1).concat(o)),s&&(o=o.concat(v(s,-1)))),o}(o,t)).length&&this.splitTile(o,0,0,0),r&&(o.length&&console.log(\"features: %d, points: %d\",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd(\"generate tiles\"),console.log(\"tiles generated:\",this.total,JSON.stringify(this.stats)));}function P(e,t,r){return 32*((1<<e)*r+t)+e}return k.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},k.prototype.splitTile=function(e,t,r,o,i,s,n){for(var a=[e,t,r,o],l=this.options,h=l.debug;a.length;){o=a.pop(),r=a.pop(),t=a.pop(),e=a.pop();var c=1<<t,f=P(t,r,o),d=this.tiles[f];if(!d&&(h>1&&console.time(\"creation\"),d=this.tiles[f]=M(e,t,r,o,l),this.tileCoords.push({z:t,x:r,y:o}),h)){h>1&&(console.log(\"tile z%d-%d-%d (features: %d, points: %d, simplified: %d)\",t,r,o,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd(\"creation\"));var p=\"z\"+t;this.stats[p]=(this.stats[p]||0)+1,this.total++;}if(d.source=e,i){if(t===l.maxZoom||t===i)continue;var g=1<<i-t;if(r!==Math.floor(s/g)||o!==Math.floor(n/g))continue}else if(t===l.indexMaxZoom||d.numPoints<=l.indexMaxPoints)continue;if(d.source=null,0!==e.length){h>1&&console.time(\"clipping\");var m,y,v,w,x,S,b=.5*l.buffer/l.extent,I=.5-b,k=.5+b,_=1+b;m=y=v=w=null,x=u(e,c,r-b,r+k,0,d.minX,d.maxX,l),S=u(e,c,r+I,r+_,0,d.minX,d.maxX,l),e=null,x&&(m=u(x,c,o-b,o+k,1,d.minY,d.maxY,l),y=u(x,c,o+I,o+_,1,d.minY,d.maxY,l),x=null),S&&(v=u(S,c,o-b,o+k,1,d.minY,d.maxY,l),w=u(S,c,o+I,o+_,1,d.minY,d.maxY,l),S=null),h>1&&console.timeEnd(\"clipping\"),a.push(m||[],t+1,2*r,2*o),a.push(y||[],t+1,2*r,2*o+1),a.push(v||[],t+1,2*r+1,2*o),a.push(w||[],t+1,2*r+1,2*o+1);}}},k.prototype.getTile=function(e,t,r){var o=this.options,i=o.extent,s=o.debug;if(e<0||e>24)return null;var n=1<<e,a=P(e,t=(t%n+n)%n,r);if(this.tiles[a])return x(this.tiles[a],i);s>1&&console.log(\"drilling down to z%d-%d-%d\",e,t,r);for(var l,h=e,u=t,c=r;!l&&h>0;)h--,u=Math.floor(u/2),c=Math.floor(c/2),l=this.tiles[P(h,u,c)];return l&&l.source?(s>1&&console.log(\"found parent tile z%d-%d-%d\",h,u,c),s>1&&console.time(\"drilling down\"),this.splitTile(l.source,h,u,c,e,t,r),s>1&&console.timeEnd(\"drilling down\"),this.tiles[a]?x(this.tiles[a],i):null):null},function(e,t){return new k(e,t)}}();var J=e.g(N.exports);function Y(t,r){const o=t.tileID.canonical;if(!this._geoJSONIndex)return r(null,null);const i=this._geoJSONIndex.getTile(o.z,o.x,o.y);if(!i)return r(null,null);const s=new class{constructor(t){this.layers={_geojsonTileLayer:this},this.name=\"_geojsonTileLayer\",this.extent=e.E,this.length=t.length,this._features=t;}feature(t){return new class{constructor(t){this._feature=t,this.extent=e.E,this.type=t.type,this.properties=t.tags,\"id\"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10));}loadGeometry(){if(1===this._feature.type){const t=[];for(const r of this._feature.geometry)t.push([new e.P(r[0],r[1])]);return t}{const t=[];for(const r of this._feature.geometry){const o=[];for(const t of r)o.push(new e.P(t[0],t[1]));t.push(o);}return t}}toGeoJSON(e,t,r){return l.call(this,e,t,r)}}(this._features[t])}}(i.features);let n=k(s);0===n.byteOffset&&n.byteLength===n.buffer.byteLength||(n=new Uint8Array(n)),r(null,{vectorTile:s,rawData:n.buffer});}class G extends e.d{constructor(e,t,r,o,i,s){super(e,t,r,o,Y,s),i&&(this.loadGeoJSON=i);}loadData(t,r){const o=t&&t.request,i=o&&o.collectResourceTiming;this.loadGeoJSON(t,((s,n)=>{if(s||!n)return r(s);if(\"object\"!=typeof n)return r(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));{a(n,!0);try{if(t.filter){const r=e.e(t.filter,{type:\"boolean\",\"property-type\":\"data-driven\",overridable:!1,transition:!1});if(\"error\"===r.result)throw new Error(r.value.map((e=>`${e.key}: ${e.message}`)).join(\", \"));const o=n.features.filter((e=>r.value.evaluate({zoom:0},e)));n={type:\"FeatureCollection\",features:o};}this._geoJSONIndex=t.cluster?new j(function({superclusterOptions:t,clusterProperties:r}){if(!r||!t)return t;const o={},i={},s={accumulated:null,zoom:0},n={properties:null},a=Object.keys(r);for(const t of a){const[s,n]=r[t],a=e.e(n),l=e.e(\"string\"==typeof s?[s,[\"accumulated\"],[\"get\",t]]:s);o[t]=a.value,i[t]=l.value;}return t.map=e=>{n.properties=e;const t={};for(const e of a)t[e]=o[e].evaluate(s,n);return t},t.reduce=(e,t)=>{n.properties=t;for(const t of a)s.accumulated=e[t],e[t]=i[t].evaluate(s,n);},t}(t)).load(n.features):J(n,t.geojsonVtOptions);}catch(s){return r(s)}this.loaded={};const l={};if(i){const r=e.f(o);r&&(l.resourceTiming={},l.resourceTiming[t.source]=JSON.parse(JSON.stringify(r)));}r(null,l);}}));}reloadTile(e,t){const r=this.loaded;return r&&r[e.uid]?super.reloadTile(e,t):this.loadTile(e,t)}loadGeoJSON(t,r){if(t.request)e.h(t.request,r);else {if(\"string\"!=typeof t.data)return r(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));try{return r(null,JSON.parse(t.data))}catch(e){return r(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId));}catch(e){t(e);}}getClusterChildren(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId));}catch(e){t(e);}}getClusterLeaves(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset));}catch(e){t(e);}}}class W{constructor(t,r){this.tileID=new e.O(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.tileZoom=t.tileZoom,this.uid=t.uid,this.zoom=t.zoom,this.canonical=t.tileID.canonical,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.projection=t.projection,this.brightness=r;}parse(t,r,o,i){this.status=\"parsing\";const s=new e.O(o.tileID.overscaledZ,o.tileID.wrap,o.tileID.canonical.z,o.tileID.canonical.x,o.tileID.canonical.y),n={},a=r.familiesBySource[o.source],l=new e.F(s,o.promoteId);return l.bucketLayerIDs=[],e.l(t).then((t=>{if(!t)return i(new Error(\"Could not parse tile\"));const r=e.j(t,1/e.t(o.tileID.canonical)),h=t.json.extensionsUsed&&t.json.extensionsUsed.includes(\"MAPBOX_mesh_features\"),u=new e.k(this.zoom,{brightness:this.brightness});for(const o in a)for(const i of a[o]){const o=i[0],a=t.json.extensionsUsed;o.recalculate(u,[]);const l=new e.T(r,s,a&&a.includes(\"MAPBOX_mesh_features\"),this.brightness);h||(l.needsUpload=!0),n[o.fqid]=l,l.evaluate(o);}this.status=\"done\",i(null,{buckets:n,featureIndex:l});})).catch((e=>i(new Error(e.message))))}}class X{constructor(e,t,r,o,i,s){this.actor=e,this.layerIndex=t,this.brightness=s,this.loading={},this.loaded={};}loadTile(t,r){const o=t.uid,i=this.loading[o]=new W(t,this.brightness);e.i(t.request,((e,s)=>{const n=!this.loading[o];return delete this.loading[o],n||e?(i.status=\"done\",n||(this.loaded[o]=i),r(e)):s&&0!==s.byteLength?void i.parse(s,this.layerIndex,t,((e,t)=>{i.status=\"done\",this.loaded=this.loaded||{},this.loaded[o]=i,e||!t?r(e):r(null,t);})):(i.status=\"done\",this.loaded[o]=i,r())}));}reloadTile(e,t){const r=this.loaded,o=e.uid;if(r&&r[o]){const i=r[o];i.projection=e.projection,i.brightness=e.brightness;const s=(r,o)=>{i.reloadCallback&&(delete i.reloadCallback,this.loadTile(e,t)),t(r,o);};\"parsing\"===i.status?i.reloadCallback=s:\"done\"===i.status&&this.loadTile(e,t);}}abortTile(e,t){const r=e.uid;this.loading[r]&&delete this.loading[r],t();}removeTile(e,t){const r=this.loaded,o=e.uid;r&&r[o]&&delete r[o],t();}}class V{constructor(t){this.self=t,this.actor=new e.A(t,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=e.m({name:\"mercator\"}),this.workerSourceTypes={vector:e.d,geojson:G,\"batched-model\":X},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(e,t)=>{if(this.workerSourceTypes[e])throw new Error(`Worker source with name \"${e}\" already registered.`);this.workerSourceTypes[e]=t;},this.self.registerRTLTextPlugin=t=>{if(e.n.isParsed())throw new Error(\"RTL text plugin already registered.\");e.n.applyArabicShaping=t.applyArabicShaping,e.n.processBidirectionalText=t.processBidirectionalText,e.n.processStyledBidirectionalText=t.processStyledBidirectionalText;};}clearCaches(e,t,r){delete this.layerIndexes[e],delete this.availableImages[e],delete this.workerSources[e],delete this.demWorkerSources[e],r();}checkIfReady(e,t,r){r();}setReferrer(e,t){this.referrer=t;}spriteLoaded(t,{scope:r,isLoaded:o}){if(this.isSpriteLoaded[t]||(this.isSpriteLoaded[t]={}),this.isSpriteLoaded[t][r]=o,this.workerSources[t]&&this.workerSources[t][r])for(const i in this.workerSources[t][r]){const s=this.workerSources[t][r][i];for(const t in s)s[t]instanceof e.d&&(s[t].isSpriteLoaded=o,s[t].fire(new e.o(\"isSpriteLoaded\")));}}setImages(e,{scope:t,images:r},o){if(this.availableImages[e]||(this.availableImages[e]={}),this.availableImages[e][t]=r,this.workerSources[e]&&this.workerSources[e][t]){for(const o in this.workerSources[e][t]){const i=this.workerSources[e][t][o];for(const e in i)i[e].availableImages=r;}o();}else o();}setProjection(t,r){this.projections[t]=e.m(r);}setBrightness(e,t,r){this.brightness=t,r();}setLayers(e,t,r){this.getLayerIndex(e,t.scope).replace(t.layers,t.options),r();}updateLayers(e,t,r){this.getLayerIndex(e,t.scope).update(t.layers,t.removedIds,t.options),r();}loadTile(e,t,r){t.projection=this.projections[e]||this.defaultProjection,this.getWorkerSource(e,t.type,t.source,t.scope).loadTile(t,r);}loadDEMTile(e,t,r){this.getDEMWorkerSource(e,t.source,t.scope).loadTile(t,r);}reloadTile(e,t,r){t.projection=this.projections[e]||this.defaultProjection,this.getWorkerSource(e,t.type,t.source,t.scope).reloadTile(t,r);}abortTile(e,t,r){this.getWorkerSource(e,t.type,t.source,t.scope).abortTile(t,r);}removeTile(e,t,r){this.getWorkerSource(e,t.type,t.source,t.scope).removeTile(t,r);}removeSource(e,t,r){if(!(this.workerSources[e]&&this.workerSources[e][t.scope]&&this.workerSources[e][t.scope][t.type]&&this.workerSources[e][t.scope][t.type][t.source]))return;const o=this.workerSources[e][t.scope][t.type][t.source];delete this.workerSources[e][t.scope][t.type][t.source],void 0!==o.removeSource?o.removeSource(t,r):r();}loadWorkerSource(e,t,r){try{this.self.importScripts(t.url),r();}catch(e){r(e.toString());}}syncRTLPluginState(t,r,o){try{e.n.setState(r);const t=e.n.getPluginURL();if(e.n.isLoaded()&&!e.n.isParsed()&&null!=t){this.self.importScripts(t);const r=e.n.isParsed();o(r?void 0:new Error(`RTL Text Plugin failed to import scripts from ${t}`),r);}}catch(e){o(e.toString());}}setDracoUrl(e,t){this.dracoUrl=t;}getAvailableImages(e,t){this.availableImages[e]||(this.availableImages[e]={});let r=this.availableImages[e][t];return r||(r=[]),r}getLayerIndex(e,t){this.layerIndexes[e]||(this.layerIndexes[e]={});let r=this.layerIndexes[e][t];return r||(r=this.layerIndexes[e][t]=new o,r.scope=t),r}getWorkerSource(e,t,r,o){if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][o]||(this.workerSources[e][o]={}),this.workerSources[e][o][t]||(this.workerSources[e][o][t]={}),this.isSpriteLoaded[e]||(this.isSpriteLoaded[e]={}),!this.workerSources[e][o][t][r]){const i={send:(t,r,o,i,s,n)=>{this.actor.send(t,r,o,e,s,n);},scheduler:this.actor.scheduler};this.workerSources[e][o][t][r]=new this.workerSourceTypes[t](i,this.getLayerIndex(e,o),this.getAvailableImages(e,o),this.isSpriteLoaded[e][o],void 0,this.brightness);}return this.workerSources[e][o][t][r]}getDEMWorkerSource(e,t,r){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][r]||(this.demWorkerSources[e][r]={}),this.demWorkerSources[e][r][t]||(this.demWorkerSources[e][r][t]=new i),this.demWorkerSources[e][r][t]}enforceCacheSizeLimit(t,r){e.q(r);}getWorkerPerformanceMetrics(e,t,r){r(void 0,void 0);}}return \"undefined\"!=typeof WorkerGlobalScope&&\"undefined\"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new V(self)),V}));\n\ndefine([\"./shared\"],(function(e){\"use strict\";return e.s}));\n\n//\n// Our custom intro provides a specialized \"define()\" function, called by the\n// AMD modules below, that sets up the worker blob URL and then executes the\n// main module, storing its exported value as 'mapboxgl'\n\n\nvar mapboxgl$1 = mapboxgl;\n\nreturn mapboxgl$1;\n\n}));\n//# sourceMappingURL=mapbox-gl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWFwYm94LWdsL2Rpc3QvbWFwYm94LWdsLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQSxLQUE0RDtBQUM1RCxDQUN1RztBQUN2RyxDQUFDLHVCQUF1Qjs7QUFFeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsRUFBRTtBQUNGLDBEQUEwRCxpSUFBaUksa0ZBQWtGLHNCQUFzQiwrQkFBK0IsK0JBQStCLG9CQUFvQjs7QUFFclg7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RkFBeUYseUJBQXlCO0FBQ2xIO0FBQ0E7QUFDQTs7O0FBR0EsZ0NBQWdDLGFBQWEsc0NBQXNDLFdBQVcsTUFBTSxTQUFTLHFEQUFxRCxZQUFZLGlFQUFpRSxJQUFJLDJFQUEyRSxTQUFTLE1BQU0sU0FBUywwQkFBMEIsK0VBQStFLHdCQUF3QiwrRkFBK0YsdUJBQXVCLHVGQUF1Rix1QkFBdUIsaUZBQWlGLHlCQUF5Qix3RUFBd0Usa0JBQWtCLDBCQUEwQixJQUFJLDJCQUEyQixrSkFBa0osU0FBUyxhQUFhLGdYQUFnWCxVQUFVLEVBQUUsTUFBTSxNQUFNLElBQUkscUNBQXFDLHVCQUF1QixrQkFBa0IsY0FBYywwQkFBMEIsOEJBQThCLElBQUkseUZBQXlGLGdCQUFnQixVQUFVLHlCQUF5QixtRUFBbUUscUJBQXFCLHNCQUFzQixhQUFhLHdCQUF3Qiw4REFBOEQsYUFBYSxjQUFjLHNGQUFzRixRQUFRLG9CQUFvQix5S0FBeUssYUFBYSx5QkFBeUIseUNBQXlDLDBCQUEwQix5Q0FBeUMsb0NBQW9DLHlDQUF5QywyQkFBMkIscUNBQXFDLGdCQUFnQixnQkFBZ0IsSUFBSSxLQUFLLDZCQUE2QiwwQkFBMEIscUNBQXFDLDBCQUEwQixRQUFRLFlBQVksWUFBWSxrREFBa0QsNkJBQTZCLFNBQVMscUJBQXFCLGtEQUFrRCxlQUFlLGdCQUFnQixtQkFBbUIsYUFBYSxpQkFBaUIsNEJBQTRCLGlCQUFpQiw0QkFBNEIsaUJBQWlC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QUksZ0JBQWdCLDJCQUEyQiw2Q0FBNkMsMkJBQTJCLHVCQUF1QixzRUFBc0UsRUFBRSxRQUFRLFNBQVMsa0JBQWtCLGlCQUFpQixpQkFBaUIsd0JBQXdCLG9EQUFvRCxFQUFFLGlDQUFpQyxtQkFBbUIsbUJBQW1CLDhDQUE4QyxFQUFFLDhCQUE4Qix3REFBd0QseUJBQXlCLG1EQUFtRCx3REFBd0QsOERBQThELG9EQUFvRCxtQ0FBbUMsU0FBUyxxQkFBcUIsOEJBQThCLGlDQUFpQyx1S0FBdUssc0NBQXNDLDBCQUEwQiw2REFBNkQsOERBQThELHdHQUF3RywyQkFBMkIsUUFBUSxtQ0FBbUMsbUJBQW1CLHVJQUF1STs7QUFFOWg4QixpQ0FBaUMsYUFBYSxXQUFXOztBQUV6RDtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7O0FBRUEsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vVnVleHkvLi9ub2RlX21vZHVsZXMvbWFwYm94LWdsL2Rpc3QvbWFwYm94LWdsLmpzP2UxOTIiXSwic291cmNlc0NvbnRlbnQiOlsiLyogTWFwYm94IEdMIEpTIGlzIENvcHlyaWdodCDCqSAyMDIwIE1hcGJveCBhbmQgc3ViamVjdCB0byB0aGUgTWFwYm94IFRlcm1zIG9mIFNlcnZpY2UgKChodHRwczovL3d3dy5tYXBib3guY29tL2xlZ2FsL3Rvcy8pLiAqL1xuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbnR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbnR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4oZ2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IGdsb2JhbCB8fCBzZWxmLCBnbG9iYWwubWFwYm94Z2wgPSBmYWN0b3J5KCkpO1xufSkodGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG52YXIgc2hhcmVkLCB3b3JrZXIsIG1hcGJveGdsO1xuLy8gZGVmaW5lIGdldHMgY2FsbGVkIHRocmVlIHRpbWVzOiBvbmUgZm9yIGVhY2ggY2h1bmsuIHdlIHJlbHkgb24gdGhlIG9yZGVyXG4vLyB0aGV5J3JlIGltcG9ydGVkIHRvIGtub3cgd2hpY2ggaXMgd2hpY2hcbmZ1bmN0aW9uIGRlZmluZShfLCBjaHVuaykge1xuaWYgKCFzaGFyZWQpIHtcbiAgICBzaGFyZWQgPSBjaHVuaztcbn0gZWxzZSBpZiAoIXdvcmtlcikge1xuICAgIHdvcmtlciA9IGNodW5rO1xufSBlbHNlIHtcbiAgICB2YXIgd29ya2VyQnVuZGxlU3RyaW5nID0gXCJzZWxmLm9uZXJyb3IgPSBmdW5jdGlvbigpIHsgY29uc29sZS5lcnJvcignQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgcGFyc2luZyB0aGUgV2ViV29ya2VyIGJ1bmRsZS4gVGhpcyBpcyBtb3N0IGxpa2VseSBkdWUgdG8gaW1wcm9wZXIgdHJhbnNwaWxhdGlvbiBieSBCYWJlbDsgcGxlYXNlIHNlZSBodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZ3VpZGVzL2luc3RhbGwvI3RyYW5zcGlsaW5nJyk7IH07IHZhciBzaGFyZWRDaHVuayA9IHt9OyAoXCIgKyBzaGFyZWQgKyBcIikoc2hhcmVkQ2h1bmspOyAoXCIgKyB3b3JrZXIgKyBcIikoc2hhcmVkQ2h1bmspOyBzZWxmLm9uZXJyb3IgPSBudWxsO1wiXG5cbiAgICB2YXIgc2hhcmVkQ2h1bmsgPSB7fTtcbiAgICBzaGFyZWQoc2hhcmVkQ2h1bmspO1xuICAgIG1hcGJveGdsID0gY2h1bmsoc2hhcmVkQ2h1bmspO1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cgJiYgd2luZG93LlVSTCAmJiB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTCkge1xuICAgICAgICBtYXBib3hnbC53b3JrZXJVcmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbd29ya2VyQnVuZGxlU3RyaW5nXSwgeyB0eXBlOiAndGV4dC9qYXZhc2NyaXB0JyB9KSk7XG4gICAgfVxufVxufVxuXG5cbmRlZmluZShbXCJleHBvcnRzXCJdLChmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjt2YXIgdD1cInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnt9LGk9XCIzLjAuMVwiO2xldCByO2NvbnN0IG49e0FQSV9VUkw6XCJodHRwczovL2FwaS5tYXBib3guY29tXCIsZ2V0IEFQSV9VUkxfUkVHRVgoKXtpZihudWxsPT1yKXtjb25zdCBlPS9eKChodHRwcz86KT9cXC9cXC8pPyhbXlxcL10rXFwuKT9tYXBib3hcXC5jKG58b20pKFxcL3xcXD98JCkvaTt0cnl7cj1udWxsIT1wcm9jZXNzLmVudi5BUElfVVJMX1JFR0VYP25ldyBSZWdFeHAocHJvY2Vzcy5lbnYuQVBJX1VSTF9SRUdFWCk6ZTt9Y2F0Y2godCl7cj1lO319cmV0dXJuIHJ9LGdldCBBUElfVElMRUpTT05fUkVHRVgoKXtyZXR1cm4gL14oKGh0dHBzPzopP1xcL1xcLyk/KFteXFwvXStcXC4pP21hcGJveFxcLmMobnxvbSkoXFwvdlswLTldKlxcLy4qXFwuanNvbi4qJCkvaX0sZ2V0IEFQSV9TUFJJVEVfUkVHRVgoKXtyZXR1cm4gL14oKGh0dHBzPzopP1xcL1xcLyk/KFteXFwvXStcXC4pP21hcGJveFxcLmMobnxvbSkoXFwvc3R5bGVzXFwvdlswLTldKlxcLykoLipcXC9zcHJpdGUuKlxcLi4qJCkvaX0sZ2V0IEFQSV9GT05UU19SRUdFWCgpe3JldHVybiAvXigoaHR0cHM/Oik/XFwvXFwvKT8oW15cXC9dK1xcLik/bWFwYm94XFwuYyhufG9tKShcXC9mb250c1xcL3ZbMC05XSpcXC8pKC4qXFwucGJmLiokKS9pfSxnZXQgQVBJX1NUWUxFX1JFR0VYKCl7cmV0dXJuIC9eKChodHRwcz86KT9cXC9cXC8pPyhbXlxcL10rXFwuKT9tYXBib3hcXC5jKG58b20pKFxcL3N0eWxlc1xcL3ZbMC05XSpcXC8pKC4qJCkvaX0sZ2V0IEFQSV9DRE5fVVJMX1JFR0VYKCl7cmV0dXJuIC9eKChodHRwcz86KT9cXC9cXC8pP2FwaVxcLm1hcGJveFxcLmMobnxvbSkoXFwvbWFwYm94LWdsLWpzXFwvKSguKiQpL2l9LGdldCBFVkVOVFNfVVJMKCl7aWYoIW4uQVBJX1VSTClyZXR1cm4gbnVsbDt0cnl7Y29uc3QgZT1uZXcgVVJMKG4uQVBJX1VSTCk7cmV0dXJuIFwiYXBpLm1hcGJveC5jblwiPT09ZS5ob3N0bmFtZT9cImh0dHBzOi8vZXZlbnRzLm1hcGJveC5jbi9ldmVudHMvdjJcIjpcImFwaS5tYXBib3guY29tXCI9PT1lLmhvc3RuYW1lP1wiaHR0cHM6Ly9ldmVudHMubWFwYm94LmNvbS9ldmVudHMvdjJcIjpudWxsfWNhdGNoKGUpe3JldHVybiBudWxsfX0sU0VTU0lPTl9QQVRIOlwiL21hcC1zZXNzaW9ucy92MVwiLEZFRURCQUNLX1VSTDpcImh0dHBzOi8vYXBwcy5tYXBib3guY29tL2ZlZWRiYWNrXCIsVElMRV9VUkxfVkVSU0lPTjpcInY0XCIsUkFTVEVSX1VSTF9QUkVGSVg6XCJyYXN0ZXIvdjFcIixSRVFVSVJFX0FDQ0VTU19UT0tFTjohMCxBQ0NFU1NfVE9LRU46bnVsbCxERUZBVUxUX1NUWUxFOlwibWFwYm94Oi8vc3R5bGVzL21hcGJveC9zdGFuZGFyZFwiLE1BWF9QQVJBTExFTF9JTUFHRV9SRVFVRVNUUzoxNixEUkFDT19VUkw6XCJodHRwczovL2FwaS5tYXBib3guY29tL21hcGJveC1nbC1qcy9kcmFjb19kZWNvZGVyX2dsdGZfdjEuNS42Lndhc21cIixHTFlQSFNfVVJMOlwibWFwYm94Oi8vZm9udHMvbWFwYm94L3tmb250c3RhY2t9L3tyYW5nZX0ucGJmXCJ9LG89e3N1cHBvcnRlZDohMSx0ZXN0U3VwcG9ydDpmdW5jdGlvbihlKXshbCYmYSYmKGM/aChlKTpzPWUpO319O2xldCBzLGEsbD0hMSxjPSExO2Z1bmN0aW9uIGgoZSl7Y29uc3QgdD1lLmNyZWF0ZVRleHR1cmUoKTtlLmJpbmRUZXh0dXJlKGUuVEVYVFVSRV8yRCx0KTt0cnl7aWYoZS50ZXhJbWFnZTJEKGUuVEVYVFVSRV8yRCwwLGUuUkdCQSxlLlJHQkEsZS5VTlNJR05FRF9CWVRFLGEpLGUuaXNDb250ZXh0TG9zdCgpKXJldHVybjtvLnN1cHBvcnRlZD0hMDt9Y2F0Y2goZSl7fWUuZGVsZXRlVGV4dHVyZSh0KSxsPSEwO310LmRvY3VtZW50JiYoYT10LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiksYS5vbmxvYWQ9ZnVuY3Rpb24oKXtzJiZoKHMpLHM9bnVsbCxjPSEwO30sYS5vbmVycm9yPWZ1bmN0aW9uKCl7bD0hMCxzPW51bGw7fSxhLnNyYz1cImRhdGE6aW1hZ2Uvd2VicDtiYXNlNjQsVWtsR1JoNEFBQUJYUlVKUVZsQTRUQkVBQUFBdkFRQUFBQWZRLy83M3YvK0JpT2gvQUFBPVwiKTtjb25zdCB1PVwiMDFcIjtmdW5jdGlvbiBkKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGUmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVmYXVsdFwiKT9lLmRlZmF1bHQ6ZX12YXIgcD1mO2Z1bmN0aW9uIGYoZSx0LGkscil7dGhpcy5jeD0zKmUsdGhpcy5ieD0zKihpLWUpLXRoaXMuY3gsdGhpcy5heD0xLXRoaXMuY3gtdGhpcy5ieCx0aGlzLmN5PTMqdCx0aGlzLmJ5PTMqKHItdCktdGhpcy5jeSx0aGlzLmF5PTEtdGhpcy5jeS10aGlzLmJ5LHRoaXMucDF4PWUsdGhpcy5wMXk9dCx0aGlzLnAyeD1pLHRoaXMucDJ5PXI7fWYucHJvdG90eXBlPXtzYW1wbGVDdXJ2ZVg6ZnVuY3Rpb24oZSl7cmV0dXJuICgodGhpcy5heCplK3RoaXMuYngpKmUrdGhpcy5jeCkqZX0sc2FtcGxlQ3VydmVZOmZ1bmN0aW9uKGUpe3JldHVybiAoKHRoaXMuYXkqZSt0aGlzLmJ5KSplK3RoaXMuY3kpKmV9LHNhbXBsZUN1cnZlRGVyaXZhdGl2ZVg6ZnVuY3Rpb24oZSl7cmV0dXJuICgzKnRoaXMuYXgqZSsyKnRoaXMuYngpKmUrdGhpcy5jeH0sc29sdmVDdXJ2ZVg6ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT10JiYodD0xZS02KSxlPDApcmV0dXJuIDA7aWYoZT4xKXJldHVybiAxO2Zvcih2YXIgaT1lLHI9MDtyPDg7cisrKXt2YXIgbj10aGlzLnNhbXBsZUN1cnZlWChpKS1lO2lmKE1hdGguYWJzKG4pPHQpcmV0dXJuIGk7dmFyIG89dGhpcy5zYW1wbGVDdXJ2ZURlcml2YXRpdmVYKGkpO2lmKE1hdGguYWJzKG8pPDFlLTYpYnJlYWs7aS09bi9vO312YXIgcz0wLGE9MTtmb3IoaT1lLHI9MDtyPDIwJiYobj10aGlzLnNhbXBsZUN1cnZlWChpKSwhKE1hdGguYWJzKG4tZSk8dCkpO3IrKyllPm4/cz1pOmE9aSxpPS41KihhLXMpK3M7cmV0dXJuIGl9LHNvbHZlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc2FtcGxlQ3VydmVZKHRoaXMuc29sdmVDdXJ2ZVgoZSx0KSl9fTt2YXIgbT1kKHApLF89ZztmdW5jdGlvbiBnKGUsdCl7dGhpcy54PWUsdGhpcy55PXQ7fWcucHJvdG90eXBlPXtjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgZyh0aGlzLngsdGhpcy55KX0sYWRkOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNsb25lKCkuX2FkZChlKX0sc3ViOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNsb25lKCkuX3N1YihlKX0sbXVsdEJ5UG9pbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fbXVsdEJ5UG9pbnQoZSl9LGRpdkJ5UG9pbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fZGl2QnlQb2ludChlKX0sbXVsdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9tdWx0KGUpfSxkaXY6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fZGl2KGUpfSxyb3RhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fcm90YXRlKGUpfSxyb3RhdGVBcm91bmQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3RhdGVBcm91bmQoZSx0KX0sbWF0TXVsdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9tYXRNdWx0KGUpfSx1bml0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fdW5pdCgpfSxwZXJwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fcGVycCgpfSxyb3VuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNsb25lKCkuX3JvdW5kKCl9LG1hZzpmdW5jdGlvbigpe3JldHVybiBNYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55KX0sZXF1YWxzOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLng9PT1lLngmJnRoaXMueT09PWUueX0sZGlzdDpmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdFNxcihlKSl9LGRpc3RTcXI6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS54LXRoaXMueCxpPWUueS10aGlzLnk7cmV0dXJuIHQqdCtpKml9LGFuZ2xlOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy55LHRoaXMueCl9LGFuZ2xlVG86ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy55LWUueSx0aGlzLngtZS54KX0sYW5nbGVXaXRoOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFuZ2xlV2l0aFNlcChlLngsZS55KX0sYW5nbGVXaXRoU2VwOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy54KnQtdGhpcy55KmUsdGhpcy54KmUrdGhpcy55KnQpfSxfbWF0TXVsdDpmdW5jdGlvbihlKXt2YXIgdD1lWzJdKnRoaXMueCtlWzNdKnRoaXMueTtyZXR1cm4gdGhpcy54PWVbMF0qdGhpcy54K2VbMV0qdGhpcy55LHRoaXMueT10LHRoaXN9LF9hZGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCs9ZS54LHRoaXMueSs9ZS55LHRoaXN9LF9zdWI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueC09ZS54LHRoaXMueS09ZS55LHRoaXN9LF9tdWx0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngqPWUsdGhpcy55Kj1lLHRoaXN9LF9kaXY6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueC89ZSx0aGlzLnkvPWUsdGhpc30sX211bHRCeVBvaW50OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngqPWUueCx0aGlzLnkqPWUueSx0aGlzfSxfZGl2QnlQb2ludDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Lz1lLngsdGhpcy55Lz1lLnksdGhpc30sX3VuaXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGl2KHRoaXMubWFnKCkpLHRoaXN9LF9wZXJwOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy55O3JldHVybiB0aGlzLnk9dGhpcy54LHRoaXMueD0tZSx0aGlzfSxfcm90YXRlOmZ1bmN0aW9uKGUpe3ZhciB0PU1hdGguY29zKGUpLGk9TWF0aC5zaW4oZSkscj1pKnRoaXMueCt0KnRoaXMueTtyZXR1cm4gdGhpcy54PXQqdGhpcy54LWkqdGhpcy55LHRoaXMueT1yLHRoaXN9LF9yb3RhdGVBcm91bmQ6ZnVuY3Rpb24oZSx0KXt2YXIgaT1NYXRoLmNvcyhlKSxyPU1hdGguc2luKGUpLG49dC55K3IqKHRoaXMueC10LngpK2kqKHRoaXMueS10LnkpO3JldHVybiB0aGlzLng9dC54K2kqKHRoaXMueC10LngpLXIqKHRoaXMueS10LnkpLHRoaXMueT1uLHRoaXN9LF9yb3VuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLng9TWF0aC5yb3VuZCh0aGlzLngpLHRoaXMueT1NYXRoLnJvdW5kKHRoaXMueSksdGhpc319LGcuY29udmVydD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGc/ZTpBcnJheS5pc0FycmF5KGUpP25ldyBnKGVbMF0sZVsxXSk6ZX07dmFyIHk9ZChfKTtmdW5jdGlvbiB4KGUsdCl7aWYoQXJyYXkuaXNBcnJheShlKSl7aWYoIUFycmF5LmlzQXJyYXkodCl8fGUubGVuZ3RoIT09dC5sZW5ndGgpcmV0dXJuICExO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKCF4KGVbaV0sdFtpXSkpcmV0dXJuICExO3JldHVybiAhMH1pZihcIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJm51bGwhPT10KXtpZihcIm9iamVjdFwiIT10eXBlb2YgdClyZXR1cm4gITE7aWYoT2JqZWN0LmtleXMoZSkubGVuZ3RoIT09T2JqZWN0LmtleXModCkubGVuZ3RoKXJldHVybiAhMTtmb3IoY29uc3QgaSBpbiBlKWlmKCF4KGVbaV0sdFtpXSkpcmV0dXJuICExO3JldHVybiAhMH1yZXR1cm4gZT09PXR9Y29uc3Qgdj1NYXRoLlBJLzE4MCxiPTE4MC9NYXRoLlBJO2Z1bmN0aW9uIHcoZSl7cmV0dXJuIGUqdn1mdW5jdGlvbiBUKGUpe3JldHVybiBlKmJ9Y29uc3QgRT1bWzAsMF0sWzEsMF0sWzEsMV0sWzAsMV1dO2Z1bmN0aW9uIE0oZSl7aWYoZTw9MClyZXR1cm4gMDtpZihlPj0xKXJldHVybiAxO2NvbnN0IHQ9ZSplLGk9dCplO3JldHVybiA0KihlPC41P2k6MyooZS10KStpLS43NSl9ZnVuY3Rpb24gQShlKXtsZXQgdD0xLzAsaT0xLzAscj0tMS8wLG49LTEvMDtmb3IoY29uc3QgbyBvZiBlKXQ9TWF0aC5taW4odCxvLngpLGk9TWF0aC5taW4oaSxvLnkpLHI9TWF0aC5tYXgocixvLngpLG49TWF0aC5tYXgobixvLnkpO3JldHVybiB7bWluOm5ldyB5KHQsaSksbWF4Om5ldyB5KHIsbil9fWZ1bmN0aW9uIFMoZSx0LGk9MCxyPSEwKXtjb25zdCBuPW5ldyB5KGksaSksbz1lLnN1YihuKSxzPXQuYWRkKG4pLGE9W28sbmV3IHkocy54LG8ueSkscyxuZXcgeShvLngscy55KV07cmV0dXJuIHImJmEucHVzaChvLmNsb25lKCkpLGF9ZnVuY3Rpb24gSShlLHQsaSxyKXtjb25zdCBuPW5ldyBtKGUsdCxpLHIpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbi5zb2x2ZShlKX19Y29uc3QgQz1JKC4yNSwuMSwuMjUsMSk7ZnVuY3Rpb24geihlLHQsaSl7cmV0dXJuIE1hdGgubWluKGksTWF0aC5tYXgodCxlKSl9ZnVuY3Rpb24gRChlLHQsaSl7cmV0dXJuIChpPXooKGktZSkvKHQtZSksMCwxKSkqaSooMy0yKmkpfWZ1bmN0aW9uIFAoZSx0LGkpe2NvbnN0IHI9aS10LG49KChlLXQpJXIrciklcit0O3JldHVybiBuPT09dD9pOm59ZnVuY3Rpb24gUihlLHQsaSl7aWYoIWUubGVuZ3RoKXJldHVybiBpKG51bGwsW10pO2xldCByPWUubGVuZ3RoO2NvbnN0IG49bmV3IEFycmF5KGUubGVuZ3RoKTtsZXQgbz1udWxsO2UuZm9yRWFjaCgoKGUscyk9Pnt0KGUsKChlLHQpPT57ZSYmKG89ZSksbltzXT10LDA9PS0tciYmaShvLG4pO30pKTt9KSk7fWZ1bmN0aW9uIEwoZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgaSBpbiBlKXQucHVzaChlW2ldKTtyZXR1cm4gdH1mdW5jdGlvbiBrKGUsLi4udCl7Zm9yKGNvbnN0IGkgb2YgdClmb3IoY29uc3QgdCBpbiBpKWVbdF09aVt0XTtyZXR1cm4gZX1mdW5jdGlvbiBPKGUsdCl7Y29uc3QgaT17fTtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3Qgbj10W3JdO24gaW4gZSYmKGlbbl09ZVtuXSk7fXJldHVybiBpfWxldCBCPTE7ZnVuY3Rpb24gRigpe3JldHVybiBCKyt9ZnVuY3Rpb24gTigpe3JldHVybiBmdW5jdGlvbiBlKHQpe3JldHVybiB0Pyh0Xk1hdGgucmFuZG9tKCkqKDE2Pj50LzQpKS50b1N0cmluZygxNik6KFsxZTddKy1bMWUzXSstNGUzKy04ZTMrLTFlMTEpLnJlcGxhY2UoL1swMThdL2csZSl9KCl9ZnVuY3Rpb24gVShlKXtyZXR1cm4gZTw9MT8xOk1hdGgucG93KDIsTWF0aC5jZWlsKE1hdGgubG9nKGUpL01hdGguTE4yKSl9ZnVuY3Rpb24gVihlKXtyZXR1cm4gISFlJiYvXlswLTlhLWZdezh9LVswLTlhLWZdezR9LVs0XVswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfSQvaS50ZXN0KGUpfWZ1bmN0aW9uIGooZSx0KXtlLmZvckVhY2goKGU9Pnt0W2VdJiYodFtlXT10W2VdLmJpbmQodCkpO30pKTt9ZnVuY3Rpb24gRyhlLHQpe3JldHVybiAtMSE9PWUuaW5kZXhPZih0LGUubGVuZ3RoLXQubGVuZ3RoKX1mdW5jdGlvbiBxKGUsdCxpKXtjb25zdCByPXt9O2Zvcihjb25zdCBuIGluIGUpcltuXT10LmNhbGwoaXx8dGhpcyxlW25dLG4sZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gWihlLHQsaSl7Y29uc3Qgcj17fTtmb3IoY29uc3QgbiBpbiBlKXQuY2FsbChpfHx0aGlzLGVbbl0sbixlKSYmKHJbbl09ZVtuXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gJChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lLm1hcCgkKTpcIm9iamVjdFwiPT10eXBlb2YgZSYmZT9xKGUsJCk6ZX1jb25zdCBIPXt9O2Z1bmN0aW9uIFcoZSl7SFtlXXx8KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlLndhcm4oZSksSFtlXT0hMCk7fWZ1bmN0aW9uIFgoZSx0LGkpe3JldHVybiAoaS55LWUueSkqKHQueC1lLngpPih0LnktZS55KSooaS54LWUueCl9ZnVuY3Rpb24gWShlKXtsZXQgdD0wO2ZvcihsZXQgaSxyLG49MCxvPWUubGVuZ3RoLHM9by0xO248bztzPW4rKylpPWVbbl0scj1lW3NdLHQrPShyLngtaS54KSooaS55K3IueSk7cmV0dXJuIHR9ZnVuY3Rpb24gSyhbZSx0LGldKXtjb25zdCByPXcodCs5MCksbj13KGkpO3JldHVybiB7eDplKk1hdGguY29zKHIpKk1hdGguc2luKG4pLHk6ZSpNYXRoLnNpbihyKSpNYXRoLnNpbihuKSx6OmUqTWF0aC5jb3MobiksYXppbXV0aGFsOnQscG9sYXI6aX19ZnVuY3Rpb24gSihlLHQsaSl7Y29uc3Qgcj1NYXRoLnNxcnQoZSplK3QqdCtpKmkpLG49cj4wP01hdGguYWNvcyhpL3IpKmI6MDtsZXQgbz0wIT09ZXx8MCE9PXQ/TWF0aC5hdGFuMigtdCwtZSkqYis5MDowO3JldHVybiBvPDAmJihvKz0zNjApLFtyLG8sbl19ZnVuY3Rpb24gUSgpe3JldHVybiBcInVuZGVmaW5lZFwiIT10eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGV9ZnVuY3Rpb24gZWUoZSl7Y29uc3QgdD17fTtpZihlLnJlcGxhY2UoLyg/Ol58KD86XFxzKlxcLFxccyopKShbXlxceDAwLVxceDIwXFwoXFwpPD5AXFwsO1xcOlxcXFxcIlxcL1xcW1xcXVxcP1xcPVxce1xcfVxceDdGXSspKD86XFw9KD86KFteXFx4MDAtXFx4MjBcXChcXCk8PkBcXCw7XFw6XFxcXFwiXFwvXFxbXFxdXFw/XFw9XFx7XFx9XFx4N0ZdKyl8KD86XFxcIigoPzpbXlwiXFxcXF18XFxcXC4pKilcXFwiKSkpPy9nLCgoZSxpLHIsbik9Pntjb25zdCBvPXJ8fG47cmV0dXJuIHRbaV09IW98fG8udG9Mb3dlckNhc2UoKSxcIlwifSkpLHRbXCJtYXgtYWdlXCJdKXtjb25zdCBlPXBhcnNlSW50KHRbXCJtYXgtYWdlXCJdLDEwKTtpc05hTihlKT9kZWxldGUgdFtcIm1heC1hZ2VcIl06dFtcIm1heC1hZ2VcIl09ZTt9cmV0dXJuIHR9bGV0IHRlPW51bGw7ZnVuY3Rpb24gaWUoKXtyZXR1cm4gISF0LmRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50fHwhIXQuZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnR9ZnVuY3Rpb24gcmUoZSl7dHJ5e2NvbnN0IGk9dFtlXTtyZXR1cm4gaS5zZXRJdGVtKFwiX21hcGJveF90ZXN0X1wiLDEpLGkucmVtb3ZlSXRlbShcIl9tYXBib3hfdGVzdF9cIiksITB9Y2F0Y2goZSl7cmV0dXJuICExfX1mdW5jdGlvbiBuZShlLHQpe3JldHVybiBbZVs0KnRdLGVbNCp0KzFdLGVbNCp0KzJdLGVbNCp0KzNdXX1mdW5jdGlvbiBvZShlLHQsaSl7ZVs0KnQrMF09aVswXSxlWzQqdCsxXT1pWzFdLGVbNCp0KzJdPWlbMl0sZVs0KnQrM109aVszXTt9ZnVuY3Rpb24gc2UoZSx0KXtyZXR1cm4gW01hdGgucG93KGVbMF0sMi4yKSp0LE1hdGgucG93KGVbMV0sMi4yKSp0LE1hdGgucG93KGVbMl0sMi4yKSp0XX1mdW5jdGlvbiBhZShlKXtyZXR1cm4gW01hdGgucG93KGVbMF0sMS8yLjIpLE1hdGgucG93KGVbMV0sMS8yLjIpLE1hdGgucG93KGVbMl0sMS8yLjIpXX1jb25zdCBsZT1cIm1hcGJveC10aWxlc1wiO2xldCBjZT01MDAsaGU9NTA7bGV0IHVlLGRlO2Z1bmN0aW9uIHBlKCl7dHJ5e3JldHVybiB0LmNhY2hlc31jYXRjaChlKXt9fWZ1bmN0aW9uIGZlKCl7cGUoKSYmIXVlJiYodWU9dC5jYWNoZXMub3BlbihsZSkpO31mdW5jdGlvbiBtZShlKXtjb25zdCB0PWUuaW5kZXhPZihcIj9cIik7aWYodDwwKXJldHVybiBlO2NvbnN0IGk9ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmluZGV4T2YoXCI/XCIpO3JldHVybiB0PjA/ZS5zbGljZSh0KzEpLnNwbGl0KFwiJlwiKTpbXX0oZSkscj1pLmZpbHRlcigoZT0+e2NvbnN0IHQ9ZS5zcGxpdChcIj1cIik7cmV0dXJuIFwibGFuZ3VhZ2VcIj09PXRbMF18fFwid29ybGR2aWV3XCI9PT10WzBdfSkpO3JldHVybiByLmxlbmd0aD9gJHtlLnNsaWNlKDAsdCl9PyR7ci5qb2luKFwiJlwiKX1gOmUuc2xpY2UoMCx0KX1sZXQgX2U9MS8wO2Z1bmN0aW9uIGdlKGUpe19lKyssX2U+aGUmJihlLmdldEFjdG9yKCkuc2VuZChcImVuZm9yY2VDYWNoZVNpemVMaW1pdFwiLGNlKSxfZT0wKTt9Y29uc3QgeWU9e1Vua25vd246XCJVbmtub3duXCIsU3R5bGU6XCJTdHlsZVwiLFNvdXJjZTpcIlNvdXJjZVwiLFRpbGU6XCJUaWxlXCIsR2x5cGhzOlwiR2x5cGhzXCIsU3ByaXRlSW1hZ2U6XCJTcHJpdGVJbWFnZVwiLFNwcml0ZUpTT046XCJTcHJpdGVKU09OXCIsSW1hZ2U6XCJJbWFnZVwiLE1vZGVsOlwiTW9kZWxcIn07XCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmZyZWV6ZSYmT2JqZWN0LmZyZWV6ZSh5ZSk7Y2xhc3MgeGUgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlLHQsaSl7NDAxPT09dCYmUGUoaSkmJihlKz1cIjogeW91IG1heSBoYXZlIHByb3ZpZGVkIGFuIGludmFsaWQgTWFwYm94IGFjY2VzcyB0b2tlbi4gU2VlIGh0dHBzOi8vZG9jcy5tYXBib3guY29tL2FwaS9vdmVydmlldy8jYWNjZXNzLXRva2Vucy1hbmQtdG9rZW4tc2NvcGVzXCIpLHN1cGVyKGUpLHRoaXMuc3RhdHVzPXQsdGhpcy51cmw9aTt9dG9TdHJpbmcoKXtyZXR1cm4gYCR7dGhpcy5uYW1lfTogJHt0aGlzLm1lc3NhZ2V9ICgke3RoaXMuc3RhdHVzfSk6ICR7dGhpcy51cmx9YH19Y29uc3QgdmU9USgpPygpPT5zZWxmLndvcmtlciYmc2VsZi53b3JrZXIucmVmZXJyZXI6KCk9PihcImJsb2I6XCI9PT10LmxvY2F0aW9uLnByb3RvY29sP3QucGFyZW50OnQpLmxvY2F0aW9uLmhyZWY7Y29uc3QgYmU9ZnVuY3Rpb24oZSxpKXtpZighKC9eZmlsZTovLnRlc3Qocj1lLnVybCl8fC9eZmlsZTovLnRlc3QodmUoKSkmJiEvXlxcdys6Ly50ZXN0KHIpKSl7aWYodC5mZXRjaCYmdC5SZXF1ZXN0JiZ0LkFib3J0Q29udHJvbGxlciYmdC5SZXF1ZXN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShcInNpZ25hbFwiKSlyZXR1cm4gZnVuY3Rpb24oZSxpKXtjb25zdCByPW5ldyB0LkFib3J0Q29udHJvbGxlcixuPW5ldyB0LlJlcXVlc3QoZS51cmwse21ldGhvZDplLm1ldGhvZHx8XCJHRVRcIixib2R5OmUuYm9keSxjcmVkZW50aWFsczplLmNyZWRlbnRpYWxzLGhlYWRlcnM6ZS5oZWFkZXJzLHJlZmVycmVyOnZlKCkscmVmZXJyZXJQb2xpY3k6ZS5yZWZlcnJlclBvbGljeSxzaWduYWw6ci5zaWduYWx9KTtsZXQgbz0hMSxzPSExO2NvbnN0IGE9KGw9bi51cmwpLmluZGV4T2YoXCJza3U9XCIpPjAmJlBlKGwpO3ZhciBsO1wianNvblwiPT09ZS50eXBlJiZuLmhlYWRlcnMuc2V0KFwiQWNjZXB0XCIsXCJhcHBsaWNhdGlvbi9qc29uXCIpO2NvbnN0IGM9KHIsbyxsKT0+e2lmKHMpcmV0dXJuO2lmKHImJlwiU2VjdXJpdHlFcnJvclwiIT09ci5tZXNzYWdlJiZXKHIudG9TdHJpbmcoKSksbyYmbClyZXR1cm4gaChvKTtjb25zdCBjPURhdGUubm93KCk7dC5mZXRjaChuKS50aGVuKCh0PT57aWYodC5vayl7Y29uc3QgZT1hP3QuY2xvbmUoKTpudWxsO3JldHVybiBoKHQsZSxjKX1yZXR1cm4gaShuZXcgeGUodC5zdGF0dXNUZXh0LHQuc3RhdHVzLGUudXJsKSl9KSkuY2F0Y2goKHQ9PntcIkFib3J0RXJyb3JcIiE9PXQubmFtZSYmaShuZXcgRXJyb3IoYCR7dC5tZXNzYWdlfSAke2UudXJsfWApKTt9KSk7fSxoPShyLGEsbCk9PnsoXCJhcnJheUJ1ZmZlclwiPT09ZS50eXBlP3IuYXJyYXlCdWZmZXIoKTpcImpzb25cIj09PWUudHlwZT9yLmpzb24oKTpyLnRleHQoKSkudGhlbigoZT0+e3N8fChhJiZsJiZmdW5jdGlvbihlLGkscil7aWYoZmUoKSwhdWUpcmV0dXJuO2NvbnN0IG49e3N0YXR1czppLnN0YXR1cyxzdGF0dXNUZXh0Omkuc3RhdHVzVGV4dCxoZWFkZXJzOm5ldyB0LkhlYWRlcnN9O2kuaGVhZGVycy5mb3JFYWNoKCgoZSx0KT0+bi5oZWFkZXJzLnNldCh0LGUpKSk7Y29uc3Qgbz1lZShpLmhlYWRlcnMuZ2V0KFwiQ2FjaGUtQ29udHJvbFwiKXx8XCJcIik7aWYob1tcIm5vLXN0b3JlXCJdKXJldHVybjtvW1wibWF4LWFnZVwiXSYmbi5oZWFkZXJzLnNldChcIkV4cGlyZXNcIixuZXcgRGF0ZShyKzFlMypvW1wibWF4LWFnZVwiXSkudG9VVENTdHJpbmcoKSk7Y29uc3Qgcz1uLmhlYWRlcnMuZ2V0KFwiRXhwaXJlc1wiKTtzJiYobmV3IERhdGUocykuZ2V0VGltZSgpLXI8NDJlNHx8ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT1kZSl0cnl7bmV3IFJlc3BvbnNlKG5ldyBSZWFkYWJsZVN0cmVhbSksZGU9ITA7fWNhdGNoKGUpe2RlPSExO31kZT90KGUuYm9keSk6ZS5ibG9iKCkudGhlbih0KTt9KGksKGk9Pntjb25zdCByPW5ldyB0LlJlc3BvbnNlKGksbik7ZmUoKSx1ZSYmdWUudGhlbigodD0+dC5wdXQobWUoZS51cmwpLHIpKSkuY2F0Y2goKGU9PlcoZS5tZXNzYWdlKSkpO30pKSk7fShuLGEsbCksbz0hMCxpKG51bGwsZSxyLmhlYWRlcnMuZ2V0KFwiQ2FjaGUtQ29udHJvbFwiKSxyLmhlYWRlcnMuZ2V0KFwiRXhwaXJlc1wiKSkpO30pKS5jYXRjaCgoZT0+e3N8fGkobmV3IEVycm9yKGUubWVzc2FnZSkpO30pKTt9O3JldHVybiBhP2Z1bmN0aW9uKGUsdCl7aWYoZmUoKSwhdWUpcmV0dXJuIHQobnVsbCk7Y29uc3QgaT1tZShlLnVybCk7dWUudGhlbigoZT0+e2UubWF0Y2goaSkudGhlbigocj0+e2NvbnN0IG49ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuICExO2NvbnN0IHQ9bmV3IERhdGUoZS5oZWFkZXJzLmdldChcIkV4cGlyZXNcIil8fDApLGk9ZWUoZS5oZWFkZXJzLmdldChcIkNhY2hlLUNvbnRyb2xcIil8fFwiXCIpO3JldHVybiB0PkRhdGUubm93KCkmJiFpW1wibm8tY2FjaGVcIl19KHIpO2UuZGVsZXRlKGkpLG4mJmUucHV0KGksci5jbG9uZSgpKSx0KG51bGwscixuKTt9KSkuY2F0Y2godCk7fSkpLmNhdGNoKHQpO30obixjKTpjKG51bGwsbnVsbCkse2NhbmNlbDooKT0+e3M9ITAsb3x8ci5hYm9ydCgpO319fShlLGkpO2lmKFEoKSYmc2VsZi53b3JrZXImJnNlbGYud29ya2VyLmFjdG9yKXJldHVybiBzZWxmLndvcmtlci5hY3Rvci5zZW5kKFwiZ2V0UmVzb3VyY2VcIixlLGksdm9pZCAwLCEwKX12YXIgcjtyZXR1cm4gZnVuY3Rpb24oZSxpKXtjb25zdCByPW5ldyB0LlhNTEh0dHBSZXF1ZXN0O3Iub3BlbihlLm1ldGhvZHx8XCJHRVRcIixlLnVybCwhMCksXCJhcnJheUJ1ZmZlclwiPT09ZS50eXBlJiYoci5yZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiKTtmb3IoY29uc3QgdCBpbiBlLmhlYWRlcnMpci5zZXRSZXF1ZXN0SGVhZGVyKHQsZS5oZWFkZXJzW3RdKTtyZXR1cm4gXCJqc29uXCI9PT1lLnR5cGUmJihyLnJlc3BvbnNlVHlwZT1cInRleHRcIixyLnNldFJlcXVlc3RIZWFkZXIoXCJBY2NlcHRcIixcImFwcGxpY2F0aW9uL2pzb25cIikpLHIud2l0aENyZWRlbnRpYWxzPVwiaW5jbHVkZVwiPT09ZS5jcmVkZW50aWFscyxyLm9uZXJyb3I9KCk9PntpKG5ldyBFcnJvcihyLnN0YXR1c1RleHQpKTt9LHIub25sb2FkPSgpPT57aWYoKHIuc3RhdHVzPj0yMDAmJnIuc3RhdHVzPDMwMHx8MD09PXIuc3RhdHVzKSYmbnVsbCE9PXIucmVzcG9uc2Upe2xldCB0PXIucmVzcG9uc2U7aWYoXCJqc29uXCI9PT1lLnR5cGUpdHJ5e3Q9SlNPTi5wYXJzZShyLnJlc3BvbnNlKTt9Y2F0Y2goZSl7cmV0dXJuIGkoZSl9aShudWxsLHQsci5nZXRSZXNwb25zZUhlYWRlcihcIkNhY2hlLUNvbnRyb2xcIiksci5nZXRSZXNwb25zZUhlYWRlcihcIkV4cGlyZXNcIikpO31lbHNlIGkobmV3IHhlKHIuc3RhdHVzVGV4dCxyLnN0YXR1cyxlLnVybCkpO30sci5zZW5kKGUuYm9keSkse2NhbmNlbDooKT0+ci5hYm9ydCgpfX0oZSxpKX0sd2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYmUoayhlLHt0eXBlOlwianNvblwifSksdCl9LFRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGJlKGsoZSx7dHlwZTpcImFycmF5QnVmZmVyXCJ9KSx0KX07ZnVuY3Rpb24gRWUoZSl7Y29uc3QgaT10LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO3JldHVybiBpLmhyZWY9ZSxpLnByb3RvY29sPT09dC5kb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCYmaS5ob3N0PT09dC5kb2N1bWVudC5sb2NhdGlvbi5ob3N0fWNvbnN0IE1lPVwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFCQ0FZQUFBQWZGY1NKQUFBQUMwbEVRVlFZVjJOZ0FBSUFBQVVBQWFyVnlGRUFBQUFBU1VWT1JLNUNZSUk9XCI7bGV0IEFlLFNlO0FlPVtdLFNlPTA7Y29uc3QgSWU9ZnVuY3Rpb24oZSxpKXtpZihvLnN1cHBvcnRlZCYmKGUuaGVhZGVyc3x8KGUuaGVhZGVycz17fSksZS5oZWFkZXJzLmFjY2VwdD1cImltYWdlL3dlYnAsKi8qXCIpLFNlPj1uLk1BWF9QQVJBTExFTF9JTUFHRV9SRVFVRVNUUyl7Y29uc3QgdD17cmVxdWVzdFBhcmFtZXRlcnM6ZSxjYWxsYmFjazppLGNhbmNlbGxlZDohMSxjYW5jZWwoKXt0aGlzLmNhbmNlbGxlZD0hMDt9fTtyZXR1cm4gQWUucHVzaCh0KSx0fVNlKys7bGV0IHI9ITE7Y29uc3Qgcz0oKT0+e2lmKCFyKWZvcihyPSEwLFNlLS07QWUubGVuZ3RoJiZTZTxuLk1BWF9QQVJBTExFTF9JTUFHRV9SRVFVRVNUUzspe2NvbnN0IGU9QWUuc2hpZnQoKSx7cmVxdWVzdFBhcmFtZXRlcnM6dCxjYWxsYmFjazppLGNhbmNlbGxlZDpyfT1lO3J8fChlLmNhbmNlbD1JZSh0LGkpLmNhbmNlbCk7fX0sYT1UZShlLCgoZSxyLG4sbyk9PntzKCksZT9pKGUpOnImJih0LmNyZWF0ZUltYWdlQml0bWFwP2Z1bmN0aW9uKGUsaSl7Y29uc3Qgcj1uZXcgdC5CbG9iKFtuZXcgVWludDhBcnJheShlKV0se3R5cGU6XCJpbWFnZS9wbmdcIn0pO3QuY3JlYXRlSW1hZ2VCaXRtYXAocikudGhlbigoZT0+e2kobnVsbCxlKTt9KSkuY2F0Y2goKGU9PntpKG5ldyBFcnJvcihgQ291bGQgbm90IGxvYWQgaW1hZ2UgYmVjYXVzZSBvZiAke2UubWVzc2FnZX0uIFBsZWFzZSBtYWtlIHN1cmUgdG8gdXNlIGEgc3VwcG9ydGVkIGltYWdlIHR5cGUgc3VjaCBhcyBQTkcgb3IgSlBFRy4gTm90ZSB0aGF0IFNWR3MgYXJlIG5vdCBzdXBwb3J0ZWQuYCkpO30pKTt9KHIsKChlLHQpPT5pKGUsdCxuLG8pKSk6ZnVuY3Rpb24oZSxpKXtjb25zdCByPW5ldyB0LkltYWdlLG49dC5VUkw7ci5vbmxvYWQ9KCk9PntpKG51bGwsciksbi5yZXZva2VPYmplY3RVUkwoci5zcmMpLHIub25sb2FkPW51bGwsdC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpPT57ci5zcmM9TWU7fSkpO30sci5vbmVycm9yPSgpPT5pKG5ldyBFcnJvcihcIkNvdWxkIG5vdCBsb2FkIGltYWdlLiBQbGVhc2UgbWFrZSBzdXJlIHRvIHVzZSBhIHN1cHBvcnRlZCBpbWFnZSB0eXBlIHN1Y2ggYXMgUE5HIG9yIEpQRUcuIE5vdGUgdGhhdCBTVkdzIGFyZSBub3Qgc3VwcG9ydGVkLlwiKSk7Y29uc3Qgbz1uZXcgdC5CbG9iKFtuZXcgVWludDhBcnJheShlKV0se3R5cGU6XCJpbWFnZS9wbmdcIn0pO3Iuc3JjPWUuYnl0ZUxlbmd0aD9uLmNyZWF0ZU9iamVjdFVSTChvKTpNZTt9KHIsKChlLHQpPT5pKGUsdCxuLG8pKSkpO30pKTtyZXR1cm4ge2NhbmNlbDooKT0+e2EuY2FuY2VsKCkscygpO319fSxDZT1cIk5PX0FDQ0VTU19UT0tFTlwiO2NsYXNzIHple2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLl90cmFuc2Zvcm1SZXF1ZXN0Rm49ZSx0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbj10LHRoaXMuX3NpbGVuY2VBdXRoRXJyb3JzPSEhaSx0aGlzLl9jcmVhdGVTa3VUb2tlbigpO31fY3JlYXRlU2t1VG9rZW4oKXtjb25zdCBlPWZ1bmN0aW9uKCl7bGV0IGU9XCJcIjtmb3IobGV0IHQ9MDt0PDEwO3QrKyllKz1cIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXCJbTWF0aC5mbG9vcig2MipNYXRoLnJhbmRvbSgpKV07cmV0dXJuIHt0b2tlbjpbXCIxXCIsdSxlXS5qb2luKFwiXCIpLHRva2VuRXhwaXJlc0F0OkRhdGUubm93KCkrNDMyZTV9fSgpO3RoaXMuX3NrdVRva2VuPWUudG9rZW4sdGhpcy5fc2t1VG9rZW5FeHBpcmVzQXQ9ZS50b2tlbkV4cGlyZXNBdDt9X2lzU2t1VG9rZW5FeHBpcmVkKCl7cmV0dXJuIERhdGUubm93KCk+dGhpcy5fc2t1VG9rZW5FeHBpcmVzQXR9dHJhbnNmb3JtUmVxdWVzdChlLHQpe3JldHVybiB0aGlzLl90cmFuc2Zvcm1SZXF1ZXN0Rm4mJnRoaXMuX3RyYW5zZm9ybVJlcXVlc3RGbihlLHQpfHx7dXJsOmV9fW5vcm1hbGl6ZVN0eWxlVVJMKGUsdCl7aWYoIURlKGUpKXJldHVybiBlO2NvbnN0IHI9QmUoZSk7cmV0dXJuIHIucGFyYW1zLnB1c2goYHNkaz1qcy0ke2l9YCksci5wYXRoPWAvc3R5bGVzL3YxJHtyLnBhdGh9YCx0aGlzLl9tYWtlQVBJVVJMKHIsdGhpcy5fY3VzdG9tQWNjZXNzVG9rZW58fHQpfW5vcm1hbGl6ZUdseXBoc1VSTChlLHQpe2lmKCFEZShlKSlyZXR1cm4gZTtjb25zdCBpPUJlKGUpO3JldHVybiBpLnBhdGg9YC9mb250cy92MSR7aS5wYXRofWAsdGhpcy5fbWFrZUFQSVVSTChpLHRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VufHx0KX1ub3JtYWxpemVNb2RlbFVSTChlLHQpe2lmKCFEZShlKSlyZXR1cm4gZTtjb25zdCBpPUJlKGUpO3JldHVybiBpLnBhdGg9YC9tb2RlbHMvdjEke2kucGF0aH1gLHRoaXMuX21ha2VBUElVUkwoaSx0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbnx8dCl9bm9ybWFsaXplU291cmNlVVJMKGUsdCxpLHIpe2lmKCFEZShlKSlyZXR1cm4gZTtjb25zdCBuPUJlKGUpO3JldHVybiBuLnBhdGg9YC92NC8ke24uYXV0aG9yaXR5fS5qc29uYCxuLnBhcmFtcy5wdXNoKFwic2VjdXJlXCIpLGkmJm4ucGFyYW1zLnB1c2goYGxhbmd1YWdlPSR7aX1gKSxyJiZuLnBhcmFtcy5wdXNoKGB3b3JsZHZpZXc9JHtyfWApLHRoaXMuX21ha2VBUElVUkwobix0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbnx8dCl9bm9ybWFsaXplU3ByaXRlVVJMKGUsdCxpLHIpe2NvbnN0IG49QmUoZSk7cmV0dXJuIERlKGUpPyhuLnBhdGg9YC9zdHlsZXMvdjEke24ucGF0aH0vc3ByaXRlJHt0fSR7aX1gLHRoaXMuX21ha2VBUElVUkwobix0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbnx8cikpOihuLnBhdGgrPWAke3R9JHtpfWAsRmUobikpfW5vcm1hbGl6ZVRpbGVVUkwoZSx0LGkpe2lmKHRoaXMuX2lzU2t1VG9rZW5FeHBpcmVkKCkmJnRoaXMuX2NyZWF0ZVNrdVRva2VuKCksZSYmIURlKGUpKXJldHVybiBlO2NvbnN0IHI9QmUoZSk7ci5wYXRoPXIucGF0aC5yZXBsYWNlKC8oXFwuKHBuZ3xqcGcpXFxkKikoPz0kKS8sYCR7dHx8aSYmXCJyYXN0ZXJcIiE9PXIuYXV0aG9yaXR5JiY1MTI9PT1pP1wiQDJ4XCI6XCJcIn0ke28uc3VwcG9ydGVkP1wiLndlYnBcIjpcIiQxXCJ9YCksXCJyYXN0ZXJcIj09PXIuYXV0aG9yaXR5P3IucGF0aD1gLyR7bi5SQVNURVJfVVJMX1BSRUZJWH0ke3IucGF0aH1gOihyLnBhdGg9ci5wYXRoLnJlcGxhY2UoL14uK1xcL3Y0XFwvLyxcIi9cIiksci5wYXRoPWAvJHtuLlRJTEVfVVJMX1ZFUlNJT059JHtyLnBhdGh9YCk7Y29uc3Qgcz10aGlzLl9jdXN0b21BY2Nlc3NUb2tlbnx8ZnVuY3Rpb24oZSl7Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT10Lm1hdGNoKC9eYWNjZXNzX3Rva2VuPSguKikkLyk7aWYoZSlyZXR1cm4gZVsxXX1yZXR1cm4gbnVsbH0oci5wYXJhbXMpfHxuLkFDQ0VTU19UT0tFTjtyZXR1cm4gbi5SRVFVSVJFX0FDQ0VTU19UT0tFTiYmcyYmdGhpcy5fc2t1VG9rZW4mJnIucGFyYW1zLnB1c2goYHNrdT0ke3RoaXMuX3NrdVRva2VufWApLHRoaXMuX21ha2VBUElVUkwocixzKX1jYW5vbmljYWxpemVUaWxlVVJMKGUsdCl7Y29uc3QgaT1CZShlKTtpZighaS5wYXRoLm1hdGNoKC9eKFxcL3Y0XFwvfFxcL3Jhc3RlclxcL3YxXFwvKS8pfHwhaS5wYXRoLm1hdGNoKC9cXC5bXFx3XSskLykpcmV0dXJuIGU7bGV0IHI9XCJtYXBib3g6Ly9cIjtpLnBhdGgubWF0Y2goL15cXC9yYXN0ZXJcXC92MVxcLy8pP3IrPWByYXN0ZXIvJHtpLnBhdGgucmVwbGFjZShgLyR7bi5SQVNURVJfVVJMX1BSRUZJWH0vYCxcIlwiKX1gOnIrPWB0aWxlcy8ke2kucGF0aC5yZXBsYWNlKGAvJHtuLlRJTEVfVVJMX1ZFUlNJT059L2AsXCJcIil9YDtsZXQgbz1pLnBhcmFtcztyZXR1cm4gdCYmKG89by5maWx0ZXIoKGU9PiFlLm1hdGNoKC9eYWNjZXNzX3Rva2VuPS8pKSkpLG8ubGVuZ3RoJiYocis9YD8ke28uam9pbihcIiZcIil9YCkscn1jYW5vbmljYWxpemVUaWxlc2V0KGUsdCl7Y29uc3QgaT0hIXQmJkRlKHQpLHI9W107Zm9yKGNvbnN0IHQgb2YgZS50aWxlc3x8W10pUGUodCk/ci5wdXNoKHRoaXMuY2Fub25pY2FsaXplVGlsZVVSTCh0LGkpKTpyLnB1c2godCk7cmV0dXJuIHJ9X21ha2VBUElVUkwoZSx0KXtjb25zdCBpPVwiU2VlIGh0dHBzOi8vZG9jcy5tYXBib3guY29tL2FwaS9vdmVydmlldy8jYWNjZXNzLXRva2Vucy1hbmQtdG9rZW4tc2NvcGVzXCIscj1CZShuLkFQSV9VUkwpO2lmKGUucHJvdG9jb2w9ci5wcm90b2NvbCxlLmF1dGhvcml0eT1yLmF1dGhvcml0eSxcImh0dHBcIj09PWUucHJvdG9jb2wpe2NvbnN0IHQ9ZS5wYXJhbXMuaW5kZXhPZihcInNlY3VyZVwiKTt0Pj0wJiZlLnBhcmFtcy5zcGxpY2UodCwxKTt9aWYoXCIvXCIhPT1yLnBhdGgmJihlLnBhdGg9YCR7ci5wYXRofSR7ZS5wYXRofWApLCFuLlJFUVVJUkVfQUNDRVNTX1RPS0VOKXJldHVybiBGZShlKTtpZih0PXR8fG4uQUNDRVNTX1RPS0VOLCF0aGlzLl9zaWxlbmNlQXV0aEVycm9ycyl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGBBbiBBUEkgYWNjZXNzIHRva2VuIGlzIHJlcXVpcmVkIHRvIHVzZSBNYXBib3ggR0wuICR7aX1gKTtpZihcInNcIj09PXRbMF0pdGhyb3cgbmV3IEVycm9yKGBVc2UgYSBwdWJsaWMgYWNjZXNzIHRva2VuIChway4qKSB3aXRoIE1hcGJveCBHTCwgbm90IGEgc2VjcmV0IGFjY2VzcyB0b2tlbiAoc2suKikuICR7aX1gKX1yZXR1cm4gZS5wYXJhbXM9ZS5wYXJhbXMuZmlsdGVyKChlPT4tMT09PWUuaW5kZXhPZihcImFjY2Vzc190b2tlblwiKSkpLGUucGFyYW1zLnB1c2goYGFjY2Vzc190b2tlbj0ke3R8fFwiXCJ9YCksRmUoZSl9fWZ1bmN0aW9uIERlKGUpe3JldHVybiAwPT09ZS5pbmRleE9mKFwibWFwYm94OlwiKX1mdW5jdGlvbiBQZShlKXtyZXR1cm4gbi5BUElfVVJMX1JFR0VYLnRlc3QoZSl9ZnVuY3Rpb24gUmUoZSl7cmV0dXJuIG4uQVBJX0NETl9VUkxfUkVHRVgudGVzdChlKX1mdW5jdGlvbiBMZShlKXtyZXR1cm4gbi5BUElfU1RZTEVfUkVHRVgudGVzdChlKSYmIWtlKGUpfWZ1bmN0aW9uIGtlKGUpe3JldHVybiBuLkFQSV9TUFJJVEVfUkVHRVgudGVzdChlKX1jb25zdCBPZT0vXihcXHcrKTpcXC9cXC8oW14vP10qKShcXC9bXj9dKyk/XFw/PyguKyk/LztmdW5jdGlvbiBCZShlKXtjb25zdCB0PWUubWF0Y2goT2UpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBwYXJzZSBVUkwgb2JqZWN0XCIpO3JldHVybiB7cHJvdG9jb2w6dFsxXSxhdXRob3JpdHk6dFsyXSxwYXRoOnRbM118fFwiL1wiLHBhcmFtczp0WzRdP3RbNF0uc3BsaXQoXCImXCIpOltdfX1mdW5jdGlvbiBGZShlKXtjb25zdCB0PWUucGFyYW1zLmxlbmd0aD9gPyR7ZS5wYXJhbXMuam9pbihcIiZcIil9YDpcIlwiO3JldHVybiBgJHtlLnByb3RvY29sfTovLyR7ZS5hdXRob3JpdHl9JHtlLnBhdGh9JHt0fWB9Y29uc3QgTmU9XCJtYXBib3guZXZlbnREYXRhXCI7ZnVuY3Rpb24gVWUoZSl7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3QgaT1lLnNwbGl0KFwiLlwiKTtpZighaXx8MyE9PWkubGVuZ3RoKXJldHVybiBudWxsO3RyeXtyZXR1cm4gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQodC5hdG9iKGlbMV0pLnNwbGl0KFwiXCIpLm1hcCgoZT0+XCIlXCIrKFwiMDBcIitlLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtMikpKS5qb2luKFwiXCIpKSl9Y2F0Y2goZSl7cmV0dXJuIG51bGx9fWNsYXNzIFZle2NvbnN0cnVjdG9yKGUpe3RoaXMudHlwZT1lLHRoaXMuYW5vbklkPW51bGwsdGhpcy5ldmVudERhdGE9e30sdGhpcy5xdWV1ZT1bXSx0aGlzLnBlbmRpbmdSZXF1ZXN0PW51bGw7fWdldFN0b3JhZ2VLZXkoZSl7Y29uc3QgaT1VZShuLkFDQ0VTU19UT0tFTik7bGV0IHI9XCJcIjtyZXR1cm4gcj1pJiZpLnU/dC5idG9hKGVuY29kZVVSSUNvbXBvbmVudChpLnUpLnJlcGxhY2UoLyUoWzAtOUEtRl17Mn0pL2csKChlLHQpPT5TdHJpbmcuZnJvbUNoYXJDb2RlKE51bWJlcihcIjB4XCIrdCkpKSkpOm4uQUNDRVNTX1RPS0VOfHxcIlwiLGU/YCR7TmV9LiR7ZX06JHtyfWA6YCR7TmV9OiR7cn1gfWZldGNoRXZlbnREYXRhKCl7Y29uc3QgZT1yZShcImxvY2FsU3RvcmFnZVwiKSxpPXRoaXMuZ2V0U3RvcmFnZUtleSgpLHI9dGhpcy5nZXRTdG9yYWdlS2V5KFwidXVpZFwiKTtpZihlKXRyeXtjb25zdCBlPXQubG9jYWxTdG9yYWdlLmdldEl0ZW0oaSk7ZSYmKHRoaXMuZXZlbnREYXRhPUpTT04ucGFyc2UoZSkpO2NvbnN0IG49dC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShyKTtuJiYodGhpcy5hbm9uSWQ9bik7fWNhdGNoKGUpe1coXCJVbmFibGUgdG8gcmVhZCBmcm9tIExvY2FsU3RvcmFnZVwiKTt9fXNhdmVFdmVudERhdGEoKXtjb25zdCBlPXJlKFwibG9jYWxTdG9yYWdlXCIpLGk9dGhpcy5nZXRTdG9yYWdlS2V5KCkscj10aGlzLmdldFN0b3JhZ2VLZXkoXCJ1dWlkXCIpO2lmKGUpdHJ5e3QubG9jYWxTdG9yYWdlLnNldEl0ZW0ocix0aGlzLmFub25JZCksT2JqZWN0LmtleXModGhpcy5ldmVudERhdGEpLmxlbmd0aD49MSYmdC5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShpLEpTT04uc3RyaW5naWZ5KHRoaXMuZXZlbnREYXRhKSk7fWNhdGNoKGUpe1coXCJVbmFibGUgdG8gd3JpdGUgdG8gTG9jYWxTdG9yYWdlXCIpO319cHJvY2Vzc1JlcXVlc3RzKGUpe31wb3N0RXZlbnQoZSx0LGkscil7aWYoIW4uRVZFTlRTX1VSTClyZXR1cm47Y29uc3Qgbz1CZShuLkVWRU5UU19VUkwpO28ucGFyYW1zLnB1c2goYGFjY2Vzc190b2tlbj0ke3J8fG4uQUNDRVNTX1RPS0VOfHxcIlwifWApO2NvbnN0IHM9e2V2ZW50OnRoaXMudHlwZSxjcmVhdGVkOm5ldyBEYXRlKGUpLnRvSVNPU3RyaW5nKCl9LGE9dD9rKHMsdCk6cyxsPXt1cmw6RmUobyksaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcInRleHQvcGxhaW5cIn0sYm9keTpKU09OLnN0cmluZ2lmeShbYV0pfTt0aGlzLnBlbmRpbmdSZXF1ZXN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGJlKGsoZSx7bWV0aG9kOlwiUE9TVFwifSksdCl9KGwsKGU9Pnt0aGlzLnBlbmRpbmdSZXF1ZXN0PW51bGwsaShlKSx0aGlzLnNhdmVFdmVudERhdGEoKSx0aGlzLnByb2Nlc3NSZXF1ZXN0cyhyKTt9KSk7fXF1ZXVlUmVxdWVzdChlLHQpe3RoaXMucXVldWUucHVzaChlKSx0aGlzLnByb2Nlc3NSZXF1ZXN0cyh0KTt9fWNvbnN0IGplPW5ldyBjbGFzcyBleHRlbmRzIFZle2NvbnN0cnVjdG9yKGUpe3N1cGVyKFwiYXBwVXNlclR1cm5zdGlsZVwiKSx0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbj1lO31wb3N0VHVybnN0aWxlRXZlbnQoZSx0KXtuLkVWRU5UU19VUkwmJm4uQUNDRVNTX1RPS0VOJiZBcnJheS5pc0FycmF5KGUpJiZlLnNvbWUoKGU9PkRlKGUpfHxQZShlKSkpJiZ0aGlzLnF1ZXVlUmVxdWVzdChEYXRlLm5vdygpLHQpO31wcm9jZXNzUmVxdWVzdHMoZSl7aWYodGhpcy5wZW5kaW5nUmVxdWVzdHx8MD09PXRoaXMucXVldWUubGVuZ3RoKXJldHVybjt0aGlzLmFub25JZCYmdGhpcy5ldmVudERhdGEubGFzdFN1Y2Nlc3MmJnRoaXMuZXZlbnREYXRhLnRva2VuVXx8dGhpcy5mZXRjaEV2ZW50RGF0YSgpO2NvbnN0IHQ9VWUobi5BQ0NFU1NfVE9LRU4pLHI9dD90LnU6bi5BQ0NFU1NfVE9LRU47bGV0IG89ciE9PXRoaXMuZXZlbnREYXRhLnRva2VuVTtWKHRoaXMuYW5vbklkKXx8KHRoaXMuYW5vbklkPU4oKSxvPSEwKTtjb25zdCBzPXRoaXMucXVldWUuc2hpZnQoKTtpZih0aGlzLmV2ZW50RGF0YS5sYXN0U3VjY2Vzcyl7Y29uc3QgZT1uZXcgRGF0ZSh0aGlzLmV2ZW50RGF0YS5sYXN0U3VjY2VzcyksdD1uZXcgRGF0ZShzKSxpPShzLXRoaXMuZXZlbnREYXRhLmxhc3RTdWNjZXNzKS84NjRlNTtvPW98fGk+PTF8fGk8LTF8fGUuZ2V0RGF0ZSgpIT09dC5nZXREYXRlKCk7fWVsc2Ugbz0hMDtvP3RoaXMucG9zdEV2ZW50KHMse3Nka0lkZW50aWZpZXI6XCJtYXBib3gtZ2wtanNcIixzZGtWZXJzaW9uOmksc2t1SWQ6dSxcImVuYWJsZWQudGVsZW1ldHJ5XCI6ITEsdXNlcklkOnRoaXMuYW5vbklkfSwoZT0+e2V8fCh0aGlzLmV2ZW50RGF0YS5sYXN0U3VjY2Vzcz1zLHRoaXMuZXZlbnREYXRhLnRva2VuVT1yKTt9KSxlKTp0aGlzLnByb2Nlc3NSZXF1ZXN0cygpO319LEdlPWplLnBvc3RUdXJuc3RpbGVFdmVudC5iaW5kKGplKSxxZT1uZXcgY2xhc3MgZXh0ZW5kcyBWZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKFwibWFwLmxvYWRcIiksdGhpcy5zdWNjZXNzPXt9LHRoaXMuc2t1VG9rZW49XCJcIjt9cG9zdE1hcExvYWRFdmVudChlLHQsaSxyKXt0aGlzLnNrdVRva2VuPXQsdGhpcy5lcnJvckNiPXIsbi5FVkVOVFNfVVJMJiYoaXx8bi5BQ0NFU1NfVE9LRU4/dGhpcy5xdWV1ZVJlcXVlc3Qoe2lkOmUsdGltZXN0YW1wOkRhdGUubm93KCl9LGkpOnRoaXMuZXJyb3JDYihuZXcgRXJyb3IoQ2UpKSk7fXByb2Nlc3NSZXF1ZXN0cyhlKXtpZih0aGlzLnBlbmRpbmdSZXF1ZXN0fHwwPT09dGhpcy5xdWV1ZS5sZW5ndGgpcmV0dXJuO2NvbnN0e2lkOnQsdGltZXN0YW1wOnJ9PXRoaXMucXVldWUuc2hpZnQoKTt0JiZ0aGlzLnN1Y2Nlc3NbdF18fCh0aGlzLmFub25JZHx8dGhpcy5mZXRjaEV2ZW50RGF0YSgpLFYodGhpcy5hbm9uSWQpfHwodGhpcy5hbm9uSWQ9TigpKSx0aGlzLnBvc3RFdmVudChyLHtzZGtJZGVudGlmaWVyOlwibWFwYm94LWdsLWpzXCIsc2RrVmVyc2lvbjppLHNrdUlkOnUsc2t1VG9rZW46dGhpcy5za3VUb2tlbix1c2VySWQ6dGhpcy5hbm9uSWR9LChlPT57ZT90aGlzLmVycm9yQ2IoZSk6dCYmKHRoaXMuc3VjY2Vzc1t0XT0hMCk7fSksZSkpO319LFplPXFlLnBvc3RNYXBMb2FkRXZlbnQuYmluZChxZSksJGU9bmV3IGNsYXNzIGV4dGVuZHMgVmV7Y29uc3RydWN0b3IoKXtzdXBlcihcImdsanMucGVyZm9ybWFuY2VcIik7fXBvc3RQZXJmb3JtYW5jZUV2ZW50KGUsdCl7bi5FVkVOVFNfVVJMJiYoZXx8bi5BQ0NFU1NfVE9LRU4pJiZ0aGlzLnF1ZXVlUmVxdWVzdCh7dGltZXN0YW1wOkRhdGUubm93KCkscGVyZm9ybWFuY2VEYXRhOnR9LGUpO31wcm9jZXNzUmVxdWVzdHMoZSl7aWYodGhpcy5wZW5kaW5nUmVxdWVzdHx8MD09PXRoaXMucXVldWUubGVuZ3RoKXJldHVybjtjb25zdHt0aW1lc3RhbXA6cixwZXJmb3JtYW5jZURhdGE6bn09dGhpcy5xdWV1ZS5zaGlmdCgpLG89ZnVuY3Rpb24oZSl7Y29uc3Qgcj10LnBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoXCJyZXNvdXJjZVwiKSxuPXQucGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZShcIm1hcmtcIiksbz1mdW5jdGlvbihlKXtjb25zdCB0PXt9O2lmKGUpZm9yKGNvbnN0IGkgaW4gZSlpZihcIm90aGVyXCIhPT1pKWZvcihjb25zdCByIG9mIGVbaV0pe2NvbnN0IGU9YCR7aX1SZXNvbHZlUmFuZ2VNaW5gLG49YCR7aX1SZXNvbHZlUmFuZ2VNYXhgLG89YCR7aX1SZXF1ZXN0Q291bnRgLHM9YCR7aX1SZXF1ZXN0Q2FjaGVkQ291bnRgO3RbZV09TWF0aC5taW4odFtlXXx8MS8wLHIuc3RhcnRUaW1lKSx0W25dPU1hdGgubWF4KHRbbl18fC0xLzAsci5yZXNwb25zZUVuZCk7Y29uc3QgYT1lPT57dm9pZCAwPT09dFtlXSYmKHRbZV09MCksKyt0W2VdO307dm9pZCAwIT09ci50cmFuc2ZlclNpemUmJjA9PT1yLnRyYW5zZmVyU2l6ZSYmYShzKSxhKG8pO31yZXR1cm4gdH0oZnVuY3Rpb24oZSx0KXtjb25zdCBpPXt9O2lmKGUpZm9yKGNvbnN0IHIgb2YgZSl7Y29uc3QgZT10KHIpO3ZvaWQgMD09PWlbZV0mJihpW2VdPVtdKSxpW2VdLnB1c2gocik7fXJldHVybiBpfShyLGV0KSkscz10LmRldmljZVBpeGVsUmF0aW8sYT10Lm5hdmlnYXRvci5jb25uZWN0aW9ufHx0Lm5hdmlnYXRvci5tb3pDb25uZWN0aW9ufHx0Lm5hdmlnYXRvci53ZWJraXRDb25uZWN0aW9uLGw9e2NvdW50ZXJzOltdLG1ldGFkYXRhOltdLGF0dHJpYnV0ZXM6W119LGM9KGUsdCxpKT0+e251bGwhPWkmJmUucHVzaCh7bmFtZTp0LHZhbHVlOmkudG9TdHJpbmcoKX0pO307Zm9yKGNvbnN0IGUgaW4gbyljKGwuY291bnRlcnMsZSxvW2VdKTtpZihlLmludGVyYWN0aW9uUmFuZ2VbMF0hPT0xLzAmJmUuaW50ZXJhY3Rpb25SYW5nZVsxXSE9PS0xLzAmJihjKGwuY291bnRlcnMsXCJpbnRlcmFjdGlvblJhbmdlTWluXCIsZS5pbnRlcmFjdGlvblJhbmdlWzBdKSxjKGwuY291bnRlcnMsXCJpbnRlcmFjdGlvblJhbmdlTWF4XCIsZS5pbnRlcmFjdGlvblJhbmdlWzFdKSksbilmb3IoY29uc3QgZSBvZiBPYmplY3Qua2V5cyhKZSkpe2NvbnN0IHQ9SmVbZV0saT1uLmZpbmQoKGU9PmUubmFtZT09PXQpKTtpJiZjKGwuY291bnRlcnMsdCxpLnN0YXJ0VGltZSk7fXJldHVybiBjKGwuY291bnRlcnMsXCJ2aXNpYmlsaXR5SGlkZGVuXCIsZS52aXNpYmlsaXR5SGlkZGVuKSxjKGwuYXR0cmlidXRlcyxcInN0eWxlXCIsZnVuY3Rpb24oZSl7aWYoZSlmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPXQubmFtZS5zcGxpdChcIj9cIilbMF07aWYoTGUoZSkpe2NvbnN0IHQ9ZS5zcGxpdChcIi9cIikuc2xpY2UoLTIpO2lmKDI9PT10Lmxlbmd0aClyZXR1cm4gYG1hcGJveDovL3N0eWxlcy8ke3RbMF19LyR7dFsxXX1gfX19KHIpKSxjKGwuYXR0cmlidXRlcyxcInRlcnJhaW5FbmFibGVkXCIsZS50ZXJyYWluRW5hYmxlZD9cInRydWVcIjpcImZhbHNlXCIpLGMobC5hdHRyaWJ1dGVzLFwiZm9nRW5hYmxlZFwiLGUuZm9nRW5hYmxlZD9cInRydWVcIjpcImZhbHNlXCIpLGMobC5hdHRyaWJ1dGVzLFwicHJvamVjdGlvblwiLGUucHJvamVjdGlvbiksYyhsLmF0dHJpYnV0ZXMsXCJ6b29tXCIsZS56b29tKSxjKGwubWV0YWRhdGEsXCJkZXZpY2VQaXhlbFJhdGlvXCIscyksYyhsLm1ldGFkYXRhLFwiY29ubmVjdGlvbkVmZmVjdGl2ZVR5cGVcIixhP2EuZWZmZWN0aXZlVHlwZTp2b2lkIDApLGMobC5tZXRhZGF0YSxcIm5hdmlnYXRvclVzZXJBZ2VudFwiLHQubmF2aWdhdG9yLnVzZXJBZ2VudCksYyhsLm1ldGFkYXRhLFwic2NyZWVuV2lkdGhcIix0LnNjcmVlbi53aWR0aCksYyhsLm1ldGFkYXRhLFwic2NyZWVuSGVpZ2h0XCIsdC5zY3JlZW4uaGVpZ2h0KSxjKGwubWV0YWRhdGEsXCJ3aW5kb3dXaWR0aFwiLHQuaW5uZXJXaWR0aCksYyhsLm1ldGFkYXRhLFwid2luZG93SGVpZ2h0XCIsdC5pbm5lckhlaWdodCksYyhsLm1ldGFkYXRhLFwibWFwV2lkdGhcIixlLndpZHRoL3MpLGMobC5tZXRhZGF0YSxcIm1hcEhlaWdodFwiLGUuaGVpZ2h0L3MpLGMobC5tZXRhZGF0YSxcIndlYmdsUmVuZGVyZXJcIixlLnJlbmRlcmVyKSxjKGwubWV0YWRhdGEsXCJ3ZWJnbFZlbmRvclwiLGUudmVuZG9yKSxjKGwubWV0YWRhdGEsXCJzZGtWZXJzaW9uXCIsaSksYyhsLm1ldGFkYXRhLFwic2RrSWRlbnRpZmllclwiLFwibWFwYm94LWdsLWpzXCIpLGx9KG4pO2Zvcihjb25zdCBlIG9mIG8ubWV0YWRhdGEpO2Zvcihjb25zdCBlIG9mIG8uY291bnRlcnMpO2Zvcihjb25zdCBlIG9mIG8uYXR0cmlidXRlcyk7dGhpcy5wb3N0RXZlbnQocixvLCgoKT0+e30pLGUpO319LEhlPSRlLnBvc3RQZXJmb3JtYW5jZUV2ZW50LmJpbmQoJGUpLFdlPW5ldyBjbGFzcyBleHRlbmRzIFZle2NvbnN0cnVjdG9yKCl7c3VwZXIoXCJtYXAuYXV0aFwiKSx0aGlzLnN1Y2Nlc3M9e30sdGhpcy5za3VUb2tlbj1cIlwiO31nZXRTZXNzaW9uKGUsdCxpLHIpe2lmKCFuLkFQSV9VUkx8fCFuLlNFU1NJT05fUEFUSClyZXR1cm47Y29uc3Qgbz1CZShuLkFQSV9VUkwrbi5TRVNTSU9OX1BBVEgpO28ucGFyYW1zLnB1c2goYHNrdT0ke3R8fFwiXCJ9YCksby5wYXJhbXMucHVzaChgYWNjZXNzX3Rva2VuPSR7cnx8bi5BQ0NFU1NfVE9LRU58fFwiXCJ9YCk7Y29uc3Qgcz17dXJsOkZlKG8pLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJ0ZXh0L3BsYWluXCJ9fTt0aGlzLnBlbmRpbmdSZXF1ZXN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGJlKGsoZSx7bWV0aG9kOlwiR0VUXCJ9KSx0KX0ocywoZT0+e3RoaXMucGVuZGluZ1JlcXVlc3Q9bnVsbCxpKGUpLHRoaXMuc2F2ZUV2ZW50RGF0YSgpLHRoaXMucHJvY2Vzc1JlcXVlc3RzKHIpO30pKTt9Z2V0U2Vzc2lvbkFQSShlLHQsaSxyKXt0aGlzLnNrdVRva2VuPXQsdGhpcy5lcnJvckNiPXIsbi5TRVNTSU9OX1BBVEgmJm4uQVBJX1VSTCYmKGl8fG4uQUNDRVNTX1RPS0VOP3RoaXMucXVldWVSZXF1ZXN0KHtpZDplLHRpbWVzdGFtcDpEYXRlLm5vdygpfSxpKTp0aGlzLmVycm9yQ2IobmV3IEVycm9yKENlKSkpO31wcm9jZXNzUmVxdWVzdHMoZSl7aWYodGhpcy5wZW5kaW5nUmVxdWVzdHx8MD09PXRoaXMucXVldWUubGVuZ3RoKXJldHVybjtjb25zdHtpZDp0LHRpbWVzdGFtcDppfT10aGlzLnF1ZXVlLnNoaWZ0KCk7dCYmdGhpcy5zdWNjZXNzW3RdfHx0aGlzLmdldFNlc3Npb24oaSx0aGlzLnNrdVRva2VuLChlPT57ZT90aGlzLmVycm9yQ2IoZSk6dCYmKHRoaXMuc3VjY2Vzc1t0XT0hMCk7fSksZSk7fX0sWGU9V2UuZ2V0U2Vzc2lvbkFQSS5iaW5kKFdlKSxZZT1uZXcgU2V0O2Z1bmN0aW9uIEtlKGUsdCl7dD9ZZS5hZGQoZSk6WWUuZGVsZXRlKGUpO31jb25zdCBKZT17Y3JlYXRlOlwiY3JlYXRlXCIsbG9hZDpcImxvYWRcIixmdWxsTG9hZDpcImZ1bGxMb2FkXCJ9LFFlPXttYXJrKGUpe3QucGVyZm9ybWFuY2UubWFyayhlKTt9LG1lYXN1cmUoZSxpLHIpe3QucGVyZm9ybWFuY2UubWVhc3VyZShlLGkscik7fX07ZnVuY3Rpb24gZXQoZSl7Y29uc3QgdD1lLm5hbWUuc3BsaXQoXCI/XCIpWzBdO3JldHVybiBSZSh0KSYmdC5pbmNsdWRlcyhcIm1hcGJveC1nbC5qc1wiKT9cImphdmFzY3JpcHRcIjpSZSh0KSYmdC5pbmNsdWRlcyhcIm1hcGJveC1nbC5jc3NcIik/XCJjc3NcIjpmdW5jdGlvbihlKXtyZXR1cm4gbi5BUElfRk9OVFNfUkVHRVgudGVzdChlKX0odCk/XCJmb250UmFuZ2VcIjprZSh0KT9cInNwcml0ZVwiOkxlKHQpP1wic3R5bGVcIjpmdW5jdGlvbihlKXtyZXR1cm4gbi5BUElfVElMRUpTT05fUkVHRVgudGVzdChlKX0odCk/XCJ0aWxlanNvblwiOlwib3RoZXJcIn1jb25zdCB0dD10LnBlcmZvcm1hbmNlO2Z1bmN0aW9uIGl0KGUpe2NvbnN0IHQ9ZT9lLnVybC50b1N0cmluZygpOnZvaWQgMDtyZXR1cm4gdHQuZ2V0RW50cmllc0J5TmFtZSh0KX12YXIgcnQ9bnQ7ZnVuY3Rpb24gbnQoZSl7cmV0dXJuICFmdW5jdGlvbihlKXtyZXR1cm4gXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvd3x8XCJ1bmRlZmluZWRcIj09dHlwZW9mIGRvY3VtZW50P1wibm90IGEgYnJvd3NlclwiOkFycmF5LnByb3RvdHlwZSYmQXJyYXkucHJvdG90eXBlLmV2ZXJ5JiZBcnJheS5wcm90b3R5cGUuZmlsdGVyJiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaCYmQXJyYXkucHJvdG90eXBlLmluZGV4T2YmJkFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZiYmQXJyYXkucHJvdG90eXBlLm1hcCYmQXJyYXkucHJvdG90eXBlLnNvbWUmJkFycmF5LnByb3RvdHlwZS5yZWR1Y2UmJkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCYmQXJyYXkuaXNBcnJheT9GdW5jdGlvbi5wcm90b3R5cGUmJkZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kP09iamVjdC5rZXlzJiZPYmplY3QuY3JlYXRlJiZPYmplY3QuZ2V0UHJvdG90eXBlT2YmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzJiZPYmplY3QuaXNTZWFsZWQmJk9iamVjdC5pc0Zyb3plbiYmT2JqZWN0LmlzRXh0ZW5zaWJsZSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciYmT2JqZWN0LmRlZmluZVByb3BlcnR5JiZPYmplY3QuZGVmaW5lUHJvcGVydGllcyYmT2JqZWN0LnNlYWwmJk9iamVjdC5mcmVlemUmJk9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucz9cIkpTT05cImluIHdpbmRvdyYmXCJwYXJzZVwiaW4gSlNPTiYmXCJzdHJpbmdpZnlcImluIEpTT04/ZnVuY3Rpb24oKXtpZighKFwiV29ya2VyXCJpbiB3aW5kb3cmJlwiQmxvYlwiaW4gd2luZG93JiZcIlVSTFwiaW4gd2luZG93KSlyZXR1cm4gITE7dmFyIGUsdCxpPW5ldyBCbG9iKFtcIlwiXSx7dHlwZTpcInRleHQvamF2YXNjcmlwdFwifSkscj1VUkwuY3JlYXRlT2JqZWN0VVJMKGkpO3RyeXt0PW5ldyBXb3JrZXIociksZT0hMDt9Y2F0Y2godCl7ZT0hMTt9cmV0dXJuIHQmJnQudGVybWluYXRlKCksVVJMLnJldm9rZU9iamVjdFVSTChyKSxlfSgpP1wiVWludDhDbGFtcGVkQXJyYXlcImluIHdpbmRvdz9BcnJheUJ1ZmZlci5pc1ZpZXc/ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO2Uud2lkdGg9ZS5oZWlnaHQ9MTt2YXIgdD1lLmdldENvbnRleHQoXCIyZFwiKTtpZighdClyZXR1cm4gITE7dmFyIGk9dC5nZXRJbWFnZURhdGEoMCwwLDEsMSk7cmV0dXJuIGkmJmkud2lkdGg9PT1lLndpZHRofSgpPyh2b2lkIDA9PT1vdFt0PWUmJmUuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdF0mJihvdFt0XT1mdW5jdGlvbihlKXt2YXIgdCxpPWZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksaT1PYmplY3QuY3JlYXRlKG50LndlYkdMQ29udGV4dEF0dHJpYnV0ZXMpO3JldHVybiBpLmZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ9ZSx0LmdldENvbnRleHQoXCJ3ZWJnbFwiLGkpfHx0LmdldENvbnRleHQoXCJleHBlcmltZW50YWwtd2ViZ2xcIixpKX0oZSk7aWYoIWkpcmV0dXJuICExO3RyeXt0PWkuY3JlYXRlU2hhZGVyKGkuVkVSVEVYX1NIQURFUik7fWNhdGNoKGUpe3JldHVybiAhMX1yZXR1cm4gISghdHx8aS5pc0NvbnRleHRMb3N0KCkpJiYoaS5zaGFkZXJTb3VyY2UodCxcInZvaWQgbWFpbigpIHt9XCIpLGkuY29tcGlsZVNoYWRlcih0KSwhMD09PWkuZ2V0U2hhZGVyUGFyYW1ldGVyKHQsaS5DT01QSUxFX1NUQVRVUykpfSh0KSksb3RbdF0/ZG9jdW1lbnQuZG9jdW1lbnRNb2RlP1wiaW5zdWZmaWNpZW50IEVDTUFTY3JpcHQgNiBzdXBwb3J0XCI6dm9pZCAwOlwiaW5zdWZmaWNpZW50IFdlYkdMIHN1cHBvcnRcIik6XCJpbnN1ZmZpY2llbnQgQ2FudmFzL2dldEltYWdlRGF0YSBzdXBwb3J0XCI6XCJpbnN1ZmZpY2llbnQgQXJyYXlCdWZmZXIgc3VwcG9ydFwiOlwiaW5zdWZmaWNpZW50IFVpbnQ4Q2xhbXBlZEFycmF5IHN1cHBvcnRcIjpcImluc3VmZmljaWVudCB3b3JrZXIgc3VwcG9ydFwiOlwiaW5zdWZmaWNpZW50IEpTT04gc3VwcG9ydFwiOlwiaW5zdWZmaWNpZW50IE9iamVjdCBzdXBwb3J0XCI6XCJpbnN1ZmZpY2llbnQgRnVuY3Rpb24gc3VwcG9ydFwiOlwiaW5zdWZmaWNlbnQgQXJyYXkgc3VwcG9ydFwiO3ZhciB0O30oZSl9dmFyIG90PXt9O2xldCBzdCxhdCxsdCxjdDtudC53ZWJHTENvbnRleHRBdHRyaWJ1dGVzPXthbnRpYWxpYXM6ITEsYWxwaGE6ITAsc3RlbmNpbDohMCxkZXB0aDohMH07Y29uc3QgaHQ9e25vdzooKT0+dm9pZCAwIT09bHQ/bHQ6dC5wZXJmb3JtYW5jZS5ub3coKSxzZXROb3coZSl7bHQ9ZTt9LHJlc3RvcmVOb3coKXtsdD12b2lkIDA7fSxmcmFtZShlKXtjb25zdCBpPXQucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGUpO3JldHVybiB7Y2FuY2VsOigpPT50LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGkpfX0sZ2V0SW1hZ2VEYXRhKGUsaT0wKXtjb25zdHt3aWR0aDpyLGhlaWdodDpufT1lO2N0fHwoY3Q9dC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpKTtjb25zdCBvPWN0LmdldENvbnRleHQoXCIyZFwiLHt3aWxsUmVhZEZyZXF1ZW50bHk6ITB9KTtpZighbyl0aHJvdyBuZXcgRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNhbnZhcyAyZCBjb250ZXh0XCIpO3JldHVybiAocj5jdC53aWR0aHx8bj5jdC5oZWlnaHQpJiYoY3Qud2lkdGg9cixjdC5oZWlnaHQ9biksby5jbGVhclJlY3QoLWksLWkscisyKmksbisyKmkpLG8uZHJhd0ltYWdlKGUsMCwwLHIsbiksby5nZXRJbWFnZURhdGEoLWksLWkscisyKmksbisyKmkpfSxyZXNvbHZlVVJMOmU9PihzdHx8KHN0PXQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIikpLHN0LmhyZWY9ZSxzdC5ocmVmKSxnZXQgZGV2aWNlUGl4ZWxSYXRpbygpe3JldHVybiB0LmRldmljZVBpeGVsUmF0aW99LGdldCBwcmVmZXJzUmVkdWNlZE1vdGlvbigpe3JldHVybiAhIXQubWF0Y2hNZWRpYSYmKG51bGw9PWF0JiYoYXQ9dC5tYXRjaE1lZGlhKFwiKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IHJlZHVjZSlcIikpLGF0Lm1hdGNoZXMpfX07ZnVuY3Rpb24gdXQoZSxpLHIpe2NvbnN0IG49dC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGUpO3JldHVybiB2b2lkIDAhPT1pJiYobi5jbGFzc05hbWU9aSksciYmci5hcHBlbmRDaGlsZChuKSxufWZ1bmN0aW9uIGR0KGUsaSxyKXtjb25zdCBuPXQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixlKTtmb3IoY29uc3QgZSBvZiBPYmplY3Qua2V5cyhpKSluLnNldEF0dHJpYnV0ZU5TKG51bGwsZSxpW2VdKTtyZXR1cm4gciYmci5hcHBlbmRDaGlsZChuKSxufWNvbnN0IHB0PXQuZG9jdW1lbnQmJnQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLGZ0PXB0JiZ2b2lkIDAhPT1wdC51c2VyU2VsZWN0P1widXNlclNlbGVjdFwiOlwiV2Via2l0VXNlclNlbGVjdFwiO2xldCBtdDtmdW5jdGlvbiBfdCgpe3B0JiZmdCYmKG10PXB0W2Z0XSxwdFtmdF09XCJub25lXCIpO31mdW5jdGlvbiBndCgpe3B0JiZmdCYmKHB0W2Z0XT1tdCk7fWZ1bmN0aW9uIHl0KGUpe2UucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIseXQsITApO31mdW5jdGlvbiB4dCgpe3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIseXQsITApLHQuc2V0VGltZW91dCgoKCk9Pnt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHl0LCEwKTt9KSwwKTt9ZnVuY3Rpb24gdnQoZSx0KXtjb25zdCBpPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJuIFR0KGUsaSx0KX1mdW5jdGlvbiBidChlLHQpe2NvbnN0IGk9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxyPVtdO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXIucHVzaChUdChlLGksdFtuXSkpO3JldHVybiByfWZ1bmN0aW9uIHd0KGUpe3JldHVybiB2b2lkIDAhPT10Lkluc3RhbGxUcmlnZ2VyJiYyPT09ZS5idXR0b24mJmUuY3RybEtleSYmdC5uYXZpZ2F0b3IucGxhdGZvcm0udG9VcHBlckNhc2UoKS5pbmRleE9mKFwiTUFDXCIpPj0wPzA6ZS5idXR0b259ZnVuY3Rpb24gVHQoZSx0LGkpe2NvbnN0IHI9ZS5vZmZzZXRXaWR0aD09PXQud2lkdGg/MTplLm9mZnNldFdpZHRoL3Qud2lkdGg7cmV0dXJuIG5ldyB5KChpLmNsaWVudFgtdC5sZWZ0KSpyLChpLmNsaWVudFktdC50b3ApKnIpfWZ1bmN0aW9uIEV0KGUsdCxpKXtpW2VdJiYtMSE9PWlbZV0uaW5kZXhPZih0KXx8KGlbZV09aVtlXXx8W10saVtlXS5wdXNoKHQpKTt9ZnVuY3Rpb24gTXQoZSx0LGkpe2lmKGkmJmlbZV0pe2NvbnN0IHI9aVtlXS5pbmRleE9mKHQpOy0xIT09ciYmaVtlXS5zcGxpY2UociwxKTt9fWNsYXNzIEF0e2NvbnN0cnVjdG9yKGUsdD17fSl7ayh0aGlzLHQpLHRoaXMudHlwZT1lO319Y2xhc3MgU3QgZXh0ZW5kcyBBdHtjb25zdHJ1Y3RvcihlLHQ9e30pe3N1cGVyKFwiZXJyb3JcIixrKHtlcnJvcjplfSx0KSk7fX1jbGFzcyBJdHtvbihlLHQpe3JldHVybiB0aGlzLl9saXN0ZW5lcnM9dGhpcy5fbGlzdGVuZXJzfHx7fSxFdChlLHQsdGhpcy5fbGlzdGVuZXJzKSx0aGlzfW9mZihlLHQpe3JldHVybiBNdChlLHQsdGhpcy5fbGlzdGVuZXJzKSxNdChlLHQsdGhpcy5fb25lVGltZUxpc3RlbmVycyksdGhpc31vbmNlKGUsdCl7cmV0dXJuIHQ/KHRoaXMuX29uZVRpbWVMaXN0ZW5lcnM9dGhpcy5fb25lVGltZUxpc3RlbmVyc3x8e30sRXQoZSx0LHRoaXMuX29uZVRpbWVMaXN0ZW5lcnMpLHRoaXMpOm5ldyBQcm9taXNlKCh0PT50aGlzLm9uY2UoZSx0KSkpfWZpcmUoZSx0KXtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9bmV3IEF0KGUsdHx8e30pKTtjb25zdCBpPWUudHlwZTtpZih0aGlzLmxpc3RlbnMoaSkpe2UudGFyZ2V0PXRoaXM7Y29uc3QgdD10aGlzLl9saXN0ZW5lcnMmJnRoaXMuX2xpc3RlbmVyc1tpXT90aGlzLl9saXN0ZW5lcnNbaV0uc2xpY2UoKTpbXTtmb3IoY29uc3QgaSBvZiB0KWkuY2FsbCh0aGlzLGUpO2NvbnN0IHI9dGhpcy5fb25lVGltZUxpc3RlbmVycyYmdGhpcy5fb25lVGltZUxpc3RlbmVyc1tpXT90aGlzLl9vbmVUaW1lTGlzdGVuZXJzW2ldLnNsaWNlKCk6W107Zm9yKGNvbnN0IHQgb2YgcilNdChpLHQsdGhpcy5fb25lVGltZUxpc3RlbmVycyksdC5jYWxsKHRoaXMsZSk7Y29uc3Qgbj10aGlzLl9ldmVudGVkUGFyZW50O24mJihrKGUsXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5fZXZlbnRlZFBhcmVudERhdGE/dGhpcy5fZXZlbnRlZFBhcmVudERhdGEoKTp0aGlzLl9ldmVudGVkUGFyZW50RGF0YSksbi5maXJlKGUpKTt9ZWxzZSBlIGluc3RhbmNlb2YgU3QmJmNvbnNvbGUuZXJyb3IoZS5lcnJvcik7cmV0dXJuIHRoaXN9bGlzdGVucyhlKXtyZXR1cm4gISEodGhpcy5fbGlzdGVuZXJzJiZ0aGlzLl9saXN0ZW5lcnNbZV0mJnRoaXMuX2xpc3RlbmVyc1tlXS5sZW5ndGg+MHx8dGhpcy5fb25lVGltZUxpc3RlbmVycyYmdGhpcy5fb25lVGltZUxpc3RlbmVyc1tlXSYmdGhpcy5fb25lVGltZUxpc3RlbmVyc1tlXS5sZW5ndGg+MHx8dGhpcy5fZXZlbnRlZFBhcmVudCYmdGhpcy5fZXZlbnRlZFBhcmVudC5saXN0ZW5zKGUpKX1zZXRFdmVudGVkUGFyZW50KGUsdCl7cmV0dXJuIHRoaXMuX2V2ZW50ZWRQYXJlbnQ9ZSx0aGlzLl9ldmVudGVkUGFyZW50RGF0YT10LHRoaXN9fXZhciBDdD1KU09OLnBhcnNlKCd7XCIkdmVyc2lvblwiOjgsXCIkcm9vdFwiOntcInZlcnNpb25cIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjpbOF19LFwiZnJhZ21lbnRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCJ9LFwibmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcIm1ldGFkYXRhXCI6e1widHlwZVwiOlwiKlwifSxcImNlbnRlclwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCJ9LFwiem9vbVwiOntcInR5cGVcIjpcIm51bWJlclwifSxcImJlYXJpbmdcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwicGVyaW9kXCI6MzYwfSxcInBpdGNoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MH0sXCJsaWdodFwiOntcInR5cGVcIjpcImxpZ2h0XCJ9LFwibGlnaHRzXCI6e1wicmVxdWlyZWRcIjpmYWxzZSxcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibGlnaHQtM2RcIn0sXCJ0ZXJyYWluXCI6e1widHlwZVwiOlwidGVycmFpblwifSxcImZvZ1wiOntcInR5cGVcIjpcImZvZ1wifSxcImNhbWVyYVwiOntcInR5cGVcIjpcImNhbWVyYVwifSxcImltcG9ydHNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcImltcG9ydFwifSxcInNjaGVtYVwiOntcInR5cGVcIjpcInNjaGVtYVwifSxcInNvdXJjZXNcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJzb3VyY2VzXCJ9LFwic3ByaXRlXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwiZ2x5cGhzXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJkZWZhdWx0XCI6XCJtYXBib3g6Ly9mb250cy9tYXBib3gve2ZvbnRzdGFja30ve3JhbmdlfS5wYmZcIn0sXCJ0cmFuc2l0aW9uXCI6e1widHlwZVwiOlwidHJhbnNpdGlvblwifSxcInByb2plY3Rpb25cIjp7XCJ0eXBlXCI6XCJwcm9qZWN0aW9uXCJ9LFwibGF5ZXJzXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJsYXllclwifSxcIm1vZGVsc1wiOntcInR5cGVcIjpcIm1vZGVsc1wifX0sXCJtb2RlbFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwicmVxdWlyZWRcIjp0cnVlfSxcImltcG9ydFwiOntcImlkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJyZXF1aXJlZFwiOnRydWV9LFwidXJsXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJyZXF1aXJlZFwiOnRydWV9LFwiY29uZmlnXCI6e1widHlwZVwiOlwiY29uZmlnXCJ9LFwiZGF0YVwiOntcInR5cGVcIjpcIiRyb290XCJ9fSxcImNvbmZpZ1wiOntcIipcIjp7XCJ0eXBlXCI6XCIqXCJ9fSxcInNjaGVtYVwiOntcIipcIjp7XCJ0eXBlXCI6XCJvcHRpb25cIn19LFwib3B0aW9uXCI6e1wiZGVmYXVsdFwiOntcInR5cGVcIjpcIipcIixcInJlcXVpcmVkXCI6dHJ1ZX0sXCJ0eXBlXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wic3RyaW5nXCI6MSxcIm51bWJlclwiOjEsXCJib29sZWFuXCI6MSxcImNvbG9yXCI6MX19LFwiYXJyYXlcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCJ9LFwibWluVmFsdWVcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIn0sXCJtYXhWYWx1ZVwiOntcInR5cGVcIjpcIm51bWJlclwifSxcInN0ZXBWYWx1ZVwiOntcInR5cGVcIjpcIm51bWJlclwifSxcInZhbHVlc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwiKlwifSxcIm1ldGFkYXRhXCI6e1widHlwZVwiOlwiKlwifX0sXCJtb2RlbHNcIjp7XCIqXCI6e1widHlwZVwiOlwibW9kZWxcIn19LFwibGlnaHQtM2RcIjp7XCJpZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwicmVxdWlyZWRcIjp0cnVlfSxcInByb3BlcnRpZXNcIjp7XCJ0eXBlXCI6XCJwcm9wZXJ0aWVzXCJ9LFwidHlwZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImFtYmllbnRcIjp7fSxcImRpcmVjdGlvbmFsXCI6e30sXCJmbGF0XCI6e319fX0sXCJwcm9wZXJ0aWVzXCI6W1wicHJvcGVydGllc19saWdodF9kaXJlY3Rpb25hbFwiLFwicHJvcGVydGllc19saWdodF9hbWJpZW50XCIsXCJwcm9wZXJ0aWVzX2xpZ2h0X2ZsYXRcIl0sXCJwcm9wZXJ0aWVzX2xpZ2h0X2RpcmVjdGlvbmFsXCI6e1wiZGlyZWN0aW9uXCI6e1widHlwZVwiOlwiYXJyYXlcIixcImRlZmF1bHRcIjpbMjEwLDMwXSxcIm1pbmltdW1cIjpbMCwwXSxcIm1heGltdW1cIjpbMzYwLDkwXSxcImxlbmd0aFwiOjIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19fSxcImNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjpcIiNmZmZmZmZcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwiaW50ZW5zaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6MC41LFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwiY2FzdC1zaGFkb3dzXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwiZXhwcmVzc2lvblwiOnt9LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInNoYWRvdy1pbnRlbnNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9fSxcInByb3BlcnRpZXNfbGlnaHRfYW1iaWVudFwiOntcImNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjpcIiNmZmZmZmZcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwiaW50ZW5zaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6MC41LFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9fSxcInByb3BlcnRpZXNfbGlnaHRfZmxhdFwiOntcImFuY2hvclwiOntcInR5cGVcIjpcImVudW1cIixcImRlZmF1bHRcIjpcInZpZXdwb3J0XCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjoxLFwidmlld3BvcnRcIjoxfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX19LFwicG9zaXRpb25cIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwiZGVmYXVsdFwiOlsxLjE1LDIxMCwzMF0sXCJsZW5ndGhcIjozLFwidmFsdWVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfX0sXCJjb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6XCIjZmZmZmZmXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcImludGVuc2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOjAuNSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfX0sXCJzb3VyY2VzXCI6e1wiKlwiOntcInR5cGVcIjpcInNvdXJjZVwifX0sXCJzb3VyY2VcIjpbXCJzb3VyY2VfdmVjdG9yXCIsXCJzb3VyY2VfcmFzdGVyXCIsXCJzb3VyY2VfcmFzdGVyX2RlbVwiLFwic291cmNlX2dlb2pzb25cIixcInNvdXJjZV92aWRlb1wiLFwic291cmNlX2ltYWdlXCIsXCJzb3VyY2VfbW9kZWxcIl0sXCJzb3VyY2VfdmVjdG9yXCI6e1widHlwZVwiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZlY3RvclwiOjF9fSxcInVybFwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcInRpbGVzXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJzdHJpbmdcIn0sXCJib3VuZHNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6NCxcImRlZmF1bHRcIjpbLTE4MCwtODUuMDUxMTI5LDE4MCw4NS4wNTExMjldfSxcInNjaGVtZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInh5elwiOjEsXCJ0bXNcIjoxfSxcImRlZmF1bHRcIjpcInh5elwifSxcIm1pbnpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowfSxcIm1heHpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoyMn0sXCJhdHRyaWJ1dGlvblwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcInByb21vdGVJZFwiOntcInR5cGVcIjpcInByb21vdGVJZFwifSxcInZvbGF0aWxlXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlfSxcIipcIjp7XCJ0eXBlXCI6XCIqXCJ9fSxcInNvdXJjZV9yYXN0ZXJcIjp7XCJ0eXBlXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wicmFzdGVyXCI6MX19LFwidXJsXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwidGlsZXNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcInN0cmluZ1wifSxcImJvdW5kc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjo0LFwiZGVmYXVsdFwiOlstMTgwLC04NS4wNTExMjksMTgwLDg1LjA1MTEyOV19LFwibWluem9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjB9LFwibWF4em9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjIyfSxcInRpbGVTaXplXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6NTEyfSxcInNjaGVtZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInh5elwiOjEsXCJ0bXNcIjoxfSxcImRlZmF1bHRcIjpcInh5elwifSxcImF0dHJpYnV0aW9uXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwidm9sYXRpbGVcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2V9LFwiKlwiOntcInR5cGVcIjpcIipcIn19LFwic291cmNlX3Jhc3Rlcl9kZW1cIjp7XCJ0eXBlXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wicmFzdGVyLWRlbVwiOjF9fSxcInVybFwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcInRpbGVzXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJzdHJpbmdcIn0sXCJib3VuZHNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6NCxcImRlZmF1bHRcIjpbLTE4MCwtODUuMDUxMTI5LDE4MCw4NS4wNTExMjldfSxcIm1pbnpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowfSxcIm1heHpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoyMn0sXCJ0aWxlU2l6ZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjUxMn0sXCJhdHRyaWJ1dGlvblwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcImVuY29kaW5nXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widGVycmFyaXVtXCI6MSxcIm1hcGJveFwiOjF9LFwiZGVmYXVsdFwiOlwibWFwYm94XCJ9LFwidm9sYXRpbGVcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2V9LFwiKlwiOntcInR5cGVcIjpcIipcIn19LFwic291cmNlX2dlb2pzb25cIjp7XCJ0eXBlXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiZ2VvanNvblwiOjF9fSxcImRhdGFcIjp7XCJ0eXBlXCI6XCIqXCJ9LFwibWF4em9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjE4fSxcImF0dHJpYnV0aW9uXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwiYnVmZmVyXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MTI4LFwibWF4aW11bVwiOjUxMixcIm1pbmltdW1cIjowfSxcImZpbHRlclwiOntcInR5cGVcIjpcIipcIn0sXCJ0b2xlcmFuY2VcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLjM3NX0sXCJjbHVzdGVyXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlfSxcImNsdXN0ZXJSYWRpdXNcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjo1MCxcIm1pbmltdW1cIjowfSxcImNsdXN0ZXJNYXhab29tXCI6e1widHlwZVwiOlwibnVtYmVyXCJ9LFwiY2x1c3Rlck1pblBvaW50c1wiOntcInR5cGVcIjpcIm51bWJlclwifSxcImNsdXN0ZXJQcm9wZXJ0aWVzXCI6e1widHlwZVwiOlwiKlwifSxcImxpbmVNZXRyaWNzXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlfSxcImdlbmVyYXRlSWRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2V9LFwicHJvbW90ZUlkXCI6e1widHlwZVwiOlwicHJvbW90ZUlkXCJ9fSxcInNvdXJjZV92aWRlb1wiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aWRlb1wiOjF9fSxcInVybHNcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcInN0cmluZ1wifSxcImNvb3JkaW5hdGVzXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiYXJyYXlcIixcImxlbmd0aFwiOjQsXCJ2YWx1ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJsZW5ndGhcIjoyLFwidmFsdWVcIjpcIm51bWJlclwifX19LFwic291cmNlX2ltYWdlXCI6e1widHlwZVwiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImltYWdlXCI6MX19LFwidXJsXCI6e1wicmVxdWlyZWRcIjpmYWxzZSxcInR5cGVcIjpcInN0cmluZ1wifSxcImNvb3JkaW5hdGVzXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiYXJyYXlcIixcImxlbmd0aFwiOjQsXCJ2YWx1ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJsZW5ndGhcIjoyLFwidmFsdWVcIjpcIm51bWJlclwifX19LFwic291cmNlX21vZGVsXCI6e1widHlwZVwiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1vZGVsXCI6MSxcImJhdGNoZWQtbW9kZWxcIjoxfX0sXCJtYXh6b29tXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MTh9LFwibWluem9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjB9LFwidGlsZXNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcInN0cmluZ1wifX0sXCJsYXllclwiOntcImlkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJyZXF1aXJlZFwiOnRydWV9LFwidHlwZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImZpbGxcIjp7fSxcImxpbmVcIjp7fSxcInN5bWJvbFwiOnt9LFwiY2lyY2xlXCI6e30sXCJoZWF0bWFwXCI6e30sXCJmaWxsLWV4dHJ1c2lvblwiOnt9LFwicmFzdGVyXCI6e30sXCJoaWxsc2hhZGVcIjp7fSxcIm1vZGVsXCI6e30sXCJiYWNrZ3JvdW5kXCI6e30sXCJza3lcIjp7fSxcInNsb3RcIjp7fX0sXCJyZXF1aXJlZFwiOnRydWV9LFwibWV0YWRhdGFcIjp7XCJ0eXBlXCI6XCIqXCJ9LFwic291cmNlXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwic291cmNlLWxheWVyXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwic2xvdFwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcIm1pbnpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjI0fSxcIm1heHpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjI0fSxcImZpbHRlclwiOntcInR5cGVcIjpcImZpbHRlclwifSxcImxheW91dFwiOntcInR5cGVcIjpcImxheW91dFwifSxcInBhaW50XCI6e1widHlwZVwiOlwicGFpbnRcIn19LFwibGF5b3V0XCI6W1wibGF5b3V0X2ZpbGxcIixcImxheW91dF9saW5lXCIsXCJsYXlvdXRfY2lyY2xlXCIsXCJsYXlvdXRfaGVhdG1hcFwiLFwibGF5b3V0X2ZpbGwtZXh0cnVzaW9uXCIsXCJsYXlvdXRfc3ltYm9sXCIsXCJsYXlvdXRfcmFzdGVyXCIsXCJsYXlvdXRfaGlsbHNoYWRlXCIsXCJsYXlvdXRfYmFja2dyb3VuZFwiLFwibGF5b3V0X3NreVwiLFwibGF5b3V0X21vZGVsXCJdLFwibGF5b3V0X2JhY2tncm91bmRcIjp7XCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOjEsXCJub25lXCI6MX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJleHByZXNzaW9uXCI6e30sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfc2t5XCI6e1widmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjoxLFwibm9uZVwiOjF9LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwiZXhwcmVzc2lvblwiOnt9LFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwibGF5b3V0X21vZGVsXCI6e1widmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjoxLFwibm9uZVwiOjF9LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwiZXhwcmVzc2lvblwiOnt9LFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn0sXCJtb2RlbC1pZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiZGVmYXVsdFwiOlwiXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfX19LFwibGF5b3V0X2ZpbGxcIjp7XCJmaWxsLXNvcnQta2V5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOjEsXCJub25lXCI6MX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJleHByZXNzaW9uXCI6e30sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfY2lyY2xlXCI6e1wiY2lyY2xlLXNvcnQta2V5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOjEsXCJub25lXCI6MX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJleHByZXNzaW9uXCI6e30sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfaGVhdG1hcFwiOntcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6MSxcIm5vbmVcIjoxfSxcImRlZmF1bHRcIjpcInZpc2libGVcIixcImV4cHJlc3Npb25cIjp7fSxcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcImxheW91dF9maWxsLWV4dHJ1c2lvblwiOntcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6MSxcIm5vbmVcIjoxfSxcImRlZmF1bHRcIjpcInZpc2libGVcIixcImV4cHJlc3Npb25cIjp7fSxcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9LFwiZmlsbC1leHRydXNpb24tZWRnZS1yYWRpdXNcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInByaXZhdGVcIjp0cnVlLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwiZXhwcmVzc2lvblwiOnt9LFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwibGF5b3V0X2xpbmVcIjp7XCJsaW5lLWNhcFwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImJ1dHRcIjoxLFwicm91bmRcIjoxLFwic3F1YXJlXCI6MX0sXCJkZWZhdWx0XCI6XCJidXR0XCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLWpvaW5cIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJiZXZlbFwiOjEsXCJyb3VuZFwiOjEsXCJtaXRlclwiOjF9LFwiZGVmYXVsdFwiOlwibWl0ZXJcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtbWl0ZXItbGltaXRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoyLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwibGluZS1yb3VuZC1saW1pdFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEuMDUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJsaW5lLXNvcnQta2V5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOjEsXCJub25lXCI6MX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJleHByZXNzaW9uXCI6e30sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfc3ltYm9sXCI6e1wic3ltYm9sLXBsYWNlbWVudFwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInBvaW50XCI6MSxcImxpbmVcIjoxLFwibGluZS1jZW50ZXJcIjoxfSxcImRlZmF1bHRcIjpcInBvaW50XCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInN5bWJvbC1zcGFjaW5nXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MjUwLFwibWluaW11bVwiOjEsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJzeW1ib2wtYXZvaWQtZWRnZXNcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInN5bWJvbC1zb3J0LWtleVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwic3ltYm9sLXotb3JkZXJcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJhdXRvXCI6MSxcInZpZXdwb3J0LXlcIjoxLFwic291cmNlXCI6MX0sXCJkZWZhdWx0XCI6XCJhdXRvXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInN5bWJvbC16LWVsZXZhdGVcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24tYWxsb3ctb3ZlcmxhcFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi1pZ25vcmUtcGxhY2VtZW50XCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLW9wdGlvbmFsXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOjEsXCJ2aWV3cG9ydFwiOjEsXCJhdXRvXCI6MX0sXCJkZWZhdWx0XCI6XCJhdXRvXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24tc2l6ZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLXRleHQtZml0XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibm9uZVwiOjEsXCJ3aWR0aFwiOjEsXCJoZWlnaHRcIjoxLFwiYm90aFwiOjF9LFwiZGVmYXVsdFwiOlwibm9uZVwiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi10ZXh0LWZpdC1wYWRkaW5nXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjQsXCJkZWZhdWx0XCI6WzAsMCwwLDBdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24taW1hZ2VcIjp7XCJ0eXBlXCI6XCJyZXNvbHZlZEltYWdlXCIsXCJ0b2tlbnNcIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1yb3RhdGVcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwicGVyaW9kXCI6MzYwLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24tcGFkZGluZ1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjIsXCJtaW5pbXVtXCI6MCxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24ta2VlcC11cHJpZ2h0XCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLW9mZnNldFwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24tYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiY2VudGVyXCI6MSxcImxlZnRcIjoxLFwicmlnaHRcIjoxLFwidG9wXCI6MSxcImJvdHRvbVwiOjEsXCJ0b3AtbGVmdFwiOjEsXCJ0b3AtcmlnaHRcIjoxLFwiYm90dG9tLWxlZnRcIjoxLFwiYm90dG9tLXJpZ2h0XCI6MX0sXCJkZWZhdWx0XCI6XCJjZW50ZXJcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24tcGl0Y2gtYWxpZ25tZW50XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6MSxcInZpZXdwb3J0XCI6MSxcImF1dG9cIjoxfSxcImRlZmF1bHRcIjpcImF1dG9cIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1waXRjaC1hbGlnbm1lbnRcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjoxLFwidmlld3BvcnRcIjoxLFwiYXV0b1wiOjF9LFwiZGVmYXVsdFwiOlwiYXV0b1wiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOjEsXCJ2aWV3cG9ydFwiOjEsXCJhdXRvXCI6MX0sXCJkZWZhdWx0XCI6XCJhdXRvXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtZmllbGRcIjp7XCJ0eXBlXCI6XCJmb3JtYXR0ZWRcIixcImRlZmF1bHRcIjpcIlwiLFwidG9rZW5zXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtZm9udFwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwic3RyaW5nXCIsXCJkZWZhdWx0XCI6W1wiT3BlbiBTYW5zIFJlZ3VsYXJcIixcIkFyaWFsIFVuaWNvZGUgTVMgUmVndWxhclwiXSxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtc2l6ZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjE2LFwibWluaW11bVwiOjAsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1tYXgtd2lkdGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxMCxcIm1pbmltdW1cIjowLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtbGluZS1oZWlnaHRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLjIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1sZXR0ZXItc3BhY2luZ1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1qdXN0aWZ5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiYXV0b1wiOjEsXCJsZWZ0XCI6MSxcImNlbnRlclwiOjEsXCJyaWdodFwiOjF9LFwiZGVmYXVsdFwiOlwiY2VudGVyXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LXJhZGlhbC1vZmZzZXRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19fSxcInRleHQtdmFyaWFibGUtYW5jaG9yXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJjZW50ZXJcIjoxLFwibGVmdFwiOjEsXCJyaWdodFwiOjEsXCJ0b3BcIjoxLFwiYm90dG9tXCI6MSxcInRvcC1sZWZ0XCI6MSxcInRvcC1yaWdodFwiOjEsXCJib3R0b20tbGVmdFwiOjEsXCJib3R0b20tcmlnaHRcIjoxfSxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJjZW50ZXJcIjoxLFwibGVmdFwiOjEsXCJyaWdodFwiOjEsXCJ0b3BcIjoxLFwiYm90dG9tXCI6MSxcInRvcC1sZWZ0XCI6MSxcInRvcC1yaWdodFwiOjEsXCJib3R0b20tbGVmdFwiOjEsXCJib3R0b20tcmlnaHRcIjoxfSxcImRlZmF1bHRcIjpcImNlbnRlclwiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1tYXgtYW5nbGVcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjo0NSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtd3JpdGluZy1tb2RlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJob3Jpem9udGFsXCI6MSxcInZlcnRpY2FsXCI6MX0sXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtcm90YXRlXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcInBlcmlvZFwiOjM2MCxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LXBhZGRpbmdcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoyLFwibWluaW11bVwiOjAsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LWtlZXAtdXByaWdodFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LXRyYW5zZm9ybVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm5vbmVcIjoxLFwidXBwZXJjYXNlXCI6MSxcImxvd2VyY2FzZVwiOjF9LFwiZGVmYXVsdFwiOlwibm9uZVwiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1vZmZzZXRcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWFsbG93LW92ZXJsYXBcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtaWdub3JlLXBsYWNlbWVudFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1vcHRpb25hbFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjoxLFwibm9uZVwiOjF9LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwiZXhwcmVzc2lvblwiOnt9LFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwibGF5b3V0X3Jhc3RlclwiOntcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6MSxcIm5vbmVcIjoxfSxcImRlZmF1bHRcIjpcInZpc2libGVcIixcImV4cHJlc3Npb25cIjp7fSxcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcImxheW91dF9oaWxsc2hhZGVcIjp7XCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOjEsXCJub25lXCI6MX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJleHByZXNzaW9uXCI6e30sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJmaWx0ZXJcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIipcIn0sXCJmaWx0ZXJfc3ltYm9sXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwicGl0Y2hcIixcImRpc3RhbmNlLWZyb20tY2VudGVyXCJdfX0sXCJmaWx0ZXJfZmlsbFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19fSxcImZpbHRlcl9saW5lXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX19LFwiZmlsdGVyX2NpcmNsZVwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19fSxcImZpbHRlcl9maWxsLWV4dHJ1c2lvblwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19fSxcImZpbHRlcl9oZWF0bWFwXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX19LFwiZmlsdGVyX29wZXJhdG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiPT1cIjoxLFwiIT1cIjoxLFwiPlwiOjEsXCI+PVwiOjEsXCI8XCI6MSxcIjw9XCI6MSxcImluXCI6MSxcIiFpblwiOjEsXCJhbGxcIjoxLFwiYW55XCI6MSxcIm5vbmVcIjoxLFwiaGFzXCI6MSxcIiFoYXNcIjoxfX0sXCJnZW9tZXRyeV90eXBlXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiUG9pbnRcIjoxLFwiTGluZVN0cmluZ1wiOjEsXCJQb2x5Z29uXCI6MX19LFwiZnVuY3Rpb25cIjp7XCJleHByZXNzaW9uXCI6e1widHlwZVwiOlwiZXhwcmVzc2lvblwifSxcInN0b3BzXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJmdW5jdGlvbl9zdG9wXCJ9LFwiYmFzZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MH0sXCJwcm9wZXJ0eVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiZGVmYXVsdFwiOlwiJHpvb21cIn0sXCJ0eXBlXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiaWRlbnRpdHlcIjoxLFwiZXhwb25lbnRpYWxcIjoxLFwiaW50ZXJ2YWxcIjoxLFwiY2F0ZWdvcmljYWxcIjoxfSxcImRlZmF1bHRcIjpcImV4cG9uZW50aWFsXCJ9LFwiY29sb3JTcGFjZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInJnYlwiOjEsXCJsYWJcIjoxLFwiaGNsXCI6MX0sXCJkZWZhdWx0XCI6XCJyZ2JcIn0sXCJkZWZhdWx0XCI6e1widHlwZVwiOlwiKlwiLFwicmVxdWlyZWRcIjpmYWxzZX19LFwiZnVuY3Rpb25fc3RvcFwiOntcInR5cGVcIjpcImFycmF5XCIsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoyNCxcInZhbHVlXCI6W1wibnVtYmVyXCIsXCJjb2xvclwiXSxcImxlbmd0aFwiOjJ9LFwiZXhwcmVzc2lvblwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwiKlwiLFwibWluaW11bVwiOjF9LFwiZm9nXCI6e1wicmFuZ2VcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwiZGVmYXVsdFwiOlswLjUsMTBdLFwibWluaW11bVwiOi0yMCxcIm1heGltdW1cIjoyMCxcImxlbmd0aFwiOjIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcIm1lYXN1cmUtbGlnaHRcIl0sXCJyZWxheFpvb21SZXN0cmljdGlvblwiOnRydWV9fSxcImNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjpcIiNmZmZmZmZcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcIm1lYXN1cmUtbGlnaHRcIl0sXCJyZWxheFpvb21SZXN0cmljdGlvblwiOnRydWV9LFwidHJhbnNpdGlvblwiOnRydWV9LFwiaGlnaC1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6XCIjMjQ1Y2RmXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJtZWFzdXJlLWxpZ2h0XCJdLFwicmVsYXhab29tUmVzdHJpY3Rpb25cIjp0cnVlfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcInNwYWNlLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjpbXCJpbnRlcnBvbGF0ZVwiLFtcImxpbmVhclwiXSxbXCJ6b29tXCJdLDQsXCIjMDEwYjE5XCIsNyxcIiMzNjdhYjlcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJtZWFzdXJlLWxpZ2h0XCJdLFwicmVsYXhab29tUmVzdHJpY3Rpb25cIjp0cnVlfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcImhvcml6b24tYmxlbmRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjpbXCJpbnRlcnBvbGF0ZVwiLFtcImxpbmVhclwiXSxbXCJ6b29tXCJdLDQsMC4yLDcsMC4xXSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJtZWFzdXJlLWxpZ2h0XCJdLFwicmVsYXhab29tUmVzdHJpY3Rpb25cIjp0cnVlfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcInN0YXItaW50ZW5zaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6W1wiaW50ZXJwb2xhdGVcIixbXCJsaW5lYXJcIl0sW1wiem9vbVwiXSw1LDAuMzUsNiwwXSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJtZWFzdXJlLWxpZ2h0XCJdLFwicmVsYXhab29tUmVzdHJpY3Rpb25cIjp0cnVlfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcInZlcnRpY2FsLXJhbmdlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcImRlZmF1bHRcIjpbMCwwXSxcIm1pbmltdW1cIjowLFwibGVuZ3RoXCI6MixcInZhbHVlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwibWVhc3VyZS1saWdodFwiXSxcInJlbGF4Wm9vbVJlc3RyaWN0aW9uXCI6dHJ1ZX19fSxcImNhbWVyYVwiOntcImNhbWVyYS1wcm9qZWN0aW9uXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wicGVyc3BlY3RpdmVcIjoxLFwib3J0aG9ncmFwaGljXCI6MX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwiZGVmYXVsdFwiOlwicGVyc3BlY3RpdmVcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwibGlnaHRcIjp7XCJhbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJkZWZhdWx0XCI6XCJ2aWV3cG9ydFwiLFwidmFsdWVzXCI6e1wibWFwXCI6MSxcInZpZXdwb3J0XCI6MX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19fSxcInBvc2l0aW9uXCI6e1widHlwZVwiOlwiYXJyYXlcIixcImRlZmF1bHRcIjpbMS4xNSwyMTAsMzBdLFwibGVuZ3RoXCI6MyxcInZhbHVlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX19LFwiY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOlwiI2ZmZmZmZlwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJpbnRlbnNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjowLjUsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX19LFwicHJvamVjdGlvblwiOntcIm5hbWVcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJhbGJlcnNcIjoxLFwiZXF1YWxFYXJ0aFwiOjEsXCJlcXVpcmVjdGFuZ3VsYXJcIjoxLFwibGFtYmVydENvbmZvcm1hbENvbmljXCI6MSxcIm1lcmNhdG9yXCI6MSxcIm5hdHVyYWxFYXJ0aFwiOjEsXCJ3aW5rZWxUcmlwZWxcIjoxLFwiZ2xvYmVcIjoxfSxcImRlZmF1bHRcIjpcIm1lcmNhdG9yXCIsXCJyZXF1aXJlZFwiOnRydWV9LFwiY2VudGVyXCI6e1widHlwZVwiOlwiYXJyYXlcIixcImxlbmd0aFwiOjIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJtaW5pbXVtXCI6Wy0xODAsLTkwXSxcIm1heGltdW1cIjpbMTgwLDkwXX0sXCJwYXJhbGxlbHNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwibGVuZ3RoXCI6MixcInZhbHVlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcIm1pbmltdW1cIjpbLTkwLC05MF0sXCJtYXhpbXVtXCI6WzkwLDkwXX19LFwidGVycmFpblwiOntcInNvdXJjZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwicmVxdWlyZWRcIjp0cnVlfSxcImV4YWdnZXJhdGlvblwiOntcInR5cGVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxMDAwLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX19LFwicGFpbnRcIjpbXCJwYWludF9maWxsXCIsXCJwYWludF9saW5lXCIsXCJwYWludF9jaXJjbGVcIixcInBhaW50X2hlYXRtYXBcIixcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCIsXCJwYWludF9zeW1ib2xcIixcInBhaW50X3Jhc3RlclwiLFwicGFpbnRfaGlsbHNoYWRlXCIsXCJwYWludF9iYWNrZ3JvdW5kXCIsXCJwYWludF9za3lcIixcInBhaW50X21vZGVsXCJdLFwicGFpbnRfZmlsbFwiOntcImZpbGwtYW50aWFsaWFzXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImZpbGwtb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiZmlsbC1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLW91dGxpbmUtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiZmlsbC10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6MSxcInZpZXdwb3J0XCI6MX0sXCJkZWZhdWx0XCI6XCJtYXBcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC1wYXR0ZXJuXCI6e1widHlwZVwiOlwicmVzb2x2ZWRJbWFnZVwiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiZmlsbC1lbWlzc2l2ZS1zdHJlbmd0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9fSxcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCI6e1wiZmlsbC1leHRydXNpb24tb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJmaWxsLWV4dHJ1c2lvbi1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvclwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOjEsXCJ2aWV3cG9ydFwiOjF9LFwiZGVmYXVsdFwiOlwibWFwXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIjp7XCJ0eXBlXCI6XCJyZXNvbHZlZEltYWdlXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLWV4dHJ1c2lvbi1oZWlnaHRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLWV4dHJ1c2lvbi1iYXNlXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiZmlsbC1leHRydXNpb24tdmVydGljYWwtZ3JhZGllbnRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24taW50ZW5zaXR5XCI6e1wicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHlwZVwiOlwibnVtYmVyXCIsXCJwcml2YXRlXCI6dHJ1ZSxcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tcmFkaXVzXCI6e1wicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHlwZVwiOlwibnVtYmVyXCIsXCJwcml2YXRlXCI6dHJ1ZSxcImRlZmF1bHRcIjozLFwibWluaW11bVwiOjAsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLXdhbGwtcmFkaXVzXCI6e1wicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MyxcIm1pbmltdW1cIjowLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1ncm91bmQtcmFkaXVzXCI6e1wicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MyxcIm1pbmltdW1cIjowLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1ncm91bmQtYXR0ZW51YXRpb25cIjp7XCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLjY5LFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX19LFwiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtY29sb3JcIjp7XCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiI2ZmZmZmZlwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfX0sXCJmaWxsLWV4dHJ1c2lvbi1mbG9vZC1saWdodC1pbnRlbnNpdHlcIjp7XCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwibWVhc3VyZS1saWdodFwiXX19LFwiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtd2FsbC1yYWRpdXNcIjp7XCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLFwidHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfX0sXCJmaWxsLWV4dHJ1c2lvbi1mbG9vZC1saWdodC1ncm91bmQtcmFkaXVzXCI6e1wicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX19LFwiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtZ3JvdW5kLWF0dGVudWF0aW9uXCI6e1wicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MC42OSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19fSxcImZpbGwtZXh0cnVzaW9uLXZlcnRpY2FsLXNjYWxlXCI6e1wicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfX0sXCJmaWxsLWV4dHJ1c2lvbi1yb3VuZGVkLXJvb2ZcIjp7XCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX19LFwiZmlsbC1leHRydXNpb24tY3V0b2ZmLWZhZGUtcmFuZ2VcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7fSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwicGFpbnRfbGluZVwiOntcImxpbmUtb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLXRyYW5zbGF0ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJsaW5lLXRyYW5zbGF0ZS1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjoxLFwidmlld3BvcnRcIjoxfSxcImRlZmF1bHRcIjpcIm1hcFwiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJsaW5lLXdpZHRoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1nYXAtd2lkdGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLW9mZnNldFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLWJsdXJcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLWRhc2hhcnJheVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJtaW5pbXVtXCI6MCxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtcGF0dGVyblwiOntcInR5cGVcIjpcInJlc29sdmVkSW1hZ2VcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtZ3JhZGllbnRcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wibGluZS1wcm9ncmVzc1wiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb2xvci1yYW1wXCJ9LFwibGluZS10cmltLW9mZnNldFwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwibWluaW11bVwiOlswLDBdLFwibWF4aW11bVwiOlsxLDFdLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn0sXCJsaW5lLWVtaXNzaXZlLXN0cmVuZ3RoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJsaW5lLWJvcmRlci13aWR0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwicHJpdmF0ZVwiOnRydWUsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1ib3JkZXItY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwicHJpdmF0ZVwiOnRydWUsXCJkZWZhdWx0XCI6XCJyZ2JhKDAsIDAsIDAsIDApXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn19LFwicGFpbnRfY2lyY2xlXCI6e1wiY2lyY2xlLXJhZGl1c1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjUsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImNpcmNsZS1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJjaXJjbGUtYmx1clwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJjaXJjbGUtb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiY2lyY2xlLXRyYW5zbGF0ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJjaXJjbGUtdHJhbnNsYXRlLWFuY2hvclwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOjEsXCJ2aWV3cG9ydFwiOjF9LFwiZGVmYXVsdFwiOlwibWFwXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImNpcmNsZS1waXRjaC1zY2FsZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOjEsXCJ2aWV3cG9ydFwiOjF9LFwiZGVmYXVsdFwiOlwibWFwXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImNpcmNsZS1waXRjaC1hbGlnbm1lbnRcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjoxLFwidmlld3BvcnRcIjoxfSxcImRlZmF1bHRcIjpcInZpZXdwb3J0XCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImNpcmNsZS1zdHJva2Utd2lkdGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJjaXJjbGUtc3Ryb2tlLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImNpcmNsZS1zdHJva2Utb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiY2lyY2xlLWVtaXNzaXZlLXN0cmVuZ3RoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwicGFpbnRfaGVhdG1hcFwiOntcImhlYXRtYXAtcmFkaXVzXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MzAsXCJtaW5pbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImhlYXRtYXAtd2VpZ2h0XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImhlYXRtYXAtaW50ZW5zaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJoZWF0bWFwLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpbXCJpbnRlcnBvbGF0ZVwiLFtcImxpbmVhclwiXSxbXCJoZWF0bWFwLWRlbnNpdHlcIl0sMCxcInJnYmEoMCwgMCwgMjU1LCAwKVwiLDAuMSxcInJveWFsYmx1ZVwiLDAuMyxcImN5YW5cIiwwLjUsXCJsaW1lXCIsMC43LFwieWVsbG93XCIsMSxcInJlZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcImhlYXRtYXAtZGVuc2l0eVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb2xvci1yYW1wXCJ9LFwiaGVhdG1hcC1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifX0sXCJwYWludF9zeW1ib2xcIjp7XCJpY29uLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24tZW1pc3NpdmUtc3RyZW5ndGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWVtaXNzaXZlLXN0cmVuZ3RoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLWhhbG8tY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwicmdiYSgwLCAwLCAwLCAwKVwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1oYWxvLXdpZHRoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1oYWxvLWJsdXJcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLXRyYW5zbGF0ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLXRyYW5zbGF0ZS1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjoxLFwidmlld3BvcnRcIjoxfSxcImRlZmF1bHRcIjpcIm1hcFwiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLWltYWdlLWNyb3NzLWZhZGVcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcInRleHQtb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcIm92ZXJyaWRhYmxlXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWhhbG8tY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwicmdiYSgwLCAwLCAwLCAwKVwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1oYWxvLXdpZHRoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1oYWxvLWJsdXJcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LXRyYW5zbGF0ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LXRyYW5zbGF0ZS1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjoxLFwidmlld3BvcnRcIjoxfSxcImRlZmF1bHRcIjpcIm1hcFwiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwicGFpbnRfcmFzdGVyXCI6e1wicmFzdGVyLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInJhc3Rlci12YWx1ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb2xvci1yYW1wXCJ9LFwicmFzdGVyLWNvbG9yLW1peFwiOntcInR5cGVcIjpcImFycmF5XCIsXCJkZWZhdWx0XCI6WzAuMjEyNiwwLjcxNTIsMC4wNzIyLDBdLFwibGVuZ3RoXCI6NCxcInZhbHVlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX19LFwicmFzdGVyLWNvbG9yLXJhbmdlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcImRlZmF1bHRcIjpbMCwxXSxcImxlbmd0aFwiOjIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19fSxcInJhc3Rlci1odWUtcm90YXRlXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcInBlcmlvZFwiOjM2MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLWJyaWdodG5lc3MtbWluXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInJhc3Rlci1icmlnaHRuZXNzLW1heFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJyYXN0ZXItc2F0dXJhdGlvblwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6LTEsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLWNvbnRyYXN0XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjotMSxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJyYXN0ZXItcmVzYW1wbGluZ1wiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImxpbmVhclwiOjEsXCJuZWFyZXN0XCI6MX0sXCJkZWZhdWx0XCI6XCJsaW5lYXJcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLWZhZGUtZHVyYXRpb25cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjozMDAsXCJtaW5pbXVtXCI6MCxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifX0sXCJwYWludF9oaWxsc2hhZGVcIjp7XCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWRpcmVjdGlvblwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjMzNSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjM1OSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImhpbGxzaGFkZS1pbGx1bWluYXRpb24tYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6MSxcInZpZXdwb3J0XCI6MX0sXCJkZWZhdWx0XCI6XCJ2aWV3cG9ydFwiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MC41LFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaGlsbHNoYWRlLXNoYWRvdy1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImhpbGxzaGFkZS1oaWdobGlnaHQtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiI0ZGRkZGRlwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJoaWxsc2hhZGUtYWNjZW50LWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaGlsbHNoYWRlLWVtaXNzaXZlLXN0cmVuZ3RoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwicGFpbnRfYmFja2dyb3VuZFwiOntcImJhY2tncm91bmQtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJiYWNrZ3JvdW5kLXBhdHRlcm5cIjp7XCJ0eXBlXCI6XCJyZXNvbHZlZEltYWdlXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImJhY2tncm91bmQtb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJiYWNrZ3JvdW5kLWVtaXNzaXZlLXN0cmVuZ3RoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwicGFpbnRfc2t5XCI6e1wic2t5LXR5cGVcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJncmFkaWVudFwiOjEsXCJhdG1vc3BoZXJlXCI6MX0sXCJkZWZhdWx0XCI6XCJhdG1vc3BoZXJlXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInNreS1hdG1vc3BoZXJlLXN1blwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwibWluaW11bVwiOlswLDBdLFwibWF4aW11bVwiOlszNjAsMTgwXSxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic2t5LWF0bW9zcGhlcmUtc3VuLWludGVuc2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEwLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MTAwLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInNreS1ncmFkaWVudC1jZW50ZXJcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOlswLDBdLFwibGVuZ3RoXCI6MixcIm1pbmltdW1cIjpbMCwwXSxcIm1heGltdW1cIjpbMzYwLDE4MF0sXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInNreS1ncmFkaWVudC1yYWRpdXNcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjo5MCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjE4MCxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic2t5LWdyYWRpZW50XCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpbXCJpbnRlcnBvbGF0ZVwiLFtcImxpbmVhclwiXSxbXCJza3ktcmFkaWFsLXByb2dyZXNzXCJdLDAuOCxcIiM4N2NlZWJcIiwxLFwid2hpdGVcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJza3ktcmFkaWFsLXByb2dyZXNzXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImNvbG9yLXJhbXBcIn0sXCJza3ktYXRtb3NwaGVyZS1oYWxvLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIndoaXRlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic2t5LWF0bW9zcGhlcmUtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwid2hpdGVcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJza3ktb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwicGFpbnRfbW9kZWxcIjp7XCJtb2RlbC1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcIm1vZGVsLXJvdGF0aW9uXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjMsXCJkZWZhdWx0XCI6WzAsMCwwXSxcInBlcmlvZFwiOjM2MCxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcIm1vZGVsLXNjYWxlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjMsXCJkZWZhdWx0XCI6WzEsMSwxXSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcIm1vZGVsLXRyYW5zbGF0aW9uXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjMsXCJkZWZhdWx0XCI6WzAsMCwwXSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcIm1vZGVsLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiNmZmZmZmZcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCIsXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcIm1vZGVsLWNvbG9yLW1peC1pbnRlbnNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcIm1vZGVsLXR5cGVcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJjb21tb24tM2RcIjoxLFwibG9jYXRpb24taW5kaWNhdG9yXCI6MX0sXCJkZWZhdWx0XCI6XCJjb21tb24tM2RcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJtb2RlbC1jYXN0LXNoYWRvd3NcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7fSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJtb2RlbC1yZWNlaXZlLXNoYWRvd3NcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7fSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJtb2RlbC1hbWJpZW50LW9jY2x1c2lvbi1pbnRlbnNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHJhbnNpdGlvblwiOnRydWV9LFwibW9kZWwtZW1pc3NpdmUtc3RyZW5ndGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcIm1vZGVsLXJvdWdobmVzc1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwibW9kZWwtaGVpZ2h0LWJhc2VkLWVtaXNzaXZlLXN0cmVuZ3RoLW11bHRpcGxpZXJcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwiZGVmYXVsdFwiOlsxLDEsMSwxLDBdLFwibGVuZ3RoXCI6NSxcInZhbHVlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcIm1vZGVsLWN1dG9mZi1mYWRlLXJhbmdlXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJleHByZXNzaW9uXCI6e30sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9fSxcInRyYW5zaXRpb25cIjp7XCJkdXJhdGlvblwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjMwMCxcIm1pbmltdW1cIjowfSxcImRlbGF5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowfX0sXCJwcm9wZXJ0eS10eXBlXCI6e1wiZGF0YS1kcml2ZW5cIjp7XCJ0eXBlXCI6XCJwcm9wZXJ0eS10eXBlXCJ9LFwiY29sb3ItcmFtcFwiOntcInR5cGVcIjpcInByb3BlcnR5LXR5cGVcIn0sXCJkYXRhLWNvbnN0YW50XCI6e1widHlwZVwiOlwicHJvcGVydHktdHlwZVwifSxcImNvbnN0YW50XCI6e1widHlwZVwiOlwicHJvcGVydHktdHlwZVwifX0sXCJwcm9tb3RlSWRcIjp7XCIqXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9fX0nKTtjbGFzcyB6dHtjb25zdHJ1Y3RvcihlLHQsaSxyKXt0aGlzLm1lc3NhZ2U9KGU/YCR7ZX06IGA6XCJcIikraSxyJiYodGhpcy5pZGVudGlmaWVyPXIpLG51bGwhPXQmJnQuX19saW5lX18mJih0aGlzLmxpbmU9dC5fX2xpbmVfXyk7fX1jbGFzcyBEdCBleHRlbmRzIHp0e31mdW5jdGlvbiBQdChlLC4uLnQpe2Zvcihjb25zdCBpIG9mIHQpZm9yKGNvbnN0IHQgaW4gaSllW3RdPWlbdF07cmV0dXJuIGV9ZnVuY3Rpb24gUnQoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBOdW1iZXJ8fGUgaW5zdGFuY2VvZiBTdHJpbmd8fGUgaW5zdGFuY2VvZiBCb29sZWFuP2UudmFsdWVPZigpOmV9ZnVuY3Rpb24gTHQoZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZS5tYXAoTHQpO2lmKGUgaW5zdGFuY2VvZiBPYmplY3QmJiEoZSBpbnN0YW5jZW9mIE51bWJlcnx8ZSBpbnN0YW5jZW9mIFN0cmluZ3x8ZSBpbnN0YW5jZW9mIEJvb2xlYW4pKXtjb25zdCB0PXt9O2Zvcihjb25zdCBpIGluIGUpdFtpXT1MdChlW2ldKTtyZXR1cm4gdH1yZXR1cm4gUnQoZSl9Y2xhc3Mga3QgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKHQpLHRoaXMubWVzc2FnZT10LHRoaXMua2V5PWU7fX12YXIgT3Q9a3Q7Y2xhc3MgQnR7Y29uc3RydWN0b3IoZSx0PVtdKXt0aGlzLnBhcmVudD1lLHRoaXMuYmluZGluZ3M9e307Zm9yKGNvbnN0W2UsaV1vZiB0KXRoaXMuYmluZGluZ3NbZV09aTt9Y29uY2F0KGUpe3JldHVybiBuZXcgQnQodGhpcyxlKX1nZXQoZSl7aWYodGhpcy5iaW5kaW5nc1tlXSlyZXR1cm4gdGhpcy5iaW5kaW5nc1tlXTtpZih0aGlzLnBhcmVudClyZXR1cm4gdGhpcy5wYXJlbnQuZ2V0KGUpO3Rocm93IG5ldyBFcnJvcihgJHtlfSBub3QgZm91bmQgaW4gc2NvcGUuYCl9aGFzKGUpe3JldHVybiAhIXRoaXMuYmluZGluZ3NbZV18fCEhdGhpcy5wYXJlbnQmJnRoaXMucGFyZW50LmhhcyhlKX19dmFyIEZ0PUJ0O2NvbnN0IE50PXtraW5kOlwibnVsbFwifSxVdD17a2luZDpcIm51bWJlclwifSxWdD17a2luZDpcInN0cmluZ1wifSxqdD17a2luZDpcImJvb2xlYW5cIn0sR3Q9e2tpbmQ6XCJjb2xvclwifSxxdD17a2luZDpcIm9iamVjdFwifSxadD17a2luZDpcInZhbHVlXCJ9LCR0PXtraW5kOlwiY29sbGF0b3JcIn0sSHQ9e2tpbmQ6XCJmb3JtYXR0ZWRcIn0sV3Q9e2tpbmQ6XCJyZXNvbHZlZEltYWdlXCJ9O2Z1bmN0aW9uIFh0KGUsdCl7cmV0dXJuIHtraW5kOlwiYXJyYXlcIixpdGVtVHlwZTplLE46dH19ZnVuY3Rpb24gWXQoZSl7aWYoXCJhcnJheVwiPT09ZS5raW5kKXtjb25zdCB0PVl0KGUuaXRlbVR5cGUpO3JldHVybiBcIm51bWJlclwiPT10eXBlb2YgZS5OP2BhcnJheTwke3R9LCAke2UuTn0+YDpcInZhbHVlXCI9PT1lLml0ZW1UeXBlLmtpbmQ/XCJhcnJheVwiOmBhcnJheTwke3R9PmB9cmV0dXJuIGUua2luZH1jb25zdCBLdD1bTnQsVXQsVnQsanQsR3QsSHQscXQsWHQoWnQpLFd0XTtmdW5jdGlvbiBKdChlLHQpe2lmKFwiZXJyb3JcIj09PXQua2luZClyZXR1cm4gbnVsbDtpZihcImFycmF5XCI9PT1lLmtpbmQpe2lmKFwiYXJyYXlcIj09PXQua2luZCYmKDA9PT10Lk4mJlwidmFsdWVcIj09PXQuaXRlbVR5cGUua2luZHx8IUp0KGUuaXRlbVR5cGUsdC5pdGVtVHlwZSkpJiYoXCJudW1iZXJcIiE9dHlwZW9mIGUuTnx8ZS5OPT09dC5OKSlyZXR1cm4gbnVsbH1lbHNlIHtpZihlLmtpbmQ9PT10LmtpbmQpcmV0dXJuIG51bGw7aWYoXCJ2YWx1ZVwiPT09ZS5raW5kKWZvcihjb25zdCBlIG9mIEt0KWlmKCFKdChlLHQpKXJldHVybiBudWxsfXJldHVybiBgRXhwZWN0ZWQgJHtZdChlKX0gYnV0IGZvdW5kICR7WXQodCl9IGluc3RlYWQuYH1mdW5jdGlvbiBRdChlLHQpe3JldHVybiB0LnNvbWUoKHQ9PnQua2luZD09PWUua2luZCkpfWZ1bmN0aW9uIGVpKGUsdCl7cmV0dXJuIHQuc29tZSgodD0+XCJudWxsXCI9PT10P251bGw9PT1lOlwiYXJyYXlcIj09PXQ/QXJyYXkuaXNBcnJheShlKTpcIm9iamVjdFwiPT09dD9lJiYhQXJyYXkuaXNBcnJheShlKSYmXCJvYmplY3RcIj09dHlwZW9mIGU6dD09PXR5cGVvZiBlKSl9dmFyIHRpLGlpPXt0cmFuc3BhcmVudDpbMCwwLDAsMF0sYWxpY2VibHVlOlsyNDAsMjQ4LDI1NSwxXSxhbnRpcXVld2hpdGU6WzI1MCwyMzUsMjE1LDFdLGFxdWE6WzAsMjU1LDI1NSwxXSxhcXVhbWFyaW5lOlsxMjcsMjU1LDIxMiwxXSxhenVyZTpbMjQwLDI1NSwyNTUsMV0sYmVpZ2U6WzI0NSwyNDUsMjIwLDFdLGJpc3F1ZTpbMjU1LDIyOCwxOTYsMV0sYmxhY2s6WzAsMCwwLDFdLGJsYW5jaGVkYWxtb25kOlsyNTUsMjM1LDIwNSwxXSxibHVlOlswLDAsMjU1LDFdLGJsdWV2aW9sZXQ6WzEzOCw0MywyMjYsMV0sYnJvd246WzE2NSw0Miw0MiwxXSxidXJseXdvb2Q6WzIyMiwxODQsMTM1LDFdLGNhZGV0Ymx1ZTpbOTUsMTU4LDE2MCwxXSxjaGFydHJldXNlOlsxMjcsMjU1LDAsMV0sY2hvY29sYXRlOlsyMTAsMTA1LDMwLDFdLGNvcmFsOlsyNTUsMTI3LDgwLDFdLGNvcm5mbG93ZXJibHVlOlsxMDAsMTQ5LDIzNywxXSxjb3Juc2lsazpbMjU1LDI0OCwyMjAsMV0sY3JpbXNvbjpbMjIwLDIwLDYwLDFdLGN5YW46WzAsMjU1LDI1NSwxXSxkYXJrYmx1ZTpbMCwwLDEzOSwxXSxkYXJrY3lhbjpbMCwxMzksMTM5LDFdLGRhcmtnb2xkZW5yb2Q6WzE4NCwxMzQsMTEsMV0sZGFya2dyYXk6WzE2OSwxNjksMTY5LDFdLGRhcmtncmVlbjpbMCwxMDAsMCwxXSxkYXJrZ3JleTpbMTY5LDE2OSwxNjksMV0sZGFya2toYWtpOlsxODksMTgzLDEwNywxXSxkYXJrbWFnZW50YTpbMTM5LDAsMTM5LDFdLGRhcmtvbGl2ZWdyZWVuOls4NSwxMDcsNDcsMV0sZGFya29yYW5nZTpbMjU1LDE0MCwwLDFdLGRhcmtvcmNoaWQ6WzE1Myw1MCwyMDQsMV0sZGFya3JlZDpbMTM5LDAsMCwxXSxkYXJrc2FsbW9uOlsyMzMsMTUwLDEyMiwxXSxkYXJrc2VhZ3JlZW46WzE0MywxODgsMTQzLDFdLGRhcmtzbGF0ZWJsdWU6WzcyLDYxLDEzOSwxXSxkYXJrc2xhdGVncmF5Ols0Nyw3OSw3OSwxXSxkYXJrc2xhdGVncmV5Ols0Nyw3OSw3OSwxXSxkYXJrdHVycXVvaXNlOlswLDIwNiwyMDksMV0sZGFya3Zpb2xldDpbMTQ4LDAsMjExLDFdLGRlZXBwaW5rOlsyNTUsMjAsMTQ3LDFdLGRlZXBza3libHVlOlswLDE5MSwyNTUsMV0sZGltZ3JheTpbMTA1LDEwNSwxMDUsMV0sZGltZ3JleTpbMTA1LDEwNSwxMDUsMV0sZG9kZ2VyYmx1ZTpbMzAsMTQ0LDI1NSwxXSxmaXJlYnJpY2s6WzE3OCwzNCwzNCwxXSxmbG9yYWx3aGl0ZTpbMjU1LDI1MCwyNDAsMV0sZm9yZXN0Z3JlZW46WzM0LDEzOSwzNCwxXSxmdWNoc2lhOlsyNTUsMCwyNTUsMV0sZ2FpbnNib3JvOlsyMjAsMjIwLDIyMCwxXSxnaG9zdHdoaXRlOlsyNDgsMjQ4LDI1NSwxXSxnb2xkOlsyNTUsMjE1LDAsMV0sZ29sZGVucm9kOlsyMTgsMTY1LDMyLDFdLGdyYXk6WzEyOCwxMjgsMTI4LDFdLGdyZWVuOlswLDEyOCwwLDFdLGdyZWVueWVsbG93OlsxNzMsMjU1LDQ3LDFdLGdyZXk6WzEyOCwxMjgsMTI4LDFdLGhvbmV5ZGV3OlsyNDAsMjU1LDI0MCwxXSxob3RwaW5rOlsyNTUsMTA1LDE4MCwxXSxpbmRpYW5yZWQ6WzIwNSw5Miw5MiwxXSxpbmRpZ286Wzc1LDAsMTMwLDFdLGl2b3J5OlsyNTUsMjU1LDI0MCwxXSxraGFraTpbMjQwLDIzMCwxNDAsMV0sbGF2ZW5kZXI6WzIzMCwyMzAsMjUwLDFdLGxhdmVuZGVyYmx1c2g6WzI1NSwyNDAsMjQ1LDFdLGxhd25ncmVlbjpbMTI0LDI1MiwwLDFdLGxlbW9uY2hpZmZvbjpbMjU1LDI1MCwyMDUsMV0sbGlnaHRibHVlOlsxNzMsMjE2LDIzMCwxXSxsaWdodGNvcmFsOlsyNDAsMTI4LDEyOCwxXSxsaWdodGN5YW46WzIyNCwyNTUsMjU1LDFdLGxpZ2h0Z29sZGVucm9keWVsbG93OlsyNTAsMjUwLDIxMCwxXSxsaWdodGdyYXk6WzIxMSwyMTEsMjExLDFdLGxpZ2h0Z3JlZW46WzE0NCwyMzgsMTQ0LDFdLGxpZ2h0Z3JleTpbMjExLDIxMSwyMTEsMV0sbGlnaHRwaW5rOlsyNTUsMTgyLDE5MywxXSxsaWdodHNhbG1vbjpbMjU1LDE2MCwxMjIsMV0sbGlnaHRzZWFncmVlbjpbMzIsMTc4LDE3MCwxXSxsaWdodHNreWJsdWU6WzEzNSwyMDYsMjUwLDFdLGxpZ2h0c2xhdGVncmF5OlsxMTksMTM2LDE1MywxXSxsaWdodHNsYXRlZ3JleTpbMTE5LDEzNiwxNTMsMV0sbGlnaHRzdGVlbGJsdWU6WzE3NiwxOTYsMjIyLDFdLGxpZ2h0eWVsbG93OlsyNTUsMjU1LDIyNCwxXSxsaW1lOlswLDI1NSwwLDFdLGxpbWVncmVlbjpbNTAsMjA1LDUwLDFdLGxpbmVuOlsyNTAsMjQwLDIzMCwxXSxtYWdlbnRhOlsyNTUsMCwyNTUsMV0sbWFyb29uOlsxMjgsMCwwLDFdLG1lZGl1bWFxdWFtYXJpbmU6WzEwMiwyMDUsMTcwLDFdLG1lZGl1bWJsdWU6WzAsMCwyMDUsMV0sbWVkaXVtb3JjaGlkOlsxODYsODUsMjExLDFdLG1lZGl1bXB1cnBsZTpbMTQ3LDExMiwyMTksMV0sbWVkaXVtc2VhZ3JlZW46WzYwLDE3OSwxMTMsMV0sbWVkaXVtc2xhdGVibHVlOlsxMjMsMTA0LDIzOCwxXSxtZWRpdW1zcHJpbmdncmVlbjpbMCwyNTAsMTU0LDFdLG1lZGl1bXR1cnF1b2lzZTpbNzIsMjA5LDIwNCwxXSxtZWRpdW12aW9sZXRyZWQ6WzE5OSwyMSwxMzMsMV0sbWlkbmlnaHRibHVlOlsyNSwyNSwxMTIsMV0sbWludGNyZWFtOlsyNDUsMjU1LDI1MCwxXSxtaXN0eXJvc2U6WzI1NSwyMjgsMjI1LDFdLG1vY2Nhc2luOlsyNTUsMjI4LDE4MSwxXSxuYXZham93aGl0ZTpbMjU1LDIyMiwxNzMsMV0sbmF2eTpbMCwwLDEyOCwxXSxvbGRsYWNlOlsyNTMsMjQ1LDIzMCwxXSxvbGl2ZTpbMTI4LDEyOCwwLDFdLG9saXZlZHJhYjpbMTA3LDE0MiwzNSwxXSxvcmFuZ2U6WzI1NSwxNjUsMCwxXSxvcmFuZ2VyZWQ6WzI1NSw2OSwwLDFdLG9yY2hpZDpbMjE4LDExMiwyMTQsMV0scGFsZWdvbGRlbnJvZDpbMjM4LDIzMiwxNzAsMV0scGFsZWdyZWVuOlsxNTIsMjUxLDE1MiwxXSxwYWxldHVycXVvaXNlOlsxNzUsMjM4LDIzOCwxXSxwYWxldmlvbGV0cmVkOlsyMTksMTEyLDE0NywxXSxwYXBheWF3aGlwOlsyNTUsMjM5LDIxMywxXSxwZWFjaHB1ZmY6WzI1NSwyMTgsMTg1LDFdLHBlcnU6WzIwNSwxMzMsNjMsMV0scGluazpbMjU1LDE5MiwyMDMsMV0scGx1bTpbMjIxLDE2MCwyMjEsMV0scG93ZGVyYmx1ZTpbMTc2LDIyNCwyMzAsMV0scHVycGxlOlsxMjgsMCwxMjgsMV0scmViZWNjYXB1cnBsZTpbMTAyLDUxLDE1MywxXSxyZWQ6WzI1NSwwLDAsMV0scm9zeWJyb3duOlsxODgsMTQzLDE0MywxXSxyb3lhbGJsdWU6WzY1LDEwNSwyMjUsMV0sc2FkZGxlYnJvd246WzEzOSw2OSwxOSwxXSxzYWxtb246WzI1MCwxMjgsMTE0LDFdLHNhbmR5YnJvd246WzI0NCwxNjQsOTYsMV0sc2VhZ3JlZW46WzQ2LDEzOSw4NywxXSxzZWFzaGVsbDpbMjU1LDI0NSwyMzgsMV0sc2llbm5hOlsxNjAsODIsNDUsMV0sc2lsdmVyOlsxOTIsMTkyLDE5MiwxXSxza3libHVlOlsxMzUsMjA2LDIzNSwxXSxzbGF0ZWJsdWU6WzEwNiw5MCwyMDUsMV0sc2xhdGVncmF5OlsxMTIsMTI4LDE0NCwxXSxzbGF0ZWdyZXk6WzExMiwxMjgsMTQ0LDFdLHNub3c6WzI1NSwyNTAsMjUwLDFdLHNwcmluZ2dyZWVuOlswLDI1NSwxMjcsMV0sc3RlZWxibHVlOls3MCwxMzAsMTgwLDFdLHRhbjpbMjEwLDE4MCwxNDAsMV0sdGVhbDpbMCwxMjgsMTI4LDFdLHRoaXN0bGU6WzIxNiwxOTEsMjE2LDFdLHRvbWF0bzpbMjU1LDk5LDcxLDFdLHR1cnF1b2lzZTpbNjQsMjI0LDIwOCwxXSx2aW9sZXQ6WzIzOCwxMzAsMjM4LDFdLHdoZWF0OlsyNDUsMjIyLDE3OSwxXSx3aGl0ZTpbMjU1LDI1NSwyNTUsMV0sd2hpdGVzbW9rZTpbMjQ1LDI0NSwyNDUsMV0seWVsbG93OlsyNTUsMjU1LDAsMV0seWVsbG93Z3JlZW46WzE1NCwyMDUsNTAsMV19O2Z1bmN0aW9uIHJpKGUpe3JldHVybiAoZT1NYXRoLnJvdW5kKGUpKTwwPzA6ZT4yNTU/MjU1OmV9ZnVuY3Rpb24gbmkoZSl7cmV0dXJuIHJpKFwiJVwiPT09ZVtlLmxlbmd0aC0xXT9wYXJzZUZsb2F0KGUpLzEwMCoyNTU6cGFyc2VJbnQoZSkpfWZ1bmN0aW9uIG9pKGUpe3JldHVybiAodD1cIiVcIj09PWVbZS5sZW5ndGgtMV0/cGFyc2VGbG9hdChlKS8xMDA6cGFyc2VGbG9hdChlKSk8MD8wOnQ+MT8xOnQ7dmFyIHQ7fWZ1bmN0aW9uIHNpKGUsdCxpKXtyZXR1cm4gaTwwP2krPTE6aT4xJiYoaS09MSksNippPDE/ZSsodC1lKSppKjY6MippPDE/dDozKmk8Mj9lKyh0LWUpKigyLzMtaSkqNjplfXRyeXt0aT17fS5wYXJzZUNTU0NvbG9yPWZ1bmN0aW9uKGUpe3ZhciB0LGk9ZS5yZXBsYWNlKC8gL2csXCJcIikudG9Mb3dlckNhc2UoKTtpZihpIGluIGlpKXJldHVybiBpaVtpXS5zbGljZSgpO2lmKFwiI1wiPT09aVswXSlyZXR1cm4gND09PWkubGVuZ3RoPyh0PXBhcnNlSW50KGkuc3Vic3RyKDEpLDE2KSk+PTAmJnQ8PTQwOTU/WygzODQwJnQpPj40fCgzODQwJnQpPj44LDI0MCZ0fCgyNDAmdCk+PjQsMTUmdHwoMTUmdCk8PDQsMV06bnVsbDo3PT09aS5sZW5ndGgmJih0PXBhcnNlSW50KGkuc3Vic3RyKDEpLDE2KSk+PTAmJnQ8PTE2Nzc3MjE1P1soMTY3MTE2ODAmdCk+PjE2LCg2NTI4MCZ0KT4+OCwyNTUmdCwxXTpudWxsO3ZhciByPWkuaW5kZXhPZihcIihcIiksbj1pLmluZGV4T2YoXCIpXCIpO2lmKC0xIT09ciYmbisxPT09aS5sZW5ndGgpe3ZhciBvPWkuc3Vic3RyKDAscikscz1pLnN1YnN0cihyKzEsbi0ocisxKSkuc3BsaXQoXCIsXCIpLGE9MTtzd2l0Y2gobyl7Y2FzZVwicmdiYVwiOmlmKDQhPT1zLmxlbmd0aClyZXR1cm4gbnVsbDthPW9pKHMucG9wKCkpO2Nhc2VcInJnYlwiOnJldHVybiAzIT09cy5sZW5ndGg/bnVsbDpbbmkoc1swXSksbmkoc1sxXSksbmkoc1syXSksYV07Y2FzZVwiaHNsYVwiOmlmKDQhPT1zLmxlbmd0aClyZXR1cm4gbnVsbDthPW9pKHMucG9wKCkpO2Nhc2VcImhzbFwiOmlmKDMhPT1zLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgbD0ocGFyc2VGbG9hdChzWzBdKSUzNjArMzYwKSUzNjAvMzYwLGM9b2koc1sxXSksaD1vaShzWzJdKSx1PWg8PS41P2gqKGMrMSk6aCtjLWgqYyxkPTIqaC11O3JldHVybiBbcmkoMjU1KnNpKGQsdSxsKzEvMykpLHJpKDI1NSpzaShkLHUsbCkpLHJpKDI1NSpzaShkLHUsbC0xLzMpKSxhXTtkZWZhdWx0OnJldHVybiBudWxsfX1yZXR1cm4gbnVsbH07fWNhdGNoKGUpe31jbGFzcyBhaXtjb25zdHJ1Y3RvcihlLHQsaSxyPTEpe3RoaXMucj1lLHRoaXMuZz10LHRoaXMuYj1pLHRoaXMuYT1yO31zdGF0aWMgcGFyc2UoZSl7aWYoIWUpcmV0dXJuO2lmKGUgaW5zdGFuY2VvZiBhaSlyZXR1cm4gZTtpZihcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm47Y29uc3QgdD10aShlKTtyZXR1cm4gdD9uZXcgYWkodFswXS8yNTUqdFszXSx0WzFdLzI1NSp0WzNdLHRbMl0vMjU1KnRbM10sdFszXSk6dm9pZCAwfXRvU3RyaW5nKCl7Y29uc3RbZSx0LGkscl09dGhpcy50b0FycmF5KCk7cmV0dXJuIGByZ2JhKCR7TWF0aC5yb3VuZChlKX0sJHtNYXRoLnJvdW5kKHQpfSwke01hdGgucm91bmQoaSl9LCR7cn0pYH10b0FycmF5KCl7Y29uc3R7cjplLGc6dCxiOmksYTpyfT10aGlzO3JldHVybiAwPT09cj9bMCwwLDAsMF06WzI1NSplL3IsMjU1KnQvciwyNTUqaS9yLHJdfXRvQXJyYXkwMSgpe2NvbnN0e3I6ZSxnOnQsYjppLGE6cn09dGhpcztyZXR1cm4gMD09PXI/WzAsMCwwLDBdOltlL3IsdC9yLGkvcixyXX10b0FycmF5MDFTY2FsZWQoZSl7Y29uc3R7cjp0LGc6aSxiOnIsYTpufT10aGlzO3JldHVybiAwPT09bj9bMCwwLDBdOlt0L24qZSxpL24qZSxyL24qZV19dG9BcnJheTAxUHJlbXVsdGlwbGllZEFscGhhKCl7Y29uc3R7cjplLGc6dCxiOmksYTpyfT10aGlzO3JldHVybiBbZSx0LGkscl19dG9BcnJheTAxTGluZWFyKCl7Y29uc3R7cjplLGc6dCxiOmksYTpyfT10aGlzO3JldHVybiAwPT09cj9bMCwwLDAsMF06W01hdGgucG93KGUvciwyLjIpLE1hdGgucG93KHQvciwyLjIpLE1hdGgucG93KGkvciwyLjIpLHJdfX1haS5ibGFjaz1uZXcgYWkoMCwwLDAsMSksYWkud2hpdGU9bmV3IGFpKDEsMSwxLDEpLGFpLnRyYW5zcGFyZW50PW5ldyBhaSgwLDAsMCwwKSxhaS5yZWQ9bmV3IGFpKDEsMCwwLDEpLGFpLmJsdWU9bmV3IGFpKDAsMCwxLDEpO3ZhciBsaT1haTtjbGFzcyBjaXtjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5zZW5zaXRpdml0eT1lP3Q/XCJ2YXJpYW50XCI6XCJjYXNlXCI6dD9cImFjY2VudFwiOlwiYmFzZVwiLHRoaXMubG9jYWxlPWksdGhpcy5jb2xsYXRvcj1uZXcgSW50bC5Db2xsYXRvcih0aGlzLmxvY2FsZT90aGlzLmxvY2FsZTpbXSx7c2Vuc2l0aXZpdHk6dGhpcy5zZW5zaXRpdml0eSx1c2FnZTpcInNlYXJjaFwifSk7fWNvbXBhcmUoZSx0KXtyZXR1cm4gdGhpcy5jb2xsYXRvci5jb21wYXJlKGUsdCl9cmVzb2x2ZWRMb2NhbGUoKXtyZXR1cm4gbmV3IEludGwuQ29sbGF0b3IodGhpcy5sb2NhbGU/dGhpcy5sb2NhbGU6W10pLnJlc29sdmVkT3B0aW9ucygpLmxvY2FsZX19Y2xhc3MgaGl7Y29uc3RydWN0b3IoZSx0LGkscixuKXt0aGlzLnRleHQ9ZS5ub3JtYWxpemU/ZS5ub3JtYWxpemUoKTplLHRoaXMuaW1hZ2U9dCx0aGlzLnNjYWxlPWksdGhpcy5mb250U3RhY2s9cix0aGlzLnRleHRDb2xvcj1uO319Y2xhc3MgdWl7Y29uc3RydWN0b3IoZSl7dGhpcy5zZWN0aW9ucz1lO31zdGF0aWMgZnJvbVN0cmluZyhlKXtyZXR1cm4gbmV3IHVpKFtuZXcgaGkoZSxudWxsLG51bGwsbnVsbCxudWxsKV0pfWlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMuc2VjdGlvbnMubGVuZ3RofHwhdGhpcy5zZWN0aW9ucy5zb21lKChlPT4wIT09ZS50ZXh0Lmxlbmd0aHx8ZS5pbWFnZSYmMCE9PWUuaW1hZ2UubmFtZVByaW1hcnkubGVuZ3RoKSl9c3RhdGljIGZhY3RvcnkoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB1aT9lOnVpLmZyb21TdHJpbmcoZSl9dG9TdHJpbmcoKXtyZXR1cm4gMD09PXRoaXMuc2VjdGlvbnMubGVuZ3RoP1wiXCI6dGhpcy5zZWN0aW9ucy5tYXAoKGU9PmUudGV4dCkpLmpvaW4oXCJcIil9c2VyaWFsaXplKCl7Y29uc3QgZT1bXCJmb3JtYXRcIl07Zm9yKGNvbnN0IHQgb2YgdGhpcy5zZWN0aW9ucyl7aWYodC5pbWFnZSl7ZS5wdXNoKFtcImltYWdlXCIsdC5pbWFnZS5uYW1lUHJpbWFyeV0pO2NvbnRpbnVlfWUucHVzaCh0LnRleHQpO2NvbnN0IGk9e307dC5mb250U3RhY2smJihpW1widGV4dC1mb250XCJdPVtcImxpdGVyYWxcIix0LmZvbnRTdGFjay5zcGxpdChcIixcIildKSx0LnNjYWxlJiYoaVtcImZvbnQtc2NhbGVcIl09dC5zY2FsZSksdC50ZXh0Q29sb3ImJihpW1widGV4dC1jb2xvclwiXT1bXCJyZ2JhXCJdLmNvbmNhdCh0LnRleHRDb2xvci50b0FycmF5KCkpKSxlLnB1c2goaSk7fXJldHVybiBlfX1jbGFzcyBkaXtjb25zdHJ1Y3RvcihlKXt0aGlzLm5hbWVQcmltYXJ5PWUubmFtZVByaW1hcnksZS5uYW1lU2Vjb25kYXJ5JiYodGhpcy5uYW1lU2Vjb25kYXJ5PWUubmFtZVNlY29uZGFyeSksdGhpcy5hdmFpbGFibGU9ZS5hdmFpbGFibGU7fXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMubmFtZVNlY29uZGFyeT9gWyR7dGhpcy5uYW1lUHJpbWFyeX0sJHt0aGlzLm5hbWVTZWNvbmRhcnl9XWA6dGhpcy5uYW1lUHJpbWFyeX1zdGF0aWMgZnJvbVN0cmluZyhlLHQpe3JldHVybiBlP25ldyBkaSh7bmFtZVByaW1hcnk6ZSxuYW1lU2Vjb25kYXJ5OnQsYXZhaWxhYmxlOiExfSk6bnVsbH1zZXJpYWxpemUoKXtyZXR1cm4gdGhpcy5uYW1lU2Vjb25kYXJ5P1tcImltYWdlXCIsdGhpcy5uYW1lUHJpbWFyeSx0aGlzLm5hbWVTZWNvbmRhcnldOltcImltYWdlXCIsdGhpcy5uYW1lUHJpbWFyeV19fWZ1bmN0aW9uIHBpKGUsdCxpLHIpe3JldHVybiBcIm51bWJlclwiPT10eXBlb2YgZSYmZT49MCYmZTw9MjU1JiZcIm51bWJlclwiPT10eXBlb2YgdCYmdD49MCYmdDw9MjU1JiZcIm51bWJlclwiPT10eXBlb2YgaSYmaT49MCYmaTw9MjU1P3ZvaWQgMD09PXJ8fFwibnVtYmVyXCI9PXR5cGVvZiByJiZyPj0wJiZyPD0xP251bGw6YEludmFsaWQgcmdiYSB2YWx1ZSBbJHtbZSx0LGkscl0uam9pbihcIiwgXCIpfV06ICdhJyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMS5gOmBJbnZhbGlkIHJnYmEgdmFsdWUgWyR7KFwibnVtYmVyXCI9PXR5cGVvZiByP1tlLHQsaSxyXTpbZSx0LGldKS5qb2luKFwiLCBcIil9XTogJ3InLCAnZycsIGFuZCAnYicgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDI1NS5gfWZ1bmN0aW9uIGZpKGUpe2lmKG51bGw9PT1lKXJldHVybiAhMDtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gITA7aWYoXCJib29sZWFuXCI9PXR5cGVvZiBlKXJldHVybiAhMDtpZihcIm51bWJlclwiPT10eXBlb2YgZSlyZXR1cm4gITA7aWYoZSBpbnN0YW5jZW9mIGxpKXJldHVybiAhMDtpZihlIGluc3RhbmNlb2YgY2kpcmV0dXJuICEwO2lmKGUgaW5zdGFuY2VvZiB1aSlyZXR1cm4gITA7aWYoZSBpbnN0YW5jZW9mIGRpKXJldHVybiAhMDtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IoY29uc3QgdCBvZiBlKWlmKCFmaSh0KSlyZXR1cm4gITE7cmV0dXJuICEwfWlmKFwib2JqZWN0XCI9PXR5cGVvZiBlKXtmb3IoY29uc3QgdCBpbiBlKWlmKCFmaShlW3RdKSlyZXR1cm4gITE7cmV0dXJuICEwfXJldHVybiAhMX1mdW5jdGlvbiBtaShlKXtpZihudWxsPT09ZSlyZXR1cm4gTnQ7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIFZ0O2lmKFwiYm9vbGVhblwiPT10eXBlb2YgZSlyZXR1cm4ganQ7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpcmV0dXJuIFV0O2lmKGUgaW5zdGFuY2VvZiBsaSlyZXR1cm4gR3Q7aWYoZSBpbnN0YW5jZW9mIGNpKXJldHVybiAkdDtpZihlIGluc3RhbmNlb2YgdWkpcmV0dXJuIEh0O2lmKGUgaW5zdGFuY2VvZiBkaSlyZXR1cm4gV3Q7aWYoQXJyYXkuaXNBcnJheShlKSl7Y29uc3QgdD1lLmxlbmd0aDtsZXQgaTtmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPW1pKHQpO2lmKGkpe2lmKGk9PT1lKWNvbnRpbnVlO2k9WnQ7YnJlYWt9aT1lO31yZXR1cm4gWHQoaXx8WnQsdCl9cmV0dXJuIHF0fWZ1bmN0aW9uIF9pKGUpe2NvbnN0IHQ9dHlwZW9mIGU7cmV0dXJuIG51bGw9PT1lP1wiXCI6XCJzdHJpbmdcIj09PXR8fFwibnVtYmVyXCI9PT10fHxcImJvb2xlYW5cIj09PXQ/U3RyaW5nKGUpOmUgaW5zdGFuY2VvZiBsaXx8ZSBpbnN0YW5jZW9mIHVpfHxlIGluc3RhbmNlb2YgZGk/ZS50b1N0cmluZygpOkpTT04uc3RyaW5naWZ5KGUpfWNsYXNzIGdpe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPWUsdGhpcy52YWx1ZT10O31zdGF0aWMgcGFyc2UoZSx0KXtpZigyIT09ZS5sZW5ndGgpcmV0dXJuIHQuZXJyb3IoYCdsaXRlcmFsJyBleHByZXNzaW9uIHJlcXVpcmVzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBidXQgZm91bmQgJHtlLmxlbmd0aC0xfSBpbnN0ZWFkLmApO2lmKCFmaShlWzFdKSlyZXR1cm4gdC5lcnJvcihcImludmFsaWQgdmFsdWVcIik7Y29uc3QgaT1lWzFdO2xldCByPW1pKGkpO2NvbnN0IG49dC5leHBlY3RlZFR5cGU7cmV0dXJuIFwiYXJyYXlcIiE9PXIua2luZHx8MCE9PXIuTnx8IW58fFwiYXJyYXlcIiE9PW4ua2luZHx8XCJudW1iZXJcIj09dHlwZW9mIG4uTiYmMCE9PW4uTnx8KHI9biksbmV3IGdpKHIsaSl9ZXZhbHVhdGUoKXtyZXR1cm4gdGhpcy52YWx1ZX1lYWNoQ2hpbGQoKXt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiAhMH1zZXJpYWxpemUoKXtyZXR1cm4gXCJhcnJheVwiPT09dGhpcy50eXBlLmtpbmR8fFwib2JqZWN0XCI9PT10aGlzLnR5cGUua2luZD9bXCJsaXRlcmFsXCIsdGhpcy52YWx1ZV06dGhpcy52YWx1ZSBpbnN0YW5jZW9mIGxpP1tcInJnYmFcIl0uY29uY2F0KHRoaXMudmFsdWUudG9BcnJheSgpKTp0aGlzLnZhbHVlIGluc3RhbmNlb2YgdWk/dGhpcy52YWx1ZS5zZXJpYWxpemUoKTp0aGlzLnZhbHVlfX12YXIgeWk9Z2kseGk9Y2xhc3N7Y29uc3RydWN0b3IoZSl7dGhpcy5uYW1lPVwiRXhwcmVzc2lvbkV2YWx1YXRpb25FcnJvclwiLHRoaXMubWVzc2FnZT1lO310b0pTT04oKXtyZXR1cm4gdGhpcy5tZXNzYWdlfX07Y29uc3Qgdmk9e3N0cmluZzpWdCxudW1iZXI6VXQsYm9vbGVhbjpqdCxvYmplY3Q6cXR9O2NsYXNzIGJpe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPWUsdGhpcy5hcmdzPXQ7fXN0YXRpYyBwYXJzZShlLHQpe2lmKGUubGVuZ3RoPDIpcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlZCBhdCBsZWFzdCBvbmUgYXJndW1lbnQuXCIpO2xldCBpLHI9MTtjb25zdCBuPWVbMF07aWYoXCJhcnJheVwiPT09bil7bGV0IG4sbztpZihlLmxlbmd0aD4yKXtjb25zdCBpPWVbMV07aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGl8fCEoaSBpbiB2aSl8fFwib2JqZWN0XCI9PT1pKXJldHVybiB0LmVycm9yKCdUaGUgaXRlbSB0eXBlIGFyZ3VtZW50IG9mIFwiYXJyYXlcIiBtdXN0IGJlIG9uZSBvZiBzdHJpbmcsIG51bWJlciwgYm9vbGVhbicsMSk7bj12aVtpXSxyKys7fWVsc2Ugbj1adDtpZihlLmxlbmd0aD4zKXtpZihudWxsIT09ZVsyXSYmKFwibnVtYmVyXCIhPXR5cGVvZiBlWzJdfHxlWzJdPDB8fGVbMl0hPT1NYXRoLmZsb29yKGVbMl0pKSlyZXR1cm4gdC5lcnJvcignVGhlIGxlbmd0aCBhcmd1bWVudCB0byBcImFycmF5XCIgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIgbGl0ZXJhbCcsMik7bz1lWzJdLHIrKzt9aT1YdChuLG8pO31lbHNlIGk9dmlbbl07Y29uc3Qgbz1bXTtmb3IoO3I8ZS5sZW5ndGg7cisrKXtjb25zdCBpPXQucGFyc2UoZVtyXSxyLFp0KTtpZighaSlyZXR1cm4gbnVsbDtvLnB1c2goaSk7fXJldHVybiBuZXcgYmkoaSxvKX1ldmFsdWF0ZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMuYXJncy5sZW5ndGg7dCsrKXtjb25zdCBpPXRoaXMuYXJnc1t0XS5ldmFsdWF0ZShlKTtpZighSnQodGhpcy50eXBlLG1pKGkpKSlyZXR1cm4gaTtpZih0PT09dGhpcy5hcmdzLmxlbmd0aC0xKXRocm93IG5ldyB4aShgRXhwZWN0ZWQgdmFsdWUgdG8gYmUgb2YgdHlwZSAke1l0KHRoaXMudHlwZSl9LCBidXQgZm91bmQgJHtZdChtaShpKSl9IGluc3RlYWQuYCl9cmV0dXJuIG51bGx9ZWFjaENoaWxkKGUpe3RoaXMuYXJncy5mb3JFYWNoKGUpO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuIHRoaXMuYXJncy5ldmVyeSgoZT0+ZS5vdXRwdXREZWZpbmVkKCkpKX1zZXJpYWxpemUoKXtjb25zdCBlPXRoaXMudHlwZSx0PVtlLmtpbmRdO2lmKFwiYXJyYXlcIj09PWUua2luZCl7Y29uc3QgaT1lLml0ZW1UeXBlO2lmKFwic3RyaW5nXCI9PT1pLmtpbmR8fFwibnVtYmVyXCI9PT1pLmtpbmR8fFwiYm9vbGVhblwiPT09aS5raW5kKXt0LnB1c2goaS5raW5kKTtjb25zdCByPWUuTjsoXCJudW1iZXJcIj09dHlwZW9mIHJ8fHRoaXMuYXJncy5sZW5ndGg+MSkmJnQucHVzaChyKTt9fXJldHVybiB0LmNvbmNhdCh0aGlzLmFyZ3MubWFwKChlPT5lLnNlcmlhbGl6ZSgpKSkpfX12YXIgd2k9Ymk7Y2xhc3MgVGl7Y29uc3RydWN0b3IoZSl7dGhpcy50eXBlPUh0LHRoaXMuc2VjdGlvbnM9ZTt9c3RhdGljIHBhcnNlKGUsdCl7aWYoZS5sZW5ndGg8MilyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIGF0IGxlYXN0IG9uZSBhcmd1bWVudC5cIik7Y29uc3QgaT1lWzFdO2lmKCFBcnJheS5pc0FycmF5KGkpJiZcIm9iamVjdFwiPT10eXBlb2YgaSlyZXR1cm4gdC5lcnJvcihcIkZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYW4gaW1hZ2Ugb3IgdGV4dCBzZWN0aW9uLlwiKTtjb25zdCByPVtdO2xldCBuPSExO2ZvcihsZXQgaT0xO2k8PWUubGVuZ3RoLTE7KytpKXtjb25zdCBvPWVbaV07aWYobiYmXCJvYmplY3RcIj09dHlwZW9mIG8mJiFBcnJheS5pc0FycmF5KG8pKXtuPSExO2xldCBlPW51bGw7aWYob1tcImZvbnQtc2NhbGVcIl0mJihlPXQucGFyc2Uob1tcImZvbnQtc2NhbGVcIl0sMSxVdCksIWUpKXJldHVybiBudWxsO2xldCBpPW51bGw7aWYob1tcInRleHQtZm9udFwiXSYmKGk9dC5wYXJzZShvW1widGV4dC1mb250XCJdLDEsWHQoVnQpKSwhaSkpcmV0dXJuIG51bGw7bGV0IHM9bnVsbDtpZihvW1widGV4dC1jb2xvclwiXSYmKHM9dC5wYXJzZShvW1widGV4dC1jb2xvclwiXSwxLEd0KSwhcykpcmV0dXJuIG51bGw7Y29uc3QgYT1yW3IubGVuZ3RoLTFdO2Euc2NhbGU9ZSxhLmZvbnQ9aSxhLnRleHRDb2xvcj1zO31lbHNlIHtjb25zdCBvPXQucGFyc2UoZVtpXSwxLFp0KTtpZighbylyZXR1cm4gbnVsbDtjb25zdCBzPW8udHlwZS5raW5kO2lmKFwic3RyaW5nXCIhPT1zJiZcInZhbHVlXCIhPT1zJiZcIm51bGxcIiE9PXMmJlwicmVzb2x2ZWRJbWFnZVwiIT09cylyZXR1cm4gdC5lcnJvcihcIkZvcm1hdHRlZCB0ZXh0IHR5cGUgbXVzdCBiZSAnc3RyaW5nJywgJ3ZhbHVlJywgJ2ltYWdlJyBvciAnbnVsbCcuXCIpO249ITAsci5wdXNoKHtjb250ZW50Om8sc2NhbGU6bnVsbCxmb250Om51bGwsdGV4dENvbG9yOm51bGx9KTt9fXJldHVybiBuZXcgVGkocil9ZXZhbHVhdGUoZSl7cmV0dXJuIG5ldyB1aSh0aGlzLnNlY3Rpb25zLm1hcCgodD0+e2NvbnN0IGk9dC5jb250ZW50LmV2YWx1YXRlKGUpO3JldHVybiBtaShpKT09PVd0P25ldyBoaShcIlwiLGksbnVsbCxudWxsLG51bGwpOm5ldyBoaShfaShpKSxudWxsLHQuc2NhbGU/dC5zY2FsZS5ldmFsdWF0ZShlKTpudWxsLHQuZm9udD90LmZvbnQuZXZhbHVhdGUoZSkuam9pbihcIixcIik6bnVsbCx0LnRleHRDb2xvcj90LnRleHRDb2xvci5ldmFsdWF0ZShlKTpudWxsKX0pKSl9ZWFjaENoaWxkKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuc2VjdGlvbnMpZSh0LmNvbnRlbnQpLHQuc2NhbGUmJmUodC5zY2FsZSksdC5mb250JiZlKHQuZm9udCksdC50ZXh0Q29sb3ImJmUodC50ZXh0Q29sb3IpO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuICExfXNlcmlhbGl6ZSgpe2NvbnN0IGU9W1wiZm9ybWF0XCJdO2Zvcihjb25zdCB0IG9mIHRoaXMuc2VjdGlvbnMpe2UucHVzaCh0LmNvbnRlbnQuc2VyaWFsaXplKCkpO2NvbnN0IGk9e307dC5zY2FsZSYmKGlbXCJmb250LXNjYWxlXCJdPXQuc2NhbGUuc2VyaWFsaXplKCkpLHQuZm9udCYmKGlbXCJ0ZXh0LWZvbnRcIl09dC5mb250LnNlcmlhbGl6ZSgpKSx0LnRleHRDb2xvciYmKGlbXCJ0ZXh0LWNvbG9yXCJdPXQudGV4dENvbG9yLnNlcmlhbGl6ZSgpKSxlLnB1c2goaSk7fXJldHVybiBlfX1jbGFzcyBFaXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMudHlwZT1XdCx0aGlzLmlucHV0UHJpbWFyeT1lLHRoaXMuaW5wdXRTZWNvbmRhcnk9dDt9c3RhdGljIHBhcnNlKGUsdCl7aWYoZS5sZW5ndGg8MilyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIHR3byBvciBtb3JlIGFyZ3VtZW50cy5cIik7Y29uc3QgaT10LnBhcnNlKGVbMV0sMSxWdCk7aWYoIWkpcmV0dXJuIHQuZXJyb3IoXCJObyBpbWFnZSBuYW1lIHByb3ZpZGVkLlwiKTtpZigyPT09ZS5sZW5ndGgpcmV0dXJuIG5ldyBFaShpKTtjb25zdCByPXQucGFyc2UoZVsyXSwxLFZ0KTtyZXR1cm4gcj9uZXcgRWkoaSxyKTp0LmVycm9yKFwiU2Vjb25kYXJ5IGltYWdlIHZhcmlhbnQgaXMgbm90IGEgc3RyaW5nLlwiKX1ldmFsdWF0ZShlKXtjb25zdCB0PWRpLmZyb21TdHJpbmcodGhpcy5pbnB1dFByaW1hcnkuZXZhbHVhdGUoZSksdGhpcy5pbnB1dFNlY29uZGFyeT90aGlzLmlucHV0U2Vjb25kYXJ5LmV2YWx1YXRlKGUpOnZvaWQgMCk7cmV0dXJuIHQmJmUuYXZhaWxhYmxlSW1hZ2VzJiYodC5hdmFpbGFibGU9ZS5hdmFpbGFibGVJbWFnZXMuaW5kZXhPZih0Lm5hbWVQcmltYXJ5KT4tMSx0Lm5hbWVTZWNvbmRhcnkmJnQuYXZhaWxhYmxlJiZlLmF2YWlsYWJsZUltYWdlcyYmKHQuYXZhaWxhYmxlPWUuYXZhaWxhYmxlSW1hZ2VzLmluZGV4T2YodC5uYW1lU2Vjb25kYXJ5KT4tMSkpLHR9ZWFjaENoaWxkKGUpe2UodGhpcy5pbnB1dFByaW1hcnkpLHRoaXMuaW5wdXRTZWNvbmRhcnkmJmUodGhpcy5pbnB1dFNlY29uZGFyeSk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITF9c2VyaWFsaXplKCl7cmV0dXJuIHRoaXMuaW5wdXRTZWNvbmRhcnk/W1wiaW1hZ2VcIix0aGlzLmlucHV0UHJpbWFyeS5zZXJpYWxpemUoKSx0aGlzLmlucHV0U2Vjb25kYXJ5LnNlcmlhbGl6ZSgpXTpbXCJpbWFnZVwiLHRoaXMuaW5wdXRQcmltYXJ5LnNlcmlhbGl6ZSgpXX19ZnVuY3Rpb24gTWkoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBOdW1iZXI/XCJudW1iZXJcIjplIGluc3RhbmNlb2YgU3RyaW5nP1wic3RyaW5nXCI6ZSBpbnN0YW5jZW9mIEJvb2xlYW4/XCJib29sZWFuXCI6QXJyYXkuaXNBcnJheShlKT9cImFycmF5XCI6bnVsbD09PWU/XCJudWxsXCI6dHlwZW9mIGV9Y29uc3QgQWk9e1widG8tYm9vbGVhblwiOmp0LFwidG8tY29sb3JcIjpHdCxcInRvLW51bWJlclwiOlV0LFwidG8tc3RyaW5nXCI6VnR9O2NsYXNzIFNpe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPWUsdGhpcy5hcmdzPXQ7fXN0YXRpYyBwYXJzZShlLHQpe2lmKGUubGVuZ3RoPDIpcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlZCBhdCBsZWFzdCBvbmUgYXJndW1lbnQuXCIpO2NvbnN0IGk9ZVswXSxyPVtdO2xldCBuPU50O2lmKFwidG8tYXJyYXlcIj09PWkpe2lmKCFBcnJheS5pc0FycmF5KGVbMV0pKXJldHVybiBudWxsO2NvbnN0IGk9ZVsxXS5sZW5ndGg7aWYodC5leHBlY3RlZFR5cGUpe2lmKFwiYXJyYXlcIiE9PXQuZXhwZWN0ZWRUeXBlLmtpbmQpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkICR7dC5leHBlY3RlZFR5cGUua2luZH0gYnV0IGZvdW5kIGFycmF5LmApO249WHQodC5leHBlY3RlZFR5cGUuaXRlbVR5cGUsaSk7fWVsc2Uge2lmKCEoaT4wJiZmaShlWzFdWzBdKSkpcmV0dXJuIG51bGw7bj1YdChtaShlWzFdWzBdKSxpKTt9Zm9yKGxldCBvPTA7bzxpO28rKyl7Y29uc3QgaT1lWzFdW29dO2xldCBzO2lmKFwiYXJyYXlcIj09PU1pKGkpKXM9dC5wYXJzZShpLHZvaWQgMCxuLml0ZW1UeXBlKTtlbHNlIHtjb25zdCBlPU1pKGkpO2lmKGUhPT1uLml0ZW1UeXBlLmtpbmQpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkICR7bi5pdGVtVHlwZS5raW5kfSBidXQgZm91bmQgJHtlfS5gKTtzPXQucmVnaXN0cnkubGl0ZXJhbC5wYXJzZShbXCJsaXRlcmFsXCIsdm9pZCAwPT09aT9udWxsOmldLHQpO31pZighcylyZXR1cm4gbnVsbDtyLnB1c2gocyk7fX1lbHNlIHtpZigoXCJ0by1ib29sZWFuXCI9PT1pfHxcInRvLXN0cmluZ1wiPT09aSkmJjIhPT1lLmxlbmd0aClyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIG9uZSBhcmd1bWVudC5cIik7bj1BaVtpXTtmb3IobGV0IGk9MTtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgbj10LnBhcnNlKGVbaV0saSxadCk7aWYoIW4pcmV0dXJuIG51bGw7ci5wdXNoKG4pO319cmV0dXJuIG5ldyBTaShuLHIpfWV2YWx1YXRlKGUpe2lmKFwiYm9vbGVhblwiPT09dGhpcy50eXBlLmtpbmQpcmV0dXJuIEJvb2xlYW4odGhpcy5hcmdzWzBdLmV2YWx1YXRlKGUpKTtpZihcImNvbG9yXCI9PT10aGlzLnR5cGUua2luZCl7bGV0IHQsaTtmb3IoY29uc3QgciBvZiB0aGlzLmFyZ3Mpe2lmKHQ9ci5ldmFsdWF0ZShlKSxpPW51bGwsdCBpbnN0YW5jZW9mIGxpKXJldHVybiB0O2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXtjb25zdCBpPWUucGFyc2VDb2xvcih0KTtpZihpKXJldHVybiBpfWVsc2UgaWYoQXJyYXkuaXNBcnJheSh0KSYmKGk9dC5sZW5ndGg8M3x8dC5sZW5ndGg+ND9gSW52YWxpZCByYmdhIHZhbHVlICR7SlNPTi5zdHJpbmdpZnkodCl9OiBleHBlY3RlZCBhbiBhcnJheSBjb250YWluaW5nIGVpdGhlciB0aHJlZSBvciBmb3VyIG51bWVyaWMgdmFsdWVzLmA6cGkodFswXSx0WzFdLHRbMl0sdFszXSksIWkpKXJldHVybiBuZXcgbGkodFswXS8yNTUsdFsxXS8yNTUsdFsyXS8yNTUsdFszXSl9dGhyb3cgbmV3IHhpKGl8fGBDb3VsZCBub3QgcGFyc2UgY29sb3IgZnJvbSB2YWx1ZSAnJHtcInN0cmluZ1wiPT10eXBlb2YgdD90OlN0cmluZyhKU09OLnN0cmluZ2lmeSh0KSl9J2ApfWlmKFwibnVtYmVyXCI9PT10aGlzLnR5cGUua2luZCl7bGV0IHQ9bnVsbDtmb3IoY29uc3QgaSBvZiB0aGlzLmFyZ3Mpe2lmKHQ9aS5ldmFsdWF0ZShlKSxudWxsPT09dClyZXR1cm4gMDtjb25zdCByPU51bWJlcih0KTtpZighaXNOYU4ocikpcmV0dXJuIHJ9dGhyb3cgbmV3IHhpKGBDb3VsZCBub3QgY29udmVydCAke0pTT04uc3RyaW5naWZ5KHQpfSB0byBudW1iZXIuYCl9cmV0dXJuIFwiZm9ybWF0dGVkXCI9PT10aGlzLnR5cGUua2luZD91aS5mcm9tU3RyaW5nKF9pKHRoaXMuYXJnc1swXS5ldmFsdWF0ZShlKSkpOlwicmVzb2x2ZWRJbWFnZVwiPT09dGhpcy50eXBlLmtpbmQ/ZGkuZnJvbVN0cmluZyhfaSh0aGlzLmFyZ3NbMF0uZXZhbHVhdGUoZSkpKTpcImFycmF5XCI9PT10aGlzLnR5cGUua2luZD90aGlzLmFyZ3MubWFwKCh0PT50LmV2YWx1YXRlKGUpKSk6X2kodGhpcy5hcmdzWzBdLmV2YWx1YXRlKGUpKX1lYWNoQ2hpbGQoZSl7dGhpcy5hcmdzLmZvckVhY2goZSk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gdGhpcy5hcmdzLmV2ZXJ5KChlPT5lLm91dHB1dERlZmluZWQoKSkpfXNlcmlhbGl6ZSgpe2lmKFwiZm9ybWF0dGVkXCI9PT10aGlzLnR5cGUua2luZClyZXR1cm4gbmV3IFRpKFt7Y29udGVudDp0aGlzLmFyZ3NbMF0sc2NhbGU6bnVsbCxmb250Om51bGwsdGV4dENvbG9yOm51bGx9XSkuc2VyaWFsaXplKCk7aWYoXCJyZXNvbHZlZEltYWdlXCI9PT10aGlzLnR5cGUua2luZClyZXR1cm4gbmV3IEVpKHRoaXMuYXJnc1swXSkuc2VyaWFsaXplKCk7Y29uc3QgZT1cImFycmF5XCI9PT10aGlzLnR5cGUua2luZD9bXTpbYHRvLSR7dGhpcy50eXBlLmtpbmR9YF07cmV0dXJuIHRoaXMuZWFjaENoaWxkKCh0PT57ZS5wdXNoKHQuc2VyaWFsaXplKCkpO30pKSxlfX12YXIgSWk9U2k7Y29uc3QgQ2k9W1wiVW5rbm93blwiLFwiUG9pbnRcIixcIkxpbmVTdHJpbmdcIixcIlBvbHlnb25cIl07dmFyIHppPWNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMuZ2xvYmFscz1udWxsLHRoaXMuZmVhdHVyZT1udWxsLHRoaXMuZmVhdHVyZVN0YXRlPW51bGwsdGhpcy5mb3JtYXR0ZWRTZWN0aW9uPW51bGwsdGhpcy5fcGFyc2VDb2xvckNhY2hlPXt9LHRoaXMuYXZhaWxhYmxlSW1hZ2VzPW51bGwsdGhpcy5jYW5vbmljYWw9bnVsbCx0aGlzLmZlYXR1cmVUaWxlQ29vcmQ9bnVsbCx0aGlzLmZlYXR1cmVEaXN0YW5jZURhdGE9bnVsbCx0aGlzLm9wdGlvbnM9ZTt9aWQoKXtyZXR1cm4gdGhpcy5mZWF0dXJlJiZ2b2lkIDAhPT10aGlzLmZlYXR1cmUuaWQ/dGhpcy5mZWF0dXJlLmlkOm51bGx9Z2VvbWV0cnlUeXBlKCl7cmV0dXJuIHRoaXMuZmVhdHVyZT9cIm51bWJlclwiPT10eXBlb2YgdGhpcy5mZWF0dXJlLnR5cGU/Q2lbdGhpcy5mZWF0dXJlLnR5cGVdOnRoaXMuZmVhdHVyZS50eXBlOm51bGx9Z2VvbWV0cnkoKXtyZXR1cm4gdGhpcy5mZWF0dXJlJiZcImdlb21ldHJ5XCJpbiB0aGlzLmZlYXR1cmU/dGhpcy5mZWF0dXJlLmdlb21ldHJ5Om51bGx9Y2Fub25pY2FsSUQoKXtyZXR1cm4gdGhpcy5jYW5vbmljYWx9cHJvcGVydGllcygpe3JldHVybiB0aGlzLmZlYXR1cmUmJnRoaXMuZmVhdHVyZS5wcm9wZXJ0aWVzfHx7fX1tZWFzdXJlTGlnaHQoZSl7cmV0dXJuIHRoaXMuZ2xvYmFscy5icmlnaHRuZXNzfHwwfWRpc3RhbmNlRnJvbUNlbnRlcigpe2lmKHRoaXMuZmVhdHVyZVRpbGVDb29yZCYmdGhpcy5mZWF0dXJlRGlzdGFuY2VEYXRhKXtjb25zdCBlPXRoaXMuZmVhdHVyZURpc3RhbmNlRGF0YS5jZW50ZXIsdD10aGlzLmZlYXR1cmVEaXN0YW5jZURhdGEuc2NhbGUse3g6aSx5OnJ9PXRoaXMuZmVhdHVyZVRpbGVDb29yZDtyZXR1cm4gdGhpcy5mZWF0dXJlRGlzdGFuY2VEYXRhLmJlYXJpbmdbMF0qKGkqdC1lWzBdKSt0aGlzLmZlYXR1cmVEaXN0YW5jZURhdGEuYmVhcmluZ1sxXSoocip0LWVbMV0pfXJldHVybiAwfXBhcnNlQ29sb3IoZSl7bGV0IHQ9dGhpcy5fcGFyc2VDb2xvckNhY2hlW2VdO3JldHVybiB0fHwodD10aGlzLl9wYXJzZUNvbG9yQ2FjaGVbZV09bGkucGFyc2UoZSkpLHR9Z2V0Q29uZmlnKGUpe3JldHVybiB0aGlzLm9wdGlvbnM/dGhpcy5vcHRpb25zLmdldChlKTpudWxsfX07Y2xhc3MgRGl7Y29uc3RydWN0b3IoZSx0LGkscil7dGhpcy5uYW1lPWUsdGhpcy50eXBlPXQsdGhpcy5fZXZhbHVhdGU9aSx0aGlzLmFyZ3M9cjt9ZXZhbHVhdGUoZSl7cmV0dXJuIHRoaXMuX2V2YWx1YXRlKGUsdGhpcy5hcmdzKX1lYWNoQ2hpbGQoZSl7dGhpcy5hcmdzLmZvckVhY2goZSk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITF9c2VyaWFsaXplKCl7cmV0dXJuIFt0aGlzLm5hbWVdLmNvbmNhdCh0aGlzLmFyZ3MubWFwKChlPT5lLnNlcmlhbGl6ZSgpKSkpfXN0YXRpYyBwYXJzZShlLHQpe2NvbnN0IGk9ZVswXSxyPURpLmRlZmluaXRpb25zW2ldO2lmKCFyKXJldHVybiB0LmVycm9yKGBVbmtub3duIGV4cHJlc3Npb24gXCIke2l9XCIuIElmIHlvdSB3YW50ZWQgYSBsaXRlcmFsIGFycmF5LCB1c2UgW1wibGl0ZXJhbFwiLCBbLi4uXV0uYCwwKTtjb25zdCBuPUFycmF5LmlzQXJyYXkocik/clswXTpyLnR5cGUsbz1BcnJheS5pc0FycmF5KHIpP1tbclsxXSxyWzJdXV06ci5vdmVybG9hZHMscz1vLmZpbHRlcigoKFt0XSk9PiFBcnJheS5pc0FycmF5KHQpfHx0Lmxlbmd0aD09PWUubGVuZ3RoLTEpKTtsZXQgYT1udWxsO2Zvcihjb25zdFtyLG9db2Ygcyl7YT1uZXcgR3IodC5yZWdpc3RyeSx0LnBhdGgsbnVsbCx0LnNjb3BlLHZvaWQgMCx0Lm9wdGlvbnMpO2NvbnN0IHM9W107bGV0IGw9ITE7Zm9yKGxldCB0PTE7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IGk9ZVt0XSxuPUFycmF5LmlzQXJyYXkocik/clt0LTFdOnIudHlwZSxvPWEucGFyc2UoaSwxK3MubGVuZ3RoLG4pO2lmKCFvKXtsPSEwO2JyZWFrfXMucHVzaChvKTt9aWYoIWwpaWYoQXJyYXkuaXNBcnJheShyKSYmci5sZW5ndGghPT1zLmxlbmd0aClhLmVycm9yKGBFeHBlY3RlZCAke3IubGVuZ3RofSBhcmd1bWVudHMsIGJ1dCBmb3VuZCAke3MubGVuZ3RofSBpbnN0ZWFkLmApO2Vsc2Uge2ZvcihsZXQgZT0wO2U8cy5sZW5ndGg7ZSsrKXtjb25zdCB0PUFycmF5LmlzQXJyYXkocik/cltlXTpyLnR5cGUsaT1zW2VdO2EuY29uY2F0KGUrMSkuY2hlY2tTdWJ0eXBlKHQsaS50eXBlKTt9aWYoMD09PWEuZXJyb3JzLmxlbmd0aClyZXR1cm4gbmV3IERpKGksbixvLHMpfX1pZigxPT09cy5sZW5ndGgpdC5lcnJvcnMucHVzaCguLi5hLmVycm9ycyk7ZWxzZSB7Y29uc3QgaT0ocy5sZW5ndGg/czpvKS5tYXAoKChbZV0pPT57cmV0dXJuIHQ9ZSxBcnJheS5pc0FycmF5KHQpP2AoJHt0Lm1hcChZdCkuam9pbihcIiwgXCIpfSlgOmAoJHtZdCh0LnR5cGUpfS4uLilgO3ZhciB0O30pKS5qb2luKFwiIHwgXCIpLHI9W107Zm9yKGxldCBpPTE7aTxlLmxlbmd0aDtpKyspe2NvbnN0IG49dC5wYXJzZShlW2ldLDErci5sZW5ndGgpO2lmKCFuKXJldHVybiBudWxsO3IucHVzaChZdChuLnR5cGUpKTt9dC5lcnJvcihgRXhwZWN0ZWQgYXJndW1lbnRzIG9mIHR5cGUgJHtpfSwgYnV0IGZvdW5kICgke3Iuam9pbihcIiwgXCIpfSkgaW5zdGVhZC5gKTt9cmV0dXJuIG51bGx9c3RhdGljIHJlZ2lzdGVyKGUsdCl7RGkuZGVmaW5pdGlvbnM9dDtmb3IoY29uc3QgaSBpbiB0KWVbaV09RGk7fX12YXIgUGk9RGk7Y2xhc3MgUml7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMudHlwZT0kdCx0aGlzLmxvY2FsZT1pLHRoaXMuY2FzZVNlbnNpdGl2ZT1lLHRoaXMuZGlhY3JpdGljU2Vuc2l0aXZlPXQ7fXN0YXRpYyBwYXJzZShlLHQpe2lmKDIhPT1lLmxlbmd0aClyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIG9uZSBhcmd1bWVudC5cIik7Y29uc3QgaT1lWzFdO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBpfHxBcnJheS5pc0FycmF5KGkpKXJldHVybiB0LmVycm9yKFwiQ29sbGF0b3Igb3B0aW9ucyBhcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdC5cIik7Y29uc3Qgcj10LnBhcnNlKHZvaWQgMCE9PWlbXCJjYXNlLXNlbnNpdGl2ZVwiXSYmaVtcImNhc2Utc2Vuc2l0aXZlXCJdLDEsanQpO2lmKCFyKXJldHVybiBudWxsO2NvbnN0IG49dC5wYXJzZSh2b2lkIDAhPT1pW1wiZGlhY3JpdGljLXNlbnNpdGl2ZVwiXSYmaVtcImRpYWNyaXRpYy1zZW5zaXRpdmVcIl0sMSxqdCk7aWYoIW4pcmV0dXJuIG51bGw7bGV0IG89bnVsbDtyZXR1cm4gaS5sb2NhbGUmJihvPXQucGFyc2UoaS5sb2NhbGUsMSxWdCksIW8pP251bGw6bmV3IFJpKHIsbixvKX1ldmFsdWF0ZShlKXtyZXR1cm4gbmV3IGNpKHRoaXMuY2FzZVNlbnNpdGl2ZS5ldmFsdWF0ZShlKSx0aGlzLmRpYWNyaXRpY1NlbnNpdGl2ZS5ldmFsdWF0ZShlKSx0aGlzLmxvY2FsZT90aGlzLmxvY2FsZS5ldmFsdWF0ZShlKTpudWxsKX1lYWNoQ2hpbGQoZSl7ZSh0aGlzLmNhc2VTZW5zaXRpdmUpLGUodGhpcy5kaWFjcml0aWNTZW5zaXRpdmUpLHRoaXMubG9jYWxlJiZlKHRoaXMubG9jYWxlKTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiAhMX1zZXJpYWxpemUoKXtjb25zdCBlPXt9O3JldHVybiBlW1wiY2FzZS1zZW5zaXRpdmVcIl09dGhpcy5jYXNlU2Vuc2l0aXZlLnNlcmlhbGl6ZSgpLGVbXCJkaWFjcml0aWMtc2Vuc2l0aXZlXCJdPXRoaXMuZGlhY3JpdGljU2Vuc2l0aXZlLnNlcmlhbGl6ZSgpLHRoaXMubG9jYWxlJiYoZS5sb2NhbGU9dGhpcy5sb2NhbGUuc2VyaWFsaXplKCkpLFtcImNvbGxhdG9yXCIsZV19fXZhciBMaT17ZXhwb3J0czp7fX07TGkuZXhwb3J0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoaSxyLG4sbyxzKXtmb3IoO28+bjspe2lmKG8tbj42MDApe3ZhciBhPW8tbisxLGw9ci1uKzEsYz1NYXRoLmxvZyhhKSxoPS41Kk1hdGguZXhwKDIqYy8zKSx1PS41Kk1hdGguc3FydChjKmgqKGEtaCkvYSkqKGwtYS8yPDA/LTE6MSk7ZShpLHIsTWF0aC5tYXgobixNYXRoLmZsb29yKHItbCpoL2ErdSkpLE1hdGgubWluKG8sTWF0aC5mbG9vcihyKyhhLWwpKmgvYSt1KSkscyk7fXZhciBkPWlbcl0scD1uLGY9bztmb3IodChpLG4scikscyhpW29dLGQpPjAmJnQoaSxuLG8pO3A8Zjspe2Zvcih0KGkscCxmKSxwKyssZi0tO3MoaVtwXSxkKTwwOylwKys7Zm9yKDtzKGlbZl0sZCk+MDspZi0tO30wPT09cyhpW25dLGQpP3QoaSxuLGYpOnQoaSwrK2YsbyksZjw9ciYmKG49ZisxKSxyPD1mJiYobz1mLTEpO319ZnVuY3Rpb24gdChlLHQsaSl7dmFyIHI9ZVt0XTtlW3RdPWVbaV0sZVtpXT1yO31mdW5jdGlvbiBpKGUsdCl7cmV0dXJuIGU8dD8tMTplPnQ/MTowfXJldHVybiBmdW5jdGlvbih0LHIsbixvLHMpe2UodCxyLG58fDAsb3x8dC5sZW5ndGgtMSxzfHxpKTt9fSgpO3ZhciBraT1kKExpLmV4cG9ydHMpO2Z1bmN0aW9uIE9pKGUpe2xldCB0PTA7Zm9yKGxldCBpLHIsbj0wLG89ZS5sZW5ndGgscz1vLTE7bjxvO3M9bisrKWk9ZVtuXSxyPWVbc10sdCs9KHIueC1pLngpKihpLnkrci55KTtyZXR1cm4gdH1mdW5jdGlvbiBCaShlLHQpe2VbMF09TWF0aC5taW4oZVswXSx0WzBdKSxlWzFdPU1hdGgubWluKGVbMV0sdFsxXSksZVsyXT1NYXRoLm1heChlWzJdLHRbMF0pLGVbM109TWF0aC5tYXgoZVszXSx0WzFdKTt9ZnVuY3Rpb24gRmkoZSx0KXtyZXR1cm4gIShlWzBdPD10WzBdfHxlWzJdPj10WzJdfHxlWzFdPD10WzFdfHxlWzNdPj10WzNdKX1mdW5jdGlvbiBOaShlLHQsaSl7Y29uc3Qgcj1lWzBdLXRbMF0sbj1lWzFdLXRbMV0sbz1lWzBdLWlbMF0scz1lWzFdLWlbMV07cmV0dXJuIHIqcy1vKm49PTAmJnIqbzw9MCYmbipzPD0wfWZ1bmN0aW9uIFVpKGUsdCxpPSExKXtsZXQgcj0hMTtmb3IobGV0IGE9MCxsPXQubGVuZ3RoO2E8bDthKyspe2NvbnN0IGw9dFthXTtmb3IobGV0IHQ9MCxhPWwubGVuZ3RoLGM9YS0xO3Q8YTtjPXQrKyl7Y29uc3QgYT1sW2NdLGg9bFt0XTtpZihOaShlLGEsaCkpcmV0dXJuIGk7KG89YSlbMV0+KG49ZSlbMV0hPShzPWgpWzFdPm5bMV0mJm5bMF08KHNbMF0tb1swXSkqKG5bMV0tb1sxXSkvKHNbMV0tb1sxXSkrb1swXSYmKHI9IXIpO319dmFyIG4sbyxzO3JldHVybiByfWZ1bmN0aW9uIFZpKGUsdCxpLHIpe2NvbnN0IG49clswXS1pWzBdLG89clsxXS1pWzFdLHM9KGVbMF0taVswXSkqby1uKihlWzFdLWlbMV0pLGE9KHRbMF0taVswXSkqby1uKih0WzFdLWlbMV0pO3JldHVybiBzPjAmJmE8MHx8czwwJiZhPjB9ZnVuY3Rpb24gamkoZSx0LGkscil7cmV0dXJuIDAhPShuPVtyWzBdLWlbMF0sclsxXS1pWzFdXSlbMF0qKG89W3RbMF0tZVswXSx0WzFdLWVbMV1dKVsxXS1uWzFdKm9bMF0mJiEoIVZpKGUsdCxpLHIpfHwhVmkoaSxyLGUsdCkpO3ZhciBuLG87fWNvbnN0IEdpPTgxOTI7ZnVuY3Rpb24gcWkoZSx0KXtjb25zdCBpPSgxODArZVswXSkvMzYwLHI9KDE4MC0xODAvTWF0aC5QSSpNYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQrZVsxXSpNYXRoLlBJLzM2MCkpKS8zNjAsbj1NYXRoLnBvdygyLHQueik7cmV0dXJuIFtNYXRoLnJvdW5kKGkqbipHaSksTWF0aC5yb3VuZChyKm4qR2kpXX1mdW5jdGlvbiBaaShlLHQpe2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKFVpKGUsdFtpXSkpcmV0dXJuICEwO3JldHVybiAhMX1mdW5jdGlvbiAkaShlLHQsaSl7Zm9yKGNvbnN0IHIgb2YgaSlmb3IobGV0IGk9MCxuPXIubGVuZ3RoLG89bi0xO2k8bjtvPWkrKylpZihqaShlLHQscltvXSxyW2ldKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIEhpKGUsdCl7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDsrK2kpaWYoIVVpKGVbaV0sdCkpcmV0dXJuICExO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGgtMTsrK2kpaWYoJGkoZVtpXSxlW2krMV0sdCkpcmV0dXJuICExO3JldHVybiAhMH1mdW5jdGlvbiBXaShlLHQpe2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKEhpKGUsdFtpXSkpcmV0dXJuICEwO3JldHVybiAhMX1mdW5jdGlvbiBYaShlLHQsaSl7Y29uc3Qgcj1bXTtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3Qgbz1bXTtmb3IobGV0IHI9MDtyPGVbbl0ubGVuZ3RoO3IrKyl7Y29uc3Qgcz1xaShlW25dW3JdLGkpO0JpKHQscyksby5wdXNoKHMpO31yLnB1c2gobyk7fXJldHVybiByfWZ1bmN0aW9uIFlpKGUsdCxpKXtjb25zdCByPVtdO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXtjb25zdCBvPVhpKGVbbl0sdCxpKTtyLnB1c2gobyk7fXJldHVybiByfWZ1bmN0aW9uIEtpKGUsdCxpLHIpe2lmKGVbMF08aVswXXx8ZVswXT5pWzJdKXtjb25zdCB0PS41KnI7bGV0IG49ZVswXS1pWzBdPnQ/LXI6aVswXS1lWzBdPnQ/cjowOzA9PT1uJiYobj1lWzBdLWlbMl0+dD8tcjppWzJdLWVbMF0+dD9yOjApLGVbMF0rPW47fUJpKHQsZSk7fWZ1bmN0aW9uIEppKGUsdCxpLHIpe2NvbnN0IG49TWF0aC5wb3coMixyLnopKkdpLG89W3IueCpHaSxyLnkqR2ldLHM9W107aWYoIWUpcmV0dXJuIHM7Zm9yKGNvbnN0IHIgb2YgZSlmb3IoY29uc3QgZSBvZiByKXtjb25zdCByPVtlLngrb1swXSxlLnkrb1sxXV07S2kocix0LGksbikscy5wdXNoKHIpO31yZXR1cm4gc31mdW5jdGlvbiBRaShlLHQsaSxyKXtjb25zdCBuPU1hdGgucG93KDIsci56KSpHaSxvPVtyLngqR2ksci55KkdpXSxzPVtdO2lmKCFlKXJldHVybiBzO2Zvcihjb25zdCBpIG9mIGUpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHIgb2YgaSl7Y29uc3QgaT1bci54K29bMF0sci55K29bMV1dO0JpKHQsaSksZS5wdXNoKGkpO31zLnB1c2goZSk7fWlmKHRbMl0tdFswXTw9bi8yKXsoYT10KVswXT1hWzFdPTEvMCxhWzJdPWFbM109LTEvMDtmb3IoY29uc3QgZSBvZiBzKWZvcihjb25zdCByIG9mIGUpS2kocix0LGksbik7fXZhciBhO3JldHVybiBzfWNsYXNzIGVye2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPWp0LHRoaXMuZ2VvanNvbj1lLHRoaXMuZ2VvbWV0cmllcz10O31zdGF0aWMgcGFyc2UoZSx0KXtpZigyIT09ZS5sZW5ndGgpcmV0dXJuIHQuZXJyb3IoYCd3aXRoaW4nIGV4cHJlc3Npb24gcmVxdWlyZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIGJ1dCBmb3VuZCAke2UubGVuZ3RoLTF9IGluc3RlYWQuYCk7aWYoZmkoZVsxXSkpe2NvbnN0IHQ9ZVsxXTtpZihcIkZlYXR1cmVDb2xsZWN0aW9uXCI9PT10LnR5cGUpZm9yKGxldCBlPTA7ZTx0LmZlYXR1cmVzLmxlbmd0aDsrK2Upe2NvbnN0IGk9dC5mZWF0dXJlc1tlXS5nZW9tZXRyeS50eXBlO2lmKFwiUG9seWdvblwiPT09aXx8XCJNdWx0aVBvbHlnb25cIj09PWkpcmV0dXJuIG5ldyBlcih0LHQuZmVhdHVyZXNbZV0uZ2VvbWV0cnkpfWVsc2UgaWYoXCJGZWF0dXJlXCI9PT10LnR5cGUpe2NvbnN0IGU9dC5nZW9tZXRyeS50eXBlO2lmKFwiUG9seWdvblwiPT09ZXx8XCJNdWx0aVBvbHlnb25cIj09PWUpcmV0dXJuIG5ldyBlcih0LHQuZ2VvbWV0cnkpfWVsc2UgaWYoXCJQb2x5Z29uXCI9PT10LnR5cGV8fFwiTXVsdGlQb2x5Z29uXCI9PT10LnR5cGUpcmV0dXJuIG5ldyBlcih0LHQpfXJldHVybiB0LmVycm9yKFwiJ3dpdGhpbicgZXhwcmVzc2lvbiByZXF1aXJlcyB2YWxpZCBnZW9qc29uIG9iamVjdCB0aGF0IGNvbnRhaW5zIHBvbHlnb24gZ2VvbWV0cnkgdHlwZS5cIil9ZXZhbHVhdGUoZSl7aWYobnVsbCE9ZS5nZW9tZXRyeSgpJiZudWxsIT1lLmNhbm9uaWNhbElEKCkpe2lmKFwiUG9pbnRcIj09PWUuZ2VvbWV0cnlUeXBlKCkpcmV0dXJuIGZ1bmN0aW9uKGUsdCl7Y29uc3QgaT1bMS8wLDEvMCwtMS8wLC0xLzBdLHI9WzEvMCwxLzAsLTEvMCwtMS8wXSxuPWUuY2Fub25pY2FsSUQoKTtpZighbilyZXR1cm4gITE7aWYoXCJQb2x5Z29uXCI9PT10LnR5cGUpe2NvbnN0IG89WGkodC5jb29yZGluYXRlcyxyLG4pLHM9SmkoZS5nZW9tZXRyeSgpLGkscixuKTtpZighRmkoaSxyKSlyZXR1cm4gITE7Zm9yKGNvbnN0IGUgb2YgcylpZighVWkoZSxvKSlyZXR1cm4gITF9aWYoXCJNdWx0aVBvbHlnb25cIj09PXQudHlwZSl7Y29uc3Qgbz1ZaSh0LmNvb3JkaW5hdGVzLHIsbikscz1KaShlLmdlb21ldHJ5KCksaSxyLG4pO2lmKCFGaShpLHIpKXJldHVybiAhMTtmb3IoY29uc3QgZSBvZiBzKWlmKCFaaShlLG8pKXJldHVybiAhMX1yZXR1cm4gITB9KGUsdGhpcy5nZW9tZXRyaWVzKTtpZihcIkxpbmVTdHJpbmdcIj09PWUuZ2VvbWV0cnlUeXBlKCkpcmV0dXJuIGZ1bmN0aW9uKGUsdCl7Y29uc3QgaT1bMS8wLDEvMCwtMS8wLC0xLzBdLHI9WzEvMCwxLzAsLTEvMCwtMS8wXSxuPWUuY2Fub25pY2FsSUQoKTtpZighbilyZXR1cm4gITE7aWYoXCJQb2x5Z29uXCI9PT10LnR5cGUpe2NvbnN0IG89WGkodC5jb29yZGluYXRlcyxyLG4pLHM9UWkoZS5nZW9tZXRyeSgpLGkscixuKTtpZighRmkoaSxyKSlyZXR1cm4gITE7Zm9yKGNvbnN0IGUgb2YgcylpZighSGkoZSxvKSlyZXR1cm4gITF9aWYoXCJNdWx0aVBvbHlnb25cIj09PXQudHlwZSl7Y29uc3Qgbz1ZaSh0LmNvb3JkaW5hdGVzLHIsbikscz1RaShlLmdlb21ldHJ5KCksaSxyLG4pO2lmKCFGaShpLHIpKXJldHVybiAhMTtmb3IoY29uc3QgZSBvZiBzKWlmKCFXaShlLG8pKXJldHVybiAhMX1yZXR1cm4gITB9KGUsdGhpcy5nZW9tZXRyaWVzKX1yZXR1cm4gITF9ZWFjaENoaWxkKCl7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITB9c2VyaWFsaXplKCl7cmV0dXJuIFtcIndpdGhpblwiLHRoaXMuZ2VvanNvbl19fXZhciB0cj1lcixpcj17ZXhwb3J0czp7fX07aXIuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlPXtraWxvbWV0ZXJzOjEsbWlsZXM6MWUzLzE2MDkuMzQ0LG5hdXRpY2FsbWlsZXM6MWUzLzE4NTIsbWV0ZXJzOjFlMyxtZXRyZXM6MWUzLHlhcmRzOjFlMy8uOTE0NCxmZWV0OjFlMy8uMzA0OCxpbmNoZXM6MWUzLy4wMjU0fSx0PTEvMjk4LjI1NzIyMzU2MyxpPXQqKDItdCkscj1NYXRoLlBJLzE4MCxuPWZ1bmN0aW9uKHQsbil7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgRXJyb3IoXCJObyBsYXRpdHVkZSBnaXZlbi5cIik7aWYobiYmIWVbbl0pdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biB1bml0IFwiK24rXCIuIFVzZSBvbmUgb2Y6IFwiK09iamVjdC5rZXlzKGUpLmpvaW4oXCIsIFwiKSk7dmFyIG89NjM3OC4xMzcqcioobj9lW25dOjEpLHM9TWF0aC5jb3ModCpyKSxhPTEvKDEtaSooMS1zKnMpKSxsPU1hdGguc3FydChhKTt0aGlzLmt4PW8qbCpzLHRoaXMua3k9bypsKmEqKDEtaSk7fSxvPXt1bml0czp7Y29uZmlndXJhYmxlOiEwfX07ZnVuY3Rpb24gcyhlLHQpe3JldHVybiBlWzBdPT09dFswXSYmZVsxXT09PXRbMV19ZnVuY3Rpb24gYShlLHQsaSl7dmFyIHI9bCh0WzBdLWVbMF0pO3JldHVybiBbZVswXStyKmksZVsxXSsodFsxXS1lWzFdKSppXX1mdW5jdGlvbiBsKGUpe2Zvcig7ZTwtMTgwOyllKz0zNjA7Zm9yKDtlPjE4MDspZS09MzYwO3JldHVybiBlfXJldHVybiBuLmZyb21UaWxlPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbz1NYXRoLlBJKigxLTIqKGUrLjUpL01hdGgucG93KDIsdCkpLHM9TWF0aC5hdGFuKC41KihNYXRoLmV4cChvKS1NYXRoLmV4cCgtbykpKS9yO3JldHVybiBuZXcgbihzLGkpfSxvLnVuaXRzLmdldD1mdW5jdGlvbigpe3JldHVybiBlfSxuLnByb3RvdHlwZS5kaXN0YW5jZT1mdW5jdGlvbihlLHQpe3ZhciBpPWwoZVswXS10WzBdKSp0aGlzLmt4LHI9KGVbMV0tdFsxXSkqdGhpcy5reTtyZXR1cm4gTWF0aC5zcXJ0KGkqaStyKnIpfSxuLnByb3RvdHlwZS5iZWFyaW5nPWZ1bmN0aW9uKGUsdCl7dmFyIGk9bCh0WzBdLWVbMF0pKnRoaXMua3g7cmV0dXJuIE1hdGguYXRhbjIoaSwodFsxXS1lWzFdKSp0aGlzLmt5KS9yfSxuLnByb3RvdHlwZS5kZXN0aW5hdGlvbj1mdW5jdGlvbihlLHQsaSl7dmFyIG49aSpyO3JldHVybiB0aGlzLm9mZnNldChlLE1hdGguc2luKG4pKnQsTWF0aC5jb3MobikqdCl9LG4ucHJvdG90eXBlLm9mZnNldD1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIFtlWzBdK3QvdGhpcy5reCxlWzFdK2kvdGhpcy5reV19LG4ucHJvdG90eXBlLmxpbmVEaXN0YW5jZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxpPTA7aTxlLmxlbmd0aC0xO2krKyl0Kz10aGlzLmRpc3RhbmNlKGVbaV0sZVtpKzFdKTtyZXR1cm4gdH0sbi5wcm90b3R5cGUuYXJlYT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxpPTA7aTxlLmxlbmd0aDtpKyspZm9yKHZhciByPWVbaV0sbj0wLG89ci5sZW5ndGgscz1vLTE7bjxvO3M9bisrKXQrPWwocltuXVswXS1yW3NdWzBdKSoocltuXVsxXStyW3NdWzFdKSooaT8tMToxKTtyZXR1cm4gTWF0aC5hYnModCkvMip0aGlzLmt4KnRoaXMua3l9LG4ucHJvdG90eXBlLmFsb25nPWZ1bmN0aW9uKGUsdCl7dmFyIGk9MDtpZih0PD0wKXJldHVybiBlWzBdO2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGgtMTtyKyspe3ZhciBuPWVbcl0sbz1lW3IrMV0scz10aGlzLmRpc3RhbmNlKG4sbyk7aWYoKGkrPXMpPnQpcmV0dXJuIGEobixvLCh0LShpLXMpKS9zKX1yZXR1cm4gZVtlLmxlbmd0aC0xXX0sbi5wcm90b3R5cGUucG9pbnRUb1NlZ21lbnREaXN0YW5jZT1mdW5jdGlvbihlLHQsaSl7dmFyIHI9dFswXSxuPXRbMV0sbz1sKGlbMF0tcikqdGhpcy5reCxzPShpWzFdLW4pKnRoaXMua3ksYT0wO3JldHVybiAwPT09byYmMD09PXN8fCgoYT0obChlWzBdLXIpKnRoaXMua3gqbysoZVsxXS1uKSp0aGlzLmt5KnMpLyhvKm8rcypzKSk+MT8ocj1pWzBdLG49aVsxXSk6YT4wJiYocis9by90aGlzLmt4KmEsbis9cy90aGlzLmt5KmEpKSxvPWwoZVswXS1yKSp0aGlzLmt4LHM9KGVbMV0tbikqdGhpcy5reSxNYXRoLnNxcnQobypvK3Mqcyl9LG4ucHJvdG90eXBlLnBvaW50T25MaW5lPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpLHIsbixvLHM9MS8wLGE9MDthPGUubGVuZ3RoLTE7YSsrKXt2YXIgYz1lW2FdWzBdLGg9ZVthXVsxXSx1PWwoZVthKzFdWzBdLWMpKnRoaXMua3gsZD0oZVthKzFdWzFdLWgpKnRoaXMua3kscD0wOzA9PT11JiYwPT09ZHx8KChwPShsKHRbMF0tYykqdGhpcy5reCp1Kyh0WzFdLWgpKnRoaXMua3kqZCkvKHUqdStkKmQpKT4xPyhjPWVbYSsxXVswXSxoPWVbYSsxXVsxXSk6cD4wJiYoYys9dS90aGlzLmt4KnAsaCs9ZC90aGlzLmt5KnApKTt2YXIgZj0odT1sKHRbMF0tYykqdGhpcy5reCkqdSsoZD0odFsxXS1oKSp0aGlzLmt5KSpkO2Y8cyYmKHM9ZixpPWMscj1oLG49YSxvPXApO31yZXR1cm4ge3BvaW50OltpLHJdLGluZGV4Om4sdDpNYXRoLm1heCgwLE1hdGgubWluKDEsbykpfX0sbi5wcm90b3R5cGUubGluZVNsaWNlPWZ1bmN0aW9uKGUsdCxpKXt2YXIgcj10aGlzLnBvaW50T25MaW5lKGksZSksbj10aGlzLnBvaW50T25MaW5lKGksdCk7aWYoci5pbmRleD5uLmluZGV4fHxyLmluZGV4PT09bi5pbmRleCYmci50Pm4udCl7dmFyIG89cjtyPW4sbj1vO312YXIgYT1bci5wb2ludF0sbD1yLmluZGV4KzEsYz1uLmluZGV4OyFzKGlbbF0sYVswXSkmJmw8PWMmJmEucHVzaChpW2xdKTtmb3IodmFyIGg9bCsxO2g8PWM7aCsrKWEucHVzaChpW2hdKTtyZXR1cm4gcyhpW2NdLG4ucG9pbnQpfHxhLnB1c2gobi5wb2ludCksYX0sbi5wcm90b3R5cGUubGluZVNsaWNlQWxvbmc9ZnVuY3Rpb24oZSx0LGkpe2Zvcih2YXIgcj0wLG49W10sbz0wO288aS5sZW5ndGgtMTtvKyspe3ZhciBzPWlbb10sbD1pW28rMV0sYz10aGlzLmRpc3RhbmNlKHMsbCk7aWYoKHIrPWMpPmUmJjA9PT1uLmxlbmd0aCYmbi5wdXNoKGEocyxsLChlLShyLWMpKS9jKSkscj49dClyZXR1cm4gbi5wdXNoKGEocyxsLCh0LShyLWMpKS9jKSksbjtyPmUmJm4ucHVzaChsKTt9cmV0dXJuIG59LG4ucHJvdG90eXBlLmJ1ZmZlclBvaW50PWZ1bmN0aW9uKGUsdCl7dmFyIGk9dC90aGlzLmt5LHI9dC90aGlzLmt4O3JldHVybiBbZVswXS1yLGVbMV0taSxlWzBdK3IsZVsxXStpXX0sbi5wcm90b3R5cGUuYnVmZmVyQkJveD1mdW5jdGlvbihlLHQpe3ZhciBpPXQvdGhpcy5reSxyPXQvdGhpcy5reDtyZXR1cm4gW2VbMF0tcixlWzFdLWksZVsyXStyLGVbM10raV19LG4ucHJvdG90eXBlLmluc2lkZUJCb3g9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbChlWzBdLXRbMF0pPj0wJiZsKGVbMF0tdFsyXSk8PTAmJmVbMV0+PXRbMV0mJmVbMV08PXRbM119LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4sbyksbn0oKTt2YXIgcnI9ZChpci5leHBvcnRzKSxucj17ZXhwb3J0czp7fX07bnIuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKGUsaSl7aWYodm9pZCAwPT09ZSYmKGU9W10pLHZvaWQgMD09PWkmJihpPXQpLHRoaXMuZGF0YT1lLHRoaXMubGVuZ3RoPXRoaXMuZGF0YS5sZW5ndGgsdGhpcy5jb21wYXJlPWksdGhpcy5sZW5ndGg+MClmb3IodmFyIHI9KHRoaXMubGVuZ3RoPj4xKS0xO3I+PTA7ci0tKXRoaXMuX2Rvd24ocik7fTtmdW5jdGlvbiB0KGUsdCl7cmV0dXJuIGU8dD8tMTplPnQ/MTowfXJldHVybiBlLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGUpe3RoaXMuZGF0YS5wdXNoKGUpLHRoaXMubGVuZ3RoKyssdGhpcy5fdXAodGhpcy5sZW5ndGgtMSk7fSxlLnByb3RvdHlwZS5wb3A9ZnVuY3Rpb24oKXtpZigwIT09dGhpcy5sZW5ndGgpe3ZhciBlPXRoaXMuZGF0YVswXSx0PXRoaXMuZGF0YS5wb3AoKTtyZXR1cm4gdGhpcy5sZW5ndGgtLSx0aGlzLmxlbmd0aD4wJiYodGhpcy5kYXRhWzBdPXQsdGhpcy5fZG93bigwKSksZX19LGUucHJvdG90eXBlLnBlZWs9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhWzBdfSxlLnByb3RvdHlwZS5fdXA9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuZGF0YSxpPXRoaXMuY29tcGFyZSxyPXRbZV07ZT4wOyl7dmFyIG49ZS0xPj4xLG89dFtuXTtpZihpKHIsbyk+PTApYnJlYWs7dFtlXT1vLGU9bjt9dFtlXT1yO30sZS5wcm90b3R5cGUuX2Rvd249ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuZGF0YSxpPXRoaXMuY29tcGFyZSxyPXRoaXMubGVuZ3RoPj4xLG49dFtlXTtlPHI7KXt2YXIgbz0xKyhlPDwxKSxzPXRbb10sYT1vKzE7aWYoYTx0aGlzLmxlbmd0aCYmaSh0W2FdLHMpPDAmJihvPWEscz10W2FdKSxpKHMsbik+PTApYnJlYWs7dFtlXT1zLGU9bzt9dFtlXT1uO30sZX0oKTt2YXIgb3I9ZChuci5leHBvcnRzKSxzcj04MTkyO2Z1bmN0aW9uIGFyKGUsdCl7cmV0dXJuIHQuZGlzdC1lLmRpc3R9Y29uc3QgbHI9MTAwLGNyPTUwO2Z1bmN0aW9uIGhyKGUpe2NvbnN0IHQ9WzEvMCwxLzAsLTEvMCwtMS8wXTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiAhMTtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKylpZih0W2ldIT09ZVtpXSlyZXR1cm4gITE7cmV0dXJuICEwfWZ1bmN0aW9uIHVyKGUpe3JldHVybiBlWzFdLWVbMF0rMX1mdW5jdGlvbiBkcihlLHQpe2NvbnN0IGk9ZVsxXT49ZVswXSYmZVsxXTx0O3JldHVybiBpfHxjb25zb2xlLndhcm4oXCJEaXN0YW5jZSBFeHByZXNzaW9uOiBJbmRleCBpcyBvdXQgb2YgcmFuZ2VcIiksaX1mdW5jdGlvbiBwcihlLHQpe2lmKGVbMF0+ZVsxXSlyZXR1cm4gW251bGwsbnVsbF07Y29uc3QgaT11cihlKTtpZih0KXtpZigyPT09aSlyZXR1cm4gW2UsbnVsbF07Y29uc3QgdD1NYXRoLmZsb29yKGkvMik7cmV0dXJuIFtbZVswXSxlWzBdK3RdLFtlWzBdK3QsZVsxXV1dfXtpZigxPT09aSlyZXR1cm4gW2UsbnVsbF07Y29uc3QgdD1NYXRoLmZsb29yKGkvMiktMTtyZXR1cm4gW1tlWzBdLGVbMF0rdF0sW2VbMF0rdCsxLGVbMV1dXX19ZnVuY3Rpb24gZnIoZSx0KXtjb25zdCBpPVsxLzAsMS8wLC0xLzAsLTEvMF07aWYoIWRyKHQsZS5sZW5ndGgpKXJldHVybiBpO2ZvcihsZXQgcj10WzBdO3I8PXRbMV07KytyKUJpKGksZVtyXSk7cmV0dXJuIGl9ZnVuY3Rpb24gbXIoZSl7Y29uc3QgdD1bMS8wLDEvMCwtMS8wLC0xLzBdO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7KytpKWZvcihsZXQgcj0wO3I8ZVtpXS5sZW5ndGg7KytyKUJpKHQsZVtpXVtyXSk7cmV0dXJuIHR9ZnVuY3Rpb24gX3IoZSx0LGkpe2lmKGhyKGUpfHxocih0KSlyZXR1cm4gTmFOO2xldCByPTAsbj0wO3JldHVybiBlWzJdPHRbMF0mJihyPXRbMF0tZVsyXSksZVswXT50WzJdJiYocj1lWzBdLXRbMl0pLGVbMV0+dFszXSYmKG49ZVsxXS10WzNdKSxlWzNdPHRbMV0mJihuPXRbMV0tZVszXSksaS5kaXN0YW5jZShbMCwwXSxbcixuXSl9ZnVuY3Rpb24gZ3IoZSx0KXtjb25zdCBpPU1hdGgucG93KDIsdC56KTtyZXR1cm4gWyhuPShlLngvc3IrdC54KS9pLDM2MCpuLTE4MCksKHI9KGUueS9zcit0LnkpL2ksMzYwL01hdGguUEkqTWF0aC5hdGFuKE1hdGguZXhwKCgxODAtMzYwKnIpKk1hdGguUEkvMTgwKSktOTApXTt2YXIgcixuO31mdW5jdGlvbiB5cihlLHQpe2NvbnN0IGk9W107Zm9yKGxldCByPTA7cjxlLmxlbmd0aDsrK3IpaS5wdXNoKGdyKGVbcl0sdCkpO3JldHVybiBpfWZ1bmN0aW9uIHhyKGUsdCxpKXtjb25zdCByPWkucG9pbnRPbkxpbmUodCxlKS5wb2ludDtyZXR1cm4gaS5kaXN0YW5jZShlLHIpfWZ1bmN0aW9uIHZyKGUsdCxpLHIsbil7Y29uc3Qgbz1pLnNsaWNlKHJbMF0sclsxXSsxKTtsZXQgcz0xLzA7Zm9yKGxldCBpPXRbMF07aTw9dFsxXTsrK2kpaWYoMD09PShzPU1hdGgubWluKHMseHIoZVtpXSxvLG4pKSkpcmV0dXJuIDA7cmV0dXJuIHN9ZnVuY3Rpb24gYnIoZSx0LGkscixuKXtjb25zdCBvPU1hdGgubWluKG4ucG9pbnRUb1NlZ21lbnREaXN0YW5jZShlLGksciksbi5wb2ludFRvU2VnbWVudERpc3RhbmNlKHQsaSxyKSkscz1NYXRoLm1pbihuLnBvaW50VG9TZWdtZW50RGlzdGFuY2UoaSxlLHQpLG4ucG9pbnRUb1NlZ21lbnREaXN0YW5jZShyLGUsdCkpO3JldHVybiBNYXRoLm1pbihvLHMpfWZ1bmN0aW9uIHdyKGUsdCxpLHIsbil7aWYoIWRyKHQsZS5sZW5ndGgpfHwhZHIocixpLmxlbmd0aCkpcmV0dXJuIE5hTjtsZXQgbz0xLzA7Zm9yKGxldCBzPXRbMF07czx0WzFdOysrcylmb3IobGV0IHQ9clswXTt0PHJbMV07Kyt0KXtpZihqaShlW3NdLGVbcysxXSxpW3RdLGlbdCsxXSkpcmV0dXJuIDA7bz1NYXRoLm1pbihvLGJyKGVbc10sZVtzKzFdLGlbdF0saVt0KzFdLG4pKTt9cmV0dXJuIG99ZnVuY3Rpb24gVHIoZSx0LGkscixuKXtpZighZHIodCxlLmxlbmd0aCl8fCFkcihyLGkubGVuZ3RoKSlyZXR1cm4gTmFOO2xldCBvPTEvMDtmb3IobGV0IHM9dFswXTtzPD10WzFdOysrcylmb3IobGV0IHQ9clswXTt0PD1yWzFdOysrdClpZigwPT09KG89TWF0aC5taW4obyxuLmRpc3RhbmNlKGVbc10saVt0XSkpKSlyZXR1cm4gbztyZXR1cm4gb31mdW5jdGlvbiBFcihlLHQsaSl7aWYoVWkoZSx0LCEwKSlyZXR1cm4gMDtsZXQgcj0xLzA7Zm9yKGNvbnN0IG4gb2YgdCl7Y29uc3QgdD1uLmxlbmd0aDtpZih0PDIpcmV0dXJuIGNvbnNvbGUud2FybihcIkRpc3RhbmNlIEV4cHJlc3Npb246IEludmFsaWQgcG9seWdvbiFcIiksTmFOO2lmKG5bMF0hPT1uW3QtMV0mJjA9PT0ocj1NYXRoLm1pbihyLGkucG9pbnRUb1NlZ21lbnREaXN0YW5jZShlLG5bdC0xXSxuWzBdKSkpKXJldHVybiByO2lmKDA9PT0ocj1NYXRoLm1pbihyLHhyKGUsbixpKSkpKXJldHVybiByfXJldHVybiByfWZ1bmN0aW9uIE1yKGUsdCxpLHIpe2lmKCFkcih0LGUubGVuZ3RoKSlyZXR1cm4gTmFOO2ZvcihsZXQgcj10WzBdO3I8PXRbMV07KytyKWlmKFVpKGVbcl0saSwhMCkpcmV0dXJuIDA7bGV0IG49MS8wO2ZvcihsZXQgbz10WzBdO288dFsxXTsrK28pZm9yKGNvbnN0IHQgb2YgaSlmb3IobGV0IGk9MCxzPXQubGVuZ3RoLGE9cy0xO2k8czthPWkrKyl7aWYoamkoZVtvXSxlW28rMV0sdFthXSx0W2ldKSlyZXR1cm4gMDtuPU1hdGgubWluKG4sYnIoZVtvXSxlW28rMV0sdFthXSx0W2ldLHIpKTt9cmV0dXJuIG59ZnVuY3Rpb24gQXIoZSx0KXtmb3IoY29uc3QgaSBvZiBlKWZvcihsZXQgZT0wO2U8PWkubGVuZ3RoLTE7KytlKWlmKFVpKGlbZV0sdCwhMCkpcmV0dXJuICEwO3JldHVybiAhMX1mdW5jdGlvbiBTcihlLHQsaSxyPTEvMCl7Y29uc3Qgbj1tcihlKSxvPW1yKHQpO2lmKHIhPT0xLzAmJl9yKG4sbyxpKT49cilyZXR1cm4gcjtpZihGaShuLG8pKXtpZihBcihlLHQpKXJldHVybiAwfWVsc2UgaWYoQXIodCxlKSlyZXR1cm4gMDtsZXQgcz1yO2Zvcihjb25zdCByIG9mIGUpZm9yKGxldCBlPTAsbj1yLmxlbmd0aCxvPW4tMTtlPG47bz1lKyspZm9yKGNvbnN0IG4gb2YgdClmb3IobGV0IHQ9MCxhPW4ubGVuZ3RoLGw9YS0xO3Q8YTtsPXQrKyl7aWYoamkocltvXSxyW2VdLG5bbF0sblt0XSkpcmV0dXJuIDA7cz1NYXRoLm1pbihzLGJyKHJbb10scltlXSxuW2xdLG5bdF0saSkpO31yZXR1cm4gc31mdW5jdGlvbiBJcihlLHQsaSxyLG4sbyxzKXtpZihudWxsPT09b3x8bnVsbD09PXMpcmV0dXJuO2NvbnN0IGE9X3IoZnIocixvKSxmcihuLHMpLGkpO2E8dCYmZS5wdXNoKHtkaXN0OmEscmFuZ2UxOm8scmFuZ2UyOnN9KTt9ZnVuY3Rpb24gQ3IoZSx0LGkscixuPTEvMCl7bGV0IG89TWF0aC5taW4oci5kaXN0YW5jZShlWzBdLGlbMF1bMF0pLG4pO2lmKDA9PT1vKXJldHVybiBvO2NvbnN0IHM9bmV3IG9yKFt7ZGlzdDowLHJhbmdlMTpbMCxlLmxlbmd0aC0xXSxyYW5nZTI6WzAsMF19XSxhciksYT10P2NyOmxyLGw9bXIoaSk7Zm9yKDtzLmxlbmd0aDspe2NvbnN0IG49cy5wb3AoKTtpZihuLmRpc3Q+PW8pY29udGludWU7Y29uc3QgYz1uLnJhbmdlMTtpZih1cihjKTw9YSl7aWYoIWRyKGMsZS5sZW5ndGgpKXJldHVybiBOYU47aWYodCl7Y29uc3QgdD1NcihlLGMsaSxyKTtpZigwPT09KG89TWF0aC5taW4obyx0KSkpcmV0dXJuIG99ZWxzZSBmb3IobGV0IHQ9Y1swXTt0PD1jWzFdOysrdCl7Y29uc3Qgbj1FcihlW3RdLGkscik7aWYoMD09PShvPU1hdGgubWluKG8sbikpKXJldHVybiBvfX1lbHNlIHtjb25zdCBpPXByKGMsdCk7aWYobnVsbCE9PWlbMF0pe2NvbnN0IHQ9X3IoZnIoZSxpWzBdKSxsLHIpO3Q8byYmcy5wdXNoKHtkaXN0OnQscmFuZ2UxOmlbMF0scmFuZ2UyOlswLDBdfSk7fWlmKG51bGwhPT1pWzFdKXtjb25zdCB0PV9yKGZyKGUsaVsxXSksbCxyKTt0PG8mJnMucHVzaCh7ZGlzdDp0LHJhbmdlMTppWzFdLHJhbmdlMjpbMCwwXX0pO319fXJldHVybiBvfWZ1bmN0aW9uIHpyKGUsdCxpLHIsbixvPTEvMCl7bGV0IHM9TWF0aC5taW4obyxuLmRpc3RhbmNlKGVbMF0saVswXSkpO2lmKDA9PT1zKXJldHVybiBzO2NvbnN0IGE9bmV3IG9yKFt7ZGlzdDowLHJhbmdlMTpbMCxlLmxlbmd0aC0xXSxyYW5nZTI6WzAsaS5sZW5ndGgtMV19XSxhciksbD10P2NyOmxyLGM9cj9jcjpscjtmb3IoO2EubGVuZ3RoOyl7Y29uc3Qgbz1hLnBvcCgpO2lmKG8uZGlzdD49cyljb250aW51ZTtjb25zdCBoPW8ucmFuZ2UxLHU9by5yYW5nZTI7aWYodXIoaCk8PWwmJnVyKHUpPD1jKXtpZighZHIoaCxlLmxlbmd0aCl8fCFkcih1LGkubGVuZ3RoKSlyZXR1cm4gTmFOO2lmKHQmJnI/cz1NYXRoLm1pbihzLHdyKGUsaCxpLHUsbikpOnR8fHI/dCYmIXI/cz1NYXRoLm1pbihzLHZyKGksdSxlLGgsbikpOiF0JiZyJiYocz1NYXRoLm1pbihzLHZyKGUsaCxpLHUsbikpKTpzPU1hdGgubWluKHMsVHIoZSxoLGksdSxuKSksMD09PXMpcmV0dXJuIHN9ZWxzZSB7Y29uc3Qgbz1wcihoLHQpLGw9cHIodSxyKTtJcihhLHMsbixlLGksb1swXSxsWzBdKSxJcihhLHMsbixlLGksb1swXSxsWzFdKSxJcihhLHMsbixlLGksb1sxXSxsWzBdKSxJcihhLHMsbixlLGksb1sxXSxsWzFdKTt9fXJldHVybiBzfWZ1bmN0aW9uIERyKGUsdCxpLHIsbj0xLzApe2xldCBvPW47Y29uc3Qgcz1mcihlLFswLGUubGVuZ3RoLTFdKTtmb3IoY29uc3QgbiBvZiBpKWlmKCEobyE9PTEvMCYmX3IocyxmcihuLFswLG4ubGVuZ3RoLTFdKSxyKT49bykmJihvPU1hdGgubWluKG8senIoZSx0LG4sITAscixvKSksMD09PW8pKXJldHVybiBvO3JldHVybiBvfWZ1bmN0aW9uIFByKGUsdCxpLHIsbj0xLzApe2xldCBvPW47Y29uc3Qgcz1mcihlLFswLGUubGVuZ3RoLTFdKTtmb3IoY29uc3QgbiBvZiBpKXtpZihvIT09MS8wJiZfcihzLG1yKG4pLHIpPj1vKWNvbnRpbnVlO2NvbnN0IGk9Q3IoZSx0LG4scixvKTtpZihpc05hTihpKSlyZXR1cm4gaTtpZigwPT09KG89TWF0aC5taW4obyxpKSkpcmV0dXJuIG99cmV0dXJuIG99ZnVuY3Rpb24gUnIoZSl7cmV0dXJuIFwiUG9pbnRcIj09PWV8fFwiTXVsdGlQb2ludFwiPT09ZXx8XCJMaW5lU3RyaW5nXCI9PT1lfHxcIk11bHRpTGluZVN0cmluZ1wiPT09ZXx8XCJQb2x5Z29uXCI9PT1lfHxcIk11bHRpUG9seWdvblwiPT09ZX1jbGFzcyBMcntjb25zdHJ1Y3RvcihlLHQpe3RoaXMudHlwZT1VdCx0aGlzLmdlb2pzb249ZSx0aGlzLmdlb21ldHJpZXM9dDt9c3RhdGljIHBhcnNlKGUsdCl7aWYoMiE9PWUubGVuZ3RoKXJldHVybiB0LmVycm9yKGAnZGlzdGFuY2UnIGV4cHJlc3Npb24gcmVxdWlyZXMgZWl0aGVyIG9uZSBhcmd1bWVudCwgYnV0IGZvdW5kICcgJHtlLmxlbmd0aC0xfSBpbnN0ZWFkLmApO2lmKGZpKGVbMV0pKXtjb25zdCB0PWVbMV07aWYoXCJGZWF0dXJlQ29sbGVjdGlvblwiPT09dC50eXBlKXtmb3IobGV0IGU9MDtlPHQuZmVhdHVyZXMubGVuZ3RoOysrZSlpZihScih0LmZlYXR1cmVzW2VdLmdlb21ldHJ5LnR5cGUpKXJldHVybiBuZXcgTHIodCx0LmZlYXR1cmVzW2VdLmdlb21ldHJ5KX1lbHNlIGlmKFwiRmVhdHVyZVwiPT09dC50eXBlKXtpZihScih0Lmdlb21ldHJ5LnR5cGUpKXJldHVybiBuZXcgTHIodCx0Lmdlb21ldHJ5KX1lbHNlIGlmKFJyKHQudHlwZSkpcmV0dXJuIG5ldyBMcih0LHQpfXJldHVybiB0LmVycm9yKFwiJ2Rpc3RhbmNlJyBleHByZXNzaW9uIG5lZWRzIHRvIGJlIGFuIGFycmF5IHdpdGggZm9ybWF0IFsnRGlzdGFuY2UnLCBHZW9KU09OT2JqXS5cIil9ZXZhbHVhdGUoZSl7Y29uc3QgdD1lLmdlb21ldHJ5KCksaT1lLmNhbm9uaWNhbElEKCk7aWYobnVsbCE9dCYmbnVsbCE9aSl7aWYoXCJQb2ludFwiPT09ZS5nZW9tZXRyeVR5cGUoKSlyZXR1cm4gZnVuY3Rpb24oZSx0LGkpe2NvbnN0IHI9W107Zm9yKGNvbnN0IGkgb2YgZSlmb3IoY29uc3QgZSBvZiBpKXIucHVzaChncihlLHQpKTtjb25zdCBuPW5ldyBycihyWzBdWzFdLFwibWV0ZXJzXCIpO3JldHVybiBcIlBvaW50XCI9PT1pLnR5cGV8fFwiTXVsdGlQb2ludFwiPT09aS50eXBlfHxcIkxpbmVTdHJpbmdcIj09PWkudHlwZT96cihyLCExLFwiUG9pbnRcIj09PWkudHlwZT9baS5jb29yZGluYXRlc106aS5jb29yZGluYXRlcyxcIkxpbmVTdHJpbmdcIj09PWkudHlwZSxuKTpcIk11bHRpTGluZVN0cmluZ1wiPT09aS50eXBlP0RyKHIsITEsaS5jb29yZGluYXRlcyxuKTpcIlBvbHlnb25cIj09PWkudHlwZXx8XCJNdWx0aVBvbHlnb25cIj09PWkudHlwZT9QcihyLCExLFwiUG9seWdvblwiPT09aS50eXBlP1tpLmNvb3JkaW5hdGVzXTppLmNvb3JkaW5hdGVzLG4pOm51bGx9KHQsaSx0aGlzLmdlb21ldHJpZXMpO2lmKFwiTGluZVN0cmluZ1wiPT09ZS5nZW9tZXRyeVR5cGUoKSlyZXR1cm4gZnVuY3Rpb24oZSx0LGkpe2NvbnN0IHI9W107Zm9yKGNvbnN0IGkgb2YgZSl7Y29uc3QgZT1bXTtmb3IoY29uc3QgciBvZiBpKWUucHVzaChncihyLHQpKTtyLnB1c2goZSk7fWNvbnN0IG49bmV3IHJyKHJbMF1bMF1bMV0sXCJtZXRlcnNcIik7aWYoXCJQb2ludFwiPT09aS50eXBlfHxcIk11bHRpUG9pbnRcIj09PWkudHlwZXx8XCJMaW5lU3RyaW5nXCI9PT1pLnR5cGUpcmV0dXJuIERyKFwiUG9pbnRcIj09PWkudHlwZT9baS5jb29yZGluYXRlc106aS5jb29yZGluYXRlcyxcIkxpbmVTdHJpbmdcIj09PWkudHlwZSxyLG4pO2lmKFwiTXVsdGlMaW5lU3RyaW5nXCI9PT1pLnR5cGUpe2xldCBlPTEvMDtmb3IobGV0IHQ9MDt0PGkuY29vcmRpbmF0ZXMubGVuZ3RoO3QrKyl7Y29uc3Qgbz1EcihpLmNvb3JkaW5hdGVzW3RdLCEwLHIsbixlKTtpZihpc05hTihvKSlyZXR1cm4gbztpZigwPT09KGU9TWF0aC5taW4oZSxvKSkpcmV0dXJuIGV9cmV0dXJuIGV9aWYoXCJQb2x5Z29uXCI9PT1pLnR5cGV8fFwiTXVsdGlQb2x5Z29uXCI9PT1pLnR5cGUpe2xldCBlPTEvMDtmb3IobGV0IHQ9MDt0PHIubGVuZ3RoO3QrKyl7Y29uc3Qgbz1QcihyW3RdLCEwLFwiUG9seWdvblwiPT09aS50eXBlP1tpLmNvb3JkaW5hdGVzXTppLmNvb3JkaW5hdGVzLG4sZSk7aWYoaXNOYU4obykpcmV0dXJuIG87aWYoMD09PShlPU1hdGgubWluKGUsbykpKXJldHVybiBlfXJldHVybiBlfXJldHVybiBudWxsfSh0LGksdGhpcy5nZW9tZXRyaWVzKTtpZihcIlBvbHlnb25cIj09PWUuZ2VvbWV0cnlUeXBlKCkpcmV0dXJuIGZ1bmN0aW9uKGUsdCxpKXtjb25zdCByPVtdO2Zvcihjb25zdCBpIG9mIGZ1bmN0aW9uKGUsdCl7Y29uc3QgaT1lLmxlbmd0aDtpZihpPD0xKXJldHVybiBbZV07Y29uc3Qgcj1bXTtsZXQgbixvO2ZvcihsZXQgdD0wO3Q8aTt0Kyspe2NvbnN0IGk9T2koZVt0XSk7MCE9PWkmJihlW3RdLmFyZWE9TWF0aC5hYnMoaSksdm9pZCAwPT09byYmKG89aTwwKSxvPT09aTwwPyhuJiZyLnB1c2gobiksbj1bZVt0XV0pOm4ucHVzaChlW3RdKSk7fXJldHVybiBuJiZyLnB1c2gobikscn0oZSkpe2NvbnN0IGU9W107Zm9yKGxldCByPTA7cjxpLmxlbmd0aDsrK3IpZS5wdXNoKHlyKGlbcl0sdCkpO3IucHVzaChlKTt9Y29uc3Qgbj1uZXcgcnIoclswXVswXVswXVsxXSxcIm1ldGVyc1wiKTtpZihcIlBvaW50XCI9PT1pLnR5cGV8fFwiTXVsdGlQb2ludFwiPT09aS50eXBlfHxcIkxpbmVTdHJpbmdcIj09PWkudHlwZSlyZXR1cm4gUHIoXCJQb2ludFwiPT09aS50eXBlP1tpLmNvb3JkaW5hdGVzXTppLmNvb3JkaW5hdGVzLFwiTGluZVN0cmluZ1wiPT09aS50eXBlLHIsbik7aWYoXCJNdWx0aUxpbmVTdHJpbmdcIj09PWkudHlwZSl7bGV0IGU9MS8wO2ZvcihsZXQgdD0wO3Q8aS5jb29yZGluYXRlcy5sZW5ndGg7dCsrKXtjb25zdCBvPVByKGkuY29vcmRpbmF0ZXNbdF0sITAscixuLGUpO2lmKGlzTmFOKG8pKXJldHVybiBvO2lmKDA9PT0oZT1NYXRoLm1pbihlLG8pKSlyZXR1cm4gZX1yZXR1cm4gZX1yZXR1cm4gXCJQb2x5Z29uXCI9PT1pLnR5cGV8fFwiTXVsdGlQb2x5Z29uXCI9PT1pLnR5cGU/ZnVuY3Rpb24oZSx0LGkpe2xldCByPTEvMDtmb3IoY29uc3QgbiBvZiBlKWZvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9U3IobixlLGkscik7aWYoaXNOYU4odCkpcmV0dXJuIHQ7aWYoMD09PShyPU1hdGgubWluKHIsdCkpKXJldHVybiByfXJldHVybiByfShcIlBvbHlnb25cIj09PWkudHlwZT9baS5jb29yZGluYXRlc106aS5jb29yZGluYXRlcyxyLG4pOm51bGx9KHQsaSx0aGlzLmdlb21ldHJpZXMpO2NvbnNvbGUud2FybihcIkRpc3RhbmNlIEV4cHJlc3Npb246IGN1cnJlbnRseSBvbmx5IGV2YWx1YXRlcyB2YWxpZCBQb2ludC9MaW5lU3RyaW5nL1BvbHlnb24gZ2VvbWV0cmllcy5cIik7fWVsc2UgY29uc29sZS53YXJuKFwiRGlzdGFuY2UgRXhwcmVzc2lvbjogcmVxdWlycyB2YWxpZCBmZWF0dXJlIGFuZCBjYW5vbmljYWwgaW5mb3JtYXRpb24uXCIpO3JldHVybiBudWxsfWVhY2hDaGlsZCgpe31vdXRwdXREZWZpbmVkKCl7cmV0dXJuICEwfXNlcmlhbGl6ZSgpe3JldHVybiBbXCJkaXN0YW5jZVwiLHRoaXMuZ2VvanNvbl19fXZhciBrcj1McjtmdW5jdGlvbiBPcihlKXtpZihlIGluc3RhbmNlb2YgUGkpe2lmKFwiZ2V0XCI9PT1lLm5hbWUmJjE9PT1lLmFyZ3MubGVuZ3RoKXJldHVybiAhMTtpZihcImZlYXR1cmUtc3RhdGVcIj09PWUubmFtZSlyZXR1cm4gITE7aWYoXCJoYXNcIj09PWUubmFtZSYmMT09PWUuYXJncy5sZW5ndGgpcmV0dXJuICExO2lmKFwicHJvcGVydGllc1wiPT09ZS5uYW1lfHxcImdlb21ldHJ5LXR5cGVcIj09PWUubmFtZXx8XCJpZFwiPT09ZS5uYW1lKXJldHVybiAhMTtpZigvXmZpbHRlci0vLnRlc3QoZS5uYW1lKSlyZXR1cm4gITF9aWYoZSBpbnN0YW5jZW9mIHRyKXJldHVybiAhMTtpZihlIGluc3RhbmNlb2Yga3IpcmV0dXJuICExO2xldCB0PSEwO3JldHVybiBlLmVhY2hDaGlsZCgoZT0+e3QmJiFPcihlKSYmKHQ9ITEpO30pKSx0fWZ1bmN0aW9uIEJyKGUpe2lmKGUgaW5zdGFuY2VvZiBQaSYmXCJmZWF0dXJlLXN0YXRlXCI9PT1lLm5hbWUpcmV0dXJuICExO2xldCB0PSEwO3JldHVybiBlLmVhY2hDaGlsZCgoZT0+e3QmJiFCcihlKSYmKHQ9ITEpO30pKSx0fWZ1bmN0aW9uIEZyKGUpe2lmKGUgaW5zdGFuY2VvZiBQaSYmXCJjb25maWdcIj09PWUubmFtZSlyZXR1cm4gITE7bGV0IHQ9ITA7cmV0dXJuIGUuZWFjaENoaWxkKChlPT57dCYmIUZyKGUpJiYodD0hMSk7fSkpLHR9ZnVuY3Rpb24gTnIoZSx0KXtpZihlIGluc3RhbmNlb2YgUGkmJnQuaW5kZXhPZihlLm5hbWUpPj0wKXJldHVybiAhMTtsZXQgaT0hMDtyZXR1cm4gZS5lYWNoQ2hpbGQoKGU9PntpJiYhTnIoZSx0KSYmKGk9ITEpO30pKSxpfWNsYXNzIFVye2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPXQudHlwZSx0aGlzLm5hbWU9ZSx0aGlzLmJvdW5kRXhwcmVzc2lvbj10O31zdGF0aWMgcGFyc2UoZSx0KXtpZigyIT09ZS5sZW5ndGh8fFwic3RyaW5nXCIhPXR5cGVvZiBlWzFdKXJldHVybiB0LmVycm9yKFwiJ3ZhcicgZXhwcmVzc2lvbiByZXF1aXJlcyBleGFjdGx5IG9uZSBzdHJpbmcgbGl0ZXJhbCBhcmd1bWVudC5cIik7Y29uc3QgaT1lWzFdO3JldHVybiB0LnNjb3BlLmhhcyhpKT9uZXcgVXIoaSx0LnNjb3BlLmdldChpKSk6dC5lcnJvcihgVW5rbm93biB2YXJpYWJsZSBcIiR7aX1cIi4gTWFrZSBzdXJlIFwiJHtpfVwiIGhhcyBiZWVuIGJvdW5kIGluIGFuIGVuY2xvc2luZyBcImxldFwiIGV4cHJlc3Npb24gYmVmb3JlIHVzaW5nIGl0LmAsMSl9ZXZhbHVhdGUoZSl7cmV0dXJuIHRoaXMuYm91bmRFeHByZXNzaW9uLmV2YWx1YXRlKGUpfWVhY2hDaGlsZCgpe31vdXRwdXREZWZpbmVkKCl7cmV0dXJuICExfXNlcmlhbGl6ZSgpe3JldHVybiBbXCJ2YXJcIix0aGlzLm5hbWVdfX12YXIgVnI9VXI7Y2xhc3MganJ7Y29uc3RydWN0b3IoZSx0PVtdLGkscj1uZXcgRnQsbj1bXSxvKXt0aGlzLnJlZ2lzdHJ5PWUsdGhpcy5wYXRoPXQsdGhpcy5rZXk9dC5tYXAoKGU9PmBbJHtlfV1gKSkuam9pbihcIlwiKSx0aGlzLnNjb3BlPXIsdGhpcy5lcnJvcnM9bix0aGlzLmV4cGVjdGVkVHlwZT1pLHRoaXMub3B0aW9ucz1vO31wYXJzZShlLHQsaSxyLG49e30pe3JldHVybiB0fHxpP3RoaXMuY29uY2F0KHQsaSxyKS5fcGFyc2UoZSxuKTp0aGlzLl9wYXJzZShlLG4pfV9wYXJzZShlLHQpe2Z1bmN0aW9uIGkoZSx0LGkpe3JldHVybiBcImFzc2VydFwiPT09aT9uZXcgd2kodCxbZV0pOlwiY29lcmNlXCI9PT1pP25ldyBJaSh0LFtlXSk6ZX1pZihudWxsIT09ZSYmXCJzdHJpbmdcIiE9dHlwZW9mIGUmJlwiYm9vbGVhblwiIT10eXBlb2YgZSYmXCJudW1iZXJcIiE9dHlwZW9mIGV8fChlPVtcImxpdGVyYWxcIixlXSksQXJyYXkuaXNBcnJheShlKSl7aWYoMD09PWUubGVuZ3RoKXJldHVybiB0aGlzLmVycm9yKCdFeHBlY3RlZCBhbiBhcnJheSB3aXRoIGF0IGxlYXN0IG9uZSBlbGVtZW50LiBJZiB5b3Ugd2FudGVkIGEgbGl0ZXJhbCBhcnJheSwgdXNlIFtcImxpdGVyYWxcIiwgW11dLicpO2NvbnN0IHI9XCJzdHJpbmdcIj09dHlwZW9mIGVbMF0/dGhpcy5yZWdpc3RyeVtlWzBdXTp2b2lkIDA7aWYocil7bGV0IG49ci5wYXJzZShlLHRoaXMpO2lmKCFuKXJldHVybiBudWxsO2lmKHRoaXMuZXhwZWN0ZWRUeXBlKXtjb25zdCBlPXRoaXMuZXhwZWN0ZWRUeXBlLHI9bi50eXBlO2lmKFwic3RyaW5nXCIhPT1lLmtpbmQmJlwibnVtYmVyXCIhPT1lLmtpbmQmJlwiYm9vbGVhblwiIT09ZS5raW5kJiZcIm9iamVjdFwiIT09ZS5raW5kJiZcImFycmF5XCIhPT1lLmtpbmR8fFwidmFsdWVcIiE9PXIua2luZClpZihcImNvbG9yXCIhPT1lLmtpbmQmJlwiZm9ybWF0dGVkXCIhPT1lLmtpbmQmJlwicmVzb2x2ZWRJbWFnZVwiIT09ZS5raW5kfHxcInZhbHVlXCIhPT1yLmtpbmQmJlwic3RyaW5nXCIhPT1yLmtpbmQpe2lmKHRoaXMuY2hlY2tTdWJ0eXBlKGUscikpcmV0dXJuIG51bGx9ZWxzZSBuPWkobixlLHQudHlwZUFubm90YXRpb258fFwiY29lcmNlXCIpO2Vsc2Ugbj1pKG4sZSx0LnR5cGVBbm5vdGF0aW9ufHxcImFzc2VydFwiKTt9aWYoIShuIGluc3RhbmNlb2YgeWkpJiZcInJlc29sdmVkSW1hZ2VcIiE9PW4udHlwZS5raW5kJiZxcihuKSl7Y29uc3QgZT1uZXcgemkodGhpcy5vcHRpb25zKTt0cnl7bj1uZXcgeWkobi50eXBlLG4uZXZhbHVhdGUoZSkpO31jYXRjaChlKXtyZXR1cm4gdGhpcy5lcnJvcihlLm1lc3NhZ2UpLG51bGx9fXJldHVybiBufXJldHVybiBJaS5wYXJzZShbXCJ0by1hcnJheVwiLGVdLHRoaXMpfXJldHVybiB0aGlzLmVycm9yKHZvaWQgMD09PWU/XCIndW5kZWZpbmVkJyB2YWx1ZSBpbnZhbGlkLiBVc2UgbnVsbCBpbnN0ZWFkLlwiOlwib2JqZWN0XCI9PXR5cGVvZiBlPydCYXJlIG9iamVjdHMgaW52YWxpZC4gVXNlIFtcImxpdGVyYWxcIiwgey4uLn1dIGluc3RlYWQuJzpgRXhwZWN0ZWQgYW4gYXJyYXksIGJ1dCBmb3VuZCAke3R5cGVvZiBlfSBpbnN0ZWFkLmApfWNvbmNhdChlLHQsaSl7Y29uc3Qgcj1cIm51bWJlclwiPT10eXBlb2YgZT90aGlzLnBhdGguY29uY2F0KGUpOnRoaXMucGF0aCxuPWk/dGhpcy5zY29wZS5jb25jYXQoaSk6dGhpcy5zY29wZTtyZXR1cm4gbmV3IGpyKHRoaXMucmVnaXN0cnkscix0fHxudWxsLG4sdGhpcy5lcnJvcnMsdGhpcy5vcHRpb25zKX1lcnJvcihlLC4uLnQpe2NvbnN0IGk9YCR7dGhpcy5rZXl9JHt0Lm1hcCgoZT0+YFske2V9XWApKS5qb2luKFwiXCIpfWA7dGhpcy5lcnJvcnMucHVzaChuZXcgT3QoaSxlKSk7fWNoZWNrU3VidHlwZShlLHQpe2NvbnN0IGk9SnQoZSx0KTtyZXR1cm4gaSYmdGhpcy5lcnJvcihpKSxpfX12YXIgR3I9anI7ZnVuY3Rpb24gcXIoZSl7aWYoZSBpbnN0YW5jZW9mIFZyKXJldHVybiBxcihlLmJvdW5kRXhwcmVzc2lvbik7aWYoZSBpbnN0YW5jZW9mIFBpJiZcImVycm9yXCI9PT1lLm5hbWUpcmV0dXJuICExO2lmKGUgaW5zdGFuY2VvZiBQaSYmXCJjb25maWdcIj09PWUubmFtZSlyZXR1cm4gITE7aWYoZSBpbnN0YW5jZW9mIFJpKXJldHVybiAhMTtpZihlIGluc3RhbmNlb2YgdHIpcmV0dXJuICExO2lmKGUgaW5zdGFuY2VvZiBrcilyZXR1cm4gITE7Y29uc3QgdD1lIGluc3RhbmNlb2YgSWl8fGUgaW5zdGFuY2VvZiB3aTtsZXQgaT0hMDtyZXR1cm4gZS5lYWNoQ2hpbGQoKGU9PntpPXQ/aSYmcXIoZSk6aSYmZSBpbnN0YW5jZW9mIHlpO30pKSwhIWkmJk9yKGUpJiZOcihlLFtcInpvb21cIixcImhlYXRtYXAtZGVuc2l0eVwiLFwibGluZS1wcm9ncmVzc1wiLFwicmFzdGVyLXZhbHVlXCIsXCJza3ktcmFkaWFsLXByb2dyZXNzXCIsXCJhY2N1bXVsYXRlZFwiLFwiaXMtc3VwcG9ydGVkLXNjcmlwdFwiLFwicGl0Y2hcIixcImRpc3RhbmNlLWZyb20tY2VudGVyXCIsXCJtZWFzdXJlLWxpZ2h0XCJdKX1mdW5jdGlvbiBacihlLHQpe2NvbnN0IGk9ZS5sZW5ndGgtMTtsZXQgcixuLG89MCxzPWksYT0wO2Zvcig7bzw9czspaWYoYT1NYXRoLmZsb29yKChvK3MpLzIpLHI9ZVthXSxuPWVbYSsxXSxyPD10KXtpZihhPT09aXx8dDxuKXJldHVybiBhO289YSsxO31lbHNlIHtpZighKHI+dCkpdGhyb3cgbmV3IHhpKFwiSW5wdXQgaXMgbm90IGEgbnVtYmVyLlwiKTtzPWEtMTt9cmV0dXJuIDB9Y2xhc3MgJHJ7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMudHlwZT1lLHRoaXMuaW5wdXQ9dCx0aGlzLmxhYmVscz1bXSx0aGlzLm91dHB1dHM9W107Zm9yKGNvbnN0W2UsdF1vZiBpKXRoaXMubGFiZWxzLnB1c2goZSksdGhpcy5vdXRwdXRzLnB1c2godCk7fXN0YXRpYyBwYXJzZShlLHQpe2lmKGUubGVuZ3RoLTE8NClyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgYXQgbGVhc3QgNCBhcmd1bWVudHMsIGJ1dCBmb3VuZCBvbmx5ICR7ZS5sZW5ndGgtMX0uYCk7aWYoKGUubGVuZ3RoLTEpJTIhPTApcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlZCBhbiBldmVuIG51bWJlciBvZiBhcmd1bWVudHMuXCIpO2NvbnN0IGk9dC5wYXJzZShlWzFdLDEsVXQpO2lmKCFpKXJldHVybiBudWxsO2NvbnN0IHI9W107bGV0IG49bnVsbDt0LmV4cGVjdGVkVHlwZSYmXCJ2YWx1ZVwiIT09dC5leHBlY3RlZFR5cGUua2luZCYmKG49dC5leHBlY3RlZFR5cGUpO2ZvcihsZXQgaT0xO2k8ZS5sZW5ndGg7aSs9Mil7Y29uc3Qgbz0xPT09aT8tMS8wOmVbaV0scz1lW2krMV0sYT1pLGw9aSsxO2lmKFwibnVtYmVyXCIhPXR5cGVvZiBvKXJldHVybiB0LmVycm9yKCdJbnB1dC9vdXRwdXQgcGFpcnMgZm9yIFwic3RlcFwiIGV4cHJlc3Npb25zIG11c3QgYmUgZGVmaW5lZCB1c2luZyBsaXRlcmFsIG51bWVyaWMgdmFsdWVzIChub3QgY29tcHV0ZWQgZXhwcmVzc2lvbnMpIGZvciB0aGUgaW5wdXQgdmFsdWVzLicsYSk7aWYoci5sZW5ndGgmJnJbci5sZW5ndGgtMV1bMF0+PW8pcmV0dXJuIHQuZXJyb3IoJ0lucHV0L291dHB1dCBwYWlycyBmb3IgXCJzdGVwXCIgZXhwcmVzc2lvbnMgbXVzdCBiZSBhcnJhbmdlZCB3aXRoIGlucHV0IHZhbHVlcyBpbiBzdHJpY3RseSBhc2NlbmRpbmcgb3JkZXIuJyxhKTtjb25zdCBjPXQucGFyc2UocyxsLG4pO2lmKCFjKXJldHVybiBudWxsO249bnx8Yy50eXBlLHIucHVzaChbbyxjXSk7fXJldHVybiBuZXcgJHIobixpLHIpfWV2YWx1YXRlKGUpe2NvbnN0IHQ9dGhpcy5sYWJlbHMsaT10aGlzLm91dHB1dHM7aWYoMT09PXQubGVuZ3RoKXJldHVybiBpWzBdLmV2YWx1YXRlKGUpO2NvbnN0IHI9dGhpcy5pbnB1dC5ldmFsdWF0ZShlKTtpZihyPD10WzBdKXJldHVybiBpWzBdLmV2YWx1YXRlKGUpO2NvbnN0IG49dC5sZW5ndGg7cmV0dXJuIHI+PXRbbi0xXT9pW24tMV0uZXZhbHVhdGUoZSk6aVtacih0LHIpXS5ldmFsdWF0ZShlKX1lYWNoQ2hpbGQoZSl7ZSh0aGlzLmlucHV0KTtmb3IoY29uc3QgdCBvZiB0aGlzLm91dHB1dHMpZSh0KTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiB0aGlzLm91dHB1dHMuZXZlcnkoKGU9PmUub3V0cHV0RGVmaW5lZCgpKSl9c2VyaWFsaXplKCl7Y29uc3QgZT1bXCJzdGVwXCIsdGhpcy5pbnB1dC5zZXJpYWxpemUoKV07Zm9yKGxldCB0PTA7dDx0aGlzLmxhYmVscy5sZW5ndGg7dCsrKXQ+MCYmZS5wdXNoKHRoaXMubGFiZWxzW3RdKSxlLnB1c2godGhpcy5vdXRwdXRzW3RdLnNlcmlhbGl6ZSgpKTtyZXR1cm4gZX19dmFyIEhyPSRyO2Z1bmN0aW9uIFdyKGUsdCxpKXtyZXR1cm4gZSooMS1pKSt0Kml9ZnVuY3Rpb24gWHIoZSx0LGkpe3JldHVybiBlLm1hcCgoKGUscik9PldyKGUsdFtyXSxpKSkpfXZhciBZcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxhcnJheTpYcixjb2xvcjpmdW5jdGlvbihlLHQsaSl7cmV0dXJuIG5ldyBsaShXcihlLnIsdC5yLGkpLFdyKGUuZyx0LmcsaSksV3IoZS5iLHQuYixpKSxXcihlLmEsdC5hLGkpKX0sbnVtYmVyOldyfSk7Y29uc3QgS3I9Ljk1MDQ3LEpyPTEuMDg4ODMsUXI9NC8yOSxlbj02LzI5LHRuPTMqZW4qZW4scm49ZW4qZW4qZW4sbm49TWF0aC5QSS8xODAsb249MTgwL01hdGguUEk7ZnVuY3Rpb24gc24oZSl7cmV0dXJuIGU+cm4/TWF0aC5wb3coZSwxLzMpOmUvdG4rUXJ9ZnVuY3Rpb24gYW4oZSl7cmV0dXJuIGU+ZW4/ZSplKmU6dG4qKGUtUXIpfWZ1bmN0aW9uIGxuKGUpe3JldHVybiAyNTUqKGU8PS4wMDMxMzA4PzEyLjkyKmU6MS4wNTUqTWF0aC5wb3coZSwxLzIuNCktLjA1NSl9ZnVuY3Rpb24gY24oZSl7cmV0dXJuIChlLz0yNTUpPD0uMDQwNDU/ZS8xMi45MjpNYXRoLnBvdygoZSsuMDU1KS8xLjA1NSwyLjQpfWZ1bmN0aW9uIGhuKGUpe2NvbnN0IHQ9Y24oZS5yKSxpPWNuKGUuZykscj1jbihlLmIpLG49c24oKC40MTI0NTY0KnQrLjM1NzU3NjEqaSsuMTgwNDM3NSpyKS9Lciksbz1zbigoLjIxMjY3MjkqdCsuNzE1MTUyMippKy4wNzIxNzUqcikvMSk7cmV0dXJuIHtsOjExNipvLTE2LGE6NTAwKihuLW8pLGI6MjAwKihvLXNuKCguMDE5MzMzOSp0Ky4xMTkxOTIqaSsuOTUwMzA0MSpyKS9KcikpLGFscGhhOmUuYX19ZnVuY3Rpb24gdW4oZSl7bGV0IHQ9KGUubCsxNikvMTE2LGk9aXNOYU4oZS5hKT90OnQrZS5hLzUwMCxyPWlzTmFOKGUuYik/dDp0LWUuYi8yMDA7cmV0dXJuIHQ9MSphbih0KSxpPUtyKmFuKGkpLHI9SnIqYW4ociksbmV3IGxpKGxuKDMuMjQwNDU0MippLTEuNTM3MTM4NSp0LS40OTg1MzE0KnIpLGxuKC0uOTY5MjY2KmkrMS44NzYwMTA4KnQrLjA0MTU1NipyKSxsbiguMDU1NjQzNCppLS4yMDQwMjU5KnQrMS4wNTcyMjUyKnIpLGUuYWxwaGEpfWZ1bmN0aW9uIGRuKGUsdCxpKXtjb25zdCByPXQtZTtyZXR1cm4gZStpKihyPjE4MHx8cjwtMTgwP3ItMzYwKk1hdGgucm91bmQoci8zNjApOnIpfWNvbnN0IHBuPXtmb3J3YXJkOmhuLHJldmVyc2U6dW4saW50ZXJwb2xhdGU6ZnVuY3Rpb24oZSx0LGkpe3JldHVybiB7bDpXcihlLmwsdC5sLGkpLGE6V3IoZS5hLHQuYSxpKSxiOldyKGUuYix0LmIsaSksYWxwaGE6V3IoZS5hbHBoYSx0LmFscGhhLGkpfX19LGZuPXtmb3J3YXJkOmZ1bmN0aW9uKGUpe2NvbnN0e2w6dCxhOmksYjpyfT1obihlKSxuPU1hdGguYXRhbjIocixpKSpvbjtyZXR1cm4ge2g6bjwwP24rMzYwOm4sYzpNYXRoLnNxcnQoaSppK3IqciksbDp0LGFscGhhOmUuYX19LHJldmVyc2U6ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmgqbm4saT1lLmM7cmV0dXJuIHVuKHtsOmUubCxhOk1hdGguY29zKHQpKmksYjpNYXRoLnNpbih0KSppLGFscGhhOmUuYWxwaGF9KX0saW50ZXJwb2xhdGU6ZnVuY3Rpb24oZSx0LGkpe3JldHVybiB7aDpkbihlLmgsdC5oLGkpLGM6V3IoZS5jLHQuYyxpKSxsOldyKGUubCx0LmwsaSksYWxwaGE6V3IoZS5hbHBoYSx0LmFscGhhLGkpfX19O3ZhciBtbj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxoY2w6Zm4sbGFiOnBufSk7Y2xhc3MgX257Y29uc3RydWN0b3IoZSx0LGkscixuKXt0aGlzLnR5cGU9ZSx0aGlzLm9wZXJhdG9yPXQsdGhpcy5pbnRlcnBvbGF0aW9uPWksdGhpcy5pbnB1dD1yLHRoaXMubGFiZWxzPVtdLHRoaXMub3V0cHV0cz1bXTtmb3IoY29uc3RbZSx0XW9mIG4pdGhpcy5sYWJlbHMucHVzaChlKSx0aGlzLm91dHB1dHMucHVzaCh0KTt9c3RhdGljIGludGVycG9sYXRpb25GYWN0b3IoZSx0LGkscil7bGV0IG49MDtpZihcImV4cG9uZW50aWFsXCI9PT1lLm5hbWUpbj1nbih0LGUuYmFzZSxpLHIpO2Vsc2UgaWYoXCJsaW5lYXJcIj09PWUubmFtZSluPWduKHQsMSxpLHIpO2Vsc2UgaWYoXCJjdWJpYy1iZXppZXJcIj09PWUubmFtZSl7Y29uc3Qgbz1lLmNvbnRyb2xQb2ludHM7bj1uZXcgbShvWzBdLG9bMV0sb1syXSxvWzNdKS5zb2x2ZShnbih0LDEsaSxyKSk7fXJldHVybiBufXN0YXRpYyBwYXJzZShlLHQpe2xldFtpLHIsbiwuLi5vXT1lO2lmKCFBcnJheS5pc0FycmF5KHIpfHwwPT09ci5sZW5ndGgpcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlZCBhbiBpbnRlcnBvbGF0aW9uIHR5cGUgZXhwcmVzc2lvbi5cIiwxKTtpZihcImxpbmVhclwiPT09clswXSlyPXtuYW1lOlwibGluZWFyXCJ9O2Vsc2UgaWYoXCJleHBvbmVudGlhbFwiPT09clswXSl7Y29uc3QgZT1yWzFdO2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXJldHVybiB0LmVycm9yKFwiRXhwb25lbnRpYWwgaW50ZXJwb2xhdGlvbiByZXF1aXJlcyBhIG51bWVyaWMgYmFzZS5cIiwxLDEpO3I9e25hbWU6XCJleHBvbmVudGlhbFwiLGJhc2U6ZX07fWVsc2Uge2lmKFwiY3ViaWMtYmV6aWVyXCIhPT1yWzBdKXJldHVybiB0LmVycm9yKGBVbmtub3duIGludGVycG9sYXRpb24gdHlwZSAke1N0cmluZyhyWzBdKX1gLDEsMCk7e2NvbnN0IGU9ci5zbGljZSgxKTtpZig0IT09ZS5sZW5ndGh8fGUuc29tZSgoZT0+XCJudW1iZXJcIiE9dHlwZW9mIGV8fGU8MHx8ZT4xKSkpcmV0dXJuIHQuZXJyb3IoXCJDdWJpYyBiZXppZXIgaW50ZXJwb2xhdGlvbiByZXF1aXJlcyBmb3VyIG51bWVyaWMgYXJndW1lbnRzIHdpdGggdmFsdWVzIGJldHdlZW4gMCBhbmQgMS5cIiwxKTtyPXtuYW1lOlwiY3ViaWMtYmV6aWVyXCIsY29udHJvbFBvaW50czplfTt9fWlmKGUubGVuZ3RoLTE8NClyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgYXQgbGVhc3QgNCBhcmd1bWVudHMsIGJ1dCBmb3VuZCBvbmx5ICR7ZS5sZW5ndGgtMX0uYCk7aWYoKGUubGVuZ3RoLTEpJTIhPTApcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlZCBhbiBldmVuIG51bWJlciBvZiBhcmd1bWVudHMuXCIpO2lmKG49dC5wYXJzZShuLDIsVXQpLCFuKXJldHVybiBudWxsO2NvbnN0IHM9W107bGV0IGE9bnVsbDtcImludGVycG9sYXRlLWhjbFwiPT09aXx8XCJpbnRlcnBvbGF0ZS1sYWJcIj09PWk/YT1HdDp0LmV4cGVjdGVkVHlwZSYmXCJ2YWx1ZVwiIT09dC5leHBlY3RlZFR5cGUua2luZCYmKGE9dC5leHBlY3RlZFR5cGUpO2ZvcihsZXQgZT0wO2U8by5sZW5ndGg7ZSs9Mil7Y29uc3QgaT1vW2VdLHI9b1tlKzFdLG49ZSszLGw9ZSs0O2lmKFwibnVtYmVyXCIhPXR5cGVvZiBpKXJldHVybiB0LmVycm9yKCdJbnB1dC9vdXRwdXQgcGFpcnMgZm9yIFwiaW50ZXJwb2xhdGVcIiBleHByZXNzaW9ucyBtdXN0IGJlIGRlZmluZWQgdXNpbmcgbGl0ZXJhbCBudW1lcmljIHZhbHVlcyAobm90IGNvbXB1dGVkIGV4cHJlc3Npb25zKSBmb3IgdGhlIGlucHV0IHZhbHVlcy4nLG4pO2lmKHMubGVuZ3RoJiZzW3MubGVuZ3RoLTFdWzBdPj1pKXJldHVybiB0LmVycm9yKCdJbnB1dC9vdXRwdXQgcGFpcnMgZm9yIFwiaW50ZXJwb2xhdGVcIiBleHByZXNzaW9ucyBtdXN0IGJlIGFycmFuZ2VkIHdpdGggaW5wdXQgdmFsdWVzIGluIHN0cmljdGx5IGFzY2VuZGluZyBvcmRlci4nLG4pO2NvbnN0IGM9dC5wYXJzZShyLGwsYSk7aWYoIWMpcmV0dXJuIG51bGw7YT1hfHxjLnR5cGUscy5wdXNoKFtpLGNdKTt9cmV0dXJuIFwibnVtYmVyXCI9PT1hLmtpbmR8fFwiY29sb3JcIj09PWEua2luZHx8XCJhcnJheVwiPT09YS5raW5kJiZcIm51bWJlclwiPT09YS5pdGVtVHlwZS5raW5kJiZcIm51bWJlclwiPT10eXBlb2YgYS5OP25ldyBfbihhLGkscixuLHMpOnQuZXJyb3IoYFR5cGUgJHtZdChhKX0gaXMgbm90IGludGVycG9sYXRhYmxlLmApfWV2YWx1YXRlKGUpe2NvbnN0IHQ9dGhpcy5sYWJlbHMsaT10aGlzLm91dHB1dHM7aWYoMT09PXQubGVuZ3RoKXJldHVybiBpWzBdLmV2YWx1YXRlKGUpO2NvbnN0IHI9dGhpcy5pbnB1dC5ldmFsdWF0ZShlKTtpZihyPD10WzBdKXJldHVybiBpWzBdLmV2YWx1YXRlKGUpO2NvbnN0IG49dC5sZW5ndGg7aWYocj49dFtuLTFdKXJldHVybiBpW24tMV0uZXZhbHVhdGUoZSk7Y29uc3Qgbz1acih0LHIpLHM9X24uaW50ZXJwb2xhdGlvbkZhY3Rvcih0aGlzLmludGVycG9sYXRpb24scix0W29dLHRbbysxXSksYT1pW29dLmV2YWx1YXRlKGUpLGw9aVtvKzFdLmV2YWx1YXRlKGUpO3JldHVybiBcImludGVycG9sYXRlXCI9PT10aGlzLm9wZXJhdG9yP1lyW3RoaXMudHlwZS5raW5kLnRvTG93ZXJDYXNlKCldKGEsbCxzKTpcImludGVycG9sYXRlLWhjbFwiPT09dGhpcy5vcGVyYXRvcj9mbi5yZXZlcnNlKGZuLmludGVycG9sYXRlKGZuLmZvcndhcmQoYSksZm4uZm9yd2FyZChsKSxzKSk6cG4ucmV2ZXJzZShwbi5pbnRlcnBvbGF0ZShwbi5mb3J3YXJkKGEpLHBuLmZvcndhcmQobCkscykpfWVhY2hDaGlsZChlKXtlKHRoaXMuaW5wdXQpO2Zvcihjb25zdCB0IG9mIHRoaXMub3V0cHV0cyllKHQpO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuIHRoaXMub3V0cHV0cy5ldmVyeSgoZT0+ZS5vdXRwdXREZWZpbmVkKCkpKX1zZXJpYWxpemUoKXtsZXQgZTtlPVwibGluZWFyXCI9PT10aGlzLmludGVycG9sYXRpb24ubmFtZT9bXCJsaW5lYXJcIl06XCJleHBvbmVudGlhbFwiPT09dGhpcy5pbnRlcnBvbGF0aW9uLm5hbWU/MT09PXRoaXMuaW50ZXJwb2xhdGlvbi5iYXNlP1tcImxpbmVhclwiXTpbXCJleHBvbmVudGlhbFwiLHRoaXMuaW50ZXJwb2xhdGlvbi5iYXNlXTpbXCJjdWJpYy1iZXppZXJcIl0uY29uY2F0KHRoaXMuaW50ZXJwb2xhdGlvbi5jb250cm9sUG9pbnRzKTtjb25zdCB0PVt0aGlzLm9wZXJhdG9yLGUsdGhpcy5pbnB1dC5zZXJpYWxpemUoKV07Zm9yKGxldCBlPTA7ZTx0aGlzLmxhYmVscy5sZW5ndGg7ZSsrKXQucHVzaCh0aGlzLmxhYmVsc1tlXSx0aGlzLm91dHB1dHNbZV0uc2VyaWFsaXplKCkpO3JldHVybiB0fX1mdW5jdGlvbiBnbihlLHQsaSxyKXtjb25zdCBuPXItaSxvPWUtaTtyZXR1cm4gMD09PW4/MDoxPT09dD9vL246KE1hdGgucG93KHQsbyktMSkvKE1hdGgucG93KHQsbiktMSl9dmFyIHluPV9uO2NsYXNzIHhue2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPWUsdGhpcy5hcmdzPXQ7fXN0YXRpYyBwYXJzZShlLHQpe2lmKGUubGVuZ3RoPDIpcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlY3RlZCBhdCBsZWFzdCBvbmUgYXJndW1lbnQuXCIpO2xldCBpPW51bGw7Y29uc3Qgcj10LmV4cGVjdGVkVHlwZTtyJiZcInZhbHVlXCIhPT1yLmtpbmQmJihpPXIpO2NvbnN0IG49W107Zm9yKGNvbnN0IHIgb2YgZS5zbGljZSgxKSl7Y29uc3QgZT10LnBhcnNlKHIsMStuLmxlbmd0aCxpLHZvaWQgMCx7dHlwZUFubm90YXRpb246XCJvbWl0XCJ9KTtpZighZSlyZXR1cm4gbnVsbDtpPWl8fGUudHlwZSxuLnB1c2goZSk7fWNvbnN0IG89ciYmbi5zb21lKChlPT5KdChyLGUudHlwZSkpKTtyZXR1cm4gbmV3IHhuKG8/WnQ6aSxuKX1ldmFsdWF0ZShlKXtsZXQgdCxpPW51bGwscj0wO2Zvcihjb25zdCBuIG9mIHRoaXMuYXJncyl7aWYocisrLGk9bi5ldmFsdWF0ZShlKSxpJiZpIGluc3RhbmNlb2YgZGkmJiFpLmF2YWlsYWJsZSYmKHR8fCh0PWkpLGk9bnVsbCxyPT09dGhpcy5hcmdzLmxlbmd0aCkpcmV0dXJuIHQ7aWYobnVsbCE9PWkpYnJlYWt9cmV0dXJuIGl9ZWFjaENoaWxkKGUpe3RoaXMuYXJncy5mb3JFYWNoKGUpO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuIHRoaXMuYXJncy5ldmVyeSgoZT0+ZS5vdXRwdXREZWZpbmVkKCkpKX1zZXJpYWxpemUoKXtjb25zdCBlPVtcImNvYWxlc2NlXCJdO3JldHVybiB0aGlzLmVhY2hDaGlsZCgodD0+e2UucHVzaCh0LnNlcmlhbGl6ZSgpKTt9KSksZX19dmFyIHZuPXhuO2NsYXNzIGJue2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPXQudHlwZSx0aGlzLmJpbmRpbmdzPVtdLmNvbmNhdChlKSx0aGlzLnJlc3VsdD10O31ldmFsdWF0ZShlKXtyZXR1cm4gdGhpcy5yZXN1bHQuZXZhbHVhdGUoZSl9ZWFjaENoaWxkKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuYmluZGluZ3MpZSh0WzFdKTtlKHRoaXMucmVzdWx0KTt9c3RhdGljIHBhcnNlKGUsdCl7aWYoZS5sZW5ndGg8NClyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgYXQgbGVhc3QgMyBhcmd1bWVudHMsIGJ1dCBmb3VuZCAke2UubGVuZ3RoLTF9IGluc3RlYWQuYCk7Y29uc3QgaT1bXTtmb3IobGV0IHI9MTtyPGUubGVuZ3RoLTE7cis9Mil7Y29uc3Qgbj1lW3JdO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBuKXJldHVybiB0LmVycm9yKGBFeHBlY3RlZCBzdHJpbmcsIGJ1dCBmb3VuZCAke3R5cGVvZiBufSBpbnN0ZWFkLmAscik7aWYoL1teYS16QS1aMC05X10vLnRlc3QobikpcmV0dXJuIHQuZXJyb3IoXCJWYXJpYWJsZSBuYW1lcyBtdXN0IGNvbnRhaW4gb25seSBhbHBoYW51bWVyaWMgY2hhcmFjdGVycyBvciAnXycuXCIscik7Y29uc3Qgbz10LnBhcnNlKGVbcisxXSxyKzEpO2lmKCFvKXJldHVybiBudWxsO2kucHVzaChbbixvXSk7fWNvbnN0IHI9dC5wYXJzZShlW2UubGVuZ3RoLTFdLGUubGVuZ3RoLTEsdC5leHBlY3RlZFR5cGUsaSk7cmV0dXJuIHI/bmV3IGJuKGkscik6bnVsbH1vdXRwdXREZWZpbmVkKCl7cmV0dXJuIHRoaXMucmVzdWx0Lm91dHB1dERlZmluZWQoKX1zZXJpYWxpemUoKXtjb25zdCBlPVtcImxldFwiXTtmb3IoY29uc3RbdCxpXW9mIHRoaXMuYmluZGluZ3MpZS5wdXNoKHQsaS5zZXJpYWxpemUoKSk7cmV0dXJuIGUucHVzaCh0aGlzLnJlc3VsdC5zZXJpYWxpemUoKSksZX19dmFyIHduPWJuO2NsYXNzIFRue2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLnR5cGU9ZSx0aGlzLmluZGV4PXQsdGhpcy5pbnB1dD1pO31zdGF0aWMgcGFyc2UoZSx0KXtpZigzIT09ZS5sZW5ndGgpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIDIgYXJndW1lbnRzLCBidXQgZm91bmQgJHtlLmxlbmd0aC0xfSBpbnN0ZWFkLmApO2NvbnN0IGk9dC5wYXJzZShlWzFdLDEsVXQpLHI9dC5wYXJzZShlWzJdLDIsWHQodC5leHBlY3RlZFR5cGV8fFp0KSk7cmV0dXJuIGkmJnI/bmV3IFRuKHIudHlwZS5pdGVtVHlwZSxpLHIpOm51bGx9ZXZhbHVhdGUoZSl7Y29uc3QgdD10aGlzLmluZGV4LmV2YWx1YXRlKGUpLGk9dGhpcy5pbnB1dC5ldmFsdWF0ZShlKTtpZih0PDApdGhyb3cgbmV3IHhpKGBBcnJheSBpbmRleCBvdXQgb2YgYm91bmRzOiAke3R9IDwgMC5gKTtpZih0Pj1pLmxlbmd0aCl0aHJvdyBuZXcgeGkoYEFycmF5IGluZGV4IG91dCBvZiBib3VuZHM6ICR7dH0gPiAke2kubGVuZ3RoLTF9LmApO2lmKHQhPT1NYXRoLmZsb29yKHQpKXRocm93IG5ldyB4aShgQXJyYXkgaW5kZXggbXVzdCBiZSBhbiBpbnRlZ2VyLCBidXQgZm91bmQgJHt0fSBpbnN0ZWFkLmApO3JldHVybiBpW3RdfWVhY2hDaGlsZChlKXtlKHRoaXMuaW5kZXgpLGUodGhpcy5pbnB1dCk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITF9c2VyaWFsaXplKCl7cmV0dXJuIFtcImF0XCIsdGhpcy5pbmRleC5zZXJpYWxpemUoKSx0aGlzLmlucHV0LnNlcmlhbGl6ZSgpXX19dmFyIEVuPVRuO2NsYXNzIE1ue2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPWp0LHRoaXMubmVlZGxlPWUsdGhpcy5oYXlzdGFjaz10O31zdGF0aWMgcGFyc2UoZSx0KXtpZigzIT09ZS5sZW5ndGgpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIDIgYXJndW1lbnRzLCBidXQgZm91bmQgJHtlLmxlbmd0aC0xfSBpbnN0ZWFkLmApO2NvbnN0IGk9dC5wYXJzZShlWzFdLDEsWnQpLHI9dC5wYXJzZShlWzJdLDIsWnQpO3JldHVybiBpJiZyP1F0KGkudHlwZSxbanQsVnQsVXQsTnQsWnRdKT9uZXcgTW4oaSxyKTp0LmVycm9yKGBFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGJvb2xlYW4sIHN0cmluZywgbnVtYmVyIG9yIG51bGwsIGJ1dCBmb3VuZCAke1l0KGkudHlwZSl9IGluc3RlYWRgKTpudWxsfWV2YWx1YXRlKGUpe2NvbnN0IHQ9dGhpcy5uZWVkbGUuZXZhbHVhdGUoZSksaT10aGlzLmhheXN0YWNrLmV2YWx1YXRlKGUpO2lmKG51bGw9PWkpcmV0dXJuICExO2lmKCFlaSh0LFtcImJvb2xlYW5cIixcInN0cmluZ1wiLFwibnVtYmVyXCIsXCJudWxsXCJdKSl0aHJvdyBuZXcgeGkoYEV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIgb3IgbnVsbCwgYnV0IGZvdW5kICR7WXQobWkodCkpfSBpbnN0ZWFkLmApO2lmKCFlaShpLFtcInN0cmluZ1wiLFwiYXJyYXlcIl0pKXRocm93IG5ldyB4aShgRXhwZWN0ZWQgc2Vjb25kIGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYXJyYXkgb3Igc3RyaW5nLCBidXQgZm91bmQgJHtZdChtaShpKSl9IGluc3RlYWQuYCk7cmV0dXJuIGkuaW5kZXhPZih0KT49MH1lYWNoQ2hpbGQoZSl7ZSh0aGlzLm5lZWRsZSksZSh0aGlzLmhheXN0YWNrKTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiAhMH1zZXJpYWxpemUoKXtyZXR1cm4gW1wiaW5cIix0aGlzLm5lZWRsZS5zZXJpYWxpemUoKSx0aGlzLmhheXN0YWNrLnNlcmlhbGl6ZSgpXX19dmFyIEFuPU1uO2NsYXNzIFNue2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLnR5cGU9VXQsdGhpcy5uZWVkbGU9ZSx0aGlzLmhheXN0YWNrPXQsdGhpcy5mcm9tSW5kZXg9aTt9c3RhdGljIHBhcnNlKGUsdCl7aWYoZS5sZW5ndGg8PTJ8fGUubGVuZ3RoPj01KXJldHVybiB0LmVycm9yKGBFeHBlY3RlZCAzIG9yIDQgYXJndW1lbnRzLCBidXQgZm91bmQgJHtlLmxlbmd0aC0xfSBpbnN0ZWFkLmApO2NvbnN0IGk9dC5wYXJzZShlWzFdLDEsWnQpLHI9dC5wYXJzZShlWzJdLDIsWnQpO2lmKCFpfHwhcilyZXR1cm4gbnVsbDtpZighUXQoaS50eXBlLFtqdCxWdCxVdCxOdCxadF0pKXJldHVybiB0LmVycm9yKGBFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGJvb2xlYW4sIHN0cmluZywgbnVtYmVyIG9yIG51bGwsIGJ1dCBmb3VuZCAke1l0KGkudHlwZSl9IGluc3RlYWRgKTtpZig0PT09ZS5sZW5ndGgpe2NvbnN0IG49dC5wYXJzZShlWzNdLDMsVXQpO3JldHVybiBuP25ldyBTbihpLHIsbik6bnVsbH1yZXR1cm4gbmV3IFNuKGkscil9ZXZhbHVhdGUoZSl7Y29uc3QgdD10aGlzLm5lZWRsZS5ldmFsdWF0ZShlKSxpPXRoaXMuaGF5c3RhY2suZXZhbHVhdGUoZSk7aWYoIWVpKHQsW1wiYm9vbGVhblwiLFwic3RyaW5nXCIsXCJudW1iZXJcIixcIm51bGxcIl0pKXRocm93IG5ldyB4aShgRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBib29sZWFuLCBzdHJpbmcsIG51bWJlciBvciBudWxsLCBidXQgZm91bmQgJHtZdChtaSh0KSl9IGluc3RlYWQuYCk7aWYoIWVpKGksW1wic3RyaW5nXCIsXCJhcnJheVwiXSkpdGhyb3cgbmV3IHhpKGBFeHBlY3RlZCBzZWNvbmQgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBhcnJheSBvciBzdHJpbmcsIGJ1dCBmb3VuZCAke1l0KG1pKGkpKX0gaW5zdGVhZC5gKTtpZih0aGlzLmZyb21JbmRleCl7Y29uc3Qgcj10aGlzLmZyb21JbmRleC5ldmFsdWF0ZShlKTtyZXR1cm4gaS5pbmRleE9mKHQscil9cmV0dXJuIGkuaW5kZXhPZih0KX1lYWNoQ2hpbGQoZSl7ZSh0aGlzLm5lZWRsZSksZSh0aGlzLmhheXN0YWNrKSx0aGlzLmZyb21JbmRleCYmZSh0aGlzLmZyb21JbmRleCk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITF9c2VyaWFsaXplKCl7aWYobnVsbCE9dGhpcy5mcm9tSW5kZXgmJnZvaWQgMCE9PXRoaXMuZnJvbUluZGV4KXtjb25zdCBlPXRoaXMuZnJvbUluZGV4LnNlcmlhbGl6ZSgpO3JldHVybiBbXCJpbmRleC1vZlwiLHRoaXMubmVlZGxlLnNlcmlhbGl6ZSgpLHRoaXMuaGF5c3RhY2suc2VyaWFsaXplKCksZV19cmV0dXJuIFtcImluZGV4LW9mXCIsdGhpcy5uZWVkbGUuc2VyaWFsaXplKCksdGhpcy5oYXlzdGFjay5zZXJpYWxpemUoKV19fXZhciBJbj1TbjtjbGFzcyBDbntjb25zdHJ1Y3RvcihlLHQsaSxyLG4sbyl7dGhpcy5pbnB1dFR5cGU9ZSx0aGlzLnR5cGU9dCx0aGlzLmlucHV0PWksdGhpcy5jYXNlcz1yLHRoaXMub3V0cHV0cz1uLHRoaXMub3RoZXJ3aXNlPW87fXN0YXRpYyBwYXJzZShlLHQpe2lmKGUubGVuZ3RoPDUpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0IDQgYXJndW1lbnRzLCBidXQgZm91bmQgb25seSAke2UubGVuZ3RoLTF9LmApO2lmKGUubGVuZ3RoJTIhPTEpcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlZCBhbiBldmVuIG51bWJlciBvZiBhcmd1bWVudHMuXCIpO2xldCBpLHI7dC5leHBlY3RlZFR5cGUmJlwidmFsdWVcIiE9PXQuZXhwZWN0ZWRUeXBlLmtpbmQmJihyPXQuZXhwZWN0ZWRUeXBlKTtjb25zdCBuPXt9LG89W107Zm9yKGxldCBzPTI7czxlLmxlbmd0aC0xO3MrPTIpe2xldCBhPWVbc107Y29uc3QgbD1lW3MrMV07QXJyYXkuaXNBcnJheShhKXx8KGE9W2FdKTtjb25zdCBjPXQuY29uY2F0KHMpO2lmKDA9PT1hLmxlbmd0aClyZXR1cm4gYy5lcnJvcihcIkV4cGVjdGVkIGF0IGxlYXN0IG9uZSBicmFuY2ggbGFiZWwuXCIpO2Zvcihjb25zdCBlIG9mIGEpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlJiZcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4gYy5lcnJvcihcIkJyYW5jaCBsYWJlbHMgbXVzdCBiZSBudW1iZXJzIG9yIHN0cmluZ3MuXCIpO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlJiZNYXRoLmFicyhlKT5OdW1iZXIuTUFYX1NBRkVfSU5URUdFUilyZXR1cm4gYy5lcnJvcihgQnJhbmNoIGxhYmVscyBtdXN0IGJlIGludGVnZXJzIG5vIGxhcmdlciB0aGFuICR7TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJ9LmApO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlJiZNYXRoLmZsb29yKGUpIT09ZSlyZXR1cm4gYy5lcnJvcihcIk51bWVyaWMgYnJhbmNoIGxhYmVscyBtdXN0IGJlIGludGVnZXIgdmFsdWVzLlwiKTtpZihpKXtpZihjLmNoZWNrU3VidHlwZShpLG1pKGUpKSlyZXR1cm4gbnVsbH1lbHNlIGk9bWkoZSk7aWYodm9pZCAwIT09bltTdHJpbmcoZSldKXJldHVybiBjLmVycm9yKFwiQnJhbmNoIGxhYmVscyBtdXN0IGJlIHVuaXF1ZS5cIik7bltTdHJpbmcoZSldPW8ubGVuZ3RoO31jb25zdCBoPXQucGFyc2UobCxzLHIpO2lmKCFoKXJldHVybiBudWxsO3I9cnx8aC50eXBlLG8ucHVzaChoKTt9Y29uc3Qgcz10LnBhcnNlKGVbMV0sMSxadCk7aWYoIXMpcmV0dXJuIG51bGw7Y29uc3QgYT10LnBhcnNlKGVbZS5sZW5ndGgtMV0sZS5sZW5ndGgtMSxyKTtyZXR1cm4gYT9cInZhbHVlXCIhPT1zLnR5cGUua2luZCYmdC5jb25jYXQoMSkuY2hlY2tTdWJ0eXBlKGkscy50eXBlKT9udWxsOm5ldyBDbihpLHIscyxuLG8sYSk6bnVsbH1ldmFsdWF0ZShlKXtjb25zdCB0PXRoaXMuaW5wdXQuZXZhbHVhdGUoZSk7cmV0dXJuIChtaSh0KT09PXRoaXMuaW5wdXRUeXBlJiZ0aGlzLm91dHB1dHNbdGhpcy5jYXNlc1t0XV18fHRoaXMub3RoZXJ3aXNlKS5ldmFsdWF0ZShlKX1lYWNoQ2hpbGQoZSl7ZSh0aGlzLmlucHV0KSx0aGlzLm91dHB1dHMuZm9yRWFjaChlKSxlKHRoaXMub3RoZXJ3aXNlKTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiB0aGlzLm91dHB1dHMuZXZlcnkoKGU9PmUub3V0cHV0RGVmaW5lZCgpKSkmJnRoaXMub3RoZXJ3aXNlLm91dHB1dERlZmluZWQoKX1zZXJpYWxpemUoKXtjb25zdCBlPVtcIm1hdGNoXCIsdGhpcy5pbnB1dC5zZXJpYWxpemUoKV0sdD1PYmplY3Qua2V5cyh0aGlzLmNhc2VzKS5zb3J0KCksaT1bXSxyPXt9O2Zvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9clt0aGlzLmNhc2VzW2VdXTt2b2lkIDA9PT10PyhyW3RoaXMuY2FzZXNbZV1dPWkubGVuZ3RoLGkucHVzaChbdGhpcy5jYXNlc1tlXSxbZV1dKSk6aVt0XVsxXS5wdXNoKGUpO31jb25zdCBuPWU9PlwibnVtYmVyXCI9PT10aGlzLmlucHV0VHlwZS5raW5kP051bWJlcihlKTplO2Zvcihjb25zdFt0LHJdb2YgaSllLnB1c2goMT09PXIubGVuZ3RoP24oclswXSk6ci5tYXAobikpLGUucHVzaCh0aGlzLm91dHB1dHNbdF0uc2VyaWFsaXplKCkpO3JldHVybiBlLnB1c2godGhpcy5vdGhlcndpc2Uuc2VyaWFsaXplKCkpLGV9fXZhciB6bj1DbjtjbGFzcyBEbntjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy50eXBlPWUsdGhpcy5icmFuY2hlcz10LHRoaXMub3RoZXJ3aXNlPWk7fXN0YXRpYyBwYXJzZShlLHQpe2lmKGUubGVuZ3RoPDQpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0IDMgYXJndW1lbnRzLCBidXQgZm91bmQgb25seSAke2UubGVuZ3RoLTF9LmApO2lmKGUubGVuZ3RoJTIhPTApcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlZCBhbiBvZGQgbnVtYmVyIG9mIGFyZ3VtZW50cy5cIik7bGV0IGk7dC5leHBlY3RlZFR5cGUmJlwidmFsdWVcIiE9PXQuZXhwZWN0ZWRUeXBlLmtpbmQmJihpPXQuZXhwZWN0ZWRUeXBlKTtjb25zdCByPVtdO2ZvcihsZXQgbj0xO248ZS5sZW5ndGgtMTtuKz0yKXtjb25zdCBvPXQucGFyc2UoZVtuXSxuLGp0KTtpZighbylyZXR1cm4gbnVsbDtjb25zdCBzPXQucGFyc2UoZVtuKzFdLG4rMSxpKTtpZighcylyZXR1cm4gbnVsbDtyLnB1c2goW28sc10pLGk9aXx8cy50eXBlO31jb25zdCBuPXQucGFyc2UoZVtlLmxlbmd0aC0xXSxlLmxlbmd0aC0xLGkpO3JldHVybiBuP25ldyBEbihpLHIsbik6bnVsbH1ldmFsdWF0ZShlKXtmb3IoY29uc3RbdCxpXW9mIHRoaXMuYnJhbmNoZXMpaWYodC5ldmFsdWF0ZShlKSlyZXR1cm4gaS5ldmFsdWF0ZShlKTtyZXR1cm4gdGhpcy5vdGhlcndpc2UuZXZhbHVhdGUoZSl9ZWFjaENoaWxkKGUpe2Zvcihjb25zdFt0LGldb2YgdGhpcy5icmFuY2hlcyllKHQpLGUoaSk7ZSh0aGlzLm90aGVyd2lzZSk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gdGhpcy5icmFuY2hlcy5ldmVyeSgoKFtlLHRdKT0+dC5vdXRwdXREZWZpbmVkKCkpKSYmdGhpcy5vdGhlcndpc2Uub3V0cHV0RGVmaW5lZCgpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9W1wiY2FzZVwiXTtyZXR1cm4gdGhpcy5lYWNoQ2hpbGQoKHQ9PntlLnB1c2godC5zZXJpYWxpemUoKSk7fSkpLGV9fXZhciBQbj1EbjtjbGFzcyBSbntjb25zdHJ1Y3RvcihlLHQsaSxyKXt0aGlzLnR5cGU9ZSx0aGlzLmlucHV0PXQsdGhpcy5iZWdpbkluZGV4PWksdGhpcy5lbmRJbmRleD1yO31zdGF0aWMgcGFyc2UoZSx0KXtpZihlLmxlbmd0aDw9Mnx8ZS5sZW5ndGg+PTUpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIDMgb3IgNCBhcmd1bWVudHMsIGJ1dCBmb3VuZCAke2UubGVuZ3RoLTF9IGluc3RlYWQuYCk7Y29uc3QgaT10LnBhcnNlKGVbMV0sMSxadCkscj10LnBhcnNlKGVbMl0sMixVdCk7aWYoIWl8fCFyKXJldHVybiBudWxsO2lmKCFRdChpLnR5cGUsW1h0KFp0KSxWdCxadF0pKXJldHVybiB0LmVycm9yKGBFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGFycmF5IG9yIHN0cmluZywgYnV0IGZvdW5kICR7WXQoaS50eXBlKX0gaW5zdGVhZGApO2lmKDQ9PT1lLmxlbmd0aCl7Y29uc3Qgbj10LnBhcnNlKGVbM10sMyxVdCk7cmV0dXJuIG4/bmV3IFJuKGkudHlwZSxpLHIsbik6bnVsbH1yZXR1cm4gbmV3IFJuKGkudHlwZSxpLHIpfWV2YWx1YXRlKGUpe2NvbnN0IHQ9dGhpcy5pbnB1dC5ldmFsdWF0ZShlKSxpPXRoaXMuYmVnaW5JbmRleC5ldmFsdWF0ZShlKTtpZighZWkodCxbXCJzdHJpbmdcIixcImFycmF5XCJdKSl0aHJvdyBuZXcgeGkoYEV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYXJyYXkgb3Igc3RyaW5nLCBidXQgZm91bmQgJHtZdChtaSh0KSl9IGluc3RlYWQuYCk7aWYodGhpcy5lbmRJbmRleCl7Y29uc3Qgcj10aGlzLmVuZEluZGV4LmV2YWx1YXRlKGUpO3JldHVybiB0LnNsaWNlKGkscil9cmV0dXJuIHQuc2xpY2UoaSl9ZWFjaENoaWxkKGUpe2UodGhpcy5pbnB1dCksZSh0aGlzLmJlZ2luSW5kZXgpLHRoaXMuZW5kSW5kZXgmJmUodGhpcy5lbmRJbmRleCk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITF9c2VyaWFsaXplKCl7aWYobnVsbCE9dGhpcy5lbmRJbmRleCYmdm9pZCAwIT09dGhpcy5lbmRJbmRleCl7Y29uc3QgZT10aGlzLmVuZEluZGV4LnNlcmlhbGl6ZSgpO3JldHVybiBbXCJzbGljZVwiLHRoaXMuaW5wdXQuc2VyaWFsaXplKCksdGhpcy5iZWdpbkluZGV4LnNlcmlhbGl6ZSgpLGVdfXJldHVybiBbXCJzbGljZVwiLHRoaXMuaW5wdXQuc2VyaWFsaXplKCksdGhpcy5iZWdpbkluZGV4LnNlcmlhbGl6ZSgpXX19dmFyIExuPVJuO2Z1bmN0aW9uIGtuKGUsdCl7cmV0dXJuIFwiPT1cIj09PWV8fFwiIT1cIj09PWU/XCJib29sZWFuXCI9PT10LmtpbmR8fFwic3RyaW5nXCI9PT10LmtpbmR8fFwibnVtYmVyXCI9PT10LmtpbmR8fFwibnVsbFwiPT09dC5raW5kfHxcInZhbHVlXCI9PT10LmtpbmQ6XCJzdHJpbmdcIj09PXQua2luZHx8XCJudW1iZXJcIj09PXQua2luZHx8XCJ2YWx1ZVwiPT09dC5raW5kfWZ1bmN0aW9uIE9uKGUsdCxpLHIpe3JldHVybiAwPT09ci5jb21wYXJlKHQsaSl9ZnVuY3Rpb24gQm4oZSx0LGkpe2NvbnN0IHI9XCI9PVwiIT09ZSYmXCIhPVwiIT09ZTtyZXR1cm4gY2xhc3Mgbntjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy50eXBlPWp0LHRoaXMubGhzPWUsdGhpcy5yaHM9dCx0aGlzLmNvbGxhdG9yPWksdGhpcy5oYXNVbnR5cGVkQXJndW1lbnQ9XCJ2YWx1ZVwiPT09ZS50eXBlLmtpbmR8fFwidmFsdWVcIj09PXQudHlwZS5raW5kO31zdGF0aWMgcGFyc2UoZSx0KXtpZigzIT09ZS5sZW5ndGgmJjQhPT1lLmxlbmd0aClyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIHR3byBvciB0aHJlZSBhcmd1bWVudHMuXCIpO2NvbnN0IGk9ZVswXTtsZXQgbz10LnBhcnNlKGVbMV0sMSxadCk7aWYoIW8pcmV0dXJuIG51bGw7aWYoIWtuKGksby50eXBlKSlyZXR1cm4gdC5jb25jYXQoMSkuZXJyb3IoYFwiJHtpfVwiIGNvbXBhcmlzb25zIGFyZSBub3Qgc3VwcG9ydGVkIGZvciB0eXBlICcke1l0KG8udHlwZSl9Jy5gKTtsZXQgcz10LnBhcnNlKGVbMl0sMixadCk7aWYoIXMpcmV0dXJuIG51bGw7aWYoIWtuKGkscy50eXBlKSlyZXR1cm4gdC5jb25jYXQoMikuZXJyb3IoYFwiJHtpfVwiIGNvbXBhcmlzb25zIGFyZSBub3Qgc3VwcG9ydGVkIGZvciB0eXBlICcke1l0KHMudHlwZSl9Jy5gKTtpZihvLnR5cGUua2luZCE9PXMudHlwZS5raW5kJiZcInZhbHVlXCIhPT1vLnR5cGUua2luZCYmXCJ2YWx1ZVwiIT09cy50eXBlLmtpbmQpcmV0dXJuIHQuZXJyb3IoYENhbm5vdCBjb21wYXJlIHR5cGVzICcke1l0KG8udHlwZSl9JyBhbmQgJyR7WXQocy50eXBlKX0nLmApO3ImJihcInZhbHVlXCI9PT1vLnR5cGUua2luZCYmXCJ2YWx1ZVwiIT09cy50eXBlLmtpbmQ/bz1uZXcgd2kocy50eXBlLFtvXSk6XCJ2YWx1ZVwiIT09by50eXBlLmtpbmQmJlwidmFsdWVcIj09PXMudHlwZS5raW5kJiYocz1uZXcgd2koby50eXBlLFtzXSkpKTtsZXQgYT1udWxsO2lmKDQ9PT1lLmxlbmd0aCl7aWYoXCJzdHJpbmdcIiE9PW8udHlwZS5raW5kJiZcInN0cmluZ1wiIT09cy50eXBlLmtpbmQmJlwidmFsdWVcIiE9PW8udHlwZS5raW5kJiZcInZhbHVlXCIhPT1zLnR5cGUua2luZClyZXR1cm4gdC5lcnJvcihcIkNhbm5vdCB1c2UgY29sbGF0b3IgdG8gY29tcGFyZSBub24tc3RyaW5nIHR5cGVzLlwiKTtpZihhPXQucGFyc2UoZVszXSwzLCR0KSwhYSlyZXR1cm4gbnVsbH1yZXR1cm4gbmV3IG4obyxzLGEpfWV2YWx1YXRlKG4pe2NvbnN0IG89dGhpcy5saHMuZXZhbHVhdGUobikscz10aGlzLnJocy5ldmFsdWF0ZShuKTtpZihyJiZ0aGlzLmhhc1VudHlwZWRBcmd1bWVudCl7Y29uc3QgdD1taShvKSxpPW1pKHMpO2lmKHQua2luZCE9PWkua2luZHx8XCJzdHJpbmdcIiE9PXQua2luZCYmXCJudW1iZXJcIiE9PXQua2luZCl0aHJvdyBuZXcgeGkoYEV4cGVjdGVkIGFyZ3VtZW50cyBmb3IgXCIke2V9XCIgdG8gYmUgKHN0cmluZywgc3RyaW5nKSBvciAobnVtYmVyLCBudW1iZXIpLCBidXQgZm91bmQgKCR7dC5raW5kfSwgJHtpLmtpbmR9KSBpbnN0ZWFkLmApfWlmKHRoaXMuY29sbGF0b3ImJiFyJiZ0aGlzLmhhc1VudHlwZWRBcmd1bWVudCl7Y29uc3QgZT1taShvKSxpPW1pKHMpO2lmKFwic3RyaW5nXCIhPT1lLmtpbmR8fFwic3RyaW5nXCIhPT1pLmtpbmQpcmV0dXJuIHQobixvLHMpfXJldHVybiB0aGlzLmNvbGxhdG9yP2kobixvLHMsdGhpcy5jb2xsYXRvci5ldmFsdWF0ZShuKSk6dChuLG8scyl9ZWFjaENoaWxkKGUpe2UodGhpcy5saHMpLGUodGhpcy5yaHMpLHRoaXMuY29sbGF0b3ImJmUodGhpcy5jb2xsYXRvcik7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITB9c2VyaWFsaXplKCl7Y29uc3QgdD1bZV07cmV0dXJuIHRoaXMuZWFjaENoaWxkKChlPT57dC5wdXNoKGUuc2VyaWFsaXplKCkpO30pKSx0fX19Y29uc3QgRm49Qm4oXCI9PVwiLChmdW5jdGlvbihlLHQsaSl7cmV0dXJuIHQ9PT1pfSksT24pLE5uPUJuKFwiIT1cIiwoZnVuY3Rpb24oZSx0LGkpe3JldHVybiB0IT09aX0pLChmdW5jdGlvbihlLHQsaSxyKXtyZXR1cm4gIU9uKDAsdCxpLHIpfSkpLFVuPUJuKFwiPFwiLChmdW5jdGlvbihlLHQsaSl7cmV0dXJuIHQ8aX0pLChmdW5jdGlvbihlLHQsaSxyKXtyZXR1cm4gci5jb21wYXJlKHQsaSk8MH0pKSxWbj1CbihcIj5cIiwoZnVuY3Rpb24oZSx0LGkpe3JldHVybiB0Pml9KSwoZnVuY3Rpb24oZSx0LGkscil7cmV0dXJuIHIuY29tcGFyZSh0LGkpPjB9KSksam49Qm4oXCI8PVwiLChmdW5jdGlvbihlLHQsaSl7cmV0dXJuIHQ8PWl9KSwoZnVuY3Rpb24oZSx0LGkscil7cmV0dXJuIHIuY29tcGFyZSh0LGkpPD0wfSkpLEduPUJuKFwiPj1cIiwoZnVuY3Rpb24oZSx0LGkpe3JldHVybiB0Pj1pfSksKGZ1bmN0aW9uKGUsdCxpLHIpe3JldHVybiByLmNvbXBhcmUodCxpKT49MH0pKTtjbGFzcyBxbntjb25zdHJ1Y3RvcihlLHQsaSxyLG4sbyl7dGhpcy50eXBlPVZ0LHRoaXMubnVtYmVyPWUsdGhpcy5sb2NhbGU9dCx0aGlzLmN1cnJlbmN5PWksdGhpcy51bml0PXIsdGhpcy5taW5GcmFjdGlvbkRpZ2l0cz1uLHRoaXMubWF4RnJhY3Rpb25EaWdpdHM9bzt9c3RhdGljIHBhcnNlKGUsdCl7aWYoMyE9PWUubGVuZ3RoKXJldHVybiB0LmVycm9yKFwiRXhwZWN0ZWQgdHdvIGFyZ3VtZW50cy5cIik7Y29uc3QgaT10LnBhcnNlKGVbMV0sMSxVdCk7aWYoIWkpcmV0dXJuIG51bGw7Y29uc3Qgcj1lWzJdO2lmKFwib2JqZWN0XCIhPXR5cGVvZiByfHxBcnJheS5pc0FycmF5KHIpKXJldHVybiB0LmVycm9yKFwiTnVtYmVyRm9ybWF0IG9wdGlvbnMgYXJndW1lbnQgbXVzdCBiZSBhbiBvYmplY3QuXCIpO2xldCBuPW51bGw7aWYoci5sb2NhbGUmJihuPXQucGFyc2Uoci5sb2NhbGUsMSxWdCksIW4pKXJldHVybiBudWxsO2xldCBvPW51bGw7aWYoci5jdXJyZW5jeSYmKG89dC5wYXJzZShyLmN1cnJlbmN5LDEsVnQpLCFvKSlyZXR1cm4gbnVsbDtsZXQgcz1udWxsO2lmKHIudW5pdCYmKHM9dC5wYXJzZShyLnVuaXQsMSxWdCksIXMpKXJldHVybiBudWxsO2xldCBhPW51bGw7aWYocltcIm1pbi1mcmFjdGlvbi1kaWdpdHNcIl0mJihhPXQucGFyc2UocltcIm1pbi1mcmFjdGlvbi1kaWdpdHNcIl0sMSxVdCksIWEpKXJldHVybiBudWxsO2xldCBsPW51bGw7cmV0dXJuIHJbXCJtYXgtZnJhY3Rpb24tZGlnaXRzXCJdJiYobD10LnBhcnNlKHJbXCJtYXgtZnJhY3Rpb24tZGlnaXRzXCJdLDEsVXQpLCFsKT9udWxsOm5ldyBxbihpLG4sbyxzLGEsbCl9ZXZhbHVhdGUoZSl7cmV0dXJuIG5ldyBJbnRsLk51bWJlckZvcm1hdCh0aGlzLmxvY2FsZT90aGlzLmxvY2FsZS5ldmFsdWF0ZShlKTpbXSx7c3R5bGU6KHRoaXMuY3VycmVuY3k/XCJjdXJyZW5jeVwiOnRoaXMudW5pdCYmXCJ1bml0XCIpfHxcImRlY2ltYWxcIixjdXJyZW5jeTp0aGlzLmN1cnJlbmN5P3RoaXMuY3VycmVuY3kuZXZhbHVhdGUoZSk6dm9pZCAwLHVuaXQ6dGhpcy51bml0P3RoaXMudW5pdC5ldmFsdWF0ZShlKTp2b2lkIDAsbWluaW11bUZyYWN0aW9uRGlnaXRzOnRoaXMubWluRnJhY3Rpb25EaWdpdHM/dGhpcy5taW5GcmFjdGlvbkRpZ2l0cy5ldmFsdWF0ZShlKTp2b2lkIDAsbWF4aW11bUZyYWN0aW9uRGlnaXRzOnRoaXMubWF4RnJhY3Rpb25EaWdpdHM/dGhpcy5tYXhGcmFjdGlvbkRpZ2l0cy5ldmFsdWF0ZShlKTp2b2lkIDB9KS5mb3JtYXQodGhpcy5udW1iZXIuZXZhbHVhdGUoZSkpfWVhY2hDaGlsZChlKXtlKHRoaXMubnVtYmVyKSx0aGlzLmxvY2FsZSYmZSh0aGlzLmxvY2FsZSksdGhpcy5jdXJyZW5jeSYmZSh0aGlzLmN1cnJlbmN5KSx0aGlzLnVuaXQmJmUodGhpcy51bml0KSx0aGlzLm1pbkZyYWN0aW9uRGlnaXRzJiZlKHRoaXMubWluRnJhY3Rpb25EaWdpdHMpLHRoaXMubWF4RnJhY3Rpb25EaWdpdHMmJmUodGhpcy5tYXhGcmFjdGlvbkRpZ2l0cyk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITF9c2VyaWFsaXplKCl7Y29uc3QgZT17fTtyZXR1cm4gdGhpcy5sb2NhbGUmJihlLmxvY2FsZT10aGlzLmxvY2FsZS5zZXJpYWxpemUoKSksdGhpcy5jdXJyZW5jeSYmKGUuY3VycmVuY3k9dGhpcy5jdXJyZW5jeS5zZXJpYWxpemUoKSksdGhpcy51bml0JiYoZS51bml0PXRoaXMudW5pdC5zZXJpYWxpemUoKSksdGhpcy5taW5GcmFjdGlvbkRpZ2l0cyYmKGVbXCJtaW4tZnJhY3Rpb24tZGlnaXRzXCJdPXRoaXMubWluRnJhY3Rpb25EaWdpdHMuc2VyaWFsaXplKCkpLHRoaXMubWF4RnJhY3Rpb25EaWdpdHMmJihlW1wibWF4LWZyYWN0aW9uLWRpZ2l0c1wiXT10aGlzLm1heEZyYWN0aW9uRGlnaXRzLnNlcmlhbGl6ZSgpKSxbXCJudW1iZXItZm9ybWF0XCIsdGhpcy5udW1iZXIuc2VyaWFsaXplKCksZV19fWNsYXNzIFpue2NvbnN0cnVjdG9yKGUpe3RoaXMudHlwZT1VdCx0aGlzLmlucHV0PWU7fXN0YXRpYyBwYXJzZShlLHQpe2lmKDIhPT1lLmxlbmd0aClyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgMSBhcmd1bWVudCwgYnV0IGZvdW5kICR7ZS5sZW5ndGgtMX0gaW5zdGVhZC5gKTtjb25zdCBpPXQucGFyc2UoZVsxXSwxKTtyZXR1cm4gaT9cImFycmF5XCIhPT1pLnR5cGUua2luZCYmXCJzdHJpbmdcIiE9PWkudHlwZS5raW5kJiZcInZhbHVlXCIhPT1pLnR5cGUua2luZD90LmVycm9yKGBFeHBlY3RlZCBhcmd1bWVudCBvZiB0eXBlIHN0cmluZyBvciBhcnJheSwgYnV0IGZvdW5kICR7WXQoaS50eXBlKX0gaW5zdGVhZC5gKTpuZXcgWm4oaSk6bnVsbH1ldmFsdWF0ZShlKXtjb25zdCB0PXRoaXMuaW5wdXQuZXZhbHVhdGUoZSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIHQubGVuZ3RoO2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQubGVuZ3RoO3Rocm93IG5ldyB4aShgRXhwZWN0ZWQgdmFsdWUgdG8gYmUgb2YgdHlwZSBzdHJpbmcgb3IgYXJyYXksIGJ1dCBmb3VuZCAke1l0KG1pKHQpKX0gaW5zdGVhZC5gKX1lYWNoQ2hpbGQoZSl7ZSh0aGlzLmlucHV0KTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiAhMX1zZXJpYWxpemUoKXtjb25zdCBlPVtcImxlbmd0aFwiXTtyZXR1cm4gdGhpcy5lYWNoQ2hpbGQoKHQ9PntlLnB1c2godC5zZXJpYWxpemUoKSk7fSkpLGV9fWZ1bmN0aW9uICRuKGUpe3JldHVybiBmdW5jdGlvbigpe2U9MTgzMTU2NTgxMysoZXw9MCl8MDtsZXQgdD1NYXRoLmltdWwoZV5lPj4+MTUsMXxlKTtyZXR1cm4gdD10K01hdGguaW11bCh0XnQ+Pj43LDYxfHQpXnQsKCh0XnQ+Pj4xNCk+Pj4wKS80Mjk0OTY3Mjk2fX1jb25zdCBIbj17XCI9PVwiOkZuLFwiIT1cIjpObixcIj5cIjpWbixcIjxcIjpVbixcIj49XCI6R24sXCI8PVwiOmpuLGFycmF5OndpLGF0OkVuLGJvb2xlYW46d2ksY2FzZTpQbixjb2FsZXNjZTp2bixjb2xsYXRvcjpSaSxmb3JtYXQ6VGksaW1hZ2U6RWksaW46QW4sXCJpbmRleC1vZlwiOkluLGludGVycG9sYXRlOnluLFwiaW50ZXJwb2xhdGUtaGNsXCI6eW4sXCJpbnRlcnBvbGF0ZS1sYWJcIjp5bixsZW5ndGg6Wm4sbGV0OnduLGxpdGVyYWw6eWksbWF0Y2g6em4sbnVtYmVyOndpLFwibnVtYmVyLWZvcm1hdFwiOnFuLG9iamVjdDp3aSxzbGljZTpMbixzdGVwOkhyLHN0cmluZzp3aSxcInRvLWJvb2xlYW5cIjpJaSxcInRvLWNvbG9yXCI6SWksXCJ0by1udW1iZXJcIjpJaSxcInRvLXN0cmluZ1wiOklpLHZhcjpWcix3aXRoaW46dHIsZGlzdGFuY2U6a3J9O2Z1bmN0aW9uIFduKGUsW3QsaSxyLG5dKXt0PXQuZXZhbHVhdGUoZSksaT1pLmV2YWx1YXRlKGUpLHI9ci5ldmFsdWF0ZShlKTtjb25zdCBvPW4/bi5ldmFsdWF0ZShlKToxLHM9cGkodCxpLHIsbyk7aWYocyl0aHJvdyBuZXcgeGkocyk7cmV0dXJuIG5ldyBsaSh0LzI1NSpvLGkvMjU1Km8sci8yNTUqbyxvKX1mdW5jdGlvbiBYbihlLFt0LGkscixuXSl7dD10LmV2YWx1YXRlKGUpLGk9aS5ldmFsdWF0ZShlKSxyPXIuZXZhbHVhdGUoZSk7Y29uc3Qgbz1uP24uZXZhbHVhdGUoZSk6MSxzPWZ1bmN0aW9uKGUsdCxpLHIpe3JldHVybiBcIm51bWJlclwiPT10eXBlb2YgZSYmZT49MCYmZTw9MzYwP1wibnVtYmVyXCI9PXR5cGVvZiB0JiZ0Pj0wJiZ0PD0xMDAmJlwibnVtYmVyXCI9PXR5cGVvZiBpJiZpPj0wJiZpPD0xMDA/dm9pZCAwPT09cnx8XCJudW1iZXJcIj09dHlwZW9mIHImJnI+PTAmJnI8PTE/bnVsbDpgSW52YWxpZCBoc2xhIHZhbHVlIFske1tlLHQsaSxyXS5qb2luKFwiLCBcIil9XTogJ2EnIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxLmA6YEludmFsaWQgaHNsYSB2YWx1ZSBbJHsoXCJudW1iZXJcIj09dHlwZW9mIHI/W2UsdCxpLHJdOltlLHQsaV0pLmpvaW4oXCIsIFwiKX1dOiAncycsIGFuZCAnbCcgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEwMC5gOmBJbnZhbGlkIGhzbGEgdmFsdWUgWyR7KFwibnVtYmVyXCI9PXR5cGVvZiByP1tlLHQsaSxyXTpbZSx0LGldKS5qb2luKFwiLCBcIil9XTogJ2gnIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAzNjAuYH0odCxpLHIsbyk7aWYocyl0aHJvdyBuZXcgeGkocyk7Y29uc3QgYT1gaHNsYSgke3R9LCAke2l9JSwgJHtyfSUsICR7b30pYCxsPWxpLnBhcnNlKGEpO2lmKCFsKXRocm93IG5ldyB4aShgRmFpbGVkIHRvIHBhcnNlIEhTTEEgY29sb3I6ICR7YX1gKTtyZXR1cm4gbH1mdW5jdGlvbiBZbihlLHQpe3JldHVybiBlIGluIHR9ZnVuY3Rpb24gS24oZSx0KXtjb25zdCBpPXRbZV07cmV0dXJuIHZvaWQgMD09PWk/bnVsbDppfWZ1bmN0aW9uIEpuKGUsdCxpKXtpLmxlbmd0aCYmKHQrPWBcdTAwMWYke2l9YCk7Y29uc3Qgcj1lLmdldENvbmZpZyh0KTtyZXR1cm4gcj9yLmV2YWx1YXRlKGUpOm51bGx9ZnVuY3Rpb24gUW4oZSl7cmV0dXJuIHt0eXBlOmV9fVBpLnJlZ2lzdGVyKEhuLHtlcnJvcjpbe2tpbmQ6XCJlcnJvclwifSxbVnRdLChlLFt0XSk9Pnt0aHJvdyBuZXcgeGkodC5ldmFsdWF0ZShlKSl9XSx0eXBlb2Y6W1Z0LFtadF0sKGUsW3RdKT0+WXQobWkodC5ldmFsdWF0ZShlKSkpXSxcInRvLXJnYmFcIjpbWHQoVXQsNCksW0d0XSwoZSxbdF0pPT50LmV2YWx1YXRlKGUpLnRvQXJyYXkoKV0scmdiOltHdCxbVXQsVXQsVXRdLFduXSxyZ2JhOltHdCxbVXQsVXQsVXQsVXRdLFduXSxoc2w6W0d0LFtVdCxVdCxVdF0sWG5dLGhzbGE6W0d0LFtVdCxVdCxVdCxVdF0sWG5dLGhhczp7dHlwZTpqdCxvdmVybG9hZHM6W1tbVnRdLChlLFt0XSk9PlluKHQuZXZhbHVhdGUoZSksZS5wcm9wZXJ0aWVzKCkpXSxbW1Z0LHF0XSwoZSxbdCxpXSk9PlluKHQuZXZhbHVhdGUoZSksaS5ldmFsdWF0ZShlKSldXX0sZ2V0Ont0eXBlOlp0LG92ZXJsb2FkczpbW1tWdF0sKGUsW3RdKT0+S24odC5ldmFsdWF0ZShlKSxlLnByb3BlcnRpZXMoKSldLFtbVnQscXRdLChlLFt0LGldKT0+S24odC5ldmFsdWF0ZShlKSxpLmV2YWx1YXRlKGUpKV1dfSxjb25maWc6e3R5cGU6WnQsb3ZlcmxvYWRzOltbW1Z0XSwoZSxbdF0pPT5KbihlLHQuZXZhbHVhdGUoZSksXCJcIildLFtbVnQsVnRdLChlLFt0LGldKT0+Sm4oZSx0LmV2YWx1YXRlKGUpLGkuZXZhbHVhdGUoZSkpXV19LFwiZmVhdHVyZS1zdGF0ZVwiOltadCxbVnRdLChlLFt0XSk9PktuKHQuZXZhbHVhdGUoZSksZS5mZWF0dXJlU3RhdGV8fHt9KV0scHJvcGVydGllczpbcXQsW10sZT0+ZS5wcm9wZXJ0aWVzKCldLFwiZ2VvbWV0cnktdHlwZVwiOltWdCxbXSxlPT5lLmdlb21ldHJ5VHlwZSgpXSxpZDpbWnQsW10sZT0+ZS5pZCgpXSx6b29tOltVdCxbXSxlPT5lLmdsb2JhbHMuem9vbV0scGl0Y2g6W1V0LFtdLGU9PmUuZ2xvYmFscy5waXRjaHx8MF0sXCJkaXN0YW5jZS1mcm9tLWNlbnRlclwiOltVdCxbXSxlPT5lLmRpc3RhbmNlRnJvbUNlbnRlcigpXSxcIm1lYXN1cmUtbGlnaHRcIjpbVXQsW1Z0XSwoZSxbdF0pPT5lLm1lYXN1cmVMaWdodCh0LmV2YWx1YXRlKGUpKV0sXCJoZWF0bWFwLWRlbnNpdHlcIjpbVXQsW10sZT0+ZS5nbG9iYWxzLmhlYXRtYXBEZW5zaXR5fHwwXSxcImxpbmUtcHJvZ3Jlc3NcIjpbVXQsW10sZT0+ZS5nbG9iYWxzLmxpbmVQcm9ncmVzc3x8MF0sXCJyYXN0ZXItdmFsdWVcIjpbVXQsW10sZT0+ZS5nbG9iYWxzLnJhc3RlclZhbHVlfHwwXSxcInNreS1yYWRpYWwtcHJvZ3Jlc3NcIjpbVXQsW10sZT0+ZS5nbG9iYWxzLnNreVJhZGlhbFByb2dyZXNzfHwwXSxhY2N1bXVsYXRlZDpbWnQsW10sZT0+dm9pZCAwPT09ZS5nbG9iYWxzLmFjY3VtdWxhdGVkP251bGw6ZS5nbG9iYWxzLmFjY3VtdWxhdGVkXSxcIitcIjpbVXQsUW4oVXQpLChlLHQpPT57bGV0IGk9MDtmb3IoY29uc3QgciBvZiB0KWkrPXIuZXZhbHVhdGUoZSk7cmV0dXJuIGl9XSxcIipcIjpbVXQsUW4oVXQpLChlLHQpPT57bGV0IGk9MTtmb3IoY29uc3QgciBvZiB0KWkqPXIuZXZhbHVhdGUoZSk7cmV0dXJuIGl9XSxcIi1cIjp7dHlwZTpVdCxvdmVybG9hZHM6W1tbVXQsVXRdLChlLFt0LGldKT0+dC5ldmFsdWF0ZShlKS1pLmV2YWx1YXRlKGUpXSxbW1V0XSwoZSxbdF0pPT4tdC5ldmFsdWF0ZShlKV1dfSxcIi9cIjpbVXQsW1V0LFV0XSwoZSxbdCxpXSk9PnQuZXZhbHVhdGUoZSkvaS5ldmFsdWF0ZShlKV0sXCIlXCI6W1V0LFtVdCxVdF0sKGUsW3QsaV0pPT50LmV2YWx1YXRlKGUpJWkuZXZhbHVhdGUoZSldLGxuMjpbVXQsW10sKCk9Pk1hdGguTE4yXSxwaTpbVXQsW10sKCk9Pk1hdGguUEldLGU6W1V0LFtdLCgpPT5NYXRoLkVdLFwiXlwiOltVdCxbVXQsVXRdLChlLFt0LGldKT0+TWF0aC5wb3codC5ldmFsdWF0ZShlKSxpLmV2YWx1YXRlKGUpKV0sc3FydDpbVXQsW1V0XSwoZSxbdF0pPT5NYXRoLnNxcnQodC5ldmFsdWF0ZShlKSldLGxvZzEwOltVdCxbVXRdLChlLFt0XSk9Pk1hdGgubG9nKHQuZXZhbHVhdGUoZSkpL01hdGguTE4xMF0sbG46W1V0LFtVdF0sKGUsW3RdKT0+TWF0aC5sb2codC5ldmFsdWF0ZShlKSldLGxvZzI6W1V0LFtVdF0sKGUsW3RdKT0+TWF0aC5sb2codC5ldmFsdWF0ZShlKSkvTWF0aC5MTjJdLHNpbjpbVXQsW1V0XSwoZSxbdF0pPT5NYXRoLnNpbih0LmV2YWx1YXRlKGUpKV0sY29zOltVdCxbVXRdLChlLFt0XSk9Pk1hdGguY29zKHQuZXZhbHVhdGUoZSkpXSx0YW46W1V0LFtVdF0sKGUsW3RdKT0+TWF0aC50YW4odC5ldmFsdWF0ZShlKSldLGFzaW46W1V0LFtVdF0sKGUsW3RdKT0+TWF0aC5hc2luKHQuZXZhbHVhdGUoZSkpXSxhY29zOltVdCxbVXRdLChlLFt0XSk9Pk1hdGguYWNvcyh0LmV2YWx1YXRlKGUpKV0sYXRhbjpbVXQsW1V0XSwoZSxbdF0pPT5NYXRoLmF0YW4odC5ldmFsdWF0ZShlKSldLG1pbjpbVXQsUW4oVXQpLChlLHQpPT5NYXRoLm1pbiguLi50Lm1hcCgodD0+dC5ldmFsdWF0ZShlKSkpKV0sbWF4OltVdCxRbihVdCksKGUsdCk9Pk1hdGgubWF4KC4uLnQubWFwKCh0PT50LmV2YWx1YXRlKGUpKSkpXSxhYnM6W1V0LFtVdF0sKGUsW3RdKT0+TWF0aC5hYnModC5ldmFsdWF0ZShlKSldLHJvdW5kOltVdCxbVXRdLChlLFt0XSk9Pntjb25zdCBpPXQuZXZhbHVhdGUoZSk7cmV0dXJuIGk8MD8tTWF0aC5yb3VuZCgtaSk6TWF0aC5yb3VuZChpKX1dLGZsb29yOltVdCxbVXRdLChlLFt0XSk9Pk1hdGguZmxvb3IodC5ldmFsdWF0ZShlKSldLGNlaWw6W1V0LFtVdF0sKGUsW3RdKT0+TWF0aC5jZWlsKHQuZXZhbHVhdGUoZSkpXSxcImZpbHRlci09PVwiOltqdCxbVnQsWnRdLChlLFt0LGldKT0+ZS5wcm9wZXJ0aWVzKClbdC52YWx1ZV09PT1pLnZhbHVlXSxcImZpbHRlci1pZC09PVwiOltqdCxbWnRdLChlLFt0XSk9PmUuaWQoKT09PXQudmFsdWVdLFwiZmlsdGVyLXR5cGUtPT1cIjpbanQsW1Z0XSwoZSxbdF0pPT5lLmdlb21ldHJ5VHlwZSgpPT09dC52YWx1ZV0sXCJmaWx0ZXItPFwiOltqdCxbVnQsWnRdLChlLFt0LGldKT0+e2NvbnN0IHI9ZS5wcm9wZXJ0aWVzKClbdC52YWx1ZV0sbj1pLnZhbHVlO3JldHVybiB0eXBlb2Ygcj09dHlwZW9mIG4mJnI8bn1dLFwiZmlsdGVyLWlkLTxcIjpbanQsW1p0XSwoZSxbdF0pPT57Y29uc3QgaT1lLmlkKCkscj10LnZhbHVlO3JldHVybiB0eXBlb2YgaT09dHlwZW9mIHImJmk8cn1dLFwiZmlsdGVyLT5cIjpbanQsW1Z0LFp0XSwoZSxbdCxpXSk9Pntjb25zdCByPWUucHJvcGVydGllcygpW3QudmFsdWVdLG49aS52YWx1ZTtyZXR1cm4gdHlwZW9mIHI9PXR5cGVvZiBuJiZyPm59XSxcImZpbHRlci1pZC0+XCI6W2p0LFtadF0sKGUsW3RdKT0+e2NvbnN0IGk9ZS5pZCgpLHI9dC52YWx1ZTtyZXR1cm4gdHlwZW9mIGk9PXR5cGVvZiByJiZpPnJ9XSxcImZpbHRlci08PVwiOltqdCxbVnQsWnRdLChlLFt0LGldKT0+e2NvbnN0IHI9ZS5wcm9wZXJ0aWVzKClbdC52YWx1ZV0sbj1pLnZhbHVlO3JldHVybiB0eXBlb2Ygcj09dHlwZW9mIG4mJnI8PW59XSxcImZpbHRlci1pZC08PVwiOltqdCxbWnRdLChlLFt0XSk9Pntjb25zdCBpPWUuaWQoKSxyPXQudmFsdWU7cmV0dXJuIHR5cGVvZiBpPT10eXBlb2YgciYmaTw9cn1dLFwiZmlsdGVyLT49XCI6W2p0LFtWdCxadF0sKGUsW3QsaV0pPT57Y29uc3Qgcj1lLnByb3BlcnRpZXMoKVt0LnZhbHVlXSxuPWkudmFsdWU7cmV0dXJuIHR5cGVvZiByPT10eXBlb2YgbiYmcj49bn1dLFwiZmlsdGVyLWlkLT49XCI6W2p0LFtadF0sKGUsW3RdKT0+e2NvbnN0IGk9ZS5pZCgpLHI9dC52YWx1ZTtyZXR1cm4gdHlwZW9mIGk9PXR5cGVvZiByJiZpPj1yfV0sXCJmaWx0ZXItaGFzXCI6W2p0LFtadF0sKGUsW3RdKT0+dC52YWx1ZSBpbiBlLnByb3BlcnRpZXMoKV0sXCJmaWx0ZXItaGFzLWlkXCI6W2p0LFtdLGU9Pm51bGwhPT1lLmlkKCkmJnZvaWQgMCE9PWUuaWQoKV0sXCJmaWx0ZXItdHlwZS1pblwiOltqdCxbWHQoVnQpXSwoZSxbdF0pPT50LnZhbHVlLmluZGV4T2YoZS5nZW9tZXRyeVR5cGUoKSk+PTBdLFwiZmlsdGVyLWlkLWluXCI6W2p0LFtYdChadCldLChlLFt0XSk9PnQudmFsdWUuaW5kZXhPZihlLmlkKCkpPj0wXSxcImZpbHRlci1pbi1zbWFsbFwiOltqdCxbVnQsWHQoWnQpXSwoZSxbdCxpXSk9PmkudmFsdWUuaW5kZXhPZihlLnByb3BlcnRpZXMoKVt0LnZhbHVlXSk+PTBdLFwiZmlsdGVyLWluLWxhcmdlXCI6W2p0LFtWdCxYdChadCldLChlLFt0LGldKT0+ZnVuY3Rpb24oZSx0LGkscil7Zm9yKDtpPD1yOyl7Y29uc3Qgbj1pK3I+PjE7aWYodFtuXT09PWUpcmV0dXJuICEwO3Rbbl0+ZT9yPW4tMTppPW4rMTt9cmV0dXJuICExfShlLnByb3BlcnRpZXMoKVt0LnZhbHVlXSxpLnZhbHVlLDAsaS52YWx1ZS5sZW5ndGgtMSldLGFsbDp7dHlwZTpqdCxvdmVybG9hZHM6W1tbanQsanRdLChlLFt0LGldKT0+dC5ldmFsdWF0ZShlKSYmaS5ldmFsdWF0ZShlKV0sW1FuKGp0KSwoZSx0KT0+e2Zvcihjb25zdCBpIG9mIHQpaWYoIWkuZXZhbHVhdGUoZSkpcmV0dXJuICExO3JldHVybiAhMH1dXX0sYW55Ont0eXBlOmp0LG92ZXJsb2FkczpbW1tqdCxqdF0sKGUsW3QsaV0pPT50LmV2YWx1YXRlKGUpfHxpLmV2YWx1YXRlKGUpXSxbUW4oanQpLChlLHQpPT57Zm9yKGNvbnN0IGkgb2YgdClpZihpLmV2YWx1YXRlKGUpKXJldHVybiAhMDtyZXR1cm4gITF9XV19LFwiIVwiOltqdCxbanRdLChlLFt0XSk9PiF0LmV2YWx1YXRlKGUpXSxcImlzLXN1cHBvcnRlZC1zY3JpcHRcIjpbanQsW1Z0XSwoZSxbdF0pPT57Y29uc3QgaT1lLmdsb2JhbHMmJmUuZ2xvYmFscy5pc1N1cHBvcnRlZFNjcmlwdDtyZXR1cm4gIWl8fGkodC5ldmFsdWF0ZShlKSl9XSx1cGNhc2U6W1Z0LFtWdF0sKGUsW3RdKT0+dC5ldmFsdWF0ZShlKS50b1VwcGVyQ2FzZSgpXSxkb3duY2FzZTpbVnQsW1Z0XSwoZSxbdF0pPT50LmV2YWx1YXRlKGUpLnRvTG93ZXJDYXNlKCldLGNvbmNhdDpbVnQsUW4oWnQpLChlLHQpPT50Lm1hcCgodD0+X2kodC5ldmFsdWF0ZShlKSkpKS5qb2luKFwiXCIpXSxcInJlc29sdmVkLWxvY2FsZVwiOltWdCxbJHRdLChlLFt0XSk9PnQuZXZhbHVhdGUoZSkucmVzb2x2ZWRMb2NhbGUoKV0scmFuZG9tOltVdCxbVXQsVXQsWnRdLChlLHQpPT57Y29uc3RbaSxyLG5dPXQubWFwKCh0PT50LmV2YWx1YXRlKGUpKSk7aWYoaT5yKXJldHVybiBpO2lmKGk9PT1yKXJldHVybiBpO2xldCBvO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBuKW89ZnVuY3Rpb24oZSl7bGV0IHQ9MDtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIHQ7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspdD0odDw8NSktdCtlLmNoYXJDb2RlQXQoaSksdCY9dDtyZXR1cm4gdH0obik7ZWxzZSB7aWYoXCJudW1iZXJcIiE9dHlwZW9mIG4pdGhyb3cgbmV3IHhpKGBJbnZhbGlkIHNlZWQgaW5wdXQ6ICR7bn1gKTtvPW47fXJldHVybiBpKyRuKG8pKCkqKHItaSl9XX0pO3ZhciBlbz1IbjtmdW5jdGlvbiB0byhlKXtyZXR1cm4ge3Jlc3VsdDpcInN1Y2Nlc3NcIix2YWx1ZTplfX1mdW5jdGlvbiBpbyhlKXtyZXR1cm4ge3Jlc3VsdDpcImVycm9yXCIsdmFsdWU6ZX19ZnVuY3Rpb24gcm8oZSx0KXtyZXR1cm4gISFlJiYhIWUucGFyYW1ldGVycyYmZS5wYXJhbWV0ZXJzLmluZGV4T2YodCk+LTF9ZnVuY3Rpb24gbm8oZSl7cmV0dXJuIFwiZGF0YS1kcml2ZW5cIj09PWVbXCJwcm9wZXJ0eS10eXBlXCJdfWZ1bmN0aW9uIG9vKGUpe3JldHVybiBybyhlLmV4cHJlc3Npb24sXCJtZWFzdXJlLWxpZ2h0XCIpfWZ1bmN0aW9uIHNvKGUpe3JldHVybiBybyhlLmV4cHJlc3Npb24sXCJ6b29tXCIpfWZ1bmN0aW9uIGFvKGUpe3JldHVybiAhIWUuZXhwcmVzc2lvbiYmZS5leHByZXNzaW9uLmludGVycG9sYXRlZH1mdW5jdGlvbiBsbyhlKXtyZXR1cm4gXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiYhQXJyYXkuaXNBcnJheShlKX1mdW5jdGlvbiBjbyhlKXtyZXR1cm4gZX1mdW5jdGlvbiBobyhlLHQpe2NvbnN0IGk9XCJjb2xvclwiPT09dC50eXBlLHI9ZS5zdG9wcyYmXCJvYmplY3RcIj09dHlwZW9mIGUuc3RvcHNbMF1bMF0sbj1yfHwhKHJ8fHZvaWQgMCE9PWUucHJvcGVydHkpLG89ZS50eXBlfHwoYW8odCk/XCJleHBvbmVudGlhbFwiOlwiaW50ZXJ2YWxcIik7aWYoaSYmKChlPVB0KHt9LGUpKS5zdG9wcyYmKGUuc3RvcHM9ZS5zdG9wcy5tYXAoKGU9PltlWzBdLGxpLnBhcnNlKGVbMV0pXSkpKSxlLmRlZmF1bHQ9bGkucGFyc2UoZS5kZWZhdWx0P2UuZGVmYXVsdDp0LmRlZmF1bHQpKSxlLmNvbG9yU3BhY2UmJlwicmdiXCIhPT1lLmNvbG9yU3BhY2UmJiFtbltlLmNvbG9yU3BhY2VdKXRocm93IG5ldyBFcnJvcihgVW5rbm93biBjb2xvciBzcGFjZTogJHtlLmNvbG9yU3BhY2V9YCk7bGV0IHMsYSxsO2lmKFwiZXhwb25lbnRpYWxcIj09PW8pcz1tbztlbHNlIGlmKFwiaW50ZXJ2YWxcIj09PW8pcz1mbztlbHNlIGlmKFwiY2F0ZWdvcmljYWxcIj09PW8pe3M9cG8sYT1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcihjb25zdCB0IG9mIGUuc3RvcHMpYVt0WzBdXT10WzFdO2w9dHlwZW9mIGUuc3RvcHNbMF1bMF07fWVsc2Uge2lmKFwiaWRlbnRpdHlcIiE9PW8pdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGZ1bmN0aW9uIHR5cGUgXCIke299XCJgKTtzPV9vO31pZihyKXtjb25zdCBpPXt9LHI9W107Zm9yKGxldCB0PTA7dDxlLnN0b3BzLmxlbmd0aDt0Kyspe2NvbnN0IG49ZS5zdG9wc1t0XSxvPW5bMF0uem9vbTt2b2lkIDA9PT1pW29dJiYoaVtvXT17em9vbTpvLHR5cGU6ZS50eXBlLHByb3BlcnR5OmUucHJvcGVydHksZGVmYXVsdDplLmRlZmF1bHQsc3RvcHM6W119LHIucHVzaChvKSksaVtvXS5zdG9wcy5wdXNoKFtuWzBdLnZhbHVlLG5bMV1dKTt9Y29uc3Qgbj1bXTtmb3IoY29uc3QgZSBvZiByKW4ucHVzaChbaVtlXS56b29tLGhvKGlbZV0sdCldKTtjb25zdCBvPXtuYW1lOlwibGluZWFyXCJ9O3JldHVybiB7a2luZDpcImNvbXBvc2l0ZVwiLGludGVycG9sYXRpb25UeXBlOm8saW50ZXJwb2xhdGlvbkZhY3Rvcjp5bi5pbnRlcnBvbGF0aW9uRmFjdG9yLmJpbmQodm9pZCAwLG8pLHpvb21TdG9wczpuLm1hcCgoZT0+ZVswXSkpLGV2YWx1YXRlOih7em9vbTppfSxyKT0+bW8oe3N0b3BzOm4sYmFzZTplLmJhc2V9LHQsaSkuZXZhbHVhdGUoaSxyKX19aWYobil7Y29uc3QgaT1cImV4cG9uZW50aWFsXCI9PT1vP3tuYW1lOlwiZXhwb25lbnRpYWxcIixiYXNlOnZvaWQgMCE9PWUuYmFzZT9lLmJhc2U6MX06bnVsbDtyZXR1cm4ge2tpbmQ6XCJjYW1lcmFcIixpbnRlcnBvbGF0aW9uVHlwZTppLGludGVycG9sYXRpb25GYWN0b3I6eW4uaW50ZXJwb2xhdGlvbkZhY3Rvci5iaW5kKHZvaWQgMCxpKSx6b29tU3RvcHM6ZS5zdG9wcy5tYXAoKGU9PmVbMF0pKSxldmFsdWF0ZTooe3pvb206aX0pPT5zKGUsdCxpLGEsbCl9fXJldHVybiB7a2luZDpcInNvdXJjZVwiLGV2YWx1YXRlKGkscil7Y29uc3Qgbj1yJiZyLnByb3BlcnRpZXM/ci5wcm9wZXJ0aWVzW2UucHJvcGVydHldOnZvaWQgMDtyZXR1cm4gdm9pZCAwPT09bj91byhlLmRlZmF1bHQsdC5kZWZhdWx0KTpzKGUsdCxuLGEsbCl9fX1mdW5jdGlvbiB1byhlLHQsaSl7cmV0dXJuIHZvaWQgMCE9PWU/ZTp2b2lkIDAhPT10P3Q6dm9pZCAwIT09aT9pOnZvaWQgMH1mdW5jdGlvbiBwbyhlLHQsaSxyLG4pe3JldHVybiB1byh0eXBlb2YgaT09PW4/cltpXTp2b2lkIDAsZS5kZWZhdWx0LHQuZGVmYXVsdCl9ZnVuY3Rpb24gZm8oZSx0LGkpe2lmKFwibnVtYmVyXCIhPT1NaShpKSlyZXR1cm4gdW8oZS5kZWZhdWx0LHQuZGVmYXVsdCk7Y29uc3Qgcj1lLnN0b3BzLmxlbmd0aDtpZigxPT09cilyZXR1cm4gZS5zdG9wc1swXVsxXTtpZihpPD1lLnN0b3BzWzBdWzBdKXJldHVybiBlLnN0b3BzWzBdWzFdO2lmKGk+PWUuc3RvcHNbci0xXVswXSlyZXR1cm4gZS5zdG9wc1tyLTFdWzFdO2NvbnN0IG49WnIoZS5zdG9wcy5tYXAoKGU9PmVbMF0pKSxpKTtyZXR1cm4gZS5zdG9wc1tuXVsxXX1mdW5jdGlvbiBtbyhlLHQsaSl7Y29uc3Qgcj12b2lkIDAhPT1lLmJhc2U/ZS5iYXNlOjE7aWYoXCJudW1iZXJcIiE9PU1pKGkpKXJldHVybiB1byhlLmRlZmF1bHQsdC5kZWZhdWx0KTtjb25zdCBuPWUuc3RvcHMubGVuZ3RoO2lmKDE9PT1uKXJldHVybiBlLnN0b3BzWzBdWzFdO2lmKGk8PWUuc3RvcHNbMF1bMF0pcmV0dXJuIGUuc3RvcHNbMF1bMV07aWYoaT49ZS5zdG9wc1tuLTFdWzBdKXJldHVybiBlLnN0b3BzW24tMV1bMV07Y29uc3Qgbz1acihlLnN0b3BzLm1hcCgoZT0+ZVswXSkpLGkpLHM9ZnVuY3Rpb24oZSx0LGkscil7Y29uc3Qgbj1yLWksbz1lLWk7cmV0dXJuIDA9PT1uPzA6MT09PXQ/by9uOihNYXRoLnBvdyh0LG8pLTEpLyhNYXRoLnBvdyh0LG4pLTEpfShpLHIsZS5zdG9wc1tvXVswXSxlLnN0b3BzW28rMV1bMF0pLGE9ZS5zdG9wc1tvXVsxXSxsPWUuc3RvcHNbbysxXVsxXTtsZXQgYz1Zclt0LnR5cGVdfHxjbztpZihlLmNvbG9yU3BhY2UmJlwicmdiXCIhPT1lLmNvbG9yU3BhY2Upe2NvbnN0IHQ9bW5bZS5jb2xvclNwYWNlXTtjPShlLGkpPT50LnJldmVyc2UodC5pbnRlcnBvbGF0ZSh0LmZvcndhcmQoZSksdC5mb3J3YXJkKGkpLHMpKTt9cmV0dXJuIFwiZnVuY3Rpb25cIj09dHlwZW9mIGEuZXZhbHVhdGU/e2V2YWx1YXRlKC4uLmUpe2NvbnN0IHQ9YS5ldmFsdWF0ZS5hcHBseSh2b2lkIDAsZSksaT1sLmV2YWx1YXRlLmFwcGx5KHZvaWQgMCxlKTtpZih2b2lkIDAhPT10JiZ2b2lkIDAhPT1pKXJldHVybiBjKHQsaSxzKX19OmMoYSxsLHMpfWZ1bmN0aW9uIF9vKGUsdCxpKXtyZXR1cm4gXCJjb2xvclwiPT09dC50eXBlP2k9bGkucGFyc2UoaSk6XCJmb3JtYXR0ZWRcIj09PXQudHlwZT9pPXVpLmZyb21TdHJpbmcoaS50b1N0cmluZygpKTpcInJlc29sdmVkSW1hZ2VcIj09PXQudHlwZT9pPWRpLmZyb21TdHJpbmcoaS50b1N0cmluZygpKTpNaShpKT09PXQudHlwZXx8XCJlbnVtXCI9PT10LnR5cGUmJnQudmFsdWVzW2ldfHwoaT12b2lkIDApLHVvKGksZS5kZWZhdWx0LHQuZGVmYXVsdCl9Y2xhc3MgZ297Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuZXhwcmVzc2lvbj1lLHRoaXMuX3dhcm5pbmdIaXN0b3J5PXt9LHRoaXMuX2V2YWx1YXRvcj1uZXcgemkoaSksdGhpcy5fZGVmYXVsdFZhbHVlPXQ/ZnVuY3Rpb24oZSl7cmV0dXJuIFwiY29sb3JcIj09PWUudHlwZSYmKGxvKGUuZGVmYXVsdCl8fEFycmF5LmlzQXJyYXkoZS5kZWZhdWx0KSk/bmV3IGxpKDAsMCwwLDApOlwiY29sb3JcIj09PWUudHlwZT9saS5wYXJzZShlLmRlZmF1bHQpfHxudWxsOnZvaWQgMD09PWUuZGVmYXVsdD9udWxsOmUuZGVmYXVsdH0odCk6bnVsbCx0aGlzLl9lbnVtVmFsdWVzPXQmJlwiZW51bVwiPT09dC50eXBlP3QudmFsdWVzOm51bGw7fWV2YWx1YXRlV2l0aG91dEVycm9ySGFuZGxpbmcoZSx0LGkscixuLG8scyxhKXtyZXR1cm4gdGhpcy5fZXZhbHVhdG9yLmdsb2JhbHM9ZSx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZT10LHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlU3RhdGU9aSx0aGlzLl9ldmFsdWF0b3IuY2Fub25pY2FsPXJ8fG51bGwsdGhpcy5fZXZhbHVhdG9yLmF2YWlsYWJsZUltYWdlcz1ufHxudWxsLHRoaXMuX2V2YWx1YXRvci5mb3JtYXR0ZWRTZWN0aW9uPW8sdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmVUaWxlQ29vcmQ9c3x8bnVsbCx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZURpc3RhbmNlRGF0YT1hfHxudWxsLHRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZSh0aGlzLl9ldmFsdWF0b3IpfWV2YWx1YXRlKGUsdCxpLHIsbixvLHMsYSl7dGhpcy5fZXZhbHVhdG9yLmdsb2JhbHM9ZSx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZT10fHxudWxsLHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlU3RhdGU9aXx8bnVsbCx0aGlzLl9ldmFsdWF0b3IuY2Fub25pY2FsPXJ8fG51bGwsdGhpcy5fZXZhbHVhdG9yLmF2YWlsYWJsZUltYWdlcz1ufHxudWxsLHRoaXMuX2V2YWx1YXRvci5mb3JtYXR0ZWRTZWN0aW9uPW98fG51bGwsdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmVUaWxlQ29vcmQ9c3x8bnVsbCx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZURpc3RhbmNlRGF0YT1hfHxudWxsO3RyeXtjb25zdCBlPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZSh0aGlzLl9ldmFsdWF0b3IpO2lmKG51bGw9PWV8fFwibnVtYmVyXCI9PXR5cGVvZiBlJiZlIT1lKXJldHVybiB0aGlzLl9kZWZhdWx0VmFsdWU7aWYodGhpcy5fZW51bVZhbHVlcyYmIShlIGluIHRoaXMuX2VudW1WYWx1ZXMpKXRocm93IG5ldyB4aShgRXhwZWN0ZWQgdmFsdWUgdG8gYmUgb25lIG9mICR7T2JqZWN0LmtleXModGhpcy5fZW51bVZhbHVlcykubWFwKChlPT5KU09OLnN0cmluZ2lmeShlKSkpLmpvaW4oXCIsIFwiKX0sIGJ1dCBmb3VuZCAke0pTT04uc3RyaW5naWZ5KGUpfSBpbnN0ZWFkLmApO3JldHVybiBlfWNhdGNoKGUpe3JldHVybiB0aGlzLl93YXJuaW5nSGlzdG9yeVtlLm1lc3NhZ2VdfHwodGhpcy5fd2FybmluZ0hpc3RvcnlbZS5tZXNzYWdlXT0hMCxcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmY29uc29sZS53YXJuKGUubWVzc2FnZSkpLHRoaXMuX2RlZmF1bHRWYWx1ZX19fWZ1bmN0aW9uIHlvKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aD4wJiZcInN0cmluZ1wiPT10eXBlb2YgZVswXSYmZVswXWluIGVvfWZ1bmN0aW9uIHhvKGUsdCxpKXtjb25zdCByPW5ldyBHcihlbyxbXSx0P2Z1bmN0aW9uKGUpe2NvbnN0IHQ9e2NvbG9yOkd0LHN0cmluZzpWdCxudW1iZXI6VXQsZW51bTpWdCxib29sZWFuOmp0LGZvcm1hdHRlZDpIdCxyZXNvbHZlZEltYWdlOld0fTtyZXR1cm4gXCJhcnJheVwiPT09ZS50eXBlP1h0KHRbZS52YWx1ZV18fFp0LGUubGVuZ3RoKTp0W2UudHlwZV19KHQpOnZvaWQgMCx2b2lkIDAsdm9pZCAwLGkpLG49ci5wYXJzZShlLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHQmJlwic3RyaW5nXCI9PT10LnR5cGU/e3R5cGVBbm5vdGF0aW9uOlwiY29lcmNlXCJ9OnZvaWQgMCk7cmV0dXJuIG4/dG8obmV3IGdvKG4sdCxpKSk6aW8oci5lcnJvcnMpfWNsYXNzIHZve2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLmtpbmQ9ZSx0aGlzLl9zdHlsZUV4cHJlc3Npb249dCx0aGlzLmlzTGlnaHRDb25zdGFudD1pLHRoaXMuaXNTdGF0ZURlcGVuZGVudD1cImNvbnN0YW50XCIhPT1lJiYhQnIodC5leHByZXNzaW9uKSx0aGlzLmlzQ29uZmlnRGVwZW5kZW50PSFGcih0LmV4cHJlc3Npb24pO31ldmFsdWF0ZVdpdGhvdXRFcnJvckhhbmRsaW5nKGUsdCxpLHIsbixvKXtyZXR1cm4gdGhpcy5fc3R5bGVFeHByZXNzaW9uLmV2YWx1YXRlV2l0aG91dEVycm9ySGFuZGxpbmcoZSx0LGkscixuLG8pfWV2YWx1YXRlKGUsdCxpLHIsbixvKXtyZXR1cm4gdGhpcy5fc3R5bGVFeHByZXNzaW9uLmV2YWx1YXRlKGUsdCxpLHIsbixvKX19Y2xhc3MgYm97Y29uc3RydWN0b3IoZSx0LGkscixuKXt0aGlzLmtpbmQ9ZSx0aGlzLnpvb21TdG9wcz1pLHRoaXMuX3N0eWxlRXhwcmVzc2lvbj10LHRoaXMuaXNTdGF0ZURlcGVuZGVudD1cImNhbWVyYVwiIT09ZSYmIUJyKHQuZXhwcmVzc2lvbiksdGhpcy5pc0xpZ2h0Q29uc3RhbnQ9bix0aGlzLmlzQ29uZmlnRGVwZW5kZW50PSFGcih0LmV4cHJlc3Npb24pLHRoaXMuaW50ZXJwb2xhdGlvblR5cGU9cjt9ZXZhbHVhdGVXaXRob3V0RXJyb3JIYW5kbGluZyhlLHQsaSxyLG4sbyl7cmV0dXJuIHRoaXMuX3N0eWxlRXhwcmVzc2lvbi5ldmFsdWF0ZVdpdGhvdXRFcnJvckhhbmRsaW5nKGUsdCxpLHIsbixvKX1ldmFsdWF0ZShlLHQsaSxyLG4sbyl7cmV0dXJuIHRoaXMuX3N0eWxlRXhwcmVzc2lvbi5ldmFsdWF0ZShlLHQsaSxyLG4sbyl9aW50ZXJwb2xhdGlvbkZhY3RvcihlLHQsaSl7cmV0dXJuIHRoaXMuaW50ZXJwb2xhdGlvblR5cGU/eW4uaW50ZXJwb2xhdGlvbkZhY3Rvcih0aGlzLmludGVycG9sYXRpb25UeXBlLGUsdCxpKTowfX1mdW5jdGlvbiB3byhlLHQsaSl7aWYoXCJlcnJvclwiPT09KGU9eG8oZSx0LGkpKS5yZXN1bHQpcmV0dXJuIGU7Y29uc3Qgcj1lLnZhbHVlLmV4cHJlc3Npb24sbj1PcihyKTtpZighbiYmIW5vKHQpKXJldHVybiBpbyhbbmV3IE90KFwiXCIsXCJkYXRhIGV4cHJlc3Npb25zIG5vdCBzdXBwb3J0ZWRcIildKTtjb25zdCBvPU5yKHIsW1wiem9vbVwiLFwicGl0Y2hcIixcImRpc3RhbmNlLWZyb20tY2VudGVyXCJdKTtpZighbyYmIXNvKHQpKXJldHVybiBpbyhbbmV3IE90KFwiXCIsXCJ6b29tIGV4cHJlc3Npb25zIG5vdCBzdXBwb3J0ZWRcIildKTtjb25zdCBzPU5yKHIsW1wibWVhc3VyZS1saWdodFwiXSk7aWYoIXMmJiFvbyh0KSlyZXR1cm4gaW8oW25ldyBPdChcIlwiLFwibWVhc3VyZS1saWdodCBleHByZXNzaW9uIG5vdCBzdXBwb3J0ZWRcIildKTtjb25zdCBhPXQuZXhwcmVzc2lvbiYmdC5leHByZXNzaW9uLnJlbGF4Wm9vbVJlc3RyaWN0aW9uLGw9RW8ocik7cmV0dXJuIGx8fG98fGE/bCBpbnN0YW5jZW9mIE90P2lvKFtsXSk6bCBpbnN0YW5jZW9mIHluJiYhYW8odCk/aW8oW25ldyBPdChcIlwiLCdcImludGVycG9sYXRlXCIgZXhwcmVzc2lvbnMgY2Fubm90IGJlIHVzZWQgd2l0aCB0aGlzIHByb3BlcnR5JyldKTp0byhsP25ldyBibyhuP1wiY2FtZXJhXCI6XCJjb21wb3NpdGVcIixlLnZhbHVlLGwubGFiZWxzLGwgaW5zdGFuY2VvZiB5bj9sLmludGVycG9sYXRpb246dm9pZCAwLHMpOm5ldyB2byhuP1wiY29uc3RhbnRcIjpcInNvdXJjZVwiLGUudmFsdWUscykpOmlvKFtuZXcgT3QoXCJcIiwnXCJ6b29tXCIgZXhwcmVzc2lvbiBtYXkgb25seSBiZSB1c2VkIGFzIGlucHV0IHRvIGEgdG9wLWxldmVsIFwic3RlcFwiIG9yIFwiaW50ZXJwb2xhdGVcIiBleHByZXNzaW9uLCBvciBpbiB0aGUgcHJvcGVydGllcyBvZiBhdG1vc3BoZXJlLicpXSl9Y2xhc3MgVG97Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9wYXJhbWV0ZXJzPWUsdGhpcy5fc3BlY2lmaWNhdGlvbj10LFB0KHRoaXMsaG8odGhpcy5fcGFyYW1ldGVycyx0aGlzLl9zcGVjaWZpY2F0aW9uKSk7fXN0YXRpYyBkZXNlcmlhbGl6ZShlKXtyZXR1cm4gbmV3IFRvKGUuX3BhcmFtZXRlcnMsZS5fc3BlY2lmaWNhdGlvbil9c3RhdGljIHNlcmlhbGl6ZShlKXtyZXR1cm4ge19wYXJhbWV0ZXJzOmUuX3BhcmFtZXRlcnMsX3NwZWNpZmljYXRpb246ZS5fc3BlY2lmaWNhdGlvbn19fWZ1bmN0aW9uIEVvKGUpe2xldCB0PW51bGw7aWYoZSBpbnN0YW5jZW9mIHduKXQ9RW8oZS5yZXN1bHQpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIHZuKXtmb3IoY29uc3QgaSBvZiBlLmFyZ3MpaWYodD1FbyhpKSx0KWJyZWFrfWVsc2UgKGUgaW5zdGFuY2VvZiBIcnx8ZSBpbnN0YW5jZW9mIHluKSYmZS5pbnB1dCBpbnN0YW5jZW9mIFBpJiZcInpvb21cIj09PWUuaW5wdXQubmFtZSYmKHQ9ZSk7cmV0dXJuIHQgaW5zdGFuY2VvZiBPdHx8ZS5lYWNoQ2hpbGQoKGU9Pntjb25zdCBpPUVvKGUpO2kgaW5zdGFuY2VvZiBPdD90PWk6dCYmaSYmdCE9PWkmJih0PW5ldyBPdChcIlwiLCdPbmx5IG9uZSB6b29tLWJhc2VkIFwic3RlcFwiIG9yIFwiaW50ZXJwb2xhdGVcIiBzdWJleHByZXNzaW9uIG1heSBiZSB1c2VkIGluIGFuIGV4cHJlc3Npb24uJykpO30pKSx0fWZ1bmN0aW9uIE1vKGUpe2NvbnN0IHQ9ZS5rZXksaT1lLnZhbHVlLHI9ZS52YWx1ZVNwZWN8fHt9LG49ZS5vYmplY3RFbGVtZW50VmFsaWRhdG9yc3x8e30sbz1lLnN0eWxlLHM9ZS5zdHlsZVNwZWM7bGV0IGE9W107Y29uc3QgbD1NaShpKTtpZihcIm9iamVjdFwiIT09bClyZXR1cm4gW25ldyB6dCh0LGksYG9iamVjdCBleHBlY3RlZCwgJHtsfSBmb3VuZGApXTtmb3IoY29uc3QgZSBpbiBpKXtjb25zdCBsPWUuc3BsaXQoXCIuXCIpWzBdO2xldCBjO25bbF0/Yz1uW2xdOnJbbF0/Yz1hczpuW1wiKlwiXT9jPW5bXCIqXCJdOnJbXCIqXCJdJiYoYz1hcyksYz9hPWEuY29uY2F0KGMoe2tleToodD9gJHt0fS5gOnQpK2UsdmFsdWU6aVtlXSx2YWx1ZVNwZWM6cltsXXx8cltcIipcIl0sc3R5bGU6byxzdHlsZVNwZWM6cyxvYmplY3Q6aSxvYmplY3RLZXk6ZX0saSkpOmEucHVzaChuZXcgRHQodCxpW2VdLGB1bmtub3duIHByb3BlcnR5IFwiJHtlfVwiYCkpO31mb3IoY29uc3QgZSBpbiByKW5bZV18fHJbZV0ucmVxdWlyZWQmJnZvaWQgMD09PXJbZV0uZGVmYXVsdCYmdm9pZCAwPT09aVtlXSYmYS5wdXNoKG5ldyB6dCh0LGksYG1pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCIke2V9XCJgKSk7cmV0dXJuIGF9ZnVuY3Rpb24gQW8oZSl7Y29uc3QgdD1lLnZhbHVlLGk9ZS52YWx1ZVNwZWMscj1lLnN0eWxlLG49ZS5zdHlsZVNwZWMsbz1lLmtleSxzPWUuYXJyYXlFbGVtZW50VmFsaWRhdG9yfHxhcztpZihcImFycmF5XCIhPT1NaSh0KSlyZXR1cm4gW25ldyB6dChvLHQsYGFycmF5IGV4cGVjdGVkLCAke01pKHQpfSBmb3VuZGApXTtpZihpLmxlbmd0aCYmdC5sZW5ndGghPT1pLmxlbmd0aClyZXR1cm4gW25ldyB6dChvLHQsYGFycmF5IGxlbmd0aCAke2kubGVuZ3RofSBleHBlY3RlZCwgbGVuZ3RoICR7dC5sZW5ndGh9IGZvdW5kYCldO2lmKGlbXCJtaW4tbGVuZ3RoXCJdJiZ0Lmxlbmd0aDxpW1wibWluLWxlbmd0aFwiXSlyZXR1cm4gW25ldyB6dChvLHQsYGFycmF5IGxlbmd0aCBhdCBsZWFzdCAke2lbXCJtaW4tbGVuZ3RoXCJdfSBleHBlY3RlZCwgbGVuZ3RoICR7dC5sZW5ndGh9IGZvdW5kYCldO2xldCBhPXt0eXBlOmkudmFsdWUsdmFsdWVzOmkudmFsdWVzLG1pbmltdW06aS5taW5pbXVtLG1heGltdW06aS5tYXhpbXVtLGZ1bmN0aW9uOnZvaWQgMH07bi4kdmVyc2lvbjw3JiYoYS5mdW5jdGlvbj1pLmZ1bmN0aW9uKSxcIm9iamVjdFwiPT09TWkoaS52YWx1ZSkmJihhPWkudmFsdWUpO2xldCBsPVtdO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKWw9bC5jb25jYXQocyh7YXJyYXk6dCxhcnJheUluZGV4OmUsdmFsdWU6dFtlXSx2YWx1ZVNwZWM6YSxzdHlsZTpyLHN0eWxlU3BlYzpuLGtleTpgJHtvfVske2V9XWB9LCEwKSk7cmV0dXJuIGx9ZnVuY3Rpb24gU28oZSl7Y29uc3QgdD1lLmtleSxpPWUudmFsdWUscj1lLnZhbHVlU3BlYztsZXQgbj1NaShpKTtpZihcIm51bWJlclwiPT09biYmaSE9aSYmKG49XCJOYU5cIiksXCJudW1iZXJcIiE9PW4pcmV0dXJuIFtuZXcgenQodCxpLGBudW1iZXIgZXhwZWN0ZWQsICR7bn0gZm91bmRgKV07aWYoXCJtaW5pbXVtXCJpbiByKXtsZXQgbj1yLm1pbmltdW07aWYoXCJhcnJheVwiPT09TWkoci5taW5pbXVtKSYmKG49ci5taW5pbXVtW2UuYXJyYXlJbmRleF0pLGk8bilyZXR1cm4gW25ldyB6dCh0LGksYCR7aX0gaXMgbGVzcyB0aGFuIHRoZSBtaW5pbXVtIHZhbHVlICR7bn1gKV19aWYoXCJtYXhpbXVtXCJpbiByKXtsZXQgbj1yLm1heGltdW07aWYoXCJhcnJheVwiPT09TWkoci5tYXhpbXVtKSYmKG49ci5tYXhpbXVtW2UuYXJyYXlJbmRleF0pLGk+bilyZXR1cm4gW25ldyB6dCh0LGksYCR7aX0gaXMgZ3JlYXRlciB0aGFuIHRoZSBtYXhpbXVtIHZhbHVlICR7bn1gKV19cmV0dXJuIFtdfWZ1bmN0aW9uIElvKGUpe2NvbnN0IHQ9ZS52YWx1ZVNwZWMsaT1SdChlLnZhbHVlLnR5cGUpO2xldCByLG4sbyxzPXt9O2NvbnN0IGE9XCJjYXRlZ29yaWNhbFwiIT09aSYmdm9pZCAwPT09ZS52YWx1ZS5wcm9wZXJ0eSxsPSFhLGM9XCJhcnJheVwiPT09TWkoZS52YWx1ZS5zdG9wcykmJlwiYXJyYXlcIj09PU1pKGUudmFsdWUuc3RvcHNbMF0pJiZcIm9iamVjdFwiPT09TWkoZS52YWx1ZS5zdG9wc1swXVswXSksaD1Nbyh7a2V5OmUua2V5LHZhbHVlOmUudmFsdWUsdmFsdWVTcGVjOmUuc3R5bGVTcGVjLmZ1bmN0aW9uLHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmUuc3R5bGVTcGVjLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOntzdG9wczpmdW5jdGlvbihlKXtpZihcImlkZW50aXR5XCI9PT1pKXJldHVybiBbbmV3IHp0KGUua2V5LGUudmFsdWUsJ2lkZW50aXR5IGZ1bmN0aW9uIG1heSBub3QgaGF2ZSBhIFwic3RvcHNcIiBwcm9wZXJ0eScpXTtsZXQgdD1bXTtjb25zdCByPWUudmFsdWU7cmV0dXJuIHQ9dC5jb25jYXQoQW8oe2tleTplLmtleSx2YWx1ZTpyLHZhbHVlU3BlYzplLnZhbHVlU3BlYyxzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlYyxhcnJheUVsZW1lbnRWYWxpZGF0b3I6dX0pKSxcImFycmF5XCI9PT1NaShyKSYmMD09PXIubGVuZ3RoJiZ0LnB1c2gobmV3IHp0KGUua2V5LHIsXCJhcnJheSBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIHN0b3BcIikpLHR9LGRlZmF1bHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGFzKHtrZXk6ZS5rZXksdmFsdWU6ZS52YWx1ZSx2YWx1ZVNwZWM6dCxzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlY30pfX19KTtyZXR1cm4gXCJpZGVudGl0eVwiPT09aSYmYSYmaC5wdXNoKG5ldyB6dChlLmtleSxlLnZhbHVlLCdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwicHJvcGVydHlcIicpKSxcImlkZW50aXR5XCI9PT1pfHxlLnZhbHVlLnN0b3BzfHxoLnB1c2gobmV3IHp0KGUua2V5LGUudmFsdWUsJ21pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJzdG9wc1wiJykpLFwiZXhwb25lbnRpYWxcIj09PWkmJmUudmFsdWVTcGVjLmV4cHJlc3Npb24mJiFhbyhlLnZhbHVlU3BlYykmJmgucHVzaChuZXcgenQoZS5rZXksZS52YWx1ZSxcImV4cG9uZW50aWFsIGZ1bmN0aW9ucyBub3Qgc3VwcG9ydGVkXCIpKSxlLnN0eWxlU3BlYy4kdmVyc2lvbj49OCYmKGwmJiFubyhlLnZhbHVlU3BlYyk/aC5wdXNoKG5ldyB6dChlLmtleSxlLnZhbHVlLFwicHJvcGVydHkgZnVuY3Rpb25zIG5vdCBzdXBwb3J0ZWRcIikpOmEmJiFzbyhlLnZhbHVlU3BlYykmJmgucHVzaChuZXcgenQoZS5rZXksZS52YWx1ZSxcInpvb20gZnVuY3Rpb25zIG5vdCBzdXBwb3J0ZWRcIikpKSxcImNhdGVnb3JpY2FsXCIhPT1pJiYhY3x8dm9pZCAwIT09ZS52YWx1ZS5wcm9wZXJ0eXx8aC5wdXNoKG5ldyB6dChlLmtleSxlLnZhbHVlLCdcInByb3BlcnR5XCIgcHJvcGVydHkgaXMgcmVxdWlyZWQnKSksaDtmdW5jdGlvbiB1KGUpe2xldCBpPVtdO2NvbnN0IHI9ZS52YWx1ZSxhPWUua2V5O2lmKFwiYXJyYXlcIiE9PU1pKHIpKXJldHVybiBbbmV3IHp0KGEscixgYXJyYXkgZXhwZWN0ZWQsICR7TWkocil9IGZvdW5kYCldO2lmKDIhPT1yLmxlbmd0aClyZXR1cm4gW25ldyB6dChhLHIsYGFycmF5IGxlbmd0aCAyIGV4cGVjdGVkLCBsZW5ndGggJHtyLmxlbmd0aH0gZm91bmRgKV07aWYoYyl7aWYoXCJvYmplY3RcIiE9PU1pKHJbMF0pKXJldHVybiBbbmV3IHp0KGEscixgb2JqZWN0IGV4cGVjdGVkLCAke01pKHJbMF0pfSBmb3VuZGApXTtpZih2b2lkIDA9PT1yWzBdLnpvb20pcmV0dXJuIFtuZXcgenQoYSxyLFwib2JqZWN0IHN0b3Aga2V5IG11c3QgaGF2ZSB6b29tXCIpXTtpZih2b2lkIDA9PT1yWzBdLnZhbHVlKXJldHVybiBbbmV3IHp0KGEscixcIm9iamVjdCBzdG9wIGtleSBtdXN0IGhhdmUgdmFsdWVcIildO2NvbnN0IHQ9UnQoclswXS56b29tKTtpZihcIm51bWJlclwiIT10eXBlb2YgdClyZXR1cm4gW25ldyB6dChhLHJbMF0uem9vbSxcInN0b3Agem9vbSB2YWx1ZXMgbXVzdCBiZSBudW1iZXJzXCIpXTtpZihvJiZvPnQpcmV0dXJuIFtuZXcgenQoYSxyWzBdLnpvb20sXCJzdG9wIHpvb20gdmFsdWVzIG11c3QgYXBwZWFyIGluIGFzY2VuZGluZyBvcmRlclwiKV07dCE9PW8mJihvPXQsbj12b2lkIDAscz17fSksaT1pLmNvbmNhdChNbyh7a2V5OmAke2F9WzBdYCx2YWx1ZTpyWzBdLHZhbHVlU3BlYzp7em9vbTp7fX0sc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWMsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e3pvb206U28sdmFsdWU6ZH19KSk7fWVsc2UgaT1pLmNvbmNhdChkKHtrZXk6YCR7YX1bMF1gLHZhbHVlOnJbMF0sdmFsdWVTcGVjOnt9LHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmUuc3R5bGVTcGVjfSxyKSk7cmV0dXJuIHlvKEx0KHJbMV0pKT9pLmNvbmNhdChbbmV3IHp0KGAke2F9WzFdYCxyWzFdLFwiZXhwcmVzc2lvbnMgYXJlIG5vdCBhbGxvd2VkIGluIGZ1bmN0aW9uIHN0b3BzLlwiKV0pOmkuY29uY2F0KGFzKHtrZXk6YCR7YX1bMV1gLHZhbHVlOnJbMV0sdmFsdWVTcGVjOnQsc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWN9KSl9ZnVuY3Rpb24gZChlLG8pe2NvbnN0IGE9TWkoZS52YWx1ZSksbD1SdChlLnZhbHVlKSxjPW51bGwhPT1lLnZhbHVlP2UudmFsdWU6bztpZihyKXtpZihhIT09cilyZXR1cm4gW25ldyB6dChlLmtleSxjLGAke2F9IHN0b3AgZG9tYWluIHR5cGUgbXVzdCBtYXRjaCBwcmV2aW91cyBzdG9wIGRvbWFpbiB0eXBlICR7cn1gKV19ZWxzZSByPWE7aWYoXCJudW1iZXJcIiE9PWEmJlwic3RyaW5nXCIhPT1hJiZcImJvb2xlYW5cIiE9PWEmJlwibnVtYmVyXCIhPXR5cGVvZiBsJiZcInN0cmluZ1wiIT10eXBlb2YgbCYmXCJib29sZWFuXCIhPXR5cGVvZiBsKXJldHVybiBbbmV3IHp0KGUua2V5LGMsXCJzdG9wIGRvbWFpbiB2YWx1ZSBtdXN0IGJlIGEgbnVtYmVyLCBzdHJpbmcsIG9yIGJvb2xlYW5cIildO2lmKFwibnVtYmVyXCIhPT1hJiZcImNhdGVnb3JpY2FsXCIhPT1pKXtsZXQgcj1gbnVtYmVyIGV4cGVjdGVkLCAke2F9IGZvdW5kYDtyZXR1cm4gbm8odCkmJnZvaWQgMD09PWkmJihyKz0nXFxuSWYgeW91IGludGVuZGVkIHRvIHVzZSBhIGNhdGVnb3JpY2FsIGZ1bmN0aW9uLCBzcGVjaWZ5IGBcInR5cGVcIjogXCJjYXRlZ29yaWNhbFwiYC4nKSxbbmV3IHp0KGUua2V5LGMscildfXJldHVybiBcImNhdGVnb3JpY2FsXCIhPT1pfHxcIm51bWJlclwiIT09YXx8XCJudW1iZXJcIj09dHlwZW9mIGwmJmlzRmluaXRlKGwpJiZNYXRoLmZsb29yKGwpPT09bD9cImNhdGVnb3JpY2FsXCIhPT1pJiZcIm51bWJlclwiPT09YSYmXCJudW1iZXJcIj09dHlwZW9mIGwmJlwibnVtYmVyXCI9PXR5cGVvZiBuJiZ2b2lkIDAhPT1uJiZsPG4/W25ldyB6dChlLmtleSxjLFwic3RvcCBkb21haW4gdmFsdWVzIG11c3QgYXBwZWFyIGluIGFzY2VuZGluZyBvcmRlclwiKV06KG49bCxcImNhdGVnb3JpY2FsXCI9PT1pJiZsIGluIHM/W25ldyB6dChlLmtleSxjLFwic3RvcCBkb21haW4gdmFsdWVzIG11c3QgYmUgdW5pcXVlXCIpXTooc1tsXT0hMCxbXSkpOltuZXcgenQoZS5rZXksYyxgaW50ZWdlciBleHBlY3RlZCwgZm91bmQgJHtTdHJpbmcobCl9YCldfX1mdW5jdGlvbiBDbyhlKXtjb25zdCB0PShcInByb3BlcnR5XCI9PT1lLmV4cHJlc3Npb25Db250ZXh0P3dvOnhvKShMdChlLnZhbHVlKSxlLnZhbHVlU3BlYyk7aWYoXCJlcnJvclwiPT09dC5yZXN1bHQpcmV0dXJuIHQudmFsdWUubWFwKCh0PT5uZXcgenQoYCR7ZS5rZXl9JHt0LmtleX1gLGUudmFsdWUsdC5tZXNzYWdlKSkpO2NvbnN0IGk9dC52YWx1ZS5leHByZXNzaW9ufHx0LnZhbHVlLl9zdHlsZUV4cHJlc3Npb24uZXhwcmVzc2lvbjtpZihcInByb3BlcnR5XCI9PT1lLmV4cHJlc3Npb25Db250ZXh0JiZcInRleHQtZm9udFwiPT09ZS5wcm9wZXJ0eUtleSYmIWkub3V0cHV0RGVmaW5lZCgpKXJldHVybiBbbmV3IHp0KGUua2V5LGUudmFsdWUsYEludmFsaWQgZGF0YSBleHByZXNzaW9uIGZvciBcIiR7ZS5wcm9wZXJ0eUtleX1cIi4gT3V0cHV0IHZhbHVlcyBtdXN0IGJlIGNvbnRhaW5lZCBhcyBsaXRlcmFscyB3aXRoaW4gdGhlIGV4cHJlc3Npb24uYCldO2lmKFwicHJvcGVydHlcIj09PWUuZXhwcmVzc2lvbkNvbnRleHQmJlwibGF5b3V0XCI9PT1lLnByb3BlcnR5VHlwZSYmIUJyKGkpKXJldHVybiBbbmV3IHp0KGUua2V5LGUudmFsdWUsJ1wiZmVhdHVyZS1zdGF0ZVwiIGRhdGEgZXhwcmVzc2lvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBsYXlvdXQgcHJvcGVydGllcy4nKV07aWYoXCJmaWx0ZXJcIj09PWUuZXhwcmVzc2lvbkNvbnRleHQpcmV0dXJuIHpvKGksZSk7aWYoZS5leHByZXNzaW9uQ29udGV4dCYmMD09PWUuZXhwcmVzc2lvbkNvbnRleHQuaW5kZXhPZihcImNsdXN0ZXJcIikpe2lmKCFOcihpLFtcInpvb21cIixcImZlYXR1cmUtc3RhdGVcIl0pKXJldHVybiBbbmV3IHp0KGUua2V5LGUudmFsdWUsJ1wiem9vbVwiIGFuZCBcImZlYXR1cmUtc3RhdGVcIiBleHByZXNzaW9ucyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIGNsdXN0ZXIgcHJvcGVydGllcy4nKV07aWYoXCJjbHVzdGVyLWluaXRpYWxcIj09PWUuZXhwcmVzc2lvbkNvbnRleHQmJiFPcihpKSlyZXR1cm4gW25ldyB6dChlLmtleSxlLnZhbHVlLFwiRmVhdHVyZSBkYXRhIGV4cHJlc3Npb25zIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggaW5pdGlhbCBleHByZXNzaW9uIHBhcnQgb2YgY2x1c3RlciBwcm9wZXJ0aWVzLlwiKV19cmV0dXJuIFtdfWZ1bmN0aW9uIHpvKGUsdCl7Y29uc3QgaT1uZXcgU2V0KFtcInpvb21cIixcImZlYXR1cmUtc3RhdGVcIixcInBpdGNoXCIsXCJkaXN0YW5jZS1mcm9tLWNlbnRlclwiXSk7aWYodC52YWx1ZVNwZWMmJnQudmFsdWVTcGVjLmV4cHJlc3Npb24pZm9yKGNvbnN0IGUgb2YgdC52YWx1ZVNwZWMuZXhwcmVzc2lvbi5wYXJhbWV0ZXJzKWkuZGVsZXRlKGUpO2lmKDA9PT1pLnNpemUpcmV0dXJuIFtdO2NvbnN0IHI9W107cmV0dXJuIGUgaW5zdGFuY2VvZiBQaSYmaS5oYXMoZS5uYW1lKT9bbmV3IHp0KHQua2V5LHQudmFsdWUsYFtcIiR7ZS5uYW1lfVwiXSBleHByZXNzaW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gYSBmaWx0ZXIgZm9yIGEgJHt0Lm9iamVjdC50eXBlfSBsYXllciB3aXRoIGlkOiAke3Qub2JqZWN0LmlkfWApXTooZS5lYWNoQ2hpbGQoKGU9PntyLnB1c2goLi4uem8oZSx0KSk7fSkpLHIpfWZ1bmN0aW9uIERvKGUpe2NvbnN0IHQ9ZS5rZXksaT1lLnZhbHVlLHI9ZS52YWx1ZVNwZWMsbj1bXTtyZXR1cm4gQXJyYXkuaXNBcnJheShyLnZhbHVlcyk/LTE9PT1yLnZhbHVlcy5pbmRleE9mKFJ0KGkpKSYmbi5wdXNoKG5ldyB6dCh0LGksYGV4cGVjdGVkIG9uZSBvZiBbJHtyLnZhbHVlcy5qb2luKFwiLCBcIil9XSwgJHtKU09OLnN0cmluZ2lmeShpKX0gZm91bmRgKSk6LTE9PT1PYmplY3Qua2V5cyhyLnZhbHVlcykuaW5kZXhPZihSdChpKSkmJm4ucHVzaChuZXcgenQodCxpLGBleHBlY3RlZCBvbmUgb2YgWyR7T2JqZWN0LmtleXMoci52YWx1ZXMpLmpvaW4oXCIsIFwiKX1dLCAke0pTT04uc3RyaW5naWZ5KGkpfSBmb3VuZGApKSxufWZ1bmN0aW9uIFBvKGUpe2lmKCEwPT09ZXx8ITE9PT1lKXJldHVybiAhMDtpZighQXJyYXkuaXNBcnJheShlKXx8MD09PWUubGVuZ3RoKXJldHVybiAhMTtzd2l0Y2goZVswXSl7Y2FzZVwiaGFzXCI6cmV0dXJuIGUubGVuZ3RoPj0yJiZcIiRpZFwiIT09ZVsxXSYmXCIkdHlwZVwiIT09ZVsxXTtjYXNlXCJpblwiOnJldHVybiBlLmxlbmd0aD49MyYmKFwic3RyaW5nXCIhPXR5cGVvZiBlWzFdfHxBcnJheS5pc0FycmF5KGVbMl0pKTtjYXNlXCIhaW5cIjpjYXNlXCIhaGFzXCI6Y2FzZVwibm9uZVwiOnJldHVybiAhMTtjYXNlXCI9PVwiOmNhc2VcIiE9XCI6Y2FzZVwiPlwiOmNhc2VcIj49XCI6Y2FzZVwiPFwiOmNhc2VcIjw9XCI6cmV0dXJuIDMhPT1lLmxlbmd0aHx8QXJyYXkuaXNBcnJheShlWzFdKXx8QXJyYXkuaXNBcnJheShlWzJdKTtjYXNlXCJhbnlcIjpjYXNlXCJhbGxcIjpmb3IoY29uc3QgdCBvZiBlLnNsaWNlKDEpKWlmKCFQbyh0KSYmXCJib29sZWFuXCIhPXR5cGVvZiB0KXJldHVybiAhMTtyZXR1cm4gITA7ZGVmYXVsdDpyZXR1cm4gITB9fWZ1bmN0aW9uIFJvKGUsdD1cImZpbGxcIil7aWYobnVsbD09ZSlyZXR1cm4ge2ZpbHRlcjooKT0+ITAsbmVlZEdlb21ldHJ5OiExLG5lZWRGZWF0dXJlOiExfTtQbyhlKXx8KGU9VW8oZSkpO2NvbnN0IGk9ZTtsZXQgcj0hMDt0cnl7cj1mdW5jdGlvbihlKXtpZighT28oZSkpcmV0dXJuIGU7bGV0IHQ9THQoZSk7cmV0dXJuIGtvKHQpLHQ9TG8odCksdH0oaSk7fWNhdGNoKGUpe2NvbnNvbGUud2FybihgRmFpbGVkIHRvIGV4dHJhY3Qgc3RhdGljIGZpbHRlci4gRmlsdGVyIHdpbGwgY29udGludWUgd29ya2luZywgYnV0IGF0IGhpZ2hlciBtZW1vcnkgdXNhZ2UgYW5kIHNsb3dlciBmcmFtZXJhdGUuXFxuVGhpcyBpcyBtb3N0IGxpa2VseSBhIGJ1ZywgcGxlYXNlIHJlcG9ydCB0aGlzIHZpYSBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvbmV3P2Fzc2lnbmVlcz0mbGFiZWxzPSZ0ZW1wbGF0ZT1CdWdfcmVwb3J0Lm1kXFxuYW5kIHBhc3RlIHRoZSBjb250ZW50cyBvZiB0aGlzIG1lc3NhZ2UgaW4gdGhlIHJlcG9ydC5cXG5UaGFuayB5b3UhXFxuRmlsdGVyIEV4cHJlc3Npb246XFxuJHtKU09OLnN0cmluZ2lmeShpLG51bGwsMil9XFxuICAgICAgICBgKTt9Y29uc3Qgbj1DdFtgZmlsdGVyXyR7dH1gXSxvPXhvKHIsbik7bGV0IHM9bnVsbDtpZihcImVycm9yXCI9PT1vLnJlc3VsdCl0aHJvdyBuZXcgRXJyb3Ioby52YWx1ZS5tYXAoKGU9PmAke2Uua2V5fTogJHtlLm1lc3NhZ2V9YCkpLmpvaW4oXCIsIFwiKSk7cz0oZSx0LGkpPT5vLnZhbHVlLmV2YWx1YXRlKGUsdCx7fSxpKTtsZXQgYT1udWxsLGw9bnVsbDtpZihyIT09aSl7Y29uc3QgZT14byhpLG4pO2lmKFwiZXJyb3JcIj09PWUucmVzdWx0KXRocm93IG5ldyBFcnJvcihlLnZhbHVlLm1hcCgoZT0+YCR7ZS5rZXl9OiAke2UubWVzc2FnZX1gKSkuam9pbihcIiwgXCIpKTthPSh0LGkscixuLG8pPT5lLnZhbHVlLmV2YWx1YXRlKHQsaSx7fSxyLHZvaWQgMCx2b2lkIDAsbixvKSxsPSFPcihlLnZhbHVlLmV4cHJlc3Npb24pO31yZXR1cm4ge2ZpbHRlcjpzLGR5bmFtaWNGaWx0ZXI6YXx8dm9pZCAwLG5lZWRHZW9tZXRyeTpObyhyKSxuZWVkRmVhdHVyZTohIWx9fWZ1bmN0aW9uIExvKGUpe2lmKCFBcnJheS5pc0FycmF5KGUpKXJldHVybiBlO2NvbnN0IHQ9ZnVuY3Rpb24oZSl7aWYoQm8uaGFzKGVbMF0pKWZvcihsZXQgdD0xO3Q8ZS5sZW5ndGg7dCsrKWlmKE9vKGVbdF0pKXJldHVybiAhMDtyZXR1cm4gZX0oZSk7cmV0dXJuICEwPT09dD90OnQubWFwKChlPT5MbyhlKSkpfWZ1bmN0aW9uIGtvKGUpe2xldCB0PSExO2NvbnN0IGk9W107aWYoXCJjYXNlXCI9PT1lWzBdKXtmb3IobGV0IHI9MTtyPGUubGVuZ3RoLTE7cis9Mil0PXR8fE9vKGVbcl0pLGkucHVzaChlW3IrMV0pO2kucHVzaChlW2UubGVuZ3RoLTFdKTt9ZWxzZSBpZihcIm1hdGNoXCI9PT1lWzBdKXt0PXR8fE9vKGVbMV0pO2ZvcihsZXQgdD0yO3Q8ZS5sZW5ndGgtMTt0Kz0yKWkucHVzaChlW3QrMV0pO2kucHVzaChlW2UubGVuZ3RoLTFdKTt9ZWxzZSBpZihcInN0ZXBcIj09PWVbMF0pe3Q9dHx8T28oZVsxXSk7Zm9yKGxldCB0PTE7dDxlLmxlbmd0aC0xO3QrPTIpaS5wdXNoKGVbdCsxXSk7fXQmJihlLmxlbmd0aD0wLGUucHVzaChcImFueVwiLC4uLmkpKTtmb3IobGV0IHQ9MTt0PGUubGVuZ3RoO3QrKylrbyhlW3RdKTt9ZnVuY3Rpb24gT28oZSl7aWYoIUFycmF5LmlzQXJyYXkoZSkpcmV0dXJuICExO2lmKFwicGl0Y2hcIj09PSh0PWVbMF0pfHxcImRpc3RhbmNlLWZyb20tY2VudGVyXCI9PT10KXJldHVybiAhMDt2YXIgdDtmb3IobGV0IHQ9MTt0PGUubGVuZ3RoO3QrKylpZihPbyhlW3RdKSlyZXR1cm4gITA7cmV0dXJuICExfWNvbnN0IEJvPW5ldyBTZXQoW1wiaW5cIixcIj09XCIsXCIhPVwiLFwiPlwiLFwiPj1cIixcIjxcIixcIjw9XCIsXCJ0by1ib29sZWFuXCJdKTtmdW5jdGlvbiBGbyhlLHQpe3JldHVybiBlPHQ/LTE6ZT50PzE6MH1mdW5jdGlvbiBObyhlKXtpZighQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gITE7aWYoXCJ3aXRoaW5cIj09PWVbMF18fFwiZGlzdGFuY2VcIj09PWVbMF0pcmV0dXJuICEwO2ZvcihsZXQgdD0xO3Q8ZS5sZW5ndGg7dCsrKWlmKE5vKGVbdF0pKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24gVW8oZSl7aWYoIWUpcmV0dXJuICEwO2NvbnN0IHQ9ZVswXTtyZXR1cm4gZS5sZW5ndGg8PTE/XCJhbnlcIiE9PXQ6XCI9PVwiPT09dD9WbyhlWzFdLGVbMl0sXCI9PVwiKTpcIiE9XCI9PT10P3FvKFZvKGVbMV0sZVsyXSxcIj09XCIpKTpcIjxcIj09PXR8fFwiPlwiPT09dHx8XCI8PVwiPT09dHx8XCI+PVwiPT09dD9WbyhlWzFdLGVbMl0sdCk6XCJhbnlcIj09PXQ/KGk9ZS5zbGljZSgxKSxbXCJhbnlcIl0uY29uY2F0KGkubWFwKFVvKSkpOlwiYWxsXCI9PT10P1tcImFsbFwiXS5jb25jYXQoZS5zbGljZSgxKS5tYXAoVW8pKTpcIm5vbmVcIj09PXQ/W1wiYWxsXCJdLmNvbmNhdChlLnNsaWNlKDEpLm1hcChVbykubWFwKHFvKSk6XCJpblwiPT09dD9qbyhlWzFdLGUuc2xpY2UoMikpOlwiIWluXCI9PT10P3FvKGpvKGVbMV0sZS5zbGljZSgyKSkpOlwiaGFzXCI9PT10P0dvKGVbMV0pOlwiIWhhc1wiIT09dHx8cW8oR28oZVsxXSkpO3ZhciBpO31mdW5jdGlvbiBWbyhlLHQsaSl7c3dpdGNoKGUpe2Nhc2VcIiR0eXBlXCI6cmV0dXJuIFtgZmlsdGVyLXR5cGUtJHtpfWAsdF07Y2FzZVwiJGlkXCI6cmV0dXJuIFtgZmlsdGVyLWlkLSR7aX1gLHRdO2RlZmF1bHQ6cmV0dXJuIFtgZmlsdGVyLSR7aX1gLGUsdF19fWZ1bmN0aW9uIGpvKGUsdCl7aWYoMD09PXQubGVuZ3RoKXJldHVybiAhMTtzd2l0Y2goZSl7Y2FzZVwiJHR5cGVcIjpyZXR1cm4gW1wiZmlsdGVyLXR5cGUtaW5cIixbXCJsaXRlcmFsXCIsdF1dO2Nhc2VcIiRpZFwiOnJldHVybiBbXCJmaWx0ZXItaWQtaW5cIixbXCJsaXRlcmFsXCIsdF1dO2RlZmF1bHQ6cmV0dXJuIHQubGVuZ3RoPjIwMCYmIXQuc29tZSgoZT0+dHlwZW9mIGUhPXR5cGVvZiB0WzBdKSk/W1wiZmlsdGVyLWluLWxhcmdlXCIsZSxbXCJsaXRlcmFsXCIsdC5zb3J0KEZvKV1dOltcImZpbHRlci1pbi1zbWFsbFwiLGUsW1wibGl0ZXJhbFwiLHRdXX19ZnVuY3Rpb24gR28oZSl7c3dpdGNoKGUpe2Nhc2VcIiR0eXBlXCI6cmV0dXJuICEwO2Nhc2VcIiRpZFwiOnJldHVybiBbXCJmaWx0ZXItaGFzLWlkXCJdO2RlZmF1bHQ6cmV0dXJuIFtcImZpbHRlci1oYXNcIixlXX19ZnVuY3Rpb24gcW8oZSl7cmV0dXJuIFtcIiFcIixlXX1mdW5jdGlvbiBabyhlKXtyZXR1cm4gUG8oTHQoZS52YWx1ZSkpP0NvKFB0KHt9LGUse2V4cHJlc3Npb25Db250ZXh0OlwiZmlsdGVyXCIsdmFsdWVTcGVjOmUuc3R5bGVTcGVjW2BmaWx0ZXJfJHtlLmxheWVyVHlwZXx8XCJmaWxsXCJ9YF19KSk6JG8oZSl9ZnVuY3Rpb24gJG8oZSl7Y29uc3QgdD1lLnZhbHVlLGk9ZS5rZXk7aWYoXCJhcnJheVwiIT09TWkodCkpcmV0dXJuIFtuZXcgenQoaSx0LGBhcnJheSBleHBlY3RlZCwgJHtNaSh0KX0gZm91bmRgKV07Y29uc3Qgcj1lLnN0eWxlU3BlYztsZXQgbixvPVtdO2lmKHQubGVuZ3RoPDEpcmV0dXJuIFtuZXcgenQoaSx0LFwiZmlsdGVyIGFycmF5IG11c3QgaGF2ZSBhdCBsZWFzdCAxIGVsZW1lbnRcIildO3N3aXRjaChvPW8uY29uY2F0KERvKHtrZXk6YCR7aX1bMF1gLHZhbHVlOnRbMF0sdmFsdWVTcGVjOnIuZmlsdGVyX29wZXJhdG9yLHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmUuc3R5bGVTcGVjfSkpLFJ0KHRbMF0pKXtjYXNlXCI8XCI6Y2FzZVwiPD1cIjpjYXNlXCI+XCI6Y2FzZVwiPj1cIjp0Lmxlbmd0aD49MiYmXCIkdHlwZVwiPT09UnQodFsxXSkmJm8ucHVzaChuZXcgenQoaSx0LGBcIiR0eXBlXCIgY2Fubm90IGJlIHVzZSB3aXRoIG9wZXJhdG9yIFwiJHt0WzBdfVwiYCkpO2Nhc2VcIj09XCI6Y2FzZVwiIT1cIjozIT09dC5sZW5ndGgmJm8ucHVzaChuZXcgenQoaSx0LGBmaWx0ZXIgYXJyYXkgZm9yIG9wZXJhdG9yIFwiJHt0WzBdfVwiIG11c3QgaGF2ZSAzIGVsZW1lbnRzYCkpO2Nhc2VcImluXCI6Y2FzZVwiIWluXCI6dC5sZW5ndGg+PTImJihuPU1pKHRbMV0pLFwic3RyaW5nXCIhPT1uJiZvLnB1c2gobmV3IHp0KGAke2l9WzFdYCx0WzFdLGBzdHJpbmcgZXhwZWN0ZWQsICR7bn0gZm91bmRgKSkpO2ZvcihsZXQgcz0yO3M8dC5sZW5ndGg7cysrKW49TWkodFtzXSksXCIkdHlwZVwiPT09UnQodFsxXSk/bz1vLmNvbmNhdChEbyh7a2V5OmAke2l9WyR7c31dYCx2YWx1ZTp0W3NdLHZhbHVlU3BlYzpyLmdlb21ldHJ5X3R5cGUsc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWN9KSk6XCJzdHJpbmdcIiE9PW4mJlwibnVtYmVyXCIhPT1uJiZcImJvb2xlYW5cIiE9PW4mJm8ucHVzaChuZXcgenQoYCR7aX1bJHtzfV1gLHRbc10sYHN0cmluZywgbnVtYmVyLCBvciBib29sZWFuIGV4cGVjdGVkLCAke259IGZvdW5kYCkpO2JyZWFrO2Nhc2VcImFueVwiOmNhc2VcImFsbFwiOmNhc2VcIm5vbmVcIjpmb3IobGV0IHI9MTtyPHQubGVuZ3RoO3IrKylvPW8uY29uY2F0KCRvKHtrZXk6YCR7aX1bJHtyfV1gLHZhbHVlOnRbcl0sc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWN9KSk7YnJlYWs7Y2FzZVwiaGFzXCI6Y2FzZVwiIWhhc1wiOm49TWkodFsxXSksMiE9PXQubGVuZ3RoP28ucHVzaChuZXcgenQoaSx0LGBmaWx0ZXIgYXJyYXkgZm9yIFwiJHt0WzBdfVwiIG9wZXJhdG9yIG11c3QgaGF2ZSAyIGVsZW1lbnRzYCkpOlwic3RyaW5nXCIhPT1uJiZvLnB1c2gobmV3IHp0KGAke2l9WzFdYCx0WzFdLGBzdHJpbmcgZXhwZWN0ZWQsICR7bn0gZm91bmRgKSk7fXJldHVybiBvfWZ1bmN0aW9uIEhvKGUsdCl7Y29uc3QgaT1lLmtleSxyPWUuc3R5bGUsbj1lLmxheWVyLG89ZS5zdHlsZVNwZWMscz1lLnZhbHVlLGE9ZS5vYmplY3RLZXksbD1vW2Ake3R9XyR7ZS5sYXllclR5cGV9YF07aWYoIWwpcmV0dXJuIFtdO2NvbnN0IGM9YS5tYXRjaCgvXiguKiktdHJhbnNpdGlvbiQvKTtpZihcInBhaW50XCI9PT10JiZjJiZsW2NbMV1dJiZsW2NbMV1dLnRyYW5zaXRpb24pcmV0dXJuIGFzKHtrZXk6aSx2YWx1ZTpzLHZhbHVlU3BlYzpvLnRyYW5zaXRpb24sc3R5bGU6cixzdHlsZVNwZWM6b30pO2NvbnN0IGg9ZS52YWx1ZVNwZWN8fGxbYV07aWYoIWgpcmV0dXJuIFtuZXcgRHQoaSxzLGB1bmtub3duIHByb3BlcnR5IFwiJHthfVwiYCldO2xldCB1O2lmKFwic3RyaW5nXCI9PT1NaShzKSYmbm8oaCkmJiFoLnRva2VucyYmKHU9L157KFtefV0rKX0kLy5leGVjKHMpKSl7Y29uc3QgZT1gXFxgeyBcInR5cGVcIjogXCJpZGVudGl0eVwiLCBcInByb3BlcnR5XCI6ICR7dT9KU09OLnN0cmluZ2lmeSh1WzFdKTonXCJfXCInfSB9XFxgYDtyZXR1cm4gW25ldyB6dChpLHMsYFwiJHthfVwiIGRvZXMgbm90IHN1cHBvcnQgaW50ZXJwb2xhdGlvbiBzeW50YXhcXG5Vc2UgYW4gaWRlbnRpdHkgcHJvcGVydHkgZnVuY3Rpb24gaW5zdGVhZDogJHtlfS5gKV19Y29uc3QgZD1bXTtpZihcInN5bWJvbFwiPT09ZS5sYXllclR5cGUpXCJ0ZXh0LWZpZWxkXCIhPT1hfHwhcnx8ci5nbHlwaHN8fHIuaW1wb3J0c3x8ZC5wdXNoKG5ldyB6dChpLHMsJ3VzZSBvZiBcInRleHQtZmllbGRcIiByZXF1aXJlcyBhIHN0eWxlIFwiZ2x5cGhzXCIgcHJvcGVydHknKSksXCJ0ZXh0LWZvbnRcIj09PWEmJmxvKEx0KHMpKSYmXCJpZGVudGl0eVwiPT09UnQocy50eXBlKSYmZC5wdXNoKG5ldyB6dChpLHMsJ1widGV4dC1mb250XCIgZG9lcyBub3Qgc3VwcG9ydCBpZGVudGl0eSBmdW5jdGlvbnMnKSk7ZWxzZSBpZihcIm1vZGVsXCI9PT1lLmxheWVyVHlwZSYmXCJwYWludFwiPT09dCYmbiYmbi5sYXlvdXQmJm4ubGF5b3V0Lmhhc093blByb3BlcnR5KFwibW9kZWwtaWRcIikmJm5vKGgpJiYob28oaCl8fHNvKGgpKSl7Y29uc3QgZT13byhMdChzKSxoKSx0PWUudmFsdWUuZXhwcmVzc2lvbnx8ZS52YWx1ZS5fc3R5bGVFeHByZXNzaW9uLmV4cHJlc3Npb247dCYmIU5yKHQsW1wibWVhc3VyZS1saWdodFwiXSkmJmQucHVzaChuZXcgenQoaSxzLGAke2F9IGRvZXMgbm90IHN1cHBvcnQgbWVhc3VyZS1saWdodCBleHByZXNzaW9ucyB3aGVuIHRoZSBtb2RlbCBsYXllciBzb3VyY2UgaXMgdmVjdG9yIHRpbGUgb3IgR2VvSlNPTi5gKSk7fXJldHVybiBkLmNvbmNhdChhcyh7a2V5OmUua2V5LHZhbHVlOnMsdmFsdWVTcGVjOmgsc3R5bGU6cixzdHlsZVNwZWM6byxleHByZXNzaW9uQ29udGV4dDpcInByb3BlcnR5XCIscHJvcGVydHlUeXBlOnQscHJvcGVydHlLZXk6YX0pKX1mdW5jdGlvbiBXbyhlKXtyZXR1cm4gSG8oZSxcInBhaW50XCIpfWZ1bmN0aW9uIFhvKGUpe3JldHVybiBIbyhlLFwibGF5b3V0XCIpfWZ1bmN0aW9uIFlvKGUpe2xldCB0PVtdO2NvbnN0IGk9ZS52YWx1ZSxyPWUua2V5LG49ZS5zdHlsZSxvPWUuc3R5bGVTcGVjO2kudHlwZXx8aS5yZWZ8fHQucHVzaChuZXcgenQocixpLCdlaXRoZXIgXCJ0eXBlXCIgb3IgXCJyZWZcIiBpcyByZXF1aXJlZCcpKTtsZXQgcz1SdChpLnR5cGUpO2NvbnN0IGE9UnQoaS5yZWYpO2lmKGkuaWQpe2NvbnN0IG89UnQoaS5pZCk7Zm9yKGxldCBzPTA7czxlLmFycmF5SW5kZXg7cysrKXtjb25zdCBlPW4ubGF5ZXJzW3NdO1J0KGUuaWQpPT09byYmdC5wdXNoKG5ldyB6dChyLGkuaWQsYGR1cGxpY2F0ZSBsYXllciBpZCBcIiR7aS5pZH1cIiwgcHJldmlvdXNseSB1c2VkIGF0IGxpbmUgJHtlLmlkLl9fbGluZV9ffWApKTt9fWlmKFwicmVmXCJpbiBpKXtsZXQgZTtbXCJ0eXBlXCIsXCJzb3VyY2VcIixcInNvdXJjZS1sYXllclwiLFwiZmlsdGVyXCIsXCJsYXlvdXRcIl0uZm9yRWFjaCgoZT0+e2UgaW4gaSYmdC5wdXNoKG5ldyB6dChyLGlbZV0sYFwiJHtlfVwiIGlzIHByb2hpYml0ZWQgZm9yIHJlZiBsYXllcnNgKSk7fSkpLG4ubGF5ZXJzLmZvckVhY2goKHQ9PntSdCh0LmlkKT09PWEmJihlPXQpO30pKSxlP2UucmVmP3QucHVzaChuZXcgenQocixpLnJlZixcInJlZiBjYW5ub3QgcmVmZXJlbmNlIGFub3RoZXIgcmVmIGxheWVyXCIpKTpzPVJ0KGUudHlwZSk6XCJzdHJpbmdcIj09dHlwZW9mIGEmJnQucHVzaChuZXcgenQocixpLnJlZixgcmVmIGxheWVyIFwiJHthfVwiIG5vdCBmb3VuZGApKTt9ZWxzZSBpZihcImJhY2tncm91bmRcIiE9PXMmJlwic2t5XCIhPT1zJiZcInNsb3RcIiE9PXMpaWYoaS5zb3VyY2Upe2NvbnN0IGU9bi5zb3VyY2VzJiZuLnNvdXJjZXNbaS5zb3VyY2VdLG89ZSYmUnQoZS50eXBlKTtlP1widmVjdG9yXCI9PT1vJiZcInJhc3RlclwiPT09cz90LnB1c2gobmV3IHp0KHIsaS5zb3VyY2UsYGxheWVyIFwiJHtpLmlkfVwiIHJlcXVpcmVzIGEgcmFzdGVyIHNvdXJjZWApKTpcInJhc3RlclwiPT09byYmXCJyYXN0ZXJcIiE9PXM/dC5wdXNoKG5ldyB6dChyLGkuc291cmNlLGBsYXllciBcIiR7aS5pZH1cIiByZXF1aXJlcyBhIHZlY3RvciBzb3VyY2VgKSk6XCJ2ZWN0b3JcIiE9PW98fGlbXCJzb3VyY2UtbGF5ZXJcIl0/XCJyYXN0ZXItZGVtXCI9PT1vJiZcImhpbGxzaGFkZVwiIT09cz90LnB1c2gobmV3IHp0KHIsaS5zb3VyY2UsXCJyYXN0ZXItZGVtIHNvdXJjZSBjYW4gb25seSBiZSB1c2VkIHdpdGggbGF5ZXIgdHlwZSAnaGlsbHNoYWRlJy5cIikpOlwibGluZVwiIT09c3x8IWkucGFpbnR8fCFpLnBhaW50W1wibGluZS1ncmFkaWVudFwiXSYmIWkucGFpbnRbXCJsaW5lLXRyaW0tb2Zmc2V0XCJdfHxcImdlb2pzb25cIj09PW8mJmUubGluZU1ldHJpY3N8fHQucHVzaChuZXcgenQocixpLGBsYXllciBcIiR7aS5pZH1cIiBzcGVjaWZpZXMgYSBsaW5lLWdyYWRpZW50LCB3aGljaCByZXF1aXJlcyBhIEdlb0pTT04gc291cmNlIHdpdGggXFxgbGluZU1ldHJpY3NcXGAgZW5hYmxlZC5gKSk6dC5wdXNoKG5ldyB6dChyLGksYGxheWVyIFwiJHtpLmlkfVwiIG11c3Qgc3BlY2lmeSBhIFwic291cmNlLWxheWVyXCJgKSk6dC5wdXNoKG5ldyB6dChyLGkuc291cmNlLGBzb3VyY2UgXCIke2kuc291cmNlfVwiIG5vdCBmb3VuZGApKTt9ZWxzZSB0LnB1c2gobmV3IHp0KHIsaSwnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcInNvdXJjZVwiJykpO3JldHVybiB0PXQuY29uY2F0KE1vKHtrZXk6cix2YWx1ZTppLHZhbHVlU3BlYzpvLmxheWVyLHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmUuc3R5bGVTcGVjLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOntcIipcIjooKT0+W10sdHlwZTooKT0+YXMoe2tleTpgJHtyfS50eXBlYCx2YWx1ZTppLnR5cGUsdmFsdWVTcGVjOm8ubGF5ZXIudHlwZSxzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlYyxvYmplY3Q6aSxvYmplY3RLZXk6XCJ0eXBlXCJ9KSxmaWx0ZXI6ZT0+Wm8oUHQoe2xheWVyVHlwZTpzfSxlKSksbGF5b3V0OmU9Pk1vKHtsYXllcjppLGtleTplLmtleSx2YWx1ZTplLnZhbHVlLHZhbHVlU3BlYzp7fSxzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlYyxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7XCIqXCI6ZT0+WG8oUHQoe2xheWVyVHlwZTpzfSxlKSl9fSkscGFpbnQ6ZT0+TW8oe2xheWVyOmksa2V5OmUua2V5LHZhbHVlOmUudmFsdWUsdmFsdWVTcGVjOnt9LHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmUuc3R5bGVTcGVjLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOntcIipcIjplPT5XbyhQdCh7bGF5ZXJUeXBlOnMsbGF5ZXI6aX0sZSkpfX0pfX0pKSx0fWZ1bmN0aW9uIEtvKGUpe2NvbnN0IHQ9ZS52YWx1ZSxpPWUua2V5LHI9TWkodCk7cmV0dXJuIFwic3RyaW5nXCIhPT1yP1tuZXcgenQoaSx0LGBzdHJpbmcgZXhwZWN0ZWQsICR7cn0gZm91bmRgKV06W119Y29uc3QgSm89e3Byb21vdGVJZDpmdW5jdGlvbih7a2V5OmUsdmFsdWU6dH0pe2lmKFwic3RyaW5nXCI9PT1NaSh0KSlyZXR1cm4gS28oe2tleTplLHZhbHVlOnR9KTt7Y29uc3QgaT1bXTtmb3IoY29uc3QgciBpbiB0KWkucHVzaCguLi5Lbyh7a2V5OmAke2V9LiR7cn1gLHZhbHVlOnRbcl19KSk7cmV0dXJuIGl9fX07ZnVuY3Rpb24gUW8oZSl7Y29uc3QgdD1lLnZhbHVlLGk9ZS5rZXkscj1lLnN0eWxlU3BlYyxuPWUuc3R5bGU7aWYoIXQudHlwZSlyZXR1cm4gW25ldyB6dChpLHQsJ1widHlwZVwiIGlzIHJlcXVpcmVkJyldO2NvbnN0IG89UnQodC50eXBlKTtsZXQgcztzd2l0Y2gobyl7Y2FzZVwidmVjdG9yXCI6Y2FzZVwicmFzdGVyXCI6Y2FzZVwicmFzdGVyLWRlbVwiOnJldHVybiBzPU1vKHtrZXk6aSx2YWx1ZTp0LHZhbHVlU3BlYzpyW2Bzb3VyY2VfJHtvLnJlcGxhY2UoXCItXCIsXCJfXCIpfWBdLHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOnIsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6Sm99KSxzO2Nhc2VcImdlb2pzb25cIjppZihzPU1vKHtrZXk6aSx2YWx1ZTp0LHZhbHVlU3BlYzpyLnNvdXJjZV9nZW9qc29uLHN0eWxlOm4sc3R5bGVTcGVjOnIsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6Sm99KSx0LmNsdXN0ZXIpZm9yKGNvbnN0IGUgaW4gdC5jbHVzdGVyUHJvcGVydGllcyl7Y29uc3RbcixuXT10LmNsdXN0ZXJQcm9wZXJ0aWVzW2VdLG89XCJzdHJpbmdcIj09dHlwZW9mIHI/W3IsW1wiYWNjdW11bGF0ZWRcIl0sW1wiZ2V0XCIsZV1dOnI7cy5wdXNoKC4uLkNvKHtrZXk6YCR7aX0uJHtlfS5tYXBgLHZhbHVlOm4sZXhwcmVzc2lvbkNvbnRleHQ6XCJjbHVzdGVyLW1hcFwifSkpLHMucHVzaCguLi5Dbyh7a2V5OmAke2l9LiR7ZX0ucmVkdWNlYCx2YWx1ZTpvLGV4cHJlc3Npb25Db250ZXh0OlwiY2x1c3Rlci1yZWR1Y2VcIn0pKTt9cmV0dXJuIHM7Y2FzZVwidmlkZW9cIjpyZXR1cm4gTW8oe2tleTppLHZhbHVlOnQsdmFsdWVTcGVjOnIuc291cmNlX3ZpZGVvLHN0eWxlOm4sc3R5bGVTcGVjOnJ9KTtjYXNlXCJpbWFnZVwiOnJldHVybiBNbyh7a2V5OmksdmFsdWU6dCx2YWx1ZVNwZWM6ci5zb3VyY2VfaW1hZ2Usc3R5bGU6bixzdHlsZVNwZWM6cn0pO2Nhc2VcImNhbnZhc1wiOnJldHVybiBbbmV3IHp0KGksbnVsbCxcIlBsZWFzZSB1c2UgcnVudGltZSBBUElzIHRvIGFkZCBjYW52YXMgc291cmNlcywgcmF0aGVyIHRoYW4gaW5jbHVkaW5nIHRoZW0gaW4gc3R5bGVzaGVldHMuXCIsXCJzb3VyY2UuY2FudmFzXCIpXTtkZWZhdWx0OnJldHVybiBEbyh7a2V5OmAke2l9LnR5cGVgLHZhbHVlOnQudHlwZSx2YWx1ZVNwZWM6e3ZhbHVlczplcyhyKX0sc3R5bGU6bixzdHlsZVNwZWM6cn0pfX1mdW5jdGlvbiBlcyhlKXtyZXR1cm4gZS5zb3VyY2UucmVkdWNlKCgodCxpKT0+e2NvbnN0IHI9ZVtpXTtyZXR1cm4gXCJlbnVtXCI9PT1yLnR5cGUudHlwZSYmKHQ9dC5jb25jYXQoT2JqZWN0LmtleXMoci50eXBlLnZhbHVlcykpKSx0fSksW10pfWZ1bmN0aW9uIHRzKGUpe2NvbnN0IHQ9ZS52YWx1ZTtsZXQgaT1bXTtpZighdClyZXR1cm4gaTtjb25zdCByPU1pKHQpO3JldHVybiBcInN0cmluZ1wiIT09cj8oaT1pLmNvbmNhdChbbmV3IHp0KGUua2V5LHQsYHN0cmluZyBleHBlY3RlZCwgXCIke3J9XCIgZm91bmRgKV0pLGkpOihmdW5jdGlvbihlKXtjb25zdCB0PS0xPT09ZS5pbmRleE9mKFwiOi8vXCIpO3RyeXtyZXR1cm4gbmV3IFVSTChlLHQ/XCJodHRwOi8vZXhhbXBsZS5jb21cIjp2b2lkIDApLCEwfWNhdGNoKGUpe3JldHVybiAhMX19KHQpfHwoaT1pLmNvbmNhdChbbmV3IHp0KGUua2V5LHQsYGludmFsaWQgdXJsIFwiJHt0fVwiYCldKSksaSl9ZnVuY3Rpb24gaXMoZSl7Y29uc3QgdD1lLnZhbHVlLGk9ZS5zdHlsZVNwZWMscj1pLmxpZ2h0LG49ZS5zdHlsZTtsZXQgbz1bXTtjb25zdCBzPU1pKHQpO2lmKHZvaWQgMD09PXQpcmV0dXJuIG87aWYoXCJvYmplY3RcIiE9PXMpcmV0dXJuIG89by5jb25jYXQoW25ldyB6dChcImxpZ2h0XCIsdCxgb2JqZWN0IGV4cGVjdGVkLCAke3N9IGZvdW5kYCldKSxvO2Zvcihjb25zdCBlIGluIHQpe2NvbnN0IHM9ZS5tYXRjaCgvXiguKiktdHJhbnNpdGlvbiQvKTtvPW8uY29uY2F0KHMmJnJbc1sxXV0mJnJbc1sxXV0udHJhbnNpdGlvbj9hcyh7a2V5OmUsdmFsdWU6dFtlXSx2YWx1ZVNwZWM6aS50cmFuc2l0aW9uLHN0eWxlOm4sc3R5bGVTcGVjOml9KTpyW2VdP2FzKHtrZXk6ZSx2YWx1ZTp0W2VdLHZhbHVlU3BlYzpyW2VdLHN0eWxlOm4sc3R5bGVTcGVjOml9KTpbbmV3IHp0KGUsdFtlXSxgdW5rbm93biBwcm9wZXJ0eSBcIiR7ZX1cImApXSk7fXJldHVybiBvfWZ1bmN0aW9uIHJzKGUpe2NvbnN0IHQ9ZS52YWx1ZTtsZXQgaT1bXTtpZighdClyZXR1cm4gaTtjb25zdCByPU1pKHQpO2lmKFwib2JqZWN0XCIhPT1yKXJldHVybiBpPWkuY29uY2F0KFtuZXcgenQoXCJsaWdodC0zZFwiLHQsYG9iamVjdCBleHBlY3RlZCwgJHtyfSBmb3VuZGApXSksaTtjb25zdCBuPWUuc3R5bGVTcGVjLG89bltcImxpZ2h0LTNkXCJdLHM9ZS5rZXksYT1lLnN0eWxlLGw9ZS5zdHlsZS5saWdodHM7Zm9yKGNvbnN0IGUgb2YgW1widHlwZVwiLFwiaWRcIl0paWYoIShlIGluIHQpKXJldHVybiBpPWkuY29uY2F0KFtuZXcgenQoXCJsaWdodC0zZFwiLHQsYG1pc3NpbmcgcHJvcGVydHkgJHtlfSBvbiBsaWdodGApXSksaTtpZih0LnR5cGUmJmwpZm9yKGxldCByPTA7cjxlLmFycmF5SW5kZXg7cisrKXtjb25zdCBlPVJ0KHQudHlwZSksbj1sW3JdO1J0KG4udHlwZSk9PT1lJiZpLnB1c2gobmV3IHp0KHMsdC5pZCxgZHVwbGljYXRlIGxpZ2h0IHR5cGUgXCIke3QudHlwZX1cIiwgcHJldmlvdXNseSBkZWZpbmVkIGF0IGxpbmUgJHtuLmlkLl9fbGluZV9ffWApKTt9Y29uc3QgYz1gcHJvcGVydGllc19saWdodF8ke3QudHlwZX1gO2lmKCEoYyBpbiBuKSlyZXR1cm4gaT1pLmNvbmNhdChbbmV3IHp0KFwibGlnaHQtM2RcIix0LGBJbnZhbGlkIGxpZ2h0IHR5cGUgJHt0LnR5cGV9YCldKSxpO2NvbnN0IGg9bltjXTtmb3IoY29uc3QgciBpbiB0KWlmKFwicHJvcGVydGllc1wiPT09cil7Y29uc3Qgbz10W3JdLHM9TWkobyk7aWYoXCJvYmplY3RcIiE9PXMpcmV0dXJuIGk9aS5jb25jYXQoW25ldyB6dChcInByb3BlcnRpZXNcIixvLGBvYmplY3QgZXhwZWN0ZWQsICR7c30gZm91bmRgKV0pLGk7Zm9yKGNvbnN0IHQgaW4gbylpPWkuY29uY2F0KGhbdF0/YXMoe2tleTp0LHZhbHVlOm9bdF0sdmFsdWVTcGVjOmhbdF0sc3R5bGU6YSxzdHlsZVNwZWM6bn0pOltuZXcgRHQoZS5rZXksb1t0XSxgdW5rbm93biBwcm9wZXJ0eSBcIiR7dH1cImApXSk7fWVsc2Uge2NvbnN0IGU9ci5tYXRjaCgvXiguKiktdHJhbnNpdGlvbiQvKTtpPWkuY29uY2F0KGUmJm9bZVsxXV0mJm9bZVsxXV0udHJhbnNpdGlvbj9hcyh7a2V5OnIsdmFsdWU6dFtyXSx2YWx1ZVNwZWM6bi50cmFuc2l0aW9uLHN0eWxlOmEsc3R5bGVTcGVjOm59KTpvW3JdP2FzKHtrZXk6cix2YWx1ZTp0W3JdLHZhbHVlU3BlYzpvW3JdLHN0eWxlOmEsc3R5bGVTcGVjOm59KTpbbmV3IER0KHIsdFtyXSxgdW5rbm93biBwcm9wZXJ0eSBcIiR7cn1cImApXSk7fXJldHVybiBpfWZ1bmN0aW9uIG5zKGUpe2NvbnN0IHQ9ZS52YWx1ZSxpPWUua2V5LHI9ZS5zdHlsZSxuPWUuc3R5bGVTcGVjLG89bi50ZXJyYWluO2xldCBzPVtdO2NvbnN0IGE9TWkodCk7aWYodm9pZCAwPT09dClyZXR1cm4gcztpZihcIm9iamVjdFwiIT09YSlyZXR1cm4gcz1zLmNvbmNhdChbbmV3IHp0KFwidGVycmFpblwiLHQsYG9iamVjdCBleHBlY3RlZCwgJHthfSBmb3VuZGApXSkscztmb3IoY29uc3QgZSBpbiB0KXtjb25zdCBpPWUubWF0Y2goL14oLiopLXRyYW5zaXRpb24kLyk7cz1zLmNvbmNhdChpJiZvW2lbMV1dJiZvW2lbMV1dLnRyYW5zaXRpb24/YXMoe2tleTplLHZhbHVlOnRbZV0sdmFsdWVTcGVjOm4udHJhbnNpdGlvbixzdHlsZTpyLHN0eWxlU3BlYzpufSk6b1tlXT9hcyh7a2V5OmUsdmFsdWU6dFtlXSx2YWx1ZVNwZWM6b1tlXSxzdHlsZTpyLHN0eWxlU3BlYzpufSk6W25ldyBEdChlLHRbZV0sYHVua25vd24gcHJvcGVydHkgXCIke2V9XCJgKV0pO31pZih0LnNvdXJjZSl7Y29uc3QgZT1yLnNvdXJjZXMmJnIuc291cmNlc1t0LnNvdXJjZV0sbj1lJiZSdChlLnR5cGUpO2U/XCJyYXN0ZXItZGVtXCIhPT1uJiZzLnB1c2gobmV3IHp0KGksdC5zb3VyY2UsYHRlcnJhaW4gY2Fubm90IGJlIHVzZWQgd2l0aCBhIHNvdXJjZSBvZiB0eXBlICR7U3RyaW5nKG4pfSwgaXQgb25seSBiZSB1c2VkIHdpdGggYSBcInJhc3Rlci1kZW1cIiBzb3VyY2UgdHlwZWApKTpzLnB1c2gobmV3IHp0KGksdC5zb3VyY2UsYHNvdXJjZSBcIiR7dC5zb3VyY2V9XCIgbm90IGZvdW5kYCkpO31lbHNlIHMucHVzaChuZXcgenQoaSx0LCd0ZXJyYWluIGlzIG1pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJzb3VyY2VcIicpKTtyZXR1cm4gc31mdW5jdGlvbiBvcyhlKXtjb25zdCB0PWUudmFsdWUsaT1lLnN0eWxlLHI9ZS5zdHlsZVNwZWMsbj1yLmZvZztsZXQgbz1bXTtjb25zdCBzPU1pKHQpO2lmKHZvaWQgMD09PXQpcmV0dXJuIG87aWYoXCJvYmplY3RcIiE9PXMpcmV0dXJuIG89by5jb25jYXQoW25ldyB6dChcImZvZ1wiLHQsYG9iamVjdCBleHBlY3RlZCwgJHtzfSBmb3VuZGApXSksbztmb3IoY29uc3QgZSBpbiB0KXtjb25zdCBzPWUubWF0Y2goL14oLiopLXRyYW5zaXRpb24kLyk7bz1vLmNvbmNhdChzJiZuW3NbMV1dJiZuW3NbMV1dLnRyYW5zaXRpb24/YXMoe2tleTplLHZhbHVlOnRbZV0sdmFsdWVTcGVjOnIudHJhbnNpdGlvbixzdHlsZTppLHN0eWxlU3BlYzpyfSk6bltlXT9hcyh7a2V5OmUsdmFsdWU6dFtlXSx2YWx1ZVNwZWM6bltlXSxzdHlsZTppLHN0eWxlU3BlYzpyfSk6W25ldyBEdChlLHRbZV0sYHVua25vd24gcHJvcGVydHkgXCIke2V9XCJgKV0pO31yZXR1cm4gb31jb25zdCBzcz17XCIqXCI6KCk9PltdLGFycmF5OkFvLGJvb2xlYW46ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnZhbHVlLGk9ZS5rZXkscj1NaSh0KTtyZXR1cm4gXCJib29sZWFuXCIhPT1yP1tuZXcgenQoaSx0LGBib29sZWFuIGV4cGVjdGVkLCAke3J9IGZvdW5kYCldOltdfSxudW1iZXI6U28sY29sb3I6ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmtleSxpPWUudmFsdWUscj1NaShpKTtyZXR1cm4gXCJzdHJpbmdcIiE9PXI/W25ldyB6dCh0LGksYGNvbG9yIGV4cGVjdGVkLCAke3J9IGZvdW5kYCldOm51bGw9PT10aShpKT9bbmV3IHp0KHQsaSxgY29sb3IgZXhwZWN0ZWQsIFwiJHtpfVwiIGZvdW5kYCldOltdfSxlbnVtOkRvLGZpbHRlcjpabyxmdW5jdGlvbjpJbyxsYXllcjpZbyxvYmplY3Q6TW8sc291cmNlOlFvLG1vZGVsOnRzLGxpZ2h0OmlzLFwibGlnaHQtM2RcIjpycyx0ZXJyYWluOm5zLGZvZzpvcyxzdHJpbmc6S28sZm9ybWF0dGVkOmZ1bmN0aW9uKGUpe3JldHVybiAwPT09S28oZSkubGVuZ3RoP1tdOkNvKGUpfSxyZXNvbHZlZEltYWdlOmZ1bmN0aW9uKGUpe3JldHVybiAwPT09S28oZSkubGVuZ3RoP1tdOkNvKGUpfSxwcm9qZWN0aW9uOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS52YWx1ZSxpPWUuc3R5bGVTcGVjLHI9aS5wcm9qZWN0aW9uLG49ZS5zdHlsZTtsZXQgbz1bXTtjb25zdCBzPU1pKHQpO2lmKFwib2JqZWN0XCI9PT1zKWZvcihjb25zdCBlIGluIHQpbz1vLmNvbmNhdChhcyh7a2V5OmUsdmFsdWU6dFtlXSx2YWx1ZVNwZWM6cltlXSxzdHlsZTpuLHN0eWxlU3BlYzppfSkpO2Vsc2UgXCJzdHJpbmdcIiE9PXMmJihvPW8uY29uY2F0KFtuZXcgenQoXCJwcm9qZWN0aW9uXCIsdCxgb2JqZWN0IG9yIHN0cmluZyBleHBlY3RlZCwgJHtzfSBmb3VuZGApXSkpO3JldHVybiBvfSxpbXBvcnQ6ZnVuY3Rpb24oZSl7Y29uc3R7dmFsdWU6dCxzdHlsZVNwZWM6aX09ZSx7ZGF0YTpyLC4uLm59PXQ7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2xpbmVfX1wiLHt2YWx1ZTp0Ll9fbGluZV9fLGVudW1lcmFibGU6ITF9KTtsZXQgbz1NbyhQdCh7fSxlLHt2YWx1ZTpuLHZhbHVlU3BlYzppLmltcG9ydH0pKTtyZXR1cm4gXCJcIj09PVJ0KG4uaWQpJiZvLnB1c2gobmV3IHp0KGAke2Uua2V5fS5pZGAsbixcImltcG9ydCBpZCBjYW4ndCBiZSBhbiBlbXB0eSBzdHJpbmdcIikpLHImJihvPW8uY29uY2F0KGNzKHIsaSx7a2V5OmAke2Uua2V5fS5kYXRhYH0pKSksb319O2Z1bmN0aW9uIGFzKGUsdD0hMSl7Y29uc3QgaT1lLnZhbHVlLHI9ZS52YWx1ZVNwZWMsbj1lLnN0eWxlU3BlYztpZihyLmV4cHJlc3Npb24mJmxvKFJ0KGkpKSlyZXR1cm4gSW8oZSk7aWYoci5leHByZXNzaW9uJiZ5byhMdChpKSkpcmV0dXJuIENvKGUpO2lmKHIudHlwZSYmc3Nbci50eXBlXSl7Y29uc3QgaT1zc1tyLnR5cGVdKGUpO3JldHVybiAhMD09PXQmJmkubGVuZ3RoPjAmJlwiYXJyYXlcIj09PU1pKGUudmFsdWUpP0NvKGUpOml9cmV0dXJuIE1vKFB0KHt9LGUse3ZhbHVlU3BlYzpyLnR5cGU/bltyLnR5cGVdOnJ9KSl9ZnVuY3Rpb24gbHMoZSl7Y29uc3QgdD1lLnZhbHVlLGk9ZS5rZXkscj1LbyhlKTtyZXR1cm4gci5sZW5ndGh8fCgtMT09PXQuaW5kZXhPZihcIntmb250c3RhY2t9XCIpJiZyLnB1c2gobmV3IHp0KGksdCwnXCJnbHlwaHNcIiB1cmwgbXVzdCBpbmNsdWRlIGEgXCJ7Zm9udHN0YWNrfVwiIHRva2VuJykpLC0xPT09dC5pbmRleE9mKFwie3JhbmdlfVwiKSYmci5wdXNoKG5ldyB6dChpLHQsJ1wiZ2x5cGhzXCIgdXJsIG11c3QgaW5jbHVkZSBhIFwie3JhbmdlfVwiIHRva2VuJykpKSxyfWZ1bmN0aW9uIGNzKGUsdD1DdCxpPXt9KXtyZXR1cm4gYXMoe2tleTppLmtleXx8XCJcIix2YWx1ZTplLHZhbHVlU3BlYzp0LiRyb290LHN0eWxlU3BlYzp0LHN0eWxlOmUsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e2dseXBoczpscyxcIipcIjooKT0+W119fSl9ZnVuY3Rpb24gaHMoZSx0PUN0KXtyZXR1cm4gYnMoY3MoZSx0KSl9Y29uc3QgdXM9ZT0+YnMoUW8oZSkpLGRzPWU9PmJzKGlzKGUpKSxwcz1lPT5icyhycyhlKSksZnM9ZT0+YnMobnMoZSkpLG1zPWU9PmJzKG9zKGUpKSxfcz1lPT5icyhZbyhlKSksZ3M9ZT0+YnMoWm8oZSkpLHlzPWU9PmJzKFdvKGUpKSx4cz1lPT5icyhYbyhlKSksdnM9ZT0+YnModHMoZSkpO2Z1bmN0aW9uIGJzKGUpe3JldHVybiBlLnNsaWNlKCkuc29ydCgoKGUsdCk9PmUubGluZSYmdC5saW5lP2UubGluZS10LmxpbmU6MCkpfWZ1bmN0aW9uIHdzKGUsdCl7bGV0IGk9ITE7aWYodCYmdC5sZW5ndGgpZm9yKGNvbnN0IHIgb2YgdClyIGluc3RhbmNlb2YgRHQ/VyhyLm1lc3NhZ2UpOihlLmZpcmUobmV3IFN0KG5ldyBFcnJvcihyLm1lc3NhZ2UpKSksaT0hMCk7cmV0dXJuIGl9dmFyIFRzPU1zLEVzPTM7ZnVuY3Rpb24gTXMoZSx0LGkpe3ZhciByPXRoaXMuY2VsbHM9W107aWYoZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXt0aGlzLmFycmF5QnVmZmVyPWU7dmFyIG49bmV3IEludDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7ZT1uWzBdLHRoaXMuZD0odD1uWzFdKSsyKihpPW5bMl0pO2Zvcih2YXIgbz0wO288dGhpcy5kKnRoaXMuZDtvKyspe3ZhciBzPW5bRXMrb10sYT1uW0VzK28rMV07ci5wdXNoKHM9PT1hP251bGw6bi5zdWJhcnJheShzLGEpKTt9dmFyIGw9bltFcytyLmxlbmd0aCsxXTt0aGlzLmtleXM9bi5zdWJhcnJheShuW0VzK3IubGVuZ3RoXSxsKSx0aGlzLmJib3hlcz1uLnN1YmFycmF5KGwpLHRoaXMuaW5zZXJ0PXRoaXMuX2luc2VydFJlYWRvbmx5O31lbHNlIHt0aGlzLmQ9dCsyKmk7Zm9yKHZhciBjPTA7Yzx0aGlzLmQqdGhpcy5kO2MrKylyLnB1c2goW10pO3RoaXMua2V5cz1bXSx0aGlzLmJib3hlcz1bXTt9dGhpcy5uPXQsdGhpcy5leHRlbnQ9ZSx0aGlzLnBhZGRpbmc9aSx0aGlzLnNjYWxlPXQvZSx0aGlzLnVpZD0wO3ZhciBoPWkvdCplO3RoaXMubWluPS1oLHRoaXMubWF4PWUraDt9TXMucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbihlLHQsaSxyLG4pe3RoaXMuX2ZvckVhY2hDZWxsKHQsaSxyLG4sdGhpcy5faW5zZXJ0Q2VsbCx0aGlzLnVpZCsrKSx0aGlzLmtleXMucHVzaChlKSx0aGlzLmJib3hlcy5wdXNoKHQpLHRoaXMuYmJveGVzLnB1c2goaSksdGhpcy5iYm94ZXMucHVzaChyKSx0aGlzLmJib3hlcy5wdXNoKG4pO30sTXMucHJvdG90eXBlLl9pbnNlcnRSZWFkb25seT1mdW5jdGlvbigpe3Rocm93IFwiQ2Fubm90IGluc2VydCBpbnRvIGEgR3JpZEluZGV4IGNyZWF0ZWQgZnJvbSBhbiBBcnJheUJ1ZmZlci5cIn0sTXMucHJvdG90eXBlLl9pbnNlcnRDZWxsPWZ1bmN0aW9uKGUsdCxpLHIsbixvKXt0aGlzLmNlbGxzW25dLnB1c2gobyk7fSxNcy5wcm90b3R5cGUucXVlcnk9ZnVuY3Rpb24oZSx0LGkscixuKXt2YXIgbz10aGlzLm1pbixzPXRoaXMubWF4O2lmKGU8PW8mJnQ8PW8mJnM8PWkmJnM8PXImJiFuKXJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLmtleXMpO3ZhciBhPVtdO3JldHVybiB0aGlzLl9mb3JFYWNoQ2VsbChlLHQsaSxyLHRoaXMuX3F1ZXJ5Q2VsbCxhLHt9LG4pLGF9LE1zLnByb3RvdHlwZS5fcXVlcnlDZWxsPWZ1bmN0aW9uKGUsdCxpLHIsbixvLHMsYSl7dmFyIGw9dGhpcy5jZWxsc1tuXTtpZihudWxsIT09bClmb3IodmFyIGM9dGhpcy5rZXlzLGg9dGhpcy5iYm94ZXMsdT0wO3U8bC5sZW5ndGg7dSsrKXt2YXIgZD1sW3VdO2lmKHZvaWQgMD09PXNbZF0pe3ZhciBwPTQqZDsoYT9hKGhbcCswXSxoW3ArMV0saFtwKzJdLGhbcCszXSk6ZTw9aFtwKzJdJiZ0PD1oW3ArM10mJmk+PWhbcCswXSYmcj49aFtwKzFdKT8oc1tkXT0hMCxvLnB1c2goY1tkXSkpOnNbZF09ITE7fX19LE1zLnByb3RvdHlwZS5fZm9yRWFjaENlbGw9ZnVuY3Rpb24oZSx0LGkscixuLG8scyxhKXtmb3IodmFyIGw9dGhpcy5fY29udmVydFRvQ2VsbENvb3JkKGUpLGM9dGhpcy5fY29udmVydFRvQ2VsbENvb3JkKHQpLGg9dGhpcy5fY29udmVydFRvQ2VsbENvb3JkKGkpLHU9dGhpcy5fY29udmVydFRvQ2VsbENvb3JkKHIpLGQ9bDtkPD1oO2QrKylmb3IodmFyIHA9YztwPD11O3ArKyl7dmFyIGY9dGhpcy5kKnArZDtpZigoIWF8fGEodGhpcy5fY29udmVydEZyb21DZWxsQ29vcmQoZCksdGhpcy5fY29udmVydEZyb21DZWxsQ29vcmQocCksdGhpcy5fY29udmVydEZyb21DZWxsQ29vcmQoZCsxKSx0aGlzLl9jb252ZXJ0RnJvbUNlbGxDb29yZChwKzEpKSkmJm4uY2FsbCh0aGlzLGUsdCxpLHIsZixvLHMsYSkpcmV0dXJufX0sTXMucHJvdG90eXBlLl9jb252ZXJ0RnJvbUNlbGxDb29yZD1mdW5jdGlvbihlKXtyZXR1cm4gKGUtdGhpcy5wYWRkaW5nKS90aGlzLnNjYWxlfSxNcy5wcm90b3R5cGUuX2NvbnZlcnRUb0NlbGxDb29yZD1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5tYXgoMCxNYXRoLm1pbih0aGlzLmQtMSxNYXRoLmZsb29yKGUqdGhpcy5zY2FsZSkrdGhpcy5wYWRkaW5nKSl9LE1zLnByb3RvdHlwZS50b0FycmF5QnVmZmVyPWZ1bmN0aW9uKCl7aWYodGhpcy5hcnJheUJ1ZmZlcilyZXR1cm4gdGhpcy5hcnJheUJ1ZmZlcjtmb3IodmFyIGU9dGhpcy5jZWxscyx0PUVzK3RoaXMuY2VsbHMubGVuZ3RoKzErMSxpPTAscj0wO3I8dGhpcy5jZWxscy5sZW5ndGg7cisrKWkrPXRoaXMuY2VsbHNbcl0ubGVuZ3RoO3ZhciBuPW5ldyBJbnQzMkFycmF5KHQraSt0aGlzLmtleXMubGVuZ3RoK3RoaXMuYmJveGVzLmxlbmd0aCk7blswXT10aGlzLmV4dGVudCxuWzFdPXRoaXMubixuWzJdPXRoaXMucGFkZGluZztmb3IodmFyIG89dCxzPTA7czxlLmxlbmd0aDtzKyspe3ZhciBhPWVbc107bltFcytzXT1vLG4uc2V0KGEsbyksbys9YS5sZW5ndGg7fXJldHVybiBuW0VzK2UubGVuZ3RoXT1vLG4uc2V0KHRoaXMua2V5cyxvKSxuW0VzK2UubGVuZ3RoKzFdPW8rPXRoaXMua2V5cy5sZW5ndGgsbi5zZXQodGhpcy5iYm94ZXMsbyksbys9dGhpcy5iYm94ZXMubGVuZ3RoLG4uYnVmZmVyfTt2YXIgQXM9ZChUcyk7Y29uc3QgU3M9e307ZnVuY3Rpb24gSXMoZSx0LGk9e30pe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX2NsYXNzUmVnaXN0cnlLZXlcIix7dmFsdWU6dCx3cml0ZWFibGU6ITF9KSxTc1t0XT17a2xhc3M6ZSxvbWl0Omkub21pdHx8W119O31JcyhPYmplY3QsXCJPYmplY3RcIiksQXMuc2VyaWFsaXplPWZ1bmN0aW9uKGUsdCl7Y29uc3QgaT1lLnRvQXJyYXlCdWZmZXIoKTtyZXR1cm4gdCYmdC5hZGQoaSkse2J1ZmZlcjppfX0sQXMuZGVzZXJpYWxpemU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBBcyhlLmJ1ZmZlcil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcyxcIm5hbWVcIix7dmFsdWU6XCJHcmlkXCJ9KSxJcyhBcyxcIkdyaWRcIiksSXMobGksXCJDb2xvclwiKSxJcyhFcnJvcixcIkVycm9yXCIpLElzKHhlLFwiQUpBWEVycm9yXCIpLElzKGRpLFwiUmVzb2x2ZWRJbWFnZVwiKSxJcyhUbyxcIlN0eWxlUHJvcGVydHlGdW5jdGlvblwiKSxJcyhnbyxcIlN0eWxlRXhwcmVzc2lvblwiLHtvbWl0OltcIl9ldmFsdWF0b3JcIl19KSxJcyhibyxcIlpvb21EZXBlbmRlbnRFeHByZXNzaW9uXCIpLElzKHZvLFwiWm9vbUNvbnN0YW50RXhwcmVzc2lvblwiKSxJcyhQaSxcIkNvbXBvdW5kRXhwcmVzc2lvblwiLHtvbWl0OltcIl9ldmFsdWF0ZVwiXX0pO2Zvcihjb25zdCBlIGluIGVvKVNzW2VvW2VdLl9jbGFzc1JlZ2lzdHJ5S2V5XXx8SXMoZW9bZV0sYEV4cHJlc3Npb24ke2V9YCk7ZnVuY3Rpb24gQ3MoZSl7cmV0dXJuIGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmKGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8ZS5jb25zdHJ1Y3RvciYmXCJBcnJheUJ1ZmZlclwiPT09ZS5jb25zdHJ1Y3Rvci5uYW1lKX1mdW5jdGlvbiB6cyhlKXtyZXR1cm4gdC5JbWFnZUJpdG1hcCYmZSBpbnN0YW5jZW9mIHQuSW1hZ2VCaXRtYXB9ZnVuY3Rpb24gRHMoZSxpKXtpZihudWxsPT1lfHxcImJvb2xlYW5cIj09dHlwZW9mIGV8fFwibnVtYmVyXCI9PXR5cGVvZiBlfHxcInN0cmluZ1wiPT10eXBlb2YgZXx8ZSBpbnN0YW5jZW9mIEJvb2xlYW58fGUgaW5zdGFuY2VvZiBOdW1iZXJ8fGUgaW5zdGFuY2VvZiBTdHJpbmd8fGUgaW5zdGFuY2VvZiBEYXRlfHxlIGluc3RhbmNlb2YgUmVnRXhwKXJldHVybiBlO2lmKENzKGUpfHx6cyhlKSlyZXR1cm4gaSYmaS5hZGQoZSksZTtpZihBcnJheUJ1ZmZlci5pc1ZpZXcoZSkpe2NvbnN0IHQ9ZTtyZXR1cm4gaSYmaS5hZGQodC5idWZmZXIpLHR9aWYoZSBpbnN0YW5jZW9mIHQuSW1hZ2VEYXRhKXJldHVybiBpJiZpLmFkZChlLmRhdGEuYnVmZmVyKSxlO2lmKEFycmF5LmlzQXJyYXkoZSkpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IHIgb2YgZSl0LnB1c2goRHMocixpKSk7cmV0dXJuIHR9aWYoZSBpbnN0YW5jZW9mIE1hcCl7Y29uc3QgdD17JG5hbWU6XCJNYXBcIn07Zm9yKGNvbnN0W2kscl1vZiBlLmVudHJpZXMoKSl0W2ldPURzKHIpO3JldHVybiB0fWlmKFwib2JqZWN0XCI9PXR5cGVvZiBlKXtjb25zdCB0PWUuY29uc3RydWN0b3Iscj10Ll9jbGFzc1JlZ2lzdHJ5S2V5O2lmKCFyKXRocm93IG5ldyBFcnJvcihgY2FuJ3Qgc2VyaWFsaXplIG9iamVjdCBvZiB1bnJlZ2lzdGVyZWQgY2xhc3MgJHtyfWApO2NvbnN0IG49dC5zZXJpYWxpemU/dC5zZXJpYWxpemUoZSxpKTp7fTtpZighdC5zZXJpYWxpemUpe2Zvcihjb25zdCB0IGluIGUpZS5oYXNPd25Qcm9wZXJ0eSh0KSYmKFNzW3JdLm9taXQuaW5kZXhPZih0KT49MHx8KG5bdF09RHMoZVt0XSxpKSkpO2UgaW5zdGFuY2VvZiBFcnJvciYmKG4ubWVzc2FnZT1lLm1lc3NhZ2UpO31pZihuLiRuYW1lKXRocm93IG5ldyBFcnJvcihcIiRuYW1lIHByb3BlcnR5IGlzIHJlc2VydmVkIGZvciB3b3JrZXIgc2VyaWFsaXphdGlvbiBsb2dpYy5cIik7cmV0dXJuIFwiT2JqZWN0XCIhPT1yJiYobi4kbmFtZT1yKSxufXRocm93IG5ldyBFcnJvcihcImNhbid0IHNlcmlhbGl6ZSBvYmplY3Qgb2YgdHlwZSBcIit0eXBlb2YgZSl9ZnVuY3Rpb24gUHMoZSl7aWYobnVsbD09ZXx8XCJib29sZWFuXCI9PXR5cGVvZiBlfHxcIm51bWJlclwiPT10eXBlb2YgZXx8XCJzdHJpbmdcIj09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiBCb29sZWFufHxlIGluc3RhbmNlb2YgTnVtYmVyfHxlIGluc3RhbmNlb2YgU3RyaW5nfHxlIGluc3RhbmNlb2YgRGF0ZXx8ZSBpbnN0YW5jZW9mIFJlZ0V4cHx8Q3MoZSl8fHpzKGUpfHxBcnJheUJ1ZmZlci5pc1ZpZXcoZSl8fGUgaW5zdGFuY2VvZiB0LkltYWdlRGF0YSlyZXR1cm4gZTtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlLm1hcChQcyk7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUpe2NvbnN0IHQ9ZS4kbmFtZXx8XCJPYmplY3RcIjtpZihcIk1hcFwiPT09dCl7Y29uc3QgdD1uZXcgTWFwO2Zvcihjb25zdCBpIG9mIE9iamVjdC5rZXlzKGUpKVwiJG5hbWVcIiE9PWkmJnQuc2V0KGksUHMoZVtpXSkpO3JldHVybiB0fWNvbnN0e2tsYXNzOml9PVNzW3RdO2lmKCFpKXRocm93IG5ldyBFcnJvcihgY2FuJ3QgZGVzZXJpYWxpemUgdW5yZWdpc3RlcmVkIGNsYXNzICR7dH1gKTtpZihpLmRlc2VyaWFsaXplKXJldHVybiBpLmRlc2VyaWFsaXplKGUpO2NvbnN0IHI9T2JqZWN0LmNyZWF0ZShpLnByb3RvdHlwZSk7Zm9yKGNvbnN0IHQgb2YgT2JqZWN0LmtleXMoZSkpXCIkbmFtZVwiIT09dCYmKHJbdF09UHMoZVt0XSkpO3JldHVybiByfXRocm93IG5ldyBFcnJvcihcImNhbid0IGRlc2VyaWFsaXplIG9iamVjdCBvZiB0eXBlIFwiK3R5cGVvZiBlKX1jb25zdCBScz17XCJMYXRpbi0xIFN1cHBsZW1lbnRcIjplPT5lPj0xMjgmJmU8PTI1NSxBcmFiaWM6ZT0+ZT49MTUzNiYmZTw9MTc5MSxcIkFyYWJpYyBTdXBwbGVtZW50XCI6ZT0+ZT49MTg3MiYmZTw9MTkxOSxcIkFyYWJpYyBFeHRlbmRlZC1BXCI6ZT0+ZT49MjIwOCYmZTw9MjMwMyxcIkhhbmd1bCBKYW1vXCI6ZT0+ZT49NDM1MiYmZTw9NDYwNyxcIlVuaWZpZWQgQ2FuYWRpYW4gQWJvcmlnaW5hbCBTeWxsYWJpY3NcIjplPT5lPj01MTIwJiZlPD01NzU5LEtobWVyOmU9PmU+PTYwMTYmJmU8PTYxNDMsXCJVbmlmaWVkIENhbmFkaWFuIEFib3JpZ2luYWwgU3lsbGFiaWNzIEV4dGVuZGVkXCI6ZT0+ZT49NjMyMCYmZTw9NjM5OSxcIkdlbmVyYWwgUHVuY3R1YXRpb25cIjplPT5lPj04MTkyJiZlPD04MzAzLFwiTGV0dGVybGlrZSBTeW1ib2xzXCI6ZT0+ZT49ODQ0OCYmZTw9ODUyNyxcIk51bWJlciBGb3Jtc1wiOmU9PmU+PTg1MjgmJmU8PTg1OTEsXCJNaXNjZWxsYW5lb3VzIFRlY2huaWNhbFwiOmU9PmU+PTg5NjAmJmU8PTkyMTUsXCJDb250cm9sIFBpY3R1cmVzXCI6ZT0+ZT49OTIxNiYmZTw9OTI3OSxcIk9wdGljYWwgQ2hhcmFjdGVyIFJlY29nbml0aW9uXCI6ZT0+ZT49OTI4MCYmZTw9OTMxMSxcIkVuY2xvc2VkIEFscGhhbnVtZXJpY3NcIjplPT5lPj05MzEyJiZlPD05NDcxLFwiR2VvbWV0cmljIFNoYXBlc1wiOmU9PmU+PTk2MzImJmU8PTk3MjcsXCJNaXNjZWxsYW5lb3VzIFN5bWJvbHNcIjplPT5lPj05NzI4JiZlPD05OTgzLFwiTWlzY2VsbGFuZW91cyBTeW1ib2xzIGFuZCBBcnJvd3NcIjplPT5lPj0xMTAwOCYmZTw9MTEyNjMsXCJDSksgUmFkaWNhbHMgU3VwcGxlbWVudFwiOmU9PmU+PTExOTA0JiZlPD0xMjAzMSxcIkthbmd4aSBSYWRpY2Fsc1wiOmU9PmU+PTEyMDMyJiZlPD0xMjI1NSxcIklkZW9ncmFwaGljIERlc2NyaXB0aW9uIENoYXJhY3RlcnNcIjplPT5lPj0xMjI3MiYmZTw9MTIyODcsXCJDSksgU3ltYm9scyBhbmQgUHVuY3R1YXRpb25cIjplPT5lPj0xMjI4OCYmZTw9MTIzNTEsSGlyYWdhbmE6ZT0+ZT49MTIzNTImJmU8PTEyNDQ3LEthdGFrYW5hOmU9PmU+PTEyNDQ4JiZlPD0xMjU0MyxCb3BvbW9mbzplPT5lPj0xMjU0NCYmZTw9MTI1OTEsXCJIYW5ndWwgQ29tcGF0aWJpbGl0eSBKYW1vXCI6ZT0+ZT49MTI1OTImJmU8PTEyNjg3LEthbmJ1bjplPT5lPj0xMjY4OCYmZTw9MTI3MDMsXCJCb3BvbW9mbyBFeHRlbmRlZFwiOmU9PmU+PTEyNzA0JiZlPD0xMjczNSxcIkNKSyBTdHJva2VzXCI6ZT0+ZT49MTI3MzYmJmU8PTEyNzgzLFwiS2F0YWthbmEgUGhvbmV0aWMgRXh0ZW5zaW9uc1wiOmU9PmU+PTEyNzg0JiZlPD0xMjc5OSxcIkVuY2xvc2VkIENKSyBMZXR0ZXJzIGFuZCBNb250aHNcIjplPT5lPj0xMjgwMCYmZTw9MTMwNTUsXCJDSksgQ29tcGF0aWJpbGl0eVwiOmU9PmU+PTEzMDU2JiZlPD0xMzMxMSxcIkNKSyBVbmlmaWVkIElkZW9ncmFwaHMgRXh0ZW5zaW9uIEFcIjplPT5lPj0xMzMxMiYmZTw9MTk5MDMsXCJZaWppbmcgSGV4YWdyYW0gU3ltYm9sc1wiOmU9PmU+PTE5OTA0JiZlPD0xOTk2NyxcIkNKSyBVbmlmaWVkIElkZW9ncmFwaHNcIjplPT5lPj0xOTk2OCYmZTw9NDA5NTksXCJZaSBTeWxsYWJsZXNcIjplPT5lPj00MDk2MCYmZTw9NDIxMjcsXCJZaSBSYWRpY2Fsc1wiOmU9PmU+PTQyMTI4JiZlPD00MjE5MSxcIkhhbmd1bCBKYW1vIEV4dGVuZGVkLUFcIjplPT5lPj00MzM2MCYmZTw9NDMzOTEsXCJIYW5ndWwgU3lsbGFibGVzXCI6ZT0+ZT49NDQwMzImJmU8PTU1MjE1LFwiSGFuZ3VsIEphbW8gRXh0ZW5kZWQtQlwiOmU9PmU+PTU1MjE2JiZlPD01NTI5NSxcIlByaXZhdGUgVXNlIEFyZWFcIjplPT5lPj01NzM0NCYmZTw9NjM3NDMsXCJDSksgQ29tcGF0aWJpbGl0eSBJZGVvZ3JhcGhzXCI6ZT0+ZT49NjM3NDQmJmU8PTY0MjU1LFwiQXJhYmljIFByZXNlbnRhdGlvbiBGb3Jtcy1BXCI6ZT0+ZT49NjQzMzYmJmU8PTY1MDIzLFwiVmVydGljYWwgRm9ybXNcIjplPT5lPj02NTA0MCYmZTw9NjUwNTUsXCJDSksgQ29tcGF0aWJpbGl0eSBGb3Jtc1wiOmU9PmU+PTY1MDcyJiZlPD02NTEwMyxcIlNtYWxsIEZvcm0gVmFyaWFudHNcIjplPT5lPj02NTEwNCYmZTw9NjUxMzUsXCJBcmFiaWMgUHJlc2VudGF0aW9uIEZvcm1zLUJcIjplPT5lPj02NTEzNiYmZTw9NjUyNzksXCJIYWxmd2lkdGggYW5kIEZ1bGx3aWR0aCBGb3Jtc1wiOmU9PmU+PTY1MjgwJiZlPD02NTUxOSxcIkNKSyBVbmlmaWVkIElkZW9ncmFwaHMgRXh0ZW5zaW9uIEJcIjplPT5lPj0xMzEwNzImJmU8PTE3Mzc5MX07ZnVuY3Rpb24gTHMoZSl7Zm9yKGNvbnN0IHQgb2YgZSlpZihCcyh0LmNoYXJDb2RlQXQoMCkpKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24ga3MoZSl7Zm9yKGNvbnN0IHQgb2YgZSlpZighT3ModC5jaGFyQ29kZUF0KDApKSlyZXR1cm4gITE7cmV0dXJuICEwfWZ1bmN0aW9uIE9zKGUpe3JldHVybiAhKFJzLkFyYWJpYyhlKXx8UnNbXCJBcmFiaWMgU3VwcGxlbWVudFwiXShlKXx8UnNbXCJBcmFiaWMgRXh0ZW5kZWQtQVwiXShlKXx8UnNbXCJBcmFiaWMgUHJlc2VudGF0aW9uIEZvcm1zLUFcIl0oZSl8fFJzW1wiQXJhYmljIFByZXNlbnRhdGlvbiBGb3Jtcy1CXCJdKGUpKX1mdW5jdGlvbiBCcyhlKXtyZXR1cm4gISg3NDYhPT1lJiY3NDchPT1lJiYoZTw0MzUyfHwhKFJzW1wiQm9wb21vZm8gRXh0ZW5kZWRcIl0oZSl8fFJzLkJvcG9tb2ZvKGUpfHxSc1tcIkNKSyBDb21wYXRpYmlsaXR5IEZvcm1zXCJdKGUpJiYhKGU+PTY1MDk3JiZlPD02NTEwMyl8fFJzW1wiQ0pLIENvbXBhdGliaWxpdHkgSWRlb2dyYXBoc1wiXShlKXx8UnNbXCJDSksgQ29tcGF0aWJpbGl0eVwiXShlKXx8UnNbXCJDSksgUmFkaWNhbHMgU3VwcGxlbWVudFwiXShlKXx8UnNbXCJDSksgU3Ryb2tlc1wiXShlKXx8ISghUnNbXCJDSksgU3ltYm9scyBhbmQgUHVuY3R1YXRpb25cIl0oZSl8fGU+PTEyMjk2JiZlPD0xMjMwNXx8ZT49MTIzMDgmJmU8PTEyMzE5fHwxMjMzNj09PWUpfHxSc1tcIkNKSyBVbmlmaWVkIElkZW9ncmFwaHMgRXh0ZW5zaW9uIEFcIl0oZSl8fFJzW1wiQ0pLIFVuaWZpZWQgSWRlb2dyYXBoc1wiXShlKXx8UnNbXCJFbmNsb3NlZCBDSksgTGV0dGVycyBhbmQgTW9udGhzXCJdKGUpfHxSc1tcIkhhbmd1bCBDb21wYXRpYmlsaXR5IEphbW9cIl0oZSl8fFJzW1wiSGFuZ3VsIEphbW8gRXh0ZW5kZWQtQVwiXShlKXx8UnNbXCJIYW5ndWwgSmFtbyBFeHRlbmRlZC1CXCJdKGUpfHxSc1tcIkhhbmd1bCBKYW1vXCJdKGUpfHxSc1tcIkhhbmd1bCBTeWxsYWJsZXNcIl0oZSl8fFJzLkhpcmFnYW5hKGUpfHxSc1tcIklkZW9ncmFwaGljIERlc2NyaXB0aW9uIENoYXJhY3RlcnNcIl0oZSl8fFJzLkthbmJ1bihlKXx8UnNbXCJLYW5neGkgUmFkaWNhbHNcIl0oZSl8fFJzW1wiS2F0YWthbmEgUGhvbmV0aWMgRXh0ZW5zaW9uc1wiXShlKXx8UnMuS2F0YWthbmEoZSkmJjEyNTQwIT09ZXx8ISghUnNbXCJIYWxmd2lkdGggYW5kIEZ1bGx3aWR0aCBGb3Jtc1wiXShlKXx8NjUyODg9PT1lfHw2NTI4OT09PWV8fDY1MjkzPT09ZXx8ZT49NjUzMDYmJmU8PTY1MzEwfHw2NTMzOT09PWV8fDY1MzQxPT09ZXx8NjUzNDM9PT1lfHxlPj02NTM3MSYmZTw9NjU1MDN8fDY1NTA3PT09ZXx8ZT49NjU1MTImJmU8PTY1NTE5KXx8ISghUnNbXCJTbWFsbCBGb3JtIFZhcmlhbnRzXCJdKGUpfHxlPj02NTExMiYmZTw9NjUxMTh8fGU+PTY1MTIzJiZlPD02NTEyNil8fFJzW1wiVW5pZmllZCBDYW5hZGlhbiBBYm9yaWdpbmFsIFN5bGxhYmljc1wiXShlKXx8UnNbXCJVbmlmaWVkIENhbmFkaWFuIEFib3JpZ2luYWwgU3lsbGFiaWNzIEV4dGVuZGVkXCJdKGUpfHxSc1tcIlZlcnRpY2FsIEZvcm1zXCJdKGUpfHxSc1tcIllpamluZyBIZXhhZ3JhbSBTeW1ib2xzXCJdKGUpfHxSc1tcIllpIFN5bGxhYmxlc1wiXShlKXx8UnNbXCJZaSBSYWRpY2Fsc1wiXShlKSkpKX1mdW5jdGlvbiBGcyhlKXtyZXR1cm4gIShCcyhlKXx8ZnVuY3Rpb24oZSl7cmV0dXJuICEhKFJzW1wiTGF0aW4tMSBTdXBwbGVtZW50XCJdKGUpJiYoMTY3PT09ZXx8MTY5PT09ZXx8MTc0PT09ZXx8MTc3PT09ZXx8MTg4PT09ZXx8MTg5PT09ZXx8MTkwPT09ZXx8MjE1PT09ZXx8MjQ3PT09ZSl8fFJzW1wiR2VuZXJhbCBQdW5jdHVhdGlvblwiXShlKSYmKDgyMTQ9PT1lfHw4MjI0PT09ZXx8ODIyNT09PWV8fDgyNDA9PT1lfHw4MjQxPT09ZXx8ODI1MT09PWV8fDgyNTI9PT1lfHw4MjU4PT09ZXx8ODI2Mz09PWV8fDgyNjQ9PT1lfHw4MjY1PT09ZXx8ODI3Mz09PWUpfHxSc1tcIkxldHRlcmxpa2UgU3ltYm9sc1wiXShlKXx8UnNbXCJOdW1iZXIgRm9ybXNcIl0oZSl8fFJzW1wiTWlzY2VsbGFuZW91cyBUZWNobmljYWxcIl0oZSkmJihlPj04OTYwJiZlPD04OTY3fHxlPj04OTcyJiZlPD04OTkxfHxlPj04OTk2JiZlPD05ZTN8fDkwMDM9PT1lfHxlPj05MDg1JiZlPD05MTE0fHxlPj05MTUwJiZlPD05MTY1fHw5MTY3PT09ZXx8ZT49OTE2OSYmZTw9OTE3OXx8ZT49OTE4NiYmZTw9OTIxNSl8fFJzW1wiQ29udHJvbCBQaWN0dXJlc1wiXShlKSYmOTI1MSE9PWV8fFJzW1wiT3B0aWNhbCBDaGFyYWN0ZXIgUmVjb2duaXRpb25cIl0oZSl8fFJzW1wiRW5jbG9zZWQgQWxwaGFudW1lcmljc1wiXShlKXx8UnNbXCJHZW9tZXRyaWMgU2hhcGVzXCJdKGUpfHxSc1tcIk1pc2NlbGxhbmVvdXMgU3ltYm9sc1wiXShlKSYmIShlPj05NzU0JiZlPD05NzU5KXx8UnNbXCJNaXNjZWxsYW5lb3VzIFN5bWJvbHMgYW5kIEFycm93c1wiXShlKSYmKGU+PTExMDI2JiZlPD0xMTA1NXx8ZT49MTEwODgmJmU8PTExMDk3fHxlPj0xMTE5MiYmZTw9MTEyNDMpfHxSc1tcIkNKSyBTeW1ib2xzIGFuZCBQdW5jdHVhdGlvblwiXShlKXx8UnMuS2F0YWthbmEoZSl8fFJzW1wiUHJpdmF0ZSBVc2UgQXJlYVwiXShlKXx8UnNbXCJDSksgQ29tcGF0aWJpbGl0eSBGb3Jtc1wiXShlKXx8UnNbXCJTbWFsbCBGb3JtIFZhcmlhbnRzXCJdKGUpfHxSc1tcIkhhbGZ3aWR0aCBhbmQgRnVsbHdpZHRoIEZvcm1zXCJdKGUpfHw4NzM0PT09ZXx8ODc1Nj09PWV8fDg3NTc9PT1lfHxlPj05OTg0JiZlPD0xMDA4N3x8ZT49MTAxMDImJmU8PTEwMTMxfHw2NTUzMj09PWV8fDY1NTMzPT09ZSl9KGUpKX1mdW5jdGlvbiBOcyhlKXtyZXR1cm4gZT49MTQyNCYmZTw9MjMwM3x8UnNbXCJBcmFiaWMgUHJlc2VudGF0aW9uIEZvcm1zLUFcIl0oZSl8fFJzW1wiQXJhYmljIFByZXNlbnRhdGlvbiBGb3Jtcy1CXCJdKGUpfWZ1bmN0aW9uIFVzKGUsdCl7cmV0dXJuICEoIXQmJk5zKGUpfHxlPj0yMzA0JiZlPD0zNTgzfHxlPj0zODQwJiZlPD00MjU1fHxScy5LaG1lcihlKSl9ZnVuY3Rpb24gVnMoZSl7Zm9yKGNvbnN0IHQgb2YgZSlpZihOcyh0LmNoYXJDb2RlQXQoMCkpKXJldHVybiAhMDtyZXR1cm4gITF9Y29uc3QganM9XCJkZWZlcnJlZFwiLEdzPVwibG9hZGluZ1wiLHFzPVwibG9hZGVkXCI7bGV0IFpzPW51bGwsJHM9XCJ1bmF2YWlsYWJsZVwiLEhzPW51bGw7Y29uc3QgV3M9ZnVuY3Rpb24oZSl7ZSYmXCJzdHJpbmdcIj09dHlwZW9mIGUmJmUuaW5kZXhPZihcIk5ldHdvcmtFcnJvclwiKT4tMSYmKCRzPVwiZXJyb3JcIiksWnMmJlpzKGUpO307ZnVuY3Rpb24gWHMoKXtZcy5maXJlKG5ldyBBdChcInBsdWdpblN0YXRlQ2hhbmdlXCIse3BsdWdpblN0YXR1czokcyxwbHVnaW5VUkw6SHN9KSk7fWNvbnN0IFlzPW5ldyBJdCxLcz1mdW5jdGlvbigpe3JldHVybiAkc30sSnM9ZnVuY3Rpb24oKXtpZigkcyE9PWpzfHwhSHMpdGhyb3cgbmV3IEVycm9yKFwicnRsLXRleHQtcGx1Z2luIGNhbm5vdCBiZSBkb3dubG9hZGVkIHVubGVzcyBhIHBsdWdpblVSTCBpcyBzcGVjaWZpZWRcIik7JHM9R3MsWHMoKSxIcyYmVGUoe3VybDpIc30sKGU9PntlP1dzKGUpOigkcz1xcyxYcygpKTt9KSk7fSxRcz17YXBwbHlBcmFiaWNTaGFwaW5nOm51bGwscHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0Om51bGwscHJvY2Vzc1N0eWxlZEJpZGlyZWN0aW9uYWxUZXh0Om51bGwsaXNMb2FkZWQ6KCk9PiRzPT09cXN8fG51bGwhPVFzLmFwcGx5QXJhYmljU2hhcGluZyxpc0xvYWRpbmc6KCk9PiRzPT09R3Msc2V0U3RhdGUoZSl7JHM9ZS5wbHVnaW5TdGF0dXMsSHM9ZS5wbHVnaW5VUkw7fSxpc1BhcnNlZDooKT0+bnVsbCE9UXMuYXBwbHlBcmFiaWNTaGFwaW5nJiZudWxsIT1Rcy5wcm9jZXNzQmlkaXJlY3Rpb25hbFRleHQmJm51bGwhPVFzLnByb2Nlc3NTdHlsZWRCaWRpcmVjdGlvbmFsVGV4dCxnZXRQbHVnaW5VUkw6KCk9PkhzfTtjbGFzcyBlYXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMuem9vbT1lLHQ/KHRoaXMubm93PXQubm93LHRoaXMuZmFkZUR1cmF0aW9uPXQuZmFkZUR1cmF0aW9uLHRoaXMudHJhbnNpdGlvbj10LnRyYW5zaXRpb24sdGhpcy5waXRjaD10LnBpdGNoLHRoaXMuYnJpZ2h0bmVzcz10LmJyaWdodG5lc3MpOih0aGlzLm5vdz0wLHRoaXMuZmFkZUR1cmF0aW9uPTAsdGhpcy50cmFuc2l0aW9uPXt9LHRoaXMucGl0Y2g9MCx0aGlzLmJyaWdodG5lc3M9MCk7fWlzU3VwcG9ydGVkU2NyaXB0KGUpe3JldHVybiBmdW5jdGlvbihlLHQpe2Zvcihjb25zdCBpIG9mIGUpaWYoIVVzKGkuY2hhckNvZGVBdCgwKSx0KSlyZXR1cm4gITE7cmV0dXJuICEwfShlLFFzLmlzTG9hZGVkKCkpfX1jbGFzcyB0YXtjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5wcm9wZXJ0eT1lLHRoaXMudmFsdWU9dCx0aGlzLmV4cHJlc3Npb249ZnVuY3Rpb24oZSx0LGkpe2lmKGxvKGUpKXJldHVybiBuZXcgVG8oZSx0KTtpZih5byhlKXx8QXJyYXkuaXNBcnJheShlKSYmZS5sZW5ndGg+MCl7Y29uc3Qgcj13byhlLHQsaSk7aWYoXCJlcnJvclwiPT09ci5yZXN1bHQpdGhyb3cgbmV3IEVycm9yKHIudmFsdWUubWFwKChlPT5gJHtlLmtleX06ICR7ZS5tZXNzYWdlfWApKS5qb2luKFwiLCBcIikpO3JldHVybiByLnZhbHVlfXtsZXQgaT1lO3JldHVybiBcInN0cmluZ1wiPT10eXBlb2YgZSYmXCJjb2xvclwiPT09dC50eXBlJiYoaT1saS5wYXJzZShlKSkse2tpbmQ6XCJjb25zdGFudFwiLGlzQ29uZmlnRGVwZW5kZW50OiExLGV2YWx1YXRlOigpPT5pfX19KHZvaWQgMD09PXQ/ZS5zcGVjaWZpY2F0aW9uLmRlZmF1bHQ6dCxlLnNwZWNpZmljYXRpb24saSk7fWlzRGF0YURyaXZlbigpe3JldHVybiBcInNvdXJjZVwiPT09dGhpcy5leHByZXNzaW9uLmtpbmR8fFwiY29tcG9zaXRlXCI9PT10aGlzLmV4cHJlc3Npb24ua2luZH1wb3NzaWJseUV2YWx1YXRlKGUsdCxpKXtyZXR1cm4gdGhpcy5wcm9wZXJ0eS5wb3NzaWJseUV2YWx1YXRlKHRoaXMsZSx0LGkpfX1jbGFzcyBpYXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMucHJvcGVydHk9ZSx0aGlzLnZhbHVlPW5ldyB0YShlLHZvaWQgMCx0KTt9dHJhbnNpdGlvbmVkKGUsdCl7cmV0dXJuIG5ldyBuYSh0aGlzLnByb3BlcnR5LHRoaXMudmFsdWUsdCxrKHt9LGUudHJhbnNpdGlvbix0aGlzLnRyYW5zaXRpb24pLGUubm93KX11bnRyYW5zaXRpb25lZCgpe3JldHVybiBuZXcgbmEodGhpcy5wcm9wZXJ0eSx0aGlzLnZhbHVlLG51bGwse30sMCl9fWNsYXNzIHJhe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fcHJvcGVydGllcz1lLHRoaXMuX3ZhbHVlcz1PYmplY3QuY3JlYXRlKGUuZGVmYXVsdFRyYW5zaXRpb25hYmxlUHJvcGVydHlWYWx1ZXMpLHRoaXMuX29wdGlvbnM9dCx0aGlzLmlzQ29uZmlnRGVwZW5kZW50PSExO31nZXRWYWx1ZShlKXtyZXR1cm4gJCh0aGlzLl92YWx1ZXNbZV0udmFsdWUudmFsdWUpfXNldFZhbHVlKGUsdCl7dGhpcy5fdmFsdWVzLmhhc093blByb3BlcnR5KGUpfHwodGhpcy5fdmFsdWVzW2VdPW5ldyBpYSh0aGlzLl92YWx1ZXNbZV0ucHJvcGVydHksdGhpcy5fb3B0aW9ucykpLHRoaXMuX3ZhbHVlc1tlXS52YWx1ZT1uZXcgdGEodGhpcy5fdmFsdWVzW2VdLnByb3BlcnR5LG51bGw9PT10P3ZvaWQgMDokKHQpLHRoaXMuX29wdGlvbnMpLHRoaXMuaXNDb25maWdEZXBlbmRlbnQ9dGhpcy5pc0NvbmZpZ0RlcGVuZGVudHx8dGhpcy5fdmFsdWVzW2VdLnZhbHVlLmV4cHJlc3Npb24uaXNDb25maWdEZXBlbmRlbnQ7fXNldFRyYW5zaXRpb25PclZhbHVlKGUsdCl7dCYmKHRoaXMuX29wdGlvbnM9dCk7Y29uc3QgaT10aGlzLl9wcm9wZXJ0aWVzLnByb3BlcnRpZXM7aWYoZSlmb3IoY29uc3QgdCBpbiBlKXtjb25zdCByPWVbdF07aWYoRyh0LFwiLXRyYW5zaXRpb25cIikpe2NvbnN0IGU9dC5zbGljZSgwLC0xMSk7aVtlXSYmdGhpcy5zZXRUcmFuc2l0aW9uKGUscik7fWVsc2UgaVt0XSYmdGhpcy5zZXRWYWx1ZSh0LHIpO319Z2V0VHJhbnNpdGlvbihlKXtyZXR1cm4gJCh0aGlzLl92YWx1ZXNbZV0udHJhbnNpdGlvbil9c2V0VHJhbnNpdGlvbihlLHQpe3RoaXMuX3ZhbHVlcy5oYXNPd25Qcm9wZXJ0eShlKXx8KHRoaXMuX3ZhbHVlc1tlXT1uZXcgaWEodGhpcy5fdmFsdWVzW2VdLnByb3BlcnR5KSksdGhpcy5fdmFsdWVzW2VdLnRyYW5zaXRpb249JCh0KXx8dm9pZCAwO31zZXJpYWxpemUoKXtjb25zdCBlPXt9O2Zvcihjb25zdCB0IG9mIE9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcykpe2NvbnN0IGk9dGhpcy5nZXRWYWx1ZSh0KTt2b2lkIDAhPT1pJiYoZVt0XT1pKTtjb25zdCByPXRoaXMuZ2V0VHJhbnNpdGlvbih0KTt2b2lkIDAhPT1yJiYoZVtgJHt0fS10cmFuc2l0aW9uYF09cik7fXJldHVybiBlfXRyYW5zaXRpb25lZChlLHQpe2NvbnN0IGk9bmV3IG9hKHRoaXMuX3Byb3BlcnRpZXMpO2Zvcihjb25zdCByIG9mIE9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcykpaS5fdmFsdWVzW3JdPXRoaXMuX3ZhbHVlc1tyXS50cmFuc2l0aW9uZWQoZSx0Ll92YWx1ZXNbcl0pO3JldHVybiBpfXVudHJhbnNpdGlvbmVkKCl7Y29uc3QgZT1uZXcgb2EodGhpcy5fcHJvcGVydGllcyk7Zm9yKGNvbnN0IHQgb2YgT2JqZWN0LmtleXModGhpcy5fdmFsdWVzKSllLl92YWx1ZXNbdF09dGhpcy5fdmFsdWVzW3RdLnVudHJhbnNpdGlvbmVkKCk7cmV0dXJuIGV9fWNsYXNzIG5he2NvbnN0cnVjdG9yKGUsdCxpLHIsbil7Y29uc3Qgbz1yLmRlbGF5fHwwLHM9ci5kdXJhdGlvbnx8MDtuPW58fDAsdGhpcy5wcm9wZXJ0eT1lLHRoaXMudmFsdWU9dCx0aGlzLmJlZ2luPW4rbyx0aGlzLmVuZD10aGlzLmJlZ2luK3MsZS5zcGVjaWZpY2F0aW9uLnRyYW5zaXRpb24mJihyLmRlbGF5fHxyLmR1cmF0aW9uKSYmKHRoaXMucHJpb3I9aSk7fXBvc3NpYmx5RXZhbHVhdGUoZSx0LGkpe2NvbnN0IHI9ZS5ub3d8fDAsbj10aGlzLnZhbHVlLnBvc3NpYmx5RXZhbHVhdGUoZSx0LGkpLG89dGhpcy5wcmlvcjtpZihvKXtpZihyPnRoaXMuZW5kKXJldHVybiB0aGlzLnByaW9yPW51bGwsbjtpZih0aGlzLnZhbHVlLmlzRGF0YURyaXZlbigpKXJldHVybiB0aGlzLnByaW9yPW51bGwsbjtpZihyPHRoaXMuYmVnaW4pcmV0dXJuIG8ucG9zc2libHlFdmFsdWF0ZShlLHQsaSk7e2NvbnN0IHM9KHItdGhpcy5iZWdpbikvKHRoaXMuZW5kLXRoaXMuYmVnaW4pO3JldHVybiB0aGlzLnByb3BlcnR5LmludGVycG9sYXRlKG8ucG9zc2libHlFdmFsdWF0ZShlLHQsaSksbixNKHMpKX19cmV0dXJuIG59fWNsYXNzIG9he2NvbnN0cnVjdG9yKGUpe3RoaXMuX3Byb3BlcnRpZXM9ZSx0aGlzLl92YWx1ZXM9T2JqZWN0LmNyZWF0ZShlLmRlZmF1bHRUcmFuc2l0aW9uaW5nUHJvcGVydHlWYWx1ZXMpO31wb3NzaWJseUV2YWx1YXRlKGUsdCxpKXtjb25zdCByPW5ldyBsYSh0aGlzLl9wcm9wZXJ0aWVzKTtmb3IoY29uc3QgbiBvZiBPYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpKXIuX3ZhbHVlc1tuXT10aGlzLl92YWx1ZXNbbl0ucG9zc2libHlFdmFsdWF0ZShlLHQsaSk7cmV0dXJuIHJ9aGFzVHJhbnNpdGlvbigpe2Zvcihjb25zdCBlIG9mIE9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcykpaWYodGhpcy5fdmFsdWVzW2VdLnByaW9yKXJldHVybiAhMDtyZXR1cm4gITF9fWNsYXNzIHNhe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fcHJvcGVydGllcz1lLHRoaXMuX3ZhbHVlcz1PYmplY3QuY3JlYXRlKGUuZGVmYXVsdFByb3BlcnR5VmFsdWVzKSx0aGlzLl9vcHRpb25zPXQsdGhpcy5pc0NvbmZpZ0RlcGVuZGVudD0hMTt9Z2V0VmFsdWUoZSl7cmV0dXJuICQodGhpcy5fdmFsdWVzW2VdLnZhbHVlKX1zZXRWYWx1ZShlLHQpe3RoaXMuX3ZhbHVlc1tlXT1uZXcgdGEodGhpcy5fdmFsdWVzW2VdLnByb3BlcnR5LG51bGw9PT10P3ZvaWQgMDokKHQpLHRoaXMuX29wdGlvbnMpLHRoaXMuaXNDb25maWdEZXBlbmRlbnQ9dGhpcy5pc0NvbmZpZ0RlcGVuZGVudHx8dGhpcy5fdmFsdWVzW2VdLmV4cHJlc3Npb24uaXNDb25maWdEZXBlbmRlbnQ7fXNlcmlhbGl6ZSgpe2NvbnN0IGU9e307Zm9yKGNvbnN0IHQgb2YgT2JqZWN0LmtleXModGhpcy5fdmFsdWVzKSl7Y29uc3QgaT10aGlzLmdldFZhbHVlKHQpO3ZvaWQgMCE9PWkmJihlW3RdPWkpO31yZXR1cm4gZX1wb3NzaWJseUV2YWx1YXRlKGUsdCxpKXtjb25zdCByPW5ldyBsYSh0aGlzLl9wcm9wZXJ0aWVzKTtmb3IoY29uc3QgbiBvZiBPYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpKXIuX3ZhbHVlc1tuXT10aGlzLl92YWx1ZXNbbl0ucG9zc2libHlFdmFsdWF0ZShlLHQsaSk7cmV0dXJuIHJ9fWNsYXNzIGFhe2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLnByb3BlcnR5PWUsdGhpcy52YWx1ZT10LHRoaXMucGFyYW1ldGVycz1pO31pc0NvbnN0YW50KCl7cmV0dXJuIFwiY29uc3RhbnRcIj09PXRoaXMudmFsdWUua2luZH1jb25zdGFudE9yKGUpe3JldHVybiBcImNvbnN0YW50XCI9PT10aGlzLnZhbHVlLmtpbmQ/dGhpcy52YWx1ZS52YWx1ZTplfWV2YWx1YXRlKGUsdCxpLHIpe3JldHVybiB0aGlzLnByb3BlcnR5LmV2YWx1YXRlKHRoaXMudmFsdWUsdGhpcy5wYXJhbWV0ZXJzLGUsdCxpLHIpfX1jbGFzcyBsYXtjb25zdHJ1Y3RvcihlKXt0aGlzLl9wcm9wZXJ0aWVzPWUsdGhpcy5fdmFsdWVzPU9iamVjdC5jcmVhdGUoZS5kZWZhdWx0UG9zc2libHlFdmFsdWF0ZWRWYWx1ZXMpO31nZXQoZSl7cmV0dXJuIHRoaXMuX3ZhbHVlc1tlXX19Y2xhc3MgY2F7Y29uc3RydWN0b3IoZSl7dGhpcy5zcGVjaWZpY2F0aW9uPWU7fXBvc3NpYmx5RXZhbHVhdGUoZSx0KXtyZXR1cm4gZS5leHByZXNzaW9uLmV2YWx1YXRlKHQpfWludGVycG9sYXRlKGUsdCxpKXtjb25zdCByPVlyW3RoaXMuc3BlY2lmaWNhdGlvbi50eXBlXTtyZXR1cm4gcj9yKGUsdCxpKTplfX1jbGFzcyBoYXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMuc3BlY2lmaWNhdGlvbj1lLHRoaXMub3ZlcnJpZGVzPXQ7fXBvc3NpYmx5RXZhbHVhdGUoZSx0LGkscil7cmV0dXJuIG5ldyBhYSh0aGlzLFwiY29uc3RhbnRcIj09PWUuZXhwcmVzc2lvbi5raW5kfHxcImNhbWVyYVwiPT09ZS5leHByZXNzaW9uLmtpbmQ/e2tpbmQ6XCJjb25zdGFudFwiLHZhbHVlOmUuZXhwcmVzc2lvbi5ldmFsdWF0ZSh0LG51bGwse30saSxyKX06ZS5leHByZXNzaW9uLHQpfWludGVycG9sYXRlKGUsdCxpKXtpZihcImNvbnN0YW50XCIhPT1lLnZhbHVlLmtpbmR8fFwiY29uc3RhbnRcIiE9PXQudmFsdWUua2luZClyZXR1cm4gZTtpZih2b2lkIDA9PT1lLnZhbHVlLnZhbHVlfHx2b2lkIDA9PT10LnZhbHVlLnZhbHVlKXJldHVybiBuZXcgYWEodGhpcyx7a2luZDpcImNvbnN0YW50XCIsdmFsdWU6dm9pZCAwfSxlLnBhcmFtZXRlcnMpO2NvbnN0IHI9WXJbdGhpcy5zcGVjaWZpY2F0aW9uLnR5cGVdO3JldHVybiByP25ldyBhYSh0aGlzLHtraW5kOlwiY29uc3RhbnRcIix2YWx1ZTpyKGUudmFsdWUudmFsdWUsdC52YWx1ZS52YWx1ZSxpKX0sZS5wYXJhbWV0ZXJzKTplfWV2YWx1YXRlKGUsdCxpLHIsbixvKXtyZXR1cm4gXCJjb25zdGFudFwiPT09ZS5raW5kP2UudmFsdWU6ZS5ldmFsdWF0ZSh0LGkscixuLG8pfX1jbGFzcyB1YXtjb25zdHJ1Y3RvcihlKXt0aGlzLnNwZWNpZmljYXRpb249ZTt9cG9zc2libHlFdmFsdWF0ZShlLHQsaSxyKXtyZXR1cm4gISFlLmV4cHJlc3Npb24uZXZhbHVhdGUodCxudWxsLHt9LGkscil9aW50ZXJwb2xhdGUoKXtyZXR1cm4gITF9fWNsYXNzIGRhe2NvbnN0cnVjdG9yKGUpe3RoaXMucHJvcGVydGllcz1lLHRoaXMuZGVmYXVsdFByb3BlcnR5VmFsdWVzPXt9LHRoaXMuZGVmYXVsdFRyYW5zaXRpb25hYmxlUHJvcGVydHlWYWx1ZXM9e30sdGhpcy5kZWZhdWx0VHJhbnNpdGlvbmluZ1Byb3BlcnR5VmFsdWVzPXt9LHRoaXMuZGVmYXVsdFBvc3NpYmx5RXZhbHVhdGVkVmFsdWVzPXt9LHRoaXMub3ZlcnJpZGFibGVQcm9wZXJ0aWVzPVtdO2NvbnN0IHQ9bmV3IGVhKDAse30pO2Zvcihjb25zdCBpIGluIGUpe2NvbnN0IHI9ZVtpXTtyLnNwZWNpZmljYXRpb24ub3ZlcnJpZGFibGUmJnRoaXMub3ZlcnJpZGFibGVQcm9wZXJ0aWVzLnB1c2goaSk7Y29uc3Qgbj10aGlzLmRlZmF1bHRQcm9wZXJ0eVZhbHVlc1tpXT1uZXcgdGEocix2b2lkIDApLG89dGhpcy5kZWZhdWx0VHJhbnNpdGlvbmFibGVQcm9wZXJ0eVZhbHVlc1tpXT1uZXcgaWEocik7dGhpcy5kZWZhdWx0VHJhbnNpdGlvbmluZ1Byb3BlcnR5VmFsdWVzW2ldPW8udW50cmFuc2l0aW9uZWQoKSx0aGlzLmRlZmF1bHRQb3NzaWJseUV2YWx1YXRlZFZhbHVlc1tpXT1uLnBvc3NpYmx5RXZhbHVhdGUodCk7fX19ZnVuY3Rpb24gcGEoZSx0KXtyZXR1cm4gdD9gJHtlfVx1MDAxZiR7dH1gOmV9ZnVuY3Rpb24gZmEoZSl7Y29uc3QgdD1lLmluZGV4T2YoXCJcdTAwMWZcIik7cmV0dXJuIHQ+PTA/ZS5zbGljZSgwLHQpOmV9SXMoaGEsXCJEYXRhRHJpdmVuUHJvcGVydHlcIiksSXMoY2EsXCJEYXRhQ29uc3RhbnRQcm9wZXJ0eVwiKSxJcyh1YSxcIkNvbG9yUmFtcFByb3BlcnR5XCIpO2NvbnN0IG1hPVwiLXRyYW5zaXRpb25cIjtjbGFzcyBfYSBleHRlbmRzIEl0e2NvbnN0cnVjdG9yKGUsdCxpKXtpZihzdXBlcigpLHRoaXMuaWQ9ZS5pZCx0aGlzLnR5cGU9ZS50eXBlLHRoaXMuX2ZlYXR1cmVGaWx0ZXI9e2ZpbHRlcjooKT0+ITAsbmVlZEdlb21ldHJ5OiExLG5lZWRGZWF0dXJlOiExfSx0aGlzLl9maWx0ZXJDb21waWxlZD0hMSx0aGlzLmlzQ29uZmlnRGVwZW5kZW50PSExLFwiY3VzdG9tXCIhPT1lLnR5cGUmJih0aGlzLm1ldGFkYXRhPWUubWV0YWRhdGEsdGhpcy5taW56b29tPWUubWluem9vbSx0aGlzLm1heHpvb209ZS5tYXh6b29tLFwiYmFja2dyb3VuZFwiIT09ZS50eXBlJiZcInNreVwiIT09ZS50eXBlJiZcInNsb3RcIiE9PWUudHlwZSYmKHRoaXMuc291cmNlPWUuc291cmNlLHRoaXMuc291cmNlTGF5ZXI9ZVtcInNvdXJjZS1sYXllclwiXSx0aGlzLmZpbHRlcj1lLmZpbHRlciksdGhpcy5vcHRpb25zPWksZS5zbG90JiYodGhpcy5zbG90PWUuc2xvdCksdC5sYXlvdXQmJih0aGlzLl91bmV2YWx1YXRlZExheW91dD1uZXcgc2EodC5sYXlvdXQsaSksdGhpcy5pc0NvbmZpZ0RlcGVuZGVudD10aGlzLmlzQ29uZmlnRGVwZW5kZW50fHx0aGlzLl91bmV2YWx1YXRlZExheW91dC5pc0NvbmZpZ0RlcGVuZGVudCksdC5wYWludCkpe3RoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQ9bmV3IHJhKHQucGFpbnQsaSk7Zm9yKGNvbnN0IHQgaW4gZS5wYWludCl0aGlzLnNldFBhaW50UHJvcGVydHkodCxlLnBhaW50W3RdLHt2YWxpZGF0ZTohMX0pO2Zvcihjb25zdCB0IGluIGUubGF5b3V0KXRoaXMuc2V0TGF5b3V0UHJvcGVydHkodCxlLmxheW91dFt0XSx7dmFsaWRhdGU6ITF9KTt0aGlzLmlzQ29uZmlnRGVwZW5kZW50PXRoaXMuaXNDb25maWdEZXBlbmRlbnR8fHRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuaXNDb25maWdEZXBlbmRlbnQsdGhpcy5fdHJhbnNpdGlvbmluZ1BhaW50PXRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQudW50cmFuc2l0aW9uZWQoKSx0aGlzLnBhaW50PW5ldyBsYSh0LnBhaW50KTt9fXNldFNjb3BlKGUpe3RoaXMuc2NvcGU9ZSx0aGlzLmZxaWQ9cGEodGhpcy5pZCxlKTt9Z2V0TGF5b3V0UHJvcGVydHkoZSl7cmV0dXJuIFwidmlzaWJpbGl0eVwiPT09ZT90aGlzLnZpc2liaWxpdHk6dGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQuZ2V0VmFsdWUoZSl9c2V0TGF5b3V0UHJvcGVydHkoZSx0LGk9e30pe2lmKG51bGwhPXQmJnRoaXMuX3ZhbGlkYXRlKHhzLGBsYXllcnMuJHt0aGlzLmlkfS5sYXlvdXQuJHtlfWAsZSx0LGkpKXJldHVybjtpZihcImN1c3RvbVwiPT09dGhpcy50eXBlJiZcInZpc2liaWxpdHlcIj09PWUpcmV0dXJuIHZvaWQodGhpcy52aXNpYmlsaXR5PXQpO2NvbnN0IHI9dGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQ7ci5fcHJvcGVydGllcy5wcm9wZXJ0aWVzW2VdJiYoci5zZXRWYWx1ZShlLHQpLHRoaXMuaXNDb25maWdEZXBlbmRlbnQ9dGhpcy5pc0NvbmZpZ0RlcGVuZGVudHx8ci5pc0NvbmZpZ0RlcGVuZGVudCxcInZpc2liaWxpdHlcIj09PWUmJnRoaXMucG9zc2libHlFdmFsdWF0ZVZpc2liaWxpdHkoKSk7fXBvc3NpYmx5RXZhbHVhdGVWaXNpYmlsaXR5KCl7dGhpcy52aXNpYmlsaXR5PXRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0Ll92YWx1ZXMudmlzaWJpbGl0eS5wb3NzaWJseUV2YWx1YXRlKHt6b29tOjB9KTt9Z2V0UGFpbnRQcm9wZXJ0eShlKXtyZXR1cm4gRyhlLG1hKT90aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LmdldFRyYW5zaXRpb24oZS5zbGljZSgwLC0xMSkpOnRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuZ2V0VmFsdWUoZSl9c2V0UGFpbnRQcm9wZXJ0eShlLHQsaT17fSl7aWYobnVsbCE9dCYmdGhpcy5fdmFsaWRhdGUoeXMsYGxheWVycy4ke3RoaXMuaWR9LnBhaW50LiR7ZX1gLGUsdCxpKSlyZXR1cm4gITE7Y29uc3Qgcj10aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LG49ci5fcHJvcGVydGllcy5wcm9wZXJ0aWVzO2lmKEcoZSxtYSkpe2NvbnN0IGk9ZS5zbGljZSgwLC0xMSk7cmV0dXJuIG5baV0mJnIuc2V0VHJhbnNpdGlvbihpLHR8fHZvaWQgMCksITF9aWYoIW5bZV0pcmV0dXJuICExO2NvbnN0IG89ci5fdmFsdWVzW2VdLHM9by52YWx1ZS5pc0RhdGFEcml2ZW4oKSxhPW8udmFsdWU7ci5zZXRWYWx1ZShlLHQpLHRoaXMuaXNDb25maWdEZXBlbmRlbnQ9dGhpcy5pc0NvbmZpZ0RlcGVuZGVudHx8ci5pc0NvbmZpZ0RlcGVuZGVudCx0aGlzLl9oYW5kbGVTcGVjaWFsUGFpbnRQcm9wZXJ0eVVwZGF0ZShlKTtjb25zdCBsPXIuX3ZhbHVlc1tlXS52YWx1ZSxjPWwuaXNEYXRhRHJpdmVuKCksaD1HKGUsXCJwYXR0ZXJuXCIpfHxcImxpbmUtZGFzaGFycmF5XCI9PT1lO3JldHVybiBjfHxzfHxofHx0aGlzLl9oYW5kbGVPdmVycmlkYWJsZVBhaW50UHJvcGVydHlVcGRhdGUoZSxhLGwpfV9oYW5kbGVTcGVjaWFsUGFpbnRQcm9wZXJ0eVVwZGF0ZShlKXt9Z2V0UHJvZ3JhbUlkcygpe3JldHVybiBudWxsfWdldERlZmF1bHRQcm9ncmFtUGFyYW1zKGUsdCl7cmV0dXJuIG51bGx9X2hhbmRsZU92ZXJyaWRhYmxlUGFpbnRQcm9wZXJ0eVVwZGF0ZShlLHQsaSl7cmV0dXJuICExfWlzSGlkZGVuKGUpe3JldHVybiAhISh0aGlzLm1pbnpvb20mJmU8dGhpcy5taW56b29tKXx8ISEodGhpcy5tYXh6b29tJiZlPj10aGlzLm1heHpvb20pfHxcIm5vbmVcIj09PXRoaXMudmlzaWJpbGl0eX11cGRhdGVUcmFuc2l0aW9ucyhlKXt0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQ9dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC50cmFuc2l0aW9uZWQoZSx0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQpO31oYXNUcmFuc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25pbmdQYWludC5oYXNUcmFuc2l0aW9uKCl9cmVjYWxjdWxhdGUoZSx0KXt0aGlzLl91bmV2YWx1YXRlZExheW91dCYmKHRoaXMubGF5b3V0PXRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0LnBvc3NpYmx5RXZhbHVhdGUoZSx2b2lkIDAsdCkpLHRoaXMucGFpbnQ9dGhpcy5fdHJhbnNpdGlvbmluZ1BhaW50LnBvc3NpYmx5RXZhbHVhdGUoZSx2b2lkIDAsdCk7fXNlcmlhbGl6ZSgpe3JldHVybiBaKHtpZDp0aGlzLmlkLHR5cGU6dGhpcy50eXBlLHNsb3Q6dGhpcy5zbG90LHNvdXJjZTp0aGlzLnNvdXJjZSxcInNvdXJjZS1sYXllclwiOnRoaXMuc291cmNlTGF5ZXIsbWV0YWRhdGE6dGhpcy5tZXRhZGF0YSxtaW56b29tOnRoaXMubWluem9vbSxtYXh6b29tOnRoaXMubWF4em9vbSxmaWx0ZXI6dGhpcy5maWx0ZXIsbGF5b3V0OnRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0JiZ0aGlzLl91bmV2YWx1YXRlZExheW91dC5zZXJpYWxpemUoKSxwYWludDp0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50JiZ0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LnNlcmlhbGl6ZSgpfSwoKGUsdCk9PiEodm9pZCAwPT09ZXx8XCJsYXlvdXRcIj09PXQmJiFPYmplY3Qua2V5cyhlKS5sZW5ndGh8fFwicGFpbnRcIj09PXQmJiFPYmplY3Qua2V5cyhlKS5sZW5ndGgpKSl9X3ZhbGlkYXRlKGUsdCxpLHIsbj17fSl7cmV0dXJuICghbnx8ITEhPT1uLnZhbGlkYXRlKSYmd3ModGhpcyxlLmNhbGwoaHMse2tleTp0LGxheWVyVHlwZTp0aGlzLnR5cGUsb2JqZWN0S2V5OmksdmFsdWU6cixzdHlsZVNwZWM6Q3Qsc3R5bGU6e2dseXBoczohMCxzcHJpdGU6ITB9fSkpfWlzM0QoKXtyZXR1cm4gITF9aXNTa3koKXtyZXR1cm4gITF9aXNUaWxlQ2xpcHBlZCgpe3JldHVybiAhMX1oYXNPZmZzY3JlZW5QYXNzKCl7cmV0dXJuICExfWhhc1NoYWRvd1Bhc3MoKXtyZXR1cm4gITF9Y2FuQ2FzdFNoYWRvd3MoKXtyZXR1cm4gITF9aGFzTGlnaHRCZWFtUGFzcygpe3JldHVybiAhMX1jdXRvZmZSYW5nZSgpe3JldHVybiAwfXJlc2l6ZSgpe31pc1N0YXRlRGVwZW5kZW50KCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5wYWludC5fdmFsdWVzKXtjb25zdCB0PXRoaXMucGFpbnQuZ2V0KGUpO2lmKHQgaW5zdGFuY2VvZiBhYSYmbm8odC5wcm9wZXJ0eS5zcGVjaWZpY2F0aW9uKSYmKFwic291cmNlXCI9PT10LnZhbHVlLmtpbmR8fFwiY29tcG9zaXRlXCI9PT10LnZhbHVlLmtpbmQpJiZ0LnZhbHVlLmlzU3RhdGVEZXBlbmRlbnQpcmV0dXJuICEwfXJldHVybiAhMX1jb21waWxlRmlsdGVyKCl7dGhpcy5fZmlsdGVyQ29tcGlsZWR8fCh0aGlzLl9mZWF0dXJlRmlsdGVyPVJvKHRoaXMuZmlsdGVyKSx0aGlzLl9maWx0ZXJDb21waWxlZD0hMCk7fWludmFsaWRhdGVDb21waWxlZEZpbHRlcigpe3RoaXMuX2ZpbHRlckNvbXBpbGVkPSExO31keW5hbWljRmlsdGVyKCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVGaWx0ZXIuZHluYW1pY0ZpbHRlcn1keW5hbWljRmlsdGVyTmVlZHNGZWF0dXJlKCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVGaWx0ZXIubmVlZEZlYXR1cmV9fWNsYXNzIGdhe2NvbnN0cnVjdG9yKCl7dGhpcy5jaGFuZ2VkPSExLHRoaXMuX3VwZGF0ZWRMYXllcnM9e30sdGhpcy5fcmVtb3ZlZExheWVycz17fSx0aGlzLnVwZGF0ZWRTb3VyY2VDYWNoZXM9e30sdGhpcy51cGRhdGVkUGFpbnRQcm9wcz1uZXcgU2V0LHRoaXMuY2hhbmdlZEltYWdlcz1uZXcgU2V0O311cGRhdGVMYXllcihlKXtjb25zdCB0PWUuc2NvcGU7dGhpcy5fdXBkYXRlZExheWVyc1t0XT10aGlzLl91cGRhdGVkTGF5ZXJzW3RdfHxuZXcgU2V0LHRoaXMuX3VwZGF0ZWRMYXllcnNbdF0uYWRkKGUuaWQpO31yZW1vdmVMYXllcihlKXtjb25zdCB0PWUuc2NvcGU7dGhpcy5fcmVtb3ZlZExheWVyc1t0XT10aGlzLl9yZW1vdmVkTGF5ZXJzW3RdfHx7fSx0aGlzLl91cGRhdGVkTGF5ZXJzW3RdPXRoaXMuX3VwZGF0ZWRMYXllcnNbdF18fG5ldyBTZXQsdGhpcy5fcmVtb3ZlZExheWVyc1t0XVtlLmlkXT1lLHRoaXMuX3VwZGF0ZWRMYXllcnNbdF0uZGVsZXRlKGUuaWQpLHRoaXMudXBkYXRlZFBhaW50UHJvcHMuZGVsZXRlKGUuZnFpZCk7fWdldFJlbW92ZWRMYXllcihlKXtyZXR1cm4gdGhpcy5fcmVtb3ZlZExheWVyc1tlLnNjb3BlXT90aGlzLl9yZW1vdmVkTGF5ZXJzW2Uuc2NvcGVdW2UuaWRdOm51bGx9ZGlzY2FyZExheWVyUmVtb3ZhbChlKXt0aGlzLl9yZW1vdmVkTGF5ZXJzW2Uuc2NvcGVdJiZkZWxldGUgdGhpcy5fcmVtb3ZlZExheWVyc1tlLnNjb3BlXVtlLmlkXTt9Z2V0TGF5ZXJVcGRhdGVzQnlTY29wZSgpe2NvbnN0IGU9e307Zm9yKGNvbnN0IHQgaW4gdGhpcy5fdXBkYXRlZExheWVycyllW3RdPWVbdF18fHt9LGVbdF0udXBkYXRlZElkcz1BcnJheS5mcm9tKHRoaXMuX3VwZGF0ZWRMYXllcnNbdF0udmFsdWVzKCkpO2Zvcihjb25zdCB0IGluIHRoaXMuX3JlbW92ZWRMYXllcnMpZVt0XT1lW3RdfHx7fSxlW3RdLnJlbW92ZWRJZHM9T2JqZWN0LmtleXModGhpcy5fcmVtb3ZlZExheWVyc1t0XSk7cmV0dXJuIGV9cmVzZXQoKXt0aGlzLmNoYW5nZWQ9ITEsdGhpcy5fdXBkYXRlZExheWVycz17fSx0aGlzLl9yZW1vdmVkTGF5ZXJzPXt9LHRoaXMudXBkYXRlZFNvdXJjZUNhY2hlcz17fSx0aGlzLnVwZGF0ZWRQYWludFByb3BzLmNsZWFyKCksdGhpcy5jaGFuZ2VkSW1hZ2VzLmNsZWFyKCk7fX1jb25zdCB5YT17SW50ODpJbnQ4QXJyYXksVWludDg6VWludDhBcnJheSxJbnQxNjpJbnQxNkFycmF5LFVpbnQxNjpVaW50MTZBcnJheSxJbnQzMjpJbnQzMkFycmF5LFVpbnQzMjpVaW50MzJBcnJheSxGbG9hdDMyOkZsb2F0MzJBcnJheX07Y2xhc3MgeGF7Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9zdHJ1Y3RBcnJheT1lLHRoaXMuX3BvczE9dCp0aGlzLnNpemUsdGhpcy5fcG9zMj10aGlzLl9wb3MxLzIsdGhpcy5fcG9zND10aGlzLl9wb3MxLzQsdGhpcy5fcG9zOD10aGlzLl9wb3MxLzg7fX1jbGFzcyB2YXtjb25zdHJ1Y3Rvcigpe3RoaXMuaXNUcmFuc2ZlcnJlZD0hMSx0aGlzLmNhcGFjaXR5PS0xLHRoaXMucmVzaXplKDApO31zdGF0aWMgc2VyaWFsaXplKGUsdCl7cmV0dXJuIGUuX3RyaW0oKSx0JiYoZS5pc1RyYW5zZmVycmVkPSEwLHQuYWRkKGUuYXJyYXlCdWZmZXIpKSx7bGVuZ3RoOmUubGVuZ3RoLGFycmF5QnVmZmVyOmUuYXJyYXlCdWZmZXJ9fXN0YXRpYyBkZXNlcmlhbGl6ZShlKXtjb25zdCB0PU9iamVjdC5jcmVhdGUodGhpcy5wcm90b3R5cGUpO3JldHVybiB0LmFycmF5QnVmZmVyPWUuYXJyYXlCdWZmZXIsdC5sZW5ndGg9ZS5sZW5ndGgsdC5jYXBhY2l0eT1lLmFycmF5QnVmZmVyLmJ5dGVMZW5ndGgvdC5ieXRlc1BlckVsZW1lbnQsdC5fcmVmcmVzaFZpZXdzKCksdH1fdHJpbSgpe3RoaXMubGVuZ3RoIT09dGhpcy5jYXBhY2l0eSYmKHRoaXMuY2FwYWNpdHk9dGhpcy5sZW5ndGgsdGhpcy5hcnJheUJ1ZmZlcj10aGlzLmFycmF5QnVmZmVyLnNsaWNlKDAsdGhpcy5sZW5ndGgqdGhpcy5ieXRlc1BlckVsZW1lbnQpLHRoaXMuX3JlZnJlc2hWaWV3cygpKTt9Y2xlYXIoKXt0aGlzLmxlbmd0aD0wO31yZXNpemUoZSl7dGhpcy5yZXNlcnZlKGUpLHRoaXMubGVuZ3RoPWU7fXJlc2VydmUoZSl7aWYoZT50aGlzLmNhcGFjaXR5KXt0aGlzLmNhcGFjaXR5PU1hdGgubWF4KGUsTWF0aC5mbG9vcig1KnRoaXMuY2FwYWNpdHkpLDEyOCksdGhpcy5hcnJheUJ1ZmZlcj1uZXcgQXJyYXlCdWZmZXIodGhpcy5jYXBhY2l0eSp0aGlzLmJ5dGVzUGVyRWxlbWVudCk7Y29uc3QgdD10aGlzLnVpbnQ4O3RoaXMuX3JlZnJlc2hWaWV3cygpLHQmJnRoaXMudWludDguc2V0KHQpO319X3JlZnJlc2hWaWV3cygpe3Rocm93IG5ldyBFcnJvcihcIl9yZWZyZXNoVmlld3MoKSBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggY29uY3JldGUgU3RydWN0QXJyYXkgbGF5b3V0XCIpfWRlc3Ryb3koKXt0aGlzLmludDg9dGhpcy51aW50OD10aGlzLmludDE2PXRoaXMudWludDE2PXRoaXMuaW50MzI9dGhpcy51aW50MzI9dGhpcy5mbG9hdDMyPW51bGwsdGhpcy5hcnJheUJ1ZmZlcj1udWxsO319ZnVuY3Rpb24gYmEoZSx0PTEpe2xldCBpPTAscj0wO3JldHVybiB7bWVtYmVyczplLm1hcCgoZT0+e2NvbnN0IG49eWFbZS50eXBlXS5CWVRFU19QRVJfRUxFTUVOVCxvPWk9d2EoaSxNYXRoLm1heCh0LG4pKSxzPWUuY29tcG9uZW50c3x8MTtyZXR1cm4gcj1NYXRoLm1heChyLG4pLGkrPW4qcyx7bmFtZTplLm5hbWUsdHlwZTplLnR5cGUsY29tcG9uZW50czpzLG9mZnNldDpvfX0pKSxzaXplOndhKGksTWF0aC5tYXgocix0KSksYWxpZ25tZW50OnR9fWZ1bmN0aW9uIHdhKGUsdCl7cmV0dXJuIE1hdGguY2VpbChlL3QpKnR9Y2xhc3MgVGEgZXh0ZW5kcyB2YXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayhlLHQpe2NvbnN0IGk9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGkrMSksdGhpcy5lbXBsYWNlKGksZSx0KX1lbXBsYWNlKGUsdCxpKXtjb25zdCByPTIqZTtyZXR1cm4gdGhpcy5pbnQxNltyKzBdPXQsdGhpcy5pbnQxNltyKzFdPWksZX19VGEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD00LElzKFRhLFwiU3RydWN0QXJyYXlMYXlvdXQyaTRcIik7Y2xhc3MgRWEgZXh0ZW5kcyB2YXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayhlLHQsaSl7Y29uc3Qgcj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocisxKSx0aGlzLmVtcGxhY2UocixlLHQsaSl9ZW1wbGFjZShlLHQsaSxyKXtjb25zdCBuPTMqZTtyZXR1cm4gdGhpcy5pbnQxNltuKzBdPXQsdGhpcy5pbnQxNltuKzFdPWksdGhpcy5pbnQxNltuKzJdPXIsZX19RWEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD02LElzKEVhLFwiU3RydWN0QXJyYXlMYXlvdXQzaTZcIik7Y2xhc3MgTWEgZXh0ZW5kcyB2YXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayhlLHQsaSxyKXtjb25zdCBuPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShuKzEpLHRoaXMuZW1wbGFjZShuLGUsdCxpLHIpfWVtcGxhY2UoZSx0LGkscixuKXtjb25zdCBvPTQqZTtyZXR1cm4gdGhpcy5pbnQxNltvKzBdPXQsdGhpcy5pbnQxNltvKzFdPWksdGhpcy5pbnQxNltvKzJdPXIsdGhpcy5pbnQxNltvKzNdPW4sZX19TWEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD04LElzKE1hLFwiU3RydWN0QXJyYXlMYXlvdXQ0aThcIik7Y2xhc3MgQWEgZXh0ZW5kcyB2YXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayhlLHQsaSxyLG4pe2NvbnN0IG89dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG8rMSksdGhpcy5lbXBsYWNlKG8sZSx0LGkscixuKX1lbXBsYWNlKGUsdCxpLHIsbixvKXtjb25zdCBzPTUqZTtyZXR1cm4gdGhpcy5pbnQxNltzKzBdPXQsdGhpcy5pbnQxNltzKzFdPWksdGhpcy5pbnQxNltzKzJdPXIsdGhpcy5pbnQxNltzKzNdPW4sdGhpcy5pbnQxNltzKzRdPW8sZX19QWEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xMCxJcyhBYSxcIlN0cnVjdEFycmF5TGF5b3V0NWkxMFwiKTtjbGFzcyBTYSBleHRlbmRzIHZhe19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKGUsdCxpLHIsbixvLHMpe2NvbnN0IGE9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGErMSksdGhpcy5lbXBsYWNlKGEsZSx0LGkscixuLG8scyl9ZW1wbGFjZShlLHQsaSxyLG4sbyxzLGEpe2NvbnN0IGw9NiplLGM9MTIqZSxoPTMqZTtyZXR1cm4gdGhpcy5pbnQxNltsKzBdPXQsdGhpcy5pbnQxNltsKzFdPWksdGhpcy51aW50OFtjKzRdPXIsdGhpcy51aW50OFtjKzVdPW4sdGhpcy51aW50OFtjKzZdPW8sdGhpcy51aW50OFtjKzddPXMsdGhpcy5mbG9hdDMyW2grMl09YSxlfX1TYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTEyLElzKFNhLFwiU3RydWN0QXJyYXlMYXlvdXQyaTR1YjFmMTJcIik7Y2xhc3MgSWEgZXh0ZW5kcyB2YXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSx0LGkscil7Y29uc3Qgbj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUobisxKSx0aGlzLmVtcGxhY2UobixlLHQsaSxyKX1lbXBsYWNlKGUsdCxpLHIsbil7Y29uc3Qgbz00KmU7cmV0dXJuIHRoaXMuZmxvYXQzMltvKzBdPXQsdGhpcy5mbG9hdDMyW28rMV09aSx0aGlzLmZsb2F0MzJbbysyXT1yLHRoaXMuZmxvYXQzMltvKzNdPW4sZX19SWEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xNixJcyhJYSxcIlN0cnVjdEFycmF5TGF5b3V0NGYxNlwiKTtjbGFzcyBDYSBleHRlbmRzIHZhe19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSx0LGkscixuKXtjb25zdCBvPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShvKzEpLHRoaXMuZW1wbGFjZShvLGUsdCxpLHIsbil9ZW1wbGFjZShlLHQsaSxyLG4sbyl7Y29uc3Qgcz02KmUsYT0zKmU7cmV0dXJuIHRoaXMudWludDE2W3MrMF09dCx0aGlzLnVpbnQxNltzKzFdPWksdGhpcy51aW50MTZbcysyXT1yLHRoaXMudWludDE2W3MrM109bix0aGlzLmZsb2F0MzJbYSsyXT1vLGV9fUNhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTIsSXMoQ2EsXCJTdHJ1Y3RBcnJheUxheW91dDR1aTFmMTJcIik7Y2xhc3MgemEgZXh0ZW5kcyB2YXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKGUsdCxpLHIpe2NvbnN0IG49dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG4rMSksdGhpcy5lbXBsYWNlKG4sZSx0LGkscil9ZW1wbGFjZShlLHQsaSxyLG4pe2NvbnN0IG89NCplO3JldHVybiB0aGlzLnVpbnQxNltvKzBdPXQsdGhpcy51aW50MTZbbysxXT1pLHRoaXMudWludDE2W28rMl09cix0aGlzLnVpbnQxNltvKzNdPW4sZX19emEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD04LElzKHphLFwiU3RydWN0QXJyYXlMYXlvdXQ0dWk4XCIpO2NsYXNzIERhIGV4dGVuZHMgdmF7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSx0LGkscixuLG8pe2NvbnN0IHM9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKHMrMSksdGhpcy5lbXBsYWNlKHMsZSx0LGkscixuLG8pfWVtcGxhY2UoZSx0LGkscixuLG8scyl7Y29uc3QgYT02KmU7cmV0dXJuIHRoaXMuaW50MTZbYSswXT10LHRoaXMuaW50MTZbYSsxXT1pLHRoaXMuaW50MTZbYSsyXT1yLHRoaXMuaW50MTZbYSszXT1uLHRoaXMuaW50MTZbYSs0XT1vLHRoaXMuaW50MTZbYSs1XT1zLGV9fURhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTIsSXMoRGEsXCJTdHJ1Y3RBcnJheUxheW91dDZpMTJcIik7Y2xhc3MgUGEgZXh0ZW5kcyB2YXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSx0LGkscixuLG8scyxhLGwsYyxoLHUpe2NvbnN0IGQ9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGQrMSksdGhpcy5lbXBsYWNlKGQsZSx0LGkscixuLG8scyxhLGwsYyxoLHUpfWVtcGxhY2UoZSx0LGkscixuLG8scyxhLGwsYyxoLHUsZCl7Y29uc3QgcD0xMiplO3JldHVybiB0aGlzLmludDE2W3ArMF09dCx0aGlzLmludDE2W3ArMV09aSx0aGlzLmludDE2W3ArMl09cix0aGlzLmludDE2W3ArM109bix0aGlzLnVpbnQxNltwKzRdPW8sdGhpcy51aW50MTZbcCs1XT1zLHRoaXMudWludDE2W3ArNl09YSx0aGlzLnVpbnQxNltwKzddPWwsdGhpcy5pbnQxNltwKzhdPWMsdGhpcy5pbnQxNltwKzldPWgsdGhpcy5pbnQxNltwKzEwXT11LHRoaXMuaW50MTZbcCsxMV09ZCxlfX1QYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTI0LElzKFBhLFwiU3RydWN0QXJyYXlMYXlvdXQ0aTR1aTRpMjRcIik7Y2xhc3MgUmEgZXh0ZW5kcyB2YXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayhlLHQsaSxyLG4sbyl7Y29uc3Qgcz10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocysxKSx0aGlzLmVtcGxhY2UocyxlLHQsaSxyLG4sbyl9ZW1wbGFjZShlLHQsaSxyLG4sbyxzKXtjb25zdCBhPTEwKmUsbD01KmU7cmV0dXJuIHRoaXMuaW50MTZbYSswXT10LHRoaXMuaW50MTZbYSsxXT1pLHRoaXMuaW50MTZbYSsyXT1yLHRoaXMuZmxvYXQzMltsKzJdPW4sdGhpcy5mbG9hdDMyW2wrM109byx0aGlzLmZsb2F0MzJbbCs0XT1zLGV9fVJhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MjAsSXMoUmEsXCJTdHJ1Y3RBcnJheUxheW91dDNpM2YyMFwiKTtjbGFzcyBMYSBleHRlbmRzIHZhe19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSl7Y29uc3QgdD10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUodCsxKSx0aGlzLmVtcGxhY2UodCxlKX1lbXBsYWNlKGUsdCl7cmV0dXJuIHRoaXMudWludDMyWzEqZSswXT10LGV9fUxhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NCxJcyhMYSxcIlN0cnVjdEFycmF5TGF5b3V0MXVsNFwiKTtjbGFzcyBrYSBleHRlbmRzIHZhe19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSx0KXtjb25zdCBpPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShpKzEpLHRoaXMuZW1wbGFjZShpLGUsdCl9ZW1wbGFjZShlLHQsaSl7Y29uc3Qgcj0yKmU7cmV0dXJuIHRoaXMudWludDE2W3IrMF09dCx0aGlzLnVpbnQxNltyKzFdPWksZX19a2EucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD00LElzKGthLFwiU3RydWN0QXJyYXlMYXlvdXQydWk0XCIpO2NsYXNzIE9hIGV4dGVuZHMgdmF7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQzMj1uZXcgVWludDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayhlLHQsaSxyLG4sbyxzLGEsbCxjLGgsdSxkKXtjb25zdCBwPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShwKzEpLHRoaXMuZW1wbGFjZShwLGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQpfWVtcGxhY2UoZSx0LGkscixuLG8scyxhLGwsYyxoLHUsZCxwKXtjb25zdCBmPTIwKmUsbT0xMCplO3JldHVybiB0aGlzLmludDE2W2YrMF09dCx0aGlzLmludDE2W2YrMV09aSx0aGlzLmludDE2W2YrMl09cix0aGlzLmludDE2W2YrM109bix0aGlzLmludDE2W2YrNF09byx0aGlzLmZsb2F0MzJbbSszXT1zLHRoaXMuZmxvYXQzMlttKzRdPWEsdGhpcy5mbG9hdDMyW20rNV09bCx0aGlzLmZsb2F0MzJbbSs2XT1jLHRoaXMuaW50MTZbZisxNF09aCx0aGlzLnVpbnQzMlttKzhdPXUsdGhpcy51aW50MTZbZisxOF09ZCx0aGlzLnVpbnQxNltmKzE5XT1wLGV9fU9hLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NDAsSXMoT2EsXCJTdHJ1Y3RBcnJheUxheW91dDVpNGYxaTF1bDJ1aTQwXCIpO2NsYXNzIEJhIGV4dGVuZHMgdmF7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSx0LGkscixuLG8scyl7Y29uc3QgYT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoYSsxKSx0aGlzLmVtcGxhY2UoYSxlLHQsaSxyLG4sbyxzKX1lbXBsYWNlKGUsdCxpLHIsbixvLHMsYSl7Y29uc3QgbD04KmU7cmV0dXJuIHRoaXMuaW50MTZbbCswXT10LHRoaXMuaW50MTZbbCsxXT1pLHRoaXMuaW50MTZbbCsyXT1yLHRoaXMuaW50MTZbbCs0XT1uLHRoaXMuaW50MTZbbCs1XT1vLHRoaXMuaW50MTZbbCs2XT1zLHRoaXMuaW50MTZbbCs3XT1hLGV9fUJhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTYsSXMoQmEsXCJTdHJ1Y3RBcnJheUxheW91dDNpMmkyaTE2XCIpO2NsYXNzIEZhIGV4dGVuZHMgdmF7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSx0LGkscixuKXtjb25zdCBvPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShvKzEpLHRoaXMuZW1wbGFjZShvLGUsdCxpLHIsbil9ZW1wbGFjZShlLHQsaSxyLG4sbyl7Y29uc3Qgcz00KmUsYT04KmU7cmV0dXJuIHRoaXMuZmxvYXQzMltzKzBdPXQsdGhpcy5mbG9hdDMyW3MrMV09aSx0aGlzLmZsb2F0MzJbcysyXT1yLHRoaXMuaW50MTZbYSs2XT1uLHRoaXMuaW50MTZbYSs3XT1vLGV9fUZhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTYsSXMoRmEsXCJTdHJ1Y3RBcnJheUxheW91dDJmMWYyaTE2XCIpO2NsYXNzIE5hIGV4dGVuZHMgdmF7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKGUsdCxpLHIpe2NvbnN0IG49dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG4rMSksdGhpcy5lbXBsYWNlKG4sZSx0LGkscil9ZW1wbGFjZShlLHQsaSxyLG4pe2NvbnN0IG89MTIqZSxzPTMqZTtyZXR1cm4gdGhpcy51aW50OFtvKzBdPXQsdGhpcy51aW50OFtvKzFdPWksdGhpcy5mbG9hdDMyW3MrMV09cix0aGlzLmZsb2F0MzJbcysyXT1uLGV9fU5hLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTIsSXMoTmEsXCJTdHJ1Y3RBcnJheUxheW91dDJ1YjJmMTJcIik7Y2xhc3MgVWEgZXh0ZW5kcyB2YXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSx0LGkpe2NvbnN0IHI9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKHIrMSksdGhpcy5lbXBsYWNlKHIsZSx0LGkpfWVtcGxhY2UoZSx0LGkscil7Y29uc3Qgbj0zKmU7cmV0dXJuIHRoaXMuZmxvYXQzMltuKzBdPXQsdGhpcy5mbG9hdDMyW24rMV09aSx0aGlzLmZsb2F0MzJbbisyXT1yLGV9fVVhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTIsSXMoVWEsXCJTdHJ1Y3RBcnJheUxheW91dDNmMTJcIik7Y2xhc3MgVmEgZXh0ZW5kcyB2YXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKGUsdCxpKXtjb25zdCByPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShyKzEpLHRoaXMuZW1wbGFjZShyLGUsdCxpKX1lbXBsYWNlKGUsdCxpLHIpe2NvbnN0IG49MyplO3JldHVybiB0aGlzLnVpbnQxNltuKzBdPXQsdGhpcy51aW50MTZbbisxXT1pLHRoaXMudWludDE2W24rMl09cixlfX1WYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTYsSXMoVmEsXCJTdHJ1Y3RBcnJheUxheW91dDN1aTZcIik7Y2xhc3MgamEgZXh0ZW5kcyB2YXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQzMj1uZXcgVWludDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQscCxmLG0sXyxnLHkseCx2KXtjb25zdCBiPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShiKzEpLHRoaXMuZW1wbGFjZShiLGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQscCxmLG0sXyxnLHkseCx2KX1lbXBsYWNlKGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQscCxmLG0sXyxnLHkseCx2LGIpe2NvbnN0IHc9MzAqZSxUPTE1KmUsRT02MCplO3JldHVybiB0aGlzLmludDE2W3crMF09dCx0aGlzLmludDE2W3crMV09aSx0aGlzLmludDE2W3crMl09cix0aGlzLmZsb2F0MzJbVCsyXT1uLHRoaXMuZmxvYXQzMltUKzNdPW8sdGhpcy51aW50MTZbdys4XT1zLHRoaXMudWludDE2W3crOV09YSx0aGlzLnVpbnQzMltUKzVdPWwsdGhpcy51aW50MzJbVCs2XT1jLHRoaXMudWludDMyW1QrN109aCx0aGlzLnVpbnQxNlt3KzE2XT11LHRoaXMudWludDE2W3crMTddPWQsdGhpcy51aW50MTZbdysxOF09cCx0aGlzLmZsb2F0MzJbVCsxMF09Zix0aGlzLmZsb2F0MzJbVCsxMV09bSx0aGlzLnVpbnQ4W0UrNDhdPV8sdGhpcy51aW50OFtFKzQ5XT1nLHRoaXMudWludDhbRSs1MF09eSx0aGlzLnVpbnQzMltUKzEzXT14LHRoaXMuaW50MTZbdysyOF09dix0aGlzLnVpbnQ4W0UrNThdPWIsZX19amEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD02MCxJcyhqYSxcIlN0cnVjdEFycmF5TGF5b3V0M2kyZjJ1aTN1bDN1aTJmM3ViMXVsMWkxdWI2MFwiKTtjbGFzcyBHYSBleHRlbmRzIHZhe19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSx0LGkscixuLG8scyxhLGwsYyxoLHUsZCxwLGYsbSxfLGcseSx4LHYsYix3LFQsRSxNLEEsUyxJLEMseixEKXtjb25zdCBQPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShQKzEpLHRoaXMuZW1wbGFjZShQLGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQscCxmLG0sXyxnLHkseCx2LGIsdyxULEUsTSxBLFMsSSxDLHosRCl9ZW1wbGFjZShlLHQsaSxyLG4sbyxzLGEsbCxjLGgsdSxkLHAsZixtLF8sZyx5LHgsdixiLHcsVCxFLE0sQSxTLEksQyx6LEQsUCl7Y29uc3QgUj0yMCplLEw9NDAqZSxrPTgwKmU7cmV0dXJuIHRoaXMuZmxvYXQzMltSKzBdPXQsdGhpcy5mbG9hdDMyW1IrMV09aSx0aGlzLmludDE2W0wrNF09cix0aGlzLmludDE2W0wrNV09bix0aGlzLmludDE2W0wrNl09byx0aGlzLmludDE2W0wrN109cyx0aGlzLmludDE2W0wrOF09YSx0aGlzLmludDE2W0wrOV09bCx0aGlzLmludDE2W0wrMTBdPWMsdGhpcy5pbnQxNltMKzExXT1oLHRoaXMuaW50MTZbTCsxMl09dSx0aGlzLnVpbnQxNltMKzEzXT1kLHRoaXMudWludDE2W0wrMTRdPXAsdGhpcy51aW50MTZbTCsxNV09Zix0aGlzLnVpbnQxNltMKzE2XT1tLHRoaXMudWludDE2W0wrMTddPV8sdGhpcy51aW50MTZbTCsxOF09Zyx0aGlzLnVpbnQxNltMKzE5XT15LHRoaXMudWludDE2W0wrMjBdPXgsdGhpcy51aW50MTZbTCsyMV09dix0aGlzLnVpbnQxNltMKzIyXT1iLHRoaXMudWludDE2W0wrMjNdPXcsdGhpcy51aW50MTZbTCsyNF09VCx0aGlzLnVpbnQxNltMKzI1XT1FLHRoaXMudWludDE2W0wrMjZdPU0sdGhpcy51aW50MTZbTCsyN109QSx0aGlzLnVpbnQzMltSKzE0XT1TLHRoaXMuZmxvYXQzMltSKzE1XT1JLHRoaXMuZmxvYXQzMltSKzE2XT1DLHRoaXMuZmxvYXQzMltSKzE3XT16LHRoaXMuZmxvYXQzMltSKzE4XT1ELHRoaXMudWludDhbays3Nl09UCxlfX1HYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTgwLElzKEdhLFwiU3RydWN0QXJyYXlMYXlvdXQyZjlpMTV1aTF1bDRmMXViODBcIik7Y2xhc3MgcWEgZXh0ZW5kcyB2YXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSl7Y29uc3QgdD10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUodCsxKSx0aGlzLmVtcGxhY2UodCxlKX1lbXBsYWNlKGUsdCl7cmV0dXJuIHRoaXMuZmxvYXQzMlsxKmUrMF09dCxlfX1xYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTQsSXMocWEsXCJTdHJ1Y3RBcnJheUxheW91dDFmNFwiKTtjbGFzcyBaYSBleHRlbmRzIHZhe19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayhlLHQsaSxyLG4pe2NvbnN0IG89dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG8rMSksdGhpcy5lbXBsYWNlKG8sZSx0LGkscixuKX1lbXBsYWNlKGUsdCxpLHIsbixvKXtjb25zdCBzPTUqZTtyZXR1cm4gdGhpcy5mbG9hdDMyW3MrMF09dCx0aGlzLmZsb2F0MzJbcysxXT1pLHRoaXMuZmxvYXQzMltzKzJdPXIsdGhpcy5mbG9hdDMyW3MrM109bix0aGlzLmZsb2F0MzJbcys0XT1vLGV9fVphLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MjAsSXMoWmEsXCJTdHJ1Y3RBcnJheUxheW91dDVmMjBcIik7Y2xhc3MgJGEgZXh0ZW5kcyB2YXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSx0LGkscixuLG8scyl7Y29uc3QgYT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoYSsxKSx0aGlzLmVtcGxhY2UoYSxlLHQsaSxyLG4sbyxzKX1lbXBsYWNlKGUsdCxpLHIsbixvLHMsYSl7Y29uc3QgbD03KmU7cmV0dXJuIHRoaXMuZmxvYXQzMltsKzBdPXQsdGhpcy5mbG9hdDMyW2wrMV09aSx0aGlzLmZsb2F0MzJbbCsyXT1yLHRoaXMuZmxvYXQzMltsKzNdPW4sdGhpcy5mbG9hdDMyW2wrNF09byx0aGlzLmZsb2F0MzJbbCs1XT1zLHRoaXMuZmxvYXQzMltsKzZdPWEsZX19JGEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0yOCxJcygkYSxcIlN0cnVjdEFycmF5TGF5b3V0N2YyOFwiKTtjbGFzcyBIYSBleHRlbmRzIHZhe19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKGUsdCxpLHIpe2NvbnN0IG49dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG4rMSksdGhpcy5lbXBsYWNlKG4sZSx0LGkscil9ZW1wbGFjZShlLHQsaSxyLG4pe2NvbnN0IG89NiplO3JldHVybiB0aGlzLnVpbnQzMlszKmUrMF09dCx0aGlzLnVpbnQxNltvKzJdPWksdGhpcy51aW50MTZbbyszXT1yLHRoaXMudWludDE2W28rNF09bixlfX1IYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTEyLElzKEhhLFwiU3RydWN0QXJyYXlMYXlvdXQxdWwzdWkxMlwiKTtjbGFzcyBXYSBleHRlbmRzIHZhe19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSl7Y29uc3QgdD10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUodCsxKSx0aGlzLmVtcGxhY2UodCxlKX1lbXBsYWNlKGUsdCl7cmV0dXJuIHRoaXMudWludDE2WzEqZSswXT10LGV9fVdhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MixJcyhXYSxcIlN0cnVjdEFycmF5TGF5b3V0MXVpMlwiKTtjbGFzcyBYYSBleHRlbmRzIHZhe19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayhlLHQpe2NvbnN0IGk9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGkrMSksdGhpcy5lbXBsYWNlKGksZSx0KX1lbXBsYWNlKGUsdCxpKXtjb25zdCByPTIqZTtyZXR1cm4gdGhpcy5mbG9hdDMyW3IrMF09dCx0aGlzLmZsb2F0MzJbcisxXT1pLGV9fVhhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9OCxJcyhYYSxcIlN0cnVjdEFycmF5TGF5b3V0MmY4XCIpO2NsYXNzIFlhIGV4dGVuZHMgdmF7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQscCxmLG0pe2NvbnN0IF89dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKF8rMSksdGhpcy5lbXBsYWNlKF8sZSx0LGkscixuLG8scyxhLGwsYyxoLHUsZCxwLGYsbSl9ZW1wbGFjZShlLHQsaSxyLG4sbyxzLGEsbCxjLGgsdSxkLHAsZixtLF8pe2NvbnN0IGc9MTYqZTtyZXR1cm4gdGhpcy5mbG9hdDMyW2crMF09dCx0aGlzLmZsb2F0MzJbZysxXT1pLHRoaXMuZmxvYXQzMltnKzJdPXIsdGhpcy5mbG9hdDMyW2crM109bix0aGlzLmZsb2F0MzJbZys0XT1vLHRoaXMuZmxvYXQzMltnKzVdPXMsdGhpcy5mbG9hdDMyW2crNl09YSx0aGlzLmZsb2F0MzJbZys3XT1sLHRoaXMuZmxvYXQzMltnKzhdPWMsdGhpcy5mbG9hdDMyW2crOV09aCx0aGlzLmZsb2F0MzJbZysxMF09dSx0aGlzLmZsb2F0MzJbZysxMV09ZCx0aGlzLmZsb2F0MzJbZysxMl09cCx0aGlzLmZsb2F0MzJbZysxM109Zix0aGlzLmZsb2F0MzJbZysxNF09bSx0aGlzLmZsb2F0MzJbZysxNV09XyxlfX1ZYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTY0LElzKFlhLFwiU3RydWN0QXJyYXlMYXlvdXQxNmY2NFwiKTtjbGFzcyBLYSBleHRlbmRzIHZhe19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSx0LGkscixuLG8scyl7Y29uc3QgYT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoYSsxKSx0aGlzLmVtcGxhY2UoYSxlLHQsaSxyLG4sbyxzKX1lbXBsYWNlKGUsdCxpLHIsbixvLHMsYSl7Y29uc3QgbD0xMCplLGM9NSplO3JldHVybiB0aGlzLnVpbnQxNltsKzBdPXQsdGhpcy51aW50MTZbbCsxXT1pLHRoaXMudWludDE2W2wrMl09cix0aGlzLnVpbnQxNltsKzNdPW4sdGhpcy5mbG9hdDMyW2MrMl09byx0aGlzLmZsb2F0MzJbYyszXT1zLHRoaXMuZmxvYXQzMltjKzRdPWEsZX19S2EucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0yMCxJcyhLYSxcIlN0cnVjdEFycmF5TGF5b3V0NHVpM2YyMFwiKTtjbGFzcyBKYSBleHRlbmRzIHZhe19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayhlKXtjb25zdCB0PXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZSh0KzEpLHRoaXMuZW1wbGFjZSh0LGUpfWVtcGxhY2UoZSx0KXtyZXR1cm4gdGhpcy51aW50OFsxKmUrMF09dCxlfX1KYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTEsSXMoSmEsXCJTdHJ1Y3RBcnJheUxheW91dDF1YjFcIik7Y2xhc3MgUWEgZXh0ZW5kcyB4YXtnZXQgcHJvamVjdGVkQW5jaG9yWCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzBdfWdldCBwcm9qZWN0ZWRBbmNob3JZKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMV19Z2V0IHByb2plY3RlZEFuY2hvclooKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisyXX1nZXQgdGlsZUFuY2hvclgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMiszXX1nZXQgdGlsZUFuY2hvclkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis0XX1nZXQgeDEoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzNdfWdldCB5MSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrNF19Z2V0IHgyKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCs1XX1nZXQgeTIoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzZdfWdldCBwYWRkaW5nKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMTRdfWdldCBmZWF0dXJlSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrOF19Z2V0IHNvdXJjZUxheWVySW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMThdfWdldCBidWNrZXRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxOV19fVFhLnByb3RvdHlwZS5zaXplPTQwO2NsYXNzIGVsIGV4dGVuZHMgT2F7Z2V0KGUpe3JldHVybiBuZXcgUWEodGhpcyxlKX19SXMoZWwsXCJDb2xsaXNpb25Cb3hBcnJheVwiKTtjbGFzcyB0bCBleHRlbmRzIHhhe2dldCBwcm9qZWN0ZWRBbmNob3JYKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMF19Z2V0IHByb2plY3RlZEFuY2hvclkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxXX1nZXQgcHJvamVjdGVkQW5jaG9yWigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzJdfWdldCB0aWxlQW5jaG9yWCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMl19Z2V0IHRpbGVBbmNob3JZKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCszXX1nZXQgZ2x5cGhTdGFydEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzhdfWdldCBudW1HbHlwaHMoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrOV19Z2V0IHZlcnRleFN0YXJ0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrNV19Z2V0IGxpbmVTdGFydEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzZdfWdldCBsaW5lTGVuZ3RoKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzddfWdldCBzZWdtZW50KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE2XX1nZXQgbG93ZXJTaXplKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE3XX1nZXQgdXBwZXJTaXplKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE4XX1nZXQgbGluZU9mZnNldFgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzEwXX1nZXQgbGluZU9mZnNldFkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzExXX1nZXQgd3JpdGluZ01vZGUoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSs0OF19Z2V0IHBsYWNlZE9yaWVudGF0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErNDldfXNldCBwbGFjZWRPcmllbnRhdGlvbihlKXt0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzQ5XT1lO31nZXQgaGlkZGVuKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErNTBdfXNldCBoaWRkZW4oZSl7dGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSs1MF09ZTt9Z2V0IGNyb3NzVGlsZUlEKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzEzXX1zZXQgY3Jvc3NUaWxlSUQoZSl7dGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrMTNdPWU7fWdldCBhc3NvY2lhdGVkSWNvbkluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMjhdfWdldCBmbGlwU3RhdGUoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSs1OF19c2V0IGZsaXBTdGF0ZShlKXt0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzU4XT1lO319dGwucHJvdG90eXBlLnNpemU9NjA7Y2xhc3MgaWwgZXh0ZW5kcyBqYXtnZXQoZSl7cmV0dXJuIG5ldyB0bCh0aGlzLGUpfX1JcyhpbCxcIlBsYWNlZFN5bWJvbEFycmF5XCIpO2NsYXNzIHJsIGV4dGVuZHMgeGF7Z2V0IHRpbGVBbmNob3JYKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCswXX1nZXQgdGlsZUFuY2hvclkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzFdfWdldCBwcm9qZWN0ZWRBbmNob3JYKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrNF19Z2V0IHByb2plY3RlZEFuY2hvclkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis1XX1nZXQgcHJvamVjdGVkQW5jaG9yWigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzZdfWdldCByaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzddfWdldCBjZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis4XX1nZXQgbGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzldfWdldCB2ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzEwXX1nZXQgcGxhY2VkSWNvblN5bWJvbEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMTFdfWdldCB2ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzEyXX1nZXQga2V5KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzEzXX1nZXQgdGV4dEJveFN0YXJ0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTRdfWdldCB0ZXh0Qm94RW5kSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTVdfWdldCB2ZXJ0aWNhbFRleHRCb3hTdGFydEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE2XX1nZXQgdmVydGljYWxUZXh0Qm94RW5kSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTddfWdldCBpY29uQm94U3RhcnRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxOF19Z2V0IGljb25Cb3hFbmRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxOV19Z2V0IHZlcnRpY2FsSWNvbkJveFN0YXJ0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjBdfWdldCB2ZXJ0aWNhbEljb25Cb3hFbmRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyMV19Z2V0IGZlYXR1cmVJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyMl19Z2V0IG51bUhvcml6b250YWxHbHlwaFZlcnRpY2VzKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzIzXX1nZXQgbnVtVmVydGljYWxHbHlwaFZlcnRpY2VzKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzI0XX1nZXQgbnVtSWNvblZlcnRpY2VzKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzI1XX1nZXQgbnVtVmVydGljYWxJY29uVmVydGljZXMoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjZdfWdldCB1c2VSdW50aW1lQ29sbGlzaW9uQ2lyY2xlcygpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyN119Z2V0IGNyb3NzVGlsZUlEKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzE0XX1zZXQgY3Jvc3NUaWxlSUQoZSl7dGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrMTRdPWU7fWdldCB0ZXh0T2Zmc2V0MCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTVdfWdldCB0ZXh0T2Zmc2V0MSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTZdfWdldCBjb2xsaXNpb25DaXJjbGVEaWFtZXRlcigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTddfWdldCB6T2Zmc2V0KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCsxOF19c2V0IHpPZmZzZXQoZSl7dGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzE4XT1lO31nZXQgaGFzSWNvblRleHRGaXQoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSs3Nl19fXJsLnByb3RvdHlwZS5zaXplPTgwO2NsYXNzIG5sIGV4dGVuZHMgR2F7Z2V0KGUpe3JldHVybiBuZXcgcmwodGhpcyxlKX19SXMobmwsXCJTeW1ib2xJbnN0YW5jZUFycmF5XCIpO2NsYXNzIG9sIGV4dGVuZHMgcWF7Z2V0b2Zmc2V0WChlKXtyZXR1cm4gdGhpcy5mbG9hdDMyWzEqZSswXX19SXMob2wsXCJHbHlwaE9mZnNldEFycmF5XCIpO2NsYXNzIHNsIGV4dGVuZHMgVGF7Z2V0eChlKXtyZXR1cm4gdGhpcy5pbnQxNlsyKmUrMF19Z2V0eShlKXtyZXR1cm4gdGhpcy5pbnQxNlsyKmUrMV19fUlzKHNsLFwiU3ltYm9sTGluZVZlcnRleEFycmF5XCIpO2NsYXNzIGFsIGV4dGVuZHMgeGF7Z2V0IGZlYXR1cmVJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCswXX1nZXQgc291cmNlTGF5ZXJJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyXX1nZXQgYnVja2V0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrM119Z2V0IGxheW91dFZlcnRleEFycmF5T2Zmc2V0KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzRdfX1hbC5wcm90b3R5cGUuc2l6ZT0xMjtjbGFzcyBsbCBleHRlbmRzIEhhe2dldChlKXtyZXR1cm4gbmV3IGFsKHRoaXMsZSl9fUlzKGxsLFwiRmVhdHVyZUluZGV4QXJyYXlcIik7Y2xhc3MgY2wgZXh0ZW5kcyBrYXtnZXRhX2NlbnRyb2lkX3BvczAoZSl7cmV0dXJuIHRoaXMudWludDE2WzIqZSswXX1nZXRhX2NlbnRyb2lkX3BvczEoZSl7cmV0dXJuIHRoaXMudWludDE2WzIqZSsxXX19SXMoY2wsXCJGaWxsRXh0cnVzaW9uQ2VudHJvaWRBcnJheVwiKTtjb25zdCBobD1iYShbe25hbWU6XCJhX3Bvc1wiLGNvbXBvbmVudHM6Mix0eXBlOlwiSW50MTZcIn1dLDQpLHVsPWJhKFt7bmFtZTpcImFfcG9zXzNcIixjb21wb25lbnRzOjMsdHlwZTpcIkludDE2XCJ9LHtuYW1lOlwiYV9wb3Nfbm9ybWFsXzNcIixjb21wb25lbnRzOjMsdHlwZTpcIkludDE2XCJ9XSk7Y2xhc3MgZGx7Y29uc3RydWN0b3IoZT1bXSl7dGhpcy5zZWdtZW50cz1lO31fcHJlcGFyZVNlZ21lbnQoZSx0LGkscil7bGV0IG49dGhpcy5zZWdtZW50c1t0aGlzLnNlZ21lbnRzLmxlbmd0aC0xXTtyZXR1cm4gZT5kbC5NQVhfVkVSVEVYX0FSUkFZX0xFTkdUSCYmVyhgTWF4IHZlcnRpY2VzIHBlciBzZWdtZW50IGlzICR7ZGwuTUFYX1ZFUlRFWF9BUlJBWV9MRU5HVEh9OiBidWNrZXQgcmVxdWVzdGVkICR7ZX1gKSwoIW58fG4udmVydGV4TGVuZ3RoK2U+ZGwuTUFYX1ZFUlRFWF9BUlJBWV9MRU5HVEh8fG4uc29ydEtleSE9PXIpJiYobj17dmVydGV4T2Zmc2V0OnQscHJpbWl0aXZlT2Zmc2V0OmksdmVydGV4TGVuZ3RoOjAscHJpbWl0aXZlTGVuZ3RoOjB9LHZvaWQgMCE9PXImJihuLnNvcnRLZXk9ciksdGhpcy5zZWdtZW50cy5wdXNoKG4pKSxufXByZXBhcmVTZWdtZW50KGUsdCxpLHIpe3JldHVybiB0aGlzLl9wcmVwYXJlU2VnbWVudChlLHQubGVuZ3RoLGkubGVuZ3RoLHIpfWdldCgpe3JldHVybiB0aGlzLnNlZ21lbnRzfWRlc3Ryb3koKXtmb3IoY29uc3QgZSBvZiB0aGlzLnNlZ21lbnRzKWZvcihjb25zdCB0IGluIGUudmFvcyllLnZhb3NbdF0uZGVzdHJveSgpO31zdGF0aWMgc2ltcGxlU2VnbWVudChlLHQsaSxyKXtyZXR1cm4gbmV3IGRsKFt7dmVydGV4T2Zmc2V0OmUscHJpbWl0aXZlT2Zmc2V0OnQsdmVydGV4TGVuZ3RoOmkscHJpbWl0aXZlTGVuZ3RoOnIsdmFvczp7fSxzb3J0S2V5OjB9XSl9fWZ1bmN0aW9uIHBsKGUsdCl7cmV0dXJuIDI1NiooZT16KE1hdGguZmxvb3IoZSksMCwyNTUpKSt6KE1hdGguZmxvb3IodCksMCwyNTUpfWRsLk1BWF9WRVJURVhfQVJSQVlfTEVOR1RIPU1hdGgucG93KDIsMTYpLTEsSXMoZGwsXCJTZWdtZW50VmVjdG9yXCIpO2NvbnN0IGZsPWJhKFt7bmFtZTpcImFfcGF0dGVyblwiLGNvbXBvbmVudHM6NCx0eXBlOlwiVWludDE2XCJ9LHtuYW1lOlwiYV9waXhlbF9yYXRpb1wiLGNvbXBvbmVudHM6MSx0eXBlOlwiRmxvYXQzMlwifV0pLG1sPWJhKFt7bmFtZTpcImFfZGFzaFwiLGNvbXBvbmVudHM6NCx0eXBlOlwiVWludDE2XCJ9XSk7dmFyIF9sPXtleHBvcnRzOnt9fSxnbD17ZXhwb3J0czp7fX07IWZ1bmN0aW9uKGUpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBpLHIsbixvLHMsYSxsLGM7Zm9yKHI9ZS5sZW5ndGgtKGk9MyZlLmxlbmd0aCksbj10LHM9MzQzMjkxODM1MyxhPTQ2MTg0NTkwNyxjPTA7YzxyOylsPTI1NSZlLmNoYXJDb2RlQXQoYyl8KDI1NSZlLmNoYXJDb2RlQXQoKytjKSk8PDh8KDI1NSZlLmNoYXJDb2RlQXQoKytjKSk8PDE2fCgyNTUmZS5jaGFyQ29kZUF0KCsrYykpPDwyNCwrK2Msbj0yNzQ5MisoNjU1MzUmKG89NSooNjU1MzUmKG49KG5ePWw9KDY1NTM1JihsPShsPSg2NTUzNSZsKSpzKygoKGw+Pj4xNikqcyY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1KTw8MTV8bD4+PjE3KSkqYSsoKChsPj4+MTYpKmEmNjU1MzUpPDwxNikmNDI5NDk2NzI5NSk8PDEzfG4+Pj4xOSkpKygoNSoobj4+PjE2KSY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1KSkrKCg1ODk2NCsobz4+PjE2KSY2NTUzNSk8PDE2KTtzd2l0Y2gobD0wLGkpe2Nhc2UgMzpsXj0oMjU1JmUuY2hhckNvZGVBdChjKzIpKTw8MTY7Y2FzZSAyOmxePSgyNTUmZS5jaGFyQ29kZUF0KGMrMSkpPDw4O2Nhc2UgMTpuXj1sPSg2NTUzNSYobD0obD0oNjU1MzUmKGxePTI1NSZlLmNoYXJDb2RlQXQoYykpKSpzKygoKGw+Pj4xNikqcyY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1KTw8MTV8bD4+PjE3KSkqYSsoKChsPj4+MTYpKmEmNjU1MzUpPDwxNikmNDI5NDk2NzI5NTt9cmV0dXJuIG5ePWUubGVuZ3RoLG49MjI0NjgyMjUwNyooNjU1MzUmKG5ePW4+Pj4xNikpKygoMjI0NjgyMjUwNyoobj4+PjE2KSY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1LG49MzI2NjQ4OTkwOSooNjU1MzUmKG5ePW4+Pj4xMykpKygoMzI2NjQ4OTkwOSoobj4+PjE2KSY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1LChuXj1uPj4+MTYpPj4+MH07fShnbCk7dmFyIHlsPWdsLmV4cG9ydHMseGw9e2V4cG9ydHM6e319OyFmdW5jdGlvbihlKXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGkscj1lLmxlbmd0aCxuPXRecixvPTA7cj49NDspaT0xNTQwNDgzNDc3Kig2NTUzNSYoaT0yNTUmZS5jaGFyQ29kZUF0KG8pfCgyNTUmZS5jaGFyQ29kZUF0KCsrbykpPDw4fCgyNTUmZS5jaGFyQ29kZUF0KCsrbykpPDwxNnwoMjU1JmUuY2hhckNvZGVBdCgrK28pKTw8MjQpKSsoKDE1NDA0ODM0NzcqKGk+Pj4xNikmNjU1MzUpPDwxNiksbj0xNTQwNDgzNDc3Kig2NTUzNSZuKSsoKDE1NDA0ODM0NzcqKG4+Pj4xNikmNjU1MzUpPDwxNileKGk9MTU0MDQ4MzQ3NyooNjU1MzUmKGlePWk+Pj4yNCkpKygoMTU0MDQ4MzQ3NyooaT4+PjE2KSY2NTUzNSk8PDE2KSksci09NCwrK287c3dpdGNoKHIpe2Nhc2UgMzpuXj0oMjU1JmUuY2hhckNvZGVBdChvKzIpKTw8MTY7Y2FzZSAyOm5ePSgyNTUmZS5jaGFyQ29kZUF0KG8rMSkpPDw4O2Nhc2UgMTpuPTE1NDA0ODM0NzcqKDY1NTM1JihuXj0yNTUmZS5jaGFyQ29kZUF0KG8pKSkrKCgxNTQwNDgzNDc3KihuPj4+MTYpJjY1NTM1KTw8MTYpO31yZXR1cm4gbj0xNTQwNDgzNDc3Kig2NTUzNSYobl49bj4+PjEzKSkrKCgxNTQwNDgzNDc3KihuPj4+MTYpJjY1NTM1KTw8MTYpLChuXj1uPj4+MTUpPj4+MH07fSh4bCk7dmFyIHZsPXlsLGJsPXhsLmV4cG9ydHM7X2wuZXhwb3J0cz12bCxfbC5leHBvcnRzLm11cm11cjM9dmwsX2wuZXhwb3J0cy5tdXJtdXIyPWJsO3ZhciB3bD1kKF9sLmV4cG9ydHMpO2NsYXNzIFRse2NvbnN0cnVjdG9yKCl7dGhpcy5pZHM9W10sdGhpcy51bmlxdWVJZHM9W10sdGhpcy5wb3NpdGlvbnM9W10sdGhpcy5pbmRleGVkPSExO31hZGQoZSx0LGkscil7dGhpcy5pZHMucHVzaChFbChlKSksdGhpcy5wb3NpdGlvbnMucHVzaCh0LGkscik7fWVhY2hQb3NpdGlvbihlLHQpe2NvbnN0IGk9RWwoZSk7bGV0IHI9MCxuPXRoaXMuaWRzLmxlbmd0aC0xO2Zvcig7cjxuOyl7Y29uc3QgZT1yK24+PjE7dGhpcy5pZHNbZV0+PWk/bj1lOnI9ZSsxO31mb3IoO3RoaXMuaWRzW3JdPT09aTspdCh0aGlzLnBvc2l0aW9uc1szKnJdLHRoaXMucG9zaXRpb25zWzMqcisxXSx0aGlzLnBvc2l0aW9uc1szKnIrMl0pLHIrKzt9c3RhdGljIHNlcmlhbGl6ZShlLHQpe2NvbnN0IGk9bmV3IEZsb2F0NjRBcnJheShlLmlkcykscj1uZXcgVWludDMyQXJyYXkoZS5wb3NpdGlvbnMpO3JldHVybiBNbChpLHIsMCxpLmxlbmd0aC0xKSx0JiYodC5hZGQoaS5idWZmZXIpLHQuYWRkKHIuYnVmZmVyKSkse2lkczppLHBvc2l0aW9uczpyfX1zdGF0aWMgZGVzZXJpYWxpemUoZSl7Y29uc3QgdD1uZXcgVGw7bGV0IGk7dC5pZHM9ZS5pZHMsdC5wb3NpdGlvbnM9ZS5wb3NpdGlvbnM7Zm9yKGNvbnN0IGUgb2YgdC5pZHMpZSE9PWkmJnQudW5pcXVlSWRzLnB1c2goZSksaT1lO3JldHVybiB0LmluZGV4ZWQ9ITAsdH19ZnVuY3Rpb24gRWwoZSl7Y29uc3QgdD0rZTtyZXR1cm4gIWlzTmFOKHQpJiZOdW1iZXIuTUlOX1NBRkVfSU5URUdFUjw9dCYmdDw9TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI/dDp3bChTdHJpbmcoZSkpfWZ1bmN0aW9uIE1sKGUsdCxpLHIpe2Zvcig7aTxyOyl7Y29uc3Qgbj1lW2krcj4+MV07bGV0IG89aS0xLHM9cisxO2Zvcig7Oyl7ZG97bysrO313aGlsZShlW29dPG4pO2Rve3MtLTt9d2hpbGUoZVtzXT5uKTtpZihvPj1zKWJyZWFrO0FsKGUsbyxzKSxBbCh0LDMqbywzKnMpLEFsKHQsMypvKzEsMypzKzEpLEFsKHQsMypvKzIsMypzKzIpO31zLWk8ci1zPyhNbChlLHQsaSxzKSxpPXMrMSk6KE1sKGUsdCxzKzEscikscj1zKTt9fWZ1bmN0aW9uIEFsKGUsdCxpKXtjb25zdCByPWVbdF07ZVt0XT1lW2ldLGVbaV09cjt9SXMoVGwsXCJGZWF0dXJlUG9zaXRpb25NYXBcIik7Y2xhc3MgU2x7Y29uc3RydWN0b3IoZSl7dGhpcy5nbD1lLmdsLHRoaXMuaW5pdGlhbGl6ZWQ9ITE7fWZldGNoVW5pZm9ybUxvY2F0aW9uKGUsdCl7cmV0dXJuIHRoaXMubG9jYXRpb258fHRoaXMuaW5pdGlhbGl6ZWR8fCh0aGlzLmxvY2F0aW9uPXRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKGUsdCksdGhpcy5pbml0aWFsaXplZD0hMCksISF0aGlzLmxvY2F0aW9ufX1jbGFzcyBJbCBleHRlbmRzIFNse2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY3VycmVudD0wO31zZXQoZSx0LGkpe3RoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24oZSx0KSYmdGhpcy5jdXJyZW50IT09aSYmKHRoaXMuY3VycmVudD1pLHRoaXMuZ2wudW5pZm9ybTFpKHRoaXMubG9jYXRpb24saSkpO319Y2xhc3MgQ2wgZXh0ZW5kcyBTbHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmN1cnJlbnQ9MDt9c2V0KGUsdCxpKXt0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKGUsdCkmJnRoaXMuY3VycmVudCE9PWkmJih0aGlzLmN1cnJlbnQ9aSx0aGlzLmdsLnVuaWZvcm0xZih0aGlzLmxvY2F0aW9uLGkpKTt9fWNsYXNzIHpsIGV4dGVuZHMgU2x7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jdXJyZW50PVswLDBdO31zZXQoZSx0LGkpe3RoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24oZSx0KSYmKGlbMF09PT10aGlzLmN1cnJlbnRbMF0mJmlbMV09PT10aGlzLmN1cnJlbnRbMV18fCh0aGlzLmN1cnJlbnQ9aSx0aGlzLmdsLnVuaWZvcm0yZih0aGlzLmxvY2F0aW9uLGlbMF0saVsxXSkpKTt9fWNsYXNzIERsIGV4dGVuZHMgU2x7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jdXJyZW50PVswLDAsMF07fXNldChlLHQsaSl7dGhpcy5mZXRjaFVuaWZvcm1Mb2NhdGlvbihlLHQpJiYoaVswXT09PXRoaXMuY3VycmVudFswXSYmaVsxXT09PXRoaXMuY3VycmVudFsxXSYmaVsyXT09PXRoaXMuY3VycmVudFsyXXx8KHRoaXMuY3VycmVudD1pLHRoaXMuZ2wudW5pZm9ybTNmKHRoaXMubG9jYXRpb24saVswXSxpWzFdLGlbMl0pKSk7fX1jbGFzcyBQbCBleHRlbmRzIFNse2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY3VycmVudD1bMCwwLDAsMF07fXNldChlLHQsaSl7dGhpcy5mZXRjaFVuaWZvcm1Mb2NhdGlvbihlLHQpJiYoaVswXT09PXRoaXMuY3VycmVudFswXSYmaVsxXT09PXRoaXMuY3VycmVudFsxXSYmaVsyXT09PXRoaXMuY3VycmVudFsyXSYmaVszXT09PXRoaXMuY3VycmVudFszXXx8KHRoaXMuY3VycmVudD1pLHRoaXMuZ2wudW5pZm9ybTRmKHRoaXMubG9jYXRpb24saVswXSxpWzFdLGlbMl0saVszXSkpKTt9fWNsYXNzIFJsIGV4dGVuZHMgU2x7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jdXJyZW50PWxpLnRyYW5zcGFyZW50O31zZXQoZSx0LGkpe3RoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24oZSx0KSYmKGkucj09PXRoaXMuY3VycmVudC5yJiZpLmc9PT10aGlzLmN1cnJlbnQuZyYmaS5iPT09dGhpcy5jdXJyZW50LmImJmkuYT09PXRoaXMuY3VycmVudC5hfHwodGhpcy5jdXJyZW50PWksdGhpcy5nbC51bmlmb3JtNGYodGhpcy5sb2NhdGlvbixpLnIsaS5nLGkuYixpLmEpKSk7fX1jb25zdCBMbD1uZXcgRmxvYXQzMkFycmF5KDE2KTtjbGFzcyBrbCBleHRlbmRzIFNse2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY3VycmVudD1MbDt9c2V0KGUsdCxpKXtpZih0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKGUsdCkpe2lmKGlbMTJdIT09dGhpcy5jdXJyZW50WzEyXXx8aVswXSE9PXRoaXMuY3VycmVudFswXSlyZXR1cm4gdGhpcy5jdXJyZW50PWksdm9pZCB0aGlzLmdsLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5sb2NhdGlvbiwhMSxpKTtmb3IobGV0IGU9MTtlPDE2O2UrKylpZihpW2VdIT09dGhpcy5jdXJyZW50W2VdKXt0aGlzLmN1cnJlbnQ9aSx0aGlzLmdsLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5sb2NhdGlvbiwhMSxpKTticmVha319fX1jb25zdCBPbD1uZXcgRmxvYXQzMkFycmF5KDkpO2NsYXNzIEJsIGV4dGVuZHMgU2x7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jdXJyZW50PU9sO31zZXQoZSx0LGkpe2lmKHRoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24oZSx0KSlmb3IobGV0IGU9MDtlPDk7ZSsrKWlmKGlbZV0hPT10aGlzLmN1cnJlbnRbZV0pe3RoaXMuY3VycmVudD1pLHRoaXMuZ2wudW5pZm9ybU1hdHJpeDNmdih0aGlzLmxvY2F0aW9uLCExLGkpO2JyZWFrfX19Y29uc3QgRmw9bmV3IEZsb2F0MzJBcnJheSg0KTtjbGFzcyBObCBleHRlbmRzIFNse2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY3VycmVudD1GbDt9c2V0KGUsdCxpKXtpZih0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKGUsdCkpZm9yKGxldCBlPTA7ZTw0O2UrKylpZihpW2VdIT09dGhpcy5jdXJyZW50W2VdKXt0aGlzLmN1cnJlbnQ9aSx0aGlzLmdsLnVuaWZvcm1NYXRyaXgyZnYodGhpcy5sb2NhdGlvbiwhMSxpKTticmVha319fWZ1bmN0aW9uIFVsKGUpe3JldHVybiBbcGwoMjU1KmUuciwyNTUqZS5nKSxwbCgyNTUqZS5iLDI1NSplLmEpXX1jbGFzcyBWbHtjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy52YWx1ZT1lLHRoaXMudW5pZm9ybU5hbWVzPXQubWFwKChlPT5gdV8ke2V9YCkpLHRoaXMudHlwZT1pO31zZXRVbmlmb3JtKGUsdCxpLHIsbil7dC5zZXQoZSxuLHIuY29uc3RhbnRPcih0aGlzLnZhbHVlKSk7fWdldEJpbmRpbmcoZSx0KXtyZXR1cm4gXCJjb2xvclwiPT09dGhpcy50eXBlP25ldyBSbChlKTpuZXcgQ2woZSl9fWNsYXNzIGpse2NvbnN0cnVjdG9yKGUsdCl7dGhpcy51bmlmb3JtTmFtZXM9dC5tYXAoKGU9PmB1XyR7ZX1gKSksdGhpcy5wYXR0ZXJuPW51bGwsdGhpcy5waXhlbFJhdGlvPTE7fXNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyhlKXt0aGlzLnBpeGVsUmF0aW89ZS5waXhlbFJhdGlvfHwxLHRoaXMucGF0dGVybj1lLnRsLmNvbmNhdChlLmJyKTt9c2V0VW5pZm9ybShlLHQsaSxyLG4pe2NvbnN0IG89XCJ1X3BhdHRlcm5cIj09PW58fFwidV9kYXNoXCI9PT1uP3RoaXMucGF0dGVybjpcInVfcGl4ZWxfcmF0aW9cIj09PW4/dGhpcy5waXhlbFJhdGlvOm51bGw7byYmdC5zZXQoZSxuLG8pO31nZXRCaW5kaW5nKGUsdCl7cmV0dXJuIFwidV9wYXR0ZXJuXCI9PT10fHxcInVfZGFzaFwiPT09dD9uZXcgUGwoZSk6bmV3IENsKGUpfX1jbGFzcyBHbHtjb25zdHJ1Y3RvcihlLHQsaSxyKXt0aGlzLmV4cHJlc3Npb249ZSx0aGlzLnR5cGU9aSx0aGlzLm1heFZhbHVlPTAsdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXM9dC5tYXAoKGU9Pih7bmFtZTpgYV8ke2V9YCx0eXBlOlwiRmxvYXQzMlwiLGNvbXBvbmVudHM6XCJjb2xvclwiPT09aT8yOjEsb2Zmc2V0OjB9KSkpLHRoaXMucGFpbnRWZXJ0ZXhBcnJheT1uZXcgcjt9cG9wdWxhdGVQYWludEFycmF5KGUsdCxpLHIsbixvLHMpe2NvbnN0IGE9dGhpcy5wYWludFZlcnRleEFycmF5Lmxlbmd0aCxsPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZShuZXcgZWEoMCx7YnJpZ2h0bmVzczpvfSksdCx7fSxuLHIscyk7dGhpcy5wYWludFZlcnRleEFycmF5LnJlc2l6ZShlKSx0aGlzLl9zZXRQYWludFZhbHVlKGEsZSxsKTt9dXBkYXRlUGFpbnRBcnJheShlLHQsaSxyLG4sbyxzKXtjb25zdCBhPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZSh7em9vbTowLGJyaWdodG5lc3M6c30saSxyLHZvaWQgMCxuKTt0aGlzLl9zZXRQYWludFZhbHVlKGUsdCxhKTt9X3NldFBhaW50VmFsdWUoZSx0LGkpe2lmKFwiY29sb3JcIj09PXRoaXMudHlwZSl7Y29uc3Qgcj1VbChpKTtmb3IobGV0IGk9ZTtpPHQ7aSsrKXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKGksclswXSxyWzFdKTt9ZWxzZSB7Zm9yKGxldCByPWU7cjx0O3IrKyl0aGlzLnBhaW50VmVydGV4QXJyYXkuZW1wbGFjZShyLGkpO3RoaXMubWF4VmFsdWU9TWF0aC5tYXgodGhpcy5tYXhWYWx1ZSxNYXRoLmFicyhpKSk7fX11cGxvYWQoZSl7dGhpcy5wYWludFZlcnRleEFycmF5JiZ0aGlzLnBhaW50VmVydGV4QXJyYXkuYXJyYXlCdWZmZXImJih0aGlzLnBhaW50VmVydGV4QnVmZmVyJiZ0aGlzLnBhaW50VmVydGV4QnVmZmVyLmJ1ZmZlcj90aGlzLnBhaW50VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy5wYWludFZlcnRleEFycmF5KTp0aGlzLnBhaW50VmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMucGFpbnRWZXJ0ZXhBcnJheSx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcyx0aGlzLmV4cHJlc3Npb24uaXNTdGF0ZURlcGVuZGVudHx8IXRoaXMuZXhwcmVzc2lvbi5pc0xpZ2h0Q29uc3RhbnQpKTt9ZGVzdHJveSgpe3RoaXMucGFpbnRWZXJ0ZXhCdWZmZXImJnRoaXMucGFpbnRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpO319Y2xhc3MgcWx7Y29uc3RydWN0b3IoZSx0LGkscixuLG8pe3RoaXMuZXhwcmVzc2lvbj1lLHRoaXMudW5pZm9ybU5hbWVzPXQubWFwKChlPT5gdV8ke2V9X3RgKSksdGhpcy50eXBlPWksdGhpcy51c2VJbnRlZ2VyWm9vbT1yLHRoaXMuem9vbT1uLHRoaXMubWF4VmFsdWU9MCx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcz10Lm1hcCgoZT0+KHtuYW1lOmBhXyR7ZX1gLHR5cGU6XCJGbG9hdDMyXCIsY29tcG9uZW50czpcImNvbG9yXCI9PT1pPzQ6MixvZmZzZXQ6MH0pKSksdGhpcy5wYWludFZlcnRleEFycmF5PW5ldyBvO31wb3B1bGF0ZVBhaW50QXJyYXkoZSx0LGkscixuLG8scyl7Y29uc3QgYT10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IGVhKHRoaXMuem9vbSx7YnJpZ2h0bmVzczpvfSksdCx7fSxuLHIscyksbD10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IGVhKHRoaXMuem9vbSsxLHticmlnaHRuZXNzOm99KSx0LHt9LG4scixzKSxjPXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5sZW5ndGg7dGhpcy5wYWludFZlcnRleEFycmF5LnJlc2l6ZShlKSx0aGlzLl9zZXRQYWludFZhbHVlKGMsZSxhLGwpO311cGRhdGVQYWludEFycmF5KGUsdCxpLHIsbixvLHMpe2NvbnN0IGE9dGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKHt6b29tOnRoaXMuem9vbSxicmlnaHRuZXNzOnN9LGkscix2b2lkIDAsbiksbD10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUoe3pvb206dGhpcy56b29tKzEsYnJpZ2h0bmVzczpzfSxpLHIsdm9pZCAwLG4pO3RoaXMuX3NldFBhaW50VmFsdWUoZSx0LGEsbCk7fV9zZXRQYWludFZhbHVlKGUsdCxpLHIpe2lmKFwiY29sb3JcIj09PXRoaXMudHlwZSl7Y29uc3Qgbj1VbChpKSxvPVVsKHIpO2ZvcihsZXQgaT1lO2k8dDtpKyspdGhpcy5wYWludFZlcnRleEFycmF5LmVtcGxhY2UoaSxuWzBdLG5bMV0sb1swXSxvWzFdKTt9ZWxzZSB7Zm9yKGxldCBuPWU7bjx0O24rKyl0aGlzLnBhaW50VmVydGV4QXJyYXkuZW1wbGFjZShuLGkscik7dGhpcy5tYXhWYWx1ZT1NYXRoLm1heCh0aGlzLm1heFZhbHVlLE1hdGguYWJzKGkpLE1hdGguYWJzKHIpKTt9fXVwbG9hZChlKXt0aGlzLnBhaW50VmVydGV4QXJyYXkmJnRoaXMucGFpbnRWZXJ0ZXhBcnJheS5hcnJheUJ1ZmZlciYmKHRoaXMucGFpbnRWZXJ0ZXhCdWZmZXImJnRoaXMucGFpbnRWZXJ0ZXhCdWZmZXIuYnVmZmVyP3RoaXMucGFpbnRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YSh0aGlzLnBhaW50VmVydGV4QXJyYXkpOnRoaXMucGFpbnRWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5wYWludFZlcnRleEFycmF5LHRoaXMucGFpbnRWZXJ0ZXhBdHRyaWJ1dGVzLHRoaXMuZXhwcmVzc2lvbi5pc1N0YXRlRGVwZW5kZW50fHwhdGhpcy5leHByZXNzaW9uLmlzTGlnaHRDb25zdGFudCkpO31kZXN0cm95KCl7dGhpcy5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5wYWludFZlcnRleEJ1ZmZlci5kZXN0cm95KCk7fXNldFVuaWZvcm0oZSx0LGkscixuKXtjb25zdCBvPXRoaXMudXNlSW50ZWdlclpvb20/TWF0aC5mbG9vcihpLnpvb20pOmkuem9vbSxzPXoodGhpcy5leHByZXNzaW9uLmludGVycG9sYXRpb25GYWN0b3Iobyx0aGlzLnpvb20sdGhpcy56b29tKzEpLDAsMSk7dC5zZXQoZSxuLHMpO31nZXRCaW5kaW5nKGUsdCl7cmV0dXJuIG5ldyBDbChlKX19Y2xhc3MgWmx7Y29uc3RydWN0b3IoZSx0LGkscixuKXt0aGlzLmV4cHJlc3Npb249ZSx0aGlzLmxheWVySWQ9bix0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcz0oXCJhcnJheVwiPT09aT9tbDpmbCkubWVtYmVycztmb3IobGV0IGU9MDtlPHQubGVuZ3RoOysrZSk7dGhpcy5wYWludFZlcnRleEFycmF5PW5ldyByO31wb3B1bGF0ZVBhaW50QXJyYXkoZSx0LGkpe2NvbnN0IHI9dGhpcy5wYWludFZlcnRleEFycmF5Lmxlbmd0aDt0aGlzLnBhaW50VmVydGV4QXJyYXkucmVzaXplKGUpLHRoaXMuX3NldFBhaW50VmFsdWVzKHIsZSx0LnBhdHRlcm5zJiZ0LnBhdHRlcm5zW3RoaXMubGF5ZXJJZF0saSk7fXVwZGF0ZVBhaW50QXJyYXkoZSx0LGkscixuLG8scyl7dGhpcy5fc2V0UGFpbnRWYWx1ZXMoZSx0LGkucGF0dGVybnMmJmkucGF0dGVybnNbdGhpcy5sYXllcklkXSxvKTt9X3NldFBhaW50VmFsdWVzKGUsdCxpLHIpe2lmKCFyfHwhaSlyZXR1cm47Y29uc3Qgbj1yW2ldO2lmKCFuKXJldHVybjtjb25zdHt0bDpvLGJyOnMscGl4ZWxSYXRpbzphfT1uO2ZvcihsZXQgaT1lO2k8dDtpKyspdGhpcy5wYWludFZlcnRleEFycmF5LmVtcGxhY2UoaSxvWzBdLG9bMV0sc1swXSxzWzFdLGEpO311cGxvYWQoZSl7dGhpcy5wYWludFZlcnRleEFycmF5JiZ0aGlzLnBhaW50VmVydGV4QXJyYXkuYXJyYXlCdWZmZXImJih0aGlzLnBhaW50VmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMucGFpbnRWZXJ0ZXhBcnJheSx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcyx0aGlzLmV4cHJlc3Npb24uaXNTdGF0ZURlcGVuZGVudHx8IXRoaXMuZXhwcmVzc2lvbi5pc0xpZ2h0Q29uc3RhbnQpKTt9ZGVzdHJveSgpe3RoaXMucGFpbnRWZXJ0ZXhCdWZmZXImJnRoaXMucGFpbnRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpO319Y2xhc3MgJGx7Y29uc3RydWN0b3IoZSx0LGk9KCgpPT4hMCkpe3RoaXMuYmluZGVycz17fSx0aGlzLl9idWZmZXJzPVtdO2NvbnN0IHI9W107Zm9yKGNvbnN0IG4gaW4gZS5wYWludC5fdmFsdWVzKXtjb25zdCBvPWUucGFpbnQuZ2V0KG4pO2lmKCFpKG4pKWNvbnRpbnVlO2lmKCEobyBpbnN0YW5jZW9mIGFhJiZubyhvLnByb3BlcnR5LnNwZWNpZmljYXRpb24pKSljb250aW51ZTtjb25zdCBzPVhsKG4sZS50eXBlKSxhPW8udmFsdWUsbD1vLnByb3BlcnR5LnNwZWNpZmljYXRpb24udHlwZSxjPSEhby5wcm9wZXJ0eS51c2VJbnRlZ2VyWm9vbSxoPVwibGluZS1kYXNoYXJyYXlcIj09PW58fG4uZW5kc1dpdGgoXCJwYXR0ZXJuXCIpLHU9XCJsaW5lLWRhc2hhcnJheVwiPT09biYmXCJjb25zdGFudFwiIT09ZS5sYXlvdXQuZ2V0KFwibGluZS1jYXBcIikudmFsdWUua2luZDtpZihcImNvbnN0YW50XCIhPT1hLmtpbmR8fHUpaWYoXCJzb3VyY2VcIj09PWEua2luZHx8dXx8aCl7Y29uc3QgdD1KbChuLGwsXCJzb3VyY2VcIik7dGhpcy5iaW5kZXJzW25dPWg/bmV3IFpsKGEscyxsLHQsZS5pZCk6bmV3IEdsKGEscyxsLHQpLHIucHVzaChgL2FfJHtufWApO31lbHNlIHtjb25zdCBlPUpsKG4sbCxcImNvbXBvc2l0ZVwiKTt0aGlzLmJpbmRlcnNbbl09bmV3IHFsKGEscyxsLGMsdCxlKSxyLnB1c2goYC96XyR7bn1gKTt9ZWxzZSB0aGlzLmJpbmRlcnNbbl09aD9uZXcgamwoYS52YWx1ZSxzKTpuZXcgVmwoYS52YWx1ZSxzLGwpLHIucHVzaChgL3VfJHtufWApO310aGlzLmNhY2hlS2V5PXIuc29ydCgpLmpvaW4oXCJcIik7fWdldE1heFZhbHVlKGUpe2NvbnN0IHQ9dGhpcy5iaW5kZXJzW2VdO3JldHVybiB0IGluc3RhbmNlb2YgR2x8fHQgaW5zdGFuY2VvZiBxbD90Lm1heFZhbHVlOjB9cG9wdWxhdGVQYWludEFycmF5cyhlLHQsaSxyLG4sbyxzKXtmb3IoY29uc3QgYSBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IGw9dGhpcy5iaW5kZXJzW2FdOyhsIGluc3RhbmNlb2YgR2x8fGwgaW5zdGFuY2VvZiBxbHx8bCBpbnN0YW5jZW9mIFpsKSYmbC5wb3B1bGF0ZVBhaW50QXJyYXkoZSx0LGkscixuLG8scyk7fX1zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMoZSl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCBpPXRoaXMuYmluZGVyc1t0XTtpIGluc3RhbmNlb2YgamwmJmkuc2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKGUpO319dXBkYXRlUGFpbnRBcnJheXMoZSx0LGkscixuLG8scyxhKXtsZXQgbD0hMTtjb25zdCBjPU9iamVjdC5rZXlzKGUpLGg9MCE9PWMubGVuZ3RoLHU9aD9jOnQudW5pcXVlSWRzO2Zvcihjb25zdCBjIGluIHRoaXMuYmluZGVycyl7Y29uc3QgZD10aGlzLmJpbmRlcnNbY107aWYoKGQgaW5zdGFuY2VvZiBHbHx8ZCBpbnN0YW5jZW9mIHFsfHxkIGluc3RhbmNlb2YgWmwpJiYoITA9PT1kLmV4cHJlc3Npb24uaXNTdGF0ZURlcGVuZGVudHx8ITE9PT1kLmV4cHJlc3Npb24uaXNMaWdodENvbnN0YW50KSl7Y29uc3QgcD1uLnBhaW50LmdldChjKTtkLmV4cHJlc3Npb249cC52YWx1ZTtmb3IoY29uc3QgaSBvZiB1KXtjb25zdCBuPWVbaS50b1N0cmluZygpXTt0LmVhY2hQb3NpdGlvbihpLCgoZSx0LGkpPT57Y29uc3QgbD1yLmZlYXR1cmUoZSk7ZC51cGRhdGVQYWludEFycmF5KHQsaSxsLG4sbyxzLGEpO30pKTt9aWYoIWgpZm9yKGNvbnN0IHQgb2YgaS51bmlxdWVJZHMpe2NvbnN0IG49ZVt0LnRvU3RyaW5nKCldO2kuZWFjaFBvc2l0aW9uKHQsKChlLHQsaSk9Pntjb25zdCBsPXIuZmVhdHVyZShlKTtkLnVwZGF0ZVBhaW50QXJyYXkodCxpLGwsbixvLHMsYSk7fSkpO31sPSEwO319cmV0dXJuIGx9ZGVmaW5lcygpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCBpPXRoaXMuYmluZGVyc1t0XTsoaSBpbnN0YW5jZW9mIFZsfHxpIGluc3RhbmNlb2YgamwpJiZlLnB1c2goLi4uaS51bmlmb3JtTmFtZXMubWFwKChlPT5gI2RlZmluZSBIQVNfVU5JRk9STV8ke2V9YCkpKTt9cmV0dXJuIGV9Z2V0QmluZGVyQXR0cmlidXRlcygpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCBpPXRoaXMuYmluZGVyc1t0XTtpZihpIGluc3RhbmNlb2YgR2x8fGkgaW5zdGFuY2VvZiBxbHx8aSBpbnN0YW5jZW9mIFpsKWZvcihsZXQgdD0wO3Q8aS5wYWludFZlcnRleEF0dHJpYnV0ZXMubGVuZ3RoO3QrKyllLnB1c2goaS5wYWludFZlcnRleEF0dHJpYnV0ZXNbdF0ubmFtZSk7fXJldHVybiBlfWdldEJpbmRlclVuaWZvcm1zKCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgdCBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IGk9dGhpcy5iaW5kZXJzW3RdO2lmKGkgaW5zdGFuY2VvZiBWbHx8aSBpbnN0YW5jZW9mIGpsfHxpIGluc3RhbmNlb2YgcWwpZm9yKGNvbnN0IHQgb2YgaS51bmlmb3JtTmFtZXMpZS5wdXNoKHQpO31yZXR1cm4gZX1nZXRQYWludFZlcnRleEJ1ZmZlcnMoKXtyZXR1cm4gdGhpcy5fYnVmZmVyc31nZXRVbmlmb3JtcyhlKXtjb25zdCB0PVtdO2Zvcihjb25zdCBpIGluIHRoaXMuYmluZGVycyl7Y29uc3Qgcj10aGlzLmJpbmRlcnNbaV07aWYociBpbnN0YW5jZW9mIFZsfHxyIGluc3RhbmNlb2Ygamx8fHIgaW5zdGFuY2VvZiBxbClmb3IoY29uc3QgbiBvZiByLnVuaWZvcm1OYW1lcyl0LnB1c2goe25hbWU6bixwcm9wZXJ0eTppLGJpbmRpbmc6ci5nZXRCaW5kaW5nKGUsbil9KTt9cmV0dXJuIHR9c2V0VW5pZm9ybXMoZSx0LGkscixuKXtmb3IoY29uc3R7bmFtZTp0LHByb3BlcnR5Om8sYmluZGluZzpzfW9mIGkpdGhpcy5iaW5kZXJzW29dLnNldFVuaWZvcm0oZSxzLG4sci5nZXQobyksdCk7fXVwZGF0ZVBhaW50QnVmZmVycygpe3RoaXMuX2J1ZmZlcnM9W107Zm9yKGNvbnN0IGUgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCB0PXRoaXMuYmluZGVyc1tlXTsodCBpbnN0YW5jZW9mIEdsfHx0IGluc3RhbmNlb2YgcWx8fHQgaW5zdGFuY2VvZiBabCkmJnQucGFpbnRWZXJ0ZXhCdWZmZXImJnRoaXMuX2J1ZmZlcnMucHVzaCh0LnBhaW50VmVydGV4QnVmZmVyKTt9fXVwbG9hZChlKXtmb3IoY29uc3QgdCBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IGk9dGhpcy5iaW5kZXJzW3RdOyhpIGluc3RhbmNlb2YgR2x8fGkgaW5zdGFuY2VvZiBxbHx8aSBpbnN0YW5jZW9mIFpsKSYmaS51cGxvYWQoZSk7fXRoaXMudXBkYXRlUGFpbnRCdWZmZXJzKCk7fWRlc3Ryb3koKXtmb3IoY29uc3QgZSBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IHQ9dGhpcy5iaW5kZXJzW2VdOyh0IGluc3RhbmNlb2YgR2x8fHQgaW5zdGFuY2VvZiBxbHx8dCBpbnN0YW5jZW9mIFpsKSYmdC5kZXN0cm95KCk7fX19Y2xhc3MgSGx7Y29uc3RydWN0b3IoZSx0LGk9KCgpPT4hMCkpe3RoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPXt9O2Zvcihjb25zdCByIG9mIGUpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbci5pZF09bmV3ICRsKHIsdCxpKTt0aGlzLm5lZWRzVXBsb2FkPSExLHRoaXMuX2ZlYXR1cmVNYXA9bmV3IFRsLHRoaXMuX2ZlYXR1cmVNYXBXaXRob3V0SWRzPW5ldyBUbCx0aGlzLl9idWZmZXJPZmZzZXQ9MCx0aGlzLl9pZGxlc3NDb3VudGVyPTA7fXBvcHVsYXRlUGFpbnRBcnJheXMoZSx0LGkscixuLG8scyxhKXtmb3IoY29uc3QgaSBpbiB0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucyl0aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1tpXS5wb3B1bGF0ZVBhaW50QXJyYXlzKGUsdCxyLG4sbyxzLGEpO3ZvaWQgMCE9PXQuaWQ/dGhpcy5fZmVhdHVyZU1hcC5hZGQodC5pZCxpLHRoaXMuX2J1ZmZlck9mZnNldCxlKToodGhpcy5fZmVhdHVyZU1hcFdpdGhvdXRJZHMuYWRkKHRoaXMuX2lkbGVzc0NvdW50ZXIsaSx0aGlzLl9idWZmZXJPZmZzZXQsZSksdGhpcy5faWRsZXNzQ291bnRlcis9MSksdGhpcy5fYnVmZmVyT2Zmc2V0PWUsdGhpcy5uZWVkc1VwbG9hZD0hMDt9dXBkYXRlUGFpbnRBcnJheXMoZSx0LGkscixuLG8pe2Zvcihjb25zdCBzIG9mIGkpdGhpcy5uZWVkc1VwbG9hZD10aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1tzLmlkXS51cGRhdGVQYWludEFycmF5cyhlLHRoaXMuX2ZlYXR1cmVNYXAsdGhpcy5fZmVhdHVyZU1hcFdpdGhvdXRJZHMsdCxzLHIsbixvfHwwKXx8dGhpcy5uZWVkc1VwbG9hZDt9Z2V0KGUpe3JldHVybiB0aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1tlXX11cGxvYWQoZSl7aWYodGhpcy5uZWVkc1VwbG9hZCl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbdF0udXBsb2FkKGUpO3RoaXMubmVlZHNVcGxvYWQ9ITE7fX1kZXN0cm95KCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbZV0uZGVzdHJveSgpO319Y29uc3QgV2w9e1widGV4dC1vcGFjaXR5XCI6W1wib3BhY2l0eVwiXSxcImljb24tb3BhY2l0eVwiOltcIm9wYWNpdHlcIl0sXCJ0ZXh0LWNvbG9yXCI6W1wiZmlsbF9jb2xvclwiXSxcImljb24tY29sb3JcIjpbXCJmaWxsX2NvbG9yXCJdLFwidGV4dC1lbWlzc2l2ZS1zdHJlbmd0aFwiOltcImVtaXNzaXZlX3N0cmVuZ3RoXCJdLFwiaWNvbi1lbWlzc2l2ZS1zdHJlbmd0aFwiOltcImVtaXNzaXZlX3N0cmVuZ3RoXCJdLFwidGV4dC1oYWxvLWNvbG9yXCI6W1wiaGFsb19jb2xvclwiXSxcImljb24taGFsby1jb2xvclwiOltcImhhbG9fY29sb3JcIl0sXCJ0ZXh0LWhhbG8tYmx1clwiOltcImhhbG9fYmx1clwiXSxcImljb24taGFsby1ibHVyXCI6W1wiaGFsb19ibHVyXCJdLFwidGV4dC1oYWxvLXdpZHRoXCI6W1wiaGFsb193aWR0aFwiXSxcImljb24taGFsby13aWR0aFwiOltcImhhbG9fd2lkdGhcIl0sXCJsaW5lLWdhcC13aWR0aFwiOltcImdhcHdpZHRoXCJdLFwibGluZS1wYXR0ZXJuXCI6W1wicGF0dGVyblwiLFwicGl4ZWxfcmF0aW9cIl0sXCJmaWxsLXBhdHRlcm5cIjpbXCJwYXR0ZXJuXCIsXCJwaXhlbF9yYXRpb1wiXSxcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIjpbXCJwYXR0ZXJuXCIsXCJwaXhlbF9yYXRpb1wiXSxcImxpbmUtZGFzaGFycmF5XCI6W1wiZGFzaFwiXX07ZnVuY3Rpb24gWGwoZSx0KXtyZXR1cm4gV2xbZV18fFtlLnJlcGxhY2UoYCR7dH0tYCxcIlwiKS5yZXBsYWNlKC8tL2csXCJfXCIpXX1jb25zdCBZbD17XCJsaW5lLXBhdHRlcm5cIjp7c291cmNlOkNhLGNvbXBvc2l0ZTpDYX0sXCJmaWxsLXBhdHRlcm5cIjp7c291cmNlOkNhLGNvbXBvc2l0ZTpDYX0sXCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuXCI6e3NvdXJjZTpDYSxjb21wb3NpdGU6Q2F9LFwibGluZS1kYXNoYXJyYXlcIjp7c291cmNlOnphLGNvbXBvc2l0ZTp6YX19LEtsPXtjb2xvcjp7c291cmNlOlhhLGNvbXBvc2l0ZTpJYX0sbnVtYmVyOntzb3VyY2U6cWEsY29tcG9zaXRlOlhhfX07ZnVuY3Rpb24gSmwoZSx0LGkpe2NvbnN0IHI9WWxbZV07cmV0dXJuIHImJnJbaV18fEtsW3RdW2ldfUlzKFZsLFwiQ29uc3RhbnRCaW5kZXJcIiksSXMoamwsXCJQYXR0ZXJuQ29uc3RhbnRCaW5kZXJcIiksSXMoR2wsXCJTb3VyY2VFeHByZXNzaW9uQmluZGVyXCIpLElzKFpsLFwiUGF0dGVybkNvbXBvc2l0ZUJpbmRlclwiKSxJcyhxbCxcIkNvbXBvc2l0ZUV4cHJlc3Npb25CaW5kZXJcIiksSXMoJGwsXCJQcm9ncmFtQ29uZmlndXJhdGlvblwiLHtvbWl0OltcIl9idWZmZXJzXCJdfSksSXMoSGwsXCJQcm9ncmFtQ29uZmlndXJhdGlvblNldFwiKTtjbGFzcyBRbHtjb25zdHJ1Y3RvcihlLHQpe2UmJih0P3RoaXMuc2V0U291dGhXZXN0KGUpLnNldE5vcnRoRWFzdCh0KTo0PT09ZS5sZW5ndGg/dGhpcy5zZXRTb3V0aFdlc3QoW2VbMF0sZVsxXV0pLnNldE5vcnRoRWFzdChbZVsyXSxlWzNdXSk6dGhpcy5zZXRTb3V0aFdlc3QoZVswXSkuc2V0Tm9ydGhFYXN0KGVbMV0pKTt9c2V0Tm9ydGhFYXN0KGUpe3JldHVybiB0aGlzLl9uZT1lIGluc3RhbmNlb2YgTmQ/bmV3IE5kKGUubG5nLGUubGF0KTpOZC5jb252ZXJ0KGUpLHRoaXN9c2V0U291dGhXZXN0KGUpe3JldHVybiB0aGlzLl9zdz1lIGluc3RhbmNlb2YgTmQ/bmV3IE5kKGUubG5nLGUubGF0KTpOZC5jb252ZXJ0KGUpLHRoaXN9ZXh0ZW5kKGUpe2NvbnN0IHQ9dGhpcy5fc3csaT10aGlzLl9uZTtsZXQgcixuO2lmKGUgaW5zdGFuY2VvZiBOZClyPWUsbj1lO2Vsc2Uge2lmKCEoZSBpbnN0YW5jZW9mIFFsKSlyZXR1cm4gQXJyYXkuaXNBcnJheShlKT80PT09ZS5sZW5ndGh8fGUuZXZlcnkoQXJyYXkuaXNBcnJheSk/dGhpcy5leHRlbmQoUWwuY29udmVydChlKSk6dGhpcy5leHRlbmQoTmQuY29udmVydChlKSk6XCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZlLmhhc093blByb3BlcnR5KFwibGF0XCIpJiYoZS5oYXNPd25Qcm9wZXJ0eShcImxvblwiKXx8ZS5oYXNPd25Qcm9wZXJ0eShcImxuZ1wiKSk/dGhpcy5leHRlbmQoTmQuY29udmVydChlKSk6dGhpcztpZihyPWUuX3N3LG49ZS5fbmUsIXJ8fCFuKXJldHVybiB0aGlzfXJldHVybiB0fHxpPyh0LmxuZz1NYXRoLm1pbihyLmxuZyx0LmxuZyksdC5sYXQ9TWF0aC5taW4oci5sYXQsdC5sYXQpLGkubG5nPU1hdGgubWF4KG4ubG5nLGkubG5nKSxpLmxhdD1NYXRoLm1heChuLmxhdCxpLmxhdCkpOih0aGlzLl9zdz1uZXcgTmQoci5sbmcsci5sYXQpLHRoaXMuX25lPW5ldyBOZChuLmxuZyxuLmxhdCkpLHRoaXN9Z2V0Q2VudGVyKCl7cmV0dXJuIG5ldyBOZCgodGhpcy5fc3cubG5nK3RoaXMuX25lLmxuZykvMiwodGhpcy5fc3cubGF0K3RoaXMuX25lLmxhdCkvMil9Z2V0U291dGhXZXN0KCl7cmV0dXJuIHRoaXMuX3N3fWdldE5vcnRoRWFzdCgpe3JldHVybiB0aGlzLl9uZX1nZXROb3J0aFdlc3QoKXtyZXR1cm4gbmV3IE5kKHRoaXMuZ2V0V2VzdCgpLHRoaXMuZ2V0Tm9ydGgoKSl9Z2V0U291dGhFYXN0KCl7cmV0dXJuIG5ldyBOZCh0aGlzLmdldEVhc3QoKSx0aGlzLmdldFNvdXRoKCkpfWdldFdlc3QoKXtyZXR1cm4gdGhpcy5fc3cubG5nfWdldFNvdXRoKCl7cmV0dXJuIHRoaXMuX3N3LmxhdH1nZXRFYXN0KCl7cmV0dXJuIHRoaXMuX25lLmxuZ31nZXROb3J0aCgpe3JldHVybiB0aGlzLl9uZS5sYXR9dG9BcnJheSgpe3JldHVybiBbdGhpcy5fc3cudG9BcnJheSgpLHRoaXMuX25lLnRvQXJyYXkoKV19dG9TdHJpbmcoKXtyZXR1cm4gYExuZ0xhdEJvdW5kcygke3RoaXMuX3N3LnRvU3RyaW5nKCl9LCAke3RoaXMuX25lLnRvU3RyaW5nKCl9KWB9aXNFbXB0eSgpe3JldHVybiAhKHRoaXMuX3N3JiZ0aGlzLl9uZSl9Y29udGFpbnMoZSl7Y29uc3R7bG5nOnQsbGF0Oml9PU5kLmNvbnZlcnQoZSk7bGV0IHI9dGhpcy5fc3cubG5nPD10JiZ0PD10aGlzLl9uZS5sbmc7cmV0dXJuIHRoaXMuX3N3LmxuZz50aGlzLl9uZS5sbmcmJihyPXRoaXMuX3N3LmxuZz49dCYmdD49dGhpcy5fbmUubG5nKSx0aGlzLl9zdy5sYXQ8PWkmJmk8PXRoaXMuX25lLmxhdCYmcn1zdGF0aWMgY29udmVydChlKXtyZXR1cm4gIWV8fGUgaW5zdGFuY2VvZiBRbD9lOm5ldyBRbChlKX19dmFyIGVjPXt9LHRjPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Yy5zZXRNYXRyaXhBcnJheVR5cGU9ZnVuY3Rpb24oZSl7dGMuQVJSQVlfVFlQRT1yYz1lO30sdGMudG9SYWRpYW49ZnVuY3Rpb24oZSl7cmV0dXJuIGUqb2N9LHRjLmVxdWFscz1mdW5jdGlvbihlLHQpe3JldHVybiBNYXRoLmFicyhlLXQpPD1pYypNYXRoLm1heCgxLE1hdGguYWJzKGUpLE1hdGguYWJzKHQpKX0sdGMuUkFORE9NPXRjLkFSUkFZX1RZUEU9dGMuRVBTSUxPTj12b2lkIDA7dmFyIGljPTFlLTY7dGMuRVBTSUxPTj1pYzt2YXIgcmM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZsb2F0MzJBcnJheT9GbG9hdDMyQXJyYXk6QXJyYXk7dGMuQVJSQVlfVFlQRT1yYzt2YXIgbmM9TWF0aC5yYW5kb207dGMuUkFORE9NPW5jO3ZhciBvYz1NYXRoLlBJLzE4MDtNYXRoLmh5cG90fHwoTWF0aC5oeXBvdD1mdW5jdGlvbigpe2Zvcih2YXIgZT0wLHQ9YXJndW1lbnRzLmxlbmd0aDt0LS07KWUrPWFyZ3VtZW50c1t0XSphcmd1bWVudHNbdF07cmV0dXJuIE1hdGguc3FydChlKX0pO3ZhciBzYz17fTtmdW5jdGlvbiBhYyhlKXtyZXR1cm4gYWM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0sYWMoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHNjLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHNjLmNyZWF0ZT1mdW5jdGlvbigpe3ZhciBlPW5ldyBsYy5BUlJBWV9UWVBFKDQpO3JldHVybiBsYy5BUlJBWV9UWVBFIT1GbG9hdDMyQXJyYXkmJihlWzFdPTAsZVsyXT0wKSxlWzBdPTEsZVszXT0xLGV9LHNjLmNsb25lPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBsYy5BUlJBWV9UWVBFKDQpO3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdH0sc2MuY29weT1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlWzNdPXRbM10sZX0sc2MuaWRlbnRpdHk9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF09MSxlWzFdPTAsZVsyXT0wLGVbM109MSxlfSxzYy5mcm9tVmFsdWVzPWZ1bmN0aW9uKGUsdCxpLHIpe3ZhciBuPW5ldyBsYy5BUlJBWV9UWVBFKDQpO3JldHVybiBuWzBdPWUsblsxXT10LG5bMl09aSxuWzNdPXIsbn0sc2Muc2V0PWZ1bmN0aW9uKGUsdCxpLHIsbil7cmV0dXJuIGVbMF09dCxlWzFdPWksZVsyXT1yLGVbM109bixlfSxzYy50cmFuc3Bvc2U9ZnVuY3Rpb24oZSx0KXtpZihlPT09dCl7dmFyIGk9dFsxXTtlWzFdPXRbMl0sZVsyXT1pO31lbHNlIGVbMF09dFswXSxlWzFdPXRbMl0sZVsyXT10WzFdLGVbM109dFszXTtyZXR1cm4gZX0sc2MuaW52ZXJ0PWZ1bmN0aW9uKGUsdCl7dmFyIGk9dFswXSxyPXRbMV0sbj10WzJdLG89dFszXSxzPWkqby1uKnI7cmV0dXJuIHM/KGVbMF09byoocz0xL3MpLGVbMV09LXIqcyxlWzJdPS1uKnMsZVszXT1pKnMsZSk6bnVsbH0sc2MuYWRqb2ludD1mdW5jdGlvbihlLHQpe3ZhciBpPXRbMF07cmV0dXJuIGVbMF09dFszXSxlWzFdPS10WzFdLGVbMl09LXRbMl0sZVszXT1pLGV9LHNjLmRldGVybWluYW50PWZ1bmN0aW9uKGUpe3JldHVybiBlWzBdKmVbM10tZVsyXSplWzFdfSxzYy5tdWx0aXBseT1oYyxzYy5yb3RhdGU9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdLG89dFsyXSxzPXRbM10sYT1NYXRoLnNpbihpKSxsPU1hdGguY29zKGkpO3JldHVybiBlWzBdPXIqbCtvKmEsZVsxXT1uKmwrcyphLGVbMl09ciotYStvKmwsZVszXT1uKi1hK3MqbCxlfSxzYy5zY2FsZT1mdW5jdGlvbihlLHQsaSl7dmFyIHI9dFsxXSxuPXRbMl0sbz10WzNdLHM9aVswXSxhPWlbMV07cmV0dXJuIGVbMF09dFswXSpzLGVbMV09cipzLGVbMl09biphLGVbM109byphLGV9LHNjLmZyb21Sb3RhdGlvbj1mdW5jdGlvbihlLHQpe3ZhciBpPU1hdGguc2luKHQpLHI9TWF0aC5jb3ModCk7cmV0dXJuIGVbMF09cixlWzFdPWksZVsyXT0taSxlWzNdPXIsZX0sc2MuZnJvbVNjYWxpbmc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT10WzBdLGVbMV09MCxlWzJdPTAsZVszXT10WzFdLGV9LHNjLnN0cj1mdW5jdGlvbihlKXtyZXR1cm4gXCJtYXQyKFwiK2VbMF0rXCIsIFwiK2VbMV0rXCIsIFwiK2VbMl0rXCIsIFwiK2VbM10rXCIpXCJ9LHNjLmZyb2I9ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguaHlwb3QoZVswXSxlWzFdLGVbMl0sZVszXSl9LHNjLkxEVT1mdW5jdGlvbihlLHQsaSxyKXtyZXR1cm4gZVsyXT1yWzJdL3JbMF0saVswXT1yWzBdLGlbMV09clsxXSxpWzNdPXJbM10tZVsyXSppWzFdLFtlLHQsaV19LHNjLmFkZD1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGVbMF09dFswXStpWzBdLGVbMV09dFsxXStpWzFdLGVbMl09dFsyXStpWzJdLGVbM109dFszXStpWzNdLGV9LHNjLnN1YnRyYWN0PXVjLHNjLmV4YWN0RXF1YWxzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09PT10WzBdJiZlWzFdPT09dFsxXSYmZVsyXT09PXRbMl0mJmVbM109PT10WzNdfSxzYy5lcXVhbHM9ZnVuY3Rpb24oZSx0KXt2YXIgaT1lWzBdLHI9ZVsxXSxuPWVbMl0sbz1lWzNdLHM9dFswXSxhPXRbMV0sbD10WzJdLGM9dFszXTtyZXR1cm4gTWF0aC5hYnMoaS1zKTw9bGMuRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGkpLE1hdGguYWJzKHMpKSYmTWF0aC5hYnMoci1hKTw9bGMuRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKHIpLE1hdGguYWJzKGEpKSYmTWF0aC5hYnMobi1sKTw9bGMuRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKG4pLE1hdGguYWJzKGwpKSYmTWF0aC5hYnMoby1jKTw9bGMuRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKG8pLE1hdGguYWJzKGMpKX0sc2MubXVsdGlwbHlTY2FsYXI9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBlWzBdPXRbMF0qaSxlWzFdPXRbMV0qaSxlWzJdPXRbMl0qaSxlWzNdPXRbM10qaSxlfSxzYy5tdWx0aXBseVNjYWxhckFuZEFkZD1mdW5jdGlvbihlLHQsaSxyKXtyZXR1cm4gZVswXT10WzBdK2lbMF0qcixlWzFdPXRbMV0raVsxXSpyLGVbMl09dFsyXStpWzJdKnIsZVszXT10WzNdK2lbM10qcixlfSxzYy5zdWI9c2MubXVsPXZvaWQgMDt2YXIgbGM9ZnVuY3Rpb24oZSx0KXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7aWYobnVsbD09PWV8fFwib2JqZWN0XCIhPT1hYyhlKSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZSlyZXR1cm4ge2RlZmF1bHQ6ZX07dmFyIGk9Y2Modm9pZCAwKTtpZihpJiZpLmhhcyhlKSlyZXR1cm4gaS5nZXQoZSk7dmFyIHI9e30sbj1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBvIGluIGUpaWYoXCJkZWZhdWx0XCIhPT1vJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxvKSl7dmFyIHM9bj9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbyk6bnVsbDtzJiYocy5nZXR8fHMuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkocixvLHMpOnJbb109ZVtvXTt9cmV0dXJuIHIuZGVmYXVsdD1lLGkmJmkuc2V0KGUscikscn0odGMpO2Z1bmN0aW9uIGNjKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIFdlYWtNYXApcmV0dXJuIG51bGw7dmFyIHQ9bmV3IFdlYWtNYXAsaT1uZXcgV2Vha01hcDtyZXR1cm4gKGNjPWZ1bmN0aW9uKGUpe3JldHVybiBlP2k6dH0pKGUpfWZ1bmN0aW9uIGhjKGUsdCxpKXt2YXIgcj10WzBdLG49dFsxXSxvPXRbMl0scz10WzNdLGE9aVswXSxsPWlbMV0sYz1pWzJdLGg9aVszXTtyZXR1cm4gZVswXT1yKmErbypsLGVbMV09biphK3MqbCxlWzJdPXIqYytvKmgsZVszXT1uKmMrcypoLGV9ZnVuY3Rpb24gdWMoZSx0LGkpe3JldHVybiBlWzBdPXRbMF0taVswXSxlWzFdPXRbMV0taVsxXSxlWzJdPXRbMl0taVsyXSxlWzNdPXRbM10taVszXSxlfXNjLm11bD1oYyxzYy5zdWI9dWM7dmFyIGRjPXt9O2Z1bmN0aW9uIHBjKGUpe3JldHVybiBwYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxwYyhlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZGMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZGMuY3JlYXRlPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGZjLkFSUkFZX1RZUEUoNik7cmV0dXJuIGZjLkFSUkFZX1RZUEUhPUZsb2F0MzJBcnJheSYmKGVbMV09MCxlWzJdPTAsZVs0XT0wLGVbNV09MCksZVswXT0xLGVbM109MSxlfSxkYy5jbG9uZT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgZmMuQVJSQVlfVFlQRSg2KTtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdFszXT1lWzNdLHRbNF09ZVs0XSx0WzVdPWVbNV0sdH0sZGMuY29weT1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlWzNdPXRbM10sZVs0XT10WzRdLGVbNV09dFs1XSxlfSxkYy5pZGVudGl0eT1mdW5jdGlvbihlKXtyZXR1cm4gZVswXT0xLGVbMV09MCxlWzJdPTAsZVszXT0xLGVbNF09MCxlWzVdPTAsZX0sZGMuZnJvbVZhbHVlcz1mdW5jdGlvbihlLHQsaSxyLG4sbyl7dmFyIHM9bmV3IGZjLkFSUkFZX1RZUEUoNik7cmV0dXJuIHNbMF09ZSxzWzFdPXQsc1syXT1pLHNbM109cixzWzRdPW4sc1s1XT1vLHN9LGRjLnNldD1mdW5jdGlvbihlLHQsaSxyLG4sbyxzKXtyZXR1cm4gZVswXT10LGVbMV09aSxlWzJdPXIsZVszXT1uLGVbNF09byxlWzVdPXMsZX0sZGMuaW52ZXJ0PWZ1bmN0aW9uKGUsdCl7dmFyIGk9dFswXSxyPXRbMV0sbj10WzJdLG89dFszXSxzPXRbNF0sYT10WzVdLGw9aSpvLXIqbjtyZXR1cm4gbD8oZVswXT1vKihsPTEvbCksZVsxXT0tcipsLGVbMl09LW4qbCxlWzNdPWkqbCxlWzRdPShuKmEtbypzKSpsLGVbNV09KHIqcy1pKmEpKmwsZSk6bnVsbH0sZGMuZGV0ZXJtaW5hbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF0qZVszXS1lWzFdKmVbMl19LGRjLm11bHRpcGx5PV9jLGRjLnJvdGF0ZT1mdW5jdGlvbihlLHQsaSl7dmFyIHI9dFswXSxuPXRbMV0sbz10WzJdLHM9dFszXSxhPXRbNF0sbD10WzVdLGM9TWF0aC5zaW4oaSksaD1NYXRoLmNvcyhpKTtyZXR1cm4gZVswXT1yKmgrbypjLGVbMV09bipoK3MqYyxlWzJdPXIqLWMrbypoLGVbM109biotYytzKmgsZVs0XT1hLGVbNV09bCxlfSxkYy5zY2FsZT1mdW5jdGlvbihlLHQsaSl7dmFyIHI9dFsxXSxuPXRbMl0sbz10WzNdLHM9dFs0XSxhPXRbNV0sbD1pWzBdLGM9aVsxXTtyZXR1cm4gZVswXT10WzBdKmwsZVsxXT1yKmwsZVsyXT1uKmMsZVszXT1vKmMsZVs0XT1zLGVbNV09YSxlfSxkYy50cmFuc2xhdGU9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdLG89dFsyXSxzPXRbM10sYT10WzRdLGw9dFs1XSxjPWlbMF0saD1pWzFdO3JldHVybiBlWzBdPXIsZVsxXT1uLGVbMl09byxlWzNdPXMsZVs0XT1yKmMrbypoK2EsZVs1XT1uKmMrcypoK2wsZX0sZGMuZnJvbVJvdGF0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIGk9TWF0aC5zaW4odCkscj1NYXRoLmNvcyh0KTtyZXR1cm4gZVswXT1yLGVbMV09aSxlWzJdPS1pLGVbM109cixlWzRdPTAsZVs1XT0wLGV9LGRjLmZyb21TY2FsaW5nPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09dFswXSxlWzFdPTAsZVsyXT0wLGVbM109dFsxXSxlWzRdPTAsZVs1XT0wLGV9LGRjLmZyb21UcmFuc2xhdGlvbj1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPTEsZVsxXT0wLGVbMl09MCxlWzNdPTEsZVs0XT10WzBdLGVbNV09dFsxXSxlfSxkYy5zdHI9ZnVuY3Rpb24oZSl7cmV0dXJuIFwibWF0MmQoXCIrZVswXStcIiwgXCIrZVsxXStcIiwgXCIrZVsyXStcIiwgXCIrZVszXStcIiwgXCIrZVs0XStcIiwgXCIrZVs1XStcIilcIn0sZGMuZnJvYj1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5oeXBvdChlWzBdLGVbMV0sZVsyXSxlWzNdLGVbNF0sZVs1XSwxKX0sZGMuYWRkPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZVswXT10WzBdK2lbMF0sZVsxXT10WzFdK2lbMV0sZVsyXT10WzJdK2lbMl0sZVszXT10WzNdK2lbM10sZVs0XT10WzRdK2lbNF0sZVs1XT10WzVdK2lbNV0sZX0sZGMuc3VidHJhY3Q9Z2MsZGMubXVsdGlwbHlTY2FsYXI9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBlWzBdPXRbMF0qaSxlWzFdPXRbMV0qaSxlWzJdPXRbMl0qaSxlWzNdPXRbM10qaSxlWzRdPXRbNF0qaSxlWzVdPXRbNV0qaSxlfSxkYy5tdWx0aXBseVNjYWxhckFuZEFkZD1mdW5jdGlvbihlLHQsaSxyKXtyZXR1cm4gZVswXT10WzBdK2lbMF0qcixlWzFdPXRbMV0raVsxXSpyLGVbMl09dFsyXStpWzJdKnIsZVszXT10WzNdK2lbM10qcixlWzRdPXRbNF0raVs0XSpyLGVbNV09dFs1XStpWzVdKnIsZX0sZGMuZXhhY3RFcXVhbHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT09PXRbMF0mJmVbMV09PT10WzFdJiZlWzJdPT09dFsyXSYmZVszXT09PXRbM10mJmVbNF09PT10WzRdJiZlWzVdPT09dFs1XX0sZGMuZXF1YWxzPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZVswXSxyPWVbMV0sbj1lWzJdLG89ZVszXSxzPWVbNF0sYT1lWzVdLGw9dFswXSxjPXRbMV0saD10WzJdLHU9dFszXSxkPXRbNF0scD10WzVdO3JldHVybiBNYXRoLmFicyhpLWwpPD1mYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoaSksTWF0aC5hYnMobCkpJiZNYXRoLmFicyhyLWMpPD1mYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMociksTWF0aC5hYnMoYykpJiZNYXRoLmFicyhuLWgpPD1mYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMobiksTWF0aC5hYnMoaCkpJiZNYXRoLmFicyhvLXUpPD1mYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMobyksTWF0aC5hYnModSkpJiZNYXRoLmFicyhzLWQpPD1mYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMocyksTWF0aC5hYnMoZCkpJiZNYXRoLmFicyhhLXApPD1mYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYSksTWF0aC5hYnMocCkpfSxkYy5zdWI9ZGMubXVsPXZvaWQgMDt2YXIgZmM9ZnVuY3Rpb24oZSx0KXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7aWYobnVsbD09PWV8fFwib2JqZWN0XCIhPT1wYyhlKSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZSlyZXR1cm4ge2RlZmF1bHQ6ZX07dmFyIGk9bWModm9pZCAwKTtpZihpJiZpLmhhcyhlKSlyZXR1cm4gaS5nZXQoZSk7dmFyIHI9e30sbj1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBvIGluIGUpaWYoXCJkZWZhdWx0XCIhPT1vJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxvKSl7dmFyIHM9bj9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbyk6bnVsbDtzJiYocy5nZXR8fHMuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkocixvLHMpOnJbb109ZVtvXTt9cmV0dXJuIHIuZGVmYXVsdD1lLGkmJmkuc2V0KGUscikscn0odGMpO2Z1bmN0aW9uIG1jKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIFdlYWtNYXApcmV0dXJuIG51bGw7dmFyIHQ9bmV3IFdlYWtNYXAsaT1uZXcgV2Vha01hcDtyZXR1cm4gKG1jPWZ1bmN0aW9uKGUpe3JldHVybiBlP2k6dH0pKGUpfWZ1bmN0aW9uIF9jKGUsdCxpKXt2YXIgcj10WzBdLG49dFsxXSxvPXRbMl0scz10WzNdLGE9dFs0XSxsPXRbNV0sYz1pWzBdLGg9aVsxXSx1PWlbMl0sZD1pWzNdLHA9aVs0XSxmPWlbNV07cmV0dXJuIGVbMF09cipjK28qaCxlWzFdPW4qYytzKmgsZVsyXT1yKnUrbypkLGVbM109bip1K3MqZCxlWzRdPXIqcCtvKmYrYSxlWzVdPW4qcCtzKmYrbCxlfWZ1bmN0aW9uIGdjKGUsdCxpKXtyZXR1cm4gZVswXT10WzBdLWlbMF0sZVsxXT10WzFdLWlbMV0sZVsyXT10WzJdLWlbMl0sZVszXT10WzNdLWlbM10sZVs0XT10WzRdLWlbNF0sZVs1XT10WzVdLWlbNV0sZX1kYy5tdWw9X2MsZGMuc3ViPWdjO3ZhciB5Yz17fTtmdW5jdGlvbiB4YyhlKXtyZXR1cm4geGM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0seGMoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHljLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHljLmNyZWF0ZT1mdW5jdGlvbigpe3ZhciBlPW5ldyB2Yy5BUlJBWV9UWVBFKDkpO3JldHVybiB2Yy5BUlJBWV9UWVBFIT1GbG9hdDMyQXJyYXkmJihlWzFdPTAsZVsyXT0wLGVbM109MCxlWzVdPTAsZVs2XT0wLGVbN109MCksZVswXT0xLGVbNF09MSxlWzhdPTEsZX0seWMuZnJvbU1hdDQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT10WzBdLGVbMV09dFsxXSxlWzJdPXRbMl0sZVszXT10WzRdLGVbNF09dFs1XSxlWzVdPXRbNl0sZVs2XT10WzhdLGVbN109dFs5XSxlWzhdPXRbMTBdLGV9LHljLmNsb25lPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyB2Yy5BUlJBWV9UWVBFKDkpO3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdFs0XT1lWzRdLHRbNV09ZVs1XSx0WzZdPWVbNl0sdFs3XT1lWzddLHRbOF09ZVs4XSx0fSx5Yy5jb3B5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09dFswXSxlWzFdPXRbMV0sZVsyXT10WzJdLGVbM109dFszXSxlWzRdPXRbNF0sZVs1XT10WzVdLGVbNl09dFs2XSxlWzddPXRbN10sZVs4XT10WzhdLGV9LHljLmZyb21WYWx1ZXM9ZnVuY3Rpb24oZSx0LGkscixuLG8scyxhLGwpe3ZhciBjPW5ldyB2Yy5BUlJBWV9UWVBFKDkpO3JldHVybiBjWzBdPWUsY1sxXT10LGNbMl09aSxjWzNdPXIsY1s0XT1uLGNbNV09byxjWzZdPXMsY1s3XT1hLGNbOF09bCxjfSx5Yy5zZXQ9ZnVuY3Rpb24oZSx0LGkscixuLG8scyxhLGwsYyl7cmV0dXJuIGVbMF09dCxlWzFdPWksZVsyXT1yLGVbM109bixlWzRdPW8sZVs1XT1zLGVbNl09YSxlWzddPWwsZVs4XT1jLGV9LHljLmlkZW50aXR5PWZ1bmN0aW9uKGUpe3JldHVybiBlWzBdPTEsZVsxXT0wLGVbMl09MCxlWzNdPTAsZVs0XT0xLGVbNV09MCxlWzZdPTAsZVs3XT0wLGVbOF09MSxlfSx5Yy50cmFuc3Bvc2U9ZnVuY3Rpb24oZSx0KXtpZihlPT09dCl7dmFyIGk9dFsxXSxyPXRbMl0sbj10WzVdO2VbMV09dFszXSxlWzJdPXRbNl0sZVszXT1pLGVbNV09dFs3XSxlWzZdPXIsZVs3XT1uO31lbHNlIGVbMF09dFswXSxlWzFdPXRbM10sZVsyXT10WzZdLGVbM109dFsxXSxlWzRdPXRbNF0sZVs1XT10WzddLGVbNl09dFsyXSxlWzddPXRbNV0sZVs4XT10WzhdO3JldHVybiBlfSx5Yy5pbnZlcnQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT10WzBdLHI9dFsxXSxuPXRbMl0sbz10WzNdLHM9dFs0XSxhPXRbNV0sbD10WzZdLGM9dFs3XSxoPXRbOF0sdT1oKnMtYSpjLGQ9LWgqbythKmwscD1jKm8tcypsLGY9aSp1K3IqZCtuKnA7cmV0dXJuIGY/KGVbMF09dSooZj0xL2YpLGVbMV09KC1oKnIrbipjKSpmLGVbMl09KGEqci1uKnMpKmYsZVszXT1kKmYsZVs0XT0oaCppLW4qbCkqZixlWzVdPSgtYSppK24qbykqZixlWzZdPXAqZixlWzddPSgtYyppK3IqbCkqZixlWzhdPShzKmktcipvKSpmLGUpOm51bGx9LHljLmFkam9pbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT10WzBdLHI9dFsxXSxuPXRbMl0sbz10WzNdLHM9dFs0XSxhPXRbNV0sbD10WzZdLGM9dFs3XSxoPXRbOF07cmV0dXJuIGVbMF09cypoLWEqYyxlWzFdPW4qYy1yKmgsZVsyXT1yKmEtbipzLGVbM109YSpsLW8qaCxlWzRdPWkqaC1uKmwsZVs1XT1uKm8taSphLGVbNl09bypjLXMqbCxlWzddPXIqbC1pKmMsZVs4XT1pKnMtcipvLGV9LHljLmRldGVybWluYW50PWZ1bmN0aW9uKGUpe3ZhciB0PWVbM10saT1lWzRdLHI9ZVs1XSxuPWVbNl0sbz1lWzddLHM9ZVs4XTtyZXR1cm4gZVswXSoocyppLXIqbykrZVsxXSooLXMqdCtyKm4pK2VbMl0qKG8qdC1pKm4pfSx5Yy5tdWx0aXBseT13Yyx5Yy50cmFuc2xhdGU9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdLG89dFsyXSxzPXRbM10sYT10WzRdLGw9dFs1XSxjPXRbNl0saD10WzddLHU9dFs4XSxkPWlbMF0scD1pWzFdO3JldHVybiBlWzBdPXIsZVsxXT1uLGVbMl09byxlWzNdPXMsZVs0XT1hLGVbNV09bCxlWzZdPWQqcitwKnMrYyxlWzddPWQqbitwKmEraCxlWzhdPWQqbytwKmwrdSxlfSx5Yy5yb3RhdGU9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdLG89dFsyXSxzPXRbM10sYT10WzRdLGw9dFs1XSxjPXRbNl0saD10WzddLHU9dFs4XSxkPU1hdGguc2luKGkpLHA9TWF0aC5jb3MoaSk7cmV0dXJuIGVbMF09cCpyK2QqcyxlWzFdPXAqbitkKmEsZVsyXT1wKm8rZCpsLGVbM109cCpzLWQqcixlWzRdPXAqYS1kKm4sZVs1XT1wKmwtZCpvLGVbNl09YyxlWzddPWgsZVs4XT11LGV9LHljLnNjYWxlPWZ1bmN0aW9uKGUsdCxpKXt2YXIgcj1pWzBdLG49aVsxXTtyZXR1cm4gZVswXT1yKnRbMF0sZVsxXT1yKnRbMV0sZVsyXT1yKnRbMl0sZVszXT1uKnRbM10sZVs0XT1uKnRbNF0sZVs1XT1uKnRbNV0sZVs2XT10WzZdLGVbN109dFs3XSxlWzhdPXRbOF0sZX0seWMuZnJvbVRyYW5zbGF0aW9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09MSxlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTEsZVs1XT0wLGVbNl09dFswXSxlWzddPXRbMV0sZVs4XT0xLGV9LHljLmZyb21Sb3RhdGlvbj1mdW5jdGlvbihlLHQpe3ZhciBpPU1hdGguc2luKHQpLHI9TWF0aC5jb3ModCk7cmV0dXJuIGVbMF09cixlWzFdPWksZVsyXT0wLGVbM109LWksZVs0XT1yLGVbNV09MCxlWzZdPTAsZVs3XT0wLGVbOF09MSxlfSx5Yy5mcm9tU2NhbGluZz1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPXRbMF0sZVsxXT0wLGVbMl09MCxlWzNdPTAsZVs0XT10WzFdLGVbNV09MCxlWzZdPTAsZVs3XT0wLGVbOF09MSxlfSx5Yy5mcm9tTWF0MmQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT10WzBdLGVbMV09dFsxXSxlWzJdPTAsZVszXT10WzJdLGVbNF09dFszXSxlWzVdPTAsZVs2XT10WzRdLGVbN109dFs1XSxlWzhdPTEsZX0seWMuZnJvbVF1YXQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT10WzBdLHI9dFsxXSxuPXRbMl0sbz10WzNdLHM9aStpLGE9cityLGw9bituLGM9aSpzLGg9cipzLHU9ciphLGQ9bipzLHA9biphLGY9bipsLG09bypzLF89byphLGc9bypsO3JldHVybiBlWzBdPTEtdS1mLGVbM109aC1nLGVbNl09ZCtfLGVbMV09aCtnLGVbNF09MS1jLWYsZVs3XT1wLW0sZVsyXT1kLV8sZVs1XT1wK20sZVs4XT0xLWMtdSxlfSx5Yy5ub3JtYWxGcm9tTWF0ND1mdW5jdGlvbihlLHQpe3ZhciBpPXRbMF0scj10WzFdLG49dFsyXSxvPXRbM10scz10WzRdLGE9dFs1XSxsPXRbNl0sYz10WzddLGg9dFs4XSx1PXRbOV0sZD10WzEwXSxwPXRbMTFdLGY9dFsxMl0sbT10WzEzXSxfPXRbMTRdLGc9dFsxNV0seT1pKmEtcipzLHg9aSpsLW4qcyx2PWkqYy1vKnMsYj1yKmwtbiphLHc9cipjLW8qYSxUPW4qYy1vKmwsRT1oKm0tdSpmLE09aCpfLWQqZixBPWgqZy1wKmYsUz11Kl8tZCptLEk9dSpnLXAqbSxDPWQqZy1wKl8sej15KkMteCpJK3YqUytiKkEtdypNK1QqRTtyZXR1cm4gej8oZVswXT0oYSpDLWwqSStjKlMpKih6PTEveiksZVsxXT0obCpBLXMqQy1jKk0pKnosZVsyXT0ocypJLWEqQStjKkUpKnosZVszXT0obipJLXIqQy1vKlMpKnosZVs0XT0oaSpDLW4qQStvKk0pKnosZVs1XT0ocipBLWkqSS1vKkUpKnosZVs2XT0obSpULV8qdytnKmIpKnosZVs3XT0oXyp2LWYqVC1nKngpKnosZVs4XT0oZip3LW0qditnKnkpKnosZSk6bnVsbH0seWMucHJvamVjdGlvbj1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGVbMF09Mi90LGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09LTIvaSxlWzVdPTAsZVs2XT0tMSxlWzddPTEsZVs4XT0xLGV9LHljLnN0cj1mdW5jdGlvbihlKXtyZXR1cm4gXCJtYXQzKFwiK2VbMF0rXCIsIFwiK2VbMV0rXCIsIFwiK2VbMl0rXCIsIFwiK2VbM10rXCIsIFwiK2VbNF0rXCIsIFwiK2VbNV0rXCIsIFwiK2VbNl0rXCIsIFwiK2VbN10rXCIsIFwiK2VbOF0rXCIpXCJ9LHljLmZyb2I9ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguaHlwb3QoZVswXSxlWzFdLGVbMl0sZVszXSxlWzRdLGVbNV0sZVs2XSxlWzddLGVbOF0pfSx5Yy5hZGQ9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBlWzBdPXRbMF0raVswXSxlWzFdPXRbMV0raVsxXSxlWzJdPXRbMl0raVsyXSxlWzNdPXRbM10raVszXSxlWzRdPXRbNF0raVs0XSxlWzVdPXRbNV0raVs1XSxlWzZdPXRbNl0raVs2XSxlWzddPXRbN10raVs3XSxlWzhdPXRbOF0raVs4XSxlfSx5Yy5zdWJ0cmFjdD1UYyx5Yy5tdWx0aXBseVNjYWxhcj1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGVbMF09dFswXSppLGVbMV09dFsxXSppLGVbMl09dFsyXSppLGVbM109dFszXSppLGVbNF09dFs0XSppLGVbNV09dFs1XSppLGVbNl09dFs2XSppLGVbN109dFs3XSppLGVbOF09dFs4XSppLGV9LHljLm11bHRpcGx5U2NhbGFyQW5kQWRkPWZ1bmN0aW9uKGUsdCxpLHIpe3JldHVybiBlWzBdPXRbMF0raVswXSpyLGVbMV09dFsxXStpWzFdKnIsZVsyXT10WzJdK2lbMl0qcixlWzNdPXRbM10raVszXSpyLGVbNF09dFs0XStpWzRdKnIsZVs1XT10WzVdK2lbNV0qcixlWzZdPXRbNl0raVs2XSpyLGVbN109dFs3XStpWzddKnIsZVs4XT10WzhdK2lbOF0qcixlfSx5Yy5leGFjdEVxdWFscz1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPT09dFswXSYmZVsxXT09PXRbMV0mJmVbMl09PT10WzJdJiZlWzNdPT09dFszXSYmZVs0XT09PXRbNF0mJmVbNV09PT10WzVdJiZlWzZdPT09dFs2XSYmZVs3XT09PXRbN10mJmVbOF09PT10WzhdfSx5Yy5lcXVhbHM9ZnVuY3Rpb24oZSx0KXt2YXIgaT1lWzBdLHI9ZVsxXSxuPWVbMl0sbz1lWzNdLHM9ZVs0XSxhPWVbNV0sbD1lWzZdLGM9ZVs3XSxoPWVbOF0sdT10WzBdLGQ9dFsxXSxwPXRbMl0sZj10WzNdLG09dFs0XSxfPXRbNV0sZz10WzZdLHk9dFs3XSx4PXRbOF07cmV0dXJuIE1hdGguYWJzKGktdSk8PXZjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhpKSxNYXRoLmFicyh1KSkmJk1hdGguYWJzKHItZCk8PXZjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhyKSxNYXRoLmFicyhkKSkmJk1hdGguYWJzKG4tcCk8PXZjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhuKSxNYXRoLmFicyhwKSkmJk1hdGguYWJzKG8tZik8PXZjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhvKSxNYXRoLmFicyhmKSkmJk1hdGguYWJzKHMtbSk8PXZjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhzKSxNYXRoLmFicyhtKSkmJk1hdGguYWJzKGEtXyk8PXZjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhKSxNYXRoLmFicyhfKSkmJk1hdGguYWJzKGwtZyk8PXZjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhsKSxNYXRoLmFicyhnKSkmJk1hdGguYWJzKGMteSk8PXZjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhjKSxNYXRoLmFicyh5KSkmJk1hdGguYWJzKGgteCk8PXZjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhoKSxNYXRoLmFicyh4KSl9LHljLnN1Yj15Yy5tdWw9dm9pZCAwO3ZhciB2Yz1mdW5jdGlvbihlLHQpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTtpZihudWxsPT09ZXx8XCJvYmplY3RcIiE9PXhjKGUpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXJldHVybiB7ZGVmYXVsdDplfTt2YXIgaT1iYyh2b2lkIDApO2lmKGkmJmkuaGFzKGUpKXJldHVybiBpLmdldChlKTt2YXIgcj17fSxuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtmb3IodmFyIG8gaW4gZSlpZihcImRlZmF1bHRcIiE9PW8mJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pKXt2YXIgcz1uP09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxvKTpudWxsO3MmJihzLmdldHx8cy5zZXQpP09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLG8scyk6cltvXT1lW29dO31yZXR1cm4gci5kZWZhdWx0PWUsaSYmaS5zZXQoZSxyKSxyfSh0Yyk7ZnVuY3Rpb24gYmMoZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgV2Vha01hcClyZXR1cm4gbnVsbDt2YXIgdD1uZXcgV2Vha01hcCxpPW5ldyBXZWFrTWFwO3JldHVybiAoYmM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/aTp0fSkoZSl9ZnVuY3Rpb24gd2MoZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdLG89dFsyXSxzPXRbM10sYT10WzRdLGw9dFs1XSxjPXRbNl0saD10WzddLHU9dFs4XSxkPWlbMF0scD1pWzFdLGY9aVsyXSxtPWlbM10sXz1pWzRdLGc9aVs1XSx5PWlbNl0seD1pWzddLHY9aVs4XTtyZXR1cm4gZVswXT1kKnIrcCpzK2YqYyxlWzFdPWQqbitwKmErZipoLGVbMl09ZCpvK3AqbCtmKnUsZVszXT1tKnIrXypzK2cqYyxlWzRdPW0qbitfKmErZypoLGVbNV09bSpvK18qbCtnKnUsZVs2XT15KnIreCpzK3YqYyxlWzddPXkqbit4KmErdipoLGVbOF09eSpvK3gqbCt2KnUsZX1mdW5jdGlvbiBUYyhlLHQsaSl7cmV0dXJuIGVbMF09dFswXS1pWzBdLGVbMV09dFsxXS1pWzFdLGVbMl09dFsyXS1pWzJdLGVbM109dFszXS1pWzNdLGVbNF09dFs0XS1pWzRdLGVbNV09dFs1XS1pWzVdLGVbNl09dFs2XS1pWzZdLGVbN109dFs3XS1pWzddLGVbOF09dFs4XS1pWzhdLGV9eWMubXVsPXdjLHljLnN1Yj1UYzt2YXIgRWM9e307ZnVuY3Rpb24gTWMoZSl7cmV0dXJuIE1jPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LE1jKGUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFYyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxFYy5jcmVhdGU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgQWMuQVJSQVlfVFlQRSgxNik7cmV0dXJuIEFjLkFSUkFZX1RZUEUhPUZsb2F0MzJBcnJheSYmKGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MCxlWzZdPTAsZVs3XT0wLGVbOF09MCxlWzldPTAsZVsxMV09MCxlWzEyXT0wLGVbMTNdPTAsZVsxNF09MCksZVswXT0xLGVbNV09MSxlWzEwXT0xLGVbMTVdPTEsZX0sRWMuY2xvbmU9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEFjLkFSUkFZX1RZUEUoMTYpO3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdFs0XT1lWzRdLHRbNV09ZVs1XSx0WzZdPWVbNl0sdFs3XT1lWzddLHRbOF09ZVs4XSx0WzldPWVbOV0sdFsxMF09ZVsxMF0sdFsxMV09ZVsxMV0sdFsxMl09ZVsxMl0sdFsxM109ZVsxM10sdFsxNF09ZVsxNF0sdFsxNV09ZVsxNV0sdH0sRWMuY29weT1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlWzNdPXRbM10sZVs0XT10WzRdLGVbNV09dFs1XSxlWzZdPXRbNl0sZVs3XT10WzddLGVbOF09dFs4XSxlWzldPXRbOV0sZVsxMF09dFsxMF0sZVsxMV09dFsxMV0sZVsxMl09dFsxMl0sZVsxM109dFsxM10sZVsxNF09dFsxNF0sZVsxNV09dFsxNV0sZX0sRWMuZnJvbVZhbHVlcz1mdW5jdGlvbihlLHQsaSxyLG4sbyxzLGEsbCxjLGgsdSxkLHAsZixtKXt2YXIgXz1uZXcgQWMuQVJSQVlfVFlQRSgxNik7cmV0dXJuIF9bMF09ZSxfWzFdPXQsX1syXT1pLF9bM109cixfWzRdPW4sX1s1XT1vLF9bNl09cyxfWzddPWEsX1s4XT1sLF9bOV09YyxfWzEwXT1oLF9bMTFdPXUsX1sxMl09ZCxfWzEzXT1wLF9bMTRdPWYsX1sxNV09bSxffSxFYy5zZXQ9ZnVuY3Rpb24oZSx0LGkscixuLG8scyxhLGwsYyxoLHUsZCxwLGYsbSxfKXtyZXR1cm4gZVswXT10LGVbMV09aSxlWzJdPXIsZVszXT1uLGVbNF09byxlWzVdPXMsZVs2XT1hLGVbN109bCxlWzhdPWMsZVs5XT1oLGVbMTBdPXUsZVsxMV09ZCxlWzEyXT1wLGVbMTNdPWYsZVsxNF09bSxlWzE1XT1fLGV9LEVjLmlkZW50aXR5PUljLEVjLnRyYW5zcG9zZT1mdW5jdGlvbihlLHQpe2lmKGU9PT10KXt2YXIgaT10WzFdLHI9dFsyXSxuPXRbM10sbz10WzZdLHM9dFs3XSxhPXRbMTFdO2VbMV09dFs0XSxlWzJdPXRbOF0sZVszXT10WzEyXSxlWzRdPWksZVs2XT10WzldLGVbN109dFsxM10sZVs4XT1yLGVbOV09byxlWzExXT10WzE0XSxlWzEyXT1uLGVbMTNdPXMsZVsxNF09YTt9ZWxzZSBlWzBdPXRbMF0sZVsxXT10WzRdLGVbMl09dFs4XSxlWzNdPXRbMTJdLGVbNF09dFsxXSxlWzVdPXRbNV0sZVs2XT10WzldLGVbN109dFsxM10sZVs4XT10WzJdLGVbOV09dFs2XSxlWzEwXT10WzEwXSxlWzExXT10WzE0XSxlWzEyXT10WzNdLGVbMTNdPXRbN10sZVsxNF09dFsxMV0sZVsxNV09dFsxNV07cmV0dXJuIGV9LEVjLmludmVydD1mdW5jdGlvbihlLHQpe3ZhciBpPXRbMF0scj10WzFdLG49dFsyXSxvPXRbM10scz10WzRdLGE9dFs1XSxsPXRbNl0sYz10WzddLGg9dFs4XSx1PXRbOV0sZD10WzEwXSxwPXRbMTFdLGY9dFsxMl0sbT10WzEzXSxfPXRbMTRdLGc9dFsxNV0seT1pKmEtcipzLHg9aSpsLW4qcyx2PWkqYy1vKnMsYj1yKmwtbiphLHc9cipjLW8qYSxUPW4qYy1vKmwsRT1oKm0tdSpmLE09aCpfLWQqZixBPWgqZy1wKmYsUz11Kl8tZCptLEk9dSpnLXAqbSxDPWQqZy1wKl8sej15KkMteCpJK3YqUytiKkEtdypNK1QqRTtyZXR1cm4gej8oZVswXT0oYSpDLWwqSStjKlMpKih6PTEveiksZVsxXT0obipJLXIqQy1vKlMpKnosZVsyXT0obSpULV8qdytnKmIpKnosZVszXT0oZCp3LXUqVC1wKmIpKnosZVs0XT0obCpBLXMqQy1jKk0pKnosZVs1XT0oaSpDLW4qQStvKk0pKnosZVs2XT0oXyp2LWYqVC1nKngpKnosZVs3XT0oaCpULWQqditwKngpKnosZVs4XT0ocypJLWEqQStjKkUpKnosZVs5XT0ocipBLWkqSS1vKkUpKnosZVsxMF09KGYqdy1tKnYrZyp5KSp6LGVbMTFdPSh1KnYtaCp3LXAqeSkqeixlWzEyXT0oYSpNLXMqUy1sKkUpKnosZVsxM109KGkqUy1yKk0rbipFKSp6LGVbMTRdPShtKngtZipiLV8qeSkqeixlWzE1XT0oaCpiLXUqeCtkKnkpKnosZSk6bnVsbH0sRWMuYWRqb2ludD1mdW5jdGlvbihlLHQpe3ZhciBpPXRbMF0scj10WzFdLG49dFsyXSxvPXRbM10scz10WzRdLGE9dFs1XSxsPXRbNl0sYz10WzddLGg9dFs4XSx1PXRbOV0sZD10WzEwXSxwPXRbMTFdLGY9dFsxMl0sbT10WzEzXSxfPXRbMTRdLGc9dFsxNV07cmV0dXJuIGVbMF09YSooZCpnLXAqXyktdSoobCpnLWMqXykrbSoobCpwLWMqZCksZVsxXT0tKHIqKGQqZy1wKl8pLXUqKG4qZy1vKl8pK20qKG4qcC1vKmQpKSxlWzJdPXIqKGwqZy1jKl8pLWEqKG4qZy1vKl8pK20qKG4qYy1vKmwpLGVbM109LShyKihsKnAtYypkKS1hKihuKnAtbypkKSt1KihuKmMtbypsKSksZVs0XT0tKHMqKGQqZy1wKl8pLWgqKGwqZy1jKl8pK2YqKGwqcC1jKmQpKSxlWzVdPWkqKGQqZy1wKl8pLWgqKG4qZy1vKl8pK2YqKG4qcC1vKmQpLGVbNl09LShpKihsKmctYypfKS1zKihuKmctbypfKStmKihuKmMtbypsKSksZVs3XT1pKihsKnAtYypkKS1zKihuKnAtbypkKStoKihuKmMtbypsKSxlWzhdPXMqKHUqZy1wKm0pLWgqKGEqZy1jKm0pK2YqKGEqcC1jKnUpLGVbOV09LShpKih1KmctcCptKS1oKihyKmctbyptKStmKihyKnAtbyp1KSksZVsxMF09aSooYSpnLWMqbSktcyoocipnLW8qbSkrZioocipjLW8qYSksZVsxMV09LShpKihhKnAtYyp1KS1zKihyKnAtbyp1KStoKihyKmMtbyphKSksZVsxMl09LShzKih1Kl8tZCptKS1oKihhKl8tbCptKStmKihhKmQtbCp1KSksZVsxM109aSoodSpfLWQqbSktaCoocipfLW4qbSkrZioocipkLW4qdSksZVsxNF09LShpKihhKl8tbCptKS1zKihyKl8tbiptKStmKihyKmwtbiphKSksZVsxNV09aSooYSpkLWwqdSktcyoocipkLW4qdSkraCoocipsLW4qYSksZX0sRWMuZGV0ZXJtaW5hbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXSxpPWVbMV0scj1lWzJdLG49ZVszXSxvPWVbNF0scz1lWzVdLGE9ZVs2XSxsPWVbN10sYz1lWzhdLGg9ZVs5XSx1PWVbMTBdLGQ9ZVsxMV0scD1lWzEyXSxmPWVbMTNdLG09ZVsxNF0sXz1lWzE1XTtyZXR1cm4gKHQqcy1pKm8pKih1Kl8tZCptKS0odCphLXIqbykqKGgqXy1kKmYpKyh0KmwtbipvKSooaCptLXUqZikrKGkqYS1yKnMpKihjKl8tZCpwKS0oaSpsLW4qcykqKGMqbS11KnApKyhyKmwtbiphKSooYypmLWgqcCl9LEVjLm11bHRpcGx5PUNjLEVjLnRyYW5zbGF0ZT1mdW5jdGlvbihlLHQsaSl7dmFyIHIsbixvLHMsYSxsLGMsaCx1LGQscCxmLG09aVswXSxfPWlbMV0sZz1pWzJdO3JldHVybiB0PT09ZT8oZVsxMl09dFswXSptK3RbNF0qXyt0WzhdKmcrdFsxMl0sZVsxM109dFsxXSptK3RbNV0qXyt0WzldKmcrdFsxM10sZVsxNF09dFsyXSptK3RbNl0qXyt0WzEwXSpnK3RbMTRdLGVbMTVdPXRbM10qbSt0WzddKl8rdFsxMV0qZyt0WzE1XSk6KG49dFsxXSxvPXRbMl0scz10WzNdLGE9dFs0XSxsPXRbNV0sYz10WzZdLGg9dFs3XSx1PXRbOF0sZD10WzldLHA9dFsxMF0sZj10WzExXSxlWzBdPXI9dFswXSxlWzFdPW4sZVsyXT1vLGVbM109cyxlWzRdPWEsZVs1XT1sLGVbNl09YyxlWzddPWgsZVs4XT11LGVbOV09ZCxlWzEwXT1wLGVbMTFdPWYsZVsxMl09ciptK2EqXyt1KmcrdFsxMl0sZVsxM109biptK2wqXytkKmcrdFsxM10sZVsxNF09byptK2MqXytwKmcrdFsxNF0sZVsxNV09cyptK2gqXytmKmcrdFsxNV0pLGV9LEVjLnNjYWxlPWZ1bmN0aW9uKGUsdCxpKXt2YXIgcj1pWzBdLG49aVsxXSxvPWlbMl07cmV0dXJuIGVbMF09dFswXSpyLGVbMV09dFsxXSpyLGVbMl09dFsyXSpyLGVbM109dFszXSpyLGVbNF09dFs0XSpuLGVbNV09dFs1XSpuLGVbNl09dFs2XSpuLGVbN109dFs3XSpuLGVbOF09dFs4XSpvLGVbOV09dFs5XSpvLGVbMTBdPXRbMTBdKm8sZVsxMV09dFsxMV0qbyxlWzEyXT10WzEyXSxlWzEzXT10WzEzXSxlWzE0XT10WzE0XSxlWzE1XT10WzE1XSxlfSxFYy5yb3RhdGU9ZnVuY3Rpb24oZSx0LGkscil7dmFyIG4sbyxzLGEsbCxjLGgsdSxkLHAsZixtLF8sZyx5LHgsdixiLHcsVCxFLE0sQSxTLEk9clswXSxDPXJbMV0sej1yWzJdLEQ9TWF0aC5oeXBvdChJLEMseik7cmV0dXJuIEQ8QWMuRVBTSUxPTj9udWxsOihJKj1EPTEvRCxDKj1ELHoqPUQsbj1NYXRoLnNpbihpKSxvPU1hdGguY29zKGkpLGw9dFsxXSxjPXRbMl0saD10WzNdLGQ9dFs1XSxwPXRbNl0sZj10WzddLF89dFs5XSxnPXRbMTBdLHk9dFsxMV0sdz1JKkMqKHM9MS1vKS16Km4sVD1DKkMqcytvLEU9eipDKnMrSSpuLE09SSp6KnMrQypuLEE9Qyp6KnMtSSpuLFM9eip6KnMrbyxlWzBdPShhPXRbMF0pKih4PUkqSSpzK28pKyh1PXRbNF0pKih2PUMqSSpzK3oqbikrKG09dFs4XSkqKGI9eipJKnMtQypuKSxlWzFdPWwqeCtkKnYrXypiLGVbMl09Yyp4K3AqditnKmIsZVszXT1oKngrZip2K3kqYixlWzRdPWEqdyt1KlQrbSpFLGVbNV09bCp3K2QqVCtfKkUsZVs2XT1jKncrcCpUK2cqRSxlWzddPWgqdytmKlQreSpFLGVbOF09YSpNK3UqQSttKlMsZVs5XT1sKk0rZCpBK18qUyxlWzEwXT1jKk0rcCpBK2cqUyxlWzExXT1oKk0rZipBK3kqUyx0IT09ZSYmKGVbMTJdPXRbMTJdLGVbMTNdPXRbMTNdLGVbMTRdPXRbMTRdLGVbMTVdPXRbMTVdKSxlKX0sRWMucm90YXRlWD1mdW5jdGlvbihlLHQsaSl7dmFyIHI9TWF0aC5zaW4oaSksbj1NYXRoLmNvcyhpKSxvPXRbNF0scz10WzVdLGE9dFs2XSxsPXRbN10sYz10WzhdLGg9dFs5XSx1PXRbMTBdLGQ9dFsxMV07cmV0dXJuIHQhPT1lJiYoZVswXT10WzBdLGVbMV09dFsxXSxlWzJdPXRbMl0sZVszXT10WzNdLGVbMTJdPXRbMTJdLGVbMTNdPXRbMTNdLGVbMTRdPXRbMTRdLGVbMTVdPXRbMTVdKSxlWzRdPW8qbitjKnIsZVs1XT1zKm4raCpyLGVbNl09YSpuK3UqcixlWzddPWwqbitkKnIsZVs4XT1jKm4tbypyLGVbOV09aCpuLXMqcixlWzEwXT11Km4tYSpyLGVbMTFdPWQqbi1sKnIsZX0sRWMucm90YXRlWT1mdW5jdGlvbihlLHQsaSl7dmFyIHI9TWF0aC5zaW4oaSksbj1NYXRoLmNvcyhpKSxvPXRbMF0scz10WzFdLGE9dFsyXSxsPXRbM10sYz10WzhdLGg9dFs5XSx1PXRbMTBdLGQ9dFsxMV07cmV0dXJuIHQhPT1lJiYoZVs0XT10WzRdLGVbNV09dFs1XSxlWzZdPXRbNl0sZVs3XT10WzddLGVbMTJdPXRbMTJdLGVbMTNdPXRbMTNdLGVbMTRdPXRbMTRdLGVbMTVdPXRbMTVdKSxlWzBdPW8qbi1jKnIsZVsxXT1zKm4taCpyLGVbMl09YSpuLXUqcixlWzNdPWwqbi1kKnIsZVs4XT1vKnIrYypuLGVbOV09cypyK2gqbixlWzEwXT1hKnIrdSpuLGVbMTFdPWwqcitkKm4sZX0sRWMucm90YXRlWj1mdW5jdGlvbihlLHQsaSl7dmFyIHI9TWF0aC5zaW4oaSksbj1NYXRoLmNvcyhpKSxvPXRbMF0scz10WzFdLGE9dFsyXSxsPXRbM10sYz10WzRdLGg9dFs1XSx1PXRbNl0sZD10WzddO3JldHVybiB0IT09ZSYmKGVbOF09dFs4XSxlWzldPXRbOV0sZVsxMF09dFsxMF0sZVsxMV09dFsxMV0sZVsxMl09dFsxMl0sZVsxM109dFsxM10sZVsxNF09dFsxNF0sZVsxNV09dFsxNV0pLGVbMF09bypuK2MqcixlWzFdPXMqbitoKnIsZVsyXT1hKm4rdSpyLGVbM109bCpuK2QqcixlWzRdPWMqbi1vKnIsZVs1XT1oKm4tcypyLGVbNl09dSpuLWEqcixlWzddPWQqbi1sKnIsZX0sRWMuZnJvbVRyYW5zbGF0aW9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09MSxlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTAsZVs1XT0xLGVbNl09MCxlWzddPTAsZVs4XT0wLGVbOV09MCxlWzEwXT0xLGVbMTFdPTAsZVsxMl09dFswXSxlWzEzXT10WzFdLGVbMTRdPXRbMl0sZVsxNV09MSxlfSxFYy5mcm9tU2NhbGluZz1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPXRbMF0sZVsxXT0wLGVbMl09MCxlWzNdPTAsZVs0XT0wLGVbNV09dFsxXSxlWzZdPTAsZVs3XT0wLGVbOF09MCxlWzldPTAsZVsxMF09dFsyXSxlWzExXT0wLGVbMTJdPTAsZVsxM109MCxlWzE0XT0wLGVbMTVdPTEsZX0sRWMuZnJvbVJvdGF0aW9uPWZ1bmN0aW9uKGUsdCxpKXt2YXIgcixuLG8scz1pWzBdLGE9aVsxXSxsPWlbMl0sYz1NYXRoLmh5cG90KHMsYSxsKTtyZXR1cm4gYzxBYy5FUFNJTE9OP251bGw6KHMqPWM9MS9jLGEqPWMsbCo9YyxyPU1hdGguc2luKHQpLG49TWF0aC5jb3ModCksZVswXT1zKnMqKG89MS1uKStuLGVbMV09YSpzKm8rbCpyLGVbMl09bCpzKm8tYSpyLGVbM109MCxlWzRdPXMqYSpvLWwqcixlWzVdPWEqYSpvK24sZVs2XT1sKmEqbytzKnIsZVs3XT0wLGVbOF09cypsKm8rYSpyLGVbOV09YSpsKm8tcypyLGVbMTBdPWwqbCpvK24sZVsxMV09MCxlWzEyXT0wLGVbMTNdPTAsZVsxNF09MCxlWzE1XT0xLGUpfSxFYy5mcm9tWFJvdGF0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIGk9TWF0aC5zaW4odCkscj1NYXRoLmNvcyh0KTtyZXR1cm4gZVswXT0xLGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MCxlWzVdPXIsZVs2XT1pLGVbN109MCxlWzhdPTAsZVs5XT0taSxlWzEwXT1yLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSxlfSxFYy5mcm9tWVJvdGF0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIGk9TWF0aC5zaW4odCkscj1NYXRoLmNvcyh0KTtyZXR1cm4gZVswXT1yLGVbMV09MCxlWzJdPS1pLGVbM109MCxlWzRdPTAsZVs1XT0xLGVbNl09MCxlWzddPTAsZVs4XT1pLGVbOV09MCxlWzEwXT1yLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSxlfSxFYy5mcm9tWlJvdGF0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIGk9TWF0aC5zaW4odCkscj1NYXRoLmNvcyh0KTtyZXR1cm4gZVswXT1yLGVbMV09aSxlWzJdPTAsZVszXT0wLGVbNF09LWksZVs1XT1yLGVbNl09MCxlWzddPTAsZVs4XT0wLGVbOV09MCxlWzEwXT0xLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSxlfSxFYy5mcm9tUm90YXRpb25UcmFuc2xhdGlvbj16YyxFYy5mcm9tUXVhdDI9ZnVuY3Rpb24oZSx0KXt2YXIgaT1uZXcgQWMuQVJSQVlfVFlQRSgzKSxyPS10WzBdLG49LXRbMV0sbz0tdFsyXSxzPXRbM10sYT10WzRdLGw9dFs1XSxjPXRbNl0saD10WzddLHU9cipyK24qbitvKm8rcypzO3JldHVybiB1PjA/KGlbMF09MiooYSpzK2gqcitsKm8tYypuKS91LGlbMV09MioobCpzK2gqbitjKnItYSpvKS91LGlbMl09MiooYypzK2gqbythKm4tbCpyKS91KTooaVswXT0yKihhKnMraCpyK2wqby1jKm4pLGlbMV09MioobCpzK2gqbitjKnItYSpvKSxpWzJdPTIqKGMqcytoKm8rYSpuLWwqcikpLHpjKGUsdCxpKSxlfSxFYy5nZXRUcmFuc2xhdGlvbj1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPXRbMTJdLGVbMV09dFsxM10sZVsyXT10WzE0XSxlfSxFYy5nZXRTY2FsaW5nPURjLEVjLmdldFJvdGF0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIGk9bmV3IEFjLkFSUkFZX1RZUEUoMyk7RGMoaSx0KTt2YXIgcj0xL2lbMF0sbj0xL2lbMV0sbz0xL2lbMl0scz10WzBdKnIsYT10WzFdKm4sbD10WzJdKm8sYz10WzRdKnIsaD10WzVdKm4sdT10WzZdKm8sZD10WzhdKnIscD10WzldKm4sZj10WzEwXSpvLG09cytoK2YsXz0wO3JldHVybiBtPjA/KF89MipNYXRoLnNxcnQobSsxKSxlWzNdPS4yNSpfLGVbMF09KHUtcCkvXyxlWzFdPShkLWwpL18sZVsyXT0oYS1jKS9fKTpzPmgmJnM+Zj8oXz0yKk1hdGguc3FydCgxK3MtaC1mKSxlWzNdPSh1LXApL18sZVswXT0uMjUqXyxlWzFdPShhK2MpL18sZVsyXT0oZCtsKS9fKTpoPmY/KF89MipNYXRoLnNxcnQoMStoLXMtZiksZVszXT0oZC1sKS9fLGVbMF09KGErYykvXyxlWzFdPS4yNSpfLGVbMl09KHUrcCkvXyk6KF89MipNYXRoLnNxcnQoMStmLXMtaCksZVszXT0oYS1jKS9fLGVbMF09KGQrbCkvXyxlWzFdPSh1K3ApL18sZVsyXT0uMjUqXyksZX0sRWMuZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZT1mdW5jdGlvbihlLHQsaSxyKXt2YXIgbj10WzBdLG89dFsxXSxzPXRbMl0sYT10WzNdLGw9bituLGM9bytvLGg9cytzLHU9bipsLGQ9bipjLHA9bipoLGY9bypjLG09bypoLF89cypoLGc9YSpsLHk9YSpjLHg9YSpoLHY9clswXSxiPXJbMV0sdz1yWzJdO3JldHVybiBlWzBdPSgxLShmK18pKSp2LGVbMV09KGQreCkqdixlWzJdPShwLXkpKnYsZVszXT0wLGVbNF09KGQteCkqYixlWzVdPSgxLSh1K18pKSpiLGVbNl09KG0rZykqYixlWzddPTAsZVs4XT0ocCt5KSp3LGVbOV09KG0tZykqdyxlWzEwXT0oMS0odStmKSkqdyxlWzExXT0wLGVbMTJdPWlbMF0sZVsxM109aVsxXSxlWzE0XT1pWzJdLGVbMTVdPTEsZX0sRWMuZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZU9yaWdpbj1mdW5jdGlvbihlLHQsaSxyLG4pe3ZhciBvPXRbMF0scz10WzFdLGE9dFsyXSxsPXRbM10sYz1vK28saD1zK3MsdT1hK2EsZD1vKmMscD1vKmgsZj1vKnUsbT1zKmgsXz1zKnUsZz1hKnUseT1sKmMseD1sKmgsdj1sKnUsYj1yWzBdLHc9clsxXSxUPXJbMl0sRT1uWzBdLE09blsxXSxBPW5bMl0sUz0oMS0obStnKSkqYixJPShwK3YpKmIsQz0oZi14KSpiLHo9KHAtdikqdyxEPSgxLShkK2cpKSp3LFA9KF8reSkqdyxSPShmK3gpKlQsTD0oXy15KSpULGs9KDEtKGQrbSkpKlQ7cmV0dXJuIGVbMF09UyxlWzFdPUksZVsyXT1DLGVbM109MCxlWzRdPXosZVs1XT1ELGVbNl09UCxlWzddPTAsZVs4XT1SLGVbOV09TCxlWzEwXT1rLGVbMTFdPTAsZVsxMl09aVswXStFLShTKkUreipNK1IqQSksZVsxM109aVsxXStNLShJKkUrRCpNK0wqQSksZVsxNF09aVsyXStBLShDKkUrUCpNK2sqQSksZVsxNV09MSxlfSxFYy5mcm9tUXVhdD1mdW5jdGlvbihlLHQpe3ZhciBpPXRbMF0scj10WzFdLG49dFsyXSxvPXRbM10scz1pK2ksYT1yK3IsbD1uK24sYz1pKnMsaD1yKnMsdT1yKmEsZD1uKnMscD1uKmEsZj1uKmwsbT1vKnMsXz1vKmEsZz1vKmw7cmV0dXJuIGVbMF09MS11LWYsZVsxXT1oK2csZVsyXT1kLV8sZVszXT0wLGVbNF09aC1nLGVbNV09MS1jLWYsZVs2XT1wK20sZVs3XT0wLGVbOF09ZCtfLGVbOV09cC1tLGVbMTBdPTEtYy11LGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSxlfSxFYy5mcnVzdHVtPWZ1bmN0aW9uKGUsdCxpLHIsbixvLHMpe3ZhciBhPTEvKGktdCksbD0xLyhuLXIpLGM9MS8oby1zKTtyZXR1cm4gZVswXT0yKm8qYSxlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTAsZVs1XT0yKm8qbCxlWzZdPTAsZVs3XT0wLGVbOF09KGkrdCkqYSxlWzldPShuK3IpKmwsZVsxMF09KHMrbykqYyxlWzExXT0tMSxlWzEyXT0wLGVbMTNdPTAsZVsxNF09cypvKjIqYyxlWzE1XT0wLGV9LEVjLnBlcnNwZWN0aXZlTk89UGMsRWMucGVyc3BlY3RpdmVaTz1mdW5jdGlvbihlLHQsaSxyLG4pe3ZhciBvLHM9MS9NYXRoLnRhbih0LzIpO3JldHVybiBlWzBdPXMvaSxlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTAsZVs1XT1zLGVbNl09MCxlWzddPTAsZVs4XT0wLGVbOV09MCxlWzExXT0tMSxlWzEyXT0wLGVbMTNdPTAsZVsxNV09MCxudWxsIT1uJiZuIT09MS8wPyhlWzEwXT1uKihvPTEvKHItbikpLGVbMTRdPW4qcipvKTooZVsxMF09LTEsZVsxNF09LXIpLGV9LEVjLnBlcnNwZWN0aXZlRnJvbUZpZWxkT2ZWaWV3PWZ1bmN0aW9uKGUsdCxpLHIpe3ZhciBuPU1hdGgudGFuKHQudXBEZWdyZWVzKk1hdGguUEkvMTgwKSxvPU1hdGgudGFuKHQuZG93bkRlZ3JlZXMqTWF0aC5QSS8xODApLHM9TWF0aC50YW4odC5sZWZ0RGVncmVlcypNYXRoLlBJLzE4MCksYT1NYXRoLnRhbih0LnJpZ2h0RGVncmVlcypNYXRoLlBJLzE4MCksbD0yLyhzK2EpLGM9Mi8obitvKTtyZXR1cm4gZVswXT1sLGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MCxlWzVdPWMsZVs2XT0wLGVbN109MCxlWzhdPS0ocy1hKSpsKi41LGVbOV09KG4tbykqYyouNSxlWzEwXT1yLyhpLXIpLGVbMTFdPS0xLGVbMTJdPTAsZVsxM109MCxlWzE0XT1yKmkvKGktciksZVsxNV09MCxlfSxFYy5vcnRob05PPVJjLEVjLm9ydGhvWk89ZnVuY3Rpb24oZSx0LGkscixuLG8scyl7dmFyIGE9MS8odC1pKSxsPTEvKHItbiksYz0xLyhvLXMpO3JldHVybiBlWzBdPS0yKmEsZVsxXT0wLGVbMl09MCxlWzNdPTAsZVs0XT0wLGVbNV09LTIqbCxlWzZdPTAsZVs3XT0wLGVbOF09MCxlWzldPTAsZVsxMF09YyxlWzExXT0wLGVbMTJdPSh0K2kpKmEsZVsxM109KG4rcikqbCxlWzE0XT1vKmMsZVsxNV09MSxlfSxFYy5sb29rQXQ9ZnVuY3Rpb24oZSx0LGkscil7dmFyIG4sbyxzLGEsbCxjLGgsdSxkLHAsZj10WzBdLG09dFsxXSxfPXRbMl0sZz1yWzBdLHk9clsxXSx4PXJbMl0sdj1pWzBdLGI9aVsxXSx3PWlbMl07cmV0dXJuIE1hdGguYWJzKGYtdik8QWMuRVBTSUxPTiYmTWF0aC5hYnMobS1iKTxBYy5FUFNJTE9OJiZNYXRoLmFicyhfLXcpPEFjLkVQU0lMT04/SWMoZSk6KGg9Zi12LHU9bS1iLGQ9Xy13LG49eSooZCo9cD0xL01hdGguaHlwb3QoaCx1LGQpKS14Kih1Kj1wKSxvPXgqKGgqPXApLWcqZCxzPWcqdS15KmgsKHA9TWF0aC5oeXBvdChuLG8scykpPyhuKj1wPTEvcCxvKj1wLHMqPXApOihuPTAsbz0wLHM9MCksYT11KnMtZCpvLGw9ZCpuLWgqcyxjPWgqby11Km4sKHA9TWF0aC5oeXBvdChhLGwsYykpPyhhKj1wPTEvcCxsKj1wLGMqPXApOihhPTAsbD0wLGM9MCksZVswXT1uLGVbMV09YSxlWzJdPWgsZVszXT0wLGVbNF09byxlWzVdPWwsZVs2XT11LGVbN109MCxlWzhdPXMsZVs5XT1jLGVbMTBdPWQsZVsxMV09MCxlWzEyXT0tKG4qZitvKm0rcypfKSxlWzEzXT0tKGEqZitsKm0rYypfKSxlWzE0XT0tKGgqZit1Km0rZCpfKSxlWzE1XT0xLGUpfSxFYy50YXJnZXRUbz1mdW5jdGlvbihlLHQsaSxyKXt2YXIgbj10WzBdLG89dFsxXSxzPXRbMl0sYT1yWzBdLGw9clsxXSxjPXJbMl0saD1uLWlbMF0sdT1vLWlbMV0sZD1zLWlbMl0scD1oKmgrdSp1K2QqZDtwPjAmJihoKj1wPTEvTWF0aC5zcXJ0KHApLHUqPXAsZCo9cCk7dmFyIGY9bCpkLWMqdSxtPWMqaC1hKmQsXz1hKnUtbCpoO3JldHVybiAocD1mKmYrbSptK18qXyk+MCYmKGYqPXA9MS9NYXRoLnNxcnQocCksbSo9cCxfKj1wKSxlWzBdPWYsZVsxXT1tLGVbMl09XyxlWzNdPTAsZVs0XT11Kl8tZCptLGVbNV09ZCpmLWgqXyxlWzZdPWgqbS11KmYsZVs3XT0wLGVbOF09aCxlWzldPXUsZVsxMF09ZCxlWzExXT0wLGVbMTJdPW4sZVsxM109byxlWzE0XT1zLGVbMTVdPTEsZX0sRWMuc3RyPWZ1bmN0aW9uKGUpe3JldHVybiBcIm1hdDQoXCIrZVswXStcIiwgXCIrZVsxXStcIiwgXCIrZVsyXStcIiwgXCIrZVszXStcIiwgXCIrZVs0XStcIiwgXCIrZVs1XStcIiwgXCIrZVs2XStcIiwgXCIrZVs3XStcIiwgXCIrZVs4XStcIiwgXCIrZVs5XStcIiwgXCIrZVsxMF0rXCIsIFwiK2VbMTFdK1wiLCBcIitlWzEyXStcIiwgXCIrZVsxM10rXCIsIFwiK2VbMTRdK1wiLCBcIitlWzE1XStcIilcIn0sRWMuZnJvYj1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5oeXBvdChlWzBdLGVbMV0sZVsyXSxlWzNdLGVbNF0sZVs1XSxlWzZdLGVbN10sZVs4XSxlWzldLGVbMTBdLGVbMTFdLGVbMTJdLGVbMTNdLGVbMTRdLGVbMTVdKX0sRWMuYWRkPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZVswXT10WzBdK2lbMF0sZVsxXT10WzFdK2lbMV0sZVsyXT10WzJdK2lbMl0sZVszXT10WzNdK2lbM10sZVs0XT10WzRdK2lbNF0sZVs1XT10WzVdK2lbNV0sZVs2XT10WzZdK2lbNl0sZVs3XT10WzddK2lbN10sZVs4XT10WzhdK2lbOF0sZVs5XT10WzldK2lbOV0sZVsxMF09dFsxMF0raVsxMF0sZVsxMV09dFsxMV0raVsxMV0sZVsxMl09dFsxMl0raVsxMl0sZVsxM109dFsxM10raVsxM10sZVsxNF09dFsxNF0raVsxNF0sZVsxNV09dFsxNV0raVsxNV0sZX0sRWMuc3VidHJhY3Q9TGMsRWMubXVsdGlwbHlTY2FsYXI9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBlWzBdPXRbMF0qaSxlWzFdPXRbMV0qaSxlWzJdPXRbMl0qaSxlWzNdPXRbM10qaSxlWzRdPXRbNF0qaSxlWzVdPXRbNV0qaSxlWzZdPXRbNl0qaSxlWzddPXRbN10qaSxlWzhdPXRbOF0qaSxlWzldPXRbOV0qaSxlWzEwXT10WzEwXSppLGVbMTFdPXRbMTFdKmksZVsxMl09dFsxMl0qaSxlWzEzXT10WzEzXSppLGVbMTRdPXRbMTRdKmksZVsxNV09dFsxNV0qaSxlfSxFYy5tdWx0aXBseVNjYWxhckFuZEFkZD1mdW5jdGlvbihlLHQsaSxyKXtyZXR1cm4gZVswXT10WzBdK2lbMF0qcixlWzFdPXRbMV0raVsxXSpyLGVbMl09dFsyXStpWzJdKnIsZVszXT10WzNdK2lbM10qcixlWzRdPXRbNF0raVs0XSpyLGVbNV09dFs1XStpWzVdKnIsZVs2XT10WzZdK2lbNl0qcixlWzddPXRbN10raVs3XSpyLGVbOF09dFs4XStpWzhdKnIsZVs5XT10WzldK2lbOV0qcixlWzEwXT10WzEwXStpWzEwXSpyLGVbMTFdPXRbMTFdK2lbMTFdKnIsZVsxMl09dFsxMl0raVsxMl0qcixlWzEzXT10WzEzXStpWzEzXSpyLGVbMTRdPXRbMTRdK2lbMTRdKnIsZVsxNV09dFsxNV0raVsxNV0qcixlfSxFYy5leGFjdEVxdWFscz1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPT09dFswXSYmZVsxXT09PXRbMV0mJmVbMl09PT10WzJdJiZlWzNdPT09dFszXSYmZVs0XT09PXRbNF0mJmVbNV09PT10WzVdJiZlWzZdPT09dFs2XSYmZVs3XT09PXRbN10mJmVbOF09PT10WzhdJiZlWzldPT09dFs5XSYmZVsxMF09PT10WzEwXSYmZVsxMV09PT10WzExXSYmZVsxMl09PT10WzEyXSYmZVsxM109PT10WzEzXSYmZVsxNF09PT10WzE0XSYmZVsxNV09PT10WzE1XX0sRWMuZXF1YWxzPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZVswXSxyPWVbMV0sbj1lWzJdLG89ZVszXSxzPWVbNF0sYT1lWzVdLGw9ZVs2XSxjPWVbN10saD1lWzhdLHU9ZVs5XSxkPWVbMTBdLHA9ZVsxMV0sZj1lWzEyXSxtPWVbMTNdLF89ZVsxNF0sZz1lWzE1XSx5PXRbMF0seD10WzFdLHY9dFsyXSxiPXRbM10sdz10WzRdLFQ9dFs1XSxFPXRbNl0sTT10WzddLEE9dFs4XSxTPXRbOV0sST10WzEwXSxDPXRbMTFdLHo9dFsxMl0sRD10WzEzXSxQPXRbMTRdLFI9dFsxNV07cmV0dXJuIE1hdGguYWJzKGkteSk8PUFjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhpKSxNYXRoLmFicyh5KSkmJk1hdGguYWJzKHIteCk8PUFjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhyKSxNYXRoLmFicyh4KSkmJk1hdGguYWJzKG4tdik8PUFjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhuKSxNYXRoLmFicyh2KSkmJk1hdGguYWJzKG8tYik8PUFjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhvKSxNYXRoLmFicyhiKSkmJk1hdGguYWJzKHMtdyk8PUFjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhzKSxNYXRoLmFicyh3KSkmJk1hdGguYWJzKGEtVCk8PUFjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhKSxNYXRoLmFicyhUKSkmJk1hdGguYWJzKGwtRSk8PUFjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhsKSxNYXRoLmFicyhFKSkmJk1hdGguYWJzKGMtTSk8PUFjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhjKSxNYXRoLmFicyhNKSkmJk1hdGguYWJzKGgtQSk8PUFjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhoKSxNYXRoLmFicyhBKSkmJk1hdGguYWJzKHUtUyk8PUFjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyh1KSxNYXRoLmFicyhTKSkmJk1hdGguYWJzKGQtSSk8PUFjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhkKSxNYXRoLmFicyhJKSkmJk1hdGguYWJzKHAtQyk8PUFjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhwKSxNYXRoLmFicyhDKSkmJk1hdGguYWJzKGYteik8PUFjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhmKSxNYXRoLmFicyh6KSkmJk1hdGguYWJzKG0tRCk8PUFjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhtKSxNYXRoLmFicyhEKSkmJk1hdGguYWJzKF8tUCk8PUFjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhfKSxNYXRoLmFicyhQKSkmJk1hdGguYWJzKGctUik8PUFjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhnKSxNYXRoLmFicyhSKSl9LEVjLnN1Yj1FYy5tdWw9RWMub3J0aG89RWMucGVyc3BlY3RpdmU9dm9pZCAwO3ZhciBBYz1mdW5jdGlvbihlLHQpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTtpZihudWxsPT09ZXx8XCJvYmplY3RcIiE9PU1jKGUpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXJldHVybiB7ZGVmYXVsdDplfTt2YXIgaT1TYyh2b2lkIDApO2lmKGkmJmkuaGFzKGUpKXJldHVybiBpLmdldChlKTt2YXIgcj17fSxuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtmb3IodmFyIG8gaW4gZSlpZihcImRlZmF1bHRcIiE9PW8mJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pKXt2YXIgcz1uP09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxvKTpudWxsO3MmJihzLmdldHx8cy5zZXQpP09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLG8scyk6cltvXT1lW29dO31yZXR1cm4gci5kZWZhdWx0PWUsaSYmaS5zZXQoZSxyKSxyfSh0Yyk7ZnVuY3Rpb24gU2MoZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgV2Vha01hcClyZXR1cm4gbnVsbDt2YXIgdD1uZXcgV2Vha01hcCxpPW5ldyBXZWFrTWFwO3JldHVybiAoU2M9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/aTp0fSkoZSl9ZnVuY3Rpb24gSWMoZSl7cmV0dXJuIGVbMF09MSxlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTAsZVs1XT0xLGVbNl09MCxlWzddPTAsZVs4XT0wLGVbOV09MCxlWzEwXT0xLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSxlfWZ1bmN0aW9uIENjKGUsdCxpKXt2YXIgcj10WzBdLG49dFsxXSxvPXRbMl0scz10WzNdLGE9dFs0XSxsPXRbNV0sYz10WzZdLGg9dFs3XSx1PXRbOF0sZD10WzldLHA9dFsxMF0sZj10WzExXSxtPXRbMTJdLF89dFsxM10sZz10WzE0XSx5PXRbMTVdLHg9aVswXSx2PWlbMV0sYj1pWzJdLHc9aVszXTtyZXR1cm4gZVswXT14KnIrdiphK2IqdSt3Km0sZVsxXT14Km4rdipsK2IqZCt3Kl8sZVsyXT14Km8rdipjK2IqcCt3KmcsZVszXT14KnMrdipoK2IqZit3KnksZVs0XT0oeD1pWzRdKSpyKyh2PWlbNV0pKmErKGI9aVs2XSkqdSsodz1pWzddKSptLGVbNV09eCpuK3YqbCtiKmQrdypfLGVbNl09eCpvK3YqYytiKnArdypnLGVbN109eCpzK3YqaCtiKmYrdyp5LGVbOF09KHg9aVs4XSkqcisodj1pWzldKSphKyhiPWlbMTBdKSp1Kyh3PWlbMTFdKSptLGVbOV09eCpuK3YqbCtiKmQrdypfLGVbMTBdPXgqbyt2KmMrYipwK3cqZyxlWzExXT14KnMrdipoK2IqZit3KnksZVsxMl09KHg9aVsxMl0pKnIrKHY9aVsxM10pKmErKGI9aVsxNF0pKnUrKHc9aVsxNV0pKm0sZVsxM109eCpuK3YqbCtiKmQrdypfLGVbMTRdPXgqbyt2KmMrYipwK3cqZyxlWzE1XT14KnMrdipoK2IqZit3KnksZX1mdW5jdGlvbiB6YyhlLHQsaSl7dmFyIHI9dFswXSxuPXRbMV0sbz10WzJdLHM9dFszXSxhPXIrcixsPW4rbixjPW8rbyxoPXIqYSx1PXIqbCxkPXIqYyxwPW4qbCxmPW4qYyxtPW8qYyxfPXMqYSxnPXMqbCx5PXMqYztyZXR1cm4gZVswXT0xLShwK20pLGVbMV09dSt5LGVbMl09ZC1nLGVbM109MCxlWzRdPXUteSxlWzVdPTEtKGgrbSksZVs2XT1mK18sZVs3XT0wLGVbOF09ZCtnLGVbOV09Zi1fLGVbMTBdPTEtKGgrcCksZVsxMV09MCxlWzEyXT1pWzBdLGVbMTNdPWlbMV0sZVsxNF09aVsyXSxlWzE1XT0xLGV9ZnVuY3Rpb24gRGMoZSx0KXt2YXIgaT10WzRdLHI9dFs1XSxuPXRbNl0sbz10WzhdLHM9dFs5XSxhPXRbMTBdO3JldHVybiBlWzBdPU1hdGguaHlwb3QodFswXSx0WzFdLHRbMl0pLGVbMV09TWF0aC5oeXBvdChpLHIsbiksZVsyXT1NYXRoLmh5cG90KG8scyxhKSxlfWZ1bmN0aW9uIFBjKGUsdCxpLHIsbil7dmFyIG8scz0xL01hdGgudGFuKHQvMik7cmV0dXJuIGVbMF09cy9pLGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MCxlWzVdPXMsZVs2XT0wLGVbN109MCxlWzhdPTAsZVs5XT0wLGVbMTFdPS0xLGVbMTJdPTAsZVsxM109MCxlWzE1XT0wLG51bGwhPW4mJm4hPT0xLzA/KGVbMTBdPShuK3IpKihvPTEvKHItbikpLGVbMTRdPTIqbipyKm8pOihlWzEwXT0tMSxlWzE0XT0tMipyKSxlfWZ1bmN0aW9uIFJjKGUsdCxpLHIsbixvLHMpe3ZhciBhPTEvKHQtaSksbD0xLyhyLW4pLGM9MS8oby1zKTtyZXR1cm4gZVswXT0tMiphLGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MCxlWzVdPS0yKmwsZVs2XT0wLGVbN109MCxlWzhdPTAsZVs5XT0wLGVbMTBdPTIqYyxlWzExXT0wLGVbMTJdPSh0K2kpKmEsZVsxM109KG4rcikqbCxlWzE0XT0ocytvKSpjLGVbMTVdPTEsZX1mdW5jdGlvbiBMYyhlLHQsaSl7cmV0dXJuIGVbMF09dFswXS1pWzBdLGVbMV09dFsxXS1pWzFdLGVbMl09dFsyXS1pWzJdLGVbM109dFszXS1pWzNdLGVbNF09dFs0XS1pWzRdLGVbNV09dFs1XS1pWzVdLGVbNl09dFs2XS1pWzZdLGVbN109dFs3XS1pWzddLGVbOF09dFs4XS1pWzhdLGVbOV09dFs5XS1pWzldLGVbMTBdPXRbMTBdLWlbMTBdLGVbMTFdPXRbMTFdLWlbMTFdLGVbMTJdPXRbMTJdLWlbMTJdLGVbMTNdPXRbMTNdLWlbMTNdLGVbMTRdPXRbMTRdLWlbMTRdLGVbMTVdPXRbMTVdLWlbMTVdLGV9RWMucGVyc3BlY3RpdmU9UGMsRWMub3J0aG89UmMsRWMubXVsPUNjLEVjLnN1Yj1MYzt2YXIga2M9e30sT2M9e307ZnVuY3Rpb24gQmMoZSl7cmV0dXJuIEJjPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LEJjKGUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShPYyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYy5jcmVhdGU9VWMsT2MuY2xvbmU9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEZjLkFSUkFZX1RZUEUoMyk7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdFsyXT1lWzJdLHR9LE9jLmxlbmd0aD1WYyxPYy5mcm9tVmFsdWVzPWZ1bmN0aW9uKGUsdCxpKXt2YXIgcj1uZXcgRmMuQVJSQVlfVFlQRSgzKTtyZXR1cm4gclswXT1lLHJbMV09dCxyWzJdPWkscn0sT2MuY29weT1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlfSxPYy5zZXQ9ZnVuY3Rpb24oZSx0LGkscil7cmV0dXJuIGVbMF09dCxlWzFdPWksZVsyXT1yLGV9LE9jLmFkZD1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGVbMF09dFswXStpWzBdLGVbMV09dFsxXStpWzFdLGVbMl09dFsyXStpWzJdLGV9LE9jLnN1YnRyYWN0PWpjLE9jLm11bHRpcGx5PUdjLE9jLmRpdmlkZT1xYyxPYy5jZWlsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09TWF0aC5jZWlsKHRbMF0pLGVbMV09TWF0aC5jZWlsKHRbMV0pLGVbMl09TWF0aC5jZWlsKHRbMl0pLGV9LE9jLmZsb29yPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09TWF0aC5mbG9vcih0WzBdKSxlWzFdPU1hdGguZmxvb3IodFsxXSksZVsyXT1NYXRoLmZsb29yKHRbMl0pLGV9LE9jLm1pbj1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGVbMF09TWF0aC5taW4odFswXSxpWzBdKSxlWzFdPU1hdGgubWluKHRbMV0saVsxXSksZVsyXT1NYXRoLm1pbih0WzJdLGlbMl0pLGV9LE9jLm1heD1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGVbMF09TWF0aC5tYXgodFswXSxpWzBdKSxlWzFdPU1hdGgubWF4KHRbMV0saVsxXSksZVsyXT1NYXRoLm1heCh0WzJdLGlbMl0pLGV9LE9jLnJvdW5kPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09TWF0aC5yb3VuZCh0WzBdKSxlWzFdPU1hdGgucm91bmQodFsxXSksZVsyXT1NYXRoLnJvdW5kKHRbMl0pLGV9LE9jLnNjYWxlPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZVswXT10WzBdKmksZVsxXT10WzFdKmksZVsyXT10WzJdKmksZX0sT2Muc2NhbGVBbmRBZGQ9ZnVuY3Rpb24oZSx0LGkscil7cmV0dXJuIGVbMF09dFswXStpWzBdKnIsZVsxXT10WzFdK2lbMV0qcixlWzJdPXRbMl0raVsyXSpyLGV9LE9jLmRpc3RhbmNlPVpjLE9jLnNxdWFyZWREaXN0YW5jZT0kYyxPYy5zcXVhcmVkTGVuZ3RoPUhjLE9jLm5lZ2F0ZT1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPS10WzBdLGVbMV09LXRbMV0sZVsyXT0tdFsyXSxlfSxPYy5pbnZlcnNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09MS90WzBdLGVbMV09MS90WzFdLGVbMl09MS90WzJdLGV9LE9jLm5vcm1hbGl6ZT1mdW5jdGlvbihlLHQpe3ZhciBpPXRbMF0scj10WzFdLG49dFsyXSxvPWkqaStyKnIrbipuO3JldHVybiBvPjAmJihvPTEvTWF0aC5zcXJ0KG8pKSxlWzBdPXRbMF0qbyxlWzFdPXRbMV0qbyxlWzJdPXRbMl0qbyxlfSxPYy5kb3Q9V2MsT2MuY3Jvc3M9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdLG89dFsyXSxzPWlbMF0sYT1pWzFdLGw9aVsyXTtyZXR1cm4gZVswXT1uKmwtbyphLGVbMV09bypzLXIqbCxlWzJdPXIqYS1uKnMsZX0sT2MubGVycD1mdW5jdGlvbihlLHQsaSxyKXt2YXIgbj10WzBdLG89dFsxXSxzPXRbMl07cmV0dXJuIGVbMF09bityKihpWzBdLW4pLGVbMV09bytyKihpWzFdLW8pLGVbMl09cytyKihpWzJdLXMpLGV9LE9jLmhlcm1pdGU9ZnVuY3Rpb24oZSx0LGkscixuLG8pe3ZhciBzPW8qbyxhPXMqKDIqby0zKSsxLGw9cyooby0yKStvLGM9cyooby0xKSxoPXMqKDMtMipvKTtyZXR1cm4gZVswXT10WzBdKmEraVswXSpsK3JbMF0qYytuWzBdKmgsZVsxXT10WzFdKmEraVsxXSpsK3JbMV0qYytuWzFdKmgsZVsyXT10WzJdKmEraVsyXSpsK3JbMl0qYytuWzJdKmgsZX0sT2MuYmV6aWVyPWZ1bmN0aW9uKGUsdCxpLHIsbixvKXt2YXIgcz0xLW8sYT1zKnMsbD1vKm8sYz1hKnMsaD0zKm8qYSx1PTMqbCpzLGQ9bCpvO3JldHVybiBlWzBdPXRbMF0qYytpWzBdKmgrclswXSp1K25bMF0qZCxlWzFdPXRbMV0qYytpWzFdKmgrclsxXSp1K25bMV0qZCxlWzJdPXRbMl0qYytpWzJdKmgrclsyXSp1K25bMl0qZCxlfSxPYy5yYW5kb209ZnVuY3Rpb24oZSx0KXt0PXR8fDE7dmFyIGk9MipGYy5SQU5ET00oKSpNYXRoLlBJLHI9MipGYy5SQU5ET00oKS0xLG49TWF0aC5zcXJ0KDEtcipyKSp0O3JldHVybiBlWzBdPU1hdGguY29zKGkpKm4sZVsxXT1NYXRoLnNpbihpKSpuLGVbMl09cip0LGV9LE9jLnRyYW5zZm9ybU1hdDQ9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdLG89dFsyXSxzPWlbM10qcitpWzddKm4raVsxMV0qbytpWzE1XTtyZXR1cm4gZVswXT0oaVswXSpyK2lbNF0qbitpWzhdKm8raVsxMl0pLyhzPXN8fDEpLGVbMV09KGlbMV0qcitpWzVdKm4raVs5XSpvK2lbMTNdKS9zLGVbMl09KGlbMl0qcitpWzZdKm4raVsxMF0qbytpWzE0XSkvcyxlfSxPYy50cmFuc2Zvcm1NYXQzPWZ1bmN0aW9uKGUsdCxpKXt2YXIgcj10WzBdLG49dFsxXSxvPXRbMl07cmV0dXJuIGVbMF09cippWzBdK24qaVszXStvKmlbNl0sZVsxXT1yKmlbMV0rbippWzRdK28qaVs3XSxlWzJdPXIqaVsyXStuKmlbNV0rbyppWzhdLGV9LE9jLnRyYW5zZm9ybVF1YXQ9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPWlbMF0sbj1pWzFdLG89aVsyXSxzPXRbMF0sYT10WzFdLGw9dFsyXSxjPW4qbC1vKmEsaD1vKnMtcipsLHU9ciphLW4qcyxkPW4qdS1vKmgscD1vKmMtcip1LGY9cipoLW4qYyxtPTIqaVszXTtyZXR1cm4gaCo9bSx1Kj1tLHAqPTIsZio9MixlWzBdPXMrKGMqPW0pKyhkKj0yKSxlWzFdPWEraCtwLGVbMl09bCt1K2YsZX0sT2Mucm90YXRlWD1mdW5jdGlvbihlLHQsaSxyKXt2YXIgbj1bXSxvPVtdO3JldHVybiBuWzBdPXRbMF0taVswXSxuWzFdPXRbMV0taVsxXSxuWzJdPXRbMl0taVsyXSxvWzBdPW5bMF0sb1sxXT1uWzFdKk1hdGguY29zKHIpLW5bMl0qTWF0aC5zaW4ociksb1syXT1uWzFdKk1hdGguc2luKHIpK25bMl0qTWF0aC5jb3MociksZVswXT1vWzBdK2lbMF0sZVsxXT1vWzFdK2lbMV0sZVsyXT1vWzJdK2lbMl0sZX0sT2Mucm90YXRlWT1mdW5jdGlvbihlLHQsaSxyKXt2YXIgbj1bXSxvPVtdO3JldHVybiBuWzBdPXRbMF0taVswXSxuWzFdPXRbMV0taVsxXSxuWzJdPXRbMl0taVsyXSxvWzBdPW5bMl0qTWF0aC5zaW4ocikrblswXSpNYXRoLmNvcyhyKSxvWzFdPW5bMV0sb1syXT1uWzJdKk1hdGguY29zKHIpLW5bMF0qTWF0aC5zaW4ociksZVswXT1vWzBdK2lbMF0sZVsxXT1vWzFdK2lbMV0sZVsyXT1vWzJdK2lbMl0sZX0sT2Mucm90YXRlWj1mdW5jdGlvbihlLHQsaSxyKXt2YXIgbj1bXSxvPVtdO3JldHVybiBuWzBdPXRbMF0taVswXSxuWzFdPXRbMV0taVsxXSxuWzJdPXRbMl0taVsyXSxvWzBdPW5bMF0qTWF0aC5jb3MociktblsxXSpNYXRoLnNpbihyKSxvWzFdPW5bMF0qTWF0aC5zaW4ocikrblsxXSpNYXRoLmNvcyhyKSxvWzJdPW5bMl0sZVswXT1vWzBdK2lbMF0sZVsxXT1vWzFdK2lbMV0sZVsyXT1vWzJdK2lbMl0sZX0sT2MuYW5nbGU9ZnVuY3Rpb24oZSx0KXt2YXIgaT1lWzBdLHI9ZVsxXSxuPWVbMl0sbz10WzBdLHM9dFsxXSxhPXRbMl0sbD1NYXRoLnNxcnQoaSppK3IqcituKm4pKk1hdGguc3FydChvKm8rcypzK2EqYSksYz1sJiZXYyhlLHQpL2w7cmV0dXJuIE1hdGguYWNvcyhNYXRoLm1pbihNYXRoLm1heChjLC0xKSwxKSl9LE9jLnplcm89ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF09MCxlWzFdPTAsZVsyXT0wLGV9LE9jLnN0cj1mdW5jdGlvbihlKXtyZXR1cm4gXCJ2ZWMzKFwiK2VbMF0rXCIsIFwiK2VbMV0rXCIsIFwiK2VbMl0rXCIpXCJ9LE9jLmV4YWN0RXF1YWxzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09PT10WzBdJiZlWzFdPT09dFsxXSYmZVsyXT09PXRbMl19LE9jLmVxdWFscz1mdW5jdGlvbihlLHQpe3ZhciBpPWVbMF0scj1lWzFdLG49ZVsyXSxvPXRbMF0scz10WzFdLGE9dFsyXTtyZXR1cm4gTWF0aC5hYnMoaS1vKTw9RmMuRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGkpLE1hdGguYWJzKG8pKSYmTWF0aC5hYnMoci1zKTw9RmMuRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKHIpLE1hdGguYWJzKHMpKSYmTWF0aC5hYnMobi1hKTw9RmMuRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKG4pLE1hdGguYWJzKGEpKX0sT2MuZm9yRWFjaD1PYy5zcXJMZW49T2MubGVuPU9jLnNxckRpc3Q9T2MuZGlzdD1PYy5kaXY9T2MubXVsPU9jLnN1Yj12b2lkIDA7dmFyIEZjPWZ1bmN0aW9uKGUsdCl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO2lmKG51bGw9PT1lfHxcIm9iamVjdFwiIT09QmMoZSkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpcmV0dXJuIHtkZWZhdWx0OmV9O3ZhciBpPU5jKHZvaWQgMCk7aWYoaSYmaS5oYXMoZSkpcmV0dXJuIGkuZ2V0KGUpO3ZhciByPXt9LG49T2JqZWN0LmRlZmluZVByb3BlcnR5JiZPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO2Zvcih2YXIgbyBpbiBlKWlmKFwiZGVmYXVsdFwiIT09byYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbykpe3ZhciBzPW4/T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG8pOm51bGw7cyYmKHMuZ2V0fHxzLnNldCk/T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsbyxzKTpyW29dPWVbb107fXJldHVybiByLmRlZmF1bHQ9ZSxpJiZpLnNldChlLHIpLHJ9KHRjKTtmdW5jdGlvbiBOYyhlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBXZWFrTWFwKXJldHVybiBudWxsO3ZhciB0PW5ldyBXZWFrTWFwLGk9bmV3IFdlYWtNYXA7cmV0dXJuIChOYz1mdW5jdGlvbihlKXtyZXR1cm4gZT9pOnR9KShlKX1mdW5jdGlvbiBVYygpe3ZhciBlPW5ldyBGYy5BUlJBWV9UWVBFKDMpO3JldHVybiBGYy5BUlJBWV9UWVBFIT1GbG9hdDMyQXJyYXkmJihlWzBdPTAsZVsxXT0wLGVbMl09MCksZX1mdW5jdGlvbiBWYyhlKXtyZXR1cm4gTWF0aC5oeXBvdChlWzBdLGVbMV0sZVsyXSl9ZnVuY3Rpb24gamMoZSx0LGkpe3JldHVybiBlWzBdPXRbMF0taVswXSxlWzFdPXRbMV0taVsxXSxlWzJdPXRbMl0taVsyXSxlfWZ1bmN0aW9uIEdjKGUsdCxpKXtyZXR1cm4gZVswXT10WzBdKmlbMF0sZVsxXT10WzFdKmlbMV0sZVsyXT10WzJdKmlbMl0sZX1mdW5jdGlvbiBxYyhlLHQsaSl7cmV0dXJuIGVbMF09dFswXS9pWzBdLGVbMV09dFsxXS9pWzFdLGVbMl09dFsyXS9pWzJdLGV9ZnVuY3Rpb24gWmMoZSx0KXtyZXR1cm4gTWF0aC5oeXBvdCh0WzBdLWVbMF0sdFsxXS1lWzFdLHRbMl0tZVsyXSl9ZnVuY3Rpb24gJGMoZSx0KXt2YXIgaT10WzBdLWVbMF0scj10WzFdLWVbMV0sbj10WzJdLWVbMl07cmV0dXJuIGkqaStyKnIrbipufWZ1bmN0aW9uIEhjKGUpe3ZhciB0PWVbMF0saT1lWzFdLHI9ZVsyXTtyZXR1cm4gdCp0K2kqaStyKnJ9ZnVuY3Rpb24gV2MoZSx0KXtyZXR1cm4gZVswXSp0WzBdK2VbMV0qdFsxXStlWzJdKnRbMl19T2Muc3ViPWpjLE9jLm11bD1HYyxPYy5kaXY9cWMsT2MuZGlzdD1aYyxPYy5zcXJEaXN0PSRjLE9jLmxlbj1WYyxPYy5zcXJMZW49SGM7dmFyIFhjLFljPShYYz1VYygpLGZ1bmN0aW9uKGUsdCxpLHIsbixvKXt2YXIgcyxhO2Zvcih0fHwodD0zKSxpfHwoaT0wKSxhPXI/TWF0aC5taW4ocip0K2ksZS5sZW5ndGgpOmUubGVuZ3RoLHM9aTtzPGE7cys9dClYY1swXT1lW3NdLFhjWzFdPWVbcysxXSxYY1syXT1lW3MrMl0sbihYYyxYYyxvKSxlW3NdPVhjWzBdLGVbcysxXT1YY1sxXSxlW3MrMl09WGNbMl07cmV0dXJuIGV9KTtPYy5mb3JFYWNoPVljO3ZhciBLYz17fTtmdW5jdGlvbiBKYyhlKXtyZXR1cm4gSmM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0sSmMoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KEtjLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLEtjLmNyZWF0ZT10aCxLYy5jbG9uZT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgUWMuQVJSQVlfVFlQRSg0KTtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdFszXT1lWzNdLHR9LEtjLmZyb21WYWx1ZXM9ZnVuY3Rpb24oZSx0LGkscil7dmFyIG49bmV3IFFjLkFSUkFZX1RZUEUoNCk7cmV0dXJuIG5bMF09ZSxuWzFdPXQsblsyXT1pLG5bM109cixufSxLYy5jb3B5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09dFswXSxlWzFdPXRbMV0sZVsyXT10WzJdLGVbM109dFszXSxlfSxLYy5zZXQ9ZnVuY3Rpb24oZSx0LGkscixuKXtyZXR1cm4gZVswXT10LGVbMV09aSxlWzJdPXIsZVszXT1uLGV9LEtjLmFkZD1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGVbMF09dFswXStpWzBdLGVbMV09dFsxXStpWzFdLGVbMl09dFsyXStpWzJdLGVbM109dFszXStpWzNdLGV9LEtjLnN1YnRyYWN0PWloLEtjLm11bHRpcGx5PXJoLEtjLmRpdmlkZT1uaCxLYy5jZWlsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09TWF0aC5jZWlsKHRbMF0pLGVbMV09TWF0aC5jZWlsKHRbMV0pLGVbMl09TWF0aC5jZWlsKHRbMl0pLGVbM109TWF0aC5jZWlsKHRbM10pLGV9LEtjLmZsb29yPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09TWF0aC5mbG9vcih0WzBdKSxlWzFdPU1hdGguZmxvb3IodFsxXSksZVsyXT1NYXRoLmZsb29yKHRbMl0pLGVbM109TWF0aC5mbG9vcih0WzNdKSxlfSxLYy5taW49ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBlWzBdPU1hdGgubWluKHRbMF0saVswXSksZVsxXT1NYXRoLm1pbih0WzFdLGlbMV0pLGVbMl09TWF0aC5taW4odFsyXSxpWzJdKSxlWzNdPU1hdGgubWluKHRbM10saVszXSksZX0sS2MubWF4PWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZVswXT1NYXRoLm1heCh0WzBdLGlbMF0pLGVbMV09TWF0aC5tYXgodFsxXSxpWzFdKSxlWzJdPU1hdGgubWF4KHRbMl0saVsyXSksZVszXT1NYXRoLm1heCh0WzNdLGlbM10pLGV9LEtjLnJvdW5kPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09TWF0aC5yb3VuZCh0WzBdKSxlWzFdPU1hdGgucm91bmQodFsxXSksZVsyXT1NYXRoLnJvdW5kKHRbMl0pLGVbM109TWF0aC5yb3VuZCh0WzNdKSxlfSxLYy5zY2FsZT1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGVbMF09dFswXSppLGVbMV09dFsxXSppLGVbMl09dFsyXSppLGVbM109dFszXSppLGV9LEtjLnNjYWxlQW5kQWRkPWZ1bmN0aW9uKGUsdCxpLHIpe3JldHVybiBlWzBdPXRbMF0raVswXSpyLGVbMV09dFsxXStpWzFdKnIsZVsyXT10WzJdK2lbMl0qcixlWzNdPXRbM10raVszXSpyLGV9LEtjLmRpc3RhbmNlPW9oLEtjLnNxdWFyZWREaXN0YW5jZT1zaCxLYy5sZW5ndGg9YWgsS2Muc3F1YXJlZExlbmd0aD1saCxLYy5uZWdhdGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT0tdFswXSxlWzFdPS10WzFdLGVbMl09LXRbMl0sZVszXT0tdFszXSxlfSxLYy5pbnZlcnNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09MS90WzBdLGVbMV09MS90WzFdLGVbMl09MS90WzJdLGVbM109MS90WzNdLGV9LEtjLm5vcm1hbGl6ZT1mdW5jdGlvbihlLHQpe3ZhciBpPXRbMF0scj10WzFdLG49dFsyXSxvPXRbM10scz1pKmkrcipyK24qbitvKm87cmV0dXJuIHM+MCYmKHM9MS9NYXRoLnNxcnQocykpLGVbMF09aSpzLGVbMV09cipzLGVbMl09bipzLGVbM109bypzLGV9LEtjLmRvdD1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdKnRbMF0rZVsxXSp0WzFdK2VbMl0qdFsyXStlWzNdKnRbM119LEtjLmNyb3NzPWZ1bmN0aW9uKGUsdCxpLHIpe3ZhciBuPWlbMF0qclsxXS1pWzFdKnJbMF0sbz1pWzBdKnJbMl0taVsyXSpyWzBdLHM9aVswXSpyWzNdLWlbM10qclswXSxhPWlbMV0qclsyXS1pWzJdKnJbMV0sbD1pWzFdKnJbM10taVszXSpyWzFdLGM9aVsyXSpyWzNdLWlbM10qclsyXSxoPXRbMF0sdT10WzFdLGQ9dFsyXSxwPXRbM107cmV0dXJuIGVbMF09dSpjLWQqbCtwKmEsZVsxXT0taCpjK2Qqcy1wKm8sZVsyXT1oKmwtdSpzK3AqbixlWzNdPS1oKmErdSpvLWQqbixlfSxLYy5sZXJwPWZ1bmN0aW9uKGUsdCxpLHIpe3ZhciBuPXRbMF0sbz10WzFdLHM9dFsyXSxhPXRbM107cmV0dXJuIGVbMF09bityKihpWzBdLW4pLGVbMV09bytyKihpWzFdLW8pLGVbMl09cytyKihpWzJdLXMpLGVbM109YStyKihpWzNdLWEpLGV9LEtjLnJhbmRvbT1mdW5jdGlvbihlLHQpe3ZhciBpLHIsbixvLHMsYTt0PXR8fDE7ZG97cz0oaT0yKlFjLlJBTkRPTSgpLTEpKmkrKHI9MipRYy5SQU5ET00oKS0xKSpyO313aGlsZShzPj0xKTtkb3thPShuPTIqUWMuUkFORE9NKCktMSkqbisobz0yKlFjLlJBTkRPTSgpLTEpKm87fXdoaWxlKGE+PTEpO3ZhciBsPU1hdGguc3FydCgoMS1zKS9hKTtyZXR1cm4gZVswXT10KmksZVsxXT10KnIsZVsyXT10Km4qbCxlWzNdPXQqbypsLGV9LEtjLnRyYW5zZm9ybU1hdDQ9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdLG89dFsyXSxzPXRbM107cmV0dXJuIGVbMF09aVswXSpyK2lbNF0qbitpWzhdKm8raVsxMl0qcyxlWzFdPWlbMV0qcitpWzVdKm4raVs5XSpvK2lbMTNdKnMsZVsyXT1pWzJdKnIraVs2XSpuK2lbMTBdKm8raVsxNF0qcyxlWzNdPWlbM10qcitpWzddKm4raVsxMV0qbytpWzE1XSpzLGV9LEtjLnRyYW5zZm9ybVF1YXQ9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdLG89dFsyXSxzPWlbMF0sYT1pWzFdLGw9aVsyXSxjPWlbM10saD1jKnIrYSpvLWwqbix1PWMqbitsKnItcypvLGQ9YypvK3Mqbi1hKnIscD0tcypyLWEqbi1sKm87cmV0dXJuIGVbMF09aCpjK3AqLXMrdSotbC1kKi1hLGVbMV09dSpjK3AqLWErZCotcy1oKi1sLGVbMl09ZCpjK3AqLWwraCotYS11Ki1zLGVbM109dFszXSxlfSxLYy56ZXJvPWZ1bmN0aW9uKGUpe3JldHVybiBlWzBdPTAsZVsxXT0wLGVbMl09MCxlWzNdPTAsZX0sS2Muc3RyPWZ1bmN0aW9uKGUpe3JldHVybiBcInZlYzQoXCIrZVswXStcIiwgXCIrZVsxXStcIiwgXCIrZVsyXStcIiwgXCIrZVszXStcIilcIn0sS2MuZXhhY3RFcXVhbHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT09PXRbMF0mJmVbMV09PT10WzFdJiZlWzJdPT09dFsyXSYmZVszXT09PXRbM119LEtjLmVxdWFscz1mdW5jdGlvbihlLHQpe3ZhciBpPWVbMF0scj1lWzFdLG49ZVsyXSxvPWVbM10scz10WzBdLGE9dFsxXSxsPXRbMl0sYz10WzNdO3JldHVybiBNYXRoLmFicyhpLXMpPD1RYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoaSksTWF0aC5hYnMocykpJiZNYXRoLmFicyhyLWEpPD1RYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMociksTWF0aC5hYnMoYSkpJiZNYXRoLmFicyhuLWwpPD1RYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMobiksTWF0aC5hYnMobCkpJiZNYXRoLmFicyhvLWMpPD1RYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMobyksTWF0aC5hYnMoYykpfSxLYy5mb3JFYWNoPUtjLnNxckxlbj1LYy5sZW49S2Muc3FyRGlzdD1LYy5kaXN0PUtjLmRpdj1LYy5tdWw9S2Muc3ViPXZvaWQgMDt2YXIgUWM9ZnVuY3Rpb24oZSx0KXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7aWYobnVsbD09PWV8fFwib2JqZWN0XCIhPT1KYyhlKSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZSlyZXR1cm4ge2RlZmF1bHQ6ZX07dmFyIGk9ZWgodm9pZCAwKTtpZihpJiZpLmhhcyhlKSlyZXR1cm4gaS5nZXQoZSk7dmFyIHI9e30sbj1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBvIGluIGUpaWYoXCJkZWZhdWx0XCIhPT1vJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxvKSl7dmFyIHM9bj9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbyk6bnVsbDtzJiYocy5nZXR8fHMuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkocixvLHMpOnJbb109ZVtvXTt9cmV0dXJuIHIuZGVmYXVsdD1lLGkmJmkuc2V0KGUscikscn0odGMpO2Z1bmN0aW9uIGVoKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIFdlYWtNYXApcmV0dXJuIG51bGw7dmFyIHQ9bmV3IFdlYWtNYXAsaT1uZXcgV2Vha01hcDtyZXR1cm4gKGVoPWZ1bmN0aW9uKGUpe3JldHVybiBlP2k6dH0pKGUpfWZ1bmN0aW9uIHRoKCl7dmFyIGU9bmV3IFFjLkFSUkFZX1RZUEUoNCk7cmV0dXJuIFFjLkFSUkFZX1RZUEUhPUZsb2F0MzJBcnJheSYmKGVbMF09MCxlWzFdPTAsZVsyXT0wLGVbM109MCksZX1mdW5jdGlvbiBpaChlLHQsaSl7cmV0dXJuIGVbMF09dFswXS1pWzBdLGVbMV09dFsxXS1pWzFdLGVbMl09dFsyXS1pWzJdLGVbM109dFszXS1pWzNdLGV9ZnVuY3Rpb24gcmgoZSx0LGkpe3JldHVybiBlWzBdPXRbMF0qaVswXSxlWzFdPXRbMV0qaVsxXSxlWzJdPXRbMl0qaVsyXSxlWzNdPXRbM10qaVszXSxlfWZ1bmN0aW9uIG5oKGUsdCxpKXtyZXR1cm4gZVswXT10WzBdL2lbMF0sZVsxXT10WzFdL2lbMV0sZVsyXT10WzJdL2lbMl0sZVszXT10WzNdL2lbM10sZX1mdW5jdGlvbiBvaChlLHQpe3JldHVybiBNYXRoLmh5cG90KHRbMF0tZVswXSx0WzFdLWVbMV0sdFsyXS1lWzJdLHRbM10tZVszXSl9ZnVuY3Rpb24gc2goZSx0KXt2YXIgaT10WzBdLWVbMF0scj10WzFdLWVbMV0sbj10WzJdLWVbMl0sbz10WzNdLWVbM107cmV0dXJuIGkqaStyKnIrbipuK28qb31mdW5jdGlvbiBhaChlKXtyZXR1cm4gTWF0aC5oeXBvdChlWzBdLGVbMV0sZVsyXSxlWzNdKX1mdW5jdGlvbiBsaChlKXt2YXIgdD1lWzBdLGk9ZVsxXSxyPWVbMl0sbj1lWzNdO3JldHVybiB0KnQraSppK3IqcituKm59S2Muc3ViPWloLEtjLm11bD1yaCxLYy5kaXY9bmgsS2MuZGlzdD1vaCxLYy5zcXJEaXN0PXNoLEtjLmxlbj1haCxLYy5zcXJMZW49bGg7dmFyIGNoPWZ1bmN0aW9uKCl7dmFyIGU9dGgoKTtyZXR1cm4gZnVuY3Rpb24odCxpLHIsbixvLHMpe3ZhciBhLGw7Zm9yKGl8fChpPTQpLHJ8fChyPTApLGw9bj9NYXRoLm1pbihuKmkrcix0Lmxlbmd0aCk6dC5sZW5ndGgsYT1yO2E8bDthKz1pKWVbMF09dFthXSxlWzFdPXRbYSsxXSxlWzJdPXRbYSsyXSxlWzNdPXRbYSszXSxvKGUsZSxzKSx0W2FdPWVbMF0sdFthKzFdPWVbMV0sdFthKzJdPWVbMl0sdFthKzNdPWVbM107cmV0dXJuIHR9fSgpO2Z1bmN0aW9uIGhoKGUpe3JldHVybiBoaD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxoaChlKX1LYy5mb3JFYWNoPWNoLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShrYyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxrYy5jcmVhdGU9Z2gsa2MuaWRlbnRpdHk9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF09MCxlWzFdPTAsZVsyXT0wLGVbM109MSxlfSxrYy5zZXRBeGlzQW5nbGU9eWgsa2MuZ2V0QXhpc0FuZ2xlPWZ1bmN0aW9uKGUsdCl7dmFyIGk9MipNYXRoLmFjb3ModFszXSkscj1NYXRoLnNpbihpLzIpO3JldHVybiByPnVoLkVQU0lMT04/KGVbMF09dFswXS9yLGVbMV09dFsxXS9yLGVbMl09dFsyXS9yKTooZVswXT0xLGVbMV09MCxlWzJdPTApLGl9LGtjLmdldEFuZ2xlPWZ1bmN0aW9uKGUsdCl7dmFyIGk9TWgoZSx0KTtyZXR1cm4gTWF0aC5hY29zKDIqaSppLTEpfSxrYy5tdWx0aXBseT14aCxrYy5yb3RhdGVYPWZ1bmN0aW9uKGUsdCxpKXtpKj0uNTt2YXIgcj10WzBdLG49dFsxXSxvPXRbMl0scz10WzNdLGE9TWF0aC5zaW4oaSksbD1NYXRoLmNvcyhpKTtyZXR1cm4gZVswXT1yKmwrcyphLGVbMV09bipsK28qYSxlWzJdPW8qbC1uKmEsZVszXT1zKmwtciphLGV9LGtjLnJvdGF0ZVk9ZnVuY3Rpb24oZSx0LGkpe2kqPS41O3ZhciByPXRbMF0sbj10WzFdLG89dFsyXSxzPXRbM10sYT1NYXRoLnNpbihpKSxsPU1hdGguY29zKGkpO3JldHVybiBlWzBdPXIqbC1vKmEsZVsxXT1uKmwrcyphLGVbMl09bypsK3IqYSxlWzNdPXMqbC1uKmEsZX0sa2Mucm90YXRlWj1mdW5jdGlvbihlLHQsaSl7aSo9LjU7dmFyIHI9dFswXSxuPXRbMV0sbz10WzJdLHM9dFszXSxhPU1hdGguc2luKGkpLGw9TWF0aC5jb3MoaSk7cmV0dXJuIGVbMF09cipsK24qYSxlWzFdPW4qbC1yKmEsZVsyXT1vKmwrcyphLGVbM109cypsLW8qYSxlfSxrYy5jYWxjdWxhdGVXPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dFswXSxyPXRbMV0sbj10WzJdO3JldHVybiBlWzBdPWksZVsxXT1yLGVbMl09bixlWzNdPU1hdGguc3FydChNYXRoLmFicygxLWkqaS1yKnItbipuKSksZX0sa2MuZXhwPXZoLGtjLmxuPWJoLGtjLnBvdz1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGJoKGUsdCksRWgoZSxlLGkpLHZoKGUsZSksZX0sa2Muc2xlcnA9d2gsa2MucmFuZG9tPWZ1bmN0aW9uKGUpe3ZhciB0PXVoLlJBTkRPTSgpLGk9dWguUkFORE9NKCkscj11aC5SQU5ET00oKSxuPU1hdGguc3FydCgxLXQpLG89TWF0aC5zcXJ0KHQpO3JldHVybiBlWzBdPW4qTWF0aC5zaW4oMipNYXRoLlBJKmkpLGVbMV09bipNYXRoLmNvcygyKk1hdGguUEkqaSksZVsyXT1vKk1hdGguc2luKDIqTWF0aC5QSSpyKSxlWzNdPW8qTWF0aC5jb3MoMipNYXRoLlBJKnIpLGV9LGtjLmludmVydD1mdW5jdGlvbihlLHQpe3ZhciBpPXRbMF0scj10WzFdLG49dFsyXSxvPXRbM10scz1pKmkrcipyK24qbitvKm8sYT1zPzEvczowO3JldHVybiBlWzBdPS1pKmEsZVsxXT0tciphLGVbMl09LW4qYSxlWzNdPW8qYSxlfSxrYy5jb25qdWdhdGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT0tdFswXSxlWzFdPS10WzFdLGVbMl09LXRbMl0sZVszXT10WzNdLGV9LGtjLmZyb21NYXQzPVRoLGtjLmZyb21FdWxlcj1mdW5jdGlvbihlLHQsaSxyKXt2YXIgbj0uNSpNYXRoLlBJLzE4MDt0Kj1uLGkqPW4scio9bjt2YXIgbz1NYXRoLnNpbih0KSxzPU1hdGguY29zKHQpLGE9TWF0aC5zaW4oaSksbD1NYXRoLmNvcyhpKSxjPU1hdGguc2luKHIpLGg9TWF0aC5jb3Mocik7cmV0dXJuIGVbMF09bypsKmgtcyphKmMsZVsxXT1zKmEqaCtvKmwqYyxlWzJdPXMqbCpjLW8qYSpoLGVbM109cypsKmgrbyphKmMsZX0sa2Muc3RyPWZ1bmN0aW9uKGUpe3JldHVybiBcInF1YXQoXCIrZVswXStcIiwgXCIrZVsxXStcIiwgXCIrZVsyXStcIiwgXCIrZVszXStcIilcIn0sa2Muc2V0QXhlcz1rYy5zcWxlcnA9a2Mucm90YXRpb25Ubz1rYy5lcXVhbHM9a2MuZXhhY3RFcXVhbHM9a2Mubm9ybWFsaXplPWtjLnNxckxlbj1rYy5zcXVhcmVkTGVuZ3RoPWtjLmxlbj1rYy5sZW5ndGg9a2MubGVycD1rYy5kb3Q9a2Muc2NhbGU9a2MubXVsPWtjLmFkZD1rYy5zZXQ9a2MuY29weT1rYy5mcm9tVmFsdWVzPWtjLmNsb25lPXZvaWQgMDt2YXIgdWg9X2godGMpLGRoPV9oKHljKSxwaD1faChPYyksZmg9X2goS2MpO2Z1bmN0aW9uIG1oKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIFdlYWtNYXApcmV0dXJuIG51bGw7dmFyIHQ9bmV3IFdlYWtNYXAsaT1uZXcgV2Vha01hcDtyZXR1cm4gKG1oPWZ1bmN0aW9uKGUpe3JldHVybiBlP2k6dH0pKGUpfWZ1bmN0aW9uIF9oKGUsdCl7aWYoIXQmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTtpZihudWxsPT09ZXx8XCJvYmplY3RcIiE9PWhoKGUpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXJldHVybiB7ZGVmYXVsdDplfTt2YXIgaT1taCh0KTtpZihpJiZpLmhhcyhlKSlyZXR1cm4gaS5nZXQoZSk7dmFyIHI9e30sbj1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBvIGluIGUpaWYoXCJkZWZhdWx0XCIhPT1vJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxvKSl7dmFyIHM9bj9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbyk6bnVsbDtzJiYocy5nZXR8fHMuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkocixvLHMpOnJbb109ZVtvXTt9cmV0dXJuIHIuZGVmYXVsdD1lLGkmJmkuc2V0KGUscikscn1mdW5jdGlvbiBnaCgpe3ZhciBlPW5ldyB1aC5BUlJBWV9UWVBFKDQpO3JldHVybiB1aC5BUlJBWV9UWVBFIT1GbG9hdDMyQXJyYXkmJihlWzBdPTAsZVsxXT0wLGVbMl09MCksZVszXT0xLGV9ZnVuY3Rpb24geWgoZSx0LGkpe2kqPS41O3ZhciByPU1hdGguc2luKGkpO3JldHVybiBlWzBdPXIqdFswXSxlWzFdPXIqdFsxXSxlWzJdPXIqdFsyXSxlWzNdPU1hdGguY29zKGkpLGV9ZnVuY3Rpb24geGgoZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdLG89dFsyXSxzPXRbM10sYT1pWzBdLGw9aVsxXSxjPWlbMl0saD1pWzNdO3JldHVybiBlWzBdPXIqaCtzKmErbipjLW8qbCxlWzFdPW4qaCtzKmwrbyphLXIqYyxlWzJdPW8qaCtzKmMrcipsLW4qYSxlWzNdPXMqaC1yKmEtbipsLW8qYyxlfWZ1bmN0aW9uIHZoKGUsdCl7dmFyIGk9dFswXSxyPXRbMV0sbj10WzJdLG89dFszXSxzPU1hdGguc3FydChpKmkrcipyK24qbiksYT1NYXRoLmV4cChvKSxsPXM+MD9hKk1hdGguc2luKHMpL3M6MDtyZXR1cm4gZVswXT1pKmwsZVsxXT1yKmwsZVsyXT1uKmwsZVszXT1hKk1hdGguY29zKHMpLGV9ZnVuY3Rpb24gYmgoZSx0KXt2YXIgaT10WzBdLHI9dFsxXSxuPXRbMl0sbz10WzNdLHM9TWF0aC5zcXJ0KGkqaStyKnIrbipuKSxhPXM+MD9NYXRoLmF0YW4yKHMsbykvczowO3JldHVybiBlWzBdPWkqYSxlWzFdPXIqYSxlWzJdPW4qYSxlWzNdPS41Kk1hdGgubG9nKGkqaStyKnIrbipuK28qbyksZX1mdW5jdGlvbiB3aChlLHQsaSxyKXt2YXIgbixvLHMsYSxsLGM9dFswXSxoPXRbMV0sdT10WzJdLGQ9dFszXSxwPWlbMF0sZj1pWzFdLG09aVsyXSxfPWlbM107cmV0dXJuIChvPWMqcCtoKmYrdSptK2QqXyk8MCYmKG89LW8scD0tcCxmPS1mLG09LW0sXz0tXyksMS1vPnVoLkVQU0lMT04/KG49TWF0aC5hY29zKG8pLHM9TWF0aC5zaW4obiksYT1NYXRoLnNpbigoMS1yKSpuKS9zLGw9TWF0aC5zaW4ocipuKS9zKTooYT0xLXIsbD1yKSxlWzBdPWEqYytsKnAsZVsxXT1hKmgrbCpmLGVbMl09YSp1K2wqbSxlWzNdPWEqZCtsKl8sZX1mdW5jdGlvbiBUaChlLHQpe3ZhciBpLHI9dFswXSt0WzRdK3RbOF07aWYocj4wKWk9TWF0aC5zcXJ0KHIrMSksZVszXT0uNSppLGVbMF09KHRbNV0tdFs3XSkqKGk9LjUvaSksZVsxXT0odFs2XS10WzJdKSppLGVbMl09KHRbMV0tdFszXSkqaTtlbHNlIHt2YXIgbj0wO3RbNF0+dFswXSYmKG49MSksdFs4XT50WzMqbituXSYmKG49Mik7dmFyIG89KG4rMSklMyxzPShuKzIpJTM7aT1NYXRoLnNxcnQodFszKm4rbl0tdFszKm8rb10tdFszKnMrc10rMSksZVtuXT0uNSppLGVbM109KHRbMypvK3NdLXRbMypzK29dKSooaT0uNS9pKSxlW29dPSh0WzMqbytuXSt0WzMqbitvXSkqaSxlW3NdPSh0WzMqcytuXSt0WzMqbitzXSkqaTt9cmV0dXJuIGV9a2MuY2xvbmU9ZmguY2xvbmUsa2MuZnJvbVZhbHVlcz1maC5mcm9tVmFsdWVzLGtjLmNvcHk9ZmguY29weSxrYy5zZXQ9Zmguc2V0LGtjLmFkZD1maC5hZGQsa2MubXVsPXhoO3ZhciBFaD1maC5zY2FsZTtrYy5zY2FsZT1FaDt2YXIgTWg9ZmguZG90O2tjLmRvdD1NaCxrYy5sZXJwPWZoLmxlcnA7dmFyIEFoPWZoLmxlbmd0aDtrYy5sZW5ndGg9QWgsa2MubGVuPUFoO3ZhciBTaD1maC5zcXVhcmVkTGVuZ3RoO2tjLnNxdWFyZWRMZW5ndGg9U2gsa2Muc3FyTGVuPVNoO3ZhciBJaD1maC5ub3JtYWxpemU7a2Mubm9ybWFsaXplPUloLGtjLmV4YWN0RXF1YWxzPWZoLmV4YWN0RXF1YWxzLGtjLmVxdWFscz1maC5lcXVhbHM7dmFyIENoLHpoLERoLFBoPShDaD1waC5jcmVhdGUoKSx6aD1waC5mcm9tVmFsdWVzKDEsMCwwKSxEaD1waC5mcm9tVmFsdWVzKDAsMSwwKSxmdW5jdGlvbihlLHQsaSl7dmFyIHI9cGguZG90KHQsaSk7cmV0dXJuIHI8LS45OTk5OTk/KHBoLmNyb3NzKENoLHpoLHQpLHBoLmxlbihDaCk8MWUtNiYmcGguY3Jvc3MoQ2gsRGgsdCkscGgubm9ybWFsaXplKENoLENoKSx5aChlLENoLE1hdGguUEkpLGUpOnI+Ljk5OTk5OT8oZVswXT0wLGVbMV09MCxlWzJdPTAsZVszXT0xLGUpOihwaC5jcm9zcyhDaCx0LGkpLGVbMF09Q2hbMF0sZVsxXT1DaFsxXSxlWzJdPUNoWzJdLGVbM109MStyLEloKGUsZSkpfSk7a2Mucm90YXRpb25Ubz1QaDt2YXIgUmgsTGgsa2g9KFJoPWdoKCksTGg9Z2goKSxmdW5jdGlvbihlLHQsaSxyLG4sbyl7cmV0dXJuIHdoKFJoLHQsbixvKSx3aChMaCxpLHIsbyksd2goZSxSaCxMaCwyKm8qKDEtbykpLGV9KTtrYy5zcWxlcnA9a2g7dmFyIE9oLEJoPShPaD1kaC5jcmVhdGUoKSxmdW5jdGlvbihlLHQsaSxyKXtyZXR1cm4gT2hbMF09aVswXSxPaFszXT1pWzFdLE9oWzZdPWlbMl0sT2hbMV09clswXSxPaFs0XT1yWzFdLE9oWzddPXJbMl0sT2hbMl09LXRbMF0sT2hbNV09LXRbMV0sT2hbOF09LXRbMl0sSWgoZSxUaChlLE9oKSl9KTtrYy5zZXRBeGVzPUJoO3ZhciBGaD17fTtmdW5jdGlvbiBOaChlKXtyZXR1cm4gTmg9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0sTmgoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KEZoLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLEZoLmNyZWF0ZT1mdW5jdGlvbigpe3ZhciBlPW5ldyBVaC5BUlJBWV9UWVBFKDgpO3JldHVybiBVaC5BUlJBWV9UWVBFIT1GbG9hdDMyQXJyYXkmJihlWzBdPTAsZVsxXT0wLGVbMl09MCxlWzRdPTAsZVs1XT0wLGVbNl09MCxlWzddPTApLGVbM109MSxlfSxGaC5jbG9uZT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgVWguQVJSQVlfVFlQRSg4KTtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdFszXT1lWzNdLHRbNF09ZVs0XSx0WzVdPWVbNV0sdFs2XT1lWzZdLHRbN109ZVs3XSx0fSxGaC5mcm9tVmFsdWVzPWZ1bmN0aW9uKGUsdCxpLHIsbixvLHMsYSl7dmFyIGw9bmV3IFVoLkFSUkFZX1RZUEUoOCk7cmV0dXJuIGxbMF09ZSxsWzFdPXQsbFsyXT1pLGxbM109cixsWzRdPW4sbFs1XT1vLGxbNl09cyxsWzddPWEsbH0sRmguZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25WYWx1ZXM9ZnVuY3Rpb24oZSx0LGkscixuLG8scyl7dmFyIGE9bmV3IFVoLkFSUkFZX1RZUEUoOCk7YVswXT1lLGFbMV09dCxhWzJdPWksYVszXT1yO3ZhciBsPS41Km4sYz0uNSpvLGg9LjUqcztyZXR1cm4gYVs0XT1sKnIrYyppLWgqdCxhWzVdPWMqcitoKmUtbCppLGFbNl09aCpyK2wqdC1jKmUsYVs3XT0tbCplLWMqdC1oKmksYX0sRmguZnJvbVJvdGF0aW9uVHJhbnNsYXRpb249WmgsRmguZnJvbVRyYW5zbGF0aW9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09MCxlWzFdPTAsZVsyXT0wLGVbM109MSxlWzRdPS41KnRbMF0sZVs1XT0uNSp0WzFdLGVbNl09LjUqdFsyXSxlWzddPTAsZX0sRmguZnJvbVJvdGF0aW9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09dFswXSxlWzFdPXRbMV0sZVsyXT10WzJdLGVbM109dFszXSxlWzRdPTAsZVs1XT0wLGVbNl09MCxlWzddPTAsZX0sRmguZnJvbU1hdDQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT1WaC5jcmVhdGUoKTtqaC5nZXRSb3RhdGlvbihpLHQpO3ZhciByPW5ldyBVaC5BUlJBWV9UWVBFKDMpO3JldHVybiBqaC5nZXRUcmFuc2xhdGlvbihyLHQpLFpoKGUsaSxyKSxlfSxGaC5jb3B5PSRoLEZoLmlkZW50aXR5PWZ1bmN0aW9uKGUpe3JldHVybiBlWzBdPTAsZVsxXT0wLGVbMl09MCxlWzNdPTEsZVs0XT0wLGVbNV09MCxlWzZdPTAsZVs3XT0wLGV9LEZoLnNldD1mdW5jdGlvbihlLHQsaSxyLG4sbyxzLGEsbCl7cmV0dXJuIGVbMF09dCxlWzFdPWksZVsyXT1yLGVbM109bixlWzRdPW8sZVs1XT1zLGVbNl09YSxlWzddPWwsZX0sRmguZ2V0RHVhbD1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPXRbNF0sZVsxXT10WzVdLGVbMl09dFs2XSxlWzNdPXRbN10sZX0sRmguc2V0RHVhbD1mdW5jdGlvbihlLHQpe3JldHVybiBlWzRdPXRbMF0sZVs1XT10WzFdLGVbNl09dFsyXSxlWzddPXRbM10sZX0sRmguZ2V0VHJhbnNsYXRpb249ZnVuY3Rpb24oZSx0KXt2YXIgaT10WzRdLHI9dFs1XSxuPXRbNl0sbz10WzddLHM9LXRbMF0sYT0tdFsxXSxsPS10WzJdLGM9dFszXTtyZXR1cm4gZVswXT0yKihpKmMrbypzK3IqbC1uKmEpLGVbMV09MioocipjK28qYStuKnMtaSpsKSxlWzJdPTIqKG4qYytvKmwraSphLXIqcyksZX0sRmgudHJhbnNsYXRlPWZ1bmN0aW9uKGUsdCxpKXt2YXIgcj10WzBdLG49dFsxXSxvPXRbMl0scz10WzNdLGE9LjUqaVswXSxsPS41KmlbMV0sYz0uNSppWzJdLGg9dFs0XSx1PXRbNV0sZD10WzZdLHA9dFs3XTtyZXR1cm4gZVswXT1yLGVbMV09bixlWzJdPW8sZVszXT1zLGVbNF09cyphK24qYy1vKmwraCxlWzVdPXMqbCtvKmEtcipjK3UsZVs2XT1zKmMrcipsLW4qYStkLGVbN109LXIqYS1uKmwtbypjK3AsZX0sRmgucm90YXRlWD1mdW5jdGlvbihlLHQsaSl7dmFyIHI9LXRbMF0sbj0tdFsxXSxvPS10WzJdLHM9dFszXSxhPXRbNF0sbD10WzVdLGM9dFs2XSxoPXRbN10sdT1hKnMraCpyK2wqby1jKm4sZD1sKnMraCpuK2Mqci1hKm8scD1jKnMraCpvK2Eqbi1sKnIsZj1oKnMtYSpyLWwqbi1jKm87cmV0dXJuIFZoLnJvdGF0ZVgoZSx0LGkpLGVbNF09dSoocz1lWzNdKStmKihyPWVbMF0pK2QqKG89ZVsyXSktcCoobj1lWzFdKSxlWzVdPWQqcytmKm4rcCpyLXUqbyxlWzZdPXAqcytmKm8rdSpuLWQqcixlWzddPWYqcy11KnItZCpuLXAqbyxlfSxGaC5yb3RhdGVZPWZ1bmN0aW9uKGUsdCxpKXt2YXIgcj0tdFswXSxuPS10WzFdLG89LXRbMl0scz10WzNdLGE9dFs0XSxsPXRbNV0sYz10WzZdLGg9dFs3XSx1PWEqcytoKnIrbCpvLWMqbixkPWwqcytoKm4rYypyLWEqbyxwPWMqcytoKm8rYSpuLWwqcixmPWgqcy1hKnItbCpuLWMqbztyZXR1cm4gVmgucm90YXRlWShlLHQsaSksZVs0XT11KihzPWVbM10pK2YqKHI9ZVswXSkrZCoobz1lWzJdKS1wKihuPWVbMV0pLGVbNV09ZCpzK2YqbitwKnItdSpvLGVbNl09cCpzK2Yqbyt1Km4tZCpyLGVbN109ZipzLXUqci1kKm4tcCpvLGV9LEZoLnJvdGF0ZVo9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPS10WzBdLG49LXRbMV0sbz0tdFsyXSxzPXRbM10sYT10WzRdLGw9dFs1XSxjPXRbNl0saD10WzddLHU9YSpzK2gqcitsKm8tYypuLGQ9bCpzK2gqbitjKnItYSpvLHA9YypzK2gqbythKm4tbCpyLGY9aCpzLWEqci1sKm4tYypvO3JldHVybiBWaC5yb3RhdGVaKGUsdCxpKSxlWzRdPXUqKHM9ZVszXSkrZioocj1lWzBdKStkKihvPWVbMl0pLXAqKG49ZVsxXSksZVs1XT1kKnMrZipuK3Aqci11Km8sZVs2XT1wKnMrZipvK3Uqbi1kKnIsZVs3XT1mKnMtdSpyLWQqbi1wKm8sZX0sRmgucm90YXRlQnlRdWF0QXBwZW5kPWZ1bmN0aW9uKGUsdCxpKXt2YXIgcj1pWzBdLG49aVsxXSxvPWlbMl0scz1pWzNdLGE9dFswXSxsPXRbMV0sYz10WzJdLGg9dFszXTtyZXR1cm4gZVswXT1hKnMraCpyK2wqby1jKm4sZVsxXT1sKnMraCpuK2Mqci1hKm8sZVsyXT1jKnMraCpvK2Eqbi1sKnIsZVszXT1oKnMtYSpyLWwqbi1jKm8sZVs0XT0oYT10WzRdKSpzKyhoPXRbN10pKnIrKGw9dFs1XSkqby0oYz10WzZdKSpuLGVbNV09bCpzK2gqbitjKnItYSpvLGVbNl09YypzK2gqbythKm4tbCpyLGVbN109aCpzLWEqci1sKm4tYypvLGV9LEZoLnJvdGF0ZUJ5UXVhdFByZXBlbmQ9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdLG89dFsyXSxzPXRbM10sYT1pWzBdLGw9aVsxXSxjPWlbMl0saD1pWzNdO3JldHVybiBlWzBdPXIqaCtzKmErbipjLW8qbCxlWzFdPW4qaCtzKmwrbyphLXIqYyxlWzJdPW8qaCtzKmMrcipsLW4qYSxlWzNdPXMqaC1yKmEtbipsLW8qYyxlWzRdPXIqKGg9aVs3XSkrcyooYT1pWzRdKStuKihjPWlbNl0pLW8qKGw9aVs1XSksZVs1XT1uKmgrcypsK28qYS1yKmMsZVs2XT1vKmgrcypjK3IqbC1uKmEsZVs3XT1zKmgtciphLW4qbC1vKmMsZX0sRmgucm90YXRlQXJvdW5kQXhpcz1mdW5jdGlvbihlLHQsaSxyKXtpZihNYXRoLmFicyhyKTxVaC5FUFNJTE9OKXJldHVybiAkaChlLHQpO3ZhciBuPU1hdGguaHlwb3QoaVswXSxpWzFdLGlbMl0pO3IqPS41O3ZhciBvPU1hdGguc2luKHIpLHM9byppWzBdL24sYT1vKmlbMV0vbixsPW8qaVsyXS9uLGM9TWF0aC5jb3MociksaD10WzBdLHU9dFsxXSxkPXRbMl0scD10WzNdO2VbMF09aCpjK3Aqcyt1KmwtZCphLGVbMV09dSpjK3AqYStkKnMtaCpsLGVbMl09ZCpjK3AqbCtoKmEtdSpzLGVbM109cCpjLWgqcy11KmEtZCpsO3ZhciBmPXRbNF0sbT10WzVdLF89dFs2XSxnPXRbN107cmV0dXJuIGVbNF09ZipjK2cqcyttKmwtXyphLGVbNV09bSpjK2cqYStfKnMtZipsLGVbNl09XypjK2cqbCtmKmEtbSpzLGVbN109ZypjLWYqcy1tKmEtXypsLGV9LEZoLmFkZD1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGVbMF09dFswXStpWzBdLGVbMV09dFsxXStpWzFdLGVbMl09dFsyXStpWzJdLGVbM109dFszXStpWzNdLGVbNF09dFs0XStpWzRdLGVbNV09dFs1XStpWzVdLGVbNl09dFs2XStpWzZdLGVbN109dFs3XStpWzddLGV9LEZoLm11bHRpcGx5PUhoLEZoLnNjYWxlPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZVswXT10WzBdKmksZVsxXT10WzFdKmksZVsyXT10WzJdKmksZVszXT10WzNdKmksZVs0XT10WzRdKmksZVs1XT10WzVdKmksZVs2XT10WzZdKmksZVs3XT10WzddKmksZX0sRmgubGVycD1mdW5jdGlvbihlLHQsaSxyKXt2YXIgbj0xLXI7cmV0dXJuIFdoKHQsaSk8MCYmKHI9LXIpLGVbMF09dFswXSpuK2lbMF0qcixlWzFdPXRbMV0qbitpWzFdKnIsZVsyXT10WzJdKm4raVsyXSpyLGVbM109dFszXSpuK2lbM10qcixlWzRdPXRbNF0qbitpWzRdKnIsZVs1XT10WzVdKm4raVs1XSpyLGVbNl09dFs2XSpuK2lbNl0qcixlWzddPXRbN10qbitpWzddKnIsZX0sRmguaW52ZXJ0PWZ1bmN0aW9uKGUsdCl7dmFyIGk9WWgodCk7cmV0dXJuIGVbMF09LXRbMF0vaSxlWzFdPS10WzFdL2ksZVsyXT0tdFsyXS9pLGVbM109dFszXS9pLGVbNF09LXRbNF0vaSxlWzVdPS10WzVdL2ksZVs2XT0tdFs2XS9pLGVbN109dFs3XS9pLGV9LEZoLmNvbmp1Z2F0ZT1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPS10WzBdLGVbMV09LXRbMV0sZVsyXT0tdFsyXSxlWzNdPXRbM10sZVs0XT0tdFs0XSxlWzVdPS10WzVdLGVbNl09LXRbNl0sZVs3XT10WzddLGV9LEZoLm5vcm1hbGl6ZT1mdW5jdGlvbihlLHQpe3ZhciBpPVloKHQpO2lmKGk+MCl7aT1NYXRoLnNxcnQoaSk7dmFyIHI9dFswXS9pLG49dFsxXS9pLG89dFsyXS9pLHM9dFszXS9pLGE9dFs0XSxsPXRbNV0sYz10WzZdLGg9dFs3XSx1PXIqYStuKmwrbypjK3MqaDtlWzBdPXIsZVsxXT1uLGVbMl09byxlWzNdPXMsZVs0XT0oYS1yKnUpL2ksZVs1XT0obC1uKnUpL2ksZVs2XT0oYy1vKnUpL2ksZVs3XT0oaC1zKnUpL2k7fXJldHVybiBlfSxGaC5zdHI9ZnVuY3Rpb24oZSl7cmV0dXJuIFwicXVhdDIoXCIrZVswXStcIiwgXCIrZVsxXStcIiwgXCIrZVsyXStcIiwgXCIrZVszXStcIiwgXCIrZVs0XStcIiwgXCIrZVs1XStcIiwgXCIrZVs2XStcIiwgXCIrZVs3XStcIilcIn0sRmguZXhhY3RFcXVhbHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT09PXRbMF0mJmVbMV09PT10WzFdJiZlWzJdPT09dFsyXSYmZVszXT09PXRbM10mJmVbNF09PT10WzRdJiZlWzVdPT09dFs1XSYmZVs2XT09PXRbNl0mJmVbN109PT10WzddfSxGaC5lcXVhbHM9ZnVuY3Rpb24oZSx0KXt2YXIgaT1lWzBdLHI9ZVsxXSxuPWVbMl0sbz1lWzNdLHM9ZVs0XSxhPWVbNV0sbD1lWzZdLGM9ZVs3XSxoPXRbMF0sdT10WzFdLGQ9dFsyXSxwPXRbM10sZj10WzRdLG09dFs1XSxfPXRbNl0sZz10WzddO3JldHVybiBNYXRoLmFicyhpLWgpPD1VaC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoaSksTWF0aC5hYnMoaCkpJiZNYXRoLmFicyhyLXUpPD1VaC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMociksTWF0aC5hYnModSkpJiZNYXRoLmFicyhuLWQpPD1VaC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMobiksTWF0aC5hYnMoZCkpJiZNYXRoLmFicyhvLXApPD1VaC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMobyksTWF0aC5hYnMocCkpJiZNYXRoLmFicyhzLWYpPD1VaC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMocyksTWF0aC5hYnMoZikpJiZNYXRoLmFicyhhLW0pPD1VaC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYSksTWF0aC5hYnMobSkpJiZNYXRoLmFicyhsLV8pPD1VaC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMobCksTWF0aC5hYnMoXykpJiZNYXRoLmFicyhjLWcpPD1VaC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYyksTWF0aC5hYnMoZykpfSxGaC5zcXJMZW49Rmguc3F1YXJlZExlbmd0aD1GaC5sZW49RmgubGVuZ3RoPUZoLmRvdD1GaC5tdWw9Rmguc2V0UmVhbD1GaC5nZXRSZWFsPXZvaWQgMDt2YXIgVWg9cWgodGMpLFZoPXFoKGtjKSxqaD1xaChFYyk7ZnVuY3Rpb24gR2goZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgV2Vha01hcClyZXR1cm4gbnVsbDt2YXIgdD1uZXcgV2Vha01hcCxpPW5ldyBXZWFrTWFwO3JldHVybiAoR2g9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/aTp0fSkoZSl9ZnVuY3Rpb24gcWgoZSx0KXtpZighdCYmZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO2lmKG51bGw9PT1lfHxcIm9iamVjdFwiIT09TmgoZSkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpcmV0dXJuIHtkZWZhdWx0OmV9O3ZhciBpPUdoKHQpO2lmKGkmJmkuaGFzKGUpKXJldHVybiBpLmdldChlKTt2YXIgcj17fSxuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtmb3IodmFyIG8gaW4gZSlpZihcImRlZmF1bHRcIiE9PW8mJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pKXt2YXIgcz1uP09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxvKTpudWxsO3MmJihzLmdldHx8cy5zZXQpP09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLG8scyk6cltvXT1lW29dO31yZXR1cm4gci5kZWZhdWx0PWUsaSYmaS5zZXQoZSxyKSxyfWZ1bmN0aW9uIFpoKGUsdCxpKXt2YXIgcj0uNSppWzBdLG49LjUqaVsxXSxvPS41KmlbMl0scz10WzBdLGE9dFsxXSxsPXRbMl0sYz10WzNdO3JldHVybiBlWzBdPXMsZVsxXT1hLGVbMl09bCxlWzNdPWMsZVs0XT1yKmMrbipsLW8qYSxlWzVdPW4qYytvKnMtcipsLGVbNl09bypjK3IqYS1uKnMsZVs3XT0tcipzLW4qYS1vKmwsZX1mdW5jdGlvbiAkaChlLHQpe3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlWzNdPXRbM10sZVs0XT10WzRdLGVbNV09dFs1XSxlWzZdPXRbNl0sZVs3XT10WzddLGV9ZnVuY3Rpb24gSGgoZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdLG89dFsyXSxzPXRbM10sYT1pWzRdLGw9aVs1XSxjPWlbNl0saD1pWzddLHU9dFs0XSxkPXRbNV0scD10WzZdLGY9dFs3XSxtPWlbMF0sXz1pWzFdLGc9aVsyXSx5PWlbM107cmV0dXJuIGVbMF09cip5K3MqbStuKmctbypfLGVbMV09bip5K3MqXytvKm0tcipnLGVbMl09byp5K3MqZytyKl8tbiptLGVbM109cyp5LXIqbS1uKl8tbypnLGVbNF09cipoK3MqYStuKmMtbypsK3UqeStmKm0rZCpnLXAqXyxlWzVdPW4qaCtzKmwrbyphLXIqYytkKnkrZipfK3AqbS11KmcsZVs2XT1vKmgrcypjK3IqbC1uKmErcCp5K2YqZyt1Kl8tZCptLGVbN109cypoLXIqYS1uKmwtbypjK2YqeS11Km0tZCpfLXAqZyxlfUZoLmdldFJlYWw9VmguY29weSxGaC5zZXRSZWFsPVZoLmNvcHksRmgubXVsPUhoO3ZhciBXaD1WaC5kb3Q7RmguZG90PVdoO3ZhciBYaD1WaC5sZW5ndGg7RmgubGVuZ3RoPVhoLEZoLmxlbj1YaDt2YXIgWWg9Vmguc3F1YXJlZExlbmd0aDtGaC5zcXVhcmVkTGVuZ3RoPVloLEZoLnNxckxlbj1ZaDt2YXIgS2g9e307ZnVuY3Rpb24gSmgoZSl7cmV0dXJuIEpoPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LEpoKGUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShLaCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxLaC5jcmVhdGU9dHUsS2guY2xvbmU9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFFoLkFSUkFZX1RZUEUoMik7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdH0sS2guZnJvbVZhbHVlcz1mdW5jdGlvbihlLHQpe3ZhciBpPW5ldyBRaC5BUlJBWV9UWVBFKDIpO3JldHVybiBpWzBdPWUsaVsxXT10LGl9LEtoLmNvcHk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT10WzBdLGVbMV09dFsxXSxlfSxLaC5zZXQ9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBlWzBdPXQsZVsxXT1pLGV9LEtoLmFkZD1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGVbMF09dFswXStpWzBdLGVbMV09dFsxXStpWzFdLGV9LEtoLnN1YnRyYWN0PWl1LEtoLm11bHRpcGx5PXJ1LEtoLmRpdmlkZT1udSxLaC5jZWlsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09TWF0aC5jZWlsKHRbMF0pLGVbMV09TWF0aC5jZWlsKHRbMV0pLGV9LEtoLmZsb29yPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09TWF0aC5mbG9vcih0WzBdKSxlWzFdPU1hdGguZmxvb3IodFsxXSksZX0sS2gubWluPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZVswXT1NYXRoLm1pbih0WzBdLGlbMF0pLGVbMV09TWF0aC5taW4odFsxXSxpWzFdKSxlfSxLaC5tYXg9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBlWzBdPU1hdGgubWF4KHRbMF0saVswXSksZVsxXT1NYXRoLm1heCh0WzFdLGlbMV0pLGV9LEtoLnJvdW5kPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09TWF0aC5yb3VuZCh0WzBdKSxlWzFdPU1hdGgucm91bmQodFsxXSksZX0sS2guc2NhbGU9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBlWzBdPXRbMF0qaSxlWzFdPXRbMV0qaSxlfSxLaC5zY2FsZUFuZEFkZD1mdW5jdGlvbihlLHQsaSxyKXtyZXR1cm4gZVswXT10WzBdK2lbMF0qcixlWzFdPXRbMV0raVsxXSpyLGV9LEtoLmRpc3RhbmNlPW91LEtoLnNxdWFyZWREaXN0YW5jZT1zdSxLaC5sZW5ndGg9YXUsS2guc3F1YXJlZExlbmd0aD1sdSxLaC5uZWdhdGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT0tdFswXSxlWzFdPS10WzFdLGV9LEtoLmludmVyc2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT0xL3RbMF0sZVsxXT0xL3RbMV0sZX0sS2gubm9ybWFsaXplPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dFswXSxyPXRbMV0sbj1pKmkrcipyO3JldHVybiBuPjAmJihuPTEvTWF0aC5zcXJ0KG4pKSxlWzBdPXRbMF0qbixlWzFdPXRbMV0qbixlfSxLaC5kb3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXSp0WzBdK2VbMV0qdFsxXX0sS2guY3Jvc3M9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPXRbMF0qaVsxXS10WzFdKmlbMF07cmV0dXJuIGVbMF09ZVsxXT0wLGVbMl09cixlfSxLaC5sZXJwPWZ1bmN0aW9uKGUsdCxpLHIpe3ZhciBuPXRbMF0sbz10WzFdO3JldHVybiBlWzBdPW4rciooaVswXS1uKSxlWzFdPW8rciooaVsxXS1vKSxlfSxLaC5yYW5kb209ZnVuY3Rpb24oZSx0KXt0PXR8fDE7dmFyIGk9MipRaC5SQU5ET00oKSpNYXRoLlBJO3JldHVybiBlWzBdPU1hdGguY29zKGkpKnQsZVsxXT1NYXRoLnNpbihpKSp0LGV9LEtoLnRyYW5zZm9ybU1hdDI9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdO3JldHVybiBlWzBdPWlbMF0qcitpWzJdKm4sZVsxXT1pWzFdKnIraVszXSpuLGV9LEtoLnRyYW5zZm9ybU1hdDJkPWZ1bmN0aW9uKGUsdCxpKXt2YXIgcj10WzBdLG49dFsxXTtyZXR1cm4gZVswXT1pWzBdKnIraVsyXSpuK2lbNF0sZVsxXT1pWzFdKnIraVszXSpuK2lbNV0sZX0sS2gudHJhbnNmb3JtTWF0Mz1mdW5jdGlvbihlLHQsaSl7dmFyIHI9dFswXSxuPXRbMV07cmV0dXJuIGVbMF09aVswXSpyK2lbM10qbitpWzZdLGVbMV09aVsxXSpyK2lbNF0qbitpWzddLGV9LEtoLnRyYW5zZm9ybU1hdDQ9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdO3JldHVybiBlWzBdPWlbMF0qcitpWzRdKm4raVsxMl0sZVsxXT1pWzFdKnIraVs1XSpuK2lbMTNdLGV9LEtoLnJvdGF0ZT1mdW5jdGlvbihlLHQsaSxyKXt2YXIgbj10WzBdLWlbMF0sbz10WzFdLWlbMV0scz1NYXRoLnNpbihyKSxhPU1hdGguY29zKHIpO3JldHVybiBlWzBdPW4qYS1vKnMraVswXSxlWzFdPW4qcytvKmEraVsxXSxlfSxLaC5hbmdsZT1mdW5jdGlvbihlLHQpe3ZhciBpPWVbMF0scj1lWzFdLG49dFswXSxvPXRbMV0scz1NYXRoLnNxcnQoaSppK3IqcikqTWF0aC5zcXJ0KG4qbitvKm8pO3JldHVybiBNYXRoLmFjb3MoTWF0aC5taW4oTWF0aC5tYXgocyYmKGkqbityKm8pL3MsLTEpLDEpKX0sS2guemVybz1mdW5jdGlvbihlKXtyZXR1cm4gZVswXT0wLGVbMV09MCxlfSxLaC5zdHI9ZnVuY3Rpb24oZSl7cmV0dXJuIFwidmVjMihcIitlWzBdK1wiLCBcIitlWzFdK1wiKVwifSxLaC5leGFjdEVxdWFscz1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPT09dFswXSYmZVsxXT09PXRbMV19LEtoLmVxdWFscz1mdW5jdGlvbihlLHQpe3ZhciBpPWVbMF0scj1lWzFdLG49dFswXSxvPXRbMV07cmV0dXJuIE1hdGguYWJzKGktbik8PVFoLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhpKSxNYXRoLmFicyhuKSkmJk1hdGguYWJzKHItbyk8PVFoLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhyKSxNYXRoLmFicyhvKSl9LEtoLmZvckVhY2g9S2guc3FyTGVuPUtoLnNxckRpc3Q9S2guZGlzdD1LaC5kaXY9S2gubXVsPUtoLnN1Yj1LaC5sZW49dm9pZCAwO3ZhciBRaD1mdW5jdGlvbihlLHQpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTtpZihudWxsPT09ZXx8XCJvYmplY3RcIiE9PUpoKGUpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXJldHVybiB7ZGVmYXVsdDplfTt2YXIgaT1ldSh2b2lkIDApO2lmKGkmJmkuaGFzKGUpKXJldHVybiBpLmdldChlKTt2YXIgcj17fSxuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtmb3IodmFyIG8gaW4gZSlpZihcImRlZmF1bHRcIiE9PW8mJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pKXt2YXIgcz1uP09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxvKTpudWxsO3MmJihzLmdldHx8cy5zZXQpP09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLG8scyk6cltvXT1lW29dO31yZXR1cm4gci5kZWZhdWx0PWUsaSYmaS5zZXQoZSxyKSxyfSh0Yyk7ZnVuY3Rpb24gZXUoZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgV2Vha01hcClyZXR1cm4gbnVsbDt2YXIgdD1uZXcgV2Vha01hcCxpPW5ldyBXZWFrTWFwO3JldHVybiAoZXU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/aTp0fSkoZSl9ZnVuY3Rpb24gdHUoKXt2YXIgZT1uZXcgUWguQVJSQVlfVFlQRSgyKTtyZXR1cm4gUWguQVJSQVlfVFlQRSE9RmxvYXQzMkFycmF5JiYoZVswXT0wLGVbMV09MCksZX1mdW5jdGlvbiBpdShlLHQsaSl7cmV0dXJuIGVbMF09dFswXS1pWzBdLGVbMV09dFsxXS1pWzFdLGV9ZnVuY3Rpb24gcnUoZSx0LGkpe3JldHVybiBlWzBdPXRbMF0qaVswXSxlWzFdPXRbMV0qaVsxXSxlfWZ1bmN0aW9uIG51KGUsdCxpKXtyZXR1cm4gZVswXT10WzBdL2lbMF0sZVsxXT10WzFdL2lbMV0sZX1mdW5jdGlvbiBvdShlLHQpe3JldHVybiBNYXRoLmh5cG90KHRbMF0tZVswXSx0WzFdLWVbMV0pfWZ1bmN0aW9uIHN1KGUsdCl7dmFyIGk9dFswXS1lWzBdLHI9dFsxXS1lWzFdO3JldHVybiBpKmkrcipyfWZ1bmN0aW9uIGF1KGUpe3JldHVybiBNYXRoLmh5cG90KGVbMF0sZVsxXSl9ZnVuY3Rpb24gbHUoZSl7dmFyIHQ9ZVswXSxpPWVbMV07cmV0dXJuIHQqdCtpKml9S2gubGVuPWF1LEtoLnN1Yj1pdSxLaC5tdWw9cnUsS2guZGl2PW51LEtoLmRpc3Q9b3UsS2guc3FyRGlzdD1zdSxLaC5zcXJMZW49bHU7dmFyIGN1PWZ1bmN0aW9uKCl7dmFyIGU9dHUoKTtyZXR1cm4gZnVuY3Rpb24odCxpLHIsbixvLHMpe3ZhciBhLGw7Zm9yKGl8fChpPTIpLHJ8fChyPTApLGw9bj9NYXRoLm1pbihuKmkrcix0Lmxlbmd0aCk6dC5sZW5ndGgsYT1yO2E8bDthKz1pKWVbMF09dFthXSxlWzFdPXRbYSsxXSxvKGUsZSxzKSx0W2FdPWVbMF0sdFthKzFdPWVbMV07cmV0dXJuIHR9fSgpO2Z1bmN0aW9uIGh1KGUpe3JldHVybiBodT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxodShlKX1LaC5mb3JFYWNoPWN1LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlYyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgdXU9ZWMudmVjND1NdT1lYy52ZWMzPWVjLnZlYzI9ZWMucXVhdDI9YnU9ZWMucXVhdD14dT1lYy5tYXQ0PWd1PWVjLm1hdDM9ZWMubWF0MmQ9ZnU9ZWMubWF0Mj1lYy5nbE1hdHJpeD12b2lkIDAsZHU9SXUodGMpO2VjLmdsTWF0cml4PWR1O3ZhciBwdT1JdShzYyksZnU9ZWMubWF0Mj1wdSxtdT1JdShkYyk7ZWMubWF0MmQ9bXU7dmFyIF91PUl1KHljKSxndT1lYy5tYXQzPV91LHl1PUl1KEVjKSx4dT1lYy5tYXQ0PXl1LHZ1PUl1KGtjKSxidT1lYy5xdWF0PXZ1LHd1PUl1KEZoKTtlYy5xdWF0Mj13dTt2YXIgVHU9SXUoS2gpO2VjLnZlYzI9VHU7dmFyIEV1PUl1KE9jKSxNdT1lYy52ZWMzPUV1LEF1PUl1KEtjKTtmdW5jdGlvbiBTdShlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBXZWFrTWFwKXJldHVybiBudWxsO3ZhciB0PW5ldyBXZWFrTWFwLGk9bmV3IFdlYWtNYXA7cmV0dXJuIChTdT1mdW5jdGlvbihlKXtyZXR1cm4gZT9pOnR9KShlKX1mdW5jdGlvbiBJdShlLHQpe2lmKCF0JiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7aWYobnVsbD09PWV8fFwib2JqZWN0XCIhPT1odShlKSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZSlyZXR1cm4ge2RlZmF1bHQ6ZX07dmFyIGk9U3UodCk7aWYoaSYmaS5oYXMoZSkpcmV0dXJuIGkuZ2V0KGUpO3ZhciByPXt9LG49T2JqZWN0LmRlZmluZVByb3BlcnR5JiZPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO2Zvcih2YXIgbyBpbiBlKWlmKFwiZGVmYXVsdFwiIT09byYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbykpe3ZhciBzPW4/T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG8pOm51bGw7cyYmKHMuZ2V0fHxzLnNldCk/T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsbyxzKTpyW29dPWVbb107fXJldHVybiByLmRlZmF1bHQ9ZSxpJiZpLnNldChlLHIpLHJ9dXU9ZWMudmVjND1BdTtjb25zdCBDdT1iYShbe3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcImFfZ2xvYmVfcG9zXCIsY29tcG9uZW50czozfSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwiYV91dlwiLGNvbXBvbmVudHM6Mn1dKSx7bWVtYmVyczp6dX09Q3UsRHU9YmEoW3tuYW1lOlwiYV9wb3NfM1wiLGNvbXBvbmVudHM6Myx0eXBlOlwiSW50MTZcIn1dKTt2YXIgUHU9YmEoW3tuYW1lOlwiYV9wb3NcIix0eXBlOlwiSW50MTZcIixjb21wb25lbnRzOjJ9XSksUnU9e307IWZ1bmN0aW9uKGUsdCl7IWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0LHIpe3ZhciBuPWkoMjU2KmUsMjU2Kih0PU1hdGgucG93KDIsciktdC0xKSxyKSxvPWkoMjU2KihlKzEpLDI1NioodCsxKSxyKTtyZXR1cm4gblswXStcIixcIituWzFdK1wiLFwiK29bMF0rXCIsXCIrb1sxXX1mdW5jdGlvbiBpKGUsdCxpKXt2YXIgcj0yKk1hdGguUEkqNjM3ODEzNy8yNTYvTWF0aC5wb3coMixpKTtyZXR1cm4gW2Uqci0yKk1hdGguUEkqNjM3ODEzNy8yLHQqci0yKk1hdGguUEkqNjM3ODEzNy8yXX1lLmdldFVSTD1mdW5jdGlvbihlLGkscixuLG8scyl7cmV0dXJuIHM9c3x8e30sZStcIj9cIitbXCJiYm94PVwiK3QocixuLG8pLFwiZm9ybWF0PVwiKyhzLmZvcm1hdHx8XCJpbWFnZS9wbmdcIiksXCJzZXJ2aWNlPVwiKyhzLnNlcnZpY2V8fFwiV01TXCIpLFwidmVyc2lvbj1cIisocy52ZXJzaW9ufHxcIjEuMS4xXCIpLFwicmVxdWVzdD1cIisocy5yZXF1ZXN0fHxcIkdldE1hcFwiKSxcInNycz1cIisocy5zcnN8fFwiRVBTRzozODU3XCIpLFwid2lkdGg9XCIrKHMud2lkdGh8fDI1NiksXCJoZWlnaHQ9XCIrKHMuaGVpZ2h0fHwyNTYpLFwibGF5ZXJzPVwiK2ldLmpvaW4oXCImXCIpfSxlLmdldFRpbGVCQm94PXQsZS5nZXRNZXJjQ29vcmRzPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7fSh0KTt9KDAsUnUpO3ZhciBMdT1SdTtjbGFzcyBrdXtjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy56PWUsdGhpcy54PXQsdGhpcy55PWksdGhpcy5rZXk9RnUoMCxlLGUsdCxpKTt9ZXF1YWxzKGUpe3JldHVybiB0aGlzLno9PT1lLnomJnRoaXMueD09PWUueCYmdGhpcy55PT09ZS55fXVybChlLHQpe2NvbnN0IGk9THUuZ2V0VGlsZUJCb3godGhpcy54LHRoaXMueSx0aGlzLnopLHI9ZnVuY3Rpb24oZSx0LGkpe2xldCByLG49XCJcIjtmb3IobGV0IG89ZTtvPjA7by0tKXI9MTw8by0xLG4rPSh0JnI/MTowKSsoaSZyPzI6MCk7cmV0dXJuIG59KHRoaXMueix0aGlzLngsdGhpcy55KTtyZXR1cm4gZVsodGhpcy54K3RoaXMueSklZS5sZW5ndGhdLnJlcGxhY2UoXCJ7cHJlZml4fVwiLCh0aGlzLnglMTYpLnRvU3RyaW5nKDE2KSsodGhpcy55JTE2KS50b1N0cmluZygxNikpLnJlcGxhY2UoL3t6fS9nLFN0cmluZyh0aGlzLnopKS5yZXBsYWNlKC97eH0vZyxTdHJpbmcodGhpcy54KSkucmVwbGFjZSgve3l9L2csU3RyaW5nKFwidG1zXCI9PT10P01hdGgucG93KDIsdGhpcy56KS10aGlzLnktMTp0aGlzLnkpKS5yZXBsYWNlKFwie3F1YWRrZXl9XCIscikucmVwbGFjZShcIntiYm94LWVwc2ctMzg1N31cIixpKX10b1N0cmluZygpe3JldHVybiBgJHt0aGlzLnp9LyR7dGhpcy54fS8ke3RoaXMueX1gfX1jbGFzcyBPdXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMud3JhcD1lLHRoaXMuY2Fub25pY2FsPXQsdGhpcy5rZXk9RnUoZSx0LnosdC56LHQueCx0LnkpO319Y2xhc3MgQnV7Y29uc3RydWN0b3IoZSx0LGkscixuKXt0aGlzLm92ZXJzY2FsZWRaPWUsdGhpcy53cmFwPXQsdGhpcy5jYW5vbmljYWw9bmV3IGt1KGksK3IsK24pLHRoaXMua2V5PTA9PT10JiZlPT09aT90aGlzLmNhbm9uaWNhbC5rZXk6RnUodCxlLGkscixuKTt9ZXF1YWxzKGUpe3JldHVybiB0aGlzLm92ZXJzY2FsZWRaPT09ZS5vdmVyc2NhbGVkWiYmdGhpcy53cmFwPT09ZS53cmFwJiZ0aGlzLmNhbm9uaWNhbC5lcXVhbHMoZS5jYW5vbmljYWwpfXNjYWxlZFRvKGUpe2NvbnN0IHQ9dGhpcy5jYW5vbmljYWwuei1lO3JldHVybiBlPnRoaXMuY2Fub25pY2FsLno/bmV3IEJ1KGUsdGhpcy53cmFwLHRoaXMuY2Fub25pY2FsLnosdGhpcy5jYW5vbmljYWwueCx0aGlzLmNhbm9uaWNhbC55KTpuZXcgQnUoZSx0aGlzLndyYXAsZSx0aGlzLmNhbm9uaWNhbC54Pj50LHRoaXMuY2Fub25pY2FsLnk+PnQpfWNhbGN1bGF0ZVNjYWxlZEtleShlLHQ9ITApe2lmKHRoaXMub3ZlcnNjYWxlZFo9PT1lJiZ0KXJldHVybiB0aGlzLmtleTtpZihlPnRoaXMuY2Fub25pY2FsLnopcmV0dXJuIEZ1KHRoaXMud3JhcCordCxlLHRoaXMuY2Fub25pY2FsLnosdGhpcy5jYW5vbmljYWwueCx0aGlzLmNhbm9uaWNhbC55KTt7Y29uc3QgaT10aGlzLmNhbm9uaWNhbC56LWU7cmV0dXJuIEZ1KHRoaXMud3JhcCordCxlLGUsdGhpcy5jYW5vbmljYWwueD4+aSx0aGlzLmNhbm9uaWNhbC55Pj5pKX19aXNDaGlsZE9mKGUpe2lmKGUud3JhcCE9PXRoaXMud3JhcClyZXR1cm4gITE7Y29uc3QgdD10aGlzLmNhbm9uaWNhbC56LWUuY2Fub25pY2FsLno7cmV0dXJuIDA9PT1lLm92ZXJzY2FsZWRafHxlLm92ZXJzY2FsZWRaPHRoaXMub3ZlcnNjYWxlZFomJmUuY2Fub25pY2FsLno8dGhpcy5jYW5vbmljYWwueiYmZS5jYW5vbmljYWwueD09PXRoaXMuY2Fub25pY2FsLng+PnQmJmUuY2Fub25pY2FsLnk9PT10aGlzLmNhbm9uaWNhbC55Pj50fWNoaWxkcmVuKGUpe2lmKHRoaXMub3ZlcnNjYWxlZFo+PWUpcmV0dXJuIFtuZXcgQnUodGhpcy5vdmVyc2NhbGVkWisxLHRoaXMud3JhcCx0aGlzLmNhbm9uaWNhbC56LHRoaXMuY2Fub25pY2FsLngsdGhpcy5jYW5vbmljYWwueSldO2NvbnN0IHQ9dGhpcy5jYW5vbmljYWwueisxLGk9Mip0aGlzLmNhbm9uaWNhbC54LHI9Mip0aGlzLmNhbm9uaWNhbC55O3JldHVybiBbbmV3IEJ1KHQsdGhpcy53cmFwLHQsaSxyKSxuZXcgQnUodCx0aGlzLndyYXAsdCxpKzEsciksbmV3IEJ1KHQsdGhpcy53cmFwLHQsaSxyKzEpLG5ldyBCdSh0LHRoaXMud3JhcCx0LGkrMSxyKzEpXX1pc0xlc3NUaGFuKGUpe3JldHVybiB0aGlzLndyYXA8ZS53cmFwfHwhKHRoaXMud3JhcD5lLndyYXApJiYodGhpcy5vdmVyc2NhbGVkWjxlLm92ZXJzY2FsZWRafHwhKHRoaXMub3ZlcnNjYWxlZFo+ZS5vdmVyc2NhbGVkWikmJih0aGlzLmNhbm9uaWNhbC54PGUuY2Fub25pY2FsLnh8fCEodGhpcy5jYW5vbmljYWwueD5lLmNhbm9uaWNhbC54KSYmdGhpcy5jYW5vbmljYWwueTxlLmNhbm9uaWNhbC55KSl9d3JhcHBlZCgpe3JldHVybiBuZXcgQnUodGhpcy5vdmVyc2NhbGVkWiwwLHRoaXMuY2Fub25pY2FsLnosdGhpcy5jYW5vbmljYWwueCx0aGlzLmNhbm9uaWNhbC55KX11bndyYXBUbyhlKXtyZXR1cm4gbmV3IEJ1KHRoaXMub3ZlcnNjYWxlZFosZSx0aGlzLmNhbm9uaWNhbC56LHRoaXMuY2Fub25pY2FsLngsdGhpcy5jYW5vbmljYWwueSl9b3ZlcnNjYWxlRmFjdG9yKCl7cmV0dXJuIE1hdGgucG93KDIsdGhpcy5vdmVyc2NhbGVkWi10aGlzLmNhbm9uaWNhbC56KX10b1Vud3JhcHBlZCgpe3JldHVybiBuZXcgT3UodGhpcy53cmFwLHRoaXMuY2Fub25pY2FsKX10b1N0cmluZygpe3JldHVybiBgJHt0aGlzLm92ZXJzY2FsZWRafS8ke3RoaXMuY2Fub25pY2FsLnh9LyR7dGhpcy5jYW5vbmljYWwueX1gfX1mdW5jdGlvbiBGdShlLHQsaSxyLG4pe2NvbnN0IG89MTw8TWF0aC5taW4oaSwyMik7bGV0IHM9byoobiVvKStyJW87cmV0dXJuIGUmJmk8MjImJihzKz1vKm8qKChlPDA/LTIqZS0xOjIqZSklKDE8PDIqKDIyLWkpKSkpLDE2KigzMipzK2kpKyh0LWkpfWNvbnN0IE51PVtlPT57bGV0IHQ9ZS5jYW5vbmljYWwueC0xLGk9ZS53cmFwO3JldHVybiB0PDAmJih0PSgxPDxlLmNhbm9uaWNhbC56KS0xLGktLSksbmV3IEJ1KGUub3ZlcnNjYWxlZFosaSxlLmNhbm9uaWNhbC56LHQsZS5jYW5vbmljYWwueSl9LGU9PntsZXQgdD1lLmNhbm9uaWNhbC54KzEsaT1lLndyYXA7cmV0dXJuIHQ9PT0xPDxlLmNhbm9uaWNhbC56JiYodD0wLGkrKyksbmV3IEJ1KGUub3ZlcnNjYWxlZFosaSxlLmNhbm9uaWNhbC56LHQsZS5jYW5vbmljYWwueSl9LGU9Pm5ldyBCdShlLm92ZXJzY2FsZWRaLGUud3JhcCxlLmNhbm9uaWNhbC56LGUuY2Fub25pY2FsLngsKDA9PT1lLmNhbm9uaWNhbC55PzE8PGUuY2Fub25pY2FsLno6ZS5jYW5vbmljYWwueSktMSksZT0+bmV3IEJ1KGUub3ZlcnNjYWxlZFosZS53cmFwLGUuY2Fub25pY2FsLnosZS5jYW5vbmljYWwueCxlLmNhbm9uaWNhbC55PT09KDE8PGUuY2Fub25pY2FsLnopLTE/MDplLmNhbm9uaWNhbC55KzEpXTtJcyhrdSxcIkNhbm9uaWNhbFRpbGVJRFwiKSxJcyhCdSxcIk92ZXJzY2FsZWRUaWxlSURcIix7b21pdDpbXCJwcm9qTWF0cml4XCJdfSk7Y2xhc3MgVXV7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnBvcz1lLHRoaXMuZGlyPXQ7fWludGVyc2VjdHNQbGFuZShlLHQsaSl7Y29uc3Qgcj1NdS5kb3QodCx0aGlzLmRpcik7aWYoTWF0aC5hYnMocik8MWUtNilyZXR1cm4gITE7Y29uc3Qgbj0oKGVbMF0tdGhpcy5wb3NbMF0pKnRbMF0rKGVbMV0tdGhpcy5wb3NbMV0pKnRbMV0rKGVbMl0tdGhpcy5wb3NbMl0pKnRbMl0pL3I7cmV0dXJuIGlbMF09dGhpcy5wb3NbMF0rdGhpcy5kaXJbMF0qbixpWzFdPXRoaXMucG9zWzFdK3RoaXMuZGlyWzFdKm4saVsyXT10aGlzLnBvc1syXSt0aGlzLmRpclsyXSpuLCEwfWNsb3Nlc3RQb2ludE9uU3BoZXJlKGUsdCxpKXtpZihNdS5lcXVhbHModGhpcy5wb3MsZSl8fDA9PT10KXJldHVybiBpWzBdPWlbMV09aVsyXT0wLCExO2NvbnN0W3IsbixvXT10aGlzLmRpcixzPXRoaXMucG9zWzBdLWVbMF0sYT10aGlzLnBvc1sxXS1lWzFdLGw9dGhpcy5wb3NbMl0tZVsyXSxjPXIqcituKm4rbypvLGg9MioocypyK2EqbitsKm8pLHU9aCpoLTQqYyoocypzK2EqYStsKmwtdCp0KTtpZih1PDApe2NvbnN0IGU9TWF0aC5tYXgoLWgvMiwwKSxjPXMrciplLHU9YStuKmUsZD1sK28qZSxwPU1hdGguaHlwb3QoYyx1LGQpO3JldHVybiBpWzBdPWMqdC9wLGlbMV09dSp0L3AsaVsyXT1kKnQvcCwhMX17Y29uc3QgZT0oLWgtTWF0aC5zcXJ0KHUpKS8oMipjKTtpZihlPDApe2NvbnN0IGU9TWF0aC5oeXBvdChzLGEsbCk7cmV0dXJuIGlbMF09cyp0L2UsaVsxXT1hKnQvZSxpWzJdPWwqdC9lLCExfXJldHVybiBpWzBdPXMrciplLGlbMV09YStuKmUsaVsyXT1sK28qZSwhMH19fWNsYXNzIFZ1e2NvbnN0cnVjdG9yKGUsdCxpLHIsbil7dGhpcy5UTD1lLHRoaXMuVFI9dCx0aGlzLkJSPWksdGhpcy5CTD1yLHRoaXMuaG9yaXpvbj1uO31zdGF0aWMgZnJvbUludlByb2plY3Rpb25NYXRyaXgoZSx0LGkpe2NvbnN0IHI9Wy0xLDEsMV0sbj1bMSwxLDFdLG89WzEsLTEsMV0scz1bLTEsLTEsMV0sYT1NdS50cmFuc2Zvcm1NYXQ0KHIscixlKSxsPU11LnRyYW5zZm9ybU1hdDQobixuLGUpLGM9TXUudHJhbnNmb3JtTWF0NChvLG8sZSksaD1NdS50cmFuc2Zvcm1NYXQ0KHMscyxlKTtyZXR1cm4gbmV3IFZ1KGEsbCxjLGgsdC9pKX19ZnVuY3Rpb24ganUoZSx0LGkpe2xldCByPTEvMCxuPS0xLzA7Y29uc3Qgbz1bXTtmb3IoY29uc3QgcyBvZiBlKXtNdS5zdWIobyxzLHQpO2NvbnN0IGU9TXUuZG90KG8saSk7cj1NYXRoLm1pbihyLGUpLG49TWF0aC5tYXgobixlKTt9cmV0dXJuIFtyLG5dfWZ1bmN0aW9uIEd1KGUsdCl7bGV0IGk9ITA7Zm9yKGxldCByPTA7cjxlLnBsYW5lcy5sZW5ndGg7cisrKXtjb25zdCBuPWUucGxhbmVzW3JdO2xldCBvPTA7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspbys9TXUuZG90KG4sdFtlXSkrblszXT49MDtpZigwPT09bylyZXR1cm4gMDtvIT09dC5sZW5ndGgmJihpPSExKTt9cmV0dXJuIGk/MjoxfWZ1bmN0aW9uIHF1KGUsdCl7Zm9yKGNvbnN0IGkgb2YgZS5wcm9qZWN0aW9ucyl7Y29uc3Qgcj1qdSh0LGUucG9pbnRzWzBdLGkuYXhpcyk7aWYoaS5wcm9qZWN0aW9uWzFdPHJbMF18fGkucHJvamVjdGlvblswXT5yWzFdKXJldHVybiAwfXJldHVybiAxfWZ1bmN0aW9uIFp1KGUsdCl7bGV0IGk9MDtjb25zdCByPVswLDAsMCwwXTtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKylyWzBdPWVbbl1bMF0sclsxXT1lW25dWzFdLHJbMl09ZVtuXVsyXSxyWzNdPTEsdXUuZG90KHIsdCk+PTAmJmkrKztyZXR1cm4gaX1jbGFzcyAkdXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMucG9pbnRzPWV8fG5ldyBBcnJheSg4KS5maWxsKFswLDAsMF0pLHRoaXMucGxhbmVzPXR8fG5ldyBBcnJheSg2KS5maWxsKFswLDAsMCwwXSksdGhpcy5ib3VuZHM9SHUuZnJvbVBvaW50cyh0aGlzLnBvaW50cyksdGhpcy5wcm9qZWN0aW9ucz1bXSx0aGlzLmZydXN0dW1FZGdlcz1bTXUuc3ViKFtdLHRoaXMucG9pbnRzWzJdLHRoaXMucG9pbnRzWzNdKSxNdS5zdWIoW10sdGhpcy5wb2ludHNbMF0sdGhpcy5wb2ludHNbM10pLE11LnN1YihbXSx0aGlzLnBvaW50c1s0XSx0aGlzLnBvaW50c1swXSksTXUuc3ViKFtdLHRoaXMucG9pbnRzWzVdLHRoaXMucG9pbnRzWzFdKSxNdS5zdWIoW10sdGhpcy5wb2ludHNbNl0sdGhpcy5wb2ludHNbMl0pLE11LnN1YihbXSx0aGlzLnBvaW50c1s3XSx0aGlzLnBvaW50c1szXSldO2Zvcihjb25zdCBlIG9mIHRoaXMuZnJ1c3R1bUVkZ2VzKXtjb25zdCB0PVswLC1lWzJdLGVbMV1dLGk9W2VbMl0sMCwtZVswXV07dGhpcy5wcm9qZWN0aW9ucy5wdXNoKHtheGlzOnQscHJvamVjdGlvbjpqdSh0aGlzLnBvaW50cyx0aGlzLnBvaW50c1swXSx0KX0pLHRoaXMucHJvamVjdGlvbnMucHVzaCh7YXhpczppLHByb2plY3Rpb246anUodGhpcy5wb2ludHMsdGhpcy5wb2ludHNbMF0saSl9KTt9fXN0YXRpYyBmcm9tSW52UHJvamVjdGlvbk1hdHJpeChlLHQsaSxyKXtjb25zdCBuPU1hdGgucG93KDIsaSksbz1bWy0xLDEsLTEsMV0sWzEsMSwtMSwxXSxbMSwtMSwtMSwxXSxbLTEsLTEsLTEsMV0sWy0xLDEsMSwxXSxbMSwxLDEsMV0sWzEsLTEsMSwxXSxbLTEsLTEsMSwxXV0ubWFwKChpPT57Y29uc3Qgbz11dS50cmFuc2Zvcm1NYXQ0KFtdLGksZSkscz0xL29bM10vdCpuO3JldHVybiB1dS5tdWwobyxvLFtzLHMscj8xL29bM106cyxzXSl9KSkscz1bWzAsMSwyXSxbNiw1LDRdLFswLDMsN10sWzIsMSw1XSxbMywyLDZdLFswLDQsNV1dLm1hcCgoZT0+e2NvbnN0IHQ9TXUuc3ViKFtdLG9bZVswXV0sb1tlWzFdXSksaT1NdS5zdWIoW10sb1tlWzJdXSxvW2VbMV1dKSxyPU11Lm5vcm1hbGl6ZShbXSxNdS5jcm9zcyhbXSx0LGkpKSxuPS1NdS5kb3QocixvW2VbMV1dKTtyZXR1cm4gci5jb25jYXQobil9KSksYT1bXTtmb3IobGV0IGU9MDtlPG8ubGVuZ3RoO2UrKylhLnB1c2goW29bZV1bMF0sb1tlXVsxXSxvW2VdWzJdXSk7cmV0dXJuIG5ldyAkdShhLHMpfWludGVyc2VjdHNQcmVjaXNlKGUsdCxpKXtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKylpZighWnUoZSx0W2ldKSlyZXR1cm4gMDtmb3IobGV0IHQ9MDt0PHRoaXMucGxhbmVzLmxlbmd0aDt0KyspaWYoIVp1KGUsdGhpcy5wbGFuZXNbdF0pKXJldHVybiAwO2Zvcihjb25zdCB0IG9mIGkpZm9yKGNvbnN0IGkgb2YgdGhpcy5mcnVzdHVtRWRnZXMpe2NvbnN0IHI9TXUuY3Jvc3MoW10sdCxpKSxuPU11Lmxlbmd0aChyKTtpZigwPT09biljb250aW51ZTtNdS5zY2FsZShyLHIsMS9uKTtjb25zdCBvPWp1KHRoaXMucG9pbnRzLHRoaXMucG9pbnRzWzBdLHIpLHM9anUoZSx0aGlzLnBvaW50c1swXSxyKTtpZihvWzBdPnNbMV18fHNbMF0+b1sxXSlyZXR1cm4gMH1yZXR1cm4gMX19Y2xhc3MgSHV7c3RhdGljIGZyb21Qb2ludHMoZSl7Y29uc3QgdD1bMS8wLDEvMCwxLzBdLGk9Wy0xLzAsLTEvMCwtMS8wXTtmb3IoY29uc3QgciBvZiBlKU11Lm1pbih0LHQsciksTXUubWF4KGksaSxyKTtyZXR1cm4gbmV3IEh1KHQsaSl9c3RhdGljIGZyb21UaWxlSWRBbmRIZWlnaHQoZSx0LGkpe2NvbnN0IHI9MTw8ZS5jYW5vbmljYWwueixuPWUuY2Fub25pY2FsLngsbz1lLmNhbm9uaWNhbC55O3JldHVybiBuZXcgSHUoW24vcixvL3IsdF0sWyhuKzEpL3IsKG8rMSkvcixpXSl9c3RhdGljIGFwcGx5VHJhbnNmb3JtKGUsdCl7Y29uc3QgaT1lLmdldENvcm5lcnMoKTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoOysrZSlNdS50cmFuc2Zvcm1NYXQ0KGlbZV0saVtlXSx0KTtyZXR1cm4gSHUuZnJvbVBvaW50cyhpKX1zdGF0aWMgcHJvamVjdEFhYmJDb3JuZXJzKGUsdCl7Y29uc3QgaT1lLmdldENvcm5lcnMoKTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoOysrZSlNdS50cmFuc2Zvcm1NYXQ0KGlbZV0saVtlXSx0KTtyZXR1cm4gaX1jb25zdHJ1Y3RvcihlLHQpe3RoaXMubWluPWUsdGhpcy5tYXg9dCx0aGlzLmNlbnRlcj1NdS5zY2FsZShbXSxNdS5hZGQoW10sdGhpcy5taW4sdGhpcy5tYXgpLC41KTt9cXVhZHJhbnQoZSl7Y29uc3QgdD1bZSUyPT0wLGU8Ml0saT1NdS5jbG9uZSh0aGlzLm1pbikscj1NdS5jbG9uZSh0aGlzLm1heCk7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspaVtlXT10W2VdP3RoaXMubWluW2VdOnRoaXMuY2VudGVyW2VdLHJbZV09dFtlXT90aGlzLmNlbnRlcltlXTp0aGlzLm1heFtlXTtyZXR1cm4gclsyXT10aGlzLm1heFsyXSxuZXcgSHUoaSxyKX1kaXN0YW5jZVgoZSl7cmV0dXJuIE1hdGgubWF4KE1hdGgubWluKHRoaXMubWF4WzBdLGVbMF0pLHRoaXMubWluWzBdKS1lWzBdfWRpc3RhbmNlWShlKXtyZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4odGhpcy5tYXhbMV0sZVsxXSksdGhpcy5taW5bMV0pLWVbMV19ZGlzdGFuY2VaKGUpe3JldHVybiBNYXRoLm1heChNYXRoLm1pbih0aGlzLm1heFsyXSxlWzJdKSx0aGlzLm1pblsyXSktZVsyXX1nZXRDb3JuZXJzKCl7Y29uc3QgZT10aGlzLm1pbix0PXRoaXMubWF4O3JldHVybiBbW2VbMF0sZVsxXSxlWzJdXSxbdFswXSxlWzFdLGVbMl1dLFt0WzBdLHRbMV0sZVsyXV0sW2VbMF0sdFsxXSxlWzJdXSxbZVswXSxlWzFdLHRbMl1dLFt0WzBdLGVbMV0sdFsyXV0sW3RbMF0sdFsxXSx0WzJdXSxbZVswXSx0WzFdLHRbMl1dXX1pbnRlcnNlY3RzKGUpe3JldHVybiB0aGlzLmludGVyc2VjdHNBYWJiKGUuYm91bmRzKT9HdShlLHRoaXMuZ2V0Q29ybmVycygpKTowfWludGVyc2VjdHNGbGF0KGUpe3JldHVybiB0aGlzLmludGVyc2VjdHNBYWJiKGUuYm91bmRzKT9HdShlLFtbdGhpcy5taW5bMF0sdGhpcy5taW5bMV0sMF0sW3RoaXMubWF4WzBdLHRoaXMubWluWzFdLDBdLFt0aGlzLm1heFswXSx0aGlzLm1heFsxXSwwXSxbdGhpcy5taW5bMF0sdGhpcy5tYXhbMV0sMF1dKTowfWludGVyc2VjdHNQcmVjaXNlKGUsdCl7cmV0dXJuIHR8fHRoaXMuaW50ZXJzZWN0cyhlKT9xdShlLHRoaXMuZ2V0Q29ybmVycygpKTowfWludGVyc2VjdHNQcmVjaXNlRmxhdChlLHQpe3JldHVybiB0fHx0aGlzLmludGVyc2VjdHNGbGF0KGUpP3F1KGUsW1t0aGlzLm1pblswXSx0aGlzLm1pblsxXSwwXSxbdGhpcy5tYXhbMF0sdGhpcy5taW5bMV0sMF0sW3RoaXMubWF4WzBdLHRoaXMubWF4WzFdLDBdLFt0aGlzLm1pblswXSx0aGlzLm1heFsxXSwwXV0pOjB9aW50ZXJzZWN0c0FhYmIoZSl7Zm9yKGxldCB0PTA7dDwzOysrdClpZih0aGlzLm1pblt0XT5lLm1heFt0XXx8ZS5taW5bdF0+dGhpcy5tYXhbdF0pcmV0dXJuICExO3JldHVybiAhMH1pbnRlcnNlY3RzQWFiYlhZKGUpe3JldHVybiAhKHRoaXMubWluWzBdPmUubWF4WzBdfHxlLm1pblswXT50aGlzLm1heFswXXx8dGhpcy5taW5bMV0+ZS5tYXhbMV18fGUubWluWzFdPnRoaXMubWF4WzFdKX1lbmNhcHN1bGF0ZShlKXtmb3IobGV0IHQ9MDt0PDM7dCsrKXRoaXMubWluW3RdPU1hdGgubWluKHRoaXMubWluW3RdLGUubWluW3RdKSx0aGlzLm1heFt0XT1NYXRoLm1heCh0aGlzLm1heFt0XSxlLm1heFt0XSk7fWVuY2Fwc3VsYXRlUG9pbnQoZSl7Zm9yKGxldCB0PTA7dDwzO3QrKyl0aGlzLm1pblt0XT1NYXRoLm1pbih0aGlzLm1pblt0XSxlW3RdKSx0aGlzLm1heFt0XT1NYXRoLm1heCh0aGlzLm1heFt0XSxlW3RdKTt9Y2xvc2VzdFBvaW50KGUpe3JldHVybiBbTWF0aC5tYXgoTWF0aC5taW4odGhpcy5tYXhbMF0sZVswXSksdGhpcy5taW5bMF0pLE1hdGgubWF4KE1hdGgubWluKHRoaXMubWF4WzFdLGVbMV0pLHRoaXMubWluWzFdKSxNYXRoLm1heChNYXRoLm1pbih0aGlzLm1heFsyXSxlWzJdKSx0aGlzLm1pblsyXSldfX1JcyhIdSxcIkFhYmJcIik7Y29uc3QgV3U9NSxYdT02LFl1PXNyL01hdGguUEkvMixLdT0xNjM4MyxKdT02NCxRdT1bSnUsMzIsMTZdLGVkPS1ZdSx0ZD1ZdSxpZD1bbmV3IEh1KFtlZCxlZCxlZF0sW3RkLHRkLHRkXSksbmV3IEh1KFtlZCxlZCxlZF0sWzAsMCx0ZF0pLG5ldyBIdShbMCxlZCxlZF0sW3RkLDAsdGRdKSxuZXcgSHUoW2VkLDAsZWRdLFswLHRkLHRkXSksbmV3IEh1KFswLDAsZWRdLFt0ZCx0ZCx0ZF0pXTtmdW5jdGlvbiByZChlKXtyZXR1cm4gZSpZdS9PZH1mdW5jdGlvbiBuZChlLHQsaSxyPSEwKXtjb25zdCBuPU11LnNjYWxlKFtdLGUuX2NhbWVyYS5wb3NpdGlvbixlLndvcmxkU2l6ZSksbz1bdCxpLDEsMV07dXUudHJhbnNmb3JtTWF0NChvLG8sZS5waXhlbE1hdHJpeEludmVyc2UpLHV1LnNjYWxlKG8sbywxL29bM10pO2NvbnN0IHM9TXUuc3ViKFtdLG8sbiksYT1NdS5ub3JtYWxpemUoW10scyksbD1lLmdsb2JlTWF0cml4LGM9W2xbMTJdLGxbMTNdLGxbMTRdXSxoPU11LnN1YihbXSxjLG4pLHU9TXUubGVuZ3RoKGgpLGQ9TXUubm9ybWFsaXplKFtdLGgpLHA9ZS53b3JsZFNpemUvKDIqTWF0aC5QSSksZj1NdS5kb3QoZCxhKSxtPU1hdGguYXNpbihwL3UpO2lmKG08TWF0aC5hY29zKGYpKXtpZighcilyZXR1cm4gbnVsbDtjb25zdCBlPVtdLHQ9W107TXUuc2NhbGUoZSxhLHUvZiksTXUubm9ybWFsaXplKHQsTXUuc3ViKHQsZSxoKSksTXUubm9ybWFsaXplKGEsTXUuYWRkKGEsaCxNdS5zY2FsZShhLHQsTWF0aC50YW4obSkqdSkpKTt9Y29uc3QgXz1bXTtuZXcgVXUobixhKS5jbG9zZXN0UG9pbnRPblNwaGVyZShjLHAsXyk7Y29uc3QgZz1NdS5ub3JtYWxpemUoW10sbmUobCwwKSkseT1NdS5ub3JtYWxpemUoW10sbmUobCwxKSkseD1NdS5ub3JtYWxpemUoW10sbmUobCwyKSksdj1NdS5kb3QoZyxfKSxiPU11LmRvdCh5LF8pLHc9TXUuZG90KHgsXyksRT1UKE1hdGguYXNpbigtYi9wKSk7bGV0IE09VChNYXRoLmF0YW4yKHYsdykpO009ZS5jZW50ZXIubG5nK2Z1bmN0aW9uKGUsdCl7Y29uc3QgaT0odC1lKzE4MCklMzYwLTE4MDtyZXR1cm4gaTwtMTgwP2krMzYwOml9KGUuY2VudGVyLmxuZyxNKTtjb25zdCBBPUdkKE0pLFM9eihxZChFKSwwLDEpO3JldHVybiBuZXcgZXAoQSxTKX1jbGFzcyBvZHtjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5hPU11LnN1YihbXSxlLGkpLHRoaXMuYj1NdS5zdWIoW10sdCxpKSx0aGlzLmNlbnRlcj1pO2NvbnN0IHI9TXUubm9ybWFsaXplKFtdLHRoaXMuYSksbj1NdS5ub3JtYWxpemUoW10sdGhpcy5iKTt0aGlzLmFuZ2xlPU1hdGguYWNvcyhNdS5kb3QocixuKSk7fX1mdW5jdGlvbiBzZChlLHQpe2lmKDA9PT1lLmFuZ2xlKXJldHVybiBudWxsO2xldCBpO3JldHVybiBpPTA9PT1lLmFbdF0/MS9lLmFuZ2xlKi41Kk1hdGguUEk6MS9lLmFuZ2xlKk1hdGguYXRhbihlLmJbdF0vZS5hW3RdL01hdGguc2luKGUuYW5nbGUpLTEvTWF0aC50YW4oZS5hbmdsZSkpLGk8MHx8aT4xP251bGw6ZnVuY3Rpb24oZSx0LGkscil7Y29uc3Qgbj1NYXRoLnNpbihpKTtyZXR1cm4gZSooTWF0aC5zaW4oKDEtcikqaSkvbikrdCooTWF0aC5zaW4ocippKS9uKX0oZS5hW3RdLGUuYlt0XSxlLmFuZ2xlLHooaSwwLDEpKStlLmNlbnRlclt0XX1mdW5jdGlvbiBhZChlKXtpZihlLno8PTEpcmV0dXJuIGlkW2UueisyKmUueStlLnhdO2NvbnN0IHQ9cGQoZGQoZSkpO3JldHVybiBIdS5mcm9tUG9pbnRzKHQpfWZ1bmN0aW9uIGxkKGUsdCxpKXtyZXR1cm4gTXUuc2NhbGUoZSxlLDEtaSksTXUuc2NhbGVBbmRBZGQoZSxlLHQsaSl9ZnVuY3Rpb24gY2QoZSx0KXtjb25zdCBpPUVkKHQuem9vbSk7aWYoMD09PWkpcmV0dXJuIGFkKGUpO2NvbnN0IHI9ZGQoZSksbj1wZChyKSxvPUdkKHIuZ2V0V2VzdCgpKSp0LndvcmxkU2l6ZSxzPUdkKHIuZ2V0RWFzdCgpKSp0LndvcmxkU2l6ZSxhPXFkKHIuZ2V0Tm9ydGgoKSkqdC53b3JsZFNpemUsbD1xZChyLmdldFNvdXRoKCkpKnQud29ybGRTaXplLGM9W28sYSwwXSxoPVtzLGEsMF0sdT1bbyxsLDBdLGQ9W3MsbCwwXSxwPXh1LmludmVydChbXSx0Lmdsb2JlTWF0cml4KTtyZXR1cm4gTXUudHJhbnNmb3JtTWF0NChjLGMscCksTXUudHJhbnNmb3JtTWF0NChoLGgscCksTXUudHJhbnNmb3JtTWF0NCh1LHUscCksTXUudHJhbnNmb3JtTWF0NChkLGQscCksblswXT1sZChuWzBdLHUsaSksblsxXT1sZChuWzFdLGQsaSksblsyXT1sZChuWzJdLGgsaSksblszXT1sZChuWzNdLGMsaSksSHUuZnJvbVBvaW50cyhuKX1mdW5jdGlvbiBoZChlLHQsaSl7Zm9yKGNvbnN0IHIgb2YgZSlNdS50cmFuc2Zvcm1NYXQ0KHIscix0KSxNdS5zY2FsZShyLHIsaSk7fWZ1bmN0aW9uIHVkKGUsdCxpLHIpe2NvbnN0IG49dC9lLndvcmxkU2l6ZSxvPWUuZ2xvYmVNYXRyaXg7aWYoaS56PD0xKXtjb25zdCBlPWFkKGkpLmdldENvcm5lcnMoKTtyZXR1cm4gaGQoZSxvLG4pLEh1LmZyb21Qb2ludHMoZSl9Y29uc3Qgcz1kZChpLHIpLGE9cGQocyk7aGQoYSxvLG4pO2NvbnN0IGw9TnVtYmVyLk1BWF9WQUxVRSxjPVstbCwtbCwtbF0saD1bbCxsLGxdO2lmKHMuY29udGFpbnMoZS5jZW50ZXIpKXtmb3IoY29uc3QgZSBvZiBhKU11Lm1pbihoLGgsZSksTXUubWF4KGMsYyxlKTtjWzJdPTA7Y29uc3QgdD1lLnBvaW50LGk9W3QueCpuLHQueSpuLDBdO3JldHVybiBNdS5taW4oaCxoLGkpLE11Lm1heChjLGMsaSksbmV3IEh1KGgsYyl9Y29uc3QgdT1bb1sxMl0qbixvWzEzXSpuLG9bMTRdKm5dLGQ9cy5nZXRDZW50ZXIoKSxwPXooZS5jZW50ZXIubGF0LC1YZCxYZCksZj16KGQubGF0LC1YZCxYZCksbT1HZChlLmNlbnRlci5sbmcpLF89cWQocCk7bGV0IGc9bS1HZChkLmxuZyk7Y29uc3QgeT1fLXFkKGYpO2c+LjU/Zy09MTpnPC0uNSYmKGcrPTEpO2xldCB4PTA7aWYoTWF0aC5hYnMoZyk+TWF0aC5hYnMoeSkpeD1nPj0wPzE6MztlbHNlIHt4PXk+PTA/MDoyO2NvbnN0IGU9W29bNF0qbixvWzVdKm4sb1s2XSpuXSx0PS1NYXRoLnNpbih3KHk+PTA/cy5nZXRTb3V0aCgpOnMuZ2V0Tm9ydGgoKSkpKll1O011LnNjYWxlQW5kQWRkKHUsdSxlLHQpO31jb25zdCB2PWFbeF0sYj1hWyh4KzEpJTRdLFQ9bmV3IG9kKHYsYix1KSxFPVtzZChULDApfHx2WzBdLHNkKFQsMSl8fHZbMV0sc2QoVCwyKXx8dlsyXV0sTT1FZChlLnpvb20pO2lmKE0+MCl7Y29uc3Qgcj1mdW5jdGlvbih7eDplLHk6dCx6Oml9LHIsbixvLHMpe2NvbnN0IGE9MS8oMTw8aSk7bGV0IGw9ZSphLGM9bCthLGg9dCphLHU9aCthLGQ9MDtjb25zdCBwPShsK2MpLzItbztyZXR1cm4gcD4uNT9kPS0xOnA8LS41JiYoZD0xKSxsPSgobCtkKSpyLShvKj1yKSkqbitvLGM9KChjK2QpKnItbykqbitvLGg9KGgqci0ocyo9cikpKm4rcyx1PSh1KnItcykqbitzLFtbbCx1LDBdLFtjLHUsMF0sW2MsaCwwXSxbbCxoLDBdXX0oaSx0LGUuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwsbSxfKTtmb3IobGV0IGU9MDtlPGEubGVuZ3RoO2UrKylsZChhW2VdLHJbZV0sTSk7Y29uc3Qgbj1NdS5hZGQoW10sclt4XSxyWyh4KzEpJTRdKTtNdS5zY2FsZShuLG4sLjUpLGxkKEUsbixNKTt9Zm9yKGNvbnN0IGUgb2YgYSlNdS5taW4oaCxoLGUpLE11Lm1heChjLGMsZSk7cmV0dXJuIGhbMl09TWF0aC5taW4odlsyXSxiWzJdKSxNdS5taW4oaCxoLEUpLE11Lm1heChjLGMsRSksbmV3IEh1KGgsYyl9ZnVuY3Rpb24gZGQoe3g6ZSx5OnQsejppfSxyPSExKXtjb25zdCBuPTEvKDE8PGkpLG89bmV3IE5kKCRkKGUqbiksdD09PSgxPDxpKS0xJiZyPy05MDpIZCgodCsxKSpuKSkscz1uZXcgTmQoJGQoKGUrMSkqbiksMD09PXQmJnI/OTA6SGQodCpuKSk7cmV0dXJuIG5ldyBRbChvLHMpfWZ1bmN0aW9uIHBkKGUpe2NvbnN0IHQ9dyhlLmdldE5vcnRoKCkpLGk9dyhlLmdldFNvdXRoKCkpLHI9TWF0aC5jb3ModCksbj1NYXRoLmNvcyhpKSxvPU1hdGguc2luKHQpLHM9TWF0aC5zaW4oaSksYT1lLmdldFdlc3QoKSxsPWUuZ2V0RWFzdCgpO3JldHVybiBbZmQobixzLGEpLGZkKG4scyxsKSxmZChyLG8sbCksZmQocixvLGEpXX1mdW5jdGlvbiBmZChlLHQsaSxyPVl1KXtyZXR1cm4gaT13KGkpLFtlKk1hdGguc2luKGkpKnIsLXQqcixlKk1hdGguY29zKGkpKnJdfWZ1bmN0aW9uIG1kKGUsdCxpKXtyZXR1cm4gZmQoTWF0aC5jb3ModyhlKSksTWF0aC5zaW4odyhlKSksdCxpKX1mdW5jdGlvbiBfZChlLHQsaSxyKXtjb25zdCBuPTE8PGkueixvPShlL3NyK2kueCkvbjtyZXR1cm4gbWQoSGQoKHQvc3IraS55KS9uKSwkZChvKSxyKX1mdW5jdGlvbiBnZCh7bWluOmUsbWF4OnR9KXtyZXR1cm4gS3UvTWF0aC5tYXgodFswXS1lWzBdLHRbMV0tZVsxXSx0WzJdLWVbMl0pfWNvbnN0IHlkPW5ldyBGbG9hdDY0QXJyYXkoMTYpO2Z1bmN0aW9uIHhkKGUpe2NvbnN0IHQ9Z2QoZSksaT14dS5mcm9tU2NhbGluZyh5ZCxbdCx0LHRdKTtyZXR1cm4geHUudHJhbnNsYXRlKGksaSxNdS5uZWdhdGUoW10sZS5taW4pKX1mdW5jdGlvbiB2ZChlKXtjb25zdCB0PXh1LmZyb21UcmFuc2xhdGlvbih5ZCxlLm1pbiksaT0xL2dkKGUpO3JldHVybiB4dS5zY2FsZSh0LHQsW2ksaSxpXSl9ZnVuY3Rpb24gYmQoZSl7Y29uc3QgdD1zci8oMipNYXRoLlBJKTtyZXR1cm4gZS8oMipNYXRoLlBJKS90fWZ1bmN0aW9uIHdkKGUsdCl7cmV0dXJuIHNyLyg1MTIqTWF0aC5wb3coMixlKSkqZ2QoYWQodCkpfWZ1bmN0aW9uIFRkKGUsdCxpLHIsbil7Y29uc3Qgbz1iZChpKSxzPVtlLHQsLWkvKDIqTWF0aC5QSSldLGE9eHUuaWRlbnRpdHkobmV3IEZsb2F0NjRBcnJheSgxNikpO3JldHVybiB4dS50cmFuc2xhdGUoYSxhLHMpLHh1LnNjYWxlKGEsYSxbbyxvLG9dKSx4dS5yb3RhdGVYKGEsYSx3KC1uKSkseHUucm90YXRlWShhLGEsdygtcikpLGF9ZnVuY3Rpb24gRWQoZSl7cmV0dXJuIEQoV3UsWHUsZSl9ZnVuY3Rpb24gTWQoZSx0LGkpe2NvbnN0IHI9eHUuaWRlbnRpdHkobmV3IEZsb2F0NjRBcnJheSgxNikpLG49KHQvKDE8PGUpLS41KSpNYXRoLlBJKjI7cmV0dXJuIHh1LnJvdGF0ZVkocixpLmdsb2JlTWF0cml4LG4pLEZsb2F0MzJBcnJheS5mcm9tKHIpfWZ1bmN0aW9uIEFkKGUsdCxpKXtjb25zdCByPUVkKGkuem9vbSksbj1lLnN0eWxlLm1hcC5fYW50aWFsaWFzLG89dC5leHRTdGFuZGFyZERlcml2YXRpdmVzRm9yY2VPZmZ8fGUudGVycmFpbiYmZS50ZXJyYWluLmV4YWdnZXJhdGlvbigpPjA7cmV0dXJuIDA9PT1yJiYhbiYmIW99ZnVuY3Rpb24gU2QoZSx0LGkscil7Y29uc3Qgbj10LmdldE5vcnRoKCksbz10LmdldFNvdXRoKCkscz10LmdldFdlc3QoKSxhPXQuZ2V0RWFzdCgpLGw9MTw8ZS56LGM9YS1zLGg9bi1vLHU9Yy9KdSxkPS1oL1F1W2ldLHA9WzAsdSwwLGQsMCwwLG4scywwXTtpZihlLno+MCl7Y29uc3QgZT0xODAvcjtndS5tdWx0aXBseShwLHAsW2UvYysxLDAsMCwwLGUvaCsxLDAsLS41KmUvdSwuNSplL2QsMV0pO31yZXR1cm4gcFsyXT1sLHBbNV09ZS54LHBbOF09ZS55LHB9ZnVuY3Rpb24gSWQoZSl7Y29uc3QgdD1YZC01O2U9eihlLC10LHQpL3QqOTA7Y29uc3QgaT1NYXRoLnBvdyhNYXRoLmFicyhNYXRoLnNpbih3KGUpKSksMyk7cmV0dXJuIE1hdGgucm91bmQoaSooUXUubGVuZ3RoLTEpKX1mdW5jdGlvbiBDZChlKXtjb25zdCB0PVswLDAsMF0saT14dS5pZGVudGl0eShuZXcgRmxvYXQ2NEFycmF5KDE2KSk7cmV0dXJuIHh1Lm11bHRpcGx5KGksZS5waXhlbE1hdHJpeCxlLmdsb2JlTWF0cml4KSxNdS50cmFuc2Zvcm1NYXQ0KHQsdCxpKSxuZXcgeSh0WzBdLHRbMV0pfWZ1bmN0aW9uIHpkKGUsdCl7Y29uc3QgaT1tZCh0LmxhdCx0LmxuZykscj1mdW5jdGlvbihlKXtjb25zdCB0PW1kKGUuX2NlbnRlci5sYXQsZS5fY2VudGVyLmxuZyksaT1NdS5mcm9tVmFsdWVzKDAsMSwwKTtsZXQgcj1NdS5jcm9zcyhbXSxpLHQpO2NvbnN0IG49eHUuZnJvbVJvdGF0aW9uKFtdLC1lLmFuZ2xlLHQpO3I9TXUudHJhbnNmb3JtTWF0NChyLHIsbikseHUuZnJvbVJvdGF0aW9uKG4sLWUuX3BpdGNoLHIpO2NvbnN0IG89TXUubm9ybWFsaXplKFtdLHQpO3JldHVybiBNdS5zY2FsZShvLG8scmQoZS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlL2UucGl4ZWxzUGVyTWV0ZXIpKSxNdS50cmFuc2Zvcm1NYXQ0KG8sbyxuKSxNdS5hZGQoW10sdCxvKX0oZSksbj1NdS5zdWJ0cmFjdChbXSxyLGkpO3JldHVybiBNdS5hbmdsZShuLGkpfWZ1bmN0aW9uIERkKGUsdCl7cmV0dXJuIHpkKGUsdCk+TWF0aC5QSS8yKjEuMDF9Y29uc3QgUGQ9dyg4NSksUmQ9TWF0aC5jb3MoUGQpLExkPU1hdGguc2luKFBkKTtjbGFzcyBrZHtjb25zdHJ1Y3RvcihlKXt0aGlzLl9jcmVhdGVHcmlkKGUpLHRoaXMuX2NyZWF0ZVBvbGVzKGUpO31kZXN0cm95KCl7dGhpcy5fcG9sZUluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl9ncmlkQnVmZmVyLmRlc3Ryb3koKSx0aGlzLl9ncmlkSW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuX3BvbGVOb3J0aFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5fcG9sZVNvdXRoVmVydGV4QnVmZmVyLmRlc3Ryb3koKTtmb3IoY29uc3QgZSBvZiB0aGlzLl9wb2xlU2VnbWVudHMpZS5kZXN0cm95KCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fZ3JpZFNlZ21lbnRzKWUud2l0aFNraXJ0cy5kZXN0cm95KCksZS53aXRob3V0U2tpcnRzLmRlc3Ryb3koKTt9X2ZpbGxHcmlkTWVzaFdpdGhMb2RzKGUsdCl7Y29uc3QgaT1uZXcgVGEscj1uZXcgVmEsbj1bXSxvPWUrMSsyLHM9dFswXSsxLGE9dFswXSsxKygxK3QubGVuZ3RoKSxsPShlLHQsaSk9PntsZXQgcj1lPT09by0xP2UtMjowPT09ZT9lOmUtMTtyZXR1cm4gcis9aT8yNDU3NTowLFtyLHRdfTtmb3IobGV0IGU9MDtlPG87KytlKWkuZW1wbGFjZUJhY2soLi4ubChlLDAsITApKTtmb3IobGV0IGU9MDtlPHM7KytlKWZvcihsZXQgdD0wO3Q8bzsrK3QpaS5lbXBsYWNlQmFjayguLi5sKHQsZSwoMD09PXR8fHQ9PT1vLTEpJiYhMCkpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7KytlKXtjb25zdCByPXRbZV07Zm9yKGxldCBlPTA7ZTxvOysrZSlpLmVtcGxhY2VCYWNrKC4uLmwoZSxyLCEwKSk7fWZvcihsZXQgZT0wO2U8dC5sZW5ndGg7KytlKXtjb25zdCBzPXIubGVuZ3RoLGw9dFtlXSsxKzIsYz1uZXcgVmE7Zm9yKGxldCBpPTA7aTxsLTE7aSsrKXtjb25zdCBuPWk9PT1sLTIscz1uP28qKGEtdC5sZW5ndGgrZS1pKTpvO2ZvcihsZXQgZT0wO2U8by0xO2UrKyl7Y29uc3QgdD1pKm8rZTswPT09aXx8bnx8MD09PWV8fGU9PT1vLTI/KGMuZW1wbGFjZUJhY2sodCsxLHQsdCtzKSxjLmVtcGxhY2VCYWNrKHQrcyx0K3MrMSx0KzEpKTooci5lbXBsYWNlQmFjayh0KzEsdCx0K3MpLHIuZW1wbGFjZUJhY2sodCtzLHQrcysxLHQrMSkpO319Y29uc3QgaD1kbC5zaW1wbGVTZWdtZW50KDAscyxpLmxlbmd0aCxyLmxlbmd0aC1zKTtmb3IobGV0IGU9MDtlPGMudWludDE2Lmxlbmd0aDtlKz0zKXIuZW1wbGFjZUJhY2soYy51aW50MTZbZV0sYy51aW50MTZbZSsxXSxjLnVpbnQxNltlKzJdKTtjb25zdCB1PWRsLnNpbXBsZVNlZ21lbnQoMCxzLGkubGVuZ3RoLHIubGVuZ3RoLXMpO24ucHVzaCh7d2l0aG91dFNraXJ0czpoLHdpdGhTa2lydHM6dX0pO31yZXR1cm4ge3ZlcnRpY2VzOmksaW5kaWNlczpyLHNlZ21lbnRzOm59fV9jcmVhdGVHcmlkKGUpe2NvbnN0IHQ9dGhpcy5fZmlsbEdyaWRNZXNoV2l0aExvZHMoSnUsUXUpO3RoaXMuX2dyaWRTZWdtZW50cz10LnNlZ21lbnRzLHRoaXMuX2dyaWRCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodC52ZXJ0aWNlcyxQdS5tZW1iZXJzKSx0aGlzLl9ncmlkSW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcih0LmluZGljZXMsITApO31fY3JlYXRlUG9sZXMoZSl7Y29uc3QgdD1uZXcgVmE7Zm9yKGxldCBlPTA7ZTw9SnU7ZSsrKXQuZW1wbGFjZUJhY2soMCxlKzEsZSsyKTt0aGlzLl9wb2xlSW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcih0LCEwKTtjb25zdCBpPW5ldyBaYSxyPW5ldyBaYSxuPW5ldyBaYSxvPW5ldyBaYTt0aGlzLl9wb2xlU2VnbWVudHM9W107Zm9yKGxldCBlPTAsdD0wO2U8V3U7ZSsrKXtjb25zdCBzPTM2MC8oMTw8ZSk7aS5lbXBsYWNlQmFjaygwLC1ZdSwwLC41LDApLHIuZW1wbGFjZUJhY2soMCwtWXUsMCwuNSwxKSxuLmVtcGxhY2VCYWNrKDAsLVl1LDAsLjUsLjUpLG8uZW1wbGFjZUJhY2soMCwtWXUsMCwuNSwuNSk7Zm9yKGxldCBlPTA7ZTw9SnU7ZSsrKXtsZXQgdD1lL0p1LGE9MDtjb25zdCBsPVdyKDAscyx0KSxbYyxoLHVdPWZkKFJkLExkLGwsWXUpO2kuZW1wbGFjZUJhY2soYyxoLHUsdCxhKSxyLmVtcGxhY2VCYWNrKGMsaCx1LHQsMS1hKTtjb25zdCBkPXcobCk7dD0uNSsuNSpNYXRoLnNpbihkKSxhPS41Ky41Kk1hdGguY29zKGQpLG4uZW1wbGFjZUJhY2soYyxoLHUsdCxhKSxvLmVtcGxhY2VCYWNrKGMsaCx1LHQsMS1hKTt9dGhpcy5fcG9sZVNlZ21lbnRzLnB1c2goZGwuc2ltcGxlU2VnbWVudCh0LDAsNjYsNjQpKSx0Kz02Njt9dGhpcy5fcG9sZU5vcnRoVmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKGksenUsITEpLHRoaXMuX3BvbGVTb3V0aFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihyLHp1LCExKSx0aGlzLl90ZXh0dXJlZFBvbGVOb3J0aFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihuLHp1LCExKSx0aGlzLl90ZXh0dXJlZFBvbGVTb3V0aFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihvLHp1LCExKTt9Z2V0R3JpZEJ1ZmZlcnMoZSx0KXtyZXR1cm4gW3RoaXMuX2dyaWRCdWZmZXIsdGhpcy5fZ3JpZEluZGV4QnVmZmVyLHQ/dGhpcy5fZ3JpZFNlZ21lbnRzW2VdLndpdGhTa2lydHM6dGhpcy5fZ3JpZFNlZ21lbnRzW2VdLndpdGhvdXRTa2lydHNdfWdldFBvbGVCdWZmZXJzKGUsdCl7cmV0dXJuIFt0P3RoaXMuX3RleHR1cmVkUG9sZU5vcnRoVmVydGV4QnVmZmVyOnRoaXMuX3BvbGVOb3J0aFZlcnRleEJ1ZmZlcix0P3RoaXMuX3RleHR1cmVkUG9sZVNvdXRoVmVydGV4QnVmZmVyOnRoaXMuX3BvbGVTb3V0aFZlcnRleEJ1ZmZlcix0aGlzLl9wb2xlSW5kZXhCdWZmZXIsdGhpcy5fcG9sZVNlZ21lbnRzW2VdXX19Y29uc3QgT2Q9NjM3MTAwOC44LEJkPTIqTWF0aC5QSSpPZDtjbGFzcyBGZHtjb25zdHJ1Y3RvcihlLHQpe2lmKGlzTmFOKGUpfHxpc05hTih0KSl0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgTG5nTGF0IG9iamVjdDogKCR7ZX0sICR7dH0pYCk7aWYodGhpcy5sbmc9K2UsdGhpcy5sYXQ9K3QsdGhpcy5sYXQ+OTB8fHRoaXMubGF0PC05MCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIExuZ0xhdCBsYXRpdHVkZSB2YWx1ZTogbXVzdCBiZSBiZXR3ZWVuIC05MCBhbmQgOTBcIil9d3JhcCgpe3JldHVybiBuZXcgRmQoUCh0aGlzLmxuZywtMTgwLDE4MCksdGhpcy5sYXQpfXRvQXJyYXkoKXtyZXR1cm4gW3RoaXMubG5nLHRoaXMubGF0XX10b1N0cmluZygpe3JldHVybiBgTG5nTGF0KCR7dGhpcy5sbmd9LCAke3RoaXMubGF0fSlgfWRpc3RhbmNlVG8oZSl7Y29uc3QgdD1NYXRoLlBJLzE4MCxpPXRoaXMubGF0KnQscj1lLmxhdCp0LG49TWF0aC5zaW4oaSkqTWF0aC5zaW4ocikrTWF0aC5jb3MoaSkqTWF0aC5jb3MocikqTWF0aC5jb3MoKGUubG5nLXRoaXMubG5nKSp0KTtyZXR1cm4gT2QqTWF0aC5hY29zKE1hdGgubWluKG4sMSkpfXRvQm91bmRzKGU9MCl7Y29uc3QgdD0zNjAqZS80MDA3NTAxNyxpPXQvTWF0aC5jb3MoTWF0aC5QSS8xODAqdGhpcy5sYXQpO3JldHVybiBuZXcgUWwobmV3IEZkKHRoaXMubG5nLWksdGhpcy5sYXQtdCksbmV3IEZkKHRoaXMubG5nK2ksdGhpcy5sYXQrdCkpfXRvRWNlZihlKXtjb25zdCB0PXJkKGUpO3JldHVybiBtZCh0aGlzLmxhdCx0aGlzLmxuZyxZdSt0KX1zdGF0aWMgY29udmVydChlKXtpZihlIGluc3RhbmNlb2YgRmQpcmV0dXJuIGU7aWYoQXJyYXkuaXNBcnJheShlKSYmKDI9PT1lLmxlbmd0aHx8Mz09PWUubGVuZ3RoKSlyZXR1cm4gbmV3IEZkKE51bWJlcihlWzBdKSxOdW1iZXIoZVsxXSkpO2lmKCFBcnJheS5pc0FycmF5KGUpJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUpcmV0dXJuIG5ldyBGZChOdW1iZXIoXCJsbmdcImluIGU/ZS5sbmc6ZS5sb24pLE51bWJlcihlLmxhdCkpO3Rocm93IG5ldyBFcnJvcihcImBMbmdMYXRMaWtlYCBhcmd1bWVudCBtdXN0IGJlIHNwZWNpZmllZCBhcyBhIExuZ0xhdCBpbnN0YW5jZSwgYW4gb2JqZWN0IHtsbmc6IDxsbmc+LCBsYXQ6IDxsYXQ+fSwgYW4gb2JqZWN0IHtsb246IDxsbmc+LCBsYXQ6IDxsYXQ+fSwgb3IgYW4gYXJyYXkgb2YgWzxsbmc+LCA8bGF0Pl1cIil9fXZhciBOZD1GZDtjb25zdCBVZD0wLFZkPTI1LjU7ZnVuY3Rpb24gamQoZSl7cmV0dXJuIEJkKk1hdGguY29zKGUqTWF0aC5QSS8xODApfWZ1bmN0aW9uIEdkKGUpe3JldHVybiAoMTgwK2UpLzM2MH1mdW5jdGlvbiBxZChlKXtyZXR1cm4gKDE4MC0xODAvTWF0aC5QSSpNYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQrZSpNYXRoLlBJLzM2MCkpKS8zNjB9ZnVuY3Rpb24gWmQoZSx0KXtyZXR1cm4gZS9qZCh0KX1mdW5jdGlvbiAkZChlKXtyZXR1cm4gMzYwKmUtMTgwfWZ1bmN0aW9uIEhkKGUpe3JldHVybiAzNjAvTWF0aC5QSSpNYXRoLmF0YW4oTWF0aC5leHAoKDE4MC0zNjAqZSkqTWF0aC5QSS8xODApKS05MH1mdW5jdGlvbiBXZChlLHQpe3JldHVybiBlKmpkKEhkKHQpKX1jb25zdCBYZD04NS4wNTExMjk7ZnVuY3Rpb24gWWQoZSl7cmV0dXJuIE1hdGguY29zKHcoeihlLC1YZCxYZCkpKX1mdW5jdGlvbiBLZChlLHQpe2NvbnN0IGk9eih0LFVkLFZkKSxyPU1hdGgucG93KDIsaSk7cmV0dXJuIFlkKGUpKkJkLyg1MTIqcil9ZnVuY3Rpb24gSmQoZSl7cmV0dXJuIDEvTWF0aC5jb3MoZSpNYXRoLlBJLzE4MCl9ZnVuY3Rpb24gUWQoZSx0PTApe2NvbnN0IGk9TWF0aC5leHAoTWF0aC5QSSooMS0oZS55K3Qvc3IpLygxPDxlLnopKjIpKTtyZXR1cm4gODAxNTAwMzQqaS8oaSppKzEpL3NyLygxPDxlLnopfWNsYXNzIGVwe2NvbnN0cnVjdG9yKGUsdCxpPTApe3RoaXMueD0rZSx0aGlzLnk9K3QsdGhpcy56PStpO31zdGF0aWMgZnJvbUxuZ0xhdChlLHQ9MCl7Y29uc3QgaT1OZC5jb252ZXJ0KGUpO3JldHVybiBuZXcgZXAoR2QoaS5sbmcpLHFkKGkubGF0KSxaZCh0LGkubGF0KSl9dG9MbmdMYXQoKXtyZXR1cm4gbmV3IE5kKCRkKHRoaXMueCksSGQodGhpcy55KSl9dG9BbHRpdHVkZSgpe3JldHVybiBXZCh0aGlzLnosdGhpcy55KX1tZXRlckluTWVyY2F0b3JDb29yZGluYXRlVW5pdHMoKXtyZXR1cm4gMS9CZCpKZChIZCh0aGlzLnkpKX19ZnVuY3Rpb24gdHAoZSx0LGkscixuLG8scyxhLGwpe2NvbnN0IGM9KHQrcikvMixoPShpK24pLzIsdT1uZXcgeShjLGgpO2EodSksZnVuY3Rpb24oZSx0LGkscixuLG8pe2NvbnN0IHM9aS1uLGE9ci1vO3JldHVybiBNYXRoLmFicygoci10KSpzLShpLWUpKmEpL01hdGguaHlwb3QocyxhKX0odS54LHUueSxvLngsby55LHMueCxzLnkpPj1sPyh0cChlLHQsaSxjLGgsbyx1LGEsbCksdHAoZSxjLGgscixuLHUscyxhLGwpKTplLnB1c2gocyk7fWZ1bmN0aW9uIGlwKGUsdCxpKXtsZXQgcj1lWzBdLG49ci54LG89ci55O3Qocik7Y29uc3Qgcz1bcl07Zm9yKGxldCBhPTE7YTxlLmxlbmd0aDthKyspe2NvbnN0IGw9ZVthXSx7eDpjLHk6aH09bDt0KGwpLHRwKHMsbixvLGMsaCxyLGwsdCxpKSxuPWMsbz1oLHI9bDt9cmV0dXJuIHN9ZnVuY3Rpb24gcnAoZSx0LGkscil7aWYocih0LGkpKXtjb25zdCBuPXQuYWRkKGkpLl9tdWx0KC41KTtycChlLHQsbixyKSxycChlLG4saSxyKTt9ZWxzZSBlLnB1c2goaSk7fWZ1bmN0aW9uIG5wKGUsdCl7bGV0IGk9ZVswXTtjb25zdCByPVtpXTtmb3IobGV0IG49MTtuPGUubGVuZ3RoO24rKyl7Y29uc3Qgbz1lW25dO3JwKHIsaSxvLHQpLGk9bzt9cmV0dXJuIHJ9Y29uc3Qgb3A9TWF0aC5wb3coMiwxNCktMSxzcD0tb3AtMTtmdW5jdGlvbiBhcChlLHQpe2NvbnN0IGk9TWF0aC5yb3VuZChlLngqdCkscj1NYXRoLnJvdW5kKGUueSp0KTtyZXR1cm4gZS54PXooaSxzcCxvcCksZS55PXoocixzcCxvcCksKGk8ZS54fHxpPmUueCsxfHxyPGUueXx8cj5lLnkrMSkmJlcoXCJHZW9tZXRyeSBleGNlZWRzIGFsbG93ZWQgZXh0ZW50LCByZWR1Y2UgeW91ciB2ZWN0b3IgdGlsZSBidWZmZXIgc2l6ZVwiKSxlfWZ1bmN0aW9uIGxwKGUsdCxpKXtjb25zdCByPWUubG9hZEdlb21ldHJ5KCksbj1lLmV4dGVudCxvPXNyL247aWYodCYmaSYmaS5wcm9qZWN0aW9uLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZSl7Y29uc3Qgbz0xPDx0Lnose3NjYWxlOnMseDphLHk6bCxwcm9qZWN0aW9uOmN9PWksaD1lPT57Y29uc3QgaT0kZCgodC54K2UueC9uKS9vKSxyPUhkKCh0LnkrZS55L24pL28pLGg9Yy5wcm9qZWN0KGkscik7ZS54PShoLngqcy1hKSpuLGUueT0oaC55KnMtbCkqbjt9O2ZvcihsZXQgdD0wO3Q8ci5sZW5ndGg7dCsrKWlmKDEhPT1lLnR5cGUpclt0XT1pcChyW3RdLGgsMSk7ZWxzZSB7Y29uc3QgZT1bXTtmb3IoY29uc3QgaSBvZiByW3RdKWkueDwwfHxpLng+PW58fGkueTwwfHxpLnk+PW58fChoKGkpLGUucHVzaChpKSk7clt0XT1lO319Zm9yKGNvbnN0IGUgb2Ygcilmb3IoY29uc3QgdCBvZiBlKWFwKHQsbyk7cmV0dXJuIHJ9ZnVuY3Rpb24gY3AoZSx0KXtyZXR1cm4ge3R5cGU6ZS50eXBlLGlkOmUuaWQscHJvcGVydGllczplLnByb3BlcnRpZXMsZ2VvbWV0cnk6dD9scChlKTpbXX19ZnVuY3Rpb24gaHAoZSx0LGkscixuKXtlLmVtcGxhY2VCYWNrKDIqdCsocisxKS8yLDIqaSsobisxKS8yKTt9ZnVuY3Rpb24gdXAoZSx0LGkpe2NvbnN0IHI9MTYzODQ7ZS5lbXBsYWNlQmFjayh0LngsdC55LHQueixpWzBdKnIsaVsxXSpyLGlbMl0qcik7fWNsYXNzIGRwe2NvbnN0cnVjdG9yKGUpe3RoaXMuem9vbT1lLnpvb20sdGhpcy5vdmVyc2NhbGluZz1lLm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPWUubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKChlPT5lLmZxaWQpKSx0aGlzLmluZGV4PWUuaW5kZXgsdGhpcy5oYXNQYXR0ZXJuPSExLHRoaXMucHJvamVjdGlvbj1lLnByb2plY3Rpb24sdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheT1uZXcgVGEsdGhpcy5pbmRleEFycmF5PW5ldyBWYSx0aGlzLnNlZ21lbnRzPW5ldyBkbCx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucz1uZXcgSGwoZS5sYXllcnMsZS56b29tKSx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJJZHM9dGhpcy5sYXllcnMuZmlsdGVyKChlPT5lLmlzU3RhdGVEZXBlbmRlbnQoKSkpLm1hcCgoZT0+ZS5pZCkpO31wb3B1bGF0ZShlLHQsaSxyKXtjb25zdCBuPXRoaXMubGF5ZXJzWzBdLG89W107bGV0IHM9bnVsbDtcImNpcmNsZVwiPT09bi50eXBlJiYocz1uLmxheW91dC5nZXQoXCJjaXJjbGUtc29ydC1rZXlcIikpO2Zvcihjb25zdHtmZWF0dXJlOnQsaWQ6bixpbmRleDphLHNvdXJjZUxheWVySW5kZXg6bH1vZiBlKXtjb25zdCBlPXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLm5lZWRHZW9tZXRyeSxjPWNwKHQsZSk7aWYoIXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihuZXcgZWEodGhpcy56b29tKSxjLGkpKWNvbnRpbnVlO2NvbnN0IGg9cz9zLmV2YWx1YXRlKGMse30saSk6dm9pZCAwLHU9e2lkOm4scHJvcGVydGllczp0LnByb3BlcnRpZXMsdHlwZTp0LnR5cGUsc291cmNlTGF5ZXJJbmRleDpsLGluZGV4OmEsZ2VvbWV0cnk6ZT9jLmdlb21ldHJ5OmxwKHQsaSxyKSxwYXR0ZXJuczp7fSxzb3J0S2V5Omh9O28ucHVzaCh1KTt9cyYmby5zb3J0KCgoZSx0KT0+ZS5zb3J0S2V5LXQuc29ydEtleSkpO2xldCBhPW51bGw7XCJnbG9iZVwiPT09ci5wcm9qZWN0aW9uLm5hbWUmJih0aGlzLmdsb2JlRXh0VmVydGV4QXJyYXk9bmV3IERhLGE9ci5wcm9qZWN0aW9uKTtmb3IoY29uc3QgciBvZiBvKXtjb25zdHtnZW9tZXRyeTpuLGluZGV4Om8sc291cmNlTGF5ZXJJbmRleDpzfT1yLGw9ZVtvXS5mZWF0dXJlO3RoaXMuYWRkRmVhdHVyZShyLG4sbyx0LmF2YWlsYWJsZUltYWdlcyxpLGEsdC5icmlnaHRuZXNzKSx0LmZlYXR1cmVJbmRleC5pbnNlcnQobCxuLG8scyx0aGlzLmluZGV4KTt9fXVwZGF0ZShlLHQsaSxyLG4pe2NvbnN0IG89MCE9PU9iamVjdC5rZXlzKGUpLmxlbmd0aDtvJiYhdGhpcy5zdGF0ZURlcGVuZGVudExheWVycy5sZW5ndGh8fHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKGUsdCxvP3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnM6dGhpcy5sYXllcnMsaSxyLG4pO31pc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aH11cGxvYWRQZW5kaW5nKCl7cmV0dXJuICF0aGlzLnVwbG9hZGVkfHx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZH11cGxvYWQoZSl7dGhpcy51cGxvYWRlZHx8KHRoaXMubGF5b3V0VmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXksaGwubWVtYmVycyksdGhpcy5pbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheSksdGhpcy5nbG9iZUV4dFZlcnRleEFycmF5JiYodGhpcy5nbG9iZUV4dFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmdsb2JlRXh0VmVydGV4QXJyYXksdWwubWVtYmVycykpKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGxvYWQoZSksdGhpcy51cGxvYWRlZD0hMDt9ZGVzdHJveSgpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLmdsb2JlRXh0VmVydGV4QnVmZmVyJiZ0aGlzLmdsb2JlRXh0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSk7fWFkZEZlYXR1cmUoZSx0LGkscixuLG8scyl7Zm9yKGNvbnN0IGkgb2YgdClmb3IoY29uc3QgdCBvZiBpKXtjb25zdCBpPXQueCxyPXQueTtpZihpPDB8fGk+PXNyfHxyPDB8fHI+PXNyKWNvbnRpbnVlO2lmKG8pe2NvbnN0IGU9by5wcm9qZWN0VGlsZVBvaW50KGkscixuKSx0PW8udXBWZWN0b3IobixpLHIpLHM9dGhpcy5nbG9iZUV4dFZlcnRleEFycmF5O3VwKHMsZSx0KSx1cChzLGUsdCksdXAocyxlLHQpLHVwKHMsZSx0KTt9Y29uc3Qgcz10aGlzLnNlZ21lbnRzLnByZXBhcmVTZWdtZW50KDQsdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx0aGlzLmluZGV4QXJyYXksZS5zb3J0S2V5KSxhPXMudmVydGV4TGVuZ3RoO2hwKHRoaXMubGF5b3V0VmVydGV4QXJyYXksaSxyLC0xLC0xKSxocCh0aGlzLmxheW91dFZlcnRleEFycmF5LGksciwxLC0xKSxocCh0aGlzLmxheW91dFZlcnRleEFycmF5LGksciwxLDEpLGhwKHRoaXMubGF5b3V0VmVydGV4QXJyYXksaSxyLC0xLDEpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhhLGErMSxhKzIpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhhLGErMixhKzMpLHMudmVydGV4TGVuZ3RoKz00LHMucHJpbWl0aXZlTGVuZ3RoKz0yO310aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5wb3B1bGF0ZVBhaW50QXJyYXlzKHRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoLGUsaSx7fSxyLG4scyk7fX1mdW5jdGlvbiBwcChlLHQpe2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKHdwKHQsZVtpXSkpcmV0dXJuICEwO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHdwKGUsdFtpXSkpcmV0dXJuICEwO3JldHVybiAhIWdwKGUsdCl9ZnVuY3Rpb24gZnAoZSx0LGkpe3JldHVybiAhIXdwKGUsdCl8fCEheHAodCxlLGkpfWZ1bmN0aW9uIG1wKGUsdCl7aWYoMT09PWUubGVuZ3RoKXJldHVybiBicCh0LGVbMF0pO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtjb25zdCByPXRbaV07Zm9yKGxldCB0PTA7dDxyLmxlbmd0aDt0KyspaWYod3AoZSxyW3RdKSlyZXR1cm4gITB9Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspaWYoYnAodCxlW2ldKSlyZXR1cm4gITA7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspaWYoZ3AoZSx0W2ldKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIF9wKGUsdCxpKXtpZihlLmxlbmd0aD4xKXtpZihncChlLHQpKXJldHVybiAhMDtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKylpZih4cCh0W3JdLGUsaSkpcmV0dXJuICEwfWZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKHhwKGVbcl0sdCxpKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIGdwKGUsdCl7aWYoMD09PWUubGVuZ3RofHwwPT09dC5sZW5ndGgpcmV0dXJuICExO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGgtMTtpKyspe2NvbnN0IHI9ZVtpXSxuPWVbaSsxXTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoLTE7ZSsrKWlmKHlwKHIsbix0W2VdLHRbZSsxXSkpcmV0dXJuICEwfXJldHVybiAhMX1mdW5jdGlvbiB5cChlLHQsaSxyKXtyZXR1cm4gWChlLGkscikhPT1YKHQsaSxyKSYmWChlLHQsaSkhPT1YKGUsdCxyKX1mdW5jdGlvbiB4cChlLHQsaSl7Y29uc3Qgcj1pKmk7aWYoMT09PXQubGVuZ3RoKXJldHVybiBlLmRpc3RTcXIodFswXSk8cjtmb3IobGV0IGk9MTtpPHQubGVuZ3RoO2krKylpZih2cChlLHRbaS0xXSx0W2ldKTxyKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24gdnAoZSx0LGkpe2NvbnN0IHI9dC5kaXN0U3FyKGkpO2lmKDA9PT1yKXJldHVybiBlLmRpc3RTcXIodCk7Y29uc3Qgbj0oKGUueC10LngpKihpLngtdC54KSsoZS55LXQueSkqKGkueS10LnkpKS9yO3JldHVybiBlLmRpc3RTcXIobjwwP3Q6bj4xP2k6aS5zdWIodCkuX211bHQobikuX2FkZCh0KSl9ZnVuY3Rpb24gYnAoZSx0KXtsZXQgaSxyLG4sbz0hMTtmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrKyl7aT1lW3NdO2ZvcihsZXQgZT0wLHM9aS5sZW5ndGgtMTtlPGkubGVuZ3RoO3M9ZSsrKXI9aVtlXSxuPWlbc10sci55PnQueSE9bi55PnQueSYmdC54PChuLngtci54KSoodC55LXIueSkvKG4ueS1yLnkpK3IueCYmKG89IW8pO31yZXR1cm4gb31mdW5jdGlvbiB3cChlLHQpe2xldCBpPSExO2ZvcihsZXQgcj0wLG49ZS5sZW5ndGgtMTtyPGUubGVuZ3RoO249cisrKXtjb25zdCBvPWVbcl0scz1lW25dO28ueT50LnkhPXMueT50LnkmJnQueDwocy54LW8ueCkqKHQueS1vLnkpLyhzLnktby55KStvLngmJihpPSFpKTt9cmV0dXJuIGl9ZnVuY3Rpb24gVHAoZSx0LGkscixuKXtmb3IoY29uc3QgbyBvZiBlKWlmKHQ8PW8ueCYmaTw9by55JiZyPj1vLngmJm4+PW8ueSlyZXR1cm4gITA7Y29uc3Qgbz1bbmV3IHkodCxpKSxuZXcgeSh0LG4pLG5ldyB5KHIsbiksbmV3IHkocixpKV07aWYoZS5sZW5ndGg+Milmb3IoY29uc3QgdCBvZiBvKWlmKHdwKGUsdCkpcmV0dXJuICEwO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGgtMTt0KyspaWYoRXAoZVt0XSxlW3QrMV0sbykpcmV0dXJuICEwO3JldHVybiAhMX1mdW5jdGlvbiBFcChlLHQsaSl7Y29uc3Qgcj1pWzBdLG49aVsyXTtpZihlLng8ci54JiZ0Lng8ci54fHxlLng+bi54JiZ0Lng+bi54fHxlLnk8ci55JiZ0Lnk8ci55fHxlLnk+bi55JiZ0Lnk+bi55KXJldHVybiAhMTtjb25zdCBvPVgoZSx0LGlbMF0pO3JldHVybiBvIT09WChlLHQsaVsxXSl8fG8hPT1YKGUsdCxpWzJdKXx8byE9PVgoZSx0LGlbM10pfWZ1bmN0aW9uIE1wKGUsdCxpLHIsbixvKXtsZXQgcz10LnktZS55LGE9ZS54LXQueDtpZihvPW98fDApe2NvbnN0IGU9cypzK2EqYTtpZigwPT09ZSlyZXR1cm4gITA7Y29uc3QgdD1NYXRoLnNxcnQoZSk7cy89dCxhLz10O31yZXR1cm4gISgoaS54LWUueCkqcysoaS55LWUueSkqYS1vPDB8fChyLngtZS54KSpzKyhyLnktZS55KSphLW88MHx8KG4ueC1lLngpKnMrKG4ueS1lLnkpKmEtbzwwKX1mdW5jdGlvbiBBcChlLHQsaSxyLG4sbyxzKXtyZXR1cm4gIShNcChlLHQscixuLG8scyl8fE1wKHQsaSxyLG4sbyxzKXx8TXAoaSxlLHIsbixvLHMpfHxNcChyLG4sZSx0LGkscyl8fE1wKG4sbyxlLHQsaSxzKXx8TXAobyxyLGUsdCxpLHMpKX1mdW5jdGlvbiBTcChlLHQsaSl7Y29uc3Qgcj10LnBhaW50LmdldChlKS52YWx1ZTtyZXR1cm4gXCJjb25zdGFudFwiPT09ci5raW5kP3IudmFsdWU6aS5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KHQuaWQpLmdldE1heFZhbHVlKGUpfWZ1bmN0aW9uIElwKGUpe3JldHVybiBNYXRoLnNxcnQoZVswXSplWzBdK2VbMV0qZVsxXSl9ZnVuY3Rpb24gQ3AoZSx0LGkscixuKXtpZighdFswXSYmIXRbMV0pcmV0dXJuIGU7Y29uc3Qgbz15LmNvbnZlcnQodCkuX211bHQobik7XCJ2aWV3cG9ydFwiPT09aSYmby5fcm90YXRlKC1yKTtjb25zdCBzPVtdO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXMucHVzaChlW3RdLnN1YihvKSk7cmV0dXJuIHN9ZnVuY3Rpb24genAoZSx0LGkscil7Y29uc3Qgbj15LmNvbnZlcnQoZSkuX211bHQocik7cmV0dXJuIFwidmlld3BvcnRcIj09PXQmJm4uX3JvdGF0ZSgtaSksbn1JcyhkcCxcIkNpcmNsZUJ1Y2tldFwiLHtvbWl0OltcImxheWVyc1wiXX0pO2NvbnN0IERwPW5ldyBkYSh7XCJjaXJjbGUtc29ydC1rZXlcIjpuZXcgaGEoQ3QubGF5b3V0X2NpcmNsZVtcImNpcmNsZS1zb3J0LWtleVwiXSksdmlzaWJpbGl0eTpuZXcgY2EoQ3QubGF5b3V0X2NpcmNsZS52aXNpYmlsaXR5KX0pO3ZhciBQcD17cGFpbnQ6bmV3IGRhKHtcImNpcmNsZS1yYWRpdXNcIjpuZXcgaGEoQ3QucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXJhZGl1c1wiXSksXCJjaXJjbGUtY29sb3JcIjpuZXcgaGEoQ3QucGFpbnRfY2lyY2xlW1wiY2lyY2xlLWNvbG9yXCJdKSxcImNpcmNsZS1ibHVyXCI6bmV3IGhhKEN0LnBhaW50X2NpcmNsZVtcImNpcmNsZS1ibHVyXCJdKSxcImNpcmNsZS1vcGFjaXR5XCI6bmV3IGhhKEN0LnBhaW50X2NpcmNsZVtcImNpcmNsZS1vcGFjaXR5XCJdKSxcImNpcmNsZS10cmFuc2xhdGVcIjpuZXcgY2EoQ3QucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXRyYW5zbGF0ZVwiXSksXCJjaXJjbGUtdHJhbnNsYXRlLWFuY2hvclwiOm5ldyBjYShDdC5wYWludF9jaXJjbGVbXCJjaXJjbGUtdHJhbnNsYXRlLWFuY2hvclwiXSksXCJjaXJjbGUtcGl0Y2gtc2NhbGVcIjpuZXcgY2EoQ3QucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXBpdGNoLXNjYWxlXCJdKSxcImNpcmNsZS1waXRjaC1hbGlnbm1lbnRcIjpuZXcgY2EoQ3QucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXBpdGNoLWFsaWdubWVudFwiXSksXCJjaXJjbGUtc3Ryb2tlLXdpZHRoXCI6bmV3IGhhKEN0LnBhaW50X2NpcmNsZVtcImNpcmNsZS1zdHJva2Utd2lkdGhcIl0pLFwiY2lyY2xlLXN0cm9rZS1jb2xvclwiOm5ldyBoYShDdC5wYWludF9jaXJjbGVbXCJjaXJjbGUtc3Ryb2tlLWNvbG9yXCJdKSxcImNpcmNsZS1zdHJva2Utb3BhY2l0eVwiOm5ldyBoYShDdC5wYWludF9jaXJjbGVbXCJjaXJjbGUtc3Ryb2tlLW9wYWNpdHlcIl0pLFwiY2lyY2xlLWVtaXNzaXZlLXN0cmVuZ3RoXCI6bmV3IGNhKEN0LnBhaW50X2NpcmNsZVtcImNpcmNsZS1lbWlzc2l2ZS1zdHJlbmd0aFwiXSl9KSxsYXlvdXQ6RHB9O2NvbnN0IFJwPXh1LmNyZWF0ZSgpLExwPShlLHQsaSxyLG4sbyk9Pntjb25zdCBzPWUudHJhbnNmb3JtLGE9XCJnbG9iZVwiPT09cy5wcm9qZWN0aW9uLm5hbWU7bGV0IGw7aWYoXCJtYXBcIj09PW8ucGFpbnQuZ2V0KFwiY2lyY2xlLXBpdGNoLWFsaWdubWVudFwiKSlpZihhKXtjb25zdCBlPXdkKHMuem9vbSx0LmNhbm9uaWNhbCkqcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbDtsPUZsb2F0MzJBcnJheS5mcm9tKFtlLDAsMCxlXSk7fWVsc2UgbD1zLmNhbGN1bGF0ZVBpeGVsc1RvVGlsZVVuaXRzTWF0cml4KGkpO2Vsc2UgbD1uZXcgRmxvYXQzMkFycmF5KFtzLnBpeGVsc1RvR0xVbml0c1swXSwwLDAscy5waXhlbHNUb0dMVW5pdHNbMV1dKTtjb25zdCBjPXt1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6ZS50cmFuc2Zvcm0uZ2V0Q2FtZXJhVG9DZW50ZXJEaXN0YW5jZShzLnByb2plY3Rpb24pLHVfbWF0cml4OmUudHJhbnNsYXRlUG9zTWF0cml4KHQucHJvak1hdHJpeCxpLG8ucGFpbnQuZ2V0KFwiY2lyY2xlLXRyYW5zbGF0ZVwiKSxvLnBhaW50LmdldChcImNpcmNsZS10cmFuc2xhdGUtYW5jaG9yXCIpKSx1X2RldmljZV9waXhlbF9yYXRpbzpodC5kZXZpY2VQaXhlbFJhdGlvLHVfZXh0cnVkZV9zY2FsZTpsLHVfaW52X3JvdF9tYXRyaXg6UnAsdV9tZXJjX2NlbnRlcjpbMCwwXSx1X3RpbGVfaWQ6WzAsMCwwXSx1X3pvb21fdHJhbnNpdGlvbjowLHVfdXBfZGlyOlswLDAsMF0sdV9lbWlzc2l2ZV9zdHJlbmd0aDpvLnBhaW50LmdldChcImNpcmNsZS1lbWlzc2l2ZS1zdHJlbmd0aFwiKX07aWYoYSl7Yy51X2ludl9yb3RfbWF0cml4PXIsYy51X21lcmNfY2VudGVyPW4sYy51X3RpbGVfaWQ9W3QuY2Fub25pY2FsLngsdC5jYW5vbmljYWwueSwxPDx0LmNhbm9uaWNhbC56XSxjLnVfem9vbV90cmFuc2l0aW9uPUVkKHMuem9vbSk7Y29uc3QgZT1uWzBdKnNyLGk9blsxXSpzcjtjLnVfdXBfZGlyPXMucHJvamVjdGlvbi51cFZlY3RvcihuZXcga3UoMCwwLDApLGUsaSk7fXJldHVybiBjfSxrcD1lPT57Y29uc3QgdD1bXTtyZXR1cm4gXCJtYXBcIj09PWUucGFpbnQuZ2V0KFwiY2lyY2xlLXBpdGNoLWFsaWdubWVudFwiKSYmdC5wdXNoKFwiUElUQ0hfV0lUSF9NQVBcIiksXCJtYXBcIj09PWUucGFpbnQuZ2V0KFwiY2lyY2xlLXBpdGNoLXNjYWxlXCIpJiZ0LnB1c2goXCJTQ0FMRV9XSVRIX01BUFwiKSx0fTtmdW5jdGlvbiBPcChlLHQsaSxyLG4sbyxzLGEsbCl7aWYobyYmZS5xdWVyeUdlb21ldHJ5LmlzQWJvdmVIb3Jpem9uKXJldHVybiAhMTtvJiYobCo9ZS5waXhlbFRvVGlsZVVuaXRzRmFjdG9yKTtjb25zdCBjPWUudGlsZUlELmNhbm9uaWNhbCxoPWkucHJvamVjdGlvbi51cFZlY3RvclNjYWxlKGMsaS5jZW50ZXIubGF0LGkud29ybGRTaXplKS5tZXRlcnNUb1RpbGU7Zm9yKGNvbnN0IHUgb2YgdClmb3IoY29uc3QgdCBvZiB1KXtjb25zdCB1PXQuYWRkKGEpLGQ9biYmaS5lbGV2YXRpb24/aS5lbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCkqbi5nZXRFbGV2YXRpb25BdCh1LngsdS55LCEwKTowLHA9aS5wcm9qZWN0aW9uLnByb2plY3RUaWxlUG9pbnQodS54LHUueSxjKTtpZihkPjApe2NvbnN0IGU9aS5wcm9qZWN0aW9uLnVwVmVjdG9yKGMsdS54LHUueSk7cC54Kz1lWzBdKmgqZCxwLnkrPWVbMV0qaCpkLHAueis9ZVsyXSpoKmQ7fWNvbnN0IGY9bz91OkJwKHAueCxwLnkscC56LHIpLG09bz9lLnRpbGVzcGFjZVJheXMubWFwKChlPT5VcChlLGQpKSk6ZS5xdWVyeUdlb21ldHJ5LnNjcmVlbkdlb21ldHJ5LF89dXUudHJhbnNmb3JtTWF0NChbXSxbcC54LHAueSxwLnosMV0scik7aWYoIXMmJm8/bCo9X1szXS9pLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2U6cyYmIW8mJihsKj1pLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UvX1szXSksbyl7Y29uc3QgZT1IZCgodC55L3NyK2MueSkvKDE8PGMueikpO2wvPWkucHJvamVjdGlvbi5waXhlbHNQZXJNZXRlcihlLDEpL1pkKDEsZSk7fWlmKGZwKG0sZixsKSlyZXR1cm4gITB9cmV0dXJuICExfWZ1bmN0aW9uIEJwKGUsdCxpLHIpe2NvbnN0IG49dXUudHJhbnNmb3JtTWF0NChbXSxbZSx0LGksMV0scik7cmV0dXJuIG5ldyB5KG5bMF0vblszXSxuWzFdL25bM10pfWNvbnN0IEZwPU11LmZyb21WYWx1ZXMoMCwwLDApLE5wPU11LmZyb21WYWx1ZXMoMCwwLDEpO2Z1bmN0aW9uIFVwKGUsdCl7Y29uc3QgaT1NdS5jcmVhdGUoKTtyZXR1cm4gRnBbMl09dCxlLmludGVyc2VjdHNQbGFuZShGcCxOcCxpKSxuZXcgeShpWzBdLGlbMV0pfWNsYXNzIFZwIGV4dGVuZHMgZHB7fWZ1bmN0aW9uIGpwKGUse3dpZHRoOnQsaGVpZ2h0Oml9LHIsbil7aWYobil7aWYobiBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5KW49bmV3IFVpbnQ4QXJyYXkobi5idWZmZXIpO2Vsc2UgaWYobi5sZW5ndGghPT10Kmkqcil0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm1pc21hdGNoZWQgaW1hZ2Ugc2l6ZVwiKX1lbHNlIG49bmV3IFVpbnQ4QXJyYXkodCppKnIpO3JldHVybiBlLndpZHRoPXQsZS5oZWlnaHQ9aSxlLmRhdGE9bixlfWZ1bmN0aW9uIEdwKGUsdCxpKXtjb25zdHt3aWR0aDpyLGhlaWdodDpufT10O3I9PT1lLndpZHRoJiZuPT09ZS5oZWlnaHR8fChxcChlLHQse3g6MCx5OjB9LHt4OjAseTowfSx7d2lkdGg6TWF0aC5taW4oZS53aWR0aCxyKSxoZWlnaHQ6TWF0aC5taW4oZS5oZWlnaHQsbil9LGkpLGUud2lkdGg9cixlLmhlaWdodD1uLGUuZGF0YT10LmRhdGEpO31mdW5jdGlvbiBxcChlLHQsaSxyLG4sbyl7aWYoMD09PW4ud2lkdGh8fDA9PT1uLmhlaWdodClyZXR1cm4gdDtpZihuLndpZHRoPmUud2lkdGh8fG4uaGVpZ2h0PmUuaGVpZ2h0fHxpLng+ZS53aWR0aC1uLndpZHRofHxpLnk+ZS5oZWlnaHQtbi5oZWlnaHQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJvdXQgb2YgcmFuZ2Ugc291cmNlIGNvb3JkaW5hdGVzIGZvciBpbWFnZSBjb3B5XCIpO2lmKG4ud2lkdGg+dC53aWR0aHx8bi5oZWlnaHQ+dC5oZWlnaHR8fHIueD50LndpZHRoLW4ud2lkdGh8fHIueT50LmhlaWdodC1uLmhlaWdodCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm91dCBvZiByYW5nZSBkZXN0aW5hdGlvbiBjb29yZGluYXRlcyBmb3IgaW1hZ2UgY29weVwiKTtjb25zdCBzPWUuZGF0YSxhPXQuZGF0YTtmb3IobGV0IGw9MDtsPG4uaGVpZ2h0O2wrKyl7Y29uc3QgYz0oKGkueStsKSplLndpZHRoK2kueCkqbyxoPSgoci55K2wpKnQud2lkdGgrci54KSpvO2ZvcihsZXQgZT0wO2U8bi53aWR0aCpvO2UrKylhW2grZV09c1tjK2VdO31yZXR1cm4gdH1JcyhWcCxcIkhlYXRtYXBCdWNrZXRcIix7b21pdDpbXCJsYXllcnNcIl19KTtjbGFzcyBacHtjb25zdHJ1Y3RvcihlLHQpe2pwKHRoaXMsZSwxLHQpO31yZXNpemUoZSl7R3AodGhpcyxuZXcgWnAoZSksMSk7fWNsb25lKCl7cmV0dXJuIG5ldyBacCh7d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9LG5ldyBVaW50OEFycmF5KHRoaXMuZGF0YSkpfXN0YXRpYyBjb3B5KGUsdCxpLHIsbil7cXAoZSx0LGkscixuLDEpO319Y2xhc3MgJHB7Y29uc3RydWN0b3IoZSx0KXtqcCh0aGlzLGUsNCx0KTt9cmVzaXplKGUpe0dwKHRoaXMsbmV3ICRwKGUpLDQpO31yZXBsYWNlKGUsdCl7dD90aGlzLmRhdGEuc2V0KGUpOnRoaXMuZGF0YT1lIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXk/bmV3IFVpbnQ4QXJyYXkoZS5idWZmZXIpOmU7fWNsb25lKCl7cmV0dXJuIG5ldyAkcCh7d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9LG5ldyBVaW50OEFycmF5KHRoaXMuZGF0YSkpfXN0YXRpYyBjb3B5KGUsdCxpLHIsbil7cXAoZSx0LGkscixuLDQpO319Y2xhc3MgSHB7Y29uc3RydWN0b3IoZSx0KXt0aGlzLndpZHRoPWUud2lkdGgsdGhpcy5oZWlnaHQ9ZS5oZWlnaHQsdGhpcy5kYXRhPXQgaW5zdGFuY2VvZiBVaW50OEFycmF5P25ldyBGbG9hdDMyQXJyYXkodC5idWZmZXIpOnQ7fX1JcyhacCxcIkFscGhhSW1hZ2VcIiksSXMoJHAsXCJSR0JBSW1hZ2VcIik7Y29uc3QgV3A9bmV3IGRhKHt2aXNpYmlsaXR5Om5ldyBjYShDdC5sYXlvdXRfaGVhdG1hcC52aXNpYmlsaXR5KX0pO3ZhciBYcD17cGFpbnQ6bmV3IGRhKHtcImhlYXRtYXAtcmFkaXVzXCI6bmV3IGhhKEN0LnBhaW50X2hlYXRtYXBbXCJoZWF0bWFwLXJhZGl1c1wiXSksXCJoZWF0bWFwLXdlaWdodFwiOm5ldyBoYShDdC5wYWludF9oZWF0bWFwW1wiaGVhdG1hcC13ZWlnaHRcIl0pLFwiaGVhdG1hcC1pbnRlbnNpdHlcIjpuZXcgY2EoQ3QucGFpbnRfaGVhdG1hcFtcImhlYXRtYXAtaW50ZW5zaXR5XCJdKSxcImhlYXRtYXAtY29sb3JcIjpuZXcgdWEoQ3QucGFpbnRfaGVhdG1hcFtcImhlYXRtYXAtY29sb3JcIl0pLFwiaGVhdG1hcC1vcGFjaXR5XCI6bmV3IGNhKEN0LnBhaW50X2hlYXRtYXBbXCJoZWF0bWFwLW9wYWNpdHlcIl0pfSksbGF5b3V0OldwfTtmdW5jdGlvbiBZcChlKXtjb25zdCB0PXt9LGk9ZS5yZXNvbHV0aW9ufHwyNTYscj1lLmNsaXBzP2UuY2xpcHMubGVuZ3RoOjEsbj1lLmltYWdlfHxuZXcgJHAoe3dpZHRoOmksaGVpZ2h0OnJ9KSxvPShpLHIsbyk9Pnt0W2UuZXZhbHVhdGlvbktleV09bztjb25zdCBzPWUuZXhwcmVzc2lvbi5ldmFsdWF0ZSh0KTtzJiYobi5kYXRhW2krciswXT1NYXRoLmZsb29yKDI1NSpzLnIvcy5hKSxuLmRhdGFbaStyKzFdPU1hdGguZmxvb3IoMjU1KnMuZy9zLmEpLG4uZGF0YVtpK3IrMl09TWF0aC5mbG9vcigyNTUqcy5iL3MuYSksbi5kYXRhW2krciszXT1NYXRoLmZsb29yKDI1NSpzLmEpKTt9O2lmKGUuY2xpcHMpZm9yKGxldCB0PTAsbj0wO3Q8cjsrK3Qsbis9NCppKWZvcihsZXQgcj0wLHM9MDtyPGk7cisrLHMrPTQpe2NvbnN0IGE9ci8oaS0xKSx7c3RhcnQ6bCxlbmQ6Y309ZS5jbGlwc1t0XTtvKG4scyxsKigxLWEpK2MqYSk7fWVsc2UgZm9yKGxldCBlPTAsdD0wO2U8aTtlKyssdCs9NClvKDAsdCxlLyhpLTEpKTtyZXR1cm4gbn1jb25zdCBLcD1uZXcgZGEoe3Zpc2liaWxpdHk6bmV3IGNhKEN0LmxheW91dF9oaWxsc2hhZGUudmlzaWJpbGl0eSl9KTt2YXIgSnA9e3BhaW50Om5ldyBkYSh7XCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWRpcmVjdGlvblwiOm5ldyBjYShDdC5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWRpcmVjdGlvblwiXSksXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWFuY2hvclwiOm5ldyBjYShDdC5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWFuY2hvclwiXSksXCJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uXCI6bmV3IGNhKEN0LnBhaW50X2hpbGxzaGFkZVtcImhpbGxzaGFkZS1leGFnZ2VyYXRpb25cIl0pLFwiaGlsbHNoYWRlLXNoYWRvdy1jb2xvclwiOm5ldyBjYShDdC5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtc2hhZG93LWNvbG9yXCJdKSxcImhpbGxzaGFkZS1oaWdobGlnaHQtY29sb3JcIjpuZXcgY2EoQ3QucGFpbnRfaGlsbHNoYWRlW1wiaGlsbHNoYWRlLWhpZ2hsaWdodC1jb2xvclwiXSksXCJoaWxsc2hhZGUtYWNjZW50LWNvbG9yXCI6bmV3IGNhKEN0LnBhaW50X2hpbGxzaGFkZVtcImhpbGxzaGFkZS1hY2NlbnQtY29sb3JcIl0pLFwiaGlsbHNoYWRlLWVtaXNzaXZlLXN0cmVuZ3RoXCI6bmV3IGNhKEN0LnBhaW50X2hpbGxzaGFkZVtcImhpbGxzaGFkZS1lbWlzc2l2ZS1zdHJlbmd0aFwiXSl9KSxsYXlvdXQ6S3B9O2NvbnN0IFFwPWJhKFt7bmFtZTpcImFfcG9zXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifV0sNCkse21lbWJlcnM6ZWZ9PVFwO3ZhciB0Zj17ZXhwb3J0czp7fX07ZnVuY3Rpb24gcmYoZSx0LGkpe2k9aXx8Mjt2YXIgcixuLG8scyxhLGwsYyxoPXQmJnQubGVuZ3RoLHU9aD90WzBdKmk6ZS5sZW5ndGgsZD1uZihlLDAsdSxpLCEwKSxwPVtdO2lmKCFkfHxkLm5leHQ9PT1kLnByZXYpcmV0dXJuIHA7aWYoaCYmKGQ9ZnVuY3Rpb24oZSx0LGkscil7dmFyIG4sbyxzLGE9W107Zm9yKG49MCxvPXQubGVuZ3RoO248bztuKyspKHM9bmYoZSx0W25dKnIsbjxvLTE/dFtuKzFdKnI6ZS5sZW5ndGgsciwhMSkpPT09cy5uZXh0JiYocy5zdGVpbmVyPSEwKSxhLnB1c2gobWYocykpO2ZvcihhLnNvcnQodWYpLG49MDtuPGEubGVuZ3RoO24rKylpPWRmKGFbbl0saSk7cmV0dXJuIGl9KGUsdCxkLGkpKSxlLmxlbmd0aD44MCppKXtyPW89ZVswXSxuPXM9ZVsxXTtmb3IodmFyIGY9aTtmPHU7Zis9aSkoYT1lW2ZdKTxyJiYocj1hKSwobD1lW2YrMV0pPG4mJihuPWwpLGE+byYmKG89YSksbD5zJiYocz1sKTtjPTAhPT0oYz1NYXRoLm1heChvLXIscy1uKSk/MzI3NjcvYzowO31yZXR1cm4gc2YoZCxwLGkscixuLGMsMCkscH1mdW5jdGlvbiBuZihlLHQsaSxyLG4pe3ZhciBvLHM7aWYobj09PUlmKGUsdCxpLHIpPjApZm9yKG89dDtvPGk7bys9cilzPU1mKG8sZVtvXSxlW28rMV0scyk7ZWxzZSBmb3Iobz1pLXI7bz49dDtvLT1yKXM9TWYobyxlW29dLGVbbysxXSxzKTtyZXR1cm4gcyYmeGYocyxzLm5leHQpJiYoQWYocykscz1zLm5leHQpLHN9ZnVuY3Rpb24gb2YoZSx0KXtpZighZSlyZXR1cm4gZTt0fHwodD1lKTt2YXIgaSxyPWU7ZG97aWYoaT0hMSxyLnN0ZWluZXJ8fCF4ZihyLHIubmV4dCkmJjAhPT15ZihyLnByZXYscixyLm5leHQpKXI9ci5uZXh0O2Vsc2Uge2lmKEFmKHIpLChyPXQ9ci5wcmV2KT09PXIubmV4dClicmVhaztpPSEwO319d2hpbGUoaXx8ciE9PXQpO3JldHVybiB0fWZ1bmN0aW9uIHNmKGUsdCxpLHIsbixvLHMpe2lmKGUpeyFzJiZvJiZmdW5jdGlvbihlLHQsaSxyKXt2YXIgbj1lO2RvezA9PT1uLnomJihuLno9ZmYobi54LG4ueSx0LGkscikpLG4ucHJldlo9bi5wcmV2LG4ubmV4dFo9bi5uZXh0LG49bi5uZXh0O313aGlsZShuIT09ZSk7bi5wcmV2Wi5uZXh0Wj1udWxsLG4ucHJldlo9bnVsbCxmdW5jdGlvbihlKXt2YXIgdCxpLHIsbixvLHMsYSxsLGM9MTtkb3tmb3IoaT1lLGU9bnVsbCxvPW51bGwscz0wO2k7KXtmb3IocysrLHI9aSxhPTAsdD0wO3Q8YyYmKGErKyxyPXIubmV4dFopO3QrKyk7Zm9yKGw9YzthPjB8fGw+MCYmcjspMCE9PWEmJigwPT09bHx8IXJ8fGkuejw9ci56KT8obj1pLGk9aS5uZXh0WixhLS0pOihuPXIscj1yLm5leHRaLGwtLSksbz9vLm5leHRaPW46ZT1uLG4ucHJldlo9byxvPW47aT1yO31vLm5leHRaPW51bGwsYyo9Mjt9d2hpbGUocz4xKX0obik7fShlLHIsbixvKTtmb3IodmFyIGEsbCxjPWU7ZS5wcmV2IT09ZS5uZXh0OylpZihhPWUucHJldixsPWUubmV4dCxvP2xmKGUscixuLG8pOmFmKGUpKXQucHVzaChhLmkvaXwwKSx0LnB1c2goZS5pL2l8MCksdC5wdXNoKGwuaS9pfDApLEFmKGUpLGU9bC5uZXh0LGM9bC5uZXh0O2Vsc2UgaWYoKGU9bCk9PT1jKXtzPzE9PT1zP3NmKGU9Y2Yob2YoZSksdCxpKSx0LGkscixuLG8sMik6Mj09PXMmJmhmKGUsdCxpLHIsbixvKTpzZihvZihlKSx0LGkscixuLG8sMSk7YnJlYWt9fX1mdW5jdGlvbiBhZihlKXt2YXIgdD1lLnByZXYsaT1lLHI9ZS5uZXh0O2lmKHlmKHQsaSxyKT49MClyZXR1cm4gITE7Zm9yKHZhciBuPXQueCxvPWkueCxzPXIueCxhPXQueSxsPWkueSxjPXIueSxoPW48bz9uPHM/bjpzOm88cz9vOnMsdT1hPGw/YTxjP2E6YzpsPGM/bDpjLGQ9bj5vP24+cz9uOnM6bz5zP286cyxwPWE+bD9hPmM/YTpjOmw+Yz9sOmMsZj1yLm5leHQ7ZiE9PXQ7KXtpZihmLng+PWgmJmYueDw9ZCYmZi55Pj11JiZmLnk8PXAmJl9mKG4sYSxvLGwscyxjLGYueCxmLnkpJiZ5ZihmLnByZXYsZixmLm5leHQpPj0wKXJldHVybiAhMTtmPWYubmV4dDt9cmV0dXJuICEwfWZ1bmN0aW9uIGxmKGUsdCxpLHIpe3ZhciBuPWUucHJldixvPWUscz1lLm5leHQ7aWYoeWYobixvLHMpPj0wKXJldHVybiAhMTtmb3IodmFyIGE9bi54LGw9by54LGM9cy54LGg9bi55LHU9by55LGQ9cy55LHA9YTxsP2E8Yz9hOmM6bDxjP2w6YyxmPWg8dT9oPGQ/aDpkOnU8ZD91OmQsbT1hPmw/YT5jP2E6YzpsPmM/bDpjLF89aD51P2g+ZD9oOmQ6dT5kP3U6ZCxnPWZmKHAsZix0LGkscikseT1mZihtLF8sdCxpLHIpLHg9ZS5wcmV2Wix2PWUubmV4dFo7eCYmeC56Pj1nJiZ2JiZ2Lno8PXk7KXtpZih4Lng+PXAmJngueDw9bSYmeC55Pj1mJiZ4Lnk8PV8mJnghPT1uJiZ4IT09cyYmX2YoYSxoLGwsdSxjLGQseC54LHgueSkmJnlmKHgucHJldix4LHgubmV4dCk+PTApcmV0dXJuICExO2lmKHg9eC5wcmV2Wix2Lng+PXAmJnYueDw9bSYmdi55Pj1mJiZ2Lnk8PV8mJnYhPT1uJiZ2IT09cyYmX2YoYSxoLGwsdSxjLGQsdi54LHYueSkmJnlmKHYucHJldix2LHYubmV4dCk+PTApcmV0dXJuICExO3Y9di5uZXh0Wjt9Zm9yKDt4JiZ4Lno+PWc7KXtpZih4Lng+PXAmJngueDw9bSYmeC55Pj1mJiZ4Lnk8PV8mJnghPT1uJiZ4IT09cyYmX2YoYSxoLGwsdSxjLGQseC54LHgueSkmJnlmKHgucHJldix4LHgubmV4dCk+PTApcmV0dXJuICExO3g9eC5wcmV2Wjt9Zm9yKDt2JiZ2Lno8PXk7KXtpZih2Lng+PXAmJnYueDw9bSYmdi55Pj1mJiZ2Lnk8PV8mJnYhPT1uJiZ2IT09cyYmX2YoYSxoLGwsdSxjLGQsdi54LHYueSkmJnlmKHYucHJldix2LHYubmV4dCk+PTApcmV0dXJuICExO3Y9di5uZXh0Wjt9cmV0dXJuICEwfWZ1bmN0aW9uIGNmKGUsdCxpKXt2YXIgcj1lO2Rve3ZhciBuPXIucHJldixvPXIubmV4dC5uZXh0OyF4ZihuLG8pJiZ2ZihuLHIsci5uZXh0LG8pJiZUZihuLG8pJiZUZihvLG4pJiYodC5wdXNoKG4uaS9pfDApLHQucHVzaChyLmkvaXwwKSx0LnB1c2goby5pL2l8MCksQWYociksQWYoci5uZXh0KSxyPWU9bykscj1yLm5leHQ7fXdoaWxlKHIhPT1lKTtyZXR1cm4gb2Yocil9ZnVuY3Rpb24gaGYoZSx0LGkscixuLG8pe3ZhciBzPWU7ZG97Zm9yKHZhciBhPXMubmV4dC5uZXh0O2EhPT1zLnByZXY7KXtpZihzLmkhPT1hLmkmJmdmKHMsYSkpe3ZhciBsPUVmKHMsYSk7cmV0dXJuIHM9b2YocyxzLm5leHQpLGw9b2YobCxsLm5leHQpLHNmKHMsdCxpLHIsbixvLDApLHZvaWQgc2YobCx0LGkscixuLG8sMCl9YT1hLm5leHQ7fXM9cy5uZXh0O313aGlsZShzIT09ZSl9ZnVuY3Rpb24gdWYoZSx0KXtyZXR1cm4gZS54LXQueH1mdW5jdGlvbiBkZihlLHQpe3ZhciBpPWZ1bmN0aW9uKGUsdCl7dmFyIGkscj10LG49ZS54LG89ZS55LHM9LTEvMDtkb3tpZihvPD1yLnkmJm8+PXIubmV4dC55JiZyLm5leHQueSE9PXIueSl7dmFyIGE9ci54KyhvLXIueSkqKHIubmV4dC54LXIueCkvKHIubmV4dC55LXIueSk7aWYoYTw9biYmYT5zJiYocz1hLGk9ci54PHIubmV4dC54P3I6ci5uZXh0LGE9PT1uKSlyZXR1cm4gaX1yPXIubmV4dDt9d2hpbGUociE9PXQpO2lmKCFpKXJldHVybiBudWxsO3ZhciBsLGM9aSxoPWkueCx1PWkueSxkPTEvMDtyPWk7ZG97bj49ci54JiZyLng+PWgmJm4hPT1yLngmJl9mKG88dT9uOnMsbyxoLHUsbzx1P3M6bixvLHIueCxyLnkpJiYobD1NYXRoLmFicyhvLXIueSkvKG4tci54KSxUZihyLGUpJiYobDxkfHxsPT09ZCYmKHIueD5pLnh8fHIueD09PWkueCYmcGYoaSxyKSkpJiYoaT1yLGQ9bCkpLHI9ci5uZXh0O313aGlsZShyIT09Yyk7cmV0dXJuIGl9KGUsdCk7aWYoIWkpcmV0dXJuIHQ7dmFyIHI9RWYoaSxlKTtyZXR1cm4gb2YocixyLm5leHQpLG9mKGksaS5uZXh0KX1mdW5jdGlvbiBwZihlLHQpe3JldHVybiB5ZihlLnByZXYsZSx0LnByZXYpPDAmJnlmKHQubmV4dCxlLGUubmV4dCk8MH1mdW5jdGlvbiBmZihlLHQsaSxyLG4pe3JldHVybiAoZT0xNDMxNjU1NzY1JigoZT04NTg5OTM0NTkmKChlPTI1MjY0NTEzNSYoKGU9MTY3MTE5MzUmKChlPShlLWkpKm58MCl8ZTw8OCkpfGU8PDQpKXxlPDwyKSl8ZTw8MSkpfCh0PTE0MzE2NTU3NjUmKCh0PTg1ODk5MzQ1OSYoKHQ9MjUyNjQ1MTM1JigodD0xNjcxMTkzNSYoKHQ9KHQtcikqbnwwKXx0PDw4KSl8dDw8NCkpfHQ8PDIpKXx0PDwxKSk8PDF9ZnVuY3Rpb24gbWYoZSl7dmFyIHQ9ZSxpPWU7ZG97KHQueDxpLnh8fHQueD09PWkueCYmdC55PGkueSkmJihpPXQpLHQ9dC5uZXh0O313aGlsZSh0IT09ZSk7cmV0dXJuIGl9ZnVuY3Rpb24gX2YoZSx0LGkscixuLG8scyxhKXtyZXR1cm4gKG4tcykqKHQtYSk+PShlLXMpKihvLWEpJiYoZS1zKSooci1hKT49KGktcykqKHQtYSkmJihpLXMpKihvLWEpPj0obi1zKSooci1hKX1mdW5jdGlvbiBnZihlLHQpe3JldHVybiBlLm5leHQuaSE9PXQuaSYmZS5wcmV2LmkhPT10LmkmJiFmdW5jdGlvbihlLHQpe3ZhciBpPWU7ZG97aWYoaS5pIT09ZS5pJiZpLm5leHQuaSE9PWUuaSYmaS5pIT09dC5pJiZpLm5leHQuaSE9PXQuaSYmdmYoaSxpLm5leHQsZSx0KSlyZXR1cm4gITA7aT1pLm5leHQ7fXdoaWxlKGkhPT1lKTtyZXR1cm4gITF9KGUsdCkmJihUZihlLHQpJiZUZih0LGUpJiZmdW5jdGlvbihlLHQpe3ZhciBpPWUscj0hMSxuPShlLngrdC54KS8yLG89KGUueSt0LnkpLzI7ZG97aS55Pm8hPWkubmV4dC55Pm8mJmkubmV4dC55IT09aS55JiZuPChpLm5leHQueC1pLngpKihvLWkueSkvKGkubmV4dC55LWkueSkraS54JiYocj0hciksaT1pLm5leHQ7fXdoaWxlKGkhPT1lKTtyZXR1cm4gcn0oZSx0KSYmKHlmKGUucHJldixlLHQucHJldil8fHlmKGUsdC5wcmV2LHQpKXx8eGYoZSx0KSYmeWYoZS5wcmV2LGUsZS5uZXh0KT4wJiZ5Zih0LnByZXYsdCx0Lm5leHQpPjApfWZ1bmN0aW9uIHlmKGUsdCxpKXtyZXR1cm4gKHQueS1lLnkpKihpLngtdC54KS0odC54LWUueCkqKGkueS10LnkpfWZ1bmN0aW9uIHhmKGUsdCl7cmV0dXJuIGUueD09PXQueCYmZS55PT09dC55fWZ1bmN0aW9uIHZmKGUsdCxpLHIpe3ZhciBuPXdmKHlmKGUsdCxpKSksbz13Zih5ZihlLHQscikpLHM9d2YoeWYoaSxyLGUpKSxhPXdmKHlmKGkscix0KSk7cmV0dXJuIG4hPT1vJiZzIT09YXx8ISgwIT09bnx8IWJmKGUsaSx0KSl8fCEoMCE9PW98fCFiZihlLHIsdCkpfHwhKDAhPT1zfHwhYmYoaSxlLHIpKXx8ISgwIT09YXx8IWJmKGksdCxyKSl9ZnVuY3Rpb24gYmYoZSx0LGkpe3JldHVybiB0Lng8PU1hdGgubWF4KGUueCxpLngpJiZ0Lng+PU1hdGgubWluKGUueCxpLngpJiZ0Lnk8PU1hdGgubWF4KGUueSxpLnkpJiZ0Lnk+PU1hdGgubWluKGUueSxpLnkpfWZ1bmN0aW9uIHdmKGUpe3JldHVybiBlPjA/MTplPDA/LTE6MH1mdW5jdGlvbiBUZihlLHQpe3JldHVybiB5ZihlLnByZXYsZSxlLm5leHQpPDA/eWYoZSx0LGUubmV4dCk+PTAmJnlmKGUsZS5wcmV2LHQpPj0wOnlmKGUsdCxlLnByZXYpPDB8fHlmKGUsZS5uZXh0LHQpPDB9ZnVuY3Rpb24gRWYoZSx0KXt2YXIgaT1uZXcgU2YoZS5pLGUueCxlLnkpLHI9bmV3IFNmKHQuaSx0LngsdC55KSxuPWUubmV4dCxvPXQucHJldjtyZXR1cm4gZS5uZXh0PXQsdC5wcmV2PWUsaS5uZXh0PW4sbi5wcmV2PWksci5uZXh0PWksaS5wcmV2PXIsby5uZXh0PXIsci5wcmV2PW8scn1mdW5jdGlvbiBNZihlLHQsaSxyKXt2YXIgbj1uZXcgU2YoZSx0LGkpO3JldHVybiByPyhuLm5leHQ9ci5uZXh0LG4ucHJldj1yLHIubmV4dC5wcmV2PW4sci5uZXh0PW4pOihuLnByZXY9bixuLm5leHQ9biksbn1mdW5jdGlvbiBBZihlKXtlLm5leHQucHJldj1lLnByZXYsZS5wcmV2Lm5leHQ9ZS5uZXh0LGUucHJldlomJihlLnByZXZaLm5leHRaPWUubmV4dFopLGUubmV4dFomJihlLm5leHRaLnByZXZaPWUucHJldlopO31mdW5jdGlvbiBTZihlLHQsaSl7dGhpcy5pPWUsdGhpcy54PXQsdGhpcy55PWksdGhpcy5wcmV2PW51bGwsdGhpcy5uZXh0PW51bGwsdGhpcy56PTAsdGhpcy5wcmV2Wj1udWxsLHRoaXMubmV4dFo9bnVsbCx0aGlzLnN0ZWluZXI9ITE7fWZ1bmN0aW9uIElmKGUsdCxpLHIpe2Zvcih2YXIgbj0wLG89dCxzPWktcjtvPGk7bys9ciluKz0oZVtzXS1lW29dKSooZVtvKzFdK2VbcysxXSkscz1vO3JldHVybiBufXRmLmV4cG9ydHM9cmYsdGYuZXhwb3J0cy5kZWZhdWx0PXJmLHJmLmRldmlhdGlvbj1mdW5jdGlvbihlLHQsaSxyKXt2YXIgbj10JiZ0Lmxlbmd0aCxvPU1hdGguYWJzKElmKGUsMCxuP3RbMF0qaTplLmxlbmd0aCxpKSk7aWYobilmb3IodmFyIHM9MCxhPXQubGVuZ3RoO3M8YTtzKyspby09TWF0aC5hYnMoSWYoZSx0W3NdKmksczxhLTE/dFtzKzFdKmk6ZS5sZW5ndGgsaSkpO3ZhciBsPTA7Zm9yKHM9MDtzPHIubGVuZ3RoO3MrPTMpe3ZhciBjPXJbc10qaSxoPXJbcysxXSppLHU9cltzKzJdKmk7bCs9TWF0aC5hYnMoKGVbY10tZVt1XSkqKGVbaCsxXS1lW2MrMV0pLShlW2NdLWVbaF0pKihlW3UrMV0tZVtjKzFdKSk7fXJldHVybiAwPT09byYmMD09PWw/MDpNYXRoLmFicygobC1vKS9vKX0scmYuZmxhdHRlbj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZVswXVswXS5sZW5ndGgsaT17dmVydGljZXM6W10saG9sZXM6W10sZGltZW5zaW9uczp0fSxyPTAsbj0wO248ZS5sZW5ndGg7bisrKXtmb3IodmFyIG89MDtvPGVbbl0ubGVuZ3RoO28rKylmb3IodmFyIHM9MDtzPHQ7cysrKWkudmVydGljZXMucHVzaChlW25dW29dW3NdKTtuPjAmJmkuaG9sZXMucHVzaChyKz1lW24tMV0ubGVuZ3RoKTt9cmV0dXJuIGl9O3ZhciBDZj1kKHRmLmV4cG9ydHMpO2Z1bmN0aW9uIHpmKGUsdCl7Y29uc3QgaT1lLmxlbmd0aDtpZihpPD0xKXJldHVybiBbZV07Y29uc3Qgcj1bXTtsZXQgbixvO2ZvcihsZXQgdD0wO3Q8aTt0Kyspe2NvbnN0IGk9WShlW3RdKTswIT09aSYmKGVbdF0uYXJlYT1NYXRoLmFicyhpKSx2b2lkIDA9PT1vJiYobz1pPDApLG89PT1pPDA/KG4mJnIucHVzaChuKSxuPVtlW3RdXSk6bi5wdXNoKGVbdF0pKTt9aWYobiYmci5wdXNoKG4pLHQ+MSlmb3IobGV0IGU9MDtlPHIubGVuZ3RoO2UrKylyW2VdLmxlbmd0aDw9dHx8KGtpKHJbZV0sdCwxLHJbZV0ubGVuZ3RoLTEsRGYpLHJbZV09cltlXS5zbGljZSgwLHQpKTtyZXR1cm4gcn1mdW5jdGlvbiBEZihlLHQpe3JldHVybiB0LmFyZWEtZS5hcmVhfWZ1bmN0aW9uIFBmKGUsdCxpKXtjb25zdCByPWkucGF0dGVybkRlcGVuZGVuY2llcztsZXQgbj0hMTtmb3IoY29uc3QgaSBvZiB0KXtjb25zdCB0PWkucGFpbnQuZ2V0KGAke2V9LXBhdHRlcm5gKTt0LmlzQ29uc3RhbnQoKXx8KG49ITApO2NvbnN0IG89dC5jb25zdGFudE9yKG51bGwpO28mJihuPSEwLHJbb109ITApO31yZXR1cm4gbn1mdW5jdGlvbiBSZihlLHQsaSxyLG4pe2NvbnN0IG89bi5wYXR0ZXJuRGVwZW5kZW5jaWVzO2Zvcihjb25zdCBzIG9mIHQpe2NvbnN0IHQ9cy5wYWludC5nZXQoYCR7ZX0tcGF0dGVybmApLnZhbHVlO2lmKFwiY29uc3RhbnRcIiE9PXQua2luZCl7bGV0IGU9dC5ldmFsdWF0ZSh7em9vbTpyfSxpLHt9LG4uYXZhaWxhYmxlSW1hZ2VzKTtlPWUmJmUubmFtZT9lLm5hbWU6ZSxvW2VdPSEwLGkucGF0dGVybnNbcy5pZF09ZTt9fXJldHVybiBpfWNsYXNzIExme2NvbnN0cnVjdG9yKGUpe3RoaXMuem9vbT1lLnpvb20sdGhpcy5vdmVyc2NhbGluZz1lLm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPWUubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKChlPT5lLmZxaWQpKSx0aGlzLmluZGV4PWUuaW5kZXgsdGhpcy5oYXNQYXR0ZXJuPSExLHRoaXMucGF0dGVybkZlYXR1cmVzPVtdLHRoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IFRhLHRoaXMuaW5kZXhBcnJheT1uZXcgVmEsdGhpcy5pbmRleEFycmF5Mj1uZXcga2EsdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnM9bmV3IEhsKGUubGF5ZXJzLGUuem9vbSksdGhpcy5zZWdtZW50cz1uZXcgZGwsdGhpcy5zZWdtZW50czI9bmV3IGRsLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoKGU9PmUuaXNTdGF0ZURlcGVuZGVudCgpKSkubWFwKChlPT5lLmlkKSksdGhpcy5wcm9qZWN0aW9uPWUucHJvamVjdGlvbjt9cG9wdWxhdGUoZSx0LGkscil7dGhpcy5oYXNQYXR0ZXJuPVBmKFwiZmlsbFwiLHRoaXMubGF5ZXJzLHQpO2NvbnN0IG49dGhpcy5sYXllcnNbMF0ubGF5b3V0LmdldChcImZpbGwtc29ydC1rZXlcIiksbz1bXTtmb3IoY29uc3R7ZmVhdHVyZTpzLGlkOmEsaW5kZXg6bCxzb3VyY2VMYXllckluZGV4OmN9b2YgZSl7Y29uc3QgZT10aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5uZWVkR2VvbWV0cnksaD1jcChzLGUpO2lmKCF0aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5maWx0ZXIobmV3IGVhKHRoaXMuem9vbSksaCxpKSljb250aW51ZTtjb25zdCB1PW4/bi5ldmFsdWF0ZShoLHt9LGksdC5hdmFpbGFibGVJbWFnZXMpOnZvaWQgMCxkPXtpZDphLHByb3BlcnRpZXM6cy5wcm9wZXJ0aWVzLHR5cGU6cy50eXBlLHNvdXJjZUxheWVySW5kZXg6YyxpbmRleDpsLGdlb21ldHJ5OmU/aC5nZW9tZXRyeTpscChzLGkscikscGF0dGVybnM6e30sc29ydEtleTp1fTtvLnB1c2goZCk7fW4mJm8uc29ydCgoKGUsdCk9PmUuc29ydEtleS10LnNvcnRLZXkpKTtmb3IoY29uc3QgciBvZiBvKXtjb25zdHtnZW9tZXRyeTpuLGluZGV4Om8sc291cmNlTGF5ZXJJbmRleDpzfT1yO2lmKHRoaXMuaGFzUGF0dGVybil7Y29uc3QgZT1SZihcImZpbGxcIix0aGlzLmxheWVycyxyLHRoaXMuem9vbSx0KTt0aGlzLnBhdHRlcm5GZWF0dXJlcy5wdXNoKGUpO31lbHNlIHRoaXMuYWRkRmVhdHVyZShyLG4sbyxpLHt9LHQuYXZhaWxhYmxlSW1hZ2VzLHQuYnJpZ2h0bmVzcyk7dC5mZWF0dXJlSW5kZXguaW5zZXJ0KGVbb10uZmVhdHVyZSxuLG8scyx0aGlzLmluZGV4KTt9fXVwZGF0ZShlLHQsaSxyLG4pe2NvbnN0IG89MCE9PU9iamVjdC5rZXlzKGUpLmxlbmd0aDtvJiYhdGhpcy5zdGF0ZURlcGVuZGVudExheWVycy5sZW5ndGh8fHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKGUsdCxvP3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnM6dGhpcy5sYXllcnMsaSxyLG4pO31hZGRGZWF0dXJlcyhlLHQsaSxyLG4sbyl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5wYXR0ZXJuRmVhdHVyZXMpdGhpcy5hZGRGZWF0dXJlKGUsZS5nZW9tZXRyeSxlLmluZGV4LHQsaSxyLG8pO31pc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aH11cGxvYWRQZW5kaW5nKCl7cmV0dXJuICF0aGlzLnVwbG9hZGVkfHx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZH11cGxvYWQoZSl7dGhpcy51cGxvYWRlZHx8KHRoaXMubGF5b3V0VmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXksZWYpLHRoaXMuaW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkpLHRoaXMuaW5kZXhCdWZmZXIyPWUuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5MikpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwbG9hZChlKSx0aGlzLnVwbG9hZGVkPSEwO31kZXN0cm95KCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlcjIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzMi5kZXN0cm95KCkpO31hZGRGZWF0dXJlKGUsdCxpLHIsbixvPVtdLHMpe2Zvcihjb25zdCBlIG9mIHpmKHQsNTAwKSl7bGV0IHQ9MDtmb3IoY29uc3QgaSBvZiBlKXQrPWkubGVuZ3RoO2NvbnN0IGk9dGhpcy5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCh0LHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5KSxyPWkudmVydGV4TGVuZ3RoLG49W10sbz1bXTtmb3IoY29uc3QgdCBvZiBlKXtpZigwPT09dC5sZW5ndGgpY29udGludWU7dCE9PWVbMF0mJm8ucHVzaChuLmxlbmd0aC8yKTtjb25zdCBpPXRoaXMuc2VnbWVudHMyLnByZXBhcmVTZWdtZW50KHQubGVuZ3RoLHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5Mikscj1pLnZlcnRleExlbmd0aDt0aGlzLmxheW91dFZlcnRleEFycmF5LmVtcGxhY2VCYWNrKHRbMF0ueCx0WzBdLnkpLHRoaXMuaW5kZXhBcnJheTIuZW1wbGFjZUJhY2socit0Lmxlbmd0aC0xLHIpLG4ucHVzaCh0WzBdLngpLG4ucHVzaCh0WzBdLnkpO2ZvcihsZXQgZT0xO2U8dC5sZW5ndGg7ZSsrKXRoaXMubGF5b3V0VmVydGV4QXJyYXkuZW1wbGFjZUJhY2sodFtlXS54LHRbZV0ueSksdGhpcy5pbmRleEFycmF5Mi5lbXBsYWNlQmFjayhyK2UtMSxyK2UpLG4ucHVzaCh0W2VdLngpLG4ucHVzaCh0W2VdLnkpO2kudmVydGV4TGVuZ3RoKz10Lmxlbmd0aCxpLnByaW1pdGl2ZUxlbmd0aCs9dC5sZW5ndGg7fWNvbnN0IHM9Q2YobixvKTtmb3IobGV0IGU9MDtlPHMubGVuZ3RoO2UrPTMpdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKHIrc1tlXSxyK3NbZSsxXSxyK3NbZSsyXSk7aS52ZXJ0ZXhMZW5ndGgrPXQsaS5wcmltaXRpdmVMZW5ndGgrPXMubGVuZ3RoLzM7fXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgsZSxpLG4sbyxyLHMpO319SXMoTGYsXCJGaWxsQnVja2V0XCIse29taXQ6W1wibGF5ZXJzXCIsXCJwYXR0ZXJuRmVhdHVyZXNcIl19KTtjb25zdCBrZj1uZXcgZGEoe1wiZmlsbC1zb3J0LWtleVwiOm5ldyBoYShDdC5sYXlvdXRfZmlsbFtcImZpbGwtc29ydC1rZXlcIl0pLHZpc2liaWxpdHk6bmV3IGNhKEN0LmxheW91dF9maWxsLnZpc2liaWxpdHkpfSk7dmFyIE9mPXtwYWludDpuZXcgZGEoe1wiZmlsbC1hbnRpYWxpYXNcIjpuZXcgY2EoQ3QucGFpbnRfZmlsbFtcImZpbGwtYW50aWFsaWFzXCJdKSxcImZpbGwtb3BhY2l0eVwiOm5ldyBoYShDdC5wYWludF9maWxsW1wiZmlsbC1vcGFjaXR5XCJdKSxcImZpbGwtY29sb3JcIjpuZXcgaGEoQ3QucGFpbnRfZmlsbFtcImZpbGwtY29sb3JcIl0pLFwiZmlsbC1vdXRsaW5lLWNvbG9yXCI6bmV3IGhhKEN0LnBhaW50X2ZpbGxbXCJmaWxsLW91dGxpbmUtY29sb3JcIl0pLFwiZmlsbC10cmFuc2xhdGVcIjpuZXcgY2EoQ3QucGFpbnRfZmlsbFtcImZpbGwtdHJhbnNsYXRlXCJdKSxcImZpbGwtdHJhbnNsYXRlLWFuY2hvclwiOm5ldyBjYShDdC5wYWludF9maWxsW1wiZmlsbC10cmFuc2xhdGUtYW5jaG9yXCJdKSxcImZpbGwtcGF0dGVyblwiOm5ldyBoYShDdC5wYWludF9maWxsW1wiZmlsbC1wYXR0ZXJuXCJdKSxcImZpbGwtZW1pc3NpdmUtc3RyZW5ndGhcIjpuZXcgY2EoQ3QucGFpbnRfZmlsbFtcImZpbGwtZW1pc3NpdmUtc3RyZW5ndGhcIl0pfSksbGF5b3V0OmtmfTtjb25zdCBCZj1iYShbe25hbWU6XCJhX3Bvc19ub3JtYWxfZWRcIixjb21wb25lbnRzOjQsdHlwZTpcIkludDE2XCJ9XSksRmY9YmEoW3tuYW1lOlwiYV9wb3NfZW5kXCIsY29tcG9uZW50czo0LHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfYW5ndWxhcl9vZmZzZXRfZmFjdG9yXCIsY29tcG9uZW50czoxLHR5cGU6XCJJbnQxNlwifV0pLE5mPWJhKFt7bmFtZTpcImFfY2VudHJvaWRfcG9zXCIsY29tcG9uZW50czoyLHR5cGU6XCJVaW50MTZcIn1dKSxVZj1iYShbe25hbWU6XCJhX2hpZGRlbl9ieV9sYW5kbWFya1wiLGNvbXBvbmVudHM6MSx0eXBlOlwiVWludDhcIn1dKSxWZj1iYShbe25hbWU6XCJhX3Bvc18zXCIsY29tcG9uZW50czozLHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfcG9zX25vcm1hbF8zXCIsY29tcG9uZW50czozLHR5cGU6XCJJbnQxNlwifV0pLHttZW1iZXJzOmpmfT1CZjt2YXIgR2Y9e30scWY9XyxaZj0kZjtmdW5jdGlvbiAkZihlLHQsaSxyLG4pe3RoaXMucHJvcGVydGllcz17fSx0aGlzLmV4dGVudD1pLHRoaXMudHlwZT0wLHRoaXMuX3BiZj1lLHRoaXMuX2dlb21ldHJ5PS0xLHRoaXMuX2tleXM9cix0aGlzLl92YWx1ZXM9bixlLnJlYWRGaWVsZHMoSGYsdGhpcyx0KTt9ZnVuY3Rpb24gSGYoZSx0LGkpezE9PWU/dC5pZD1pLnJlYWRWYXJpbnQoKToyPT1lP2Z1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPWUucmVhZFZhcmludCgpK2UucG9zO2UucG9zPGk7KXt2YXIgcj10Ll9rZXlzW2UucmVhZFZhcmludCgpXSxuPXQuX3ZhbHVlc1tlLnJlYWRWYXJpbnQoKV07dC5wcm9wZXJ0aWVzW3JdPW47fX0oaSx0KTozPT1lP3QudHlwZT1pLnJlYWRWYXJpbnQoKTo0PT1lJiYodC5fZ2VvbWV0cnk9aS5wb3MpO31mdW5jdGlvbiBXZihlKXtmb3IodmFyIHQsaSxyPTAsbj0wLG89ZS5sZW5ndGgscz1vLTE7bjxvO3M9bisrKXIrPSgoaT1lW3NdKS54LSh0PWVbbl0pLngpKih0LnkraS55KTtyZXR1cm4gcn0kZi50eXBlcz1bXCJVbmtub3duXCIsXCJQb2ludFwiLFwiTGluZVN0cmluZ1wiLFwiUG9seWdvblwiXSwkZi5wcm90b3R5cGUubG9hZEdlb21ldHJ5PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fcGJmO2UucG9zPXRoaXMuX2dlb21ldHJ5O2Zvcih2YXIgdCxpPWUucmVhZFZhcmludCgpK2UucG9zLHI9MSxuPTAsbz0wLHM9MCxhPVtdO2UucG9zPGk7KXtpZihuPD0wKXt2YXIgbD1lLnJlYWRWYXJpbnQoKTtyPTcmbCxuPWw+PjM7fWlmKG4tLSwxPT09cnx8Mj09PXIpbys9ZS5yZWFkU1ZhcmludCgpLHMrPWUucmVhZFNWYXJpbnQoKSwxPT09ciYmKHQmJmEucHVzaCh0KSx0PVtdKSx0LnB1c2gobmV3IHFmKG8scykpO2Vsc2Uge2lmKDchPT1yKXRocm93IG5ldyBFcnJvcihcInVua25vd24gY29tbWFuZCBcIityKTt0JiZ0LnB1c2godFswXS5jbG9uZSgpKTt9fXJldHVybiB0JiZhLnB1c2godCksYX0sJGYucHJvdG90eXBlLmJib3g9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9wYmY7ZS5wb3M9dGhpcy5fZ2VvbWV0cnk7Zm9yKHZhciB0PWUucmVhZFZhcmludCgpK2UucG9zLGk9MSxyPTAsbj0wLG89MCxzPTEvMCxhPS0xLzAsbD0xLzAsYz0tMS8wO2UucG9zPHQ7KXtpZihyPD0wKXt2YXIgaD1lLnJlYWRWYXJpbnQoKTtpPTcmaCxyPWg+PjM7fWlmKHItLSwxPT09aXx8Mj09PWkpKG4rPWUucmVhZFNWYXJpbnQoKSk8cyYmKHM9biksbj5hJiYoYT1uKSwobys9ZS5yZWFkU1ZhcmludCgpKTxsJiYobD1vKSxvPmMmJihjPW8pO2Vsc2UgaWYoNyE9PWkpdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBjb21tYW5kIFwiK2kpfXJldHVybiBbcyxsLGEsY119LCRmLnByb3RvdHlwZS50b0dlb0pTT049ZnVuY3Rpb24oZSx0LGkpe3ZhciByLG4sbz10aGlzLmV4dGVudCpNYXRoLnBvdygyLGkpLHM9dGhpcy5leHRlbnQqZSxhPXRoaXMuZXh0ZW50KnQsbD10aGlzLmxvYWRHZW9tZXRyeSgpLGM9JGYudHlwZXNbdGhpcy50eXBlXTtmdW5jdGlvbiBoKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgaT1lW3RdO2VbdF09WzM2MCooaS54K3MpL28tMTgwLDM2MC9NYXRoLlBJKk1hdGguYXRhbihNYXRoLmV4cCgoMTgwLTM2MCooaS55K2EpL28pKk1hdGguUEkvMTgwKSktOTBdO319c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSAxOnZhciB1PVtdO2ZvcihyPTA7cjxsLmxlbmd0aDtyKyspdVtyXT1sW3JdWzBdO2gobD11KTticmVhaztjYXNlIDI6Zm9yKHI9MDtyPGwubGVuZ3RoO3IrKyloKGxbcl0pO2JyZWFrO2Nhc2UgMzpmb3IobD1mdW5jdGlvbihlKXt2YXIgdD1lLmxlbmd0aDtpZih0PD0xKXJldHVybiBbZV07Zm9yKHZhciBpLHIsbj1bXSxvPTA7bzx0O28rKyl7dmFyIHM9V2YoZVtvXSk7MCE9PXMmJih2b2lkIDA9PT1yJiYocj1zPDApLHI9PT1zPDA/KGkmJm4ucHVzaChpKSxpPVtlW29dXSk6aS5wdXNoKGVbb10pKTt9cmV0dXJuIGkmJm4ucHVzaChpKSxufShsKSxyPTA7cjxsLmxlbmd0aDtyKyspZm9yKG49MDtuPGxbcl0ubGVuZ3RoO24rKyloKGxbcl1bbl0pO30xPT09bC5sZW5ndGg/bD1sWzBdOmM9XCJNdWx0aVwiK2M7dmFyIGQ9e3R5cGU6XCJGZWF0dXJlXCIsZ2VvbWV0cnk6e3R5cGU6Yyxjb29yZGluYXRlczpsfSxwcm9wZXJ0aWVzOnRoaXMucHJvcGVydGllc307cmV0dXJuIFwiaWRcImluIHRoaXMmJihkLmlkPXRoaXMuaWQpLGR9O3ZhciBYZj1aZixZZj1LZjtmdW5jdGlvbiBLZihlLHQpe3RoaXMudmVyc2lvbj0xLHRoaXMubmFtZT1udWxsLHRoaXMuZXh0ZW50PTQwOTYsdGhpcy5sZW5ndGg9MCx0aGlzLl9wYmY9ZSx0aGlzLl9rZXlzPVtdLHRoaXMuX3ZhbHVlcz1bXSx0aGlzLl9mZWF0dXJlcz1bXSxlLnJlYWRGaWVsZHMoSmYsdGhpcyx0KSx0aGlzLmxlbmd0aD10aGlzLl9mZWF0dXJlcy5sZW5ndGg7fWZ1bmN0aW9uIEpmKGUsdCxpKXsxNT09PWU/dC52ZXJzaW9uPWkucmVhZFZhcmludCgpOjE9PT1lP3QubmFtZT1pLnJlYWRTdHJpbmcoKTo1PT09ZT90LmV4dGVudD1pLnJlYWRWYXJpbnQoKToyPT09ZT90Ll9mZWF0dXJlcy5wdXNoKGkucG9zKTozPT09ZT90Ll9rZXlzLnB1c2goaS5yZWFkU3RyaW5nKCkpOjQ9PT1lJiZ0Ll92YWx1ZXMucHVzaChmdW5jdGlvbihlKXtmb3IodmFyIHQ9bnVsbCxpPWUucmVhZFZhcmludCgpK2UucG9zO2UucG9zPGk7KXt2YXIgcj1lLnJlYWRWYXJpbnQoKT4+Mzt0PTE9PT1yP2UucmVhZFN0cmluZygpOjI9PT1yP2UucmVhZEZsb2F0KCk6Mz09PXI/ZS5yZWFkRG91YmxlKCk6ND09PXI/ZS5yZWFkVmFyaW50NjQoKTo1PT09cj9lLnJlYWRWYXJpbnQoKTo2PT09cj9lLnJlYWRTVmFyaW50KCk6Nz09PXI/ZS5yZWFkQm9vbGVhbigpOm51bGw7fXJldHVybiB0fShpKSk7fUtmLnByb3RvdHlwZS5mZWF0dXJlPWZ1bmN0aW9uKGUpe2lmKGU8MHx8ZT49dGhpcy5fZmVhdHVyZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcImZlYXR1cmUgaW5kZXggb3V0IG9mIGJvdW5kc1wiKTt0aGlzLl9wYmYucG9zPXRoaXMuX2ZlYXR1cmVzW2VdO3ZhciB0PXRoaXMuX3BiZi5yZWFkVmFyaW50KCkrdGhpcy5fcGJmLnBvcztyZXR1cm4gbmV3IFhmKHRoaXMuX3BiZix0LHRoaXMuZXh0ZW50LHRoaXMuX2tleXMsdGhpcy5fdmFsdWVzKX07dmFyIFFmPVlmO2Z1bmN0aW9uIGVtKGUsdCxpKXtpZigzPT09ZSl7dmFyIHI9bmV3IFFmKGksaS5yZWFkVmFyaW50KCkraS5wb3MpO3IubGVuZ3RoJiYodFtyLm5hbWVdPXIpO319dmFyIHRtPUdmLlZlY3RvclRpbGU9ZnVuY3Rpb24oZSx0KXt0aGlzLmxheWVycz1lLnJlYWRGaWVsZHMoZW0se30sdCk7fSxpbT1HZi5WZWN0b3JUaWxlRmVhdHVyZT1aZjtmdW5jdGlvbiBybShlLHQsaSxyKXtjb25zdCBuPVtdLG89MD09PXI/KGUsdCxpLHIsbixvKT0+e2UucHVzaChuZXcgeShvLGkrKG8tdCkvKHItdCkqKG4taSkpKTt9OihlLHQsaSxyLG4sbyk9PntlLnB1c2gobmV3IHkodCsoby1pKS8obi1pKSooci10KSxvKSk7fTtmb3IoY29uc3QgcyBvZiBlKXtjb25zdCBlPVtdO2Zvcihjb25zdCBuIG9mIHMpe2lmKG4ubGVuZ3RoPD0yKWNvbnRpbnVlO2NvbnN0IHM9W107Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aC0xO2UrKyl7Y29uc3QgYT1uW2VdLngsbD1uW2VdLnksYz1uW2UrMV0ueCxoPW5bZSsxXS55LHU9MD09PXI/YTpsLGQ9MD09PXI/YzpoO3U8dD9kPnQmJm8ocyxhLGwsYyxoLHQpOnU+aT9kPGkmJm8ocyxhLGwsYyxoLGkpOnMucHVzaChuW2VdKSxkPHQmJnU+PXQmJm8ocyxhLGwsYyxoLHQpLGQ+aSYmdTw9aSYmbyhzLGEsbCxjLGgsaSk7fWxldCBhPW5bbi5sZW5ndGgtMV07Y29uc3QgbD0wPT09cj9hLng6YS55O2w+PXQmJmw8PWkmJnMucHVzaChhKSxzLmxlbmd0aCYmKGE9c1tzLmxlbmd0aC0xXSxzWzBdLng9PT1hLngmJnNbMF0ueT09PWEueXx8cy5wdXNoKHNbMF0pLGUucHVzaChzKSk7fWUubGVuZ3RoJiZuLnB1c2goZSk7fXJldHVybiBufUdmLlZlY3RvclRpbGVMYXllcj1ZZjtjbGFzcyBubXtjb25zdHJ1Y3RvcihlKXt0aGlzLl9zdHJpbmdUb051bWJlcj17fSx0aGlzLl9udW1iZXJUb1N0cmluZz1bXTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3QgaT1lW3RdO3RoaXMuX3N0cmluZ1RvTnVtYmVyW2ldPXQsdGhpcy5fbnVtYmVyVG9TdHJpbmdbdF09aTt9fWVuY29kZShlKXtyZXR1cm4gdGhpcy5fc3RyaW5nVG9OdW1iZXJbZV19ZGVjb2RlKGUpe3JldHVybiB0aGlzLl9udW1iZXJUb1N0cmluZ1tlXX19dmFyIG9tPXtcbi8qISBpZWVlNzU0LiBCU0QtMy1DbGF1c2UgTGljZW5zZS4gRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnL29wZW5zb3VyY2U+ICovXG5yZWFkOmZ1bmN0aW9uKGUsdCxpLHIsbil7dmFyIG8scyxhPTgqbi1yLTEsbD0oMTw8YSktMSxjPWw+PjEsaD0tNyx1PWk/bi0xOjAsZD1pPy0xOjEscD1lW3QrdV07Zm9yKHUrPWQsbz1wJigxPDwtaCktMSxwPj49LWgsaCs9YTtoPjA7bz0yNTYqbytlW3QrdV0sdSs9ZCxoLT04KTtmb3Iocz1vJigxPDwtaCktMSxvPj49LWgsaCs9cjtoPjA7cz0yNTYqcytlW3QrdV0sdSs9ZCxoLT04KTtpZigwPT09bylvPTEtYztlbHNlIHtpZihvPT09bClyZXR1cm4gcz9OYU46MS8wKihwPy0xOjEpO3MrPU1hdGgucG93KDIsciksby09Yzt9cmV0dXJuIChwPy0xOjEpKnMqTWF0aC5wb3coMixvLXIpfSx3cml0ZTpmdW5jdGlvbihlLHQsaSxyLG4sbyl7dmFyIHMsYSxsLGM9OCpvLW4tMSxoPSgxPDxjKS0xLHU9aD4+MSxkPTIzPT09bj9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAscD1yPzA6by0xLGY9cj8xOi0xLG09dDwwfHwwPT09dCYmMS90PDA/MTowO2Zvcih0PU1hdGguYWJzKHQpLGlzTmFOKHQpfHx0PT09MS8wPyhhPWlzTmFOKHQpPzE6MCxzPWgpOihzPU1hdGguZmxvb3IoTWF0aC5sb2codCkvTWF0aC5MTjIpLHQqKGw9TWF0aC5wb3coMiwtcykpPDEmJihzLS0sbCo9MiksKHQrPXMrdT49MT9kL2w6ZCpNYXRoLnBvdygyLDEtdSkpKmw+PTImJihzKyssbC89Mikscyt1Pj1oPyhhPTAscz1oKTpzK3U+PTE/KGE9KHQqbC0xKSpNYXRoLnBvdygyLG4pLHMrPXUpOihhPXQqTWF0aC5wb3coMix1LTEpKk1hdGgucG93KDIsbikscz0wKSk7bj49ODtlW2krcF09MjU1JmEscCs9ZixhLz0yNTYsbi09OCk7Zm9yKHM9czw8bnxhLGMrPW47Yz4wO2VbaStwXT0yNTUmcyxwKz1mLHMvPTI1NixjLT04KTtlW2krcC1mXXw9MTI4Km07fX0sc209bG0sYW09b207ZnVuY3Rpb24gbG0oZSl7dGhpcy5idWY9QXJyYXlCdWZmZXIuaXNWaWV3JiZBcnJheUJ1ZmZlci5pc1ZpZXcoZSk/ZTpuZXcgVWludDhBcnJheShlfHwwKSx0aGlzLnBvcz0wLHRoaXMudHlwZT0wLHRoaXMubGVuZ3RoPXRoaXMuYnVmLmxlbmd0aDt9bG0uVmFyaW50PTAsbG0uRml4ZWQ2ND0xLGxtLkJ5dGVzPTIsbG0uRml4ZWQzMj01O3ZhciBjbT00Mjk0OTY3Mjk2LGhtPTEvY20sdW09XCJ1bmRlZmluZWRcIj09dHlwZW9mIFRleHREZWNvZGVyP251bGw6bmV3IFRleHREZWNvZGVyKFwidXRmOFwiKTtmdW5jdGlvbiBkbShlKXtyZXR1cm4gZS50eXBlPT09bG0uQnl0ZXM/ZS5yZWFkVmFyaW50KCkrZS5wb3M6ZS5wb3MrMX1mdW5jdGlvbiBwbShlLHQsaSl7cmV0dXJuIGk/NDI5NDk2NzI5Nip0KyhlPj4+MCk6NDI5NDk2NzI5NioodD4+PjApKyhlPj4+MCl9ZnVuY3Rpb24gZm0oZSx0LGkpe3ZhciByPXQ8PTE2MzgzPzE6dDw9MjA5NzE1MT8yOnQ8PTI2ODQzNTQ1NT8zOk1hdGguZmxvb3IoTWF0aC5sb2codCkvKDcqTWF0aC5MTjIpKTtpLnJlYWxsb2Mocik7Zm9yKHZhciBuPWkucG9zLTE7bj49ZTtuLS0paS5idWZbbityXT1pLmJ1ZltuXTt9ZnVuY3Rpb24gbW0oZSx0KXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl0LndyaXRlVmFyaW50KGVbaV0pO31mdW5jdGlvbiBfbShlLHQpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXQud3JpdGVTVmFyaW50KGVbaV0pO31mdW5jdGlvbiBnbShlLHQpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXQud3JpdGVGbG9hdChlW2ldKTt9ZnVuY3Rpb24geW0oZSx0KXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl0LndyaXRlRG91YmxlKGVbaV0pO31mdW5jdGlvbiB4bShlLHQpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXQud3JpdGVCb29sZWFuKGVbaV0pO31mdW5jdGlvbiB2bShlLHQpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXQud3JpdGVGaXhlZDMyKGVbaV0pO31mdW5jdGlvbiBibShlLHQpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXQud3JpdGVTRml4ZWQzMihlW2ldKTt9ZnVuY3Rpb24gd20oZSx0KXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl0LndyaXRlRml4ZWQ2NChlW2ldKTt9ZnVuY3Rpb24gVG0oZSx0KXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl0LndyaXRlU0ZpeGVkNjQoZVtpXSk7fWZ1bmN0aW9uIEVtKGUsdCl7cmV0dXJuIChlW3RdfGVbdCsxXTw8OHxlW3QrMl08PDE2KSsxNjc3NzIxNiplW3QrM119ZnVuY3Rpb24gTW0oZSx0LGkpe2VbaV09dCxlW2krMV09dD4+PjgsZVtpKzJdPXQ+Pj4xNixlW2krM109dD4+PjI0O31mdW5jdGlvbiBBbShlLHQpe3JldHVybiAoZVt0XXxlW3QrMV08PDh8ZVt0KzJdPDwxNikrKGVbdCszXTw8MjQpfWxtLnByb3RvdHlwZT17ZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuYnVmPW51bGw7fSxyZWFkRmllbGRzOmZ1bmN0aW9uKGUsdCxpKXtmb3IoaT1pfHx0aGlzLmxlbmd0aDt0aGlzLnBvczxpOyl7dmFyIHI9dGhpcy5yZWFkVmFyaW50KCksbj1yPj4zLG89dGhpcy5wb3M7dGhpcy50eXBlPTcmcixlKG4sdCx0aGlzKSx0aGlzLnBvcz09PW8mJnRoaXMuc2tpcChyKTt9cmV0dXJuIHR9LHJlYWRNZXNzYWdlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMucmVhZEZpZWxkcyhlLHQsdGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3MpfSxyZWFkRml4ZWQzMjpmdW5jdGlvbigpe3ZhciBlPUVtKHRoaXMuYnVmLHRoaXMucG9zKTtyZXR1cm4gdGhpcy5wb3MrPTQsZX0scmVhZFNGaXhlZDMyOmZ1bmN0aW9uKCl7dmFyIGU9QW0odGhpcy5idWYsdGhpcy5wb3MpO3JldHVybiB0aGlzLnBvcys9NCxlfSxyZWFkRml4ZWQ2NDpmdW5jdGlvbigpe3ZhciBlPUVtKHRoaXMuYnVmLHRoaXMucG9zKStFbSh0aGlzLmJ1Zix0aGlzLnBvcys0KSpjbTtyZXR1cm4gdGhpcy5wb3MrPTgsZX0scmVhZFNGaXhlZDY0OmZ1bmN0aW9uKCl7dmFyIGU9RW0odGhpcy5idWYsdGhpcy5wb3MpK0FtKHRoaXMuYnVmLHRoaXMucG9zKzQpKmNtO3JldHVybiB0aGlzLnBvcys9OCxlfSxyZWFkRmxvYXQ6ZnVuY3Rpb24oKXt2YXIgZT1hbS5yZWFkKHRoaXMuYnVmLHRoaXMucG9zLCEwLDIzLDQpO3JldHVybiB0aGlzLnBvcys9NCxlfSxyZWFkRG91YmxlOmZ1bmN0aW9uKCl7dmFyIGU9YW0ucmVhZCh0aGlzLmJ1Zix0aGlzLnBvcywhMCw1Miw4KTtyZXR1cm4gdGhpcy5wb3MrPTgsZX0scmVhZFZhcmludDpmdW5jdGlvbihlKXt2YXIgdCxpLHI9dGhpcy5idWY7cmV0dXJuIHQ9MTI3JihpPXJbdGhpcy5wb3MrK10pLGk8MTI4P3Q6KHR8PSgxMjcmKGk9clt0aGlzLnBvcysrXSkpPDw3LGk8MTI4P3Q6KHR8PSgxMjcmKGk9clt0aGlzLnBvcysrXSkpPDwxNCxpPDEyOD90Oih0fD0oMTI3JihpPXJbdGhpcy5wb3MrK10pKTw8MjEsaTwxMjg/dDpmdW5jdGlvbihlLHQsaSl7dmFyIHIsbixvPWkuYnVmO2lmKHI9KDExMiYobj1vW2kucG9zKytdKSk+PjQsbjwxMjgpcmV0dXJuIHBtKGUscix0KTtpZihyfD0oMTI3JihuPW9baS5wb3MrK10pKTw8MyxuPDEyOClyZXR1cm4gcG0oZSxyLHQpO2lmKHJ8PSgxMjcmKG49b1tpLnBvcysrXSkpPDwxMCxuPDEyOClyZXR1cm4gcG0oZSxyLHQpO2lmKHJ8PSgxMjcmKG49b1tpLnBvcysrXSkpPDwxNyxuPDEyOClyZXR1cm4gcG0oZSxyLHQpO2lmKHJ8PSgxMjcmKG49b1tpLnBvcysrXSkpPDwyNCxuPDEyOClyZXR1cm4gcG0oZSxyLHQpO2lmKHJ8PSgxJihuPW9baS5wb3MrK10pKTw8MzEsbjwxMjgpcmV0dXJuIHBtKGUscix0KTt0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCB2YXJpbnQgbm90IG1vcmUgdGhhbiAxMCBieXRlc1wiKX0odHw9KDE1JihpPXJbdGhpcy5wb3NdKSk8PDI4LGUsdGhpcykpKSl9LHJlYWRWYXJpbnQ2NDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlYWRWYXJpbnQoITApfSxyZWFkU1ZhcmludDpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVhZFZhcmludCgpO3JldHVybiBlJTI9PTE/KGUrMSkvLTI6ZS8yfSxyZWFkQm9vbGVhbjpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKHRoaXMucmVhZFZhcmludCgpKX0scmVhZFN0cmluZzpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVhZFZhcmludCgpK3RoaXMucG9zLHQ9dGhpcy5wb3M7cmV0dXJuIHRoaXMucG9zPWUsZS10Pj0xMiYmdW0/ZnVuY3Rpb24oZSx0LGkpe3JldHVybiB1bS5kZWNvZGUoZS5zdWJhcnJheSh0LGkpKX0odGhpcy5idWYsdCxlKTpmdW5jdGlvbihlLHQsaSl7Zm9yKHZhciByPVwiXCIsbj10O248aTspe3ZhciBvLHMsYSxsPWVbbl0sYz1udWxsLGg9bD4yMzk/NDpsPjIyMz8zOmw+MTkxPzI6MTtpZihuK2g+aSlicmVhazsxPT09aD9sPDEyOCYmKGM9bCk6Mj09PWg/MTI4PT0oMTkyJihvPWVbbisxXSkpJiYoYz0oMzEmbCk8PDZ8NjMmbyk8PTEyNyYmKGM9bnVsbCk6Mz09PWg/KHM9ZVtuKzJdLDEyOD09KDE5MiYobz1lW24rMV0pKSYmMTI4PT0oMTkyJnMpJiYoKGM9KDE1JmwpPDwxMnwoNjMmbyk8PDZ8NjMmcyk8PTIwNDd8fGM+PTU1Mjk2JiZjPD01NzM0MykmJihjPW51bGwpKTo0PT09aCYmKHM9ZVtuKzJdLGE9ZVtuKzNdLDEyOD09KDE5MiYobz1lW24rMV0pKSYmMTI4PT0oMTkyJnMpJiYxMjg9PSgxOTImYSkmJigoYz0oMTUmbCk8PDE4fCg2MyZvKTw8MTJ8KDYzJnMpPDw2fDYzJmEpPD02NTUzNXx8Yz49MTExNDExMikmJihjPW51bGwpKSxudWxsPT09Yz8oYz02NTUzMyxoPTEpOmM+NjU1MzUmJihjLT02NTUzNixyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGM+Pj4xMCYxMDIzfDU1Mjk2KSxjPTU2MzIwfDEwMjMmYykscis9U3RyaW5nLmZyb21DaGFyQ29kZShjKSxuKz1oO31yZXR1cm4gcn0odGhpcy5idWYsdCxlKX0scmVhZEJ5dGVzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3MsdD10aGlzLmJ1Zi5zdWJhcnJheSh0aGlzLnBvcyxlKTtyZXR1cm4gdGhpcy5wb3M9ZSx0fSxyZWFkUGFja2VkVmFyaW50OmZ1bmN0aW9uKGUsdCl7aWYodGhpcy50eXBlIT09bG0uQnl0ZXMpcmV0dXJuIGUucHVzaCh0aGlzLnJlYWRWYXJpbnQodCkpO3ZhciBpPWRtKHRoaXMpO2ZvcihlPWV8fFtdO3RoaXMucG9zPGk7KWUucHVzaCh0aGlzLnJlYWRWYXJpbnQodCkpO3JldHVybiBlfSxyZWFkUGFja2VkU1ZhcmludDpmdW5jdGlvbihlKXtpZih0aGlzLnR5cGUhPT1sbS5CeXRlcylyZXR1cm4gZS5wdXNoKHRoaXMucmVhZFNWYXJpbnQoKSk7dmFyIHQ9ZG0odGhpcyk7Zm9yKGU9ZXx8W107dGhpcy5wb3M8dDspZS5wdXNoKHRoaXMucmVhZFNWYXJpbnQoKSk7cmV0dXJuIGV9LHJlYWRQYWNrZWRCb29sZWFuOmZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZSE9PWxtLkJ5dGVzKXJldHVybiBlLnB1c2godGhpcy5yZWFkQm9vbGVhbigpKTt2YXIgdD1kbSh0aGlzKTtmb3IoZT1lfHxbXTt0aGlzLnBvczx0OyllLnB1c2godGhpcy5yZWFkQm9vbGVhbigpKTtyZXR1cm4gZX0scmVhZFBhY2tlZEZsb2F0OmZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZSE9PWxtLkJ5dGVzKXJldHVybiBlLnB1c2godGhpcy5yZWFkRmxvYXQoKSk7dmFyIHQ9ZG0odGhpcyk7Zm9yKGU9ZXx8W107dGhpcy5wb3M8dDspZS5wdXNoKHRoaXMucmVhZEZsb2F0KCkpO3JldHVybiBlfSxyZWFkUGFja2VkRG91YmxlOmZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZSE9PWxtLkJ5dGVzKXJldHVybiBlLnB1c2godGhpcy5yZWFkRG91YmxlKCkpO3ZhciB0PWRtKHRoaXMpO2ZvcihlPWV8fFtdO3RoaXMucG9zPHQ7KWUucHVzaCh0aGlzLnJlYWREb3VibGUoKSk7cmV0dXJuIGV9LHJlYWRQYWNrZWRGaXhlZDMyOmZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZSE9PWxtLkJ5dGVzKXJldHVybiBlLnB1c2godGhpcy5yZWFkRml4ZWQzMigpKTt2YXIgdD1kbSh0aGlzKTtmb3IoZT1lfHxbXTt0aGlzLnBvczx0OyllLnB1c2godGhpcy5yZWFkRml4ZWQzMigpKTtyZXR1cm4gZX0scmVhZFBhY2tlZFNGaXhlZDMyOmZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZSE9PWxtLkJ5dGVzKXJldHVybiBlLnB1c2godGhpcy5yZWFkU0ZpeGVkMzIoKSk7dmFyIHQ9ZG0odGhpcyk7Zm9yKGU9ZXx8W107dGhpcy5wb3M8dDspZS5wdXNoKHRoaXMucmVhZFNGaXhlZDMyKCkpO3JldHVybiBlfSxyZWFkUGFja2VkRml4ZWQ2NDpmdW5jdGlvbihlKXtpZih0aGlzLnR5cGUhPT1sbS5CeXRlcylyZXR1cm4gZS5wdXNoKHRoaXMucmVhZEZpeGVkNjQoKSk7dmFyIHQ9ZG0odGhpcyk7Zm9yKGU9ZXx8W107dGhpcy5wb3M8dDspZS5wdXNoKHRoaXMucmVhZEZpeGVkNjQoKSk7cmV0dXJuIGV9LHJlYWRQYWNrZWRTRml4ZWQ2NDpmdW5jdGlvbihlKXtpZih0aGlzLnR5cGUhPT1sbS5CeXRlcylyZXR1cm4gZS5wdXNoKHRoaXMucmVhZFNGaXhlZDY0KCkpO3ZhciB0PWRtKHRoaXMpO2ZvcihlPWV8fFtdO3RoaXMucG9zPHQ7KWUucHVzaCh0aGlzLnJlYWRTRml4ZWQ2NCgpKTtyZXR1cm4gZX0sc2tpcDpmdW5jdGlvbihlKXt2YXIgdD03JmU7aWYodD09PWxtLlZhcmludClmb3IoO3RoaXMuYnVmW3RoaXMucG9zKytdPjEyNzspO2Vsc2UgaWYodD09PWxtLkJ5dGVzKXRoaXMucG9zPXRoaXMucmVhZFZhcmludCgpK3RoaXMucG9zO2Vsc2UgaWYodD09PWxtLkZpeGVkMzIpdGhpcy5wb3MrPTQ7ZWxzZSB7aWYodCE9PWxtLkZpeGVkNjQpdGhyb3cgbmV3IEVycm9yKFwiVW5pbXBsZW1lbnRlZCB0eXBlOiBcIit0KTt0aGlzLnBvcys9ODt9fSx3cml0ZVRhZzpmdW5jdGlvbihlLHQpe3RoaXMud3JpdGVWYXJpbnQoZTw8M3x0KTt9LHJlYWxsb2M6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMubGVuZ3RofHwxNjt0PHRoaXMucG9zK2U7KXQqPTI7aWYodCE9PXRoaXMubGVuZ3RoKXt2YXIgaT1uZXcgVWludDhBcnJheSh0KTtpLnNldCh0aGlzLmJ1ZiksdGhpcy5idWY9aSx0aGlzLmxlbmd0aD10O319LGZpbmlzaDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aD10aGlzLnBvcyx0aGlzLnBvcz0wLHRoaXMuYnVmLnN1YmFycmF5KDAsdGhpcy5sZW5ndGgpfSx3cml0ZUZpeGVkMzI6ZnVuY3Rpb24oZSl7dGhpcy5yZWFsbG9jKDQpLE1tKHRoaXMuYnVmLGUsdGhpcy5wb3MpLHRoaXMucG9zKz00O30sd3JpdGVTRml4ZWQzMjpmdW5jdGlvbihlKXt0aGlzLnJlYWxsb2MoNCksTW0odGhpcy5idWYsZSx0aGlzLnBvcyksdGhpcy5wb3MrPTQ7fSx3cml0ZUZpeGVkNjQ6ZnVuY3Rpb24oZSl7dGhpcy5yZWFsbG9jKDgpLE1tKHRoaXMuYnVmLC0xJmUsdGhpcy5wb3MpLE1tKHRoaXMuYnVmLE1hdGguZmxvb3IoZSpobSksdGhpcy5wb3MrNCksdGhpcy5wb3MrPTg7fSx3cml0ZVNGaXhlZDY0OmZ1bmN0aW9uKGUpe3RoaXMucmVhbGxvYyg4KSxNbSh0aGlzLmJ1ZiwtMSZlLHRoaXMucG9zKSxNbSh0aGlzLmJ1ZixNYXRoLmZsb29yKGUqaG0pLHRoaXMucG9zKzQpLHRoaXMucG9zKz04O30sd3JpdGVWYXJpbnQ6ZnVuY3Rpb24oZSl7KGU9K2V8fDApPjI2ODQzNTQ1NXx8ZTwwP2Z1bmN0aW9uKGUsdCl7dmFyIGkscjtpZihlPj0wPyhpPWUlNDI5NDk2NzI5NnwwLHI9ZS80Mjk0OTY3Mjk2fDApOihyPX4oLWUvNDI5NDk2NzI5NiksNDI5NDk2NzI5NV4oaT1+KC1lJTQyOTQ5NjcyOTYpKT9pPWkrMXwwOihpPTAscj1yKzF8MCkpLGU+PTB4MTAwMDAwMDAwMDAwMDAwMDB8fGU8LTB4MTAwMDAwMDAwMDAwMDAwMDApdGhyb3cgbmV3IEVycm9yKFwiR2l2ZW4gdmFyaW50IGRvZXNuJ3QgZml0IGludG8gMTAgYnl0ZXNcIik7dC5yZWFsbG9jKDEwKSxmdW5jdGlvbihlLHQsaSl7aS5idWZbaS5wb3MrK109MTI3JmV8MTI4LGU+Pj49NyxpLmJ1ZltpLnBvcysrXT0xMjcmZXwxMjgsZT4+Pj03LGkuYnVmW2kucG9zKytdPTEyNyZlfDEyOCxlPj4+PTcsaS5idWZbaS5wb3MrK109MTI3JmV8MTI4LGkuYnVmW2kucG9zXT0xMjcmKGU+Pj49Nyk7fShpLDAsdCksZnVuY3Rpb24oZSx0KXt2YXIgaT0oNyZlKTw8NDt0LmJ1Zlt0LnBvcysrXXw9aXwoKGU+Pj49Myk/MTI4OjApLGUmJih0LmJ1Zlt0LnBvcysrXT0xMjcmZXwoKGU+Pj49Nyk/MTI4OjApLGUmJih0LmJ1Zlt0LnBvcysrXT0xMjcmZXwoKGU+Pj49Nyk/MTI4OjApLGUmJih0LmJ1Zlt0LnBvcysrXT0xMjcmZXwoKGU+Pj49Nyk/MTI4OjApLGUmJih0LmJ1Zlt0LnBvcysrXT0xMjcmZXwoKGU+Pj49Nyk/MTI4OjApLGUmJih0LmJ1Zlt0LnBvcysrXT0xMjcmZSkpKSkpO30ocix0KTt9KGUsdGhpcyk6KHRoaXMucmVhbGxvYyg0KSx0aGlzLmJ1Zlt0aGlzLnBvcysrXT0xMjcmZXwoZT4xMjc/MTI4OjApLGU8PTEyN3x8KHRoaXMuYnVmW3RoaXMucG9zKytdPTEyNyYoZT4+Pj03KXwoZT4xMjc/MTI4OjApLGU8PTEyN3x8KHRoaXMuYnVmW3RoaXMucG9zKytdPTEyNyYoZT4+Pj03KXwoZT4xMjc/MTI4OjApLGU8PTEyN3x8KHRoaXMuYnVmW3RoaXMucG9zKytdPWU+Pj43JjEyNykpKSk7fSx3cml0ZVNWYXJpbnQ6ZnVuY3Rpb24oZSl7dGhpcy53cml0ZVZhcmludChlPDA/MiotZS0xOjIqZSk7fSx3cml0ZUJvb2xlYW46ZnVuY3Rpb24oZSl7dGhpcy53cml0ZVZhcmludChCb29sZWFuKGUpKTt9LHdyaXRlU3RyaW5nOmZ1bmN0aW9uKGUpe2U9U3RyaW5nKGUpLHRoaXMucmVhbGxvYyg0KmUubGVuZ3RoKSx0aGlzLnBvcysrO3ZhciB0PXRoaXMucG9zO3RoaXMucG9zPWZ1bmN0aW9uKGUsdCxpKXtmb3IodmFyIHIsbixvPTA7bzx0Lmxlbmd0aDtvKyspe2lmKChyPXQuY2hhckNvZGVBdChvKSk+NTUyOTUmJnI8NTczNDQpe2lmKCFuKXtyPjU2MzE5fHxvKzE9PT10Lmxlbmd0aD8oZVtpKytdPTIzOSxlW2krK109MTkxLGVbaSsrXT0xODkpOm49cjtjb250aW51ZX1pZihyPDU2MzIwKXtlW2krK109MjM5LGVbaSsrXT0xOTEsZVtpKytdPTE4OSxuPXI7Y29udGludWV9cj1uLTU1Mjk2PDwxMHxyLTU2MzIwfDY1NTM2LG49bnVsbDt9ZWxzZSBuJiYoZVtpKytdPTIzOSxlW2krK109MTkxLGVbaSsrXT0xODksbj1udWxsKTtyPDEyOD9lW2krK109cjoocjwyMDQ4P2VbaSsrXT1yPj42fDE5Mjoocjw2NTUzNj9lW2krK109cj4+MTJ8MjI0OihlW2krK109cj4+MTh8MjQwLGVbaSsrXT1yPj4xMiY2M3wxMjgpLGVbaSsrXT1yPj42JjYzfDEyOCksZVtpKytdPTYzJnJ8MTI4KTt9cmV0dXJuIGl9KHRoaXMuYnVmLGUsdGhpcy5wb3MpO3ZhciBpPXRoaXMucG9zLXQ7aT49MTI4JiZmbSh0LGksdGhpcyksdGhpcy5wb3M9dC0xLHRoaXMud3JpdGVWYXJpbnQoaSksdGhpcy5wb3MrPWk7fSx3cml0ZUZsb2F0OmZ1bmN0aW9uKGUpe3RoaXMucmVhbGxvYyg0KSxhbS53cml0ZSh0aGlzLmJ1ZixlLHRoaXMucG9zLCEwLDIzLDQpLHRoaXMucG9zKz00O30sd3JpdGVEb3VibGU6ZnVuY3Rpb24oZSl7dGhpcy5yZWFsbG9jKDgpLGFtLndyaXRlKHRoaXMuYnVmLGUsdGhpcy5wb3MsITAsNTIsOCksdGhpcy5wb3MrPTg7fSx3cml0ZUJ5dGVzOmZ1bmN0aW9uKGUpe3ZhciB0PWUubGVuZ3RoO3RoaXMud3JpdGVWYXJpbnQodCksdGhpcy5yZWFsbG9jKHQpO2Zvcih2YXIgaT0wO2k8dDtpKyspdGhpcy5idWZbdGhpcy5wb3MrK109ZVtpXTt9LHdyaXRlUmF3TWVzc2FnZTpmdW5jdGlvbihlLHQpe3RoaXMucG9zKys7dmFyIGk9dGhpcy5wb3M7ZSh0LHRoaXMpO3ZhciByPXRoaXMucG9zLWk7cj49MTI4JiZmbShpLHIsdGhpcyksdGhpcy5wb3M9aS0xLHRoaXMud3JpdGVWYXJpbnQociksdGhpcy5wb3MrPXI7fSx3cml0ZU1lc3NhZ2U6ZnVuY3Rpb24oZSx0LGkpe3RoaXMud3JpdGVUYWcoZSxsbS5CeXRlcyksdGhpcy53cml0ZVJhd01lc3NhZ2UodCxpKTt9LHdyaXRlUGFja2VkVmFyaW50OmZ1bmN0aW9uKGUsdCl7dC5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKGUsbW0sdCk7fSx3cml0ZVBhY2tlZFNWYXJpbnQ6ZnVuY3Rpb24oZSx0KXt0Lmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UoZSxfbSx0KTt9LHdyaXRlUGFja2VkQm9vbGVhbjpmdW5jdGlvbihlLHQpe3QubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZShlLHhtLHQpO30sd3JpdGVQYWNrZWRGbG9hdDpmdW5jdGlvbihlLHQpe3QubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZShlLGdtLHQpO30sd3JpdGVQYWNrZWREb3VibGU6ZnVuY3Rpb24oZSx0KXt0Lmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UoZSx5bSx0KTt9LHdyaXRlUGFja2VkRml4ZWQzMjpmdW5jdGlvbihlLHQpe3QubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZShlLHZtLHQpO30sd3JpdGVQYWNrZWRTRml4ZWQzMjpmdW5jdGlvbihlLHQpe3QubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZShlLGJtLHQpO30sd3JpdGVQYWNrZWRGaXhlZDY0OmZ1bmN0aW9uKGUsdCl7dC5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKGUsd20sdCk7fSx3cml0ZVBhY2tlZFNGaXhlZDY0OmZ1bmN0aW9uKGUsdCl7dC5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKGUsVG0sdCk7fSx3cml0ZUJ5dGVzRmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVGFnKGUsbG0uQnl0ZXMpLHRoaXMud3JpdGVCeXRlcyh0KTt9LHdyaXRlRml4ZWQzMkZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVRhZyhlLGxtLkZpeGVkMzIpLHRoaXMud3JpdGVGaXhlZDMyKHQpO30sd3JpdGVTRml4ZWQzMkZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVRhZyhlLGxtLkZpeGVkMzIpLHRoaXMud3JpdGVTRml4ZWQzMih0KTt9LHdyaXRlRml4ZWQ2NEZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVRhZyhlLGxtLkZpeGVkNjQpLHRoaXMud3JpdGVGaXhlZDY0KHQpO30sd3JpdGVTRml4ZWQ2NEZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVRhZyhlLGxtLkZpeGVkNjQpLHRoaXMud3JpdGVTRml4ZWQ2NCh0KTt9LHdyaXRlVmFyaW50RmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVGFnKGUsbG0uVmFyaW50KSx0aGlzLndyaXRlVmFyaW50KHQpO30sd3JpdGVTVmFyaW50RmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVGFnKGUsbG0uVmFyaW50KSx0aGlzLndyaXRlU1ZhcmludCh0KTt9LHdyaXRlU3RyaW5nRmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVGFnKGUsbG0uQnl0ZXMpLHRoaXMud3JpdGVTdHJpbmcodCk7fSx3cml0ZUZsb2F0RmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVGFnKGUsbG0uRml4ZWQzMiksdGhpcy53cml0ZUZsb2F0KHQpO30sd3JpdGVEb3VibGVGaWVsZDpmdW5jdGlvbihlLHQpe3RoaXMud3JpdGVUYWcoZSxsbS5GaXhlZDY0KSx0aGlzLndyaXRlRG91YmxlKHQpO30sd3JpdGVCb29sZWFuRmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVmFyaW50RmllbGQoZSxCb29sZWFuKHQpKTt9fTt2YXIgU209ZChzbSk7Y29uc3QgSW09W1widGlsZVwiLFwibGF5ZXJcIixcInNvdXJjZVwiLFwic291cmNlTGF5ZXJcIixcInN0YXRlXCJdO2NsYXNzIENte2NvbnN0cnVjdG9yKGUsdCxpLHIsbil7dGhpcy50eXBlPVwiRmVhdHVyZVwiLHRoaXMuX3ZlY3RvclRpbGVGZWF0dXJlPWUsdGhpcy5fej10LHRoaXMuX3g9aSx0aGlzLl95PXIsdGhpcy5wcm9wZXJ0aWVzPWUucHJvcGVydGllcyx0aGlzLmlkPW47fWdldCBnZW9tZXRyeSgpe3JldHVybiB2b2lkIDA9PT10aGlzLl9nZW9tZXRyeSYmKHRoaXMuX2dlb21ldHJ5PXRoaXMuX3ZlY3RvclRpbGVGZWF0dXJlLnRvR2VvSlNPTih0aGlzLl94LHRoaXMuX3ksdGhpcy5feikuZ2VvbWV0cnkpLHRoaXMuX2dlb21ldHJ5fXNldCBnZW9tZXRyeShlKXt0aGlzLl9nZW9tZXRyeT1lO310b0pTT04oKXtjb25zdCBlPXt0eXBlOlwiRmVhdHVyZVwiLHN0YXRlOnZvaWQgMCxnZW9tZXRyeTp0aGlzLmdlb21ldHJ5LHByb3BlcnRpZXM6dGhpcy5wcm9wZXJ0aWVzfTt2b2lkIDAhPT10aGlzLmlkJiYoZS5pZD10aGlzLmlkKTtmb3IoY29uc3QgdCBvZiBJbSl2b2lkIDAhPT10aGlzW3RdJiYoZVt0XT10aGlzW3RdKTtyZXR1cm4gZX19Y2xhc3Mgem17Y29uc3RydWN0b3IoKXt0aGlzLnN0YXRlPXt9LHRoaXMuc3RhdGVDaGFuZ2VzPXt9LHRoaXMuZGVsZXRlZFN0YXRlcz17fTt9dXBkYXRlU3RhdGUoZSx0LGkpe2NvbnN0IHI9U3RyaW5nKHQpO2lmKHRoaXMuc3RhdGVDaGFuZ2VzW2VdPXRoaXMuc3RhdGVDaGFuZ2VzW2VdfHx7fSx0aGlzLnN0YXRlQ2hhbmdlc1tlXVtyXT10aGlzLnN0YXRlQ2hhbmdlc1tlXVtyXXx8e30sayh0aGlzLnN0YXRlQ2hhbmdlc1tlXVtyXSxpKSxudWxsPT09dGhpcy5kZWxldGVkU3RhdGVzW2VdKXt0aGlzLmRlbGV0ZWRTdGF0ZXNbZV09e307Zm9yKGNvbnN0IHQgaW4gdGhpcy5zdGF0ZVtlXSl0IT09ciYmKHRoaXMuZGVsZXRlZFN0YXRlc1tlXVt0XT1udWxsKTt9ZWxzZSBpZih0aGlzLmRlbGV0ZWRTdGF0ZXNbZV0mJm51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bcl0pe3RoaXMuZGVsZXRlZFN0YXRlc1tlXVtyXT17fTtmb3IoY29uc3QgdCBpbiB0aGlzLnN0YXRlW2VdW3JdKWlbdF18fCh0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bcl1bdF09bnVsbCk7fWVsc2UgZm9yKGNvbnN0IHQgaW4gaSl0aGlzLmRlbGV0ZWRTdGF0ZXNbZV0mJnRoaXMuZGVsZXRlZFN0YXRlc1tlXVtyXSYmbnVsbD09PXRoaXMuZGVsZXRlZFN0YXRlc1tlXVtyXVt0XSYmZGVsZXRlIHRoaXMuZGVsZXRlZFN0YXRlc1tlXVtyXVt0XTt9cmVtb3ZlRmVhdHVyZVN0YXRlKGUsdCxpKXtpZihudWxsPT09dGhpcy5kZWxldGVkU3RhdGVzW2VdKXJldHVybjtjb25zdCByPVN0cmluZyh0KTtpZih0aGlzLmRlbGV0ZWRTdGF0ZXNbZV09dGhpcy5kZWxldGVkU3RhdGVzW2VdfHx7fSxpJiZ2b2lkIDAhPT10KW51bGwhPT10aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bcl0mJih0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bcl09dGhpcy5kZWxldGVkU3RhdGVzW2VdW3JdfHx7fSx0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bcl1baV09bnVsbCk7ZWxzZSBpZih2b2lkIDAhPT10KWlmKHRoaXMuc3RhdGVDaGFuZ2VzW2VdJiZ0aGlzLnN0YXRlQ2hhbmdlc1tlXVtyXSlmb3IoaSBpbiB0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bcl09e30sdGhpcy5zdGF0ZUNoYW5nZXNbZV1bcl0pdGhpcy5kZWxldGVkU3RhdGVzW2VdW3JdW2ldPW51bGw7ZWxzZSB0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bcl09bnVsbDtlbHNlIHRoaXMuZGVsZXRlZFN0YXRlc1tlXT1udWxsO31nZXRTdGF0ZShlLHQpe2NvbnN0IGk9U3RyaW5nKHQpLHI9ayh7fSwodGhpcy5zdGF0ZVtlXXx8e30pW2ldLCh0aGlzLnN0YXRlQ2hhbmdlc1tlXXx8e30pW2ldKTtpZihudWxsPT09dGhpcy5kZWxldGVkU3RhdGVzW2VdKXJldHVybiB7fTtpZih0aGlzLmRlbGV0ZWRTdGF0ZXNbZV0pe2NvbnN0IGk9dGhpcy5kZWxldGVkU3RhdGVzW2VdW3RdO2lmKG51bGw9PT1pKXJldHVybiB7fTtmb3IoY29uc3QgZSBpbiBpKWRlbGV0ZSByW2VdO31yZXR1cm4gcn1pbml0aWFsaXplVGlsZVN0YXRlKGUsdCl7ZS5zZXRGZWF0dXJlU3RhdGUodGhpcy5zdGF0ZSx0KTt9Y29hbGVzY2VDaGFuZ2VzKGUsdCl7Y29uc3QgaT17fTtmb3IoY29uc3QgZSBpbiB0aGlzLnN0YXRlQ2hhbmdlcyl7dGhpcy5zdGF0ZVtlXT10aGlzLnN0YXRlW2VdfHx7fTtjb25zdCB0PXt9O2Zvcihjb25zdCBpIGluIHRoaXMuc3RhdGVDaGFuZ2VzW2VdKXRoaXMuc3RhdGVbZV1baV18fCh0aGlzLnN0YXRlW2VdW2ldPXt9KSxrKHRoaXMuc3RhdGVbZV1baV0sdGhpcy5zdGF0ZUNoYW5nZXNbZV1baV0pLHRbaV09dGhpcy5zdGF0ZVtlXVtpXTtpW2VdPXQ7fWZvcihjb25zdCBlIGluIHRoaXMuZGVsZXRlZFN0YXRlcyl7dGhpcy5zdGF0ZVtlXT10aGlzLnN0YXRlW2VdfHx7fTtjb25zdCB0PXt9O2lmKG51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbZV0pZm9yKGNvbnN0IGkgaW4gdGhpcy5zdGF0ZVtlXSl0W2ldPXt9LHRoaXMuc3RhdGVbZV1baV09e307ZWxzZSBmb3IoY29uc3QgaSBpbiB0aGlzLmRlbGV0ZWRTdGF0ZXNbZV0pe2lmKG51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbZV1baV0pdGhpcy5zdGF0ZVtlXVtpXT17fTtlbHNlIGlmKHRoaXMuc3RhdGVbZV1baV0pZm9yKGNvbnN0IHQgb2YgT2JqZWN0LmtleXModGhpcy5kZWxldGVkU3RhdGVzW2VdW2ldKSlkZWxldGUgdGhpcy5zdGF0ZVtlXVtpXVt0XTt0W2ldPXRoaXMuc3RhdGVbZV1baV07fWlbZV09aVtlXXx8e30sayhpW2VdLHQpO31pZih0aGlzLnN0YXRlQ2hhbmdlcz17fSx0aGlzLmRlbGV0ZWRTdGF0ZXM9e30sMCE9PU9iamVjdC5rZXlzKGkpLmxlbmd0aClmb3IoY29uc3QgciBpbiBlKWVbcl0uc2V0RmVhdHVyZVN0YXRlKGksdCk7fX1jbGFzcyBEbXtjb25zdHJ1Y3RvcihlKXt0aGlzLnNpemU9ZSx0aGlzLm1pbmltdW1zPVtdLHRoaXMubWF4aW11bXM9W10sdGhpcy5sZWF2ZXM9W107fWdldEVsZXZhdGlvbihlLHQpe2NvbnN0IGk9dGhpcy50b0lkeChlLHQpO3JldHVybiB7bWluOnRoaXMubWluaW11bXNbaV0sbWF4OnRoaXMubWF4aW11bXNbaV19fWlzTGVhZihlLHQpe3JldHVybiB0aGlzLmxlYXZlc1t0aGlzLnRvSWR4KGUsdCldfXRvSWR4KGUsdCl7cmV0dXJuIHQqdGhpcy5zaXplK2V9fWZ1bmN0aW9uIFBtKGUsdCxpLHIpe2xldCBuPTAsbz1OdW1iZXIuTUFYX1ZBTFVFO2ZvcihsZXQgcz0wO3M8MztzKyspaWYoTWF0aC5hYnMocltzXSk8MWUtMTUpe2lmKGlbc108ZVtzXXx8aVtzXT50W3NdKXJldHVybiBudWxsfWVsc2Uge2NvbnN0IGE9MS9yW3NdO2xldCBsPShlW3NdLWlbc10pKmEsYz0odFtzXS1pW3NdKSphO2lmKGw+Yyl7Y29uc3QgZT1sO2w9YyxjPWU7fWlmKGw+biYmKG49bCksYzxvJiYobz1jKSxuPm8pcmV0dXJuIG51bGx9cmV0dXJuIG59ZnVuY3Rpb24gUm0oZSx0LGkscixuLG8scyxhLGwsYyxoKXtjb25zdCB1PXItZSxkPW4tdCxwPW8taSxmPXMtZSxtPWEtdCxfPWwtaSxnPWhbMV0qXy1oWzJdKm0seT1oWzJdKmYtaFswXSpfLHg9aFswXSptLWhbMV0qZix2PXUqZytkKnkrcCp4O2lmKE1hdGguYWJzKHYpPDFlLTE1KXJldHVybiBudWxsO2NvbnN0IGI9MS92LHc9Y1swXS1lLFQ9Y1sxXS10LEU9Y1syXS1pLE09KHcqZytUKnkrRSp4KSpiO2lmKE08MHx8TT4xKXJldHVybiBudWxsO2NvbnN0IEE9VCpwLUUqZCxTPUUqdS13KnAsST13KmQtVCp1LEM9KGhbMF0qQStoWzFdKlMraFsyXSpJKSpiO3JldHVybiBDPDB8fE0rQz4xP251bGw6KGYqQSttKlMrXypJKSpifWZ1bmN0aW9uIExtKGUsdCxpKXtyZXR1cm4gKGUtdCkvKGktdCl9ZnVuY3Rpb24ga20oZSx0LGkscixuLG8scyxhLGwpe2NvbnN0IGM9MTw8aSxoPW8tcix1PXMtbixkPShlKzEpL2MqaCtyLHA9KHQrMCkvYyp1K24sZj0odCsxKS9jKnUrbjthWzBdPShlKzApL2MqaCtyLGFbMV09cCxsWzBdPWQsbFsxXT1mO31jbGFzcyBPbXtjb25zdHJ1Y3RvcihlKXtpZih0aGlzLm1heGltdW1zPVtdLHRoaXMubWluaW11bXM9W10sdGhpcy5sZWF2ZXM9W10sdGhpcy5jaGlsZE9mZnNldHM9W10sdGhpcy5ub2RlQ291bnQ9MCx0aGlzLmRlbT1lLHRoaXMuX3NpYmxpbmdPZmZzZXQ9W1swLDBdLFsxLDBdLFswLDFdLFsxLDFdXSwhdGhpcy5kZW0pcmV0dXJuO2NvbnN0IHQ9ZnVuY3Rpb24oZSl7Y29uc3QgdD1NYXRoLmNlaWwoTWF0aC5sb2cyKGUuZGltLzgpKSxpPVtdO2xldCByPU1hdGguY2VpbChNYXRoLnBvdygyLHQpKTtjb25zdCBuPTEvcixvPShlLHQsaSxyLG4pPT57Y29uc3Qgbz1yPzE6MCxzPShlKzEpKmktbyxhPXQqaSxsPSh0KzEpKmktbztuWzBdPWUqaSxuWzFdPWEsblsyXT1zLG5bM109bDt9O2xldCBzPW5ldyBEbShyKTtjb25zdCBhPVtdO2ZvcihsZXQgdD0wO3Q8cipyO3QrKyl7byh0JXIsTWF0aC5mbG9vcih0L3IpLG4sITEsYSk7Y29uc3QgaT1GbShhWzBdLGFbMV0sZSksbD1GbShhWzJdLGFbMV0sZSksYz1GbShhWzJdLGFbM10sZSksaD1GbShhWzBdLGFbM10sZSk7cy5taW5pbXVtcy5wdXNoKE1hdGgubWluKGksbCxjLGgpKSxzLm1heGltdW1zLnB1c2goTWF0aC5tYXgoaSxsLGMsaCkpLHMubGVhdmVzLnB1c2goMSk7fWZvcihpLnB1c2gocyksci89MjtyPj0xO3IvPTIpe2NvbnN0IGU9aVtpLmxlbmd0aC0xXTtzPW5ldyBEbShyKTtmb3IobGV0IHQ9MDt0PHIqcjt0Kyspe28odCVyLE1hdGguZmxvb3IodC9yKSwyLCEwLGEpO2NvbnN0IGk9ZS5nZXRFbGV2YXRpb24oYVswXSxhWzFdKSxuPWUuZ2V0RWxldmF0aW9uKGFbMl0sYVsxXSksbD1lLmdldEVsZXZhdGlvbihhWzJdLGFbM10pLGM9ZS5nZXRFbGV2YXRpb24oYVswXSxhWzNdKSxoPWUuaXNMZWFmKGFbMF0sYVsxXSksdT1lLmlzTGVhZihhWzJdLGFbMV0pLGQ9ZS5pc0xlYWYoYVsyXSxhWzNdKSxwPWUuaXNMZWFmKGFbMF0sYVszXSksZj1NYXRoLm1pbihpLm1pbixuLm1pbixsLm1pbixjLm1pbiksbT1NYXRoLm1heChpLm1heCxuLm1heCxsLm1heCxjLm1heCksXz1oJiZ1JiZkJiZwO3MubWF4aW11bXMucHVzaChtKSxzLm1pbmltdW1zLnB1c2goZikscy5sZWF2ZXMucHVzaChtLWY8PTUmJl8/MTowKTt9aS5wdXNoKHMpO31yZXR1cm4gaX0odGhpcy5kZW0pLGk9dC5sZW5ndGgtMSxyPXRbaV07dGhpcy5fYWRkTm9kZShyLm1pbmltdW1zWzBdLHIubWF4aW11bXNbMF0sci5sZWF2ZXNbMF0pLHRoaXMuX2NvbnN0cnVjdCh0LDAsMCxpLDApO31yYXljYXN0Um9vdChlLHQsaSxyLG4sbyxzPTEpe3JldHVybiBQbShbZSx0LC0xMDBdLFtpLHIsdGhpcy5tYXhpbXVtc1swXSpzXSxuLG8pfXJheWNhc3QoZSx0LGkscixuLG8scz0xKXtpZighdGhpcy5ub2RlQ291bnQpcmV0dXJuIG51bGw7Y29uc3QgYT10aGlzLnJheWNhc3RSb290KGUsdCxpLHIsbixvLHMpO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7Y29uc3QgbD1bXSxjPVtdLGg9W10sdT1bXSxkPVt7aWR4OjAsdDphLG5vZGV4OjAsbm9kZXk6MCxkZXB0aDowfV07Zm9yKDtkLmxlbmd0aD4wOyl7Y29uc3R7aWR4OmEsdDpwLG5vZGV4OmYsbm9kZXk6bSxkZXB0aDpffT1kLnBvcCgpO2lmKHRoaXMubGVhdmVzW2FdKXtrbShmLG0sXyxlLHQsaSxyLGgsdSk7Y29uc3QgYT0xPDxfLGw9KGYrMCkvYSxjPShmKzEpL2EsZD0obSswKS9hLGc9KG0rMSkvYSx5PUZtKGwsZCx0aGlzLmRlbSkqcyx4PUZtKGMsZCx0aGlzLmRlbSkqcyx2PUZtKGMsZyx0aGlzLmRlbSkqcyxiPUZtKGwsZyx0aGlzLmRlbSkqcyx3PVJtKGhbMF0saFsxXSx5LHVbMF0saFsxXSx4LHVbMF0sdVsxXSx2LG4sbyksVD1SbSh1WzBdLHVbMV0sdixoWzBdLHVbMV0sYixoWzBdLGhbMV0seSxuLG8pLEU9TWF0aC5taW4obnVsbCE9PXc/dzpOdW1iZXIuTUFYX1ZBTFVFLG51bGwhPT1UP1Q6TnVtYmVyLk1BWF9WQUxVRSk7aWYoRSE9PU51bWJlci5NQVhfVkFMVUUpcmV0dXJuIEU7e2NvbnN0IGU9TXUuc2NhbGVBbmRBZGQoW10sbixvLHApO2lmKEJtKHkseCxiLHYsTG0oZVswXSxoWzBdLHVbMF0pLExtKGVbMV0saFsxXSx1WzFdKSk+PWVbMl0pcmV0dXJuIHB9Y29udGludWV9bGV0IGc9MDtmb3IobGV0IGQ9MDtkPHRoaXMuX3NpYmxpbmdPZmZzZXQubGVuZ3RoO2QrKyl7a20oKGY8PDEpK3RoaXMuX3NpYmxpbmdPZmZzZXRbZF1bMF0sKG08PDEpK3RoaXMuX3NpYmxpbmdPZmZzZXRbZF1bMV0sXysxLGUsdCxpLHIsaCx1KSxoWzJdPS0xMDAsdVsyXT10aGlzLm1heGltdW1zW3RoaXMuY2hpbGRPZmZzZXRzW2FdK2RdKnM7Y29uc3QgcD1QbShoLHUsbixvKTtpZihudWxsIT1wKXtjb25zdCBlPXA7bFtkXT1lO2xldCB0PSExO2ZvcihsZXQgaT0wO2k8ZyYmIXQ7aSsrKWU+PWxbY1tpXV0mJihjLnNwbGljZShpLDAsZCksdD0hMCk7dHx8KGNbZ109ZCksZysrO319Zm9yKGxldCBlPTA7ZTxnO2UrKyl7Y29uc3QgdD1jW2VdO2QucHVzaCh7aWR4OnRoaXMuY2hpbGRPZmZzZXRzW2FdK3QsdDpsW3RdLG5vZGV4OihmPDwxKSt0aGlzLl9zaWJsaW5nT2Zmc2V0W3RdWzBdLG5vZGV5OihtPDwxKSt0aGlzLl9zaWJsaW5nT2Zmc2V0W3RdWzFdLGRlcHRoOl8rMX0pO319cmV0dXJuIG51bGx9X2FkZE5vZGUoZSx0LGkpe3JldHVybiB0aGlzLm1pbmltdW1zLnB1c2goZSksdGhpcy5tYXhpbXVtcy5wdXNoKHQpLHRoaXMubGVhdmVzLnB1c2goaSksdGhpcy5jaGlsZE9mZnNldHMucHVzaCgwKSx0aGlzLm5vZGVDb3VudCsrfV9jb25zdHJ1Y3QoZSx0LGkscixuKXtpZigxPT09ZVtyXS5pc0xlYWYodCxpKSlyZXR1cm47dGhpcy5jaGlsZE9mZnNldHNbbl18fCh0aGlzLmNoaWxkT2Zmc2V0c1tuXT10aGlzLm5vZGVDb3VudCk7Y29uc3Qgbz1yLTEscz1lW29dO2xldCBhPTAsbD0wO2ZvcihsZXQgZT0wO2U8dGhpcy5fc2libGluZ09mZnNldC5sZW5ndGg7ZSsrKXtjb25zdCByPTIqdCt0aGlzLl9zaWJsaW5nT2Zmc2V0W2VdWzBdLG49MippK3RoaXMuX3NpYmxpbmdPZmZzZXRbZV1bMV0sbz1zLmdldEVsZXZhdGlvbihyLG4pLGM9cy5pc0xlYWYocixuKSxoPXRoaXMuX2FkZE5vZGUoby5taW4sby5tYXgsYyk7YyYmKGF8PTE8PGUpLGx8fChsPWgpO31mb3IobGV0IHI9MDtyPHRoaXMuX3NpYmxpbmdPZmZzZXQubGVuZ3RoO3IrKylhJjE8PHJ8fHRoaXMuX2NvbnN0cnVjdChlLDIqdCt0aGlzLl9zaWJsaW5nT2Zmc2V0W3JdWzBdLDIqaSt0aGlzLl9zaWJsaW5nT2Zmc2V0W3JdWzFdLG8sbCtyKTt9fWZ1bmN0aW9uIEJtKGUsdCxpLHIsbixvKXtyZXR1cm4gV3IoV3IoZSxpLG8pLFdyKHQscixvKSxuKX1mdW5jdGlvbiBGbShlLHQsaSl7Y29uc3Qgcj1pLmRpbSxuPXooZSpyLS41LDAsci0xKSxvPXoodCpyLS41LDAsci0xKSxzPU1hdGguZmxvb3IobiksYT1NYXRoLmZsb29yKG8pLGw9TWF0aC5taW4ocysxLHItMSksYz1NYXRoLm1pbihhKzEsci0xKTtyZXR1cm4gQm0oaS5nZXQocyxhKSxpLmdldChsLGEpLGkuZ2V0KHMsYyksaS5nZXQobCxjKSxuLXMsby1hKX1jb25zdCBObT17bWFwYm94Ols2NTUzLjYsMjUuNiwuMSwxZTRdLHRlcnJhcml1bTpbMjU2LDEsMS8yNTYsMzI3NjhdLGZsb2F0OlsxLDEsMSwxXX07ZnVuY3Rpb24gVW0oZSx0LGkpe3JldHVybiAoMjU2KmUqMjU2KzI1Nip0K2kpLzEwLTFlNH1mdW5jdGlvbiBWbShlLHQsaSl7cmV0dXJuIDI1NiplK3QraS8yNTYtMzI3Njh9Y2xhc3Mgam17Z2V0IHRyZWUoKXtyZXR1cm4gdGhpcy5fdHJlZXx8dGhpcy5fYnVpbGRRdWFkVHJlZSgpLHRoaXMuX3RyZWV9Y29uc3RydWN0b3IoZSx0LGkscixuPSExKXtpZih0aGlzLnVpZD1lLHQuaGVpZ2h0IT09dC53aWR0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkRFTSB0aWxlcyBtdXN0IGJlIHNxdWFyZVwiKTtpZihpJiZcIm1hcGJveFwiIT09aSYmXCJ0ZXJyYXJpdW1cIiE9PWkpcmV0dXJuIFcoYFwiJHtpfVwiIGlzIG5vdCBhIHZhbGlkIGVuY29kaW5nIHR5cGUuIFZhbGlkIHR5cGVzIGluY2x1ZGUgXCJtYXBib3hcIiBhbmQgXCJ0ZXJyYXJpdW1cIi5gKTt0aGlzLnN0cmlkZT10LmhlaWdodDtjb25zdCBvPXRoaXMuZGltPXQuaGVpZ2h0LTIscz1uZXcgVWludDMyQXJyYXkodC5kYXRhLmJ1ZmZlcik7aWYodGhpcy5waXhlbHM9bmV3IFVpbnQ4QXJyYXkodC5kYXRhLmJ1ZmZlciksdGhpcy5lbmNvZGluZz1pfHxcIm1hcGJveFwiLHRoaXMuYm9yZGVyUmVhZHk9bix0aGlzLl9tb2RpZmllZEZvclNvdXJjZXM9e30sIW4pe2ZvcihsZXQgZT0wO2U8bztlKyspc1t0aGlzLl9pZHgoLTEsZSldPXNbdGhpcy5faWR4KDAsZSldLHNbdGhpcy5faWR4KG8sZSldPXNbdGhpcy5faWR4KG8tMSxlKV0sc1t0aGlzLl9pZHgoZSwtMSldPXNbdGhpcy5faWR4KGUsMCldLHNbdGhpcy5faWR4KGUsbyldPXNbdGhpcy5faWR4KGUsby0xKV07c1t0aGlzLl9pZHgoLTEsLTEpXT1zW3RoaXMuX2lkeCgwLDApXSxzW3RoaXMuX2lkeChvLC0xKV09c1t0aGlzLl9pZHgoby0xLDApXSxzW3RoaXMuX2lkeCgtMSxvKV09c1t0aGlzLl9pZHgoMCxvLTEpXSxzW3RoaXMuX2lkeChvLG8pXT1zW3RoaXMuX2lkeChvLTEsby0xKV07fWlmKHIpe2NvbnN0IGU9bmV3IEZsb2F0MzJBcnJheSh0LmRhdGEuYnVmZmVyKSxpPVwidGVycmFyaXVtXCI9PT10aGlzLmVuY29kaW5nP1ZtOlVtO2ZvcihsZXQgdD0wO3Q8cy5sZW5ndGg7Kyt0KXtjb25zdCByPTQqdDtlW3RdPWkodGhpcy5waXhlbHNbcl0sdGhpcy5waXhlbHNbcisxXSx0aGlzLnBpeGVsc1tyKzJdKTt9dGhpcy5lbmNvZGluZz1cImZsb2F0XCI7fXRoaXMuX3RpbWVzdGFtcD1odC5ub3coKTt9X2J1aWxkUXVhZFRyZWUoKXt0aGlzLl90cmVlPW5ldyBPbSh0aGlzKTt9Z2V0KGUsdCxpPSExKXtpJiYoZT16KGUsLTEsdGhpcy5kaW0pLHQ9eih0LC0xLHRoaXMuZGltKSk7Y29uc3Qgcj10aGlzLl9pZHgoZSx0KTtpZihcImZsb2F0XCI9PT10aGlzLmVuY29kaW5nKXJldHVybiB0aGlzLmZsb2F0Vmlld3x8KHRoaXMuZmxvYXRWaWV3PW5ldyBGbG9hdDMyQXJyYXkodGhpcy5waXhlbHMuYnVmZmVyKSksdGhpcy5mbG9hdFZpZXdbcl07Y29uc3Qgbj00KnI7cmV0dXJuIChcInRlcnJhcml1bVwiPT09dGhpcy5lbmNvZGluZz9WbTpVbSkodGhpcy5waXhlbHNbbl0sdGhpcy5waXhlbHNbbisxXSx0aGlzLnBpeGVsc1tuKzJdKX1zZXQoZSx0LGkpe2NvbnN0IHI9dGhpcy5faWR4KGUsdCk7aWYoXCJmbG9hdFwiPT09dGhpcy5lbmNvZGluZyl7dGhpcy5mbG9hdFZpZXd8fCh0aGlzLmZsb2F0Vmlldz1uZXcgRmxvYXQzMkFycmF5KHRoaXMucGl4ZWxzLmJ1ZmZlcikpO2NvbnN0IGU9dGhpcy5mbG9hdFZpZXdbcl07cmV0dXJuIHRoaXMuZmxvYXRWaWV3W3JdPWksaS1lfWNvbnN0IG49NCpyLG89KFwidGVycmFyaXVtXCI9PT10aGlzLmVuY29kaW5nP1ZtOlVtKSh0aGlzLnBpeGVsc1tuXSx0aGlzLnBpeGVsc1tuKzFdLHRoaXMucGl4ZWxzW24rMl0pLHM9am0ucGFjayhpLFwidGVycmFyaXVtXCI9PT10aGlzLmVuY29kaW5nP1widGVycmFyaXVtXCI6XCJtYXBib3hcIik7cmV0dXJuIHRoaXMucGl4ZWxzW25dPXNbMF0sdGhpcy5waXhlbHNbbisxXT1zWzFdLHRoaXMucGl4ZWxzW24rMl09c1syXSxpLW99c3RhdGljIGdldFVucGFja1ZlY3RvcihlKXtyZXR1cm4gTm1bZV19Z2V0IHVucGFja1ZlY3Rvcigpe3JldHVybiBObVt0aGlzLmVuY29kaW5nXX1faWR4KGUsdCl7aWYoZTwtMXx8ZT49dGhpcy5kaW0rMXx8dDwtMXx8dD49dGhpcy5kaW0rMSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm91dCBvZiByYW5nZSBzb3VyY2UgY29vcmRpbmF0ZXMgZm9yIERFTSBkYXRhXCIpO3JldHVybiAodCsxKSp0aGlzLnN0cmlkZSsoZSsxKX1zdGF0aWMgcGFjayhlLHQpe2NvbnN0IGk9WzAsMCwwLDBdLHI9am0uZ2V0VW5wYWNrVmVjdG9yKHQpO2xldCBuPU1hdGguZmxvb3IoKGUrclszXSkvclsyXSk7cmV0dXJuIGlbMl09biUyNTYsbj1NYXRoLmZsb29yKG4vMjU2KSxpWzFdPW4lMjU2LG49TWF0aC5mbG9vcihuLzI1NiksaVswXT1uLGl9Z2V0UGl4ZWxzKCl7cmV0dXJuIFwiZmxvYXRcIj09PXRoaXMuZW5jb2Rpbmc/bmV3IEhwKHt3aWR0aDp0aGlzLnN0cmlkZSxoZWlnaHQ6dGhpcy5zdHJpZGV9LHRoaXMucGl4ZWxzKTpuZXcgJHAoe3dpZHRoOnRoaXMuc3RyaWRlLGhlaWdodDp0aGlzLnN0cmlkZX0sdGhpcy5waXhlbHMpfWJhY2tmaWxsQm9yZGVyKGUsdCxpKXtpZih0aGlzLmRpbSE9PWUuZGltKXRocm93IG5ldyBFcnJvcihcImRlbSBkaW1lbnNpb24gbWlzbWF0Y2hcIik7bGV0IHI9dCp0aGlzLmRpbSxuPXQqdGhpcy5kaW0rdGhpcy5kaW0sbz1pKnRoaXMuZGltLHM9aSp0aGlzLmRpbSt0aGlzLmRpbTtzd2l0Y2godCl7Y2FzZS0xOnI9bi0xO2JyZWFrO2Nhc2UgMTpuPXIrMTt9c3dpdGNoKGkpe2Nhc2UtMTpvPXMtMTticmVhaztjYXNlIDE6cz1vKzE7fWNvbnN0IGE9LXQqdGhpcy5kaW0sbD0taSp0aGlzLmRpbTtmb3IobGV0IHQ9bzt0PHM7dCsrKWZvcihsZXQgaT1yO2k8bjtpKyspe2NvbnN0IHI9NCp0aGlzLl9pZHgoaSx0KSxuPTQqdGhpcy5faWR4KGkrYSx0K2wpO3RoaXMucGl4ZWxzW3IrMF09ZS5waXhlbHNbbiswXSx0aGlzLnBpeGVsc1tyKzFdPWUucGl4ZWxzW24rMV0sdGhpcy5waXhlbHNbcisyXT1lLnBpeGVsc1tuKzJdLHRoaXMucGl4ZWxzW3IrM109ZS5waXhlbHNbbiszXTt9fW9uRGVzZXJpYWxpemUoKXt0aGlzLl90cmVlJiYodGhpcy5fdHJlZS5kZW09dGhpcyk7fX1JcyhqbSxcIkRFTURhdGFcIiksSXMoT20sXCJEZW1NaW5NYXhRdWFkVHJlZVwiLHtvbWl0OltcImRlbVwiXX0pO2NsYXNzIEdte2lzRGF0YUF2YWlsYWJsZUF0UG9pbnQoZSl7Y29uc3QgdD10aGlzLl9zb3VyY2UoKTtpZih0aGlzLmlzVXNpbmdNb2NrU291cmNlKCl8fCF0fHxlLnk8MHx8ZS55PjEpcmV0dXJuICExO2NvbnN0IGk9dC5nZXRTb3VyY2UoKS5tYXh6b29tLHI9MTw8aSxuPU1hdGguZmxvb3IoZS54KSxvPU1hdGguZmxvb3IoKGUueC1uKSpyKSxzPU1hdGguZmxvb3IoZS55KnIpLGE9dGhpcy5maW5kREVNVGlsZUZvcihuZXcgQnUoaSxuLGksbyxzKSk7cmV0dXJuICEoIWF8fCFhLmRlbSl9Z2V0QXRQb2ludE9yWmVybyhlLHQ9MCl7cmV0dXJuIHRoaXMuZ2V0QXRQb2ludChlLHQpfHwwfWdldEF0UG9pbnQoZSx0LGk9ITApe2lmKHRoaXMuaXNVc2luZ01vY2tTb3VyY2UoKSlyZXR1cm4gbnVsbDtudWxsPT10JiYodD1udWxsKTtjb25zdCByPXRoaXMuX3NvdXJjZSgpO2lmKCFyKXJldHVybiB0O2lmKGUueTwwfHxlLnk+MSlyZXR1cm4gdDtjb25zdCBuPXIuZ2V0U291cmNlKCkubWF4em9vbSxvPTE8PG4scz1NYXRoLmZsb29yKGUueCksYT1lLngtcyxsPW5ldyBCdShuLHMsbixNYXRoLmZsb29yKGEqbyksTWF0aC5mbG9vcihlLnkqbykpLGM9dGhpcy5maW5kREVNVGlsZUZvcihsKTtpZighY3x8IWMuZGVtKXJldHVybiB0O2NvbnN0IGg9Yy5kZW0sdT0xPDxjLnRpbGVJRC5jYW5vbmljYWwueixkPShhKnUtYy50aWxlSUQuY2Fub25pY2FsLngpKmguZGltLHA9KGUueSp1LWMudGlsZUlELmNhbm9uaWNhbC55KSpoLmRpbSxmPU1hdGguZmxvb3IoZCksbT1NYXRoLmZsb29yKHApO3JldHVybiAoaT90aGlzLmV4YWdnZXJhdGlvbigpOjEpKldyKFdyKGguZ2V0KGYsbSksaC5nZXQoZixtKzEpLHAtbSksV3IoaC5nZXQoZisxLG0pLGguZ2V0KGYrMSxtKzEpLHAtbSksZC1mKX1nZXRBdFRpbGVPZmZzZXQoZSx0LGkpe2NvbnN0IHI9MTw8ZS5jYW5vbmljYWwuejtyZXR1cm4gdGhpcy5nZXRBdFBvaW50T3JaZXJvKG5ldyBlcChlLndyYXArKGUuY2Fub25pY2FsLngrdC9zcikvciwoZS5jYW5vbmljYWwueStpL3NyKS9yKSl9Z2V0QXRUaWxlT2Zmc2V0RnVuYyhlLHQsaSxyKXtyZXR1cm4gbj0+e2NvbnN0IG89dGhpcy5nZXRBdFRpbGVPZmZzZXQoZSxuLngsbi55KSxzPXIudXBWZWN0b3IoZS5jYW5vbmljYWwsbi54LG4ueSksYT1yLnVwVmVjdG9yU2NhbGUoZS5jYW5vbmljYWwsdCxpKS5tZXRlcnNUb1RpbGU7cmV0dXJuIE11LnNjYWxlKHMscyxvKmEpLHN9fWdldEZvclRpbGVQb2ludHMoZSx0LGkscil7aWYodGhpcy5pc1VzaW5nTW9ja1NvdXJjZSgpKXJldHVybiAhMTtjb25zdCBuPXFtLmNyZWF0ZSh0aGlzLGUscik7cmV0dXJuICEhbiYmKHQuZm9yRWFjaCgoZT0+e2VbMl09dGhpcy5leGFnZ2VyYXRpb24oKSpuLmdldEVsZXZhdGlvbkF0KGVbMF0sZVsxXSxpKTt9KSksITApfWdldE1pbk1heEZvclRpbGUoZSl7aWYodGhpcy5pc1VzaW5nTW9ja1NvdXJjZSgpKXJldHVybiBudWxsO2NvbnN0IHQ9dGhpcy5maW5kREVNVGlsZUZvcihlKTtpZighdHx8IXQuZGVtKXJldHVybiBudWxsO2NvbnN0IGk9dC5kZW0udHJlZSxyPXQudGlsZUlELG49MTw8ZS5jYW5vbmljYWwuei1yLmNhbm9uaWNhbC56O2xldCBvPWUuY2Fub25pY2FsLngvbi1yLmNhbm9uaWNhbC54LHM9ZS5jYW5vbmljYWwueS9uLXIuY2Fub25pY2FsLnksYT0wO2ZvcihsZXQgdD0wO3Q8ZS5jYW5vbmljYWwuei1yLmNhbm9uaWNhbC56JiYhaS5sZWF2ZXNbYV07dCsrKXtvKj0yLHMqPTI7Y29uc3QgZT0yKk1hdGguZmxvb3IocykrTWF0aC5mbG9vcihvKTthPWkuY2hpbGRPZmZzZXRzW2FdK2UsbyU9MSxzJT0xO31yZXR1cm4ge21pbjp0aGlzLmV4YWdnZXJhdGlvbigpKmkubWluaW11bXNbYV0sbWF4OnRoaXMuZXhhZ2dlcmF0aW9uKCkqaS5tYXhpbXVtc1thXX19Z2V0TWluRWxldmF0aW9uQmVsb3dNU0woKXt0aHJvdyBuZXcgRXJyb3IoXCJQdXJlIHZpcnR1YWwgbWV0aG9kIGNhbGxlZC5cIil9cmF5Y2FzdChlLHQsaSl7dGhyb3cgbmV3IEVycm9yKFwiUHVyZSB2aXJ0dWFsIG1ldGhvZCBjYWxsZWQuXCIpfXBvaW50Q29vcmRpbmF0ZShlKXt0aHJvdyBuZXcgRXJyb3IoXCJQdXJlIHZpcnR1YWwgbWV0aG9kIGNhbGxlZC5cIil9X3NvdXJjZSgpe3Rocm93IG5ldyBFcnJvcihcIlB1cmUgdmlydHVhbCBtZXRob2QgY2FsbGVkLlwiKX1pc1VzaW5nTW9ja1NvdXJjZSgpe3Rocm93IG5ldyBFcnJvcihcIlB1cmUgdmlydHVhbCBtZXRob2QgY2FsbGVkLlwiKX1leGFnZ2VyYXRpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJQdXJlIHZpcnR1YWwgbWV0aG9kIGNhbGxlZC5cIil9ZmluZERFTVRpbGVGb3IoZSl7dGhyb3cgbmV3IEVycm9yKFwiUHVyZSB2aXJ0dWFsIG1ldGhvZCBjYWxsZWQuXCIpfWdldCB2aXNpYmxlRGVtVGlsZXMoKXt0aHJvdyBuZXcgRXJyb3IoXCJHZXR0ZXIgbXVzdCBiZSBpbXBsZW1lbnRlZCBpbiBzdWJjbGFzcy5cIil9fWNsYXNzIHFte2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLl9kZW1UaWxlPWUsdGhpcy5fZGVtPXRoaXMuX2RlbVRpbGUuZGVtLHRoaXMuX3NjYWxlPXQsdGhpcy5fb2Zmc2V0PWk7fXN0YXRpYyBjcmVhdGUoZSx0LGkpe2NvbnN0IHI9aXx8ZS5maW5kREVNVGlsZUZvcih0KTtpZighcnx8IXIuZGVtKXJldHVybjtjb25zdCBuPXIuZGVtLG89ci50aWxlSUQscz0xPDx0LmNhbm9uaWNhbC56LW8uY2Fub25pY2FsLno7cmV0dXJuIG5ldyBxbShyLG4uZGltL3NyL3MsWyh0LmNhbm9uaWNhbC54L3Mtby5jYW5vbmljYWwueCkqbi5kaW0sKHQuY2Fub25pY2FsLnkvcy1vLmNhbm9uaWNhbC55KSpuLmRpbV0pfXRpbGVDb29yZFRvUGl4ZWwoZSx0KXtjb25zdCBpPXQqdGhpcy5fc2NhbGUrdGhpcy5fb2Zmc2V0WzFdLHI9TWF0aC5mbG9vcihlKnRoaXMuX3NjYWxlK3RoaXMuX29mZnNldFswXSksbj1NYXRoLmZsb29yKGkpO3JldHVybiBuZXcgeShyLG4pfWdldEVsZXZhdGlvbkF0KGUsdCxpLHIpe2NvbnN0IG49ZSp0aGlzLl9zY2FsZSt0aGlzLl9vZmZzZXRbMF0sbz10KnRoaXMuX3NjYWxlK3RoaXMuX29mZnNldFsxXSxzPU1hdGguZmxvb3IobiksYT1NYXRoLmZsb29yKG8pLGw9dGhpcy5fZGVtO3JldHVybiByPSEhcixpP1dyKFdyKGwuZ2V0KHMsYSxyKSxsLmdldChzLGErMSxyKSxvLWEpLFdyKGwuZ2V0KHMrMSxhLHIpLGwuZ2V0KHMrMSxhKzEsciksby1hKSxuLXMpOmwuZ2V0KHMsYSxyKX1nZXRFbGV2YXRpb25BdFBpeGVsKGUsdCxpKXtyZXR1cm4gdGhpcy5fZGVtLmdldChlLHQsISFpKX1nZXRNZXRlclRvREVNKGUpe3JldHVybiAoMTw8dGhpcy5fZGVtVGlsZS50aWxlSUQuY2Fub25pY2FsLnopKlpkKDEsZSkqdGhpcy5fZGVtLnN0cmlkZX19Y2xhc3MgWm17Y29uc3RydWN0b3IoZSx0KXt0aGlzLnRpbGVJRD1lLHRoaXMueD1lLmNhbm9uaWNhbC54LHRoaXMueT1lLmNhbm9uaWNhbC55LHRoaXMuej1lLmNhbm9uaWNhbC56LHRoaXMuZ3JpZD1uZXcgQXMoc3IsMTYsMCksdGhpcy5mZWF0dXJlSW5kZXhBcnJheT1uZXcgbGwsdGhpcy5wcm9tb3RlSWQ9dDt9aW5zZXJ0KGUsdCxpLHIsbixvPTApe2NvbnN0IHM9dGhpcy5mZWF0dXJlSW5kZXhBcnJheS5sZW5ndGg7dGhpcy5mZWF0dXJlSW5kZXhBcnJheS5lbXBsYWNlQmFjayhpLHIsbixvKTtjb25zdCBhPXRoaXMuZ3JpZDtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl7Y29uc3QgaT10W2VdLHI9WzEvMCwxLzAsLTEvMCwtMS8wXTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKyl7Y29uc3QgdD1pW2VdO3JbMF09TWF0aC5taW4oclswXSx0LngpLHJbMV09TWF0aC5taW4oclsxXSx0LnkpLHJbMl09TWF0aC5tYXgoclsyXSx0LngpLHJbM109TWF0aC5tYXgoclszXSx0LnkpO31yWzBdPHNyJiZyWzFdPHNyJiZyWzJdPj0wJiZyWzNdPj0wJiZhLmluc2VydChzLHJbMF0sclsxXSxyWzJdLHJbM10pO319bG9hZFZUTGF5ZXJzKCl7aWYoIXRoaXMudnRMYXllcnMpe3RoaXMudnRMYXllcnM9bmV3IHRtKG5ldyBTbSh0aGlzLnJhd1RpbGVEYXRhKSkubGF5ZXJzLHRoaXMuc291cmNlTGF5ZXJDb2Rlcj1uZXcgbm0odGhpcy52dExheWVycz9PYmplY3Qua2V5cyh0aGlzLnZ0TGF5ZXJzKS5zb3J0KCk6W1wiX2dlb2pzb25UaWxlTGF5ZXJcIl0pLHRoaXMudnRGZWF0dXJlcz17fTtmb3IoY29uc3QgZSBpbiB0aGlzLnZ0TGF5ZXJzKXRoaXMudnRGZWF0dXJlc1tlXT1bXTt9cmV0dXJuIHRoaXMudnRMYXllcnN9cXVlcnkoZSx0LGkscil7dGhpcy5sb2FkVlRMYXllcnMoKTtjb25zdCBuPWUucGFyYW1zfHx7fSxvPVJvKG4uZmlsdGVyKSxzPWUudGlsZVJlc3VsdCxhPWUudHJhbnNmb3JtLGw9cy5idWZmZXJlZFRpbGVzcGFjZUJvdW5kcyxjPXRoaXMuZ3JpZC5xdWVyeShsLm1pbi54LGwubWluLnksbC5tYXgueCxsLm1heC55LCgoZSx0LGkscik9PlRwKHMuYnVmZmVyZWRUaWxlc3BhY2VHZW9tZXRyeSxlLHQsaSxyKSkpO2Muc29ydChIbSk7bGV0IGg9bnVsbDthLmVsZXZhdGlvbiYmYy5sZW5ndGg+MCYmKGg9cW0uY3JlYXRlKGEuZWxldmF0aW9uLHRoaXMudGlsZUlEKSk7Y29uc3QgdT17fTtsZXQgZDtmb3IobGV0IGE9MDthPGMubGVuZ3RoO2ErKyl7Y29uc3QgbD1jW2FdO2lmKGw9PT1kKWNvbnRpbnVlO2Q9bDtjb25zdCBwPXRoaXMuZmVhdHVyZUluZGV4QXJyYXkuZ2V0KGwpO2xldCBmPW51bGw7dGhpcy5sb2FkTWF0Y2hpbmdGZWF0dXJlKHUscCxvLG4ubGF5ZXJzLG4uYXZhaWxhYmxlSW1hZ2VzLHQsaSxyLCgodCxpLHIsbj0wKT0+KGZ8fChmPWxwKHQsdGhpcy50aWxlSUQuY2Fub25pY2FsLGUudGlsZVRyYW5zZm9ybSkpLGkucXVlcnlJbnRlcnNlY3RzRmVhdHVyZShzLHQscixmLHRoaXMueixlLnRyYW5zZm9ybSxlLnBpeGVsUG9zTWF0cml4LGgsbikpKSk7fXJldHVybiB1fWxvYWRNYXRjaGluZ0ZlYXR1cmUoZSx0LGkscixuLG8scyxhLGwpe2NvbnN0e2ZlYXR1cmVJbmRleDpjLGJ1Y2tldEluZGV4Omgsc291cmNlTGF5ZXJJbmRleDp1LGxheW91dFZlcnRleEFycmF5T2Zmc2V0OmR9PXQscD10aGlzLmJ1Y2tldExheWVySURzW2hdO2lmKHImJiFmdW5jdGlvbihlLHQpe2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKHQuaW5kZXhPZihlW2ldKT49MClyZXR1cm4gITA7cmV0dXJuICExfShyLHApKXJldHVybjtjb25zdCBmPXRoaXMuc291cmNlTGF5ZXJDb2Rlci5kZWNvZGUodSksbT10aGlzLnZ0TGF5ZXJzW2ZdLmZlYXR1cmUoYyk7aWYoaS5uZWVkR2VvbWV0cnkpe2NvbnN0IGU9Y3AobSwhMCk7aWYoIWkuZmlsdGVyKG5ldyBlYSh0aGlzLnRpbGVJRC5vdmVyc2NhbGVkWiksZSx0aGlzLnRpbGVJRC5jYW5vbmljYWwpKXJldHVybn1lbHNlIGlmKCFpLmZpbHRlcihuZXcgZWEodGhpcy50aWxlSUQub3ZlcnNjYWxlZFopLG0pKXJldHVybjtjb25zdCBfPXRoaXMuZ2V0SWQobSxmKTtmb3IobGV0IHQ9MDt0PHAubGVuZ3RoO3QrKyl7Y29uc3QgaT1wW3RdO2lmKHImJnIuaW5kZXhPZihpKTwwKWNvbnRpbnVlO2NvbnN0IGg9b1tpXTtpZighaCljb250aW51ZTtsZXQgdT17fTt2b2lkIDAhPT1fJiZhJiYodT1hLmdldFN0YXRlKGguc291cmNlTGF5ZXJ8fFwiX2dlb2pzb25UaWxlTGF5ZXJcIixfKSk7Y29uc3QgZj1rKHt9LHNbaV0pO2YucGFpbnQ9JG0oZi5wYWludCxoLnBhaW50LG0sdSxuKSxmLmxheW91dD0kbShmLmxheW91dCxoLmxheW91dCxtLHUsbik7Y29uc3QgZz0hbHx8bChtLGgsdSxkKTtpZighZyljb250aW51ZTtjb25zdCB5PW5ldyBDbShtLHRoaXMueix0aGlzLngsdGhpcy55LF8pO3kubGF5ZXI9ZjtsZXQgeD1lW2ldO3ZvaWQgMD09PXgmJih4PWVbaV09W10pLHgucHVzaCh7ZmVhdHVyZUluZGV4OmMsZmVhdHVyZTp5LGludGVyc2VjdGlvblo6Z30pO319bG9va3VwU3ltYm9sRmVhdHVyZXMoZSx0LGkscixuLG8scyxhKXtjb25zdCBsPXt9O3RoaXMubG9hZFZUTGF5ZXJzKCk7Y29uc3QgYz1SbyhuKTtmb3IoY29uc3QgbiBvZiBlKXRoaXMubG9hZE1hdGNoaW5nRmVhdHVyZShsLHtidWNrZXRJbmRleDppLHNvdXJjZUxheWVySW5kZXg6cixmZWF0dXJlSW5kZXg6bixsYXlvdXRWZXJ0ZXhBcnJheU9mZnNldDowfSxjLG8scyxhLHQpO3JldHVybiBsfWxvYWRGZWF0dXJlKGUpe2NvbnN0e2ZlYXR1cmVJbmRleDp0LHNvdXJjZUxheWVySW5kZXg6aX09ZTt0aGlzLmxvYWRWVExheWVycygpO2NvbnN0IHI9dGhpcy5zb3VyY2VMYXllckNvZGVyLmRlY29kZShpKSxuPXRoaXMudnRGZWF0dXJlc1tyXTtpZihuW3RdKXJldHVybiBuW3RdO2NvbnN0IG89dGhpcy52dExheWVyc1tyXS5mZWF0dXJlKHQpO3JldHVybiBuW3RdPW8sb31oYXNMYXllcihlKXtmb3IoY29uc3QgdCBvZiB0aGlzLmJ1Y2tldExheWVySURzKWZvcihjb25zdCBpIG9mIHQpaWYoZT09PWkpcmV0dXJuICEwO3JldHVybiAhMX1nZXRJZChlLHQpe2xldCBpPWUuaWQ7aWYodGhpcy5wcm9tb3RlSWQpe2NvbnN0IHI9XCJzdHJpbmdcIj09dHlwZW9mIHRoaXMucHJvbW90ZUlkP3RoaXMucHJvbW90ZUlkOnRoaXMucHJvbW90ZUlkW3RdO251bGwhPXImJihpPWUucHJvcGVydGllc1tyXSksXCJib29sZWFuXCI9PXR5cGVvZiBpJiYoaT1OdW1iZXIoaSkpO31yZXR1cm4gaX19ZnVuY3Rpb24gJG0oZSx0LGkscixuKXtyZXR1cm4gcShlLCgoZSxvKT0+e2NvbnN0IHM9dCBpbnN0YW5jZW9mIGxhP3QuZ2V0KG8pOm51bGw7cmV0dXJuIHMmJnMuZXZhbHVhdGU/cy5ldmFsdWF0ZShpLHIsbik6c30pKX1mdW5jdGlvbiBIbShlLHQpe3JldHVybiB0LWV9SXMoWm0sXCJGZWF0dXJlSW5kZXhcIix7b21pdDpbXCJyYXdUaWxlRGF0YVwiLFwic291cmNlTGF5ZXJDb2RlclwiXX0pO2NvbnN0IFdtPWJhKFt7bmFtZTpcImFfcG9zX29mZnNldFwiLGNvbXBvbmVudHM6NCx0eXBlOlwiSW50MTZcIn0se25hbWU6XCJhX3RleF9zaXplXCIsY29tcG9uZW50czo0LHR5cGU6XCJVaW50MTZcIn0se25hbWU6XCJhX3BpeGVsb2Zmc2V0XCIsY29tcG9uZW50czo0LHR5cGU6XCJJbnQxNlwifV0sNCksWG09YmEoW3tuYW1lOlwiYV9nbG9iZV9hbmNob3JcIixjb21wb25lbnRzOjMsdHlwZTpcIkludDE2XCJ9LHtuYW1lOlwiYV9nbG9iZV9ub3JtYWxcIixjb21wb25lbnRzOjMsdHlwZTpcIkZsb2F0MzJcIn1dLDQpLFltPWJhKFt7bmFtZTpcImFfcHJvamVjdGVkX3Bvc1wiLGNvbXBvbmVudHM6NCx0eXBlOlwiRmxvYXQzMlwifV0sNCk7YmEoW3tuYW1lOlwiYV9mYWRlX29wYWNpdHlcIixjb21wb25lbnRzOjEsdHlwZTpcIlVpbnQzMlwifV0sNCk7Y29uc3QgS209YmEoW3tuYW1lOlwiYV96X29mZnNldFwiLGNvbXBvbmVudHM6MSx0eXBlOlwiRmxvYXQzMlwifV0sNCksSm09YmEoW3tuYW1lOlwiYV90ZXhiXCIsY29tcG9uZW50czoyLHR5cGU6XCJVaW50MTZcIn1dKSxRbT1iYShbe25hbWU6XCJhX3BsYWNlZFwiLGNvbXBvbmVudHM6Mix0eXBlOlwiVWludDhcIn0se25hbWU6XCJhX3NoaWZ0XCIsY29tcG9uZW50czoyLHR5cGU6XCJGbG9hdDMyXCJ9XSksZV89YmEoW3tuYW1lOlwiYV9zaXplX3NjYWxlXCIsY29tcG9uZW50czoxLHR5cGU6XCJGbG9hdDMyXCJ9LHtuYW1lOlwiYV9wYWRkaW5nXCIsY29tcG9uZW50czoyLHR5cGU6XCJGbG9hdDMyXCJ9XSk7YmEoW3t0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvcllcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JaXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwidGlsZUFuY2hvclhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJ0aWxlQW5jaG9yWVwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwieDFcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcInkxXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJ4MlwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwieTJcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwYWRkaW5nXCJ9LHt0eXBlOlwiVWludDMyXCIsbmFtZTpcImZlYXR1cmVJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJzb3VyY2VMYXllckluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImJ1Y2tldEluZGV4XCJ9XSk7Y29uc3QgdF89YmEoW3tuYW1lOlwiYV9wb3NcIixjb21wb25lbnRzOjMsdHlwZTpcIkludDE2XCJ9LHtuYW1lOlwiYV9hbmNob3JfcG9zXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfZXh0cnVkZVwiLGNvbXBvbmVudHM6Mix0eXBlOlwiSW50MTZcIn1dLDQpLGlfPWJhKFt7bmFtZTpcImFfcG9zXzJmXCIsY29tcG9uZW50czoyLHR5cGU6XCJGbG9hdDMyXCJ9LHtuYW1lOlwiYV9yYWRpdXNcIixjb21wb25lbnRzOjEsdHlwZTpcIkZsb2F0MzJcIn0se25hbWU6XCJhX2ZsYWdzXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifV0sNCk7YmEoW3tuYW1lOlwidHJpYW5nbGVcIixjb21wb25lbnRzOjMsdHlwZTpcIlVpbnQxNlwifV0pLGJhKFt7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvclhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JZXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWlwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwidGlsZUFuY2hvclhcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcInRpbGVBbmNob3JZXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImdseXBoU3RhcnRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJudW1HbHlwaHNcIn0se3R5cGU6XCJVaW50MzJcIixuYW1lOlwidmVydGV4U3RhcnRJbmRleFwifSx7dHlwZTpcIlVpbnQzMlwiLG5hbWU6XCJsaW5lU3RhcnRJbmRleFwifSx7dHlwZTpcIlVpbnQzMlwiLG5hbWU6XCJsaW5lTGVuZ3RoXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInNlZ21lbnRcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwibG93ZXJTaXplXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInVwcGVyU2l6ZVwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwibGluZU9mZnNldFhcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcImxpbmVPZmZzZXRZXCJ9LHt0eXBlOlwiVWludDhcIixuYW1lOlwid3JpdGluZ01vZGVcIn0se3R5cGU6XCJVaW50OFwiLG5hbWU6XCJwbGFjZWRPcmllbnRhdGlvblwifSx7dHlwZTpcIlVpbnQ4XCIsbmFtZTpcImhpZGRlblwifSx7dHlwZTpcIlVpbnQzMlwiLG5hbWU6XCJjcm9zc1RpbGVJRFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcImFzc29jaWF0ZWRJY29uSW5kZXhcIn0se3R5cGU6XCJVaW50OFwiLG5hbWU6XCJmbGlwU3RhdGVcIn1dKSxiYShbe3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcInRpbGVBbmNob3JYXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJ0aWxlQW5jaG9yWVwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvclhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JZXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWlwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwiY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwibGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicGxhY2VkSWNvblN5bWJvbEluZGV4XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwidmVydGljYWxQbGFjZWRJY29uU3ltYm9sSW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwia2V5XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInRleHRCb3hTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInRleHRCb3hFbmRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJ2ZXJ0aWNhbFRleHRCb3hTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInZlcnRpY2FsVGV4dEJveEVuZEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImljb25Cb3hTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImljb25Cb3hFbmRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJ2ZXJ0aWNhbEljb25Cb3hTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInZlcnRpY2FsSWNvbkJveEVuZEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImZlYXR1cmVJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJudW1Ib3Jpem9udGFsR2x5cGhWZXJ0aWNlc1wifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJudW1WZXJ0aWNhbEdseXBoVmVydGljZXNcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwibnVtSWNvblZlcnRpY2VzXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcIm51bVZlcnRpY2FsSWNvblZlcnRpY2VzXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInVzZVJ1bnRpbWVDb2xsaXNpb25DaXJjbGVzXCJ9LHt0eXBlOlwiVWludDMyXCIsbmFtZTpcImNyb3NzVGlsZUlEXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLGNvbXBvbmVudHM6MixuYW1lOlwidGV4dE9mZnNldFwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwiY29sbGlzaW9uQ2lyY2xlRGlhbWV0ZXJcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcInpPZmZzZXRcIn0se3R5cGU6XCJVaW50OFwiLG5hbWU6XCJoYXNJY29uVGV4dEZpdFwifV0pLGJhKFt7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwib2Zmc2V0WFwifV0pLGJhKFt7dHlwZTpcIkludDE2XCIsbmFtZTpcInhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJ5XCJ9XSk7dmFyIHJfPTI0O2NvbnN0IG5fPTEyODtmdW5jdGlvbiBvXyhlLHQpe2NvbnN0e2V4cHJlc3Npb246aX09dDtpZihcImNvbnN0YW50XCI9PT1pLmtpbmQpcmV0dXJuIHtraW5kOlwiY29uc3RhbnRcIixsYXlvdXRTaXplOmkuZXZhbHVhdGUobmV3IGVhKGUrMSkpfTtpZihcInNvdXJjZVwiPT09aS5raW5kKXJldHVybiB7a2luZDpcInNvdXJjZVwifTt7Y29uc3R7em9vbVN0b3BzOnQsaW50ZXJwb2xhdGlvblR5cGU6cn09aTtsZXQgbj0wO2Zvcig7bjx0Lmxlbmd0aCYmdFtuXTw9ZTspbisrO249TWF0aC5tYXgoMCxuLTEpO2xldCBvPW47Zm9yKDtvPHQubGVuZ3RoJiZ0W29dPGUrMTspbysrO289TWF0aC5taW4odC5sZW5ndGgtMSxvKTtjb25zdCBzPXRbbl0sYT10W29dO3JldHVybiBcImNvbXBvc2l0ZVwiPT09aS5raW5kP3traW5kOlwiY29tcG9zaXRlXCIsbWluWm9vbTpzLG1heFpvb206YSxpbnRlcnBvbGF0aW9uVHlwZTpyfTp7a2luZDpcImNhbWVyYVwiLG1pblpvb206cyxtYXhab29tOmEsbWluU2l6ZTppLmV2YWx1YXRlKG5ldyBlYShzKSksbWF4U2l6ZTppLmV2YWx1YXRlKG5ldyBlYShhKSksaW50ZXJwb2xhdGlvblR5cGU6cn19fWZ1bmN0aW9uIHNfKGUse3VTaXplOnQsdVNpemVUOml9LHtsb3dlclNpemU6cix1cHBlclNpemU6bn0pe3JldHVybiBcInNvdXJjZVwiPT09ZS5raW5kP3Ivbl86XCJjb21wb3NpdGVcIj09PWUua2luZD9XcihyL25fLG4vbl8saSk6dH1mdW5jdGlvbiBhXyhlLHQpe2xldCBpPTAscj0wO2lmKFwiY29uc3RhbnRcIj09PWUua2luZClyPWUubGF5b3V0U2l6ZTtlbHNlIGlmKFwic291cmNlXCIhPT1lLmtpbmQpe2NvbnN0e2ludGVycG9sYXRpb25UeXBlOm4sbWluWm9vbTpvLG1heFpvb206c309ZSxhPW4/eih5bi5pbnRlcnBvbGF0aW9uRmFjdG9yKG4sdCxvLHMpLDAsMSk6MDtcImNhbWVyYVwiPT09ZS5raW5kP3I9V3IoZS5taW5TaXplLGUubWF4U2l6ZSxhKTppPWE7fXJldHVybiB7dVNpemVUOmksdVNpemU6cn19dmFyIGxfPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLFNJWkVfUEFDS19GQUNUT1I6bl8sZXZhbHVhdGVTaXplRm9yRmVhdHVyZTpzXyxldmFsdWF0ZVNpemVGb3Jab29tOmFfLGdldFNpemVEYXRhOm9ffSk7ZnVuY3Rpb24gY18oZSx0LGkpe3JldHVybiBlLnNlY3Rpb25zLmZvckVhY2goKGU9PntlLnRleHQ9ZnVuY3Rpb24oZSx0LGkpe2NvbnN0IHI9dC5sYXlvdXQuZ2V0KFwidGV4dC10cmFuc2Zvcm1cIikuZXZhbHVhdGUoaSx7fSk7cmV0dXJuIFwidXBwZXJjYXNlXCI9PT1yP2U9ZS50b0xvY2FsZVVwcGVyQ2FzZSgpOlwibG93ZXJjYXNlXCI9PT1yJiYoZT1lLnRvTG9jYWxlTG93ZXJDYXNlKCkpLFFzLmFwcGx5QXJhYmljU2hhcGluZyYmKGU9UXMuYXBwbHlBcmFiaWNTaGFwaW5nKGUpKSxlfShlLnRleHQsdCxpKTt9KSksZX1jb25zdCBoXz17XCIhXCI6XCLvuJVcIixcIiNcIjpcIu+8g1wiLCQ6XCLvvIRcIixcIiVcIjpcIu+8hVwiLFwiJlwiOlwi77yGXCIsXCIoXCI6XCLvuLVcIixcIilcIjpcIu+4tlwiLFwiKlwiOlwi77yKXCIsXCIrXCI6XCLvvItcIixcIixcIjpcIu+4kFwiLFwiLVwiOlwi77iyXCIsXCIuXCI6XCLjg7tcIixcIi9cIjpcIu+8j1wiLFwiOlwiOlwi77iTXCIsXCI7XCI6XCLvuJRcIixcIjxcIjpcIu+4v1wiLFwiPVwiOlwi77ydXCIsXCI+XCI6XCLvuYBcIixcIj9cIjpcIu+4llwiLFwiQFwiOlwi77ygXCIsXCJbXCI6XCLvuYdcIixcIlxcXFxcIjpcIu+8vFwiLFwiXVwiOlwi77mIXCIsXCJeXCI6XCLvvL5cIixfOlwi77izXCIsXCJgXCI6XCLvvYBcIixcIntcIjpcIu+4t1wiLFwifFwiOlwi4oCVXCIsXCJ9XCI6XCLvuLhcIixcIn5cIjpcIu+9nlwiLFwiwqJcIjpcIu+/oFwiLFwiwqNcIjpcIu+/oVwiLFwiwqVcIjpcIu+/pVwiLFwiwqZcIjpcIu+/pFwiLFwiwqxcIjpcIu+/olwiLFwiwq9cIjpcIu+/o1wiLFwi4oCTXCI6XCLvuLJcIixcIuKAlFwiOlwi77ixXCIsXCLigJhcIjpcIu+5g1wiLFwi4oCZXCI6XCLvuYRcIixcIuKAnFwiOlwi77mBXCIsXCLigJ1cIjpcIu+5glwiLFwi4oCmXCI6XCLvuJlcIixcIuKAp1wiOlwi44O7XCIsXCLigqlcIjpcIu+/plwiLFwi44CBXCI6XCLvuJFcIixcIuOAglwiOlwi77iSXCIsXCLjgIhcIjpcIu+4v1wiLFwi44CJXCI6XCLvuYBcIixcIuOAilwiOlwi77i9XCIsXCLjgItcIjpcIu+4vlwiLFwi44CMXCI6XCLvuYFcIixcIuOAjVwiOlwi77mCXCIsXCLjgI5cIjpcIu+5g1wiLFwi44CPXCI6XCLvuYRcIixcIuOAkFwiOlwi77i7XCIsXCLjgJFcIjpcIu+4vFwiLFwi44CUXCI6XCLvuLlcIixcIuOAlVwiOlwi77i6XCIsXCLjgJZcIjpcIu+4l1wiLFwi44CXXCI6XCLvuJhcIixcIu+8gVwiOlwi77iVXCIsXCLvvIhcIjpcIu+4tVwiLFwi77yJXCI6XCLvuLZcIixcIu+8jFwiOlwi77iQXCIsXCLvvI1cIjpcIu+4slwiLFwi77yOXCI6XCLjg7tcIixcIu+8mlwiOlwi77iTXCIsXCLvvJtcIjpcIu+4lFwiLFwi77ycXCI6XCLvuL9cIixcIu+8nlwiOlwi77mAXCIsXCLvvJ9cIjpcIu+4llwiLFwi77y7XCI6XCLvuYdcIixcIu+8vVwiOlwi77mIXCIsXCLvvL9cIjpcIu+4s1wiLFwi772bXCI6XCLvuLdcIixcIu+9nFwiOlwi4oCVXCIsXCLvvZ1cIjpcIu+4uFwiLFwi772fXCI6XCLvuLVcIixcIu+9oFwiOlwi77i2XCIsXCLvvaFcIjpcIu+4klwiLFwi772iXCI6XCLvuYFcIixcIu+9o1wiOlwi77mCXCIsXCLihpBcIjpcIuKGkVwiLFwi4oaSXCI6XCLihpNcIn07ZnVuY3Rpb24gdV8oZSl7cmV0dXJuIFwi77i2XCI9PT1lfHxcIu+5iFwiPT09ZXx8XCLvuLhcIj09PWV8fFwi77mEXCI9PT1lfHxcIu+5glwiPT09ZXx8XCLvuL5cIj09PWV8fFwi77i8XCI9PT1lfHxcIu+4ulwiPT09ZXx8XCLvuJhcIj09PWV8fFwi77mAXCI9PT1lfHxcIu+4kFwiPT09ZXx8XCLvuJNcIj09PWV8fFwi77iUXCI9PT1lfHxcIu+9gFwiPT09ZXx8XCLvv6NcIj09PWV8fFwi77iRXCI9PT1lfHxcIu+4klwiPT09ZX1mdW5jdGlvbiBkXyhlKXtyZXR1cm4gXCLvuLVcIj09PWV8fFwi77mHXCI9PT1lfHxcIu+4t1wiPT09ZXx8XCLvuYNcIj09PWV8fFwi77mBXCI9PT1lfHxcIu+4vVwiPT09ZXx8XCLvuLtcIj09PWV8fFwi77i5XCI9PT1lfHxcIu+4l1wiPT09ZXx8XCLvuL9cIj09PWV9Y29uc3QgcF89MztmdW5jdGlvbiBmXyhlLHQsaSl7dC5nbHlwaHM9W10sMT09PWUmJmkucmVhZE1lc3NhZ2UobV8sdCk7fWZ1bmN0aW9uIG1fKGUsdCxpKXtpZigzPT09ZSl7Y29uc3R7aWQ6ZSxiaXRtYXA6cix3aWR0aDpuLGhlaWdodDpvLGxlZnQ6cyx0b3A6YSxhZHZhbmNlOmx9PWkucmVhZE1lc3NhZ2UoX18se30pO3QuZ2x5cGhzLnB1c2goe2lkOmUsYml0bWFwOm5ldyBacCh7d2lkdGg6bisyKnBfLGhlaWdodDpvKzIqcF99LHIpLG1ldHJpY3M6e3dpZHRoOm4saGVpZ2h0Om8sbGVmdDpzLHRvcDphLGFkdmFuY2U6bH19KTt9ZWxzZSA0PT09ZT90LmFzY2VuZGVyPWkucmVhZFNWYXJpbnQoKTo1PT09ZSYmKHQuZGVzY2VuZGVyPWkucmVhZFNWYXJpbnQoKSk7fWZ1bmN0aW9uIF9fKGUsdCxpKXsxPT09ZT90LmlkPWkucmVhZFZhcmludCgpOjI9PT1lP3QuYml0bWFwPWkucmVhZEJ5dGVzKCk6Mz09PWU/dC53aWR0aD1pLnJlYWRWYXJpbnQoKTo0PT09ZT90LmhlaWdodD1pLnJlYWRWYXJpbnQoKTo1PT09ZT90LmxlZnQ9aS5yZWFkU1ZhcmludCgpOjY9PT1lP3QudG9wPWkucmVhZFNWYXJpbnQoKTo3PT09ZSYmKHQuYWR2YW5jZT1pLnJlYWRWYXJpbnQoKSk7fWNvbnN0IGdfPXBfO2Z1bmN0aW9uIHlfKGUpe2xldCB0PTAsaT0wO2Zvcihjb25zdCByIG9mIGUpdCs9ci53KnIuaCxpPU1hdGgubWF4KGksci53KTtlLnNvcnQoKChlLHQpPT50LmgtZS5oKSk7Y29uc3Qgcj1be3g6MCx5OjAsdzpNYXRoLm1heChNYXRoLmNlaWwoTWF0aC5zcXJ0KHQvLjk1KSksaSksaDoxLzB9XTtsZXQgbj0wLG89MDtmb3IoY29uc3QgdCBvZiBlKWZvcihsZXQgZT1yLmxlbmd0aC0xO2U+PTA7ZS0tKXtjb25zdCBpPXJbZV07aWYoISh0Lnc+aS53fHx0Lmg+aS5oKSl7aWYodC54PWkueCx0Lnk9aS55LG89TWF0aC5tYXgobyx0LnkrdC5oKSxuPU1hdGgubWF4KG4sdC54K3QudyksdC53PT09aS53JiZ0Lmg9PT1pLmgpe2NvbnN0IHQ9ci5wb3AoKTtlPHIubGVuZ3RoJiYocltlXT10KTt9ZWxzZSB0Lmg9PT1pLmg/KGkueCs9dC53LGkudy09dC53KTp0Lnc9PT1pLnc/KGkueSs9dC5oLGkuaC09dC5oKTooci5wdXNoKHt4OmkueCt0LncseTppLnksdzppLnctdC53LGg6dC5ofSksaS55Kz10LmgsaS5oLT10LmgpO2JyZWFrfX1yZXR1cm4ge3c6bixoOm8sZmlsbDp0LyhuKm8pfHwwfX1jb25zdCB4Xz0xO2NsYXNzIHZfe2NvbnN0cnVjdG9yKGUse3BpeGVsUmF0aW86dCx2ZXJzaW9uOmksc3RyZXRjaFg6cixzdHJldGNoWTpuLGNvbnRlbnQ6b30pe3RoaXMucGFkZGVkUmVjdD1lLHRoaXMucGl4ZWxSYXRpbz10LHRoaXMuc3RyZXRjaFg9cix0aGlzLnN0cmV0Y2hZPW4sdGhpcy5jb250ZW50PW8sdGhpcy52ZXJzaW9uPWk7fWdldCB0bCgpe3JldHVybiBbdGhpcy5wYWRkZWRSZWN0LngreF8sdGhpcy5wYWRkZWRSZWN0LnkreF9dfWdldCBicigpe3JldHVybiBbdGhpcy5wYWRkZWRSZWN0LngrdGhpcy5wYWRkZWRSZWN0LncteF8sdGhpcy5wYWRkZWRSZWN0LnkrdGhpcy5wYWRkZWRSZWN0LmgteF9dfWdldCBkaXNwbGF5U2l6ZSgpe3JldHVybiBbKHRoaXMucGFkZGVkUmVjdC53LTIqeF8pL3RoaXMucGl4ZWxSYXRpbywodGhpcy5wYWRkZWRSZWN0LmgtMip4XykvdGhpcy5waXhlbFJhdGlvXX19Y2xhc3MgYl97Y29uc3RydWN0b3IoZSx0KXtjb25zdCBpPXt9LHI9e307dGhpcy5oYXZlUmVuZGVyQ2FsbGJhY2tzPVtdO2NvbnN0IG49W107dGhpcy5hZGRJbWFnZXMoZSxpLG4pLHRoaXMuYWRkSW1hZ2VzKHQscixuKTtjb25zdHt3Om8saDpzfT15XyhuKSxhPW5ldyAkcCh7d2lkdGg6b3x8MSxoZWlnaHQ6c3x8MX0pO2Zvcihjb25zdCB0IGluIGUpe2NvbnN0IHI9ZVt0XSxuPWlbdF0ucGFkZGVkUmVjdDskcC5jb3B5KHIuZGF0YSxhLHt4OjAseTowfSx7eDpuLngreF8seTpuLnkreF99LHIuZGF0YSk7fWZvcihjb25zdCBlIGluIHQpe2NvbnN0IGk9dFtlXSxuPXJbZV0ucGFkZGVkUmVjdCxvPW4ueCt4XyxzPW4ueSt4XyxsPWkuZGF0YS53aWR0aCxjPWkuZGF0YS5oZWlnaHQ7JHAuY29weShpLmRhdGEsYSx7eDowLHk6MH0se3g6byx5OnN9LGkuZGF0YSksJHAuY29weShpLmRhdGEsYSx7eDowLHk6Yy0xfSx7eDpvLHk6cy0xfSx7d2lkdGg6bCxoZWlnaHQ6MX0pLCRwLmNvcHkoaS5kYXRhLGEse3g6MCx5OjB9LHt4Om8seTpzK2N9LHt3aWR0aDpsLGhlaWdodDoxfSksJHAuY29weShpLmRhdGEsYSx7eDpsLTEseTowfSx7eDpvLTEseTpzfSx7d2lkdGg6MSxoZWlnaHQ6Y30pLCRwLmNvcHkoaS5kYXRhLGEse3g6MCx5OjB9LHt4Om8rbCx5OnN9LHt3aWR0aDoxLGhlaWdodDpjfSk7fXRoaXMuaW1hZ2U9YSx0aGlzLmljb25Qb3NpdGlvbnM9aSx0aGlzLnBhdHRlcm5Qb3NpdGlvbnM9cjt9YWRkSW1hZ2VzKGUsdCxpKXtmb3IoY29uc3QgciBpbiBlKXtjb25zdCBuPWVbcl0sbz17eDowLHk6MCx3Om4uZGF0YS53aWR0aCsyKnhfLGg6bi5kYXRhLmhlaWdodCsyKnhffTtpLnB1c2gobyksdFtyXT1uZXcgdl8obyxuKSxuLmhhc1JlbmRlckNhbGxiYWNrJiZ0aGlzLmhhdmVSZW5kZXJDYWxsYmFja3MucHVzaChyKTt9fXBhdGNoVXBkYXRlZEltYWdlcyhlLHQsaSl7dGhpcy5oYXZlUmVuZGVyQ2FsbGJhY2tzPXRoaXMuaGF2ZVJlbmRlckNhbGxiYWNrcy5maWx0ZXIoKHQ9PmUuaGFzSW1hZ2UodCxpKSkpLGUuZGlzcGF0Y2hSZW5kZXJDYWxsYmFja3ModGhpcy5oYXZlUmVuZGVyQ2FsbGJhY2tzLGkpO2Zvcihjb25zdCByIGluIGUuZ2V0VXBkYXRlZEltYWdlcyhpKSl0aGlzLnBhdGNoVXBkYXRlZEltYWdlKHRoaXMuaWNvblBvc2l0aW9uc1tyXSxlLmdldEltYWdlKHIsaSksdCksdGhpcy5wYXRjaFVwZGF0ZWRJbWFnZSh0aGlzLnBhdHRlcm5Qb3NpdGlvbnNbcl0sZS5nZXRJbWFnZShyLGkpLHQpO31wYXRjaFVwZGF0ZWRJbWFnZShlLHQsaSl7aWYoIWV8fCF0KXJldHVybjtpZihlLnZlcnNpb249PT10LnZlcnNpb24pcmV0dXJuO2UudmVyc2lvbj10LnZlcnNpb247Y29uc3RbcixuXT1lLnRsO2kudXBkYXRlKHQuZGF0YSx2b2lkIDAse3g6cix5Om59KTt9fUlzKHZfLFwiSW1hZ2VQb3NpdGlvblwiKSxJcyhiXyxcIkltYWdlQXRsYXNcIik7Y29uc3Qgd189e2hvcml6b250YWw6MSx2ZXJ0aWNhbDoyLGhvcml6b250YWxPbmx5OjN9LFRfPS0xNztjbGFzcyBFX3tjb25zdHJ1Y3Rvcigpe3RoaXMuc2NhbGU9MSx0aGlzLmZvbnRTdGFjaz1cIlwiLHRoaXMuaW1hZ2VOYW1lPW51bGw7fXN0YXRpYyBmb3JUZXh0KGUsdCl7Y29uc3QgaT1uZXcgRV87cmV0dXJuIGkuc2NhbGU9ZXx8MSxpLmZvbnRTdGFjaz10LGl9c3RhdGljIGZvckltYWdlKGUpe2NvbnN0IHQ9bmV3IEVfO3JldHVybiB0LmltYWdlTmFtZT1lLHR9fWNsYXNzIE1fe2NvbnN0cnVjdG9yKCl7dGhpcy50ZXh0PVwiXCIsdGhpcy5zZWN0aW9uSW5kZXg9W10sdGhpcy5zZWN0aW9ucz1bXSx0aGlzLmltYWdlU2VjdGlvbklEPW51bGw7fXN0YXRpYyBmcm9tRmVhdHVyZShlLHQpe2NvbnN0IGk9bmV3IE1fO2ZvcihsZXQgcj0wO3I8ZS5zZWN0aW9ucy5sZW5ndGg7cisrKXtjb25zdCBuPWUuc2VjdGlvbnNbcl07bi5pbWFnZT9pLmFkZEltYWdlU2VjdGlvbihuKTppLmFkZFRleHRTZWN0aW9uKG4sdCk7fXJldHVybiBpfWxlbmd0aCgpe3JldHVybiB0aGlzLnRleHQubGVuZ3RofWdldFNlY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2VjdGlvbnNbdGhpcy5zZWN0aW9uSW5kZXhbZV1dfWdldFNlY3Rpb25zKCl7cmV0dXJuIHRoaXMuc2VjdGlvbnN9Z2V0U2VjdGlvbkluZGV4KGUpe3JldHVybiB0aGlzLnNlY3Rpb25JbmRleFtlXX1nZXRDb2RlUG9pbnQoZSl7cmV0dXJuIHRoaXMudGV4dC5jb2RlUG9pbnRBdChlKX12ZXJ0aWNhbGl6ZVB1bmN0dWF0aW9uKGUpe3RoaXMudGV4dD1mdW5jdGlvbihlLHQpe2xldCBpPVwiXCI7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2NvbnN0IG49ZS5jaGFyQ29kZUF0KHIrMSl8fG51bGwsbz1lLmNoYXJDb2RlQXQoci0xKXx8bnVsbDtpKz0hdCYmKG4mJkZzKG4pJiYhaF9bZVtyKzFdXXx8byYmRnMobykmJiFoX1tlW3ItMV1dKXx8IWhfW2Vbcl1dP2Vbcl06aF9bZVtyXV07fXJldHVybiBpfSh0aGlzLnRleHQsZSk7fXRyaW0oKXtsZXQgZT0wO2ZvcihsZXQgdD0wO3Q8dGhpcy50ZXh0Lmxlbmd0aCYmU19bdGhpcy50ZXh0LmNoYXJDb2RlQXQodCldO3QrKyllKys7bGV0IHQ9dGhpcy50ZXh0Lmxlbmd0aDtmb3IobGV0IGk9dGhpcy50ZXh0Lmxlbmd0aC0xO2k+PTAmJmk+PWUmJlNfW3RoaXMudGV4dC5jaGFyQ29kZUF0KGkpXTtpLS0pdC0tO3RoaXMudGV4dD10aGlzLnRleHQuc3Vic3RyaW5nKGUsdCksdGhpcy5zZWN0aW9uSW5kZXg9dGhpcy5zZWN0aW9uSW5kZXguc2xpY2UoZSx0KTt9c3Vic3RyaW5nKGUsdCl7Y29uc3QgaT1uZXcgTV87cmV0dXJuIGkudGV4dD10aGlzLnRleHQuc3Vic3RyaW5nKGUsdCksaS5zZWN0aW9uSW5kZXg9dGhpcy5zZWN0aW9uSW5kZXguc2xpY2UoZSx0KSxpLnNlY3Rpb25zPXRoaXMuc2VjdGlvbnMsaX10b1N0cmluZygpe3JldHVybiB0aGlzLnRleHR9Z2V0TWF4U2NhbGUoKXtyZXR1cm4gdGhpcy5zZWN0aW9uSW5kZXgucmVkdWNlKCgoZSx0KT0+TWF0aC5tYXgoZSx0aGlzLnNlY3Rpb25zW3RdLnNjYWxlKSksMCl9YWRkVGV4dFNlY3Rpb24oZSx0KXt0aGlzLnRleHQrPWUudGV4dCx0aGlzLnNlY3Rpb25zLnB1c2goRV8uZm9yVGV4dChlLnNjYWxlLGUuZm9udFN0YWNrfHx0KSk7Y29uc3QgaT10aGlzLnNlY3Rpb25zLmxlbmd0aC0xO2ZvcihsZXQgdD0wO3Q8ZS50ZXh0Lmxlbmd0aDsrK3QpdGhpcy5zZWN0aW9uSW5kZXgucHVzaChpKTt9YWRkSW1hZ2VTZWN0aW9uKGUpe2NvbnN0IHQ9ZS5pbWFnZT9lLmltYWdlLm5hbWVQcmltYXJ5OlwiXCI7aWYoMD09PXQubGVuZ3RoKXJldHVybiB2b2lkIFcoXCJDYW4ndCBhZGQgRm9ybWF0dGVkU2VjdGlvbiB3aXRoIGFuIGVtcHR5IGltYWdlLlwiKTtjb25zdCBpPXRoaXMuZ2V0TmV4dEltYWdlU2VjdGlvbkNoYXJDb2RlKCk7aT8odGhpcy50ZXh0Kz1TdHJpbmcuZnJvbUNvZGVQb2ludChpKSx0aGlzLnNlY3Rpb25zLnB1c2goRV8uZm9ySW1hZ2UodCkpLHRoaXMuc2VjdGlvbkluZGV4LnB1c2godGhpcy5zZWN0aW9ucy5sZW5ndGgtMSkpOlcoXCJSZWFjaGVkIG1heGltdW0gbnVtYmVyIG9mIGltYWdlcyA2NDAxXCIpO31nZXROZXh0SW1hZ2VTZWN0aW9uQ2hhckNvZGUoKXtyZXR1cm4gdGhpcy5pbWFnZVNlY3Rpb25JRD90aGlzLmltYWdlU2VjdGlvbklEPj02Mzc0Mz9udWxsOisrdGhpcy5pbWFnZVNlY3Rpb25JRDoodGhpcy5pbWFnZVNlY3Rpb25JRD01NzM0NCx0aGlzLmltYWdlU2VjdGlvbklEKX19ZnVuY3Rpb24gQV8oZSx0LGkscixuLG8scyxhLGwsYyxoLHUsZCxwLGYpe2NvbnN0IG09TV8uZnJvbUZlYXR1cmUoZSxuKTt1PT09d18udmVydGljYWwmJm0udmVydGljYWxpemVQdW5jdHVhdGlvbihkKTtsZXQgXz1bXTtjb25zdCBnPWZ1bmN0aW9uKGUsdCxpLHIsbixvKXtpZighZSlyZXR1cm4gW107Y29uc3Qgcz1bXSxhPWZ1bmN0aW9uKGUsdCxpLHIsbixvKXtsZXQgcz0wO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGgoKTtpKyspe2NvbnN0IGE9ZS5nZXRTZWN0aW9uKGkpO3MrPUNfKGUuZ2V0Q29kZVBvaW50KGkpLGEscixuLHQsbyk7fXJldHVybiBzL01hdGgubWF4KDEsTWF0aC5jZWlsKHMvaSkpfShlLHQsaSxyLG4sbyksbD1lLnRleHQuaW5kZXhPZihcIuKAi1wiKT49MDtsZXQgYz0wO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGgoKTtpKyspe2NvbnN0IHU9ZS5nZXRTZWN0aW9uKGkpLGQ9ZS5nZXRDb2RlUG9pbnQoaSk7aWYoU19bZF18fChjKz1DXyhkLHUscixuLHQsbykpLGk8ZS5sZW5ndGgoKS0xKXtjb25zdCB0PSEoKGg9ZCk8MTE5MDR8fCEoUnNbXCJCb3BvbW9mbyBFeHRlbmRlZFwiXShoKXx8UnMuQm9wb21vZm8oaCl8fFJzW1wiQ0pLIENvbXBhdGliaWxpdHkgRm9ybXNcIl0oaCl8fFJzW1wiQ0pLIENvbXBhdGliaWxpdHkgSWRlb2dyYXBoc1wiXShoKXx8UnNbXCJDSksgQ29tcGF0aWJpbGl0eVwiXShoKXx8UnNbXCJDSksgUmFkaWNhbHMgU3VwcGxlbWVudFwiXShoKXx8UnNbXCJDSksgU3Ryb2tlc1wiXShoKXx8UnNbXCJDSksgU3ltYm9scyBhbmQgUHVuY3R1YXRpb25cIl0oaCl8fFJzW1wiQ0pLIFVuaWZpZWQgSWRlb2dyYXBocyBFeHRlbnNpb24gQVwiXShoKXx8UnNbXCJDSksgVW5pZmllZCBJZGVvZ3JhcGhzXCJdKGgpfHxSc1tcIkVuY2xvc2VkIENKSyBMZXR0ZXJzIGFuZCBNb250aHNcIl0oaCl8fFJzW1wiSGFsZndpZHRoIGFuZCBGdWxsd2lkdGggRm9ybXNcIl0oaCl8fFJzLkhpcmFnYW5hKGgpfHxSc1tcIklkZW9ncmFwaGljIERlc2NyaXB0aW9uIENoYXJhY3RlcnNcIl0oaCl8fFJzW1wiS2FuZ3hpIFJhZGljYWxzXCJdKGgpfHxSc1tcIkthdGFrYW5hIFBob25ldGljIEV4dGVuc2lvbnNcIl0oaCl8fFJzLkthdGFrYW5hKGgpfHxSc1tcIlZlcnRpY2FsIEZvcm1zXCJdKGgpfHxSc1tcIllpIFJhZGljYWxzXCJdKGgpfHxSc1tcIllpIFN5bGxhYmxlc1wiXShoKSkpOyhJX1tkXXx8dHx8dS5pbWFnZU5hbWUpJiZzLnB1c2goUF8oaSsxLGMsYSxzLERfKGQsZS5nZXRDb2RlUG9pbnQoaSsxKSx0JiZsKSwhMSkpO319dmFyIGg7cmV0dXJuIFJfKFBfKGUubGVuZ3RoKCksYyxhLHMsMCwhMCkpfShtLGMsbyx0LHIscCkse3Byb2Nlc3NCaWRpcmVjdGlvbmFsVGV4dDp5LHByb2Nlc3NTdHlsZWRCaWRpcmVjdGlvbmFsVGV4dDp4fT1RcztpZih5JiYxPT09bS5zZWN0aW9ucy5sZW5ndGgpe2NvbnN0IGU9eShtLnRvU3RyaW5nKCksZyk7Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT1uZXcgTV87ZS50ZXh0PXQsZS5zZWN0aW9ucz1tLnNlY3Rpb25zO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKWUuc2VjdGlvbkluZGV4LnB1c2goMCk7Xy5wdXNoKGUpO319ZWxzZSBpZih4KXtjb25zdCBlPXgobS50ZXh0LG0uc2VjdGlvbkluZGV4LGcpO2Zvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9bmV3IE1fO2UudGV4dD10WzBdLGUuc2VjdGlvbkluZGV4PXRbMV0sZS5zZWN0aW9ucz1tLnNlY3Rpb25zLF8ucHVzaChlKTt9fWVsc2UgXz1mdW5jdGlvbihlLHQpe2NvbnN0IGk9W10scj1lLnRleHQ7bGV0IG49MDtmb3IoY29uc3QgciBvZiB0KWkucHVzaChlLnN1YnN0cmluZyhuLHIpKSxuPXI7cmV0dXJuIG48ci5sZW5ndGgmJmkucHVzaChlLnN1YnN0cmluZyhuLHIubGVuZ3RoKSksaX0obSxnKTtjb25zdCB2PVtdLGI9e3Bvc2l0aW9uZWRMaW5lczp2LHRleHQ6bS50b1N0cmluZygpLHRvcDpoWzFdLGJvdHRvbTpoWzFdLGxlZnQ6aFswXSxyaWdodDpoWzBdLHdyaXRpbmdNb2RlOnUsaWNvbnNJblRleHQ6ITEsdmVydGljYWxpemFibGU6ITEsaGFzQmFzZWxpbmU6ITF9O3JldHVybiBmdW5jdGlvbihlLHQsaSxyLG4sbyxzLGEsbCxjLGgsdSl7bGV0IGQ9MCxwPTAsZj0wO2NvbnN0IG09XCJyaWdodFwiPT09YT8xOlwibGVmdFwiPT09YT8wOi41O2xldCBfPSExO2Zvcihjb25zdCBlIG9mIG4pe2NvbnN0IGk9ZS5nZXRTZWN0aW9ucygpO2Zvcihjb25zdCBlIG9mIGkpe2lmKGUuaW1hZ2VOYW1lKWNvbnRpbnVlO2NvbnN0IGk9dFtlLmZvbnRTdGFja107aWYoaSYmKF89dm9pZCAwIT09aS5hc2NlbmRlciYmdm9pZCAwIT09aS5kZXNjZW5kZXIsIV8pKWJyZWFrfWlmKCFfKWJyZWFrfWxldCBnPTA7Zm9yKGNvbnN0IHMgb2Ygbil7cy50cmltKCk7Y29uc3Qgbj1zLmdldE1heFNjYWxlKCksYT0obi0xKSpyXyx4PXtwb3NpdGlvbmVkR2x5cGhzOltdLGxpbmVPZmZzZXQ6MH07ZS5wb3NpdGlvbmVkTGluZXNbZ109eDtjb25zdCB2PXgucG9zaXRpb25lZEdseXBocztsZXQgYj0wO2lmKCFzLmxlbmd0aCgpKXtwKz1vLCsrZztjb250aW51ZX1sZXQgdz0wLFQ9MDtmb3IobGV0IG89MDtvPHMubGVuZ3RoKCk7bysrKXtjb25zdCBhPXMuZ2V0U2VjdGlvbihvKSxmPXMuZ2V0U2VjdGlvbkluZGV4KG8pLG09cy5nZXRDb2RlUG9pbnQobyk7bGV0IGc9YS5zY2FsZSx4PW51bGwsRT1udWxsLE09bnVsbCxBPXJfLFM9MDtjb25zdCBJPSEobD09PXdfLmhvcml6b250YWx8fCFoJiYhQnMobSl8fGgmJihTX1ttXXx8KHk9bSxScy5BcmFiaWMoeSl8fFJzW1wiQXJhYmljIFN1cHBsZW1lbnRcIl0oeSl8fFJzW1wiQXJhYmljIEV4dGVuZGVkLUFcIl0oeSl8fFJzW1wiQXJhYmljIFByZXNlbnRhdGlvbiBGb3Jtcy1BXCJdKHkpfHxSc1tcIkFyYWJpYyBQcmVzZW50YXRpb24gRm9ybXMtQlwiXSh5KSkpKTtpZihhLmltYWdlTmFtZSl7Y29uc3QgdD1yW2EuaW1hZ2VOYW1lXTtpZighdCljb250aW51ZTtNPWEuaW1hZ2VOYW1lLGUuaWNvbnNJblRleHQ9ZS5pY29uc0luVGV4dHx8ITAsRT10LnBhZGRlZFJlY3Q7Y29uc3QgaT10LmRpc3BsYXlTaXplO2c9ZypyXy91LHg9e3dpZHRoOmlbMF0saGVpZ2h0OmlbMV0sbGVmdDp4Xyx0b3A6LWdfLGFkdmFuY2U6ST9pWzFdOmlbMF0sbG9jYWxHbHlwaDohMX0sUz1fPy14LmhlaWdodCpnOlRfK24qcl8taVsxXSpnLEE9eC5hZHZhbmNlO2NvbnN0IG89KEk/aVswXTppWzFdKSpnLXJfKm47bz4wJiZvPmImJihiPW8pO31lbHNlIHtjb25zdCBlPWlbYS5mb250U3RhY2tdO2lmKCFlKWNvbnRpbnVlO2VbbV0mJihFPWVbbV0pO2NvbnN0IHI9dFthLmZvbnRTdGFja107aWYoIXIpY29udGludWU7Y29uc3Qgbz1yLmdseXBoc1ttXTtpZighbyljb250aW51ZTtpZih4PW8ubWV0cmljcyxBPTgyMDMhPT1tP3JfOjAsXyl7Y29uc3QgZT12b2lkIDAhPT1yLmFzY2VuZGVyP01hdGguYWJzKHIuYXNjZW5kZXIpOjAsdD12b2lkIDAhPT1yLmRlc2NlbmRlcj9NYXRoLmFicyhyLmRlc2NlbmRlcik6MCxpPShlK3QpKmc7dzxpJiYodz1pLFQ9KGUtdCkvMipnKSxTPS1lKmc7fWVsc2UgUz1UXysobi1nKSpyXzt9ST8oZS52ZXJ0aWNhbGl6YWJsZT0hMCx2LnB1c2goe2dseXBoOm0saW1hZ2VOYW1lOk0seDpkLHk6cCtTLHZlcnRpY2FsOkksc2NhbGU6Zyxsb2NhbEdseXBoOngubG9jYWxHbHlwaCxmb250U3RhY2s6YS5mb250U3RhY2ssc2VjdGlvbkluZGV4OmYsbWV0cmljczp4LHJlY3Q6RX0pLGQrPUEqZytjKToodi5wdXNoKHtnbHlwaDptLGltYWdlTmFtZTpNLHg6ZCx5OnArUyx2ZXJ0aWNhbDpJLHNjYWxlOmcsbG9jYWxHbHlwaDp4LmxvY2FsR2x5cGgsZm9udFN0YWNrOmEuZm9udFN0YWNrLHNlY3Rpb25JbmRleDpmLG1ldHJpY3M6eCxyZWN0OkV9KSxkKz14LmFkdmFuY2UqZytjKTt9MCE9PXYubGVuZ3RoJiYoZj1NYXRoLm1heChkLWMsZiksXz9rXyh2LG0sYixULG8qbi8yKTprXyh2LG0sYiwwLG8vMikpLGQ9MDtjb25zdCBFPW8qbitiO3gubGluZU9mZnNldD1NYXRoLm1heChiLGEpLHArPUUsKytnO312YXIgeTtjb25zdCB4PXAse2hvcml6b250YWxBbGlnbjp2LHZlcnRpY2FsQWxpZ246Yn09TF8ocyk7KChmdW5jdGlvbihlLHQsaSxyLG4sbyl7Y29uc3Qgcz0odC1pKSpuLGE9LW8qcjtmb3IoY29uc3QgdCBvZiBlKWZvcihjb25zdCBlIG9mIHQucG9zaXRpb25lZEdseXBocyllLngrPXMsZS55Kz1hO30pKShlLnBvc2l0aW9uZWRMaW5lcyxtLHYsYixmLHgpLGUudG9wKz0tYip4LGUuYm90dG9tPWUudG9wK3gsZS5sZWZ0Kz0tdipmLGUucmlnaHQ9ZS5sZWZ0K2YsZS5oYXNCYXNlbGluZT1fO30oYix0LGkscixfLHMsYSxsLHUsYyxkLGYpLCFmdW5jdGlvbihlKXtmb3IoY29uc3QgdCBvZiBlKWlmKDAhPT10LnBvc2l0aW9uZWRHbHlwaHMubGVuZ3RoKXJldHVybiAhMTtyZXR1cm4gITB9KHYpJiZifWNvbnN0IFNfPXs5OiEwLDEwOiEwLDExOiEwLDEyOiEwLDEzOiEwLDMyOiEwfSxJXz17MTA6ITAsMzI6ITAsMzg6ITAsNDA6ITAsNDE6ITAsNDM6ITAsNDU6ITAsNDc6ITAsMTczOiEwLDE4MzohMCw4MjAzOiEwLDgyMDg6ITAsODIxMTohMCw4MjMxOiEwfTtmdW5jdGlvbiBDXyhlLHQsaSxyLG4sbyl7aWYodC5pbWFnZU5hbWUpe2NvbnN0IGU9clt0LmltYWdlTmFtZV07cmV0dXJuIGU/ZS5kaXNwbGF5U2l6ZVswXSp0LnNjYWxlKnJfL28rbjowfXtjb25zdCByPWlbdC5mb250U3RhY2tdLG89ciYmci5nbHlwaHNbZV07cmV0dXJuIG8/by5tZXRyaWNzLmFkdmFuY2UqdC5zY2FsZStuOjB9fWZ1bmN0aW9uIHpfKGUsdCxpLHIpe2NvbnN0IG49TWF0aC5wb3coZS10LDIpO3JldHVybiByP2U8dD9uLzI6MipuOm4rTWF0aC5hYnMoaSkqaX1mdW5jdGlvbiBEXyhlLHQsaSl7bGV0IHI9MDtyZXR1cm4gMTA9PT1lJiYoci09MWU0KSxpJiYocis9MTUwKSw0MCE9PWUmJjY1Mjg4IT09ZXx8KHIrPTUwKSw0MSE9PXQmJjY1Mjg5IT09dHx8KHIrPTUwKSxyfWZ1bmN0aW9uIFBfKGUsdCxpLHIsbixvKXtsZXQgcz1udWxsLGE9el8odCxpLG4sbyk7Zm9yKGNvbnN0IGUgb2Ygcil7Y29uc3Qgcj16Xyh0LWUueCxpLG4sbykrZS5iYWRuZXNzO3I8PWEmJihzPWUsYT1yKTt9cmV0dXJuIHtpbmRleDplLHg6dCxwcmlvckJyZWFrOnMsYmFkbmVzczphfX1mdW5jdGlvbiBSXyhlKXtyZXR1cm4gZT9SXyhlLnByaW9yQnJlYWspLmNvbmNhdChlLmluZGV4KTpbXX1mdW5jdGlvbiBMXyhlKXtsZXQgdD0uNSxpPS41O3N3aXRjaChlKXtjYXNlXCJyaWdodFwiOmNhc2VcInRvcC1yaWdodFwiOmNhc2VcImJvdHRvbS1yaWdodFwiOnQ9MTticmVhaztjYXNlXCJsZWZ0XCI6Y2FzZVwidG9wLWxlZnRcIjpjYXNlXCJib3R0b20tbGVmdFwiOnQ9MDt9c3dpdGNoKGUpe2Nhc2VcImJvdHRvbVwiOmNhc2VcImJvdHRvbS1yaWdodFwiOmNhc2VcImJvdHRvbS1sZWZ0XCI6aT0xO2JyZWFrO2Nhc2VcInRvcFwiOmNhc2VcInRvcC1yaWdodFwiOmNhc2VcInRvcC1sZWZ0XCI6aT0wO31yZXR1cm4ge2hvcml6b250YWxBbGlnbjp0LHZlcnRpY2FsQWxpZ246aX19ZnVuY3Rpb24ga18oZSx0LGkscixuKXtpZighKHR8fGl8fHJ8fG4pKXJldHVybjtjb25zdCBvPWUubGVuZ3RoLTEscz1lW29dLGE9KHMueCtzLm1ldHJpY3MuYWR2YW5jZSpzLnNjYWxlKSp0O2ZvcihsZXQgdD0wO3Q8PW87dCsrKWVbdF0ueC09YSxlW3RdLnkrPWkrcituO31mdW5jdGlvbiBPXyhlLHQsaSxyKXtjb25zdHtob3Jpem9udGFsQWxpZ246bix2ZXJ0aWNhbEFsaWduOm99PUxfKHIpLHM9aVswXS1lLmRpc3BsYXlTaXplWzBdKm4sYT1pWzFdLWUuZGlzcGxheVNpemVbMV0qbztyZXR1cm4ge2ltYWdlUHJpbWFyeTplLGltYWdlU2Vjb25kYXJ5OnQsdG9wOmEsYm90dG9tOmErZS5kaXNwbGF5U2l6ZVsxXSxsZWZ0OnMscmlnaHQ6cytlLmRpc3BsYXlTaXplWzBdfX1mdW5jdGlvbiBCXyhlLHQsaSxyLG4sbyl7Y29uc3Qgcz1lLmltYWdlUHJpbWFyeTtsZXQgYTtpZihzLmNvbnRlbnQpe2NvbnN0IGU9cy5jb250ZW50LHQ9cy5waXhlbFJhdGlvfHwxO2E9W2VbMF0vdCxlWzFdL3Qscy5kaXNwbGF5U2l6ZVswXS1lWzJdL3Qscy5kaXNwbGF5U2l6ZVsxXS1lWzNdL3RdO31jb25zdCBsPXQubGVmdCpvLGM9dC5yaWdodCpvO2xldCBoLHUsZCxwO1wid2lkdGhcIj09PWl8fFwiYm90aFwiPT09aT8ocD1uWzBdK2wtclszXSx1PW5bMF0rYytyWzFdKToocD1uWzBdKyhsK2Mtcy5kaXNwbGF5U2l6ZVswXSkvMix1PXArcy5kaXNwbGF5U2l6ZVswXSk7Y29uc3QgZj10LnRvcCpvLG09dC5ib3R0b20qbztyZXR1cm4gXCJoZWlnaHRcIj09PWl8fFwiYm90aFwiPT09aT8oaD1uWzFdK2YtclswXSxkPW5bMV0rbStyWzJdKTooaD1uWzFdKyhmK20tcy5kaXNwbGF5U2l6ZVsxXSkvMixkPWgrcy5kaXNwbGF5U2l6ZVsxXSkse2ltYWdlUHJpbWFyeTpzLGltYWdlU2Vjb25kYXJ5OnZvaWQgMCx0b3A6aCxyaWdodDp1LGJvdHRvbTpkLGxlZnQ6cCxjb2xsaXNpb25QYWRkaW5nOmF9fWNsYXNzIEZfIGV4dGVuZHMgeXtjb25zdHJ1Y3RvcihlLHQsaSxyLG4pe3N1cGVyKGUsdCksdGhpcy5hbmdsZT1yLHRoaXMuej1pLHZvaWQgMCE9PW4mJih0aGlzLnNlZ21lbnQ9bik7fWNsb25lKCl7cmV0dXJuIG5ldyBGXyh0aGlzLngsdGhpcy55LHRoaXMueix0aGlzLmFuZ2xlLHRoaXMuc2VnbWVudCl9fWZ1bmN0aW9uIE5fKGUsdCxpLHIsbil7aWYodm9pZCAwPT09dC5zZWdtZW50KXJldHVybiAhMDtsZXQgbz10LHM9dC5zZWdtZW50KzEsYT0wO2Zvcig7YT4taS8yOyl7aWYocy0tLHM8MClyZXR1cm4gITE7YS09ZVtzXS5kaXN0KG8pLG89ZVtzXTt9YSs9ZVtzXS5kaXN0KGVbcysxXSkscysrO2NvbnN0IGw9W107bGV0IGM9MDtmb3IoO2E8aS8yOyl7Y29uc3QgdD1lW3NdLGk9ZVtzKzFdO2lmKCFpKXJldHVybiAhMTtsZXQgbz1lW3MtMV0uYW5nbGVUbyh0KS10LmFuZ2xlVG8oaSk7Zm9yKG89TWF0aC5hYnMoKG8rMypNYXRoLlBJKSUoMipNYXRoLlBJKS1NYXRoLlBJKSxsLnB1c2goe2Rpc3RhbmNlOmEsYW5nbGVEZWx0YTpvfSksYys9bzthLWxbMF0uZGlzdGFuY2U+cjspYy09bC5zaGlmdCgpLmFuZ2xlRGVsdGE7aWYoYz5uKXJldHVybiAhMTtzKyssYSs9dC5kaXN0KGkpO31yZXR1cm4gITB9ZnVuY3Rpb24gVV8oZSl7bGV0IHQ9MDtmb3IobGV0IGk9MDtpPGUubGVuZ3RoLTE7aSsrKXQrPWVbaV0uZGlzdChlW2krMV0pO3JldHVybiB0fWZ1bmN0aW9uIFZfKGUsdCxpKXtyZXR1cm4gZT8uNip0Kmk6MH1mdW5jdGlvbiBqXyhlLHQpe3JldHVybiBNYXRoLm1heChlP2UucmlnaHQtZS5sZWZ0OjAsdD90LnJpZ2h0LXQubGVmdDowKX1mdW5jdGlvbiBHXyhlLHQsaSxyLG4sbyl7Y29uc3Qgcz1WXyhpLG4sbyksYT1qXyhpLHIpKm87bGV0IGw9MDtjb25zdCBjPVVfKGUpLzI7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aC0xO2krKyl7Y29uc3Qgcj1lW2ldLG49ZVtpKzFdLG89ci5kaXN0KG4pO2lmKGwrbz5jKXtjb25zdCBoPShjLWwpL28sdT1XcihyLngsbi54LGgpLGQ9V3Ioci55LG4ueSxoKSxwPW5ldyBGXyh1LGQsMCxuLmFuZ2xlVG8ociksaSk7cmV0dXJuICFzfHxOXyhlLHAsYSxzLHQpP3A6dm9pZCAwfWwrPW87fX1mdW5jdGlvbiBxXyhlLHQsaSxyLG4sbyxzLGEsbCl7Y29uc3QgYz1WXyhyLG8scyksaD1qXyhyLG4pLHU9aCpzLGQ9MD09PWVbMF0ueHx8ZVswXS54PT09bHx8MD09PWVbMF0ueXx8ZVswXS55PT09bDtyZXR1cm4gdC11PHQvNCYmKHQ9dSt0LzQpLFpfKGUsZD90LzIqYSV0OihoLzIrMipvKSpzKmEldCx0LGMsaSx1LGQsITEsbCl9ZnVuY3Rpb24gWl8oZSx0LGkscixuLG8scyxhLGwpe2NvbnN0IGM9by8yLGg9VV8oZSk7bGV0IHU9MCxkPXQtaSxwPVtdO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGgtMTt0Kyspe2NvbnN0IHM9ZVt0XSxhPWVbdCsxXSxmPXMuZGlzdChhKSxtPWEuYW5nbGVUbyhzKTtmb3IoO2QraTx1K2Y7KXtkKz1pO2NvbnN0IF89KGQtdSkvZixnPVdyKHMueCxhLngsXykseT1XcihzLnksYS55LF8pO2lmKGc+PTAmJmc8bCYmeT49MCYmeTxsJiZkLWM+PTAmJmQrYzw9aCl7Y29uc3QgaT1uZXcgRl8oZyx5LDAsbSx0KTtyJiYhTl8oZSxpLG8scixuKXx8cC5wdXNoKGkpO319dSs9Zjt9cmV0dXJuIGF8fHAubGVuZ3RofHxzfHwocD1aXyhlLHUvMixpLHIsbixvLHMsITAsbCkpLHB9ZnVuY3Rpb24gJF8oZSx0LGkscixuKXtjb25zdCBvPVtdO2ZvcihsZXQgcz0wO3M8ZS5sZW5ndGg7cysrKXtjb25zdCBhPWVbc107bGV0IGw7Zm9yKGxldCBlPTA7ZTxhLmxlbmd0aC0xO2UrKyl7bGV0IHM9YVtlXSxjPWFbZSsxXTtzLng8dCYmYy54PHR8fChzLng8dD9zPW5ldyB5KHQscy55Kyh0LXMueCkvKGMueC1zLngpKihjLnktcy55KSkuX3JvdW5kKCk6Yy54PHQmJihjPW5ldyB5KHQscy55Kyh0LXMueCkvKGMueC1zLngpKihjLnktcy55KSkuX3JvdW5kKCkpLHMueTxpJiZjLnk8aXx8KHMueTxpP3M9bmV3IHkocy54KyhpLXMueSkvKGMueS1zLnkpKihjLngtcy54KSxpKS5fcm91bmQoKTpjLnk8aSYmKGM9bmV3IHkocy54KyhpLXMueSkvKGMueS1zLnkpKihjLngtcy54KSxpKS5fcm91bmQoKSkscy54Pj1yJiZjLng+PXJ8fChzLng+PXI/cz1uZXcgeShyLHMueSsoci1zLngpLyhjLngtcy54KSooYy55LXMueSkpLl9yb3VuZCgpOmMueD49ciYmKGM9bmV3IHkocixzLnkrKHItcy54KS8oYy54LXMueCkqKGMueS1zLnkpKS5fcm91bmQoKSkscy55Pj1uJiZjLnk+PW58fChzLnk+PW4/cz1uZXcgeShzLngrKG4tcy55KS8oYy55LXMueSkqKGMueC1zLngpLG4pLl9yb3VuZCgpOmMueT49biYmKGM9bmV3IHkocy54KyhuLXMueSkvKGMueS1zLnkpKihjLngtcy54KSxuKS5fcm91bmQoKSksbCYmcy5lcXVhbHMobFtsLmxlbmd0aC0xXSl8fChsPVtzXSxvLnB1c2gobCkpLGwucHVzaChjKSkpKSk7fX1yZXR1cm4gb31JcyhGXyxcIkFuY2hvclwiKTtjb25zdCBIXz0xZTIwO2Z1bmN0aW9uIFdfKGUsdCxpLHIsbixvLHMsYSxsKXtmb3IobGV0IGM9dDtjPHQrcjtjKyspWF8oZSxpKm8rYyxvLG4scyxhLGwpO2ZvcihsZXQgYz1pO2M8aStuO2MrKylYXyhlLGMqbyt0LDEscixzLGEsbCk7fWZ1bmN0aW9uIFhfKGUsdCxpLHIsbixvLHMpe29bMF09MCxzWzBdPS1IXyxzWzFdPUhfLG5bMF09ZVt0XTtmb3IobGV0IGE9MSxsPTAsYz0wO2E8cjthKyspe25bYV09ZVt0K2EqaV07Y29uc3Qgcj1hKmE7ZG97Y29uc3QgZT1vW2xdO2M9KG5bYV0tbltlXStyLWUqZSkvKGEtZSkvMjt9d2hpbGUoYzw9c1tsXSYmLS1sPi0xKTtsKyssb1tsXT1hLHNbbF09YyxzW2wrMV09SF87fWZvcihsZXQgYT0wLGw9MDthPHI7YSsrKXtmb3IoO3NbbCsxXTxhOylsKys7Y29uc3Qgcj1vW2xdLGM9YS1yO2VbdCthKmldPW5bcl0rYypjO319Y29uc3QgWV89MjtjbGFzcyBLX3tjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5yZXF1ZXN0TWFuYWdlcj1lLHRoaXMubG9jYWxHbHlwaE1vZGU9dCx0aGlzLmxvY2FsRm9udEZhbWlseT1pLHRoaXMudXJscz17fSx0aGlzLmVudHJpZXM9e30sdGhpcy5sb2NhbEdseXBocz17MjAwOnt9LDQwMDp7fSw1MDA6e30sOTAwOnt9fTt9c2V0VVJMKGUsdCl7dGhpcy51cmxzW3RdPWU7fWdldEdseXBocyhlLHQsaSl7Y29uc3Qgcj1bXSxvPXRoaXMudXJsc1t0XXx8bi5HTFlQSFNfVVJMO2Zvcihjb25zdCB0IGluIGUpZm9yKGNvbnN0IGkgb2YgZVt0XSlyLnB1c2goe3N0YWNrOnQsaWQ6aX0pO1IociwoKHtzdGFjazplLGlkOnR9LGkpPT57bGV0IHI9dGhpcy5lbnRyaWVzW2VdO3J8fChyPXRoaXMuZW50cmllc1tlXT17Z2x5cGhzOnt9LHJlcXVlc3RzOnt9LHJhbmdlczp7fSxhc2NlbmRlcjp2b2lkIDAsZGVzY2VuZGVyOnZvaWQgMH0pO2xldCBuPXIuZ2x5cGhzW3RdO2lmKHZvaWQgMCE9PW4pcmV0dXJuIHZvaWQgaShudWxsLHtzdGFjazplLGlkOnQsZ2x5cGg6bn0pO2lmKG49dGhpcy5fdGlueVNERihyLGUsdCksbilyZXR1cm4gci5nbHlwaHNbdF09bix2b2lkIGkobnVsbCx7c3RhY2s6ZSxpZDp0LGdseXBoOm59KTtjb25zdCBzPU1hdGguZmxvb3IodC8yNTYpO2lmKDI1NipzPjY1NTM1KXJldHVybiB2b2lkIGkobmV3IEVycm9yKFwiZ2x5cGhzID4gNjU1MzUgbm90IHN1cHBvcnRlZFwiKSk7aWYoci5yYW5nZXNbc10pcmV0dXJuIHZvaWQgaShudWxsLHtzdGFjazplLGlkOnQsZ2x5cGg6bn0pO2xldCBhPXIucmVxdWVzdHNbc107YXx8KGE9ci5yZXF1ZXN0c1tzXT1bXSxLXy5sb2FkR2x5cGhSYW5nZShlLHMsbyx0aGlzLnJlcXVlc3RNYW5hZ2VyLCgoZSx0KT0+e2lmKHQpe3IuYXNjZW5kZXI9dC5hc2NlbmRlcixyLmRlc2NlbmRlcj10LmRlc2NlbmRlcjtmb3IoY29uc3QgZSBpbiB0LmdseXBocyl0aGlzLl9kb2VzQ2hhclN1cHBvcnRMb2NhbEdseXBoKCtlKXx8KHIuZ2x5cGhzWytlXT10LmdseXBoc1srZV0pO3IucmFuZ2VzW3NdPSEwO31mb3IoY29uc3QgaSBvZiBhKWkoZSx0KTtkZWxldGUgci5yZXF1ZXN0c1tzXTt9KSkpLGEucHVzaCgoKHIsbik9PntyP2kocik6biYmaShudWxsLHtzdGFjazplLGlkOnQsZ2x5cGg6bi5nbHlwaHNbdF18fG51bGx9KTt9KSk7fSksKChlLHQpPT57aWYoZSlpKGUpO2Vsc2UgaWYodCl7Y29uc3QgZT17fTtmb3IoY29uc3R7c3RhY2s6aSxpZDpyLGdseXBoOm59b2YgdCl2b2lkIDA9PT1lW2ldJiYoZVtpXT17fSksdm9pZCAwPT09ZVtpXS5nbHlwaHMmJihlW2ldLmdseXBocz17fSksZVtpXS5nbHlwaHNbcl09biYme2lkOm4uaWQsYml0bWFwOm4uYml0bWFwLmNsb25lKCksbWV0cmljczpuLm1ldHJpY3N9LGVbaV0uYXNjZW5kZXI9dGhpcy5lbnRyaWVzW2ldLmFzY2VuZGVyLGVbaV0uZGVzY2VuZGVyPXRoaXMuZW50cmllc1tpXS5kZXNjZW5kZXI7aShudWxsLGUpO319KSk7fV9kb2VzQ2hhclN1cHBvcnRMb2NhbEdseXBoKGUpe3JldHVybiAwIT09dGhpcy5sb2NhbEdseXBoTW9kZSYmKDI9PT10aGlzLmxvY2FsR2x5cGhNb2RlPyEhdGhpcy5sb2NhbEZvbnRGYW1pbHk6ISF0aGlzLmxvY2FsRm9udEZhbWlseSYmKFJzW1wiQ0pLIFVuaWZpZWQgSWRlb2dyYXBoc1wiXShlKXx8UnNbXCJIYW5ndWwgU3lsbGFibGVzXCJdKGUpfHxScy5IaXJhZ2FuYShlKXx8UnMuS2F0YWthbmEoZSl8fFJzW1wiQ0pLIFN5bWJvbHMgYW5kIFB1bmN0dWF0aW9uXCJdKGUpfHxSc1tcIkNKSyBVbmlmaWVkIElkZW9ncmFwaHMgRXh0ZW5zaW9uIEFcIl0oZSl8fFJzW1wiQ0pLIFVuaWZpZWQgSWRlb2dyYXBocyBFeHRlbnNpb24gQlwiXShlKSkpfV90aW55U0RGKGUsdCxpKXtjb25zdCByPXRoaXMubG9jYWxGb250RmFtaWx5O2lmKCFyfHwhdGhpcy5fZG9lc0NoYXJTdXBwb3J0TG9jYWxHbHlwaChpKSlyZXR1cm47bGV0IG49ZS50aW55U0RGO2lmKCFuKXtsZXQgaT1cIjQwMFwiOy9ib2xkL2kudGVzdCh0KT9pPVwiOTAwXCI6L21lZGl1bS9pLnRlc3QodCk/aT1cIjUwMFwiOi9saWdodC9pLnRlc3QodCkmJihpPVwiMjAwXCIpLG49ZS50aW55U0RGPW5ldyBLXy5UaW55U0RGKHtmb250RmFtaWx5OnIsZm9udFdlaWdodDppLGZvbnRTaXplOjI0KllfLGJ1ZmZlcjozKllfLHJhZGl1czo4KllffSksbi5mb250V2VpZ2h0PWk7fWlmKHRoaXMubG9jYWxHbHlwaHNbbi5mb250V2VpZ2h0XVtpXSlyZXR1cm4gdGhpcy5sb2NhbEdseXBoc1tuLmZvbnRXZWlnaHRdW2ldO2NvbnN0IG89U3RyaW5nLmZyb21Db2RlUG9pbnQoaSkse2RhdGE6cyx3aWR0aDphLGhlaWdodDpsLGdseXBoV2lkdGg6YyxnbHlwaEhlaWdodDpoLGdseXBoTGVmdDp1LGdseXBoVG9wOmQsZ2x5cGhBZHZhbmNlOnB9PW4uZHJhdyhvKTtyZXR1cm4gdGhpcy5sb2NhbEdseXBoc1tuLmZvbnRXZWlnaHRdW2ldPXtpZDppLGJpdG1hcDpuZXcgWnAoe3dpZHRoOmEsaGVpZ2h0Omx9LHMpLG1ldHJpY3M6e3dpZHRoOmMvWV8saGVpZ2h0OmgvWV8sbGVmdDp1L1lfLHRvcDpkL1lfLTI3LGFkdmFuY2U6cC9ZXyxsb2NhbEdseXBoOiEwfX19fUtfLmxvYWRHbHlwaFJhbmdlPWZ1bmN0aW9uKGUsdCxpLHIsbil7Y29uc3Qgbz0yNTYqdCxzPW8rMjU1LGE9ci50cmFuc2Zvcm1SZXF1ZXN0KHIubm9ybWFsaXplR2x5cGhzVVJMKGkpLnJlcGxhY2UoXCJ7Zm9udHN0YWNrfVwiLGUpLnJlcGxhY2UoXCJ7cmFuZ2V9XCIsYCR7b30tJHtzfWApLHllLkdseXBocyk7VGUoYSwoKGUsdCk9PntpZihlKW4oZSk7ZWxzZSBpZih0KXtjb25zdCBlPXt9LGk9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBTbShlKS5yZWFkRmllbGRzKGZfLHt9KX0odCk7Zm9yKGNvbnN0IHQgb2YgaS5nbHlwaHMpZVt0LmlkXT10O24obnVsbCx7Z2x5cGhzOmUsYXNjZW5kZXI6aS5hc2NlbmRlcixkZXNjZW5kZXI6aS5kZXNjZW5kZXJ9KTt9fSkpO30sS18uVGlueVNERj1jbGFzc3tjb25zdHJ1Y3Rvcih7Zm9udFNpemU6ZT0yNCxidWZmZXI6dD0zLHJhZGl1czppPTgsY3V0b2ZmOnI9LjI1LGZvbnRGYW1pbHk6bj1cInNhbnMtc2VyaWZcIixmb250V2VpZ2h0Om89XCJub3JtYWxcIixmb250U3R5bGU6cz1cIm5vcm1hbFwifT17fSl7dGhpcy5idWZmZXI9dCx0aGlzLmN1dG9mZj1yLHRoaXMucmFkaXVzPWk7Y29uc3QgYT10aGlzLnNpemU9ZSs0KnQsbD10aGlzLl9jcmVhdGVDYW52YXMoYSksYz10aGlzLmN0eD1sLmdldENvbnRleHQoXCIyZFwiLHt3aWxsUmVhZEZyZXF1ZW50bHk6ITB9KTtjLmZvbnQ9YCR7c30gJHtvfSAke2V9cHggJHtufWAsYy50ZXh0QmFzZWxpbmU9XCJhbHBoYWJldGljXCIsYy50ZXh0QWxpZ249XCJsZWZ0XCIsYy5maWxsU3R5bGU9XCJibGFja1wiLHRoaXMuZ3JpZE91dGVyPW5ldyBGbG9hdDY0QXJyYXkoYSphKSx0aGlzLmdyaWRJbm5lcj1uZXcgRmxvYXQ2NEFycmF5KGEqYSksdGhpcy5mPW5ldyBGbG9hdDY0QXJyYXkoYSksdGhpcy56PW5ldyBGbG9hdDY0QXJyYXkoYSsxKSx0aGlzLnY9bmV3IFVpbnQxNkFycmF5KGEpO31fY3JlYXRlQ2FudmFzKGUpe2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtyZXR1cm4gdC53aWR0aD10LmhlaWdodD1lLHR9ZHJhdyhlKXtjb25zdHt3aWR0aDp0LGFjdHVhbEJvdW5kaW5nQm94QXNjZW50OmksYWN0dWFsQm91bmRpbmdCb3hEZXNjZW50OnIsYWN0dWFsQm91bmRpbmdCb3hMZWZ0Om4sYWN0dWFsQm91bmRpbmdCb3hSaWdodDpvfT10aGlzLmN0eC5tZWFzdXJlVGV4dChlKSxzPU1hdGguY2VpbChpKSxhPU1hdGgubWF4KDAsTWF0aC5taW4odGhpcy5zaXplLXRoaXMuYnVmZmVyLE1hdGguY2VpbChvLW4pKSksbD1NYXRoLm1pbih0aGlzLnNpemUtdGhpcy5idWZmZXIscytNYXRoLmNlaWwocikpLGM9YSsyKnRoaXMuYnVmZmVyLGg9bCsyKnRoaXMuYnVmZmVyLHU9TWF0aC5tYXgoYypoLDApLGQ9bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHUpLHA9e2RhdGE6ZCx3aWR0aDpjLGhlaWdodDpoLGdseXBoV2lkdGg6YSxnbHlwaEhlaWdodDpsLGdseXBoVG9wOnMsZ2x5cGhMZWZ0OjAsZ2x5cGhBZHZhbmNlOnR9O2lmKDA9PT1hfHwwPT09bClyZXR1cm4gcDtjb25zdHtjdHg6ZixidWZmZXI6bSxncmlkSW5uZXI6XyxncmlkT3V0ZXI6Z309dGhpcztmLmNsZWFyUmVjdChtLG0sYSxsKSxmLmZpbGxUZXh0KGUsbSxtK3MpO2NvbnN0IHk9Zi5nZXRJbWFnZURhdGEobSxtLGEsbCk7Zy5maWxsKEhfLDAsdSksXy5maWxsKDAsMCx1KTtmb3IobGV0IGU9MDtlPGw7ZSsrKWZvcihsZXQgdD0wO3Q8YTt0Kyspe2NvbnN0IGk9eS5kYXRhWzQqKGUqYSt0KSszXS8yNTU7aWYoMD09PWkpY29udGludWU7Y29uc3Qgcj0oZSttKSpjK3QrbTtpZigxPT09aSlnW3JdPTAsX1tyXT1IXztlbHNlIHtjb25zdCBlPS41LWk7Z1tyXT1lPjA/ZSplOjAsX1tyXT1lPDA/ZSplOjA7fX1XXyhnLDAsMCxjLGgsYyx0aGlzLmYsdGhpcy52LHRoaXMueiksV18oXyxtLG0sYSxsLGMsdGhpcy5mLHRoaXMudix0aGlzLnopO2ZvcihsZXQgZT0wO2U8dTtlKyspe2NvbnN0IHQ9TWF0aC5zcXJ0KGdbZV0pLU1hdGguc3FydChfW2VdKTtkW2VdPU1hdGgucm91bmQoMjU1LTI1NSoodC90aGlzLnJhZGl1cyt0aGlzLmN1dG9mZikpO31yZXR1cm4gcH19O2NvbnN0IEpfPXhfO2Z1bmN0aW9uIFFfKGUsdCxpLHIpe2NvbnN0IG49W10sbz1lLmltYWdlUHJpbWFyeSxzPW8ucGl4ZWxSYXRpbyxhPW8ucGFkZGVkUmVjdC53LTIqSl8sbD1vLnBhZGRlZFJlY3QuaC0yKkpfLGM9ZS5yaWdodC1lLmxlZnQsaD1lLmJvdHRvbS1lLnRvcCx1PW8uc3RyZXRjaFh8fFtbMCxhXV0sZD1vLnN0cmV0Y2hZfHxbWzAsbF1dLHA9KGUsdCk9PmUrdFsxXS10WzBdLGY9dS5yZWR1Y2UocCwwKSxtPWQucmVkdWNlKHAsMCksXz1hLWYsZz1sLW07bGV0IHg9MCx2PWYsYj0wLHc9bSxUPTAsRT1fLE09MCxBPWc7aWYoby5jb250ZW50JiZyKXtjb25zdCBlPW8uY29udGVudDt4PWVnKHUsMCxlWzBdKSxiPWVnKGQsMCxlWzFdKSx2PWVnKHUsZVswXSxlWzJdKSx3PWVnKGQsZVsxXSxlWzNdKSxUPWVbMF0teCxNPWVbMV0tYixFPWVbMl0tZVswXS12LEE9ZVszXS1lWzFdLXc7fWNvbnN0IFM9KHIsbixhLGwpPT57Y29uc3QgdT1pZyhyLnN0cmV0Y2gteCx2LGMsZS5sZWZ0KSxkPXJnKHIuZml4ZWQtVCxFLHIuc3RyZXRjaCxmKSxwPWlnKG4uc3RyZXRjaC1iLHcsaCxlLnRvcCksXz1yZyhuLmZpeGVkLU0sQSxuLnN0cmV0Y2gsbSksZz1pZyhhLnN0cmV0Y2gteCx2LGMsZS5sZWZ0KSxTPXJnKGEuZml4ZWQtVCxFLGEuc3RyZXRjaCxmKSxJPWlnKGwuc3RyZXRjaC1iLHcsaCxlLnRvcCksQz1yZyhsLmZpeGVkLU0sQSxsLnN0cmV0Y2gsbSksej1uZXcgeSh1LHApLEQ9bmV3IHkoZyxwKSxQPW5ldyB5KGcsSSksUj1uZXcgeSh1LEkpLEw9bmV3IHkoZC9zLF8vcyksaz1uZXcgeShTL3MsQy9zKSxPPXQqTWF0aC5QSS8xODA7aWYoTyl7Y29uc3QgZT1NYXRoLnNpbihPKSx0PU1hdGguY29zKE8pLGk9W3QsLWUsZSx0XTt6Ll9tYXRNdWx0KGkpLEQuX21hdE11bHQoaSksUi5fbWF0TXVsdChpKSxQLl9tYXRNdWx0KGkpO31jb25zdCBCPXIuc3RyZXRjaCtyLmZpeGVkLEY9YS5zdHJldGNoK2EuZml4ZWQsTj1uLnN0cmV0Y2grbi5maXhlZCxVPWwuc3RyZXRjaCtsLmZpeGVkLFY9ZS5pbWFnZVNlY29uZGFyeTtyZXR1cm4ge3RsOnosdHI6RCxibDpSLGJyOlAsdGV4UHJpbWFyeTp7eDpvLnBhZGRlZFJlY3QueCtKXytCLHk6by5wYWRkZWRSZWN0LnkrSl8rTix3OkYtQixoOlUtTn0sdGV4U2Vjb25kYXJ5OlY/e3g6Vi5wYWRkZWRSZWN0LngrSl8rQix5OlYucGFkZGVkUmVjdC55K0pfK04sdzpGLUIsaDpVLU59OnZvaWQgMCx3cml0aW5nTW9kZTp2b2lkIDAsZ2x5cGhPZmZzZXQ6WzAsMF0sc2VjdGlvbkluZGV4OjAscGl4ZWxPZmZzZXRUTDpMLHBpeGVsT2Zmc2V0QlI6ayxtaW5Gb250U2NhbGVYOkUvcy9jLG1pbkZvbnRTY2FsZVk6QS9zL2gsaXNTREY6aX19O2lmKHImJihvLnN0cmV0Y2hYfHxvLnN0cmV0Y2hZKSl7Y29uc3QgZT10Zyh1LF8sZiksdD10ZyhkLGcsbSk7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aC0xO2krKyl7Y29uc3Qgcj1lW2ldLG89ZVtpKzFdO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGgtMTtlKyspbi5wdXNoKFMocix0W2VdLG8sdFtlKzFdKSk7fX1lbHNlIG4ucHVzaChTKHtmaXhlZDowLHN0cmV0Y2g6LTF9LHtmaXhlZDowLHN0cmV0Y2g6LTF9LHtmaXhlZDowLHN0cmV0Y2g6YSsxfSx7Zml4ZWQ6MCxzdHJldGNoOmwrMX0pKTtyZXR1cm4gbn1mdW5jdGlvbiBlZyhlLHQsaSl7bGV0IHI9MDtmb3IoY29uc3QgbiBvZiBlKXIrPU1hdGgubWF4KHQsTWF0aC5taW4oaSxuWzFdKSktTWF0aC5tYXgodCxNYXRoLm1pbihpLG5bMF0pKTtyZXR1cm4gcn1mdW5jdGlvbiB0ZyhlLHQsaSl7Y29uc3Qgcj1be2ZpeGVkOi1KXyxzdHJldGNoOjB9XTtmb3IoY29uc3RbdCxpXW9mIGUpe2NvbnN0IGU9cltyLmxlbmd0aC0xXTtyLnB1c2goe2ZpeGVkOnQtZS5zdHJldGNoLHN0cmV0Y2g6ZS5zdHJldGNofSksci5wdXNoKHtmaXhlZDp0LWUuc3RyZXRjaCxzdHJldGNoOmUuc3RyZXRjaCsoaS10KX0pO31yZXR1cm4gci5wdXNoKHtmaXhlZDp0K0pfLHN0cmV0Y2g6aX0pLHJ9ZnVuY3Rpb24gaWcoZSx0LGkscil7cmV0dXJuIGUvdCppK3J9ZnVuY3Rpb24gcmcoZSx0LGkscil7cmV0dXJuIGUtdCppL3J9ZnVuY3Rpb24gbmcoZSx0LGkscil7Y29uc3Qgbj10K2UucG9zaXRpb25lZExpbmVzW3JdLmxpbmVPZmZzZXQ7cmV0dXJuIDA9PT1yP2krbi8yOmkrKG4rKHQrZS5wb3NpdGlvbmVkTGluZXNbci0xXS5saW5lT2Zmc2V0KSkvMn1mdW5jdGlvbiBvZyhlLHQ9MSxpPSExKXtsZXQgcj0xLzAsbj0xLzAsbz0tMS8wLHM9LTEvMDtjb25zdCBhPWVbMF07Zm9yKGxldCBlPTA7ZTxhLmxlbmd0aDtlKyspe2NvbnN0IHQ9YVtlXTsoIWV8fHQueDxyKSYmKHI9dC54KSwoIWV8fHQueTxuKSYmKG49dC55KSwoIWV8fHQueD5vKSYmKG89dC54KSwoIWV8fHQueT5zKSYmKHM9dC55KTt9Y29uc3QgbD1NYXRoLm1pbihvLXIscy1uKTtsZXQgYz1sLzI7Y29uc3QgaD1uZXcgb3IoW10sc2cpO2lmKDA9PT1sKXJldHVybiBuZXcgeShyLG4pO2ZvcihsZXQgdD1yO3Q8bzt0Kz1sKWZvcihsZXQgaT1uO2k8cztpKz1sKWgucHVzaChuZXcgYWcodCtjLGkrYyxjLGUpKTtsZXQgdT1mdW5jdGlvbihlKXtsZXQgdD0wLGk9MCxyPTA7Y29uc3Qgbj1lWzBdO2ZvcihsZXQgZT0wLG89bi5sZW5ndGgscz1vLTE7ZTxvO3M9ZSsrKXtjb25zdCBvPW5bZV0sYT1uW3NdLGw9by54KmEueS1hLngqby55O2krPShvLngrYS54KSpsLHIrPShvLnkrYS55KSpsLHQrPTMqbDt9cmV0dXJuIG5ldyBhZyhpL3Qsci90LDAsZSl9KGUpLGQ9aC5sZW5ndGg7Zm9yKDtoLmxlbmd0aDspe2NvbnN0IHI9aC5wb3AoKTsoci5kPnUuZHx8IXUuZCkmJih1PXIsaSYmY29uc29sZS5sb2coXCJmb3VuZCBiZXN0ICVkIGFmdGVyICVkIHByb2Jlc1wiLE1hdGgucm91bmQoMWU0KnIuZCkvMWU0LGQpKSxyLm1heC11LmQ8PXR8fChjPXIuaC8yLGgucHVzaChuZXcgYWcoci5wLngtYyxyLnAueS1jLGMsZSkpLGgucHVzaChuZXcgYWcoci5wLngrYyxyLnAueS1jLGMsZSkpLGgucHVzaChuZXcgYWcoci5wLngtYyxyLnAueStjLGMsZSkpLGgucHVzaChuZXcgYWcoci5wLngrYyxyLnAueStjLGMsZSkpLGQrPTQpO31yZXR1cm4gaSYmKGNvbnNvbGUubG9nKGBudW0gcHJvYmVzOiAke2R9YCksY29uc29sZS5sb2coYGJlc3QgZGlzdGFuY2U6ICR7dS5kfWApKSx1LnB9ZnVuY3Rpb24gc2coZSx0KXtyZXR1cm4gdC5tYXgtZS5tYXh9Y2xhc3MgYWd7Y29uc3RydWN0b3IoZSx0LGkscil7dGhpcy5wPW5ldyB5KGUsdCksdGhpcy5oPWksdGhpcy5kPWZ1bmN0aW9uKGUsdCl7bGV0IGk9ITEscj0xLzA7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IG89dFtuXTtmb3IobGV0IHQ9MCxuPW8ubGVuZ3RoLHM9bi0xO3Q8bjtzPXQrKyl7Y29uc3Qgbj1vW3RdLGE9b1tzXTtuLnk+ZS55IT1hLnk+ZS55JiZlLng8KGEueC1uLngpKihlLnktbi55KS8oYS55LW4ueSkrbi54JiYoaT0haSkscj1NYXRoLm1pbihyLHZwKGUsbixhKSk7fX1yZXR1cm4gKGk/MTotMSkqTWF0aC5zcXJ0KHIpfSh0aGlzLnAsciksdGhpcy5tYXg9dGhpcy5kK3RoaXMuaCpNYXRoLlNRUlQyO319Y29uc3QgbGc9NyxjZz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksaGc9TWF0aC5zcXJ0KDIpO2Z1bmN0aW9uIHVnKGUsW3QsaV0pe2xldCByPTAsbj0wO2lmKGk9PT1jZyl7dDwwJiYodD0wKTtjb25zdCBpPXQvaGc7c3dpdGNoKGUpe2Nhc2VcInRvcC1yaWdodFwiOmNhc2VcInRvcC1sZWZ0XCI6bj1pLWxnO2JyZWFrO2Nhc2VcImJvdHRvbS1yaWdodFwiOmNhc2VcImJvdHRvbS1sZWZ0XCI6bj0taStsZzticmVhaztjYXNlXCJib3R0b21cIjpuPS10K2xnO2JyZWFrO2Nhc2VcInRvcFwiOm49dC1sZzt9c3dpdGNoKGUpe2Nhc2VcInRvcC1yaWdodFwiOmNhc2VcImJvdHRvbS1yaWdodFwiOnI9LWk7YnJlYWs7Y2FzZVwidG9wLWxlZnRcIjpjYXNlXCJib3R0b20tbGVmdFwiOnI9aTticmVhaztjYXNlXCJsZWZ0XCI6cj10O2JyZWFrO2Nhc2VcInJpZ2h0XCI6cj0tdDt9fWVsc2Uge3N3aXRjaCh0PU1hdGguYWJzKHQpLGk9TWF0aC5hYnMoaSksZSl7Y2FzZVwidG9wLXJpZ2h0XCI6Y2FzZVwidG9wLWxlZnRcIjpjYXNlXCJ0b3BcIjpuPWktbGc7YnJlYWs7Y2FzZVwiYm90dG9tLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLWxlZnRcIjpjYXNlXCJib3R0b21cIjpuPS1pK2xnO31zd2l0Y2goZSl7Y2FzZVwidG9wLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLXJpZ2h0XCI6Y2FzZVwicmlnaHRcIjpyPS10O2JyZWFrO2Nhc2VcInRvcC1sZWZ0XCI6Y2FzZVwiYm90dG9tLWxlZnRcIjpjYXNlXCJsZWZ0XCI6cj10O319cmV0dXJuIFtyLG5dfWZ1bmN0aW9uIGRnKGUsdCxpLHIsbixvLHMsYSxsLGMsaCl7ZS5jcmVhdGVBcnJheXMoKSxlLnRpbGVQaXhlbFJhdGlvPXNyLyg1MTIqZS5vdmVyc2NhbGluZyksZS5jb21wYXJlVGV4dD17fSxlLmljb25zTmVlZExpbmVhcj0hMTtjb25zdCB1PWUubGF5ZXJzWzBdLmxheW91dCxkPWUubGF5ZXJzWzBdLl91bmV2YWx1YXRlZExheW91dC5fdmFsdWVzLHA9e307aWYoXCJjb21wb3NpdGVcIj09PWUudGV4dFNpemVEYXRhLmtpbmQpe2NvbnN0e21pblpvb206dCxtYXhab29tOml9PWUudGV4dFNpemVEYXRhO3AuY29tcG9zaXRlVGV4dFNpemVzPVtkW1widGV4dC1zaXplXCJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IGVhKHQpLGEpLGRbXCJ0ZXh0LXNpemVcIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgZWEoaSksYSldO31pZihcImNvbXBvc2l0ZVwiPT09ZS5pY29uU2l6ZURhdGEua2luZCl7Y29uc3R7bWluWm9vbTp0LG1heFpvb206aX09ZS5pY29uU2l6ZURhdGE7cC5jb21wb3NpdGVJY29uU2l6ZXM9W2RbXCJpY29uLXNpemVcIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgZWEodCksYSksZFtcImljb24tc2l6ZVwiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBlYShpKSxhKV07fXAubGF5b3V0VGV4dFNpemU9ZFtcInRleHQtc2l6ZVwiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBlYShsKzEpLGEpLHAubGF5b3V0SWNvblNpemU9ZFtcImljb24tc2l6ZVwiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBlYShsKzEpLGEpLHAudGV4dE1heFNpemU9ZFtcInRleHQtc2l6ZVwiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBlYSgxOCksYSk7Y29uc3QgZj1cIm1hcFwiPT09dS5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSYmXCJwb2ludFwiIT09dS5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpLG09dS5nZXQoXCJ0ZXh0LXNpemVcIik7bGV0IF89ITE7Zm9yKGNvbnN0IHQgb2YgZS5mZWF0dXJlcylpZih0Lmljb24mJnQuaWNvbi5uYW1lU2Vjb25kYXJ5KXtfPSEwO2JyZWFrfWZvcihjb25zdCBvIG9mIGUuZmVhdHVyZXMpe2NvbnN0IGw9dS5nZXQoXCJ0ZXh0LWZvbnRcIikuZXZhbHVhdGUobyx7fSxhKS5qb2luKFwiLFwiKSxkPW0uZXZhbHVhdGUobyx7fSxhKSxnPXAubGF5b3V0VGV4dFNpemUuZXZhbHVhdGUobyx7fSxhKSx5PShwLmxheW91dEljb25TaXplLmV2YWx1YXRlKG8se30sYSkse2hvcml6b250YWw6e30sdmVydGljYWw6dm9pZCAwfSkseD1vLnRleHQ7bGV0IHYsYj1bMCwwXTtpZih4KXtjb25zdCByPXgudG9TdHJpbmcoKSxzPXUuZ2V0KFwidGV4dC1sZXR0ZXItc3BhY2luZ1wiKS5ldmFsdWF0ZShvLHt9LGEpKnJfLGM9dS5nZXQoXCJ0ZXh0LWxpbmUtaGVpZ2h0XCIpLmV2YWx1YXRlKG8se30sYSkqcl8saD1rcyhyKT9zOjAscD11LmdldChcInRleHQtYW5jaG9yXCIpLmV2YWx1YXRlKG8se30sYSksbT11LmdldChcInRleHQtdmFyaWFibGUtYW5jaG9yXCIpO2lmKCFtKXtjb25zdCBlPXUuZ2V0KFwidGV4dC1yYWRpYWwtb2Zmc2V0XCIpLmV2YWx1YXRlKG8se30sYSk7Yj1lP3VnKHAsW2Uqcl8sY2ddKTp1LmdldChcInRleHQtb2Zmc2V0XCIpLmV2YWx1YXRlKG8se30sYSkubWFwKChlPT5lKnJfKSk7fWxldCBfPWY/XCJjZW50ZXJcIjp1LmdldChcInRleHQtanVzdGlmeVwiKS5ldmFsdWF0ZShvLHt9LGEpO2NvbnN0IHY9XCJwb2ludFwiPT09dS5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpLHc9dj91LmdldChcInRleHQtbWF4LXdpZHRoXCIpLmV2YWx1YXRlKG8se30sYSkqcl86MS8wLFQ9bz0+e2UuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmTHMocikmJih5LnZlcnRpY2FsPUFfKHgsdCxpLG4sbCx3LGMscCxvLGgsYix3Xy52ZXJ0aWNhbCwhMCxnLGQpKTt9O2lmKCFmJiZtKXtjb25zdCBlPVwiYXV0b1wiPT09Xz9tLm1hcCgoZT0+cGcoZSkpKTpbX107bGV0IHI9ITE7Zm9yKGxldCBvPTA7bzxlLmxlbmd0aDtvKyspe2NvbnN0IHM9ZVtvXTtpZigheS5ob3Jpem9udGFsW3NdKWlmKHIpeS5ob3Jpem9udGFsW3NdPXkuaG9yaXpvbnRhbFswXTtlbHNlIHtjb25zdCBlPUFfKHgsdCxpLG4sbCx3LGMsXCJjZW50ZXJcIixzLGgsYix3Xy5ob3Jpem9udGFsLCExLGcsZCk7ZSYmKHkuaG9yaXpvbnRhbFtzXT1lLHI9MT09PWUucG9zaXRpb25lZExpbmVzLmxlbmd0aCk7fX1UKFwibGVmdFwiKTt9ZWxzZSB7aWYoXCJhdXRvXCI9PT1fJiYoXz1wZyhwKSksdnx8dS5nZXQoXCJ0ZXh0LXdyaXRpbmctbW9kZVwiKS5pbmRleE9mKFwiaG9yaXpvbnRhbFwiKT49MHx8IUxzKHIpKXtjb25zdCBlPUFfKHgsdCxpLG4sbCx3LGMscCxfLGgsYix3Xy5ob3Jpem9udGFsLCExLGcsZCk7ZSYmKHkuaG9yaXpvbnRhbFtfXT1lKTt9VCh2P1wibGVmdFwiOl8pO319bGV0IHc9ITE7aWYoby5pY29uJiZvLmljb24ubmFtZVByaW1hcnkpe2NvbnN0IHQ9cltvLmljb24ubmFtZVByaW1hcnldO3QmJih2PU9fKG5bby5pY29uLm5hbWVQcmltYXJ5XSxvLmljb24ubmFtZVNlY29uZGFyeT9uW28uaWNvbi5uYW1lU2Vjb25kYXJ5XTp2b2lkIDAsdS5nZXQoXCJpY29uLW9mZnNldFwiKS5ldmFsdWF0ZShvLHt9LGEpLHUuZ2V0KFwiaWNvbi1hbmNob3JcIikuZXZhbHVhdGUobyx7fSxhKSksdz10LnNkZix2b2lkIDA9PT1lLnNkZkljb25zP2Uuc2RmSWNvbnM9dC5zZGY6ZS5zZGZJY29ucyE9PXQuc2RmJiZXKFwiU3R5bGUgc2hlZXQgd2FybmluZzogQ2Fubm90IG1peCBTREYgYW5kIG5vbi1TREYgaWNvbnMgaW4gb25lIGJ1ZmZlclwiKSwodC5waXhlbFJhdGlvIT09ZS5waXhlbFJhdGlvfHwwIT09dS5nZXQoXCJpY29uLXJvdGF0ZVwiKS5jb25zdGFudE9yKDEpKSYmKGUuaWNvbnNOZWVkTGluZWFyPSEwKSk7fWNvbnN0IFQ9eWcoeS5ob3Jpem9udGFsKXx8eS52ZXJ0aWNhbDtlLmljb25zSW5UZXh0fHwoZS5pY29uc0luVGV4dD0hIVQmJlQuaWNvbnNJblRleHQpLChUfHx2KSYmZmcoZSxvLHksdixyLHAsZywwLGIsdyxzLGEsYyxoLF8pO31vJiZlLmdlbmVyYXRlQ29sbGlzaW9uRGVidWdCdWZmZXJzKGwsZS5jb2xsaXNpb25Cb3hBcnJheSk7fWZ1bmN0aW9uIHBnKGUpe3N3aXRjaChlKXtjYXNlXCJyaWdodFwiOmNhc2VcInRvcC1yaWdodFwiOmNhc2VcImJvdHRvbS1yaWdodFwiOnJldHVybiBcInJpZ2h0XCI7Y2FzZVwibGVmdFwiOmNhc2VcInRvcC1sZWZ0XCI6Y2FzZVwiYm90dG9tLWxlZnRcIjpyZXR1cm4gXCJsZWZ0XCJ9cmV0dXJuIFwiY2VudGVyXCJ9ZnVuY3Rpb24gZmcoZSx0LGkscixuLG8scyxhLGwsYyxoLHUsZCxwLGYpe2xldCBtPW8udGV4dE1heFNpemUuZXZhbHVhdGUodCx7fSx1KTt2b2lkIDA9PT1tJiYobT1zKTtjb25zdCBfPWUubGF5ZXJzWzBdLmxheW91dCxnPV8uZ2V0KFwiaWNvbi1vZmZzZXRcIikuZXZhbHVhdGUodCx7fSx1KSx5PXlnKGkuaG9yaXpvbnRhbCl8fGkudmVydGljYWwseD1cImdsb2JlXCI9PT1kLm5hbWUsdj1yXyxiPXMvdixUPWUudGlsZVBpeGVsUmF0aW8qbS92LEU9KFA9ZS5vdmVyc2NhbGluZyxlLnpvb20+MTgmJlA+MiYmKFA+Pj0xKSxNYXRoLm1heChzci8oNTEyKlApLDEpKl8uZ2V0KFwic3ltYm9sLXNwYWNpbmdcIikpLE09Xy5nZXQoXCJ0ZXh0LXBhZGRpbmdcIikqZS50aWxlUGl4ZWxSYXRpbyxBPV8uZ2V0KFwiaWNvbi1wYWRkaW5nXCIpKmUudGlsZVBpeGVsUmF0aW8sUz13KF8uZ2V0KFwidGV4dC1tYXgtYW5nbGVcIikpLEk9XCJtYXBcIj09PV8uZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIikmJlwicG9pbnRcIiE9PV8uZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKSxDPVwibWFwXCI9PT1fLmdldChcImljb24tcm90YXRpb24tYWxpZ25tZW50XCIpJiZcInBvaW50XCIhPT1fLmdldChcInN5bWJvbC1wbGFjZW1lbnRcIiksej1fLmdldChcInN5bWJvbC1wbGFjZW1lbnRcIiksRD1FLzI7dmFyIFA7Y29uc3QgUj1fLmdldChcImljb24tdGV4dC1maXRcIikuZXZhbHVhdGUodCx7fSx1KSxMPV8uZ2V0KFwiaWNvbi10ZXh0LWZpdC1wYWRkaW5nXCIpLmV2YWx1YXRlKHQse30sdSksaz1cIm5vbmVcIiE9PVI7bGV0IE87ITE9PT1lLmhhc0FueUljb25UZXh0Rml0JiZrJiYoZS5oYXNBbnlJY29uVGV4dEZpdD0hMCksciYmayYmKGUuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmaS52ZXJ0aWNhbCYmKE89Ql8ocixpLnZlcnRpY2FsLFIsTCxnLGIpKSx5JiYocj1CXyhyLHksUixMLGcsYikpKTtjb25zdCBCPShzLGEsbSk9PntpZihhLng8MHx8YS54Pj1zcnx8YS55PDB8fGEueT49c3IpcmV0dXJuO2xldCBfPW51bGw7aWYoeCl7Y29uc3R7eDplLHk6dCx6Oml9PWQucHJvamVjdFRpbGVQb2ludChhLngsYS55LG0pO189e2FuY2hvcjpuZXcgRl8oZSx0LGksMCx2b2lkIDApLHVwOmQudXBWZWN0b3IobSxhLngsYS55KX07fSFmdW5jdGlvbihlLHQsaSxyLG4sbyxzLGEsbCxjLGgsdSxkLHAsZixtLF8sZyx5LHgsdixiLHcsVCxFLE0sQSl7Y29uc3QgUz1lLmFkZFRvTGluZVZlcnRleEFycmF5KHQscik7bGV0IEksQyx6LEQsUCxSLEwsaz0wLE89MCxCPTAsRj0wLE49LTEsVT0tMTtjb25zdCBWPXt9O2xldCBqPXdsKFwiXCIpO2NvbnN0IEc9aT9pLmFuY2hvcjp0LHE9XCJub25lXCIhPT1sLmxheW91dC5nZXQoXCJpY29uLXRleHQtZml0XCIpLmV2YWx1YXRlKHYse30sRSk7bGV0IFo9MCwkPTA7aWYodm9pZCAwPT09bC5fdW5ldmFsdWF0ZWRMYXlvdXQuZ2V0VmFsdWUoXCJ0ZXh0LXJhZGlhbC1vZmZzZXRcIik/W1osJF09bC5sYXlvdXQuZ2V0KFwidGV4dC1vZmZzZXRcIikuZXZhbHVhdGUodix7fSxFKS5tYXAoKGU9PmUqcl8pKTooWj1sLmxheW91dC5nZXQoXCJ0ZXh0LXJhZGlhbC1vZmZzZXRcIikuZXZhbHVhdGUodix7fSxFKSpyXywkPWNnKSxlLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJm4udmVydGljYWwpe2NvbnN0IGU9bi52ZXJ0aWNhbDtpZihmKVI9dmcoZSksYSYmKEw9dmcoYSkpO2Vsc2Uge2NvbnN0IGk9bC5sYXlvdXQuZ2V0KFwidGV4dC1yb3RhdGVcIikuZXZhbHVhdGUodix7fSxFKSs5MDt6PXhnKGMsRyx0LGgsdSxkLGUscCxpLG0pLGEmJihEPXhnKGMsRyx0LGgsdSxkLGEsZyxpKSk7fX1pZihvKXtjb25zdCByPWwubGF5b3V0LmdldChcImljb24tcm90YXRlXCIpLmV2YWx1YXRlKHYse30sRSksbj1RXyhvLHIsdyxxKSxzPWE/UV8oYSxyLHcscSk6dm9pZCAwO0M9eGcoYyxHLHQsaCx1LGQsbyxnLHIpLGs9NCpuLmxlbmd0aDtjb25zdCBwPWUuaWNvblNpemVEYXRhO2xldCBmPW51bGw7XCJzb3VyY2VcIj09PXAua2luZD8oZj1bbl8qbC5sYXlvdXQuZ2V0KFwiaWNvbi1zaXplXCIpLmV2YWx1YXRlKHYse30sRSldLGZbMF0+X2cmJlcoYCR7ZS5sYXllcklkc1swXX06IFZhbHVlIGZvciBcImljb24tc2l6ZVwiIGlzID49ICR7bWd9LiBSZWR1Y2UgeW91ciBcImljb24tc2l6ZVwiLmApKTpcImNvbXBvc2l0ZVwiPT09cC5raW5kJiYoZj1bbl8qYi5jb21wb3NpdGVJY29uU2l6ZXNbMF0uZXZhbHVhdGUodix7fSxFKSxuXypiLmNvbXBvc2l0ZUljb25TaXplc1sxXS5ldmFsdWF0ZSh2LHt9LEUpXSwoZlswXT5fZ3x8ZlsxXT5fZykmJlcoYCR7ZS5sYXllcklkc1swXX06IFZhbHVlIGZvciBcImljb24tc2l6ZVwiIGlzID49ICR7bWd9LiBSZWR1Y2UgeW91ciBcImljb24tc2l6ZVwiLmApKSxlLmFkZFN5bWJvbHMoZS5pY29uLG4sZix4LHksdiwhMSxpLHQsUy5saW5lU3RhcnRJbmRleCxTLmxpbmVMZW5ndGgsLTEsVCxFLE0sQSksTj1lLmljb24ucGxhY2VkU3ltYm9sQXJyYXkubGVuZ3RoLTEscyYmKE89NCpzLmxlbmd0aCxlLmFkZFN5bWJvbHMoZS5pY29uLHMsZix4LHksdix3Xy52ZXJ0aWNhbCxpLHQsUy5saW5lU3RhcnRJbmRleCxTLmxpbmVMZW5ndGgsLTEsVCxFLE0sQSksVT1lLmljb24ucGxhY2VkU3ltYm9sQXJyYXkubGVuZ3RoLTEpO31mb3IoY29uc3QgciBpbiBuLmhvcml6b250YWwpe2NvbnN0IG89bi5ob3Jpem9udGFsW3JdO0l8fChqPXdsKG8udGV4dCksZj9QPXZnKG8pOkk9eGcoYyxHLHQsaCx1LGQsbyxwLGwubGF5b3V0LmdldChcInRleHQtcm90YXRlXCIpLmV2YWx1YXRlKHYse30sRSksbSkpO2NvbnN0IGE9MT09PW8ucG9zaXRpb25lZExpbmVzLmxlbmd0aDtpZihCKz1nZyhlLGksdCxvLHMsbCxmLHYsbSxTLG4udmVydGljYWw/d18uaG9yaXpvbnRhbDp3Xy5ob3Jpem9udGFsT25seSxhP09iamVjdC5rZXlzKG4uaG9yaXpvbnRhbCk6W3JdLFYsTixiLFQsRSxNKSxhKWJyZWFrfW4udmVydGljYWwmJihGKz1nZyhlLGksdCxuLnZlcnRpY2FsLHMsbCxmLHYsbSxTLHdfLnZlcnRpY2FsLFtcInZlcnRpY2FsXCJdLFYsVSxiLFQsRSxNKSk7bGV0IEg9LTE7Y29uc3QgWD0oZSx0KT0+ZT9NYXRoLm1heChlLHQpOnQ7SD1YKFAsSCksSD1YKFIsSCksSD1YKEwsSCk7Y29uc3QgWT1IPi0xPzE6MDtlLmdseXBoT2Zmc2V0QXJyYXkubGVuZ3RoPj1jeS5NQVhfR0xZUEhTJiZXKFwiVG9vIG1hbnkgZ2x5cGhzIGJlaW5nIHJlbmRlcmVkIGluIGEgdGlsZS4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy8yOTA3XCIpLHZvaWQgMCE9PXYuc29ydEtleSYmZS5hZGRUb1NvcnRLZXlSYW5nZXMoZS5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoLHYuc29ydEtleSksZS5zeW1ib2xJbnN0YW5jZXMuZW1wbGFjZUJhY2sodC54LHQueSxHLngsRy55LEcueixWLnJpZ2h0Pj0wP1YucmlnaHQ6LTEsVi5jZW50ZXI+PTA/Vi5jZW50ZXI6LTEsVi5sZWZ0Pj0wP1YubGVmdDotMSxWLnZlcnRpY2FsPj0wP1YudmVydGljYWw6LTEsTixVLGosdm9pZCAwIT09ST9JOmUuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLHZvaWQgMCE9PUk/SSsxOmUuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLHZvaWQgMCE9PXo/ejplLmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCx2b2lkIDAhPT16P3orMTplLmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCx2b2lkIDAhPT1DP0M6ZS5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsdm9pZCAwIT09Qz9DKzE6ZS5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsRHx8ZS5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsRD9EKzE6ZS5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsaCxCLEYsayxPLFksMCxaLCQsSCwwLHE/MTowKTt9KGUsYSxfLHMsaSxyLG4sTyxlLmxheWVyc1swXSxlLmNvbGxpc2lvbkJveEFycmF5LHQuaW5kZXgsdC5zb3VyY2VMYXllckluZGV4LGUuaW5kZXgsTSxJLGwsMCxBLEMsZyx0LG8sYyxoLHUscCxmKTt9O2lmKFwibGluZVwiPT09eilmb3IoY29uc3QgbiBvZiAkXyh0Lmdlb21ldHJ5LDAsMCxzcixzcikpe2NvbnN0IHQ9cV8obixFLFMsaS52ZXJ0aWNhbHx8eSxyLHYsVCxlLm92ZXJzY2FsaW5nLHNyKTtmb3IoY29uc3QgaSBvZiB0KXkmJmJnKGUseS50ZXh0LEQsaSl8fEIobixpLHUpO31lbHNlIGlmKFwibGluZS1jZW50ZXJcIj09PXope2Zvcihjb25zdCBlIG9mIHQuZ2VvbWV0cnkpaWYoZS5sZW5ndGg+MSl7Y29uc3QgdD1HXyhlLFMsaS52ZXJ0aWNhbHx8eSxyLHYsVCk7dCYmQihlLHQsdSk7fX1lbHNlIGlmKFwiUG9seWdvblwiPT09dC50eXBlKWZvcihjb25zdCBlIG9mIHpmKHQuZ2VvbWV0cnksMCkpe2NvbnN0IHQ9b2coZSwxNik7QihlWzBdLG5ldyBGXyh0LngsdC55LDAsMCx2b2lkIDApLHUpO31lbHNlIGlmKFwiTGluZVN0cmluZ1wiPT09dC50eXBlKWZvcihjb25zdCBlIG9mIHQuZ2VvbWV0cnkpQihlLG5ldyBGXyhlWzBdLngsZVswXS55LDAsMCx2b2lkIDApLHUpO2Vsc2UgaWYoXCJQb2ludFwiPT09dC50eXBlKWZvcihjb25zdCBlIG9mIHQuZ2VvbWV0cnkpZm9yKGNvbnN0IHQgb2YgZSlCKFt0XSxuZXcgRl8odC54LHQueSwwLDAsdm9pZCAwKSx1KTt9Y29uc3QgbWc9MjU1LF9nPW1nKm5fO2Z1bmN0aW9uIGdnKGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQscCxmLG0sXyxnKXtjb25zdCB4PWZ1bmN0aW9uKGUsdCxpLHIsbixvLHMsYSl7Y29uc3QgbD1bXTtpZigwPT09dC5wb3NpdGlvbmVkTGluZXMubGVuZ3RoKXJldHVybiBsO2NvbnN0IGM9ci5sYXlvdXQuZ2V0KFwidGV4dC1yb3RhdGVcIikuZXZhbHVhdGUobyx7fSkqTWF0aC5QSS8xODAsaD1mdW5jdGlvbihlKXtjb25zdCB0PWVbMF0saT1lWzFdLHI9dCppO3JldHVybiByPjA/W3QsLWldOnI8MD9bLXQsaV06MD09PXQ/W2ksdF06W2ksLXRdfShpKTtsZXQgdT1NYXRoLmFicyh0LnRvcC10LmJvdHRvbSk7Zm9yKGNvbnN0IGUgb2YgdC5wb3NpdGlvbmVkTGluZXMpdS09ZS5saW5lT2Zmc2V0O2NvbnN0IGQ9dC5wb3NpdGlvbmVkTGluZXMubGVuZ3RoLHA9dS9kO2xldCBmPXQudG9wLWlbMV07Zm9yKGxldCBlPTA7ZTxkOysrZSl7Y29uc3Qgcj10LnBvc2l0aW9uZWRMaW5lc1tlXTtmPW5nKHQscCxmLGUpO2Zvcihjb25zdCBlIG9mIHIucG9zaXRpb25lZEdseXBocyl7aWYoIWUucmVjdCljb250aW51ZTtjb25zdCByPWUucmVjdHx8e307bGV0IG89Z18rMSx1PSEwLGQ9MSxwPTA7aWYoZS5pbWFnZU5hbWUpe2NvbnN0IHQ9c1tlLmltYWdlTmFtZV07aWYoIXQpY29udGludWU7aWYodC5zZGYpe1coXCJTREYgaW1hZ2VzIGFyZSBub3Qgc3VwcG9ydGVkIGluIGZvcm1hdHRlZCB0ZXh0IGFuZCB3aWxsIGJlIGlnbm9yZWQuXCIpO2NvbnRpbnVlfXU9ITEsZD10LnBpeGVsUmF0aW8sbz14Xy9kO31jb25zdCBtPShufHxhKSYmZS52ZXJ0aWNhbCxfPWUubWV0cmljcy5hZHZhbmNlKmUuc2NhbGUvMixnPWUubWV0cmljcyx4PWUucmVjdDtpZihudWxsPT09eCljb250aW51ZTthJiZ0LnZlcnRpY2FsaXphYmxlJiYocD1lLmltYWdlTmFtZT9fLWUubWV0cmljcy53aWR0aCplLnNjYWxlLzI6MCk7Y29uc3Qgdj1uP1tlLngrXyxlLnldOlswLDBdO2xldCBiPVswLDBdLHc9WzAsMF0sVD0hMTtufHwobT8odz1bZS54K18raFswXSxlLnkraFsxXS1wXSxUPSEwKTpiPVtlLngrXytpWzBdLGUueStpWzFdLXBdKTtjb25zdCBFPXgudyplLnNjYWxlLyhkKihlLmxvY2FsR2x5cGg/WV86MSkpLE09eC5oKmUuc2NhbGUvKGQqKGUubG9jYWxHbHlwaD9ZXzoxKSk7bGV0IEEsUyxJLEM7aWYobSl7Y29uc3QgdD1lLnktZixpPW5ldyB5KC1fLF8tdCkscj0tTWF0aC5QSS8yLG49bmV3IHkoLi4udyk7QT1uZXcgeSgtXytiWzBdLGJbMV0pLEEuX3JvdGF0ZUFyb3VuZChyLGkpLl9hZGQobiksQS54Kz0tdCtfLEEueS09KGcubGVmdC1vKSplLnNjYWxlO2NvbnN0IHM9ZS5pbWFnZU5hbWU/Zy5hZHZhbmNlKmUuc2NhbGU6cl8qZS5zY2FsZSxhPVN0cmluZy5mcm9tQ29kZVBvaW50KGUuZ2x5cGgpO3VfKGEpP0EueCs9KDEtbykqZS5zY2FsZTpkXyhhKT9BLngrPXMtZy5oZWlnaHQqZS5zY2FsZSsoLW8tMSkqZS5zY2FsZTpBLngrPWUuaW1hZ2VOYW1lfHxnLndpZHRoKzIqbz09PXgudyYmZy5oZWlnaHQrMipvPT09eC5oPyhzLU0pLzI6KHMtKGcuaGVpZ2h0KzIqbykqZS5zY2FsZSkvMixTPW5ldyB5KEEueCxBLnktRSksST1uZXcgeShBLngrTSxBLnkpLEM9bmV3IHkoQS54K00sQS55LUUpO31lbHNlIHtjb25zdCB0PShnLmxlZnQtbykqZS5zY2FsZS1fK2JbMF0saT0oLWcudG9wLW8pKmUuc2NhbGUrYlsxXSxyPXQrRSxuPWkrTTtBPW5ldyB5KHQsaSksUz1uZXcgeShyLGkpLEk9bmV3IHkodCxuKSxDPW5ldyB5KHIsbik7fWlmKGMpe2xldCBlO2U9bj9uZXcgeSgwLDApOlQ/bmV3IHkoaFswXSxoWzFdKTpuZXcgeShpWzBdLGlbMV0pLEEuX3JvdGF0ZUFyb3VuZChjLGUpLFMuX3JvdGF0ZUFyb3VuZChjLGUpLEkuX3JvdGF0ZUFyb3VuZChjLGUpLEMuX3JvdGF0ZUFyb3VuZChjLGUpO31jb25zdCB6PW5ldyB5KDAsMCksRD1uZXcgeSgwLDApO2wucHVzaCh7dGw6QSx0cjpTLGJsOkksYnI6Qyx0ZXhQcmltYXJ5OnIsdGV4U2Vjb25kYXJ5OnZvaWQgMCx3cml0aW5nTW9kZTp0LndyaXRpbmdNb2RlLGdseXBoT2Zmc2V0OnYsc2VjdGlvbkluZGV4OmUuc2VjdGlvbkluZGV4LGlzU0RGOnUscGl4ZWxPZmZzZXRUTDp6LHBpeGVsT2Zmc2V0QlI6RCxtaW5Gb250U2NhbGVYOjAsbWluRm9udFNjYWxlWTowfSk7fX1yZXR1cm4gbH0oMCxyLGwsbyxzLGEsbixlLmFsbG93VmVydGljYWxQbGFjZW1lbnQpLHY9ZS50ZXh0U2l6ZURhdGE7bGV0IGI9bnVsbDtcInNvdXJjZVwiPT09di5raW5kPyhiPVtuXypvLmxheW91dC5nZXQoXCJ0ZXh0LXNpemVcIikuZXZhbHVhdGUoYSx7fSxfKV0sYlswXT5fZyYmVyhgJHtlLmxheWVySWRzWzBdfTogVmFsdWUgZm9yIFwidGV4dC1zaXplXCIgaXMgPj0gJHttZ30uIFJlZHVjZSB5b3VyIFwidGV4dC1zaXplXCIuYCkpOlwiY29tcG9zaXRlXCI9PT12LmtpbmQmJihiPVtuXypmLmNvbXBvc2l0ZVRleHRTaXplc1swXS5ldmFsdWF0ZShhLHt9LF8pLG5fKmYuY29tcG9zaXRlVGV4dFNpemVzWzFdLmV2YWx1YXRlKGEse30sXyldLChiWzBdPl9nfHxiWzFdPl9nKSYmVyhgJHtlLmxheWVySWRzWzBdfTogVmFsdWUgZm9yIFwidGV4dC1zaXplXCIgaXMgPj0gJHttZ30uIFJlZHVjZSB5b3VyIFwidGV4dC1zaXplXCIuYCkpLGUuYWRkU3ltYm9scyhlLnRleHQseCxiLGwscyxhLGgsdCxpLGMubGluZVN0YXJ0SW5kZXgsYy5saW5lTGVuZ3RoLHAsbSxfLGcsITEpO2Zvcihjb25zdCB0IG9mIHUpZFt0XT1lLnRleHQucGxhY2VkU3ltYm9sQXJyYXkubGVuZ3RoLTE7cmV0dXJuIDQqeC5sZW5ndGh9ZnVuY3Rpb24geWcoZSl7Zm9yKGNvbnN0IHQgaW4gZSlyZXR1cm4gZVt0XTtyZXR1cm4gbnVsbH1mdW5jdGlvbiB4ZyhlLHQsaSxyLG4sbyxzLGEsbCxjKXtsZXQgaD1zLnRvcCx1PXMuYm90dG9tLGQ9cy5sZWZ0LHA9cy5yaWdodDtjb25zdCBmPXMuY29sbGlzaW9uUGFkZGluZztpZihmJiYoZC09ZlswXSxoLT1mWzFdLHArPWZbMl0sdSs9ZlszXSksbCl7Y29uc3QgZT1uZXcgeShkLGgpLHQ9bmV3IHkocCxoKSxpPW5ldyB5KGQsdSkscj1uZXcgeShwLHUpLG49dyhsKTtsZXQgbz1uZXcgeSgwLDApO2MmJihvPW5ldyB5KGNbMF0sY1sxXSkpLGUuX3JvdGF0ZUFyb3VuZChuLG8pLHQuX3JvdGF0ZUFyb3VuZChuLG8pLGkuX3JvdGF0ZUFyb3VuZChuLG8pLHIuX3JvdGF0ZUFyb3VuZChuLG8pLGQ9TWF0aC5taW4oZS54LHQueCxpLngsci54KSxwPU1hdGgubWF4KGUueCx0LngsaS54LHIueCksaD1NYXRoLm1pbihlLnksdC55LGkueSxyLnkpLHU9TWF0aC5tYXgoZS55LHQueSxpLnksci55KTt9cmV0dXJuIGUuZW1wbGFjZUJhY2sodC54LHQueSx0LnosaS54LGkueSxkLGgscCx1LGEscixuLG8pLGUubGVuZ3RoLTF9ZnVuY3Rpb24gdmcoZSl7ZS5jb2xsaXNpb25QYWRkaW5nJiYoZS50b3AtPWUuY29sbGlzaW9uUGFkZGluZ1sxXSxlLmJvdHRvbSs9ZS5jb2xsaXNpb25QYWRkaW5nWzNdKTtjb25zdCB0PWUuYm90dG9tLWUudG9wO3JldHVybiB0PjA/TWF0aC5tYXgoMTAsdCk6bnVsbH1mdW5jdGlvbiBiZyhlLHQsaSxyKXtjb25zdCBuPWUuY29tcGFyZVRleHQ7aWYodCBpbiBuKXtjb25zdCBlPW5bdF07Zm9yKGxldCB0PWUubGVuZ3RoLTE7dD49MDt0LS0paWYoci5kaXN0KGVbdF0pPGkpcmV0dXJuICEwfWVsc2Ugblt0XT1bXTtyZXR1cm4gblt0XS5wdXNoKHIpLCExfWZ1bmN0aW9uIHdnKGUsdCl7Y29uc3QgaT1lLmZvdkFib3ZlQ2VudGVyLHI9ZS5lbGV2YXRpb24/ZS5lbGV2YXRpb24uZ2V0TWluRWxldmF0aW9uQmVsb3dNU0woKSp0OjAsbj0oZS5fY2FtZXJhLnBvc2l0aW9uWzJdKmUud29ybGRTaXplLXIpL01hdGguY29zKGUuX3BpdGNoKSxvPU1hdGguc2luKGkpKm4vTWF0aC5zaW4oTWF0aC5tYXgoTWF0aC5QSS8yLWUuX3BpdGNoLWksLjAxKSkscz1NYXRoLnNpbihlLl9waXRjaCkqbytuO3JldHVybiBNYXRoLm1pbigxLjAxKnMsbiooMS9lLl9ob3Jpem9uU2hpZnQpKX1mdW5jdGlvbiBUZyhlLHQpe2lmKCF0LmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZSlyZXR1cm4ge3NjYWxlOjE8PGUueix4OmUueCx5OmUueSx4MjplLngrMSx5MjplLnkrMSxwcm9qZWN0aW9uOnR9O2NvbnN0IGk9TWF0aC5wb3coMiwtZS56KSxyPWUueCppLG49KGUueCsxKSppLG89ZS55Kmkscz0oZS55KzEpKmksYT0kZChyKSxsPSRkKG4pLGM9SGQobyksaD1IZChzKSx1PXQucHJvamVjdChhLGMpLGQ9dC5wcm9qZWN0KGwsYykscD10LnByb2plY3QobCxoKSxmPXQucHJvamVjdChhLGgpO2xldCBtPU1hdGgubWluKHUueCxkLngscC54LGYueCksXz1NYXRoLm1pbih1LnksZC55LHAueSxmLnkpLGc9TWF0aC5tYXgodS54LGQueCxwLngsZi54KSx5PU1hdGgubWF4KHUueSxkLnkscC55LGYueSk7Y29uc3QgeD1pLzE2O2Z1bmN0aW9uIHYoZSxpLHIsbixvLHMpe2NvbnN0IGE9KHIrbykvMixsPShuK3MpLzIsYz10LnByb2plY3QoJGQoYSksSGQobCkpLGg9TWF0aC5tYXgoMCxtLWMueCxfLWMueSxjLngtZyxjLnkteSk7bT1NYXRoLm1pbihtLGMueCksZz1NYXRoLm1heChnLGMueCksXz1NYXRoLm1pbihfLGMueSkseT1NYXRoLm1heCh5LGMueSksaD54JiYodihlLGMscixuLGEsbCksdihjLGksYSxsLG8scykpO312KHUsZCxyLG8sbixvKSx2KGQscCxuLG8sbixzKSx2KHAsZixuLHMscixzKSx2KGYsdSxyLHMscixvKSxtLT14LF8tPXgsZys9eCx5Kz14O2NvbnN0IGI9MS9NYXRoLm1heChnLW0seS1fKTtyZXR1cm4ge3NjYWxlOmIseDptKmIseTpfKmIseDI6ZypiLHkyOnkqYixwcm9qZWN0aW9uOnR9fWZ1bmN0aW9uIEVnKGUsdCxpLHIsbixvLHMsYSxsKXtpZihcImdsb2JlXCI9PT1sLm5hbWUpcmV0dXJuIHVkKGUsdCxuZXcga3UoaSxyLG4pLCExKTtjb25zdCBjPVRnKHt6OmkseDpyLHk6bn0sbCk7cmV0dXJuIG5ldyBIdShbKG8rYy54L2Muc2NhbGUpKnQsdCooYy55L2Muc2NhbGUpLHNdLFsobytjLngyL2Muc2NhbGUpKnQsdCooYy55Mi9jLnNjYWxlKSxhXSl9ZnVuY3Rpb24gTWcoZSx7eDp0LHk6aX0scj0wKXtyZXR1cm4gbmV3IHkoKCh0LXIpKmUuc2NhbGUtZS54KSpzciwoaSplLnNjYWxlLWUueSkqc3IpfWZ1bmN0aW9uIEFnKGUsdCxpPTApe3JldHVybiBNdS5mcm9tVmFsdWVzKCgodC54LWkpKmUuc2NhbGUtZS54KSpzciwodC55KmUuc2NhbGUtZS55KSpzcixXZCh0LnosdC55KSl9Y29uc3QgU2c9eHUuaWRlbnRpdHkobmV3IEZsb2F0MzJBcnJheSgxNikpO2NsYXNzIElne2NvbnN0cnVjdG9yKGUpe3RoaXMuc3BlYz1lLHRoaXMubmFtZT1lLm5hbWUsdGhpcy53cmFwPSExLHRoaXMucmVxdWlyZXNEcmFwaW5nPSExLHRoaXMuc3VwcG9ydHNXb3JsZENvcGllcz0hMSx0aGlzLnN1cHBvcnRzVGVycmFpbj0hMSx0aGlzLnN1cHBvcnRzRm9nPSExLHRoaXMuc3VwcG9ydHNGcmVlQ2FtZXJhPSExLHRoaXMuekF4aXNVbml0PVwibWV0ZXJzXCIsdGhpcy5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2U9ITAsdGhpcy51bnN1cHBvcnRlZExheWVycz1bXCJjdXN0b21cIl0sdGhpcy5jZW50ZXI9WzAsMF0sdGhpcy5yYW5nZT1bMy41LDddO31wcm9qZWN0KGUsdCl7cmV0dXJuIHt4OjAseTowLHo6MH19dW5wcm9qZWN0KGUsdCl7cmV0dXJuIG5ldyBOZCgwLDApfXByb2plY3RUaWxlUG9pbnQoZSx0LGkpe3JldHVybiB7eDplLHk6dCx6OjB9fWxvY2F0aW9uUG9pbnQoZSx0LGk9ITApe3JldHVybiBlLl9jb29yZGluYXRlUG9pbnQoZS5sb2NhdGlvbkNvb3JkaW5hdGUodCksaSl9cGl4ZWxzUGVyTWV0ZXIoZSx0KXtyZXR1cm4gWmQoMSxlKSp0fXBpeGVsU3BhY2VDb252ZXJzaW9uKGUsdCxpKXtyZXR1cm4gMX1mYXJ0aGVzdFBpeGVsRGlzdGFuY2UoZSl7cmV0dXJuIHdnKGUsZS5waXhlbHNQZXJNZXRlcil9cG9pbnRDb29yZGluYXRlKGUsdCxpLHIpe2NvbnN0IG49ZS5ob3Jpem9uTGluZUZyb21Ub3AoITEpLG89bmV3IHkodCxNYXRoLm1heChuLGkpKTtyZXR1cm4gZS5yYXlJbnRlcnNlY3Rpb25Db29yZGluYXRlKGUucG9pbnRSYXlJbnRlcnNlY3Rpb24obyxyKSl9cG9pbnRDb29yZGluYXRlM0QoZSx0LGkpe2NvbnN0IHI9bmV3IHkodCxpKTtpZihlLmVsZXZhdGlvbilyZXR1cm4gZS5lbGV2YXRpb24ucG9pbnRDb29yZGluYXRlKHIpO3tjb25zdCB0PXRoaXMucG9pbnRDb29yZGluYXRlKGUsci54LHIueSwwKTtyZXR1cm4gW3QueCx0LnksdC56XX19aXNQb2ludEFib3ZlSG9yaXpvbihlLHQpe2lmKGUuZWxldmF0aW9uKXJldHVybiAhdGhpcy5wb2ludENvb3JkaW5hdGUzRChlLHQueCx0LnkpO2NvbnN0IGk9ZS5ob3Jpem9uTGluZUZyb21Ub3AoKTtyZXR1cm4gdC55PGl9Y3JlYXRlSW52ZXJzaW9uTWF0cml4KGUsdCl7cmV0dXJuIFNnfWNyZWF0ZVRpbGVNYXRyaXgoZSx0LGkpe2xldCByLG4sbztjb25zdCBzPWkuY2Fub25pY2FsLGE9eHUuaWRlbnRpdHkobmV3IEZsb2F0NjRBcnJheSgxNikpO2lmKHRoaXMuaXNSZXByb2plY3RlZEluVGlsZVNwYWNlKXtjb25zdCBsPVRnKHMsdGhpcyk7cj0xLG49bC54K2kud3JhcCpsLnNjYWxlLG89bC55LHh1LnNjYWxlKGEsYSxbci9sLnNjYWxlLHIvbC5zY2FsZSxlLnBpeGVsc1Blck1ldGVyL3RdKTt9ZWxzZSByPXQvZS56b29tU2NhbGUocy56KSxuPShzLngrTWF0aC5wb3coMixzLnopKmkud3JhcCkqcixvPXMueSpyO3JldHVybiB4dS50cmFuc2xhdGUoYSxhLFtuLG8sMF0pLHh1LnNjYWxlKGEsYSxbci9zcixyL3NyLDFdKSxhfXVwVmVjdG9yKGUsdCxpKXtyZXR1cm4gWzAsMCwxXX11cFZlY3RvclNjYWxlKGUsdCxpKXtyZXR1cm4ge21ldGVyc1RvVGlsZToxfX19Y2xhc3MgQ2cgZXh0ZW5kcyBJZ3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnJhbmdlPVs0LDddLHRoaXMuY2VudGVyPWUuY2VudGVyfHxbLTk2LDM3LjVdO2NvbnN0W3QsaV09dGhpcy5wYXJhbGxlbHM9ZS5wYXJhbGxlbHN8fFsyOS41LDQ1LjVdLHI9TWF0aC5zaW4odyh0KSk7dGhpcy5uPShyK01hdGguc2luKHcoaSkpKS8yLHRoaXMuYz0xK3IqKDIqdGhpcy5uLXIpLHRoaXMucjA9TWF0aC5zcXJ0KHRoaXMuYykvdGhpcy5uO31wcm9qZWN0KGUsdCl7Y29uc3R7bjppLGM6cixyMDpufT10aGlzLG89dyhlLXRoaXMuY2VudGVyWzBdKSxzPXcodCksYT1NYXRoLnNxcnQoci0yKmkqTWF0aC5zaW4ocykpL2k7cmV0dXJuIHt4OmEqTWF0aC5zaW4obyppKSx5OmEqTWF0aC5jb3MobyppKS1uLHo6MH19dW5wcm9qZWN0KGUsdCl7Y29uc3R7bjppLGM6cixyMDpufT10aGlzLG89bit0O2xldCBzPU1hdGguYXRhbjIoZSxNYXRoLmFicyhvKSkqTWF0aC5zaWduKG8pO28qaTwwJiYocy09TWF0aC5QSSpNYXRoLnNpZ24oZSkqTWF0aC5zaWduKG8pKTtjb25zdCBhPXcodGhpcy5jZW50ZXJbMF0pKmk7cz1QKHMsLU1hdGguUEktYSxNYXRoLlBJLWEpO2NvbnN0IGw9eihUKHMvaSkrdGhpcy5jZW50ZXJbMF0sLTE4MCwxODApLGM9TWF0aC5hc2luKHooKHItKGUqZStvKm8pKmkqaSkvKDIqaSksLTEsMSkpLGg9eihUKGMpLC1YZCxYZCk7cmV0dXJuIG5ldyBOZChsLGgpfX1jb25zdCB6Zz0xLjM0MDI2NCxEZz0tLjA4MTEwNixQZz04OTNlLTYsUmc9LjAwMzc5NixMZz1NYXRoLnNxcnQoMykvMjtjbGFzcyBrZyBleHRlbmRzIElne3Byb2plY3QoZSx0KXt0PXQvMTgwKk1hdGguUEksZT1lLzE4MCpNYXRoLlBJO2NvbnN0IGk9TWF0aC5hc2luKExnKk1hdGguc2luKHQpKSxyPWkqaSxuPXIqcipyO3JldHVybiB7eDouNSooZSpNYXRoLmNvcyhpKS8oTGcqKHpnKzMqRGcqcituKig3KlBnKzkqUmcqcikpKS9NYXRoLlBJKy41KSx5OjEtLjUqKGkqKHpnK0RnKnIrbiooUGcrUmcqcikpL01hdGguUEkrMSksejowfX11bnByb2plY3QoZSx0KXtlPSgyKmUtLjUpKk1hdGguUEk7bGV0IGk9dD0oMiooMS10KS0xKSpNYXRoLlBJLHI9aSppLG49cipyKnI7Zm9yKGxldCBlLG8scyxhPTA7YTwxMiYmKG89aSooemcrRGcqcituKihQZytSZypyKSktdCxzPXpnKzMqRGcqcituKig3KlBnKzkqUmcqciksZT1vL3MsaT16KGktZSwtTWF0aC5QSS8zLE1hdGguUEkvMykscj1pKmksbj1yKnIqciwhKE1hdGguYWJzKGUpPDFlLTEyKSk7KythKTtjb25zdCBvPUxnKmUqKHpnKzMqRGcqcituKig3KlBnKzkqUmcqcikpL01hdGguY29zKGkpLHM9TWF0aC5hc2luKE1hdGguc2luKGkpL0xnKSxhPXooMTgwKm8vTWF0aC5QSSwtMTgwLDE4MCksbD16KDE4MCpzL01hdGguUEksLVhkLFhkKTtyZXR1cm4gbmV3IE5kKGEsbCl9fWNsYXNzIE9nIGV4dGVuZHMgSWd7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy53cmFwPSEwLHRoaXMuc3VwcG9ydHNXb3JsZENvcGllcz0hMDt9cHJvamVjdChlLHQpe3JldHVybiB7eDouNStlLzM2MCx5Oi41LXQvMzYwLHo6MH19dW5wcm9qZWN0KGUsdCl7Y29uc3QgaT0zNjAqKGUtLjUpLHI9eigzNjAqKC41LXQpLC1YZCxYZCk7cmV0dXJuIG5ldyBOZChpLHIpfX1jb25zdCBCZz1NYXRoLlBJLzI7ZnVuY3Rpb24gRmcoZSl7cmV0dXJuIE1hdGgudGFuKChCZytlKS8yKX1jbGFzcyBOZyBleHRlbmRzIElne2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY2VudGVyPWUuY2VudGVyfHxbMCwzMF07Y29uc3RbdCxpXT10aGlzLnBhcmFsbGVscz1lLnBhcmFsbGVsc3x8WzMwLDMwXTtsZXQgcj13KHQpLG49dyhpKTt0aGlzLnNvdXRoZXJuQ2VudGVyPXIrbjwwLHRoaXMuc291dGhlcm5DZW50ZXImJihyPS1yLG49LW4pO2NvbnN0IG89TWF0aC5jb3Mocikscz1GZyhyKTt0aGlzLm49cj09PW4/TWF0aC5zaW4ocik6TWF0aC5sb2coby9NYXRoLmNvcyhuKSkvTWF0aC5sb2coRmcobikvcyksdGhpcy5mPW8qTWF0aC5wb3coRmcociksdGhpcy5uKS90aGlzLm47fXByb2plY3QoZSx0KXt0PXcodCksdGhpcy5zb3V0aGVybkNlbnRlciYmKHQ9LXQpLGU9dyhlLXRoaXMuY2VudGVyWzBdKTtjb25zdCBpPTFlLTYse246cixmOm59PXRoaXM7bj4wP3Q8LUJnK2kmJih0PS1CZytpKTp0PkJnLWkmJih0PUJnLWkpO2NvbnN0IG89bi9NYXRoLnBvdyhGZyh0KSxyKTtsZXQgcz1vKk1hdGguc2luKHIqZSksYT1uLW8qTWF0aC5jb3MociplKTtyZXR1cm4gcz0uNSoocy9NYXRoLlBJKy41KSxhPS41KihhL01hdGguUEkrLjUpLHt4OnMseTp0aGlzLnNvdXRoZXJuQ2VudGVyP2E6MS1hLHo6MH19dW5wcm9qZWN0KGUsdCl7ZT0oMiplLS41KSpNYXRoLlBJLHRoaXMuc291dGhlcm5DZW50ZXImJih0PTEtdCksdD0oMiooMS10KS0uNSkqTWF0aC5QSTtjb25zdHtuOmksZjpyfT10aGlzLG49ci10LG89TWF0aC5zaWduKG4pLHM9TWF0aC5zaWduKGkpKk1hdGguc3FydChlKmUrbipuKTtsZXQgYT1NYXRoLmF0YW4yKGUsTWF0aC5hYnMobikpKm87bippPDAmJihhLT1NYXRoLlBJKk1hdGguc2lnbihlKSpvKTtjb25zdCBsPXooVChhL2kpK3RoaXMuY2VudGVyWzBdLC0xODAsMTgwKSxjPXooVCgyKk1hdGguYXRhbihNYXRoLnBvdyhyL3MsMS9pKSktQmcpLC1YZCxYZCk7cmV0dXJuIG5ldyBOZChsLHRoaXMuc291dGhlcm5DZW50ZXI/LWM6Yyl9fWNsYXNzIFVnIGV4dGVuZHMgSWd7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy53cmFwPSEwLHRoaXMuc3VwcG9ydHNXb3JsZENvcGllcz0hMCx0aGlzLnN1cHBvcnRzVGVycmFpbj0hMCx0aGlzLnN1cHBvcnRzRm9nPSEwLHRoaXMuc3VwcG9ydHNGcmVlQ2FtZXJhPSEwLHRoaXMuaXNSZXByb2plY3RlZEluVGlsZVNwYWNlPSExLHRoaXMudW5zdXBwb3J0ZWRMYXllcnM9W10sdGhpcy5yYW5nZT1udWxsO31wcm9qZWN0KGUsdCl7cmV0dXJuIHt4OkdkKGUpLHk6cWQodCksejowfX11bnByb2plY3QoZSx0KXtjb25zdCBpPSRkKGUpLHI9SGQodCk7cmV0dXJuIG5ldyBOZChpLHIpfX1jb25zdCBWZz13KFhkKTtjbGFzcyBqZyBleHRlbmRzIElne3Byb2plY3QoZSx0KXtjb25zdCBpPSh0PXcodCkpKnQscj1pKmk7cmV0dXJuIHt4Oi41KigoZT13KGUpKSooLjg3MDctLjEzMTk3OSppK3IqKHIqKC4wMDM5NzEqaS0uMDAxNTI5KnIpLS4wMTM3OTEpKS9NYXRoLlBJKy41KSx5OjEtLjUqKHQqKDEuMDA3MjI2K2kqKC4wMTUwODUrciooLjAyODg3NCppLS4wNDQ0NzUtLjAwNTkxNipyKSkpL01hdGguUEkrMSksejowfX11bnByb2plY3QoZSx0KXtlPSgyKmUtLjUpKk1hdGguUEk7bGV0IGk9dD0oMiooMS10KS0xKSpNYXRoLlBJLHI9MjUsbj0wLG89aSppO2Rve289aSppO2NvbnN0IGU9bypvO249KGkqKDEuMDA3MjI2K28qKC4wMTUwODUrZSooLjAyODg3NCpvLS4wNDQ0NzUtLjAwNTkxNiplKSkpLXQpLygxLjAwNzIyNitvKiguMDQ1MjU1K2UqKC4yNTk4NjYqby0uMzExMzI1LS4wMDU5MTYqMTEqZSkpKSxpPXooaS1uLC1WZyxWZyk7fXdoaWxlKE1hdGguYWJzKG4pPjFlLTYmJi0tcj4wKTtvPWkqaTtjb25zdCBzPXooVChlLyguODcwNytvKihvKihvKm8qbyooLjAwMzk3MS0uMDAxNTI5Km8pLS4wMTM3OTEpLS4xMzE5NzkpKSksLTE4MCwxODApLGE9VChpKTtyZXR1cm4gbmV3IE5kKHMsYSl9fWNvbnN0IEdnPXcoWGQpO2NsYXNzIHFnIGV4dGVuZHMgSWd7cHJvamVjdChlLHQpe3Q9dyh0KSxlPXcoZSk7Y29uc3QgaT1NYXRoLmNvcyh0KSxyPTIvTWF0aC5QSSxuPU1hdGguYWNvcyhpKk1hdGguY29zKGUvMikpLG89TWF0aC5zaW4obikvbixzPS41KihlKnIrMippKk1hdGguc2luKGUvMikvbyl8fDAsYT0uNSoodCtNYXRoLnNpbih0KS9vKXx8MDtyZXR1cm4ge3g6LjUqKHMvTWF0aC5QSSsuNSkseToxLS41KihhL01hdGguUEkrMSksejowfX11bnByb2plY3QoZSx0KXtsZXQgaT1lPSgyKmUtLjUpKk1hdGguUEkscj10PSgyKigxLXQpLTEpKk1hdGguUEksbj0yNTtjb25zdCBvPTFlLTY7bGV0IHM9MCxhPTA7ZG97Y29uc3Qgbj1NYXRoLmNvcyhyKSxvPU1hdGguc2luKHIpLGw9MipvKm4sYz1vKm8saD1uKm4sdT1NYXRoLmNvcyhpLzIpLGQ9TWF0aC5zaW4oaS8yKSxwPTIqdSpkLGY9ZCpkLG09MS1oKnUqdSxfPW0/MS9tOjAsZz1tP01hdGguYWNvcyhuKnUpKk1hdGguc3FydCgxL20pOjAseT0uNSooMipnKm4qZCsyKmkvTWF0aC5QSSktZSx4PS41KihnKm8rciktdCx2PS41Kl8qKGgqZitnKm4qdSpjKSsxL01hdGguUEksYj1fKihwKmwvNC1nKm8qZCksdz0uMTI1Kl8qKGwqZC1nKm8qaCpwKSxUPS41Kl8qKGMqdStnKmYqbikrLjUsRT1iKnctVCp2O3M9KHgqYi15KlQpL0UsYT0oeSp3LXgqdikvRSxpPXooaS1zLC1NYXRoLlBJLE1hdGguUEkpLHI9eihyLWEsLUdnLEdnKTt9d2hpbGUoKE1hdGguYWJzKHMpPm98fE1hdGguYWJzKGEpPm8pJiYtLW4+MCk7cmV0dXJuIG5ldyBOZChUKGkpLFQocikpfX1jbGFzcyBaZyBleHRlbmRzIElne2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY2VudGVyPWUuY2VudGVyfHxbMCwwXSx0aGlzLnBhcmFsbGVscz1lLnBhcmFsbGVsc3x8WzAsMF0sdGhpcy5jb3NQaGk9TWF0aC5tYXgoLjAxLE1hdGguY29zKHcodGhpcy5wYXJhbGxlbHNbMF0pKSksdGhpcy5zY2FsZT0xLygyKk1hdGgubWF4KE1hdGguUEkqdGhpcy5jb3NQaGksMS90aGlzLmNvc1BoaSkpLHRoaXMud3JhcD0hMCx0aGlzLnN1cHBvcnRzV29ybGRDb3BpZXM9ITA7fXByb2plY3QoZSx0KXtjb25zdHtzY2FsZTppLGNvc1BoaTpyfT10aGlzO3JldHVybiB7eDp3KGUpKnIqaSsuNSx5Oi1NYXRoLnNpbih3KHQpKS9yKmkrLjUsejowfX11bnByb2plY3QoZSx0KXtjb25zdHtzY2FsZTppLGNvc1BoaTpyfT10aGlzLG49LSh0LS41KS9pLG89eihUKChlLS41KS9pKS9yLC0xODAsMTgwKSxzPU1hdGguYXNpbih6KG4qciwtMSwxKSksYT16KFQocyksLVhkLFhkKTtyZXR1cm4gbmV3IE5kKG8sYSl9fWNsYXNzICRnIGV4dGVuZHMgVWd7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5yZXF1aXJlc0RyYXBpbmc9ITAsdGhpcy5zdXBwb3J0c1dvcmxkQ29waWVzPSExLHRoaXMuc3VwcG9ydHNGb2c9ITAsdGhpcy56QXhpc1VuaXQ9XCJwaXhlbHNcIix0aGlzLnVuc3VwcG9ydGVkTGF5ZXJzPVtcImRlYnVnXCJdLHRoaXMucmFuZ2U9WzMsNV07fXByb2plY3RUaWxlUG9pbnQoZSx0LGkpe2NvbnN0IHI9X2QoZSx0LGkpLG49eGQoYWQoaSkpO3JldHVybiBNdS50cmFuc2Zvcm1NYXQ0KHIscixuKSx7eDpyWzBdLHk6clsxXSx6OnJbMl19fWxvY2F0aW9uUG9pbnQoZSx0KXtjb25zdCBpPW1kKHQubGF0LHQubG5nKSxyPU11Lm5vcm1hbGl6ZShbXSxpKSxuPWUuZWxldmF0aW9uP2UuZWxldmF0aW9uLmdldEF0UG9pbnRPclplcm8oZS5sb2NhdGlvbkNvb3JkaW5hdGUodCksZS5fY2VudGVyQWx0aXR1ZGUpOmUuX2NlbnRlckFsdGl0dWRlLG89WmQoMSwwKSpzcipuO011LnNjYWxlQW5kQWRkKGksaSxyLG8pO2NvbnN0IHM9eHUuaWRlbnRpdHkobmV3IEZsb2F0NjRBcnJheSgxNikpO3JldHVybiB4dS5tdWx0aXBseShzLGUucGl4ZWxNYXRyaXgsZS5nbG9iZU1hdHJpeCksTXUudHJhbnNmb3JtTWF0NChpLGkscyksbmV3IHkoaVswXSxpWzFdKX1waXhlbHNQZXJNZXRlcihlLHQpe3JldHVybiBaZCgxLDApKnR9cGl4ZWxTcGFjZUNvbnZlcnNpb24oZSx0LGkpe2NvbnN0IHI9WmQoMSxlKSp0LG49V3IoWmQoMSw0NSkqdCxyLGkpO3JldHVybiB0aGlzLnBpeGVsc1Blck1ldGVyKGUsdCkvbn1jcmVhdGVUaWxlTWF0cml4KGUsdCxpKXtjb25zdCByPXZkKGFkKGkuY2Fub25pY2FsKSk7cmV0dXJuIHh1Lm11bHRpcGx5KG5ldyBGbG9hdDY0QXJyYXkoMTYpLGUuZ2xvYmVNYXRyaXgscil9Y3JlYXRlSW52ZXJzaW9uTWF0cml4KGUsdCl7Y29uc3R7Y2VudGVyOml9PWUscj14ZChhZCh0KSk7cmV0dXJuIHh1LnJvdGF0ZVkocixyLHcoaS5sbmcpKSx4dS5yb3RhdGVYKHIscix3KGkubGF0KSkseHUuc2NhbGUocixyLFtlLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsLGUuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwsMV0pLEZsb2F0MzJBcnJheS5mcm9tKHIpfXBvaW50Q29vcmRpbmF0ZShlLHQsaSxyKXtyZXR1cm4gbmQoZSx0LGksITApfHxuZXcgZXAoMCwwKX1wb2ludENvb3JkaW5hdGUzRChlLHQsaSl7Y29uc3Qgcj10aGlzLnBvaW50Q29vcmRpbmF0ZShlLHQsaSwwKTtyZXR1cm4gW3IueCxyLnksci56XX1pc1BvaW50QWJvdmVIb3Jpem9uKGUsdCl7cmV0dXJuICFuZChlLHQueCx0LnksITEpfWZhcnRoZXN0UGl4ZWxEaXN0YW5jZShlKXtjb25zdCB0PWZ1bmN0aW9uKGUsdCl7Y29uc3QgaT1lLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2Uscj1lLl9jZW50ZXJBbHRpdHVkZSp0LG49ZS5fY2FtZXJhLG89ZS5fY2FtZXJhLmZvcndhcmQoKSxzPU11LmFkZChbXSxNdS5zY2FsZShbXSxvLC1pKSxbMCwwLHJdKSxhPWUud29ybGRTaXplLygyKk1hdGguUEkpLGw9WzAsMCwtYV0sYz1lLndpZHRoL2UuaGVpZ2h0LGg9TWF0aC50YW4oZS5mb3ZBYm92ZUNlbnRlciksdT1NdS5zY2FsZShbXSxuLnVwKCksaCksZD1NdS5zY2FsZShbXSxuLnJpZ2h0KCksaCpjKSxwPU11Lm5vcm1hbGl6ZShbXSxNdS5hZGQoW10sTXUuYWRkKFtdLG8sdSksZCkpLGY9W107bGV0IG07aWYobmV3IFV1KHMscCkuY2xvc2VzdFBvaW50T25TcGhlcmUobCxhLGYpKXtjb25zdCB0PU11LmFkZChbXSxmLGwpLGk9TXUuc3ViKFtdLHQscyk7bT1NYXRoLmNvcyhlLmZvdkFib3ZlQ2VudGVyKSpNdS5sZW5ndGgoaSk7fWVsc2Uge2NvbnN0IGU9TXUuc3ViKFtdLHMsbCksdD1NdS5zdWIoW10sbCxzKTtNdS5ub3JtYWxpemUodCx0KTtjb25zdCBpPU11Lmxlbmd0aChlKS1hO209TWF0aC5zcXJ0KGkqKGkrMiphKSk7Y29uc3Qgcj1NYXRoLmFjb3MobS8oYStpKSktTWF0aC5hY29zKE11LmRvdChvLHQpKTttKj1NYXRoLmNvcyhyKTt9cmV0dXJuIDEuMDEqbX0oZSx0aGlzLnBpeGVsc1Blck1ldGVyKGUuY2VudGVyLmxhdCxlLndvcmxkU2l6ZSkpLGk9RWQoZS56b29tKTtpZihpPjApe2NvbnN0IHI9d2coZSxaZCgxLGUuY2VudGVyLmxhdCkqZS53b3JsZFNpemUpLG49ZS53b3JsZFNpemUvKDIqTWF0aC5QSSksbz1NYXRoLm1heChlLndpZHRoLGUuaGVpZ2h0KS9lLndvcmxkU2l6ZSpNYXRoLlBJO3JldHVybiBXcih0LHIrbiooMS1NYXRoLmNvcyhvKSksTWF0aC5wb3coaSwxMCkpfXJldHVybiB0fXVwVmVjdG9yKGUsdCxpKXtyZXR1cm4gX2QodCxpLGUsMSl9dXBWZWN0b3JTY2FsZShlKXtyZXR1cm4ge21ldGVyc1RvVGlsZTpyZChnZChhZChlKSkpfX19ZnVuY3Rpb24gSGcoZSl7Y29uc3QgdD1lLnBhcmFsbGVscyxpPSEhdCYmTWF0aC5hYnModFswXSt0WzFdKTwuMDE7c3dpdGNoKGUubmFtZSl7Y2FzZVwibWVyY2F0b3JcIjpyZXR1cm4gbmV3IFVnKGUpO2Nhc2VcImVxdWlyZWN0YW5ndWxhclwiOnJldHVybiBuZXcgT2coZSk7Y2FzZVwibmF0dXJhbEVhcnRoXCI6cmV0dXJuIG5ldyBqZyhlKTtjYXNlXCJlcXVhbEVhcnRoXCI6cmV0dXJuIG5ldyBrZyhlKTtjYXNlXCJ3aW5rZWxUcmlwZWxcIjpyZXR1cm4gbmV3IHFnKGUpO2Nhc2VcImFsYmVyc1wiOnJldHVybiBpP25ldyBaZyhlKTpuZXcgQ2coZSk7Y2FzZVwibGFtYmVydENvbmZvcm1hbENvbmljXCI6cmV0dXJuIGk/bmV3IFpnKGUpOm5ldyBOZyhlKTtjYXNlXCJnbG9iZVwiOnJldHVybiBuZXcgJGcoZSl9dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHByb2plY3Rpb24gbmFtZTogJHtlLm5hbWV9YCl9Y29uc3QgV2c9bmV3IGRhKHtcInN5bWJvbC1wbGFjZW1lbnRcIjpuZXcgY2EoQ3QubGF5b3V0X3N5bWJvbFtcInN5bWJvbC1wbGFjZW1lbnRcIl0pLFwic3ltYm9sLXNwYWNpbmdcIjpuZXcgY2EoQ3QubGF5b3V0X3N5bWJvbFtcInN5bWJvbC1zcGFjaW5nXCJdKSxcInN5bWJvbC1hdm9pZC1lZGdlc1wiOm5ldyBjYShDdC5sYXlvdXRfc3ltYm9sW1wic3ltYm9sLWF2b2lkLWVkZ2VzXCJdKSxcInN5bWJvbC1zb3J0LWtleVwiOm5ldyBoYShDdC5sYXlvdXRfc3ltYm9sW1wic3ltYm9sLXNvcnQta2V5XCJdKSxcInN5bWJvbC16LW9yZGVyXCI6bmV3IGNhKEN0LmxheW91dF9zeW1ib2xbXCJzeW1ib2wtei1vcmRlclwiXSksXCJzeW1ib2wtei1lbGV2YXRlXCI6bmV3IGNhKEN0LmxheW91dF9zeW1ib2xbXCJzeW1ib2wtei1lbGV2YXRlXCJdKSxcImljb24tYWxsb3ctb3ZlcmxhcFwiOm5ldyBjYShDdC5sYXlvdXRfc3ltYm9sW1wiaWNvbi1hbGxvdy1vdmVybGFwXCJdKSxcImljb24taWdub3JlLXBsYWNlbWVudFwiOm5ldyBjYShDdC5sYXlvdXRfc3ltYm9sW1wiaWNvbi1pZ25vcmUtcGxhY2VtZW50XCJdKSxcImljb24tb3B0aW9uYWxcIjpuZXcgY2EoQ3QubGF5b3V0X3N5bWJvbFtcImljb24tb3B0aW9uYWxcIl0pLFwiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIjpuZXcgY2EoQ3QubGF5b3V0X3N5bWJvbFtcImljb24tcm90YXRpb24tYWxpZ25tZW50XCJdKSxcImljb24tc2l6ZVwiOm5ldyBoYShDdC5sYXlvdXRfc3ltYm9sW1wiaWNvbi1zaXplXCJdKSxcImljb24tdGV4dC1maXRcIjpuZXcgaGEoQ3QubGF5b3V0X3N5bWJvbFtcImljb24tdGV4dC1maXRcIl0pLFwiaWNvbi10ZXh0LWZpdC1wYWRkaW5nXCI6bmV3IGhhKEN0LmxheW91dF9zeW1ib2xbXCJpY29uLXRleHQtZml0LXBhZGRpbmdcIl0pLFwiaWNvbi1pbWFnZVwiOm5ldyBoYShDdC5sYXlvdXRfc3ltYm9sW1wiaWNvbi1pbWFnZVwiXSksXCJpY29uLXJvdGF0ZVwiOm5ldyBoYShDdC5sYXlvdXRfc3ltYm9sW1wiaWNvbi1yb3RhdGVcIl0pLFwiaWNvbi1wYWRkaW5nXCI6bmV3IGNhKEN0LmxheW91dF9zeW1ib2xbXCJpY29uLXBhZGRpbmdcIl0pLFwiaWNvbi1rZWVwLXVwcmlnaHRcIjpuZXcgY2EoQ3QubGF5b3V0X3N5bWJvbFtcImljb24ta2VlcC11cHJpZ2h0XCJdKSxcImljb24tb2Zmc2V0XCI6bmV3IGhhKEN0LmxheW91dF9zeW1ib2xbXCJpY29uLW9mZnNldFwiXSksXCJpY29uLWFuY2hvclwiOm5ldyBoYShDdC5sYXlvdXRfc3ltYm9sW1wiaWNvbi1hbmNob3JcIl0pLFwiaWNvbi1waXRjaC1hbGlnbm1lbnRcIjpuZXcgY2EoQ3QubGF5b3V0X3N5bWJvbFtcImljb24tcGl0Y2gtYWxpZ25tZW50XCJdKSxcInRleHQtcGl0Y2gtYWxpZ25tZW50XCI6bmV3IGNhKEN0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiXSksXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiOm5ldyBjYShDdC5sYXlvdXRfc3ltYm9sW1widGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIl0pLFwidGV4dC1maWVsZFwiOm5ldyBoYShDdC5sYXlvdXRfc3ltYm9sW1widGV4dC1maWVsZFwiXSksXCJ0ZXh0LWZvbnRcIjpuZXcgaGEoQ3QubGF5b3V0X3N5bWJvbFtcInRleHQtZm9udFwiXSksXCJ0ZXh0LXNpemVcIjpuZXcgaGEoQ3QubGF5b3V0X3N5bWJvbFtcInRleHQtc2l6ZVwiXSksXCJ0ZXh0LW1heC13aWR0aFwiOm5ldyBoYShDdC5sYXlvdXRfc3ltYm9sW1widGV4dC1tYXgtd2lkdGhcIl0pLFwidGV4dC1saW5lLWhlaWdodFwiOm5ldyBoYShDdC5sYXlvdXRfc3ltYm9sW1widGV4dC1saW5lLWhlaWdodFwiXSksXCJ0ZXh0LWxldHRlci1zcGFjaW5nXCI6bmV3IGhhKEN0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LWxldHRlci1zcGFjaW5nXCJdKSxcInRleHQtanVzdGlmeVwiOm5ldyBoYShDdC5sYXlvdXRfc3ltYm9sW1widGV4dC1qdXN0aWZ5XCJdKSxcInRleHQtcmFkaWFsLW9mZnNldFwiOm5ldyBoYShDdC5sYXlvdXRfc3ltYm9sW1widGV4dC1yYWRpYWwtb2Zmc2V0XCJdKSxcInRleHQtdmFyaWFibGUtYW5jaG9yXCI6bmV3IGNhKEN0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LXZhcmlhYmxlLWFuY2hvclwiXSksXCJ0ZXh0LWFuY2hvclwiOm5ldyBoYShDdC5sYXlvdXRfc3ltYm9sW1widGV4dC1hbmNob3JcIl0pLFwidGV4dC1tYXgtYW5nbGVcIjpuZXcgY2EoQ3QubGF5b3V0X3N5bWJvbFtcInRleHQtbWF4LWFuZ2xlXCJdKSxcInRleHQtd3JpdGluZy1tb2RlXCI6bmV3IGNhKEN0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LXdyaXRpbmctbW9kZVwiXSksXCJ0ZXh0LXJvdGF0ZVwiOm5ldyBoYShDdC5sYXlvdXRfc3ltYm9sW1widGV4dC1yb3RhdGVcIl0pLFwidGV4dC1wYWRkaW5nXCI6bmV3IGNhKEN0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LXBhZGRpbmdcIl0pLFwidGV4dC1rZWVwLXVwcmlnaHRcIjpuZXcgY2EoQ3QubGF5b3V0X3N5bWJvbFtcInRleHQta2VlcC11cHJpZ2h0XCJdKSxcInRleHQtdHJhbnNmb3JtXCI6bmV3IGhhKEN0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LXRyYW5zZm9ybVwiXSksXCJ0ZXh0LW9mZnNldFwiOm5ldyBoYShDdC5sYXlvdXRfc3ltYm9sW1widGV4dC1vZmZzZXRcIl0pLFwidGV4dC1hbGxvdy1vdmVybGFwXCI6bmV3IGNhKEN0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LWFsbG93LW92ZXJsYXBcIl0pLFwidGV4dC1pZ25vcmUtcGxhY2VtZW50XCI6bmV3IGNhKEN0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LWlnbm9yZS1wbGFjZW1lbnRcIl0pLFwidGV4dC1vcHRpb25hbFwiOm5ldyBjYShDdC5sYXlvdXRfc3ltYm9sW1widGV4dC1vcHRpb25hbFwiXSksdmlzaWJpbGl0eTpuZXcgY2EoQ3QubGF5b3V0X3N5bWJvbC52aXNpYmlsaXR5KX0pO3ZhciBYZz17cGFpbnQ6bmV3IGRhKHtcImljb24tb3BhY2l0eVwiOm5ldyBoYShDdC5wYWludF9zeW1ib2xbXCJpY29uLW9wYWNpdHlcIl0pLFwiaWNvbi1lbWlzc2l2ZS1zdHJlbmd0aFwiOm5ldyBoYShDdC5wYWludF9zeW1ib2xbXCJpY29uLWVtaXNzaXZlLXN0cmVuZ3RoXCJdKSxcInRleHQtZW1pc3NpdmUtc3RyZW5ndGhcIjpuZXcgaGEoQ3QucGFpbnRfc3ltYm9sW1widGV4dC1lbWlzc2l2ZS1zdHJlbmd0aFwiXSksXCJpY29uLWNvbG9yXCI6bmV3IGhhKEN0LnBhaW50X3N5bWJvbFtcImljb24tY29sb3JcIl0pLFwiaWNvbi1oYWxvLWNvbG9yXCI6bmV3IGhhKEN0LnBhaW50X3N5bWJvbFtcImljb24taGFsby1jb2xvclwiXSksXCJpY29uLWhhbG8td2lkdGhcIjpuZXcgaGEoQ3QucGFpbnRfc3ltYm9sW1wiaWNvbi1oYWxvLXdpZHRoXCJdKSxcImljb24taGFsby1ibHVyXCI6bmV3IGhhKEN0LnBhaW50X3N5bWJvbFtcImljb24taGFsby1ibHVyXCJdKSxcImljb24tdHJhbnNsYXRlXCI6bmV3IGNhKEN0LnBhaW50X3N5bWJvbFtcImljb24tdHJhbnNsYXRlXCJdKSxcImljb24tdHJhbnNsYXRlLWFuY2hvclwiOm5ldyBjYShDdC5wYWludF9zeW1ib2xbXCJpY29uLXRyYW5zbGF0ZS1hbmNob3JcIl0pLFwiaWNvbi1pbWFnZS1jcm9zcy1mYWRlXCI6bmV3IGhhKEN0LnBhaW50X3N5bWJvbFtcImljb24taW1hZ2UtY3Jvc3MtZmFkZVwiXSksXCJ0ZXh0LW9wYWNpdHlcIjpuZXcgaGEoQ3QucGFpbnRfc3ltYm9sW1widGV4dC1vcGFjaXR5XCJdKSxcInRleHQtY29sb3JcIjpuZXcgaGEoQ3QucGFpbnRfc3ltYm9sW1widGV4dC1jb2xvclwiXSx7cnVudGltZVR5cGU6R3QsZ2V0T3ZlcnJpZGU6ZT0+ZS50ZXh0Q29sb3IsaGFzT3ZlcnJpZGU6ZT0+ISFlLnRleHRDb2xvcn0pLFwidGV4dC1oYWxvLWNvbG9yXCI6bmV3IGhhKEN0LnBhaW50X3N5bWJvbFtcInRleHQtaGFsby1jb2xvclwiXSksXCJ0ZXh0LWhhbG8td2lkdGhcIjpuZXcgaGEoQ3QucGFpbnRfc3ltYm9sW1widGV4dC1oYWxvLXdpZHRoXCJdKSxcInRleHQtaGFsby1ibHVyXCI6bmV3IGhhKEN0LnBhaW50X3N5bWJvbFtcInRleHQtaGFsby1ibHVyXCJdKSxcInRleHQtdHJhbnNsYXRlXCI6bmV3IGNhKEN0LnBhaW50X3N5bWJvbFtcInRleHQtdHJhbnNsYXRlXCJdKSxcInRleHQtdHJhbnNsYXRlLWFuY2hvclwiOm5ldyBjYShDdC5wYWludF9zeW1ib2xbXCJ0ZXh0LXRyYW5zbGF0ZS1hbmNob3JcIl0pfSksbGF5b3V0OldnfTtjbGFzcyBZZ3tjb25zdHJ1Y3RvcihlKXt0aGlzLnR5cGU9ZS5wcm9wZXJ0eS5vdmVycmlkZXM/ZS5wcm9wZXJ0eS5vdmVycmlkZXMucnVudGltZVR5cGU6TnQsdGhpcy5kZWZhdWx0VmFsdWU9ZTt9ZXZhbHVhdGUoZSl7aWYoZS5mb3JtYXR0ZWRTZWN0aW9uKXtjb25zdCB0PXRoaXMuZGVmYXVsdFZhbHVlLnByb3BlcnR5Lm92ZXJyaWRlcztpZih0JiZ0Lmhhc092ZXJyaWRlKGUuZm9ybWF0dGVkU2VjdGlvbikpcmV0dXJuIHQuZ2V0T3ZlcnJpZGUoZS5mb3JtYXR0ZWRTZWN0aW9uKX1yZXR1cm4gZS5mZWF0dXJlJiZlLmZlYXR1cmVTdGF0ZT90aGlzLmRlZmF1bHRWYWx1ZS5ldmFsdWF0ZShlLmZlYXR1cmUsZS5mZWF0dXJlU3RhdGUpOnRoaXMuZGVmYXVsdFZhbHVlLnByb3BlcnR5LnNwZWNpZmljYXRpb24uZGVmYXVsdH1lYWNoQ2hpbGQoZSl7dGhpcy5kZWZhdWx0VmFsdWUuaXNDb25zdGFudCgpfHxlKHRoaXMuZGVmYXVsdFZhbHVlLnZhbHVlLl9zdHlsZUV4cHJlc3Npb24uZXhwcmVzc2lvbik7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITF9c2VyaWFsaXplKCl7cmV0dXJuIG51bGx9fUlzKFlnLFwiRm9ybWF0U2VjdGlvbk92ZXJyaWRlXCIse29taXQ6W1wiZGVmYXVsdFZhbHVlXCJdfSk7Y2xhc3MgS2cgZXh0ZW5kcyBfYXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsWGcsdCk7fXJlY2FsY3VsYXRlKGUsdCl7c3VwZXIucmVjYWxjdWxhdGUoZSx0KSxcImF1dG9cIj09PXRoaXMubGF5b3V0LmdldChcImljb24tcm90YXRpb24tYWxpZ25tZW50XCIpJiYodGhpcy5sYXlvdXQuX3ZhbHVlc1tcImljb24tcm90YXRpb24tYWxpZ25tZW50XCJdPVwicG9pbnRcIiE9PXRoaXMubGF5b3V0LmdldChcInN5bWJvbC1wbGFjZW1lbnRcIik/XCJtYXBcIjpcInZpZXdwb3J0XCIpLFwiYXV0b1wiPT09dGhpcy5sYXlvdXQuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIikmJih0aGlzLmxheW91dC5fdmFsdWVzW1widGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIl09XCJwb2ludFwiIT09dGhpcy5sYXlvdXQuZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKT9cIm1hcFwiOlwidmlld3BvcnRcIiksXCJhdXRvXCI9PT10aGlzLmxheW91dC5nZXQoXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiKSYmKHRoaXMubGF5b3V0Ll92YWx1ZXNbXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiXT10aGlzLmxheW91dC5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSksXCJhdXRvXCI9PT10aGlzLmxheW91dC5nZXQoXCJpY29uLXBpdGNoLWFsaWdubWVudFwiKSYmKHRoaXMubGF5b3V0Ll92YWx1ZXNbXCJpY29uLXBpdGNoLWFsaWdubWVudFwiXT10aGlzLmxheW91dC5nZXQoXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiKSk7Y29uc3QgaT10aGlzLmxheW91dC5nZXQoXCJ0ZXh0LXdyaXRpbmctbW9kZVwiKTtpZihpKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IG9mIGkpZS5pbmRleE9mKHQpPDAmJmUucHVzaCh0KTt0aGlzLmxheW91dC5fdmFsdWVzW1widGV4dC13cml0aW5nLW1vZGVcIl09ZTt9ZWxzZSB0aGlzLmxheW91dC5fdmFsdWVzW1widGV4dC13cml0aW5nLW1vZGVcIl09XCJwb2ludFwiPT09dGhpcy5sYXlvdXQuZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKT9bXCJob3Jpem9udGFsXCJdOltcImhvcml6b250YWxcIixcInZlcnRpY2FsXCJdO3RoaXMuX3NldFBhaW50T3ZlcnJpZGVzKCk7fWdldFZhbHVlQW5kUmVzb2x2ZVRva2VucyhlLHQsaSxyKXtjb25zdCBuPXRoaXMubGF5b3V0LmdldChlKS5ldmFsdWF0ZSh0LHt9LGksciksbz10aGlzLl91bmV2YWx1YXRlZExheW91dC5fdmFsdWVzW2VdO3JldHVybiBvLmlzRGF0YURyaXZlbigpfHx5byhvLnZhbHVlKXx8IW4/bjpmdW5jdGlvbihlLHQpe3JldHVybiB0LnJlcGxhY2UoL3soW157fV0rKX0vZywoKHQsaSk9PmkgaW4gZT9TdHJpbmcoZVtpXSk6XCJcIikpfSh0LnByb3BlcnRpZXMsbil9Y3JlYXRlQnVja2V0KGUpe3JldHVybiBuZXcgY3koZSl9cXVlcnlSYWRpdXMoKXtyZXR1cm4gMH1xdWVyeUludGVyc2VjdHNGZWF0dXJlKCl7cmV0dXJuICExfV9zZXRQYWludE92ZXJyaWRlcygpe2Zvcihjb25zdCBlIG9mIFhnLnBhaW50Lm92ZXJyaWRhYmxlUHJvcGVydGllcyl7aWYoIUtnLmhhc1BhaW50T3ZlcnJpZGUodGhpcy5sYXlvdXQsZSkpY29udGludWU7Y29uc3QgdD10aGlzLnBhaW50LmdldChlKSxpPW5ldyBZZyh0KSxyPW5ldyBnbyhpLHQucHJvcGVydHkuc3BlY2lmaWNhdGlvbik7bGV0IG49bnVsbDtuPVwiY29uc3RhbnRcIj09PXQudmFsdWUua2luZHx8XCJzb3VyY2VcIj09PXQudmFsdWUua2luZD9uZXcgdm8oXCJzb3VyY2VcIixyKTpuZXcgYm8oXCJjb21wb3NpdGVcIixyLHQudmFsdWUuem9vbVN0b3BzLHQudmFsdWUuX2ludGVycG9sYXRpb25UeXBlKSx0aGlzLnBhaW50Ll92YWx1ZXNbZV09bmV3IGFhKHQucHJvcGVydHksbix0LnBhcmFtZXRlcnMpO319X2hhbmRsZU92ZXJyaWRhYmxlUGFpbnRQcm9wZXJ0eVVwZGF0ZShlLHQsaSl7cmV0dXJuICEoIXRoaXMubGF5b3V0fHx0LmlzRGF0YURyaXZlbigpfHxpLmlzRGF0YURyaXZlbigpKSYmS2cuaGFzUGFpbnRPdmVycmlkZSh0aGlzLmxheW91dCxlKX1zdGF0aWMgaGFzUGFpbnRPdmVycmlkZShlLHQpe2NvbnN0IGk9ZS5nZXQoXCJ0ZXh0LWZpZWxkXCIpLHI9WGcucGFpbnQucHJvcGVydGllc1t0XTtsZXQgbj0hMTtjb25zdCBvPWU9Pntmb3IoY29uc3QgdCBvZiBlKWlmKHIub3ZlcnJpZGVzJiZyLm92ZXJyaWRlcy5oYXNPdmVycmlkZSh0KSlyZXR1cm4gdm9pZChuPSEwKX07aWYoXCJjb25zdGFudFwiPT09aS52YWx1ZS5raW5kJiZpLnZhbHVlLnZhbHVlIGluc3RhbmNlb2YgdWkpbyhpLnZhbHVlLnZhbHVlLnNlY3Rpb25zKTtlbHNlIGlmKFwic291cmNlXCI9PT1pLnZhbHVlLmtpbmQpe2NvbnN0IGU9dD0+e258fCh0IGluc3RhbmNlb2YgeWkmJm1pKHQudmFsdWUpPT09SHQ/byh0LnZhbHVlLnNlY3Rpb25zKTp0IGluc3RhbmNlb2YgVGk/byh0LnNlY3Rpb25zKTp0LmVhY2hDaGlsZChlKSk7fSx0PWkudmFsdWU7dC5fc3R5bGVFeHByZXNzaW9uJiZlKHQuX3N0eWxlRXhwcmVzc2lvbi5leHByZXNzaW9uKTt9cmV0dXJuIG59Z2V0UHJvZ3JhbUlkcygpe2NvbnN0IGU9MCE9PXRoaXMucGFpbnQuZ2V0KFwiaWNvbi1vcGFjaXR5XCIpLmNvbnN0YW50T3IoMSksdD0wIT09dGhpcy5wYWludC5nZXQoXCJ0ZXh0LW9wYWNpdHlcIikuY29uc3RhbnRPcigxKSxpPVtdO3JldHVybiBlJiZpLnB1c2goXCJzeW1ib2xJY29uXCIpLHQmJmkucHVzaChcInN5bWJvbFNERlwiKSxpfWdldERlZmF1bHRQcm9ncmFtUGFyYW1zKGUsdCl7cmV0dXJuIHtjb25maWc6bmV3ICRsKHRoaXMsdCksb3ZlcnJpZGVGb2c6ITF9fX1jb25zdCBKZz1pbS50eXBlcyxRZz1be25hbWU6XCJhX2ZhZGVfb3BhY2l0eVwiLGNvbXBvbmVudHM6MSx0eXBlOlwiVWludDhcIixvZmZzZXQ6MH1dO2Z1bmN0aW9uIGV5KGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQpe2NvbnN0IHA9YT9NYXRoLm1pbihfZyxNYXRoLnJvdW5kKGFbMF0pKTowLGY9YT9NYXRoLm1pbihfZyxNYXRoLnJvdW5kKGFbMV0pKTowO2UuZW1wbGFjZUJhY2sodCxpLE1hdGgucm91bmQoMzIqciksTWF0aC5yb3VuZCgzMipuKSxvLHMsKHA8PDEpKyhsPzE6MCksZiwxNipjLDE2KmgsMjU2KnUsMjU2KmQpO31mdW5jdGlvbiB0eShlLHQsaSl7ZS5lbXBsYWNlQmFjayh0LGkpO31mdW5jdGlvbiBpeShlLHQsaSxyLG4sbyxzKXtlLmVtcGxhY2VCYWNrKHQsaSxyLG4sbyxzKTt9ZnVuY3Rpb24gcnkoZSx0LGkscixuKXtjb25zdCBvPTUqdCsyO2UuZmxvYXQzMltvKzBdPWksZS5mbG9hdDMyW28rMV09cixlLmZsb2F0MzJbbysyXT1uO31mdW5jdGlvbiBueShlLHQsaSxyLG4pe2UuZW1wbGFjZUJhY2sodCxpLHIsbiksZS5lbXBsYWNlQmFjayh0LGkscixuKSxlLmVtcGxhY2VCYWNrKHQsaSxyLG4pLGUuZW1wbGFjZUJhY2sodCxpLHIsbik7fWZ1bmN0aW9uIG95KGUpe2Zvcihjb25zdCB0IG9mIGUuc2VjdGlvbnMpaWYoVnModC50ZXh0KSlyZXR1cm4gITA7cmV0dXJuICExfWNsYXNzIHN5e2NvbnN0cnVjdG9yKGUpe3RoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IFBhLHRoaXMuaW5kZXhBcnJheT1uZXcgVmEsdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnM9ZSx0aGlzLnNlZ21lbnRzPW5ldyBkbCx0aGlzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheT1uZXcgSWEsdGhpcy5vcGFjaXR5VmVydGV4QXJyYXk9bmV3IExhLHRoaXMucGxhY2VkU3ltYm9sQXJyYXk9bmV3IGlsLHRoaXMuaWNvblRyYW5zaXRpb25pbmdWZXJ0ZXhBcnJheT1uZXcga2EsdGhpcy5nbG9iZUV4dFZlcnRleEFycmF5PW5ldyBSYSx0aGlzLnpPZmZzZXRWZXJ0ZXhBcnJheT1uZXcgcWE7fWlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoJiYwPT09dGhpcy5pbmRleEFycmF5Lmxlbmd0aCYmMD09PXRoaXMuZHluYW1pY0xheW91dFZlcnRleEFycmF5Lmxlbmd0aCYmMD09PXRoaXMub3BhY2l0eVZlcnRleEFycmF5Lmxlbmd0aCYmMD09PXRoaXMuaWNvblRyYW5zaXRpb25pbmdWZXJ0ZXhBcnJheS5sZW5ndGh9dXBsb2FkKGUsdCxpLHIsbil7dGhpcy5pc0VtcHR5KCl8fChpJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxXbS5tZW1iZXJzKSx0aGlzLmluZGV4QnVmZmVyPWUuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5LHQpLHRoaXMuZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSxZbS5tZW1iZXJzLCEwKSx0aGlzLm9wYWNpdHlWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5vcGFjaXR5VmVydGV4QXJyYXksUWcsITApLHRoaXMuaWNvblRyYW5zaXRpb25pbmdWZXJ0ZXhBcnJheS5sZW5ndGg+MCYmKHRoaXMuaWNvblRyYW5zaXRpb25pbmdWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5pY29uVHJhbnNpdGlvbmluZ1ZlcnRleEFycmF5LEptLm1lbWJlcnMsITApKSx0aGlzLmdsb2JlRXh0VmVydGV4QXJyYXkubGVuZ3RoPjAmJih0aGlzLmdsb2JlRXh0VmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuZ2xvYmVFeHRWZXJ0ZXhBcnJheSxYbS5tZW1iZXJzLCEwKSksIXRoaXMuek9mZnNldFZlcnRleEJ1ZmZlciYmKHRoaXMuek9mZnNldFZlcnRleEFycmF5Lmxlbmd0aD4wfHxuKSYmKHRoaXMuek9mZnNldFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLnpPZmZzZXRWZXJ0ZXhBcnJheSxLbS5tZW1iZXJzLCEwKSksdGhpcy5vcGFjaXR5VmVydGV4QnVmZmVyLml0ZW1TaXplPTEpLChpfHxyKSYmdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBsb2FkKGUpKTt9ZGVzdHJveSgpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMub3BhY2l0eVZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pY29uVHJhbnNpdGlvbmluZ1ZlcnRleEJ1ZmZlciYmdGhpcy5pY29uVHJhbnNpdGlvbmluZ1ZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5nbG9iZUV4dFZlcnRleEJ1ZmZlciYmdGhpcy5nbG9iZUV4dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy56T2Zmc2V0VmVydGV4QnVmZmVyJiZ0aGlzLnpPZmZzZXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpKTt9fUlzKHN5LFwiU3ltYm9sQnVmZmVyc1wiKTtjbGFzcyBheXtjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheT1uZXcgZSx0aGlzLmxheW91dEF0dHJpYnV0ZXM9dCx0aGlzLmluZGV4QXJyYXk9bmV3IGksdGhpcy5zZWdtZW50cz1uZXcgZGwsdGhpcy5jb2xsaXNpb25WZXJ0ZXhBcnJheT1uZXcgTmEsdGhpcy5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dD1uZXcgVWE7fXVwbG9hZChlKXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMubGF5b3V0QXR0cmlidXRlcyksdGhpcy5pbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheSksdGhpcy5jb2xsaXNpb25WZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5jb2xsaXNpb25WZXJ0ZXhBcnJheSxRbS5tZW1iZXJzLCEwKSx0aGlzLmNvbGxpc2lvblZlcnRleEJ1ZmZlckV4dD1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmNvbGxpc2lvblZlcnRleEFycmF5RXh0LGVfLm1lbWJlcnMsITApO31kZXN0cm95KCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5zZWdtZW50cy5kZXN0cm95KCksdGhpcy5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuY29sbGlzaW9uVmVydGV4QnVmZmVyRXh0LmRlc3Ryb3koKSk7fX1JcyhheSxcIkNvbGxpc2lvbkJ1ZmZlcnNcIik7Y2xhc3MgbHl7Y29uc3RydWN0b3IoZSl7dGhpcy5jb2xsaXNpb25Cb3hBcnJheT1lLmNvbGxpc2lvbkJveEFycmF5LHRoaXMuem9vbT1lLnpvb20sdGhpcy5vdmVyc2NhbGluZz1lLm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPWUubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKChlPT5lLmZxaWQpKSx0aGlzLmluZGV4PWUuaW5kZXgsdGhpcy5waXhlbFJhdGlvPWUucGl4ZWxSYXRpbyx0aGlzLnNvdXJjZUxheWVySW5kZXg9ZS5zb3VyY2VMYXllckluZGV4LHRoaXMuaGFzUGF0dGVybj0hMSx0aGlzLmhhc1JUTFRleHQ9ITEsdGhpcy5mdWxseUNsaXBwZWQ9ITEsdGhpcy5oYXNBbnlJY29uVGV4dEZpdD0hMSx0aGlzLnNvcnRLZXlSYW5nZXM9W10sdGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheT1bXSx0aGlzLnBsYWNlbWVudEludlByb2pNYXRyaXg9eHUuaWRlbnRpdHkoW10pLHRoaXMucGxhY2VtZW50Vmlld3BvcnRNYXRyaXg9eHUuaWRlbnRpdHkoW10pO2NvbnN0IHQ9dGhpcy5sYXllcnNbMF0uX3VuZXZhbHVhdGVkTGF5b3V0Ll92YWx1ZXM7dGhpcy50ZXh0U2l6ZURhdGE9b18odGhpcy56b29tLHRbXCJ0ZXh0LXNpemVcIl0pLHRoaXMuaWNvblNpemVEYXRhPW9fKHRoaXMuem9vbSx0W1wiaWNvbi1zaXplXCJdKTtjb25zdCBpPXRoaXMubGF5ZXJzWzBdLmxheW91dCxyPWkuZ2V0KFwic3ltYm9sLXNvcnQta2V5XCIpLG49aS5nZXQoXCJzeW1ib2wtei1vcmRlclwiKTt0aGlzLmNhbk92ZXJsYXA9aS5nZXQoXCJ0ZXh0LWFsbG93LW92ZXJsYXBcIil8fGkuZ2V0KFwiaWNvbi1hbGxvdy1vdmVybGFwXCIpfHxpLmdldChcInRleHQtaWdub3JlLXBsYWNlbWVudFwiKXx8aS5nZXQoXCJpY29uLWlnbm9yZS1wbGFjZW1lbnRcIiksdGhpcy5zb3J0RmVhdHVyZXNCeUtleT1cInZpZXdwb3J0LXlcIiE9PW4mJnZvaWQgMCE9PXIuY29uc3RhbnRPcigxKSx0aGlzLnNvcnRGZWF0dXJlc0J5WT0oXCJ2aWV3cG9ydC15XCI9PT1ufHxcImF1dG9cIj09PW4mJiF0aGlzLnNvcnRGZWF0dXJlc0J5S2V5KSYmdGhpcy5jYW5PdmVybGFwLHRoaXMud3JpdGluZ01vZGVzPWkuZ2V0KFwidGV4dC13cml0aW5nLW1vZGVcIikubWFwKChlPT53X1tlXSkpLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoKGU9PmUuaXNTdGF0ZURlcGVuZGVudCgpKSkubWFwKChlPT5lLmlkKSksdGhpcy5zb3VyY2VJRD1lLnNvdXJjZUlELHRoaXMucHJvamVjdGlvbj1lLnByb2plY3Rpb24sdGhpcy5oYXNBbnlaT2Zmc2V0PSExLHRoaXMuek9mZnNldFNvcnREaXJ0eT0hMSx0aGlzLnpPZmZzZXRCdWZmZXJzTmVlZFVwbG9hZD1pLmdldChcInN5bWJvbC16LWVsZXZhdGVcIik7fWNyZWF0ZUFycmF5cygpe3RoaXMudGV4dD1uZXcgc3kobmV3IEhsKHRoaXMubGF5ZXJzLHRoaXMuem9vbSwoZT0+L150ZXh0Ly50ZXN0KGUpKSkpLHRoaXMuaWNvbj1uZXcgc3kobmV3IEhsKHRoaXMubGF5ZXJzLHRoaXMuem9vbSwoZT0+L15pY29uLy50ZXN0KGUpKSkpLHRoaXMuZ2x5cGhPZmZzZXRBcnJheT1uZXcgb2wsdGhpcy5saW5lVmVydGV4QXJyYXk9bmV3IHNsLHRoaXMuc3ltYm9sSW5zdGFuY2VzPW5ldyBubDt9Y2FsY3VsYXRlR2x5cGhEZXBlbmRlbmNpZXMoZSx0LGkscixuKXtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgbz1lLmNvZGVQb2ludEF0KGkpO2lmKHZvaWQgMD09PW8pYnJlYWs7aWYodFtvXT0hMCxyJiZuJiZvPD02NTUzNSl7Y29uc3Qgcj1oX1tlLmNoYXJBdChpKV07ciYmKHRbci5jaGFyQ29kZUF0KDApXT0hMCk7fX19cG9wdWxhdGUoZSx0LGkscil7Y29uc3Qgbj10aGlzLmxheWVyc1swXSxvPW4ubGF5b3V0LHM9XCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUsYT1vLmdldChcInRleHQtZm9udFwiKSxsPW8uZ2V0KFwidGV4dC1maWVsZFwiKSxjPW8uZ2V0KFwiaWNvbi1pbWFnZVwiKSxoPShcImNvbnN0YW50XCIhPT1sLnZhbHVlLmtpbmR8fGwudmFsdWUudmFsdWUgaW5zdGFuY2VvZiB1aSYmIWwudmFsdWUudmFsdWUuaXNFbXB0eSgpfHxsLnZhbHVlLnZhbHVlLnRvU3RyaW5nKCkubGVuZ3RoPjApJiYoXCJjb25zdGFudFwiIT09YS52YWx1ZS5raW5kfHxhLnZhbHVlLnZhbHVlLmxlbmd0aD4wKSx1PVwiY29uc3RhbnRcIiE9PWMudmFsdWUua2luZHx8ISFjLnZhbHVlLnZhbHVlfHxPYmplY3Qua2V5cyhjLnBhcmFtZXRlcnMpLmxlbmd0aD4wLGQ9by5nZXQoXCJzeW1ib2wtc29ydC1rZXlcIik7aWYodGhpcy5mZWF0dXJlcz1bXSwhaCYmIXUpcmV0dXJuO2NvbnN0IHA9dC5pY29uRGVwZW5kZW5jaWVzLGY9dC5nbHlwaERlcGVuZGVuY2llcyxtPXQuYXZhaWxhYmxlSW1hZ2VzLF89bmV3IGVhKHRoaXMuem9vbSk7Zm9yKGNvbnN0e2ZlYXR1cmU6dCxpZDpsLGluZGV4OmMsc291cmNlTGF5ZXJJbmRleDpnfW9mIGUpe2NvbnN0IGU9bi5fZmVhdHVyZUZpbHRlci5uZWVkR2VvbWV0cnkseT1jcCh0LGUpO2lmKCFuLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihfLHksaSkpY29udGludWU7aWYoZXx8KHkuZ2VvbWV0cnk9bHAodCxpLHIpKSxzJiYxIT09dC50eXBlJiZpLno8PTUpe2NvbnN0IGU9eS5nZW9tZXRyeSx0PS45ODA3ODUyODA1NixyPShlLHIpPT57Y29uc3Qgbj1fZChlLngsZS55LGksMSksbz1fZChyLngsci55LGksMSk7cmV0dXJuIE11LmRvdChuLG8pPHR9O2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKWVbdF09bnAoZVt0XSxyKTt9bGV0IHgsdjtpZihoKXtjb25zdCBlPW4uZ2V0VmFsdWVBbmRSZXNvbHZlVG9rZW5zKFwidGV4dC1maWVsZFwiLHksaSxtKSx0PXVpLmZhY3RvcnkoZSk7b3kodCkmJih0aGlzLmhhc1JUTFRleHQ9ITApLCghdGhpcy5oYXNSVExUZXh0fHxcInVuYXZhaWxhYmxlXCI9PT1LcygpfHx0aGlzLmhhc1JUTFRleHQmJlFzLmlzUGFyc2VkKCkpJiYoeD1jXyh0LG4seSkpO31pZih1KXtjb25zdCBlPW4uZ2V0VmFsdWVBbmRSZXNvbHZlVG9rZW5zKFwiaWNvbi1pbWFnZVwiLHksaSxtKTt2PWUgaW5zdGFuY2VvZiBkaT9lOmRpLmZyb21TdHJpbmcoZSk7fWlmKCF4JiYhdiljb250aW51ZTtjb25zdCBiPXRoaXMuc29ydEZlYXR1cmVzQnlLZXk/ZC5ldmFsdWF0ZSh5LHt9LGkpOnZvaWQgMDtpZih0aGlzLmZlYXR1cmVzLnB1c2goe2lkOmwsdGV4dDp4LGljb246dixpbmRleDpjLHNvdXJjZUxheWVySW5kZXg6ZyxnZW9tZXRyeTp5Lmdlb21ldHJ5LHByb3BlcnRpZXM6dC5wcm9wZXJ0aWVzLHR5cGU6SmdbdC50eXBlXSxzb3J0S2V5OmJ9KSx2JiYocFt2Lm5hbWVQcmltYXJ5XT0hMCx2Lm5hbWVTZWNvbmRhcnkmJihwW3YubmFtZVNlY29uZGFyeV09ITApKSx4KXtjb25zdCBlPWEuZXZhbHVhdGUoeSx7fSxpKS5qb2luKFwiLFwiKSx0PVwibWFwXCI9PT1vLmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpJiZcInBvaW50XCIhPT1vLmdldChcInN5bWJvbC1wbGFjZW1lbnRcIik7dGhpcy5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50PXRoaXMud3JpdGluZ01vZGVzJiZ0aGlzLndyaXRpbmdNb2Rlcy5pbmRleE9mKHdfLnZlcnRpY2FsKT49MDtmb3IoY29uc3QgaSBvZiB4LnNlY3Rpb25zKWlmKGkuaW1hZ2UpcFtpLmltYWdlLm5hbWVQcmltYXJ5XT0hMDtlbHNlIHtjb25zdCByPUxzKHgudG9TdHJpbmcoKSksbj1pLmZvbnRTdGFja3x8ZSxvPWZbbl09ZltuXXx8e307dGhpcy5jYWxjdWxhdGVHbHlwaERlcGVuZGVuY2llcyhpLnRleHQsbyx0LHRoaXMuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCxyKTt9fX1cImxpbmVcIj09PW8uZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKSYmKHRoaXMuZmVhdHVyZXM9ZnVuY3Rpb24oZSl7Y29uc3QgdD17fSxpPXt9LHI9W107bGV0IG49MDtmdW5jdGlvbiBvKHQpe3IucHVzaChlW3RdKSxuKys7fWZ1bmN0aW9uIHMoZSx0LG4pe2NvbnN0IG89aVtlXTtyZXR1cm4gZGVsZXRlIGlbZV0saVt0XT1vLHJbb10uZ2VvbWV0cnlbMF0ucG9wKCkscltvXS5nZW9tZXRyeVswXT1yW29dLmdlb21ldHJ5WzBdLmNvbmNhdChuWzBdKSxvfWZ1bmN0aW9uIGEoZSxpLG4pe2NvbnN0IG89dFtpXTtyZXR1cm4gZGVsZXRlIHRbaV0sdFtlXT1vLHJbb10uZ2VvbWV0cnlbMF0uc2hpZnQoKSxyW29dLmdlb21ldHJ5WzBdPW5bMF0uY29uY2F0KHJbb10uZ2VvbWV0cnlbMF0pLG99ZnVuY3Rpb24gbChlLHQsaSl7Y29uc3Qgcj1pP3RbMF1bdFswXS5sZW5ndGgtMV06dFswXVswXTtyZXR1cm4gYCR7ZX06JHtyLnh9OiR7ci55fWB9Zm9yKGxldCBjPTA7YzxlLmxlbmd0aDtjKyspe2NvbnN0IGg9ZVtjXSx1PWguZ2VvbWV0cnksZD1oLnRleHQ/aC50ZXh0LnRvU3RyaW5nKCk6bnVsbDtpZighZCl7byhjKTtjb250aW51ZX1jb25zdCBwPWwoZCx1KSxmPWwoZCx1LCEwKTtpZihwIGluIGkmJmYgaW4gdCYmaVtwXSE9PXRbZl0pe2NvbnN0IGU9YShwLGYsdSksbj1zKHAsZixyW2VdLmdlb21ldHJ5KTtkZWxldGUgdFtwXSxkZWxldGUgaVtmXSxpW2woZCxyW25dLmdlb21ldHJ5LCEwKV09bixyW2VdLmdlb21ldHJ5PW51bGw7fWVsc2UgcCBpbiBpP3MocCxmLHUpOmYgaW4gdD9hKHAsZix1KToobyhjKSx0W3BdPW4tMSxpW2ZdPW4tMSk7fXJldHVybiByLmZpbHRlcigoZT0+ZS5nZW9tZXRyeSkpfSh0aGlzLmZlYXR1cmVzKSksdGhpcy5zb3J0RmVhdHVyZXNCeUtleSYmdGhpcy5mZWF0dXJlcy5zb3J0KCgoZSx0KT0+ZS5zb3J0S2V5LXQuc29ydEtleSkpO311cGRhdGUoZSx0LGkscixuKXtjb25zdCBvPTAhPT1PYmplY3Qua2V5cyhlKS5sZW5ndGg7aWYobyYmIXRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMubGVuZ3RoKXJldHVybjtjb25zdCBzPW8/dGhpcy5zdGF0ZURlcGVuZGVudExheWVyczp0aGlzLmxheWVyczt0aGlzLnRleHQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKGUsdCxzLGkscixuKSx0aGlzLmljb24ucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKGUsdCxzLGkscixuKTt9dXBkYXRlWk9mZnNldCgpe2NvbnN0IGU9KGUsdCxyKT0+e2krPXQsaT5lLmxlbmd0aCYmZS5yZXNpemUoaSk7Zm9yKGxldCBuPS10O248MDtuKyspZS5lbXBsYWNlKG4raSxyKTt9LHQ9KGUsdCxpKT0+e3IrPXQscj5lLmxlbmd0aCYmZS5yZXNpemUocik7Zm9yKGxldCBuPS10O248MDtuKyspZS5lbXBsYWNlKG4rcixpKTt9O2lmKCF0aGlzLnpPZmZzZXRCdWZmZXJzTmVlZFVwbG9hZClyZXR1cm47dGhpcy56T2Zmc2V0QnVmZmVyc05lZWRVcGxvYWQ9ITE7bGV0IGk9MCxyPTA7Zm9yKGxldCBpPTA7aTx0aGlzLnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7aSsrKXtjb25zdCByPXRoaXMuc3ltYm9sSW5zdGFuY2VzLmdldChpKSx7bnVtSG9yaXpvbnRhbEdseXBoVmVydGljZXM6bixudW1WZXJ0aWNhbEdseXBoVmVydGljZXM6byxudW1JY29uVmVydGljZXM6c309cixhPXIuek9mZnNldCxsPXM+MDtpZigobj4wfHxvPjApJiYoZSh0aGlzLnRleHQuek9mZnNldFZlcnRleEFycmF5LG4sYSksZSh0aGlzLnRleHQuek9mZnNldFZlcnRleEFycmF5LG8sYSkpLGwpe2NvbnN0e3BsYWNlZEljb25TeW1ib2xJbmRleDplLHZlcnRpY2FsUGxhY2VkSWNvblN5bWJvbEluZGV4Oml9PXI7ZT49MCYmdCh0aGlzLmljb24uek9mZnNldFZlcnRleEFycmF5LHMsYSksaT49MCYmdCh0aGlzLmljb24uek9mZnNldFZlcnRleEFycmF5LHIubnVtVmVydGljYWxJY29uVmVydGljZXMsYSk7fX10aGlzLnRleHQuek9mZnNldFZlcnRleEJ1ZmZlciYmdGhpcy50ZXh0LnpPZmZzZXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YSh0aGlzLnRleHQuek9mZnNldFZlcnRleEFycmF5KSx0aGlzLmljb24uek9mZnNldFZlcnRleEJ1ZmZlciYmdGhpcy5pY29uLnpPZmZzZXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YSh0aGlzLmljb24uek9mZnNldFZlcnRleEFycmF5KTt9aXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoJiYhdGhpcy5oYXNSVExUZXh0fXVwbG9hZFBlbmRpbmcoKXtyZXR1cm4gIXRoaXMudXBsb2FkZWR8fHRoaXMudGV4dC5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWR8fHRoaXMuaWNvbi5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWR9dXBsb2FkKGUpeyF0aGlzLnVwbG9hZGVkJiZ0aGlzLmhhc0RlYnVnRGF0YSgpJiYodGhpcy50ZXh0Q29sbGlzaW9uQm94LnVwbG9hZChlKSx0aGlzLmljb25Db2xsaXNpb25Cb3gudXBsb2FkKGUpKSx0aGlzLnRleHQudXBsb2FkKGUsdGhpcy5zb3J0RmVhdHVyZXNCeVksIXRoaXMudXBsb2FkZWQsdGhpcy50ZXh0LnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZCx0aGlzLnpPZmZzZXRCdWZmZXJzTmVlZFVwbG9hZCksdGhpcy5pY29uLnVwbG9hZChlLHRoaXMuc29ydEZlYXR1cmVzQnlZLCF0aGlzLnVwbG9hZGVkLHRoaXMuaWNvbi5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWQsdGhpcy56T2Zmc2V0QnVmZmVyc05lZWRVcGxvYWQpLHRoaXMudXBsb2FkZWQ9ITA7fWRlc3Ryb3lEZWJ1Z0RhdGEoKXt0aGlzLnRleHRDb2xsaXNpb25Cb3guZGVzdHJveSgpLHRoaXMuaWNvbkNvbGxpc2lvbkJveC5kZXN0cm95KCk7fWdldFByb2plY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9qZWN0aW9uSW5zdGFuY2V8fCh0aGlzLnByb2plY3Rpb25JbnN0YW5jZT1IZyh0aGlzLnByb2plY3Rpb24pKSx0aGlzLnByb2plY3Rpb25JbnN0YW5jZX1kZXN0cm95KCl7dGhpcy50ZXh0LmRlc3Ryb3koKSx0aGlzLmljb24uZGVzdHJveSgpLHRoaXMuaGFzRGVidWdEYXRhKCkmJnRoaXMuZGVzdHJveURlYnVnRGF0YSgpO31hZGRUb0xpbmVWZXJ0ZXhBcnJheShlLHQpe2NvbnN0IGk9dGhpcy5saW5lVmVydGV4QXJyYXkubGVuZ3RoO2lmKHZvaWQgMCE9PWUuc2VnbWVudClmb3IoY29uc3R7eDplLHk6aX1vZiB0KXRoaXMubGluZVZlcnRleEFycmF5LmVtcGxhY2VCYWNrKGUsaSk7cmV0dXJuIHtsaW5lU3RhcnRJbmRleDppLGxpbmVMZW5ndGg6dGhpcy5saW5lVmVydGV4QXJyYXkubGVuZ3RoLWl9fWFkZFN5bWJvbHMoZSx0LGkscixuLG8scyxhLGwsYyxoLHUsZCxwLGYsbSl7Y29uc3QgXz1lLmluZGV4QXJyYXksZz1lLmxheW91dFZlcnRleEFycmF5LHk9ZS5nbG9iZUV4dFZlcnRleEFycmF5LHg9ZS5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCg0KnQubGVuZ3RoLGcsXyx0aGlzLmNhbk92ZXJsYXA/by5zb3J0S2V5OnZvaWQgMCksdj10aGlzLmdseXBoT2Zmc2V0QXJyYXkubGVuZ3RoLGI9eC52ZXJ0ZXhMZW5ndGgsdz10aGlzLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJnM9PT13Xy52ZXJ0aWNhbD9NYXRoLlBJLzI6MCxUPW8udGV4dCYmby50ZXh0LnNlY3Rpb25zO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKXtjb25zdHt0bDpuLHRyOnMsYmw6YyxicjpoLHRleFByaW1hcnk6dSx0ZXhTZWNvbmRhcnk6dixwaXhlbE9mZnNldFRMOmIscGl4ZWxPZmZzZXRCUjpFLG1pbkZvbnRTY2FsZVg6TSxtaW5Gb250U2NhbGVZOkEsZ2x5cGhPZmZzZXQ6Uyxpc1NERjpJLHNlY3Rpb25JbmRleDpDfT10W3JdLHo9eC52ZXJ0ZXhMZW5ndGgsRD1TWzFdO2lmKGV5KGcsbC54LGwueSxuLngsRCtuLnksdS54LHUueSxpLEksYi54LGIueSxNLEEpLGV5KGcsbC54LGwueSxzLngsRCtzLnksdS54K3Uudyx1LnksaSxJLEUueCxiLnksTSxBKSxleShnLGwueCxsLnksYy54LEQrYy55LHUueCx1LnkrdS5oLGksSSxiLngsRS55LE0sQSksZXkoZyxsLngsbC55LGgueCxEK2gueSx1LngrdS53LHUueSt1LmgsaSxJLEUueCxFLnksTSxBKSxhKXtjb25zdHt4OnQseTppLHo6cn09YS5hbmNob3IsW24sbyxzXT1hLnVwO2l5KHksdCxpLHIsbixvLHMpLGl5KHksdCxpLHIsbixvLHMpLGl5KHksdCxpLHIsbixvLHMpLGl5KHksdCxpLHIsbixvLHMpLG55KGUuZHluYW1pY0xheW91dFZlcnRleEFycmF5LHQsaSxyLHcpO31lbHNlIG55KGUuZHluYW1pY0xheW91dFZlcnRleEFycmF5LGwueCxsLnksbC56LHcpO2lmKG0pe2NvbnN0IHQ9dnx8dTt0eShlLmljb25UcmFuc2l0aW9uaW5nVmVydGV4QXJyYXksdC54LHQueSksdHkoZS5pY29uVHJhbnNpdGlvbmluZ1ZlcnRleEFycmF5LHQueCt0LncsdC55KSx0eShlLmljb25UcmFuc2l0aW9uaW5nVmVydGV4QXJyYXksdC54LHQueSt0LmgpLHR5KGUuaWNvblRyYW5zaXRpb25pbmdWZXJ0ZXhBcnJheSx0LngrdC53LHQueSt0LmgpO31fLmVtcGxhY2VCYWNrKHoseisxLHorMiksXy5lbXBsYWNlQmFjayh6KzEseisyLHorMykseC52ZXJ0ZXhMZW5ndGgrPTQseC5wcmltaXRpdmVMZW5ndGgrPTIsdGhpcy5nbHlwaE9mZnNldEFycmF5LmVtcGxhY2VCYWNrKFNbMF0pLHIhPT10Lmxlbmd0aC0xJiZDPT09dFtyKzFdLnNlY3Rpb25JbmRleHx8ZS5wcm9ncmFtQ29uZmlndXJhdGlvbnMucG9wdWxhdGVQYWludEFycmF5cyhnLmxlbmd0aCxvLG8uaW5kZXgse30sZCxwLGYsVCYmVFtDXSk7fWNvbnN0IEU9YT9hLmFuY2hvcjpsO2UucGxhY2VkU3ltYm9sQXJyYXkuZW1wbGFjZUJhY2soRS54LEUueSxFLnosbC54LGwueSx2LHRoaXMuZ2x5cGhPZmZzZXRBcnJheS5sZW5ndGgtdixiLGMsaCxsLnNlZ21lbnQsaT9pWzBdOjAsaT9pWzFdOjAsclswXSxyWzFdLHMsMCwhMSwwLHUsMCk7fV9jb21taXRMYXlvdXRWZXJ0ZXgoZSx0LGkscixuLG8scyl7ZS5lbXBsYWNlQmFjayh0LGkscixuLG8sTWF0aC5yb3VuZChzLngpLE1hdGgucm91bmQocy55KSk7fV9hZGRDb2xsaXNpb25EZWJ1Z1ZlcnRpY2VzKGUsdCxpLHIsbixvLHMpe2NvbnN0IGE9aS5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCg0LGkubGF5b3V0VmVydGV4QXJyYXksaS5pbmRleEFycmF5KSxsPWEudmVydGV4TGVuZ3RoLGM9cy50aWxlQW5jaG9yWCxoPXMudGlsZUFuY2hvclk7Zm9yKGxldCBlPTA7ZTw0O2UrKylpLmNvbGxpc2lvblZlcnRleEFycmF5LmVtcGxhY2VCYWNrKDAsMCwwLDApO2kuY29sbGlzaW9uVmVydGV4QXJyYXlFeHQuZW1wbGFjZUJhY2sodCwtZS5wYWRkaW5nLC1lLnBhZGRpbmcpLGkuY29sbGlzaW9uVmVydGV4QXJyYXlFeHQuZW1wbGFjZUJhY2sodCxlLnBhZGRpbmcsLWUucGFkZGluZyksaS5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dC5lbXBsYWNlQmFjayh0LGUucGFkZGluZyxlLnBhZGRpbmcpLGkuY29sbGlzaW9uVmVydGV4QXJyYXlFeHQuZW1wbGFjZUJhY2sodCwtZS5wYWRkaW5nLGUucGFkZGluZyksdGhpcy5fY29tbWl0TGF5b3V0VmVydGV4KGkubGF5b3V0VmVydGV4QXJyYXkscixuLG8sYyxoLG5ldyB5KGUueDEsZS55MSkpLHRoaXMuX2NvbW1pdExheW91dFZlcnRleChpLmxheW91dFZlcnRleEFycmF5LHIsbixvLGMsaCxuZXcgeShlLngyLGUueTEpKSx0aGlzLl9jb21taXRMYXlvdXRWZXJ0ZXgoaS5sYXlvdXRWZXJ0ZXhBcnJheSxyLG4sbyxjLGgsbmV3IHkoZS54MixlLnkyKSksdGhpcy5fY29tbWl0TGF5b3V0VmVydGV4KGkubGF5b3V0VmVydGV4QXJyYXkscixuLG8sYyxoLG5ldyB5KGUueDEsZS55MikpLGEudmVydGV4TGVuZ3RoKz00O2NvbnN0IHU9aS5pbmRleEFycmF5O3UuZW1wbGFjZUJhY2sobCxsKzEpLHUuZW1wbGFjZUJhY2sobCsxLGwrMiksdS5lbXBsYWNlQmFjayhsKzIsbCszKSx1LmVtcGxhY2VCYWNrKGwrMyxsKSxhLnByaW1pdGl2ZUxlbmd0aCs9NDt9X2FkZFRleHREZWJ1Z0NvbGxpc2lvbkJveGVzKGUsdCxpLHIsbixvKXtmb3IobGV0IHM9cjtzPG47cysrKXtjb25zdCByPWkuZ2V0KHMpLG49dGhpcy5nZXRTeW1ib2xJbnN0YW5jZVRleHRTaXplKGUsbyx0LHMpO3RoaXMuX2FkZENvbGxpc2lvbkRlYnVnVmVydGljZXMocixuLHRoaXMudGV4dENvbGxpc2lvbkJveCxyLnByb2plY3RlZEFuY2hvclgsci5wcm9qZWN0ZWRBbmNob3JZLHIucHJvamVjdGVkQW5jaG9yWixvKTt9fV9hZGRJY29uRGVidWdDb2xsaXNpb25Cb3hlcyhlLHQsaSxyLG4sbyl7Zm9yKGxldCBzPXI7czxuO3MrKyl7Y29uc3Qgcj1pLmdldChzKSxuPXRoaXMuZ2V0U3ltYm9sSW5zdGFuY2VJY29uU2l6ZShlLHQsby5wbGFjZWRJY29uU3ltYm9sSW5kZXgpO3RoaXMuX2FkZENvbGxpc2lvbkRlYnVnVmVydGljZXMocixuLHRoaXMuaWNvbkNvbGxpc2lvbkJveCxyLnByb2plY3RlZEFuY2hvclgsci5wcm9qZWN0ZWRBbmNob3JZLHIucHJvamVjdGVkQW5jaG9yWixvKTt9fWdlbmVyYXRlQ29sbGlzaW9uRGVidWdCdWZmZXJzKGUsdCl7dGhpcy5oYXNEZWJ1Z0RhdGEoKSYmdGhpcy5kZXN0cm95RGVidWdEYXRhKCksdGhpcy50ZXh0Q29sbGlzaW9uQm94PW5ldyBheShCYSx0Xy5tZW1iZXJzLGthKSx0aGlzLmljb25Db2xsaXNpb25Cb3g9bmV3IGF5KEJhLHRfLm1lbWJlcnMsa2EpO2NvbnN0IGk9YV8odGhpcy5pY29uU2l6ZURhdGEsZSkscj1hXyh0aGlzLnRleHRTaXplRGF0YSxlKTtmb3IobGV0IG49MDtuPHRoaXMuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDtuKyspe2NvbnN0IG89dGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KG4pO3RoaXMuX2FkZFRleHREZWJ1Z0NvbGxpc2lvbkJveGVzKHIsZSx0LG8udGV4dEJveFN0YXJ0SW5kZXgsby50ZXh0Qm94RW5kSW5kZXgsbyksdGhpcy5fYWRkVGV4dERlYnVnQ29sbGlzaW9uQm94ZXMocixlLHQsby52ZXJ0aWNhbFRleHRCb3hTdGFydEluZGV4LG8udmVydGljYWxUZXh0Qm94RW5kSW5kZXgsbyksdGhpcy5fYWRkSWNvbkRlYnVnQ29sbGlzaW9uQm94ZXMoaSxlLHQsby5pY29uQm94U3RhcnRJbmRleCxvLmljb25Cb3hFbmRJbmRleCxvKSx0aGlzLl9hZGRJY29uRGVidWdDb2xsaXNpb25Cb3hlcyhpLGUsdCxvLnZlcnRpY2FsSWNvbkJveFN0YXJ0SW5kZXgsby52ZXJ0aWNhbEljb25Cb3hFbmRJbmRleCxvKTt9fWdldFN5bWJvbEluc3RhbmNlVGV4dFNpemUoZSx0LGkscil7Y29uc3Qgbj10aGlzLnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KHQucmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg+PTA/dC5yaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDp0LmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleD49MD90LmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleDp0LmxlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg+PTA/dC5sZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OnQudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg+PTA/dC52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleDpyKSxvPXNfKHRoaXMudGV4dFNpemVEYXRhLGUsbikvcl87cmV0dXJuIHRoaXMudGlsZVBpeGVsUmF0aW8qb31nZXRTeW1ib2xJbnN0YW5jZUljb25TaXplKGUsdCxpKXtjb25zdCByPXRoaXMuaWNvbi5wbGFjZWRTeW1ib2xBcnJheS5nZXQoaSksbj1zXyh0aGlzLmljb25TaXplRGF0YSxlLHIpO3JldHVybiB0aGlzLnRpbGVQaXhlbFJhdGlvKm59X2NvbW1pdERlYnVnQ29sbGlzaW9uVmVydGV4VXBkYXRlKGUsdCxpKXtlLmVtcGxhY2VCYWNrKHQsLWksLWkpLGUuZW1wbGFjZUJhY2sodCxpLC1pKSxlLmVtcGxhY2VCYWNrKHQsaSxpKSxlLmVtcGxhY2VCYWNrKHQsLWksaSk7fV91cGRhdGVUZXh0RGVidWdDb2xsaXNpb25Cb3hlcyhlLHQsaSxyLG4sbyl7Zm9yKGxldCBzPXI7czxuO3MrKyl7Y29uc3Qgcj1pLmdldChzKSxuPXRoaXMuZ2V0U3ltYm9sSW5zdGFuY2VUZXh0U2l6ZShlLG8sdCxzKTt0aGlzLl9jb21taXREZWJ1Z0NvbGxpc2lvblZlcnRleFVwZGF0ZSh0aGlzLnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXlFeHQsbixyLnBhZGRpbmcpO319X3VwZGF0ZUljb25EZWJ1Z0NvbGxpc2lvbkJveGVzKGUsdCxpLHIsbixvKXtmb3IobGV0IHM9cjtzPG47cysrKXtjb25zdCByPWkuZ2V0KHMpLG49dGhpcy5nZXRTeW1ib2xJbnN0YW5jZUljb25TaXplKGUsdCxvKTt0aGlzLl9jb21taXREZWJ1Z0NvbGxpc2lvblZlcnRleFVwZGF0ZSh0aGlzLmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXlFeHQsbixyLnBhZGRpbmcpO319dXBkYXRlQ29sbGlzaW9uRGVidWdCdWZmZXJzKGUsdCl7aWYoIXRoaXMuaGFzRGVidWdEYXRhKCkpcmV0dXJuO3RoaXMuaGFzVGV4dENvbGxpc2lvbkJveERhdGEoKSYmdGhpcy50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5RXh0LmNsZWFyKCksdGhpcy5oYXNJY29uQ29sbGlzaW9uQm94RGF0YSgpJiZ0aGlzLmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXlFeHQuY2xlYXIoKTtjb25zdCBpPWFfKHRoaXMuaWNvblNpemVEYXRhLGUpLHI9YV8odGhpcy50ZXh0U2l6ZURhdGEsZSk7Zm9yKGxldCBuPTA7bjx0aGlzLnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7bisrKXtjb25zdCBvPXRoaXMuc3ltYm9sSW5zdGFuY2VzLmdldChuKTt0aGlzLl91cGRhdGVUZXh0RGVidWdDb2xsaXNpb25Cb3hlcyhyLGUsdCxvLnRleHRCb3hTdGFydEluZGV4LG8udGV4dEJveEVuZEluZGV4LG8pLHRoaXMuX3VwZGF0ZVRleHREZWJ1Z0NvbGxpc2lvbkJveGVzKHIsZSx0LG8udmVydGljYWxUZXh0Qm94U3RhcnRJbmRleCxvLnZlcnRpY2FsVGV4dEJveEVuZEluZGV4LG8pLHRoaXMuX3VwZGF0ZUljb25EZWJ1Z0NvbGxpc2lvbkJveGVzKGksZSx0LG8uaWNvbkJveFN0YXJ0SW5kZXgsby5pY29uQm94RW5kSW5kZXgsby5wbGFjZWRJY29uU3ltYm9sSW5kZXgpLHRoaXMuX3VwZGF0ZUljb25EZWJ1Z0NvbGxpc2lvbkJveGVzKGksZSx0LG8udmVydGljYWxJY29uQm94U3RhcnRJbmRleCxvLnZlcnRpY2FsSWNvbkJveEVuZEluZGV4LG8ucGxhY2VkSWNvblN5bWJvbEluZGV4KTt9dGhpcy5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpJiZ0aGlzLnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyRXh0JiZ0aGlzLnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyRXh0LnVwZGF0ZURhdGEodGhpcy50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5RXh0KSx0aGlzLmhhc0ljb25Db2xsaXNpb25Cb3hEYXRhKCkmJnRoaXMuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHQmJnRoaXMuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHQudXBkYXRlRGF0YSh0aGlzLmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXlFeHQpO31fZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlc0ZvclN5bWJvbChlLHQsaSxyLG4sbyxzLGEsbCl7Y29uc3QgYz17fTtpZih0PGkpe2NvbnN0e3gxOmkseTE6cix4MjpuLHkyOm8scGFkZGluZzpzLHByb2plY3RlZEFuY2hvclg6YSxwcm9qZWN0ZWRBbmNob3JZOmwscHJvamVjdGVkQW5jaG9yWjpoLHRpbGVBbmNob3JYOnUsdGlsZUFuY2hvclk6ZCxmZWF0dXJlSW5kZXg6cH09ZS5nZXQodCk7Yy50ZXh0Qm94PXt4MTppLHkxOnIseDI6bix5MjpvLHBhZGRpbmc6cyxwcm9qZWN0ZWRBbmNob3JYOmEscHJvamVjdGVkQW5jaG9yWTpsLHByb2plY3RlZEFuY2hvclo6aCx0aWxlQW5jaG9yWDp1LHRpbGVBbmNob3JZOmR9LGMudGV4dEZlYXR1cmVJbmRleD1wO31pZihyPG4pe2NvbnN0e3gxOnQseTE6aSx4MjpuLHkyOm8scGFkZGluZzpzLHByb2plY3RlZEFuY2hvclg6YSxwcm9qZWN0ZWRBbmNob3JZOmwscHJvamVjdGVkQW5jaG9yWjpoLHRpbGVBbmNob3JYOnUsdGlsZUFuY2hvclk6ZCxmZWF0dXJlSW5kZXg6cH09ZS5nZXQocik7Yy52ZXJ0aWNhbFRleHRCb3g9e3gxOnQseTE6aSx4MjpuLHkyOm8scGFkZGluZzpzLHByb2plY3RlZEFuY2hvclg6YSxwcm9qZWN0ZWRBbmNob3JZOmwscHJvamVjdGVkQW5jaG9yWjpoLHRpbGVBbmNob3JYOnUsdGlsZUFuY2hvclk6ZH0sYy52ZXJ0aWNhbFRleHRGZWF0dXJlSW5kZXg9cDt9aWYobzxzKXtjb25zdHt4MTp0LHkxOmkseDI6cix5MjpuLHBhZGRpbmc6cyxwcm9qZWN0ZWRBbmNob3JYOmEscHJvamVjdGVkQW5jaG9yWTpsLHByb2plY3RlZEFuY2hvclo6aCx0aWxlQW5jaG9yWDp1LHRpbGVBbmNob3JZOmQsZmVhdHVyZUluZGV4OnB9PWUuZ2V0KG8pO2MuaWNvbkJveD17eDE6dCx5MTppLHgyOnIseTI6bixwYWRkaW5nOnMscHJvamVjdGVkQW5jaG9yWDphLHByb2plY3RlZEFuY2hvclk6bCxwcm9qZWN0ZWRBbmNob3JaOmgsdGlsZUFuY2hvclg6dSx0aWxlQW5jaG9yWTpkfSxjLmljb25GZWF0dXJlSW5kZXg9cDt9aWYoYTxsKXtjb25zdHt4MTp0LHkxOmkseDI6cix5MjpuLHBhZGRpbmc6byxwcm9qZWN0ZWRBbmNob3JYOnMscHJvamVjdGVkQW5jaG9yWTpsLHByb2plY3RlZEFuY2hvclo6aCx0aWxlQW5jaG9yWDp1LHRpbGVBbmNob3JZOmQsZmVhdHVyZUluZGV4OnB9PWUuZ2V0KGEpO2MudmVydGljYWxJY29uQm94PXt4MTp0LHkxOmkseDI6cix5MjpuLHBhZGRpbmc6byxwcm9qZWN0ZWRBbmNob3JYOnMscHJvamVjdGVkQW5jaG9yWTpsLHByb2plY3RlZEFuY2hvclo6aCx0aWxlQW5jaG9yWDp1LHRpbGVBbmNob3JZOmR9LGMudmVydGljYWxJY29uRmVhdHVyZUluZGV4PXA7fXJldHVybiBjfWRlc2VyaWFsaXplQ29sbGlzaW9uQm94ZXMoZSl7dGhpcy5jb2xsaXNpb25BcnJheXM9W107Zm9yKGxldCB0PTA7dDx0aGlzLnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7dCsrKXtjb25zdCBpPXRoaXMuc3ltYm9sSW5zdGFuY2VzLmdldCh0KTt0aGlzLmNvbGxpc2lvbkFycmF5cy5wdXNoKHRoaXMuX2Rlc2VyaWFsaXplQ29sbGlzaW9uQm94ZXNGb3JTeW1ib2woZSxpLnRleHRCb3hTdGFydEluZGV4LGkudGV4dEJveEVuZEluZGV4LGkudmVydGljYWxUZXh0Qm94U3RhcnRJbmRleCxpLnZlcnRpY2FsVGV4dEJveEVuZEluZGV4LGkuaWNvbkJveFN0YXJ0SW5kZXgsaS5pY29uQm94RW5kSW5kZXgsaS52ZXJ0aWNhbEljb25Cb3hTdGFydEluZGV4LGkudmVydGljYWxJY29uQm94RW5kSW5kZXgpKTt9fWhhc1RleHREYXRhKCl7cmV0dXJuIHRoaXMudGV4dC5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MH1oYXNJY29uRGF0YSgpe3JldHVybiB0aGlzLmljb24uc2VnbWVudHMuZ2V0KCkubGVuZ3RoPjB9aGFzRGVidWdEYXRhKCl7cmV0dXJuIHRoaXMudGV4dENvbGxpc2lvbkJveCYmdGhpcy5pY29uQ29sbGlzaW9uQm94fWhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCl7cmV0dXJuIHRoaXMuaGFzRGVidWdEYXRhKCkmJnRoaXMudGV4dENvbGxpc2lvbkJveC5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MH1oYXNJY29uQ29sbGlzaW9uQm94RGF0YSgpe3JldHVybiB0aGlzLmhhc0RlYnVnRGF0YSgpJiZ0aGlzLmljb25Db2xsaXNpb25Cb3guc2VnbWVudHMuZ2V0KCkubGVuZ3RoPjB9aGFzSWNvblRleHRGaXQoKXtyZXR1cm4gdGhpcy5oYXNBbnlJY29uVGV4dEZpdH1hZGRJbmRpY2VzRm9yUGxhY2VkU3ltYm9sKGUsdCl7Y29uc3QgaT1lLnBsYWNlZFN5bWJvbEFycmF5LmdldCh0KSxyPWkudmVydGV4U3RhcnRJbmRleCs0KmkubnVtR2x5cGhzO2ZvcihsZXQgdD1pLnZlcnRleFN0YXJ0SW5kZXg7dDxyO3QrPTQpZS5pbmRleEFycmF5LmVtcGxhY2VCYWNrKHQsdCsxLHQrMiksZS5pbmRleEFycmF5LmVtcGxhY2VCYWNrKHQrMSx0KzIsdCszKTt9Z2V0U29ydGVkU3ltYm9sSW5kZXhlcyhlKXtpZih0aGlzLnNvcnRlZEFuZ2xlPT09ZSYmdm9pZCAwIT09dGhpcy5zeW1ib2xJbnN0YW5jZUluZGV4ZXMpcmV0dXJuIHRoaXMuc3ltYm9sSW5zdGFuY2VJbmRleGVzO2NvbnN0IHQ9TWF0aC5zaW4oZSksaT1NYXRoLmNvcyhlKSxyPVtdLG49W10sbz1bXTtmb3IobGV0IGU9MDtlPHRoaXMuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDsrK2Upe28ucHVzaChlKTtjb25zdCBzPXRoaXMuc3ltYm9sSW5zdGFuY2VzLmdldChlKTtyLnB1c2goMHxNYXRoLnJvdW5kKHQqcy50aWxlQW5jaG9yWCtpKnMudGlsZUFuY2hvclkpKSxuLnB1c2gocy5mZWF0dXJlSW5kZXgpO31yZXR1cm4gby5zb3J0KCgoZSx0KT0+cltlXS1yW3RdfHxuW3RdLW5bZV0pKSxvfWdldFNvcnRlZEluZGV4ZXNCeVpPZmZzZXQoKXtpZighdGhpcy56T2Zmc2V0U29ydERpcnR5KXJldHVybiB0aGlzLnN5bWJvbEluc3RhbmNlSW5kZXhlc1NvcnRlZFpPZmZzZXQ7aWYoIXRoaXMuc3ltYm9sSW5zdGFuY2VJbmRleGVzU29ydGVkWk9mZnNldCl7dGhpcy5zeW1ib2xJbnN0YW5jZUluZGV4ZXNTb3J0ZWRaT2Zmc2V0PVtdO2ZvcihsZXQgZT0wO2U8dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoOysrZSl0aGlzLnN5bWJvbEluc3RhbmNlSW5kZXhlc1NvcnRlZFpPZmZzZXQucHVzaChlKTt9cmV0dXJuIHRoaXMuek9mZnNldFNvcnREaXJ0eT0hMSx0aGlzLnN5bWJvbEluc3RhbmNlSW5kZXhlc1NvcnRlZFpPZmZzZXQuc29ydCgoKGUsdCk9PnRoaXMuc3ltYm9sSW5zdGFuY2VzLmdldCh0KS56T2Zmc2V0LXRoaXMuc3ltYm9sSW5zdGFuY2VzLmdldChlKS56T2Zmc2V0KSl9YWRkVG9Tb3J0S2V5UmFuZ2VzKGUsdCl7Y29uc3QgaT10aGlzLnNvcnRLZXlSYW5nZXNbdGhpcy5zb3J0S2V5UmFuZ2VzLmxlbmd0aC0xXTtpJiZpLnNvcnRLZXk9PT10P2kuc3ltYm9sSW5zdGFuY2VFbmQ9ZSsxOnRoaXMuc29ydEtleVJhbmdlcy5wdXNoKHtzb3J0S2V5OnQsc3ltYm9sSW5zdGFuY2VTdGFydDplLHN5bWJvbEluc3RhbmNlRW5kOmUrMX0pO31zb3J0RmVhdHVyZXMoZSl7aWYodGhpcy5zb3J0RmVhdHVyZXNCeVkmJnRoaXMuc29ydGVkQW5nbGUhPT1lJiYhKHRoaXMudGV4dC5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MXx8dGhpcy5pY29uLnNlZ21lbnRzLmdldCgpLmxlbmd0aD4xKSl7dGhpcy5zeW1ib2xJbnN0YW5jZUluZGV4ZXM9dGhpcy5nZXRTb3J0ZWRTeW1ib2xJbmRleGVzKGUpLHRoaXMuc29ydGVkQW5nbGU9ZSx0aGlzLnRleHQuaW5kZXhBcnJheS5jbGVhcigpLHRoaXMuaWNvbi5pbmRleEFycmF5LmNsZWFyKCksdGhpcy5mZWF0dXJlU29ydE9yZGVyPVtdO2Zvcihjb25zdCBlIG9mIHRoaXMuc3ltYm9sSW5zdGFuY2VJbmRleGVzKXtjb25zdCB0PXRoaXMuc3ltYm9sSW5zdGFuY2VzLmdldChlKTt0aGlzLmZlYXR1cmVTb3J0T3JkZXIucHVzaCh0LmZlYXR1cmVJbmRleCk7Y29uc3R7cmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6aSxjZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6cixsZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4Om4sdmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg6byxwbGFjZWRJY29uU3ltYm9sSW5kZXg6cyx2ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleDphfT10O2k+PTAmJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbCh0aGlzLnRleHQsaSkscj49MCYmciE9PWkmJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbCh0aGlzLnRleHQsciksbj49MCYmbiE9PXImJm4hPT1pJiZ0aGlzLmFkZEluZGljZXNGb3JQbGFjZWRTeW1ib2wodGhpcy50ZXh0LG4pLG8+PTAmJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbCh0aGlzLnRleHQsbykscz49MCYmdGhpcy5hZGRJbmRpY2VzRm9yUGxhY2VkU3ltYm9sKHRoaXMuaWNvbixzKSxhPj0wJiZ0aGlzLmFkZEluZGljZXNGb3JQbGFjZWRTeW1ib2wodGhpcy5pY29uLGEpO310aGlzLnRleHQuaW5kZXhCdWZmZXImJnRoaXMudGV4dC5pbmRleEJ1ZmZlci51cGRhdGVEYXRhKHRoaXMudGV4dC5pbmRleEFycmF5KSx0aGlzLmljb24uaW5kZXhCdWZmZXImJnRoaXMuaWNvbi5pbmRleEJ1ZmZlci51cGRhdGVEYXRhKHRoaXMuaWNvbi5pbmRleEFycmF5KTt9fX1JcyhseSxcIlN5bWJvbEJ1Y2tldFwiLHtvbWl0OltcImxheWVyc1wiLFwiY29sbGlzaW9uQm94QXJyYXlcIixcImZlYXR1cmVzXCIsXCJjb21wYXJlVGV4dFwiXX0pLGx5Lk1BWF9HTFlQSFM9NjU1MzUsbHkuYWRkRHluYW1pY0F0dHJpYnV0ZXM9bnk7dmFyIGN5PWx5O2NvbnN0IGh5PWJhKFt7bmFtZTpcImFfcG9zX25vcm1hbFwiLGNvbXBvbmVudHM6Mix0eXBlOlwiSW50MTZcIn0se25hbWU6XCJhX2RhdGFcIixjb21wb25lbnRzOjQsdHlwZTpcIlVpbnQ4XCJ9LHtuYW1lOlwiYV9saW5lc29mYXJcIixjb21wb25lbnRzOjEsdHlwZTpcIkZsb2F0MzJcIn1dLDQpLHttZW1iZXJzOnV5fT1oeSxkeT1iYShbe25hbWU6XCJhX3BhY2tlZFwiLGNvbXBvbmVudHM6NCx0eXBlOlwiRmxvYXQzMlwifV0pLHttZW1iZXJzOnB5fT1keSxmeT1pbS50eXBlcyxteT1NYXRoLmNvcyhNYXRoLlBJLzE4MCozNy41KTtjbGFzcyBfeXtjb25zdHJ1Y3RvcihlKXt0aGlzLnpvb209ZS56b29tLHRoaXMub3ZlcnNjYWxpbmc9ZS5vdmVyc2NhbGluZyx0aGlzLmxheWVycz1lLmxheWVycyx0aGlzLmxheWVySWRzPXRoaXMubGF5ZXJzLm1hcCgoZT0+ZS5mcWlkKSksdGhpcy5pbmRleD1lLmluZGV4LHRoaXMucHJvamVjdGlvbj1lLnByb2plY3Rpb24sdGhpcy5oYXNQYXR0ZXJuPSExLHRoaXMucGF0dGVybkZlYXR1cmVzPVtdLHRoaXMubGluZUNsaXBzQXJyYXk9W10sdGhpcy5ncmFkaWVudHM9e30sdGhpcy5sYXllcnMuZm9yRWFjaCgoZT0+e3RoaXMuZ3JhZGllbnRzW2UuaWRdPXt9O30pKSx0aGlzLmxheW91dFZlcnRleEFycmF5PW5ldyBTYSx0aGlzLmxheW91dFZlcnRleEFycmF5Mj1uZXcgSWEsdGhpcy5pbmRleEFycmF5PW5ldyBWYSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucz1uZXcgSGwoZS5sYXllcnMsZS56b29tKSx0aGlzLnNlZ21lbnRzPW5ldyBkbCx0aGlzLm1heExpbmVMZW5ndGg9MCx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJJZHM9dGhpcy5sYXllcnMuZmlsdGVyKChlPT5lLmlzU3RhdGVEZXBlbmRlbnQoKSkpLm1hcCgoZT0+ZS5pZCkpO31wb3B1bGF0ZShlLHQsaSxyKXt0aGlzLmhhc1BhdHRlcm49UGYoXCJsaW5lXCIsdGhpcy5sYXllcnMsdCk7Y29uc3Qgbj10aGlzLmxheWVyc1swXS5sYXlvdXQuZ2V0KFwibGluZS1zb3J0LWtleVwiKSxvPVtdO2Zvcihjb25zdHtmZWF0dXJlOnQsaWQ6cyxpbmRleDphLHNvdXJjZUxheWVySW5kZXg6bH1vZiBlKXtjb25zdCBlPXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLm5lZWRHZW9tZXRyeSxjPWNwKHQsZSk7aWYoIXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihuZXcgZWEodGhpcy56b29tKSxjLGkpKWNvbnRpbnVlO2NvbnN0IGg9bj9uLmV2YWx1YXRlKGMse30saSk6dm9pZCAwLHU9e2lkOnMscHJvcGVydGllczp0LnByb3BlcnRpZXMsdHlwZTp0LnR5cGUsc291cmNlTGF5ZXJJbmRleDpsLGluZGV4OmEsZ2VvbWV0cnk6ZT9jLmdlb21ldHJ5OmxwKHQsaSxyKSxwYXR0ZXJuczp7fSxzb3J0S2V5Omh9O28ucHVzaCh1KTt9biYmby5zb3J0KCgoZSx0KT0+ZS5zb3J0S2V5LXQuc29ydEtleSkpO2NvbnN0e2xpbmVBdGxhczpzLGZlYXR1cmVJbmRleDphfT10LGw9dGhpcy5hZGRDb25zdGFudERhc2hlcyhzKTtmb3IoY29uc3QgciBvZiBvKXtjb25zdHtnZW9tZXRyeTpuLGluZGV4Om8sc291cmNlTGF5ZXJJbmRleDpjfT1yO2lmKGwmJnRoaXMuYWRkRmVhdHVyZURhc2hlcyhyLHMpLHRoaXMuaGFzUGF0dGVybil7Y29uc3QgZT1SZihcImxpbmVcIix0aGlzLmxheWVycyxyLHRoaXMuem9vbSx0KTt0aGlzLnBhdHRlcm5GZWF0dXJlcy5wdXNoKGUpO31lbHNlIHRoaXMuYWRkRmVhdHVyZShyLG4sbyxpLHMucG9zaXRpb25zLHQuYXZhaWxhYmxlSW1hZ2VzLHQuYnJpZ2h0bmVzcyk7YS5pbnNlcnQoZVtvXS5mZWF0dXJlLG4sbyxjLHRoaXMuaW5kZXgpO319YWRkQ29uc3RhbnREYXNoZXMoZSl7bGV0IHQ9ITE7Zm9yKGNvbnN0IGkgb2YgdGhpcy5sYXllcnMpe2NvbnN0IHI9aS5wYWludC5nZXQoXCJsaW5lLWRhc2hhcnJheVwiKS52YWx1ZSxuPWkubGF5b3V0LmdldChcImxpbmUtY2FwXCIpLnZhbHVlO2lmKFwiY29uc3RhbnRcIiE9PXIua2luZHx8XCJjb25zdGFudFwiIT09bi5raW5kKXQ9ITA7ZWxzZSB7Y29uc3QgdD1uLnZhbHVlLGk9ci52YWx1ZTtpZighaSljb250aW51ZTtlLmFkZERhc2goaSx0KTt9fXJldHVybiB0fWFkZEZlYXR1cmVEYXNoZXMoZSx0KXtjb25zdCBpPXRoaXMuem9vbTtmb3IoY29uc3QgciBvZiB0aGlzLmxheWVycyl7Y29uc3Qgbj1yLnBhaW50LmdldChcImxpbmUtZGFzaGFycmF5XCIpLnZhbHVlLG89ci5sYXlvdXQuZ2V0KFwibGluZS1jYXBcIikudmFsdWU7aWYoXCJjb25zdGFudFwiPT09bi5raW5kJiZcImNvbnN0YW50XCI9PT1vLmtpbmQpY29udGludWU7bGV0IHMsYTtpZihcImNvbnN0YW50XCI9PT1uLmtpbmQpe2lmKHM9bi52YWx1ZSwhcyljb250aW51ZX1lbHNlIHM9bi5ldmFsdWF0ZSh7em9vbTppfSxlKTthPVwiY29uc3RhbnRcIj09PW8ua2luZD9vLnZhbHVlOm8uZXZhbHVhdGUoe3pvb206aX0sZSksdC5hZGREYXNoKHMsYSksZS5wYXR0ZXJuc1tyLmlkXT10LmdldEtleShzLGEpO319dXBkYXRlKGUsdCxpLHIsbil7Y29uc3Qgbz0wIT09T2JqZWN0LmtleXMoZSkubGVuZ3RoO28mJiF0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLmxlbmd0aHx8dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBkYXRlUGFpbnRBcnJheXMoZSx0LG8/dGhpcy5zdGF0ZURlcGVuZGVudExheWVyczp0aGlzLmxheWVycyxpLHIsbik7fWFkZEZlYXR1cmVzKGUsdCxpLHIsbixvKXtmb3IoY29uc3QgZSBvZiB0aGlzLnBhdHRlcm5GZWF0dXJlcyl0aGlzLmFkZEZlYXR1cmUoZSxlLmdlb21ldHJ5LGUuaW5kZXgsdCxpLHIsbyk7fWlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RofXVwbG9hZFBlbmRpbmcoKXtyZXR1cm4gIXRoaXMudXBsb2FkZWR8fHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkfXVwbG9hZChlKXt0aGlzLnVwbG9hZGVkfHwoMCE9PXRoaXMubGF5b3V0VmVydGV4QXJyYXkyLmxlbmd0aCYmKHRoaXMubGF5b3V0VmVydGV4QnVmZmVyMj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5MixweSkpLHRoaXMubGF5b3V0VmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXksdXkpLHRoaXMuaW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkpKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGxvYWQoZSksdGhpcy51cGxvYWRlZD0hMDt9ZGVzdHJveSgpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSk7fWxpbmVGZWF0dXJlQ2xpcHMoZSl7aWYoZS5wcm9wZXJ0aWVzJiZlLnByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoXCJtYXBib3hfY2xpcF9zdGFydFwiKSYmZS5wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KFwibWFwYm94X2NsaXBfZW5kXCIpKXJldHVybiB7c3RhcnQ6K2UucHJvcGVydGllcy5tYXBib3hfY2xpcF9zdGFydCxlbmQ6K2UucHJvcGVydGllcy5tYXBib3hfY2xpcF9lbmR9fWFkZEZlYXR1cmUoZSx0LGkscixuLG8scyl7Y29uc3QgYT10aGlzLmxheWVyc1swXS5sYXlvdXQsbD1hLmdldChcImxpbmUtam9pblwiKS5ldmFsdWF0ZShlLHt9KSxjPWEuZ2V0KFwibGluZS1jYXBcIikuZXZhbHVhdGUoZSx7fSksaD1hLmdldChcImxpbmUtbWl0ZXItbGltaXRcIiksdT1hLmdldChcImxpbmUtcm91bmQtbGltaXRcIik7dGhpcy5saW5lQ2xpcHM9dGhpcy5saW5lRmVhdHVyZUNsaXBzKGUpO2Zvcihjb25zdCBpIG9mIHQpdGhpcy5hZGRMaW5lKGksZSxsLGMsaCx1KTt0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5wb3B1bGF0ZVBhaW50QXJyYXlzKHRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoLGUsaSxuLG8scixzKTt9YWRkTGluZShlLHQsaSxyLG4sbyl7aWYodGhpcy5kaXN0YW5jZT0wLHRoaXMuc2NhbGVkRGlzdGFuY2U9MCx0aGlzLnRvdGFsRGlzdGFuY2U9MCx0aGlzLmxpbmVTb0Zhcj0wLHRoaXMubGluZUNsaXBzKXt0aGlzLmxpbmVDbGlwc0FycmF5LnB1c2godGhpcy5saW5lQ2xpcHMpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGgtMTt0KyspdGhpcy50b3RhbERpc3RhbmNlKz1lW3RdLmRpc3QoZVt0KzFdKTt0aGlzLnVwZGF0ZVNjYWxlZERpc3RhbmNlKCksdGhpcy5tYXhMaW5lTGVuZ3RoPU1hdGgubWF4KHRoaXMubWF4TGluZUxlbmd0aCx0aGlzLnRvdGFsRGlzdGFuY2UpO31jb25zdCBzPVwiUG9seWdvblwiPT09ZnlbdC50eXBlXTtsZXQgYT1lLmxlbmd0aDtmb3IoO2E+PTImJmVbYS0xXS5lcXVhbHMoZVthLTJdKTspYS0tO2xldCBsPTA7Zm9yKDtsPGEtMSYmZVtsXS5lcXVhbHMoZVtsKzFdKTspbCsrO2lmKGE8KHM/MzoyKSlyZXR1cm47XCJiZXZlbFwiPT09aSYmKG49MS4wNSk7Y29uc3QgYz10aGlzLm92ZXJzY2FsaW5nPD0xNj8xNSpzci8oNTEyKnRoaXMub3ZlcnNjYWxpbmcpOjAsaD10aGlzLnNlZ21lbnRzLnByZXBhcmVTZWdtZW50KDEwKmEsdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx0aGlzLmluZGV4QXJyYXkpO2xldCB1LGQscCxmLG07dGhpcy5lMT10aGlzLmUyPS0xLHMmJih1PWVbYS0yXSxtPWVbbF0uc3ViKHUpLl91bml0KCkuX3BlcnAoKSk7Zm9yKGxldCB0PWw7dDxhO3QrKyl7aWYocD10PT09YS0xP3M/ZVtsKzFdOnZvaWQgMDplW3QrMV0scCYmZVt0XS5lcXVhbHMocCkpY29udGludWU7bSYmKGY9bSksdSYmKGQ9dSksdT1lW3RdLG09cD9wLnN1Yih1KS5fdW5pdCgpLl9wZXJwKCk6ZixmPWZ8fG07bGV0IF89Zi5hZGQobSk7MD09PV8ueCYmMD09PV8ueXx8Xy5fdW5pdCgpO2NvbnN0IGc9Zi54Km0ueCtmLnkqbS55LHk9Xy54Km0ueCtfLnkqbS55LHg9MCE9PXk/MS95OjEvMCx2PTIqTWF0aC5zcXJ0KDItMip5KSxiPXk8bXkmJmQmJnAsdz1mLngqbS55LWYueSptLng+MDtpZihiJiZ0Pmwpe2NvbnN0IGU9dS5kaXN0KGQpO2lmKGU+MipjKXtjb25zdCB0PXUuc3ViKHUuc3ViKGQpLl9tdWx0KGMvZSkuX3JvdW5kKCkpO3RoaXMudXBkYXRlRGlzdGFuY2UoZCx0KSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgodCxmLDAsMCxoKSxkPXQ7fX1jb25zdCBUPWQmJnA7bGV0IEU9VD9pOnM/XCJidXR0XCI6cjtpZihUJiZcInJvdW5kXCI9PT1FJiYoeDxvP0U9XCJtaXRlclwiOng8PTImJihFPVwiZmFrZXJvdW5kXCIpKSxcIm1pdGVyXCI9PT1FJiZ4Pm4mJihFPVwiYmV2ZWxcIiksXCJiZXZlbFwiPT09RSYmKHg+MiYmKEU9XCJmbGlwYmV2ZWxcIikseDxuJiYoRT1cIm1pdGVyXCIpKSxkJiZ0aGlzLnVwZGF0ZURpc3RhbmNlKGQsdSksXCJtaXRlclwiPT09RSlfLl9tdWx0KHgpLHRoaXMuYWRkQ3VycmVudFZlcnRleCh1LF8sMCwwLGgpO2Vsc2UgaWYoXCJmbGlwYmV2ZWxcIj09PUUpe2lmKHg+MTAwKV89bS5tdWx0KC0xKTtlbHNlIHtjb25zdCBlPXgqZi5hZGQobSkubWFnKCkvZi5zdWIobSkubWFnKCk7Xy5fcGVycCgpLl9tdWx0KGUqKHc/LTE6MSkpO310aGlzLmFkZEN1cnJlbnRWZXJ0ZXgodSxfLDAsMCxoKSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgodSxfLm11bHQoLTEpLDAsMCxoKTt9ZWxzZSBpZihcImJldmVsXCI9PT1FfHxcImZha2Vyb3VuZFwiPT09RSl7Y29uc3QgZT0tTWF0aC5zcXJ0KHgqeC0xKSx0PXc/ZTowLGk9dz8wOmU7aWYoZCYmdGhpcy5hZGRDdXJyZW50VmVydGV4KHUsZix0LGksaCksXCJmYWtlcm91bmRcIj09PUUpe2NvbnN0IGU9TWF0aC5yb3VuZCgxODAqdi9NYXRoLlBJLzIwKTtmb3IobGV0IHQ9MTt0PGU7dCsrKXtsZXQgaT10L2U7aWYoLjUhPT1pKXtjb25zdCBlPWktLjU7aSs9aSplKihpLTEpKigoMS4wOTA0K2cqKGcqKDMuNTU2NDUtMS40MzUxOSpnKS0zLjI0NTIpKSplKmUrKC44NDgwMTMrZyooLjIxNTYzOCpnLTEuMDYwMjEpKSk7fWNvbnN0IHI9bS5zdWIoZikuX211bHQoaSkuX2FkZChmKS5fdW5pdCgpLl9tdWx0KHc/LTE6MSk7dGhpcy5hZGRIYWxmVmVydGV4KHUsci54LHIueSwhMSx3LDAsaCk7fX1wJiZ0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgodSxtLC10LC1pLGgpO31lbHNlIGlmKFwiYnV0dFwiPT09RSl0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgodSxfLDAsMCxoKTtlbHNlIGlmKFwic3F1YXJlXCI9PT1FKXtjb25zdCBlPWQ/MTotMTtkfHx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgodSxfLGUsZSxoKSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgodSxfLDAsMCxoKSxkJiZ0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgodSxfLGUsZSxoKTt9ZWxzZSBcInJvdW5kXCI9PT1FJiYoZCYmKHRoaXMuYWRkQ3VycmVudFZlcnRleCh1LGYsMCwwLGgpLHRoaXMuYWRkQ3VycmVudFZlcnRleCh1LGYsMSwxLGgsITApKSxwJiYodGhpcy5hZGRDdXJyZW50VmVydGV4KHUsbSwtMSwtMSxoLCEwKSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgodSxtLDAsMCxoKSkpO2lmKGImJnQ8YS0xKXtjb25zdCBlPXUuZGlzdChwKTtpZihlPjIqYyl7Y29uc3QgdD11LmFkZChwLnN1Yih1KS5fbXVsdChjL2UpLl9yb3VuZCgpKTt0aGlzLnVwZGF0ZURpc3RhbmNlKHUsdCksdGhpcy5hZGRDdXJyZW50VmVydGV4KHQsbSwwLDAsaCksdT10O319fX1hZGRDdXJyZW50VmVydGV4KGUsdCxpLHIsbixvPSExKXtjb25zdCBzPXQueSpyLXQueCxhPS10LnktdC54KnI7dGhpcy5hZGRIYWxmVmVydGV4KGUsdC54K3QueSppLHQueS10LngqaSxvLCExLGksbiksdGhpcy5hZGRIYWxmVmVydGV4KGUscyxhLG8sITAsLXIsbik7fWFkZEhhbGZWZXJ0ZXgoe3g6ZSx5OnR9LGkscixuLG8scyxhKXt0aGlzLmxheW91dFZlcnRleEFycmF5LmVtcGxhY2VCYWNrKChlPDwxKSsobj8xOjApLCh0PDwxKSsobz8xOjApLE1hdGgucm91bmQoNjMqaSkrMTI4LE1hdGgucm91bmQoNjMqcikrMTI4LDErKDA9PT1zPzA6czwwPy0xOjEpLDAsdGhpcy5saW5lU29GYXIpLHRoaXMubGluZUNsaXBzJiZ0aGlzLmxheW91dFZlcnRleEFycmF5Mi5lbXBsYWNlQmFjayh0aGlzLnNjYWxlZERpc3RhbmNlLHRoaXMubGluZUNsaXBzQXJyYXkubGVuZ3RoLHRoaXMubGluZUNsaXBzLnN0YXJ0LHRoaXMubGluZUNsaXBzLmVuZCk7Y29uc3QgbD1hLnZlcnRleExlbmd0aCsrO3RoaXMuZTE+PTAmJnRoaXMuZTI+PTAmJih0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2sodGhpcy5lMSx0aGlzLmUyLGwpLGEucHJpbWl0aXZlTGVuZ3RoKyspLG8/dGhpcy5lMj1sOnRoaXMuZTE9bDt9dXBkYXRlU2NhbGVkRGlzdGFuY2UoKXtpZih0aGlzLmxpbmVDbGlwcyl7Y29uc3QgZT10aGlzLnRvdGFsRGlzdGFuY2UvKHRoaXMubGluZUNsaXBzLmVuZC10aGlzLmxpbmVDbGlwcy5zdGFydCk7dGhpcy5zY2FsZWREaXN0YW5jZT10aGlzLmRpc3RhbmNlL3RoaXMudG90YWxEaXN0YW5jZSx0aGlzLmxpbmVTb0Zhcj1lKnRoaXMubGluZUNsaXBzLnN0YXJ0K3RoaXMuZGlzdGFuY2U7fWVsc2UgdGhpcy5saW5lU29GYXI9dGhpcy5kaXN0YW5jZTt9dXBkYXRlRGlzdGFuY2UoZSx0KXt0aGlzLmRpc3RhbmNlKz1lLmRpc3QodCksdGhpcy51cGRhdGVTY2FsZWREaXN0YW5jZSgpO319SXMoX3ksXCJMaW5lQnVja2V0XCIse29taXQ6W1wibGF5ZXJzXCIsXCJwYXR0ZXJuRmVhdHVyZXNcIl19KTtjbGFzcyBneXtjb25zdHJ1Y3RvcihlLHQsaSxyKXt0aGlzLmNvbnRleHQ9ZSx0aGlzLmZvcm1hdD1pLHRoaXMudGV4dHVyZT1lLmdsLmNyZWF0ZVRleHR1cmUoKSx0aGlzLnVwZGF0ZSh0LHIpO311cGRhdGUoZSxpLHIpe2NvbnN0e3dpZHRoOm4saGVpZ2h0Om99PWUse2NvbnRleHQ6c309dGhpcyx7Z2w6YX09cyx7SFRNTEltYWdlRWxlbWVudDpsLEhUTUxDYW52YXNFbGVtZW50OmMsSFRNTFZpZGVvRWxlbWVudDpoLEltYWdlRGF0YTp1LEltYWdlQml0bWFwOmR9PXQ7aWYoYS5iaW5kVGV4dHVyZShhLlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlKSxzLnBpeGVsU3RvcmVVbnBhY2tGbGlwWS5zZXQoITEpLHMucGl4ZWxTdG9yZVVucGFjay5zZXQoMSkscy5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5zZXQodGhpcy5mb3JtYXQ9PT1hLlJHQkEmJighaXx8ITEhPT1pLnByZW11bHRpcGx5KSkscnx8dGhpcy5zaXplJiZ0aGlzLnNpemVbMF09PT1uJiZ0aGlzLnNpemVbMV09PT1vKXtjb25zdHt4OnQseTppfT1yfHx7eDowLHk6MH07aWYoZSBpbnN0YW5jZW9mIGx8fGUgaW5zdGFuY2VvZiBjfHxlIGluc3RhbmNlb2YgaHx8ZSBpbnN0YW5jZW9mIHV8fGQmJmUgaW5zdGFuY2VvZiBkKWEudGV4U3ViSW1hZ2UyRChhLlRFWFRVUkVfMkQsMCx0LGksYS5SR0JBLGEuVU5TSUdORURfQllURSxlKTtlbHNlIHtsZXQgcj10aGlzLmZvcm1hdCxzPWEuVU5TSUdORURfQllURTt0aGlzLmZvcm1hdD09PWEuUjMyRiYmKHI9YS5SRUQscz1hLkZMT0FUKSxhLnRleFN1YkltYWdlMkQoYS5URVhUVVJFXzJELDAsdCxpLG4sbyxyLHMsZS5kYXRhKTt9fWVsc2UgaWYodGhpcy5zaXplPVtuLG9dLGUgaW5zdGFuY2VvZiBsfHxlIGluc3RhbmNlb2YgY3x8ZSBpbnN0YW5jZW9mIGh8fGUgaW5zdGFuY2VvZiB1fHxkJiZlIGluc3RhbmNlb2YgZCl7bGV0IHQ9dGhpcy5mb3JtYXQ7dGhpcy5mb3JtYXQ9PT1hLlI4JiYodD1hLlJFRCksYS50ZXhJbWFnZTJEKGEuVEVYVFVSRV8yRCwwLHRoaXMuZm9ybWF0LHQsYS5VTlNJR05FRF9CWVRFLGUpO31lbHNlIHtsZXQgdD10aGlzLmZvcm1hdCxpPXRoaXMuZm9ybWF0LHI9YS5VTlNJR05FRF9CWVRFO3RoaXMuZm9ybWF0PT09YS5ERVBUSF9DT01QT05FTlQmJih0PWEuREVQVEhfQ09NUE9ORU5UMTYscj1hLlVOU0lHTkVEX1NIT1JUKSx0aGlzLmZvcm1hdD09PWEuUjMyRiYmKHI9YS5GTE9BVCxpPWEuUkVEKSxhLnRleEltYWdlMkQoYS5URVhUVVJFXzJELDAsdCxuLG8sMCxpLHIsZS5kYXRhKTt9dGhpcy51c2VNaXBtYXA9Qm9vbGVhbihpJiZpLnVzZU1pcG1hcCksdGhpcy51c2VNaXBtYXAmJmEuZ2VuZXJhdGVNaXBtYXAoYS5URVhUVVJFXzJEKTt9YmluZChlLHQpe2NvbnN0e2NvbnRleHQ6aX09dGhpcyx7Z2w6cn09aTtyLmJpbmRUZXh0dXJlKHIuVEVYVFVSRV8yRCx0aGlzLnRleHR1cmUpLGUhPT10aGlzLm1pbkZpbHRlciYmKHIudGV4UGFyYW1ldGVyaShyLlRFWFRVUkVfMkQsci5URVhUVVJFX01BR19GSUxURVIsZSksci50ZXhQYXJhbWV0ZXJpKHIuVEVYVFVSRV8yRCxyLlRFWFRVUkVfTUlOX0ZJTFRFUix0aGlzLnVzZU1pcG1hcD9lPT09ci5ORUFSRVNUP3IuTkVBUkVTVF9NSVBNQVBfTkVBUkVTVDpyLkxJTkVBUl9NSVBNQVBfTkVBUkVTVDplKSx0aGlzLm1pbkZpbHRlcj1lKSx0IT09dGhpcy53cmFwUyYmKHIudGV4UGFyYW1ldGVyaShyLlRFWFRVUkVfMkQsci5URVhUVVJFX1dSQVBfUyx0KSxyLnRleFBhcmFtZXRlcmkoci5URVhUVVJFXzJELHIuVEVYVFVSRV9XUkFQX1QsdCksdGhpcy53cmFwUz10KTt9YmluZEV4dHJhUGFyYW0oZSx0LGkscil7Y29uc3R7Y29udGV4dDpufT10aGlzLHtnbDpvfT1uO28uYmluZFRleHR1cmUoby5URVhUVVJFXzJELHRoaXMudGV4dHVyZSksdCE9PXRoaXMubWFnRmlsdGVyJiYoby50ZXhQYXJhbWV0ZXJpKG8uVEVYVFVSRV8yRCxvLlRFWFRVUkVfTUFHX0ZJTFRFUix0KSx0aGlzLm1hZ0ZpbHRlcj10KSxlIT09dGhpcy5taW5GaWx0ZXImJihvLnRleFBhcmFtZXRlcmkoby5URVhUVVJFXzJELG8uVEVYVFVSRV9NSU5fRklMVEVSLHRoaXMudXNlTWlwbWFwP2U9PT1vLk5FQVJFU1Q/by5ORUFSRVNUX01JUE1BUF9ORUFSRVNUOm8uTElORUFSX01JUE1BUF9ORUFSRVNUOmUpLHRoaXMubWluRmlsdGVyPWUpLGkhPT10aGlzLndyYXBTJiYoby50ZXhQYXJhbWV0ZXJpKG8uVEVYVFVSRV8yRCxvLlRFWFRVUkVfV1JBUF9TLGkpLHRoaXMud3JhcFM9aSksciE9PXRoaXMud3JhcFQmJihvLnRleFBhcmFtZXRlcmkoby5URVhUVVJFXzJELG8uVEVYVFVSRV9XUkFQX1QsciksdGhpcy53cmFwVD1yKTt9ZGVzdHJveSgpe2NvbnN0e2dsOmV9PXRoaXMuY29udGV4dDtlLmRlbGV0ZVRleHR1cmUodGhpcy50ZXh0dXJlKSx0aGlzLnRleHR1cmU9bnVsbDt9fWNsYXNzIHl5e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5jb250ZXh0PWUsdGhpcy50ZXh0dXJlPXQ7fWJpbmQoZSx0KXtjb25zdHtjb250ZXh0Oml9PXRoaXMse2dsOnJ9PWk7ci5iaW5kVGV4dHVyZShyLlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlKSxlIT09dGhpcy5taW5GaWx0ZXImJihyLnRleFBhcmFtZXRlcmkoci5URVhUVVJFXzJELHIuVEVYVFVSRV9NQUdfRklMVEVSLGUpLHIudGV4UGFyYW1ldGVyaShyLlRFWFRVUkVfMkQsci5URVhUVVJFX01JTl9GSUxURVIsZSksdGhpcy5taW5GaWx0ZXI9ZSksdCE9PXRoaXMud3JhcFMmJihyLnRleFBhcmFtZXRlcmkoci5URVhUVVJFXzJELHIuVEVYVFVSRV9XUkFQX1MsdCksci50ZXhQYXJhbWV0ZXJpKHIuVEVYVFVSRV8yRCxyLlRFWFRVUkVfV1JBUF9ULHQpLHRoaXMud3JhcFM9dCk7fX1jb25zdCB4eT0zMix2eT0zMyxieT1uZXcgVWludDE2QXJyYXkoODE4NCk7Zm9yKGxldCBlPTA7ZTwyMDQ2O2UrKyl7bGV0IHQ9ZSsyLGk9MCxyPTAsbj0wLG89MCxzPTAsYT0wO2ZvcigxJnQ/bj1vPXM9eHk6aT1yPWE9eHk7KHQ+Pj0xKT4xOyl7Y29uc3QgZT1pK24+PjEsbD1yK28+PjE7MSZ0PyhuPWksbz1yLGk9cyxyPWEpOihpPW4scj1vLG49cyxvPWEpLHM9ZSxhPWw7fWNvbnN0IGw9NCplO2J5W2wrMF09aSxieVtsKzFdPXIsYnlbbCsyXT1uLGJ5W2wrM109bzt9Y29uc3Qgd3k9bmV3IFVpbnQxNkFycmF5KDIxNzgpLFR5PW5ldyBVaW50OEFycmF5KDEwODkpLEV5PW5ldyBVaW50MTZBcnJheSgxMDg5KTtmdW5jdGlvbiBNeShlKXtyZXR1cm4gMD09PWU/LS4wMzEyNTozMj09PWU/LjAzMTI1OjB9dmFyIEF5PWJhKFt7bmFtZTpcImFfcG9zXCIsdHlwZTpcIkludDE2XCIsY29tcG9uZW50czoyfSx7bmFtZTpcImFfdGV4dHVyZV9wb3NcIix0eXBlOlwiSW50MTZcIixjb21wb25lbnRzOjJ9XSk7Y29uc3QgU3k9e3R5cGU6MixleHRlbnQ6c3IsbG9hZEdlb21ldHJ5OigpPT5bW25ldyB5KDAsMCksbmV3IHkoc3IrMSwwKSxuZXcgeShzcisxLHNyKzEpLG5ldyB5KDAsc3IrMSksbmV3IHkoMCwwKV1dfTtjbGFzcyBJeXtjb25zdHJ1Y3RvcihlLHQsaSxyLG4pe3RoaXMudGlsZUlEPWUsdGhpcy51aWQ9RigpLHRoaXMudXNlcz0wLHRoaXMudGlsZVNpemU9dCx0aGlzLnRpbGVab29tPWksdGhpcy5idWNrZXRzPXt9LHRoaXMuZXhwaXJhdGlvblRpbWU9bnVsbCx0aGlzLnF1ZXJ5UGFkZGluZz0wLHRoaXMuaGFzU3ltYm9sQnVja2V0cz0hMSx0aGlzLmhhc1JUTFRleHQ9ITEsdGhpcy5kZXBlbmRlbmNpZXM9e30sdGhpcy5pc1Jhc3Rlcj1uLHImJnIuc3R5bGUmJih0aGlzLl9sYXN0VXBkYXRlZEJyaWdodG5lc3M9ci5zdHlsZS5nZXRCcmlnaHRuZXNzKCkpLHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudD0wLHRoaXMuc3RhdGU9XCJsb2FkaW5nXCIsciYmci50cmFuc2Zvcm0mJih0aGlzLnByb2plY3Rpb249ci50cmFuc2Zvcm0ucHJvamVjdGlvbik7fXJlZ2lzdGVyRmFkZUR1cmF0aW9uKGUpe2NvbnN0IHQ9ZSt0aGlzLnRpbWVBZGRlZDt0PGh0Lm5vdygpfHx0aGlzLmZhZGVFbmRUaW1lJiZ0PHRoaXMuZmFkZUVuZFRpbWV8fCh0aGlzLmZhZGVFbmRUaW1lPXQpO313YXNSZXF1ZXN0ZWQoKXtyZXR1cm4gXCJlcnJvcmVkXCI9PT10aGlzLnN0YXRlfHxcImxvYWRlZFwiPT09dGhpcy5zdGF0ZXx8XCJyZWxvYWRpbmdcIj09PXRoaXMuc3RhdGV9Z2V0IHRpbGVUcmFuc2Zvcm0oKXtyZXR1cm4gdGhpcy5fdGlsZVRyYW5zZm9ybXx8KHRoaXMuX3RpbGVUcmFuc2Zvcm09VGcodGhpcy50aWxlSUQuY2Fub25pY2FsLHRoaXMucHJvamVjdGlvbikpLHRoaXMuX3RpbGVUcmFuc2Zvcm19bG9hZFZlY3RvckRhdGEoZSx0LGkpe2lmKHRoaXMudW5sb2FkVmVjdG9yRGF0YSgpLHRoaXMuc3RhdGU9XCJsb2FkZWRcIixlKXtlLmZlYXR1cmVJbmRleCYmKHRoaXMubGF0ZXN0RmVhdHVyZUluZGV4PWUuZmVhdHVyZUluZGV4LGUucmF3VGlsZURhdGE/KHRoaXMubGF0ZXN0UmF3VGlsZURhdGE9ZS5yYXdUaWxlRGF0YSx0aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5yYXdUaWxlRGF0YT1lLnJhd1RpbGVEYXRhKTp0aGlzLmxhdGVzdFJhd1RpbGVEYXRhJiYodGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgucmF3VGlsZURhdGE9dGhpcy5sYXRlc3RSYXdUaWxlRGF0YSkpLHRoaXMuY29sbGlzaW9uQm94QXJyYXk9ZS5jb2xsaXNpb25Cb3hBcnJheSx0aGlzLmJ1Y2tldHM9ZnVuY3Rpb24oZSx0KXtjb25zdCBpPXt9O2lmKCF0KXJldHVybiBpO2Zvcihjb25zdCByIG9mIGUpe2NvbnN0IGU9ci5sYXllcklkcy5tYXAoKGU9PnQuZ2V0TGF5ZXIoZSkpKS5maWx0ZXIoQm9vbGVhbik7aWYoMCE9PWUubGVuZ3RoKXtyLmxheWVycz1lLHIuc3RhdGVEZXBlbmRlbnRMYXllcklkcyYmKHIuc3RhdGVEZXBlbmRlbnRMYXllcnM9ci5zdGF0ZURlcGVuZGVudExheWVySWRzLm1hcCgodD0+ZS5maWx0ZXIoKGU9PmUuaWQ9PT10KSlbMF0pKSk7Zm9yKGNvbnN0IHQgb2YgZSlpW3QuZnFpZF09cjt9fXJldHVybiBpfShlLmJ1Y2tldHMsdC5zdHlsZSksdGhpcy5oYXNTeW1ib2xCdWNrZXRzPSExO2Zvcihjb25zdCBlIGluIHRoaXMuYnVja2V0cyl7Y29uc3QgdD10aGlzLmJ1Y2tldHNbZV07aWYodCBpbnN0YW5jZW9mIGN5KXtpZih0aGlzLmhhc1N5bWJvbEJ1Y2tldHM9ITAsIWkpYnJlYWs7dC5qdXN0UmVsb2FkZWQ9ITA7fX1pZih0aGlzLmhhc1JUTFRleHQ9ITEsdGhpcy5oYXNTeW1ib2xCdWNrZXRzKWZvcihjb25zdCBlIGluIHRoaXMuYnVja2V0cyl7Y29uc3QgdD10aGlzLmJ1Y2tldHNbZV07aWYodCBpbnN0YW5jZW9mIGN5JiZ0Lmhhc1JUTFRleHQpe3RoaXMuaGFzUlRMVGV4dD0hMCxRcy5pc0xvYWRpbmcoKXx8UXMuaXNMb2FkZWQoKXx8XCJkZWZlcnJlZFwiIT09S3MoKXx8SnMoKTticmVha319dGhpcy5xdWVyeVBhZGRpbmc9MDtmb3IoY29uc3QgZSBpbiB0aGlzLmJ1Y2tldHMpe2NvbnN0IGk9dGhpcy5idWNrZXRzW2VdLHI9dC5zdHlsZS5nZXRPd25MYXllcihlKTtpZighciljb250aW51ZTtjb25zdCBuPXIucXVlcnlSYWRpdXMoaSk7dGhpcy5xdWVyeVBhZGRpbmc9TWF0aC5tYXgodGhpcy5xdWVyeVBhZGRpbmcsbik7fWUuaW1hZ2VBdGxhcyYmKHRoaXMuaW1hZ2VBdGxhcz1lLmltYWdlQXRsYXMpLGUuZ2x5cGhBdGxhc0ltYWdlJiYodGhpcy5nbHlwaEF0bGFzSW1hZ2U9ZS5nbHlwaEF0bGFzSW1hZ2UpLGUubGluZUF0bGFzJiYodGhpcy5saW5lQXRsYXM9ZS5saW5lQXRsYXMpLHRoaXMuX2xhc3RVcGRhdGVkQnJpZ2h0bmVzcz1lLmJyaWdodG5lc3M7fWVsc2UgdGhpcy5jb2xsaXNpb25Cb3hBcnJheT1uZXcgZWw7fXVubG9hZFZlY3RvckRhdGEoKXtpZih0aGlzLmhhc0RhdGEoKSl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5idWNrZXRzKXRoaXMuYnVja2V0c1tlXS5kZXN0cm95KCk7dGhpcy5idWNrZXRzPXt9LHRoaXMuaW1hZ2VBdGxhcyYmKHRoaXMuaW1hZ2VBdGxhcz1udWxsKSx0aGlzLmxpbmVBdGxhcyYmKHRoaXMubGluZUF0bGFzPW51bGwpLHRoaXMuaW1hZ2VBdGxhc1RleHR1cmUmJnRoaXMuaW1hZ2VBdGxhc1RleHR1cmUuZGVzdHJveSgpLHRoaXMuZ2x5cGhBdGxhc1RleHR1cmUmJnRoaXMuZ2x5cGhBdGxhc1RleHR1cmUuZGVzdHJveSgpLHRoaXMubGluZUF0bGFzVGV4dHVyZSYmdGhpcy5saW5lQXRsYXNUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLl90aWxlQm91bmRzQnVmZmVyJiYodGhpcy5fdGlsZUJvdW5kc0J1ZmZlci5kZXN0cm95KCksdGhpcy5fdGlsZUJvdW5kc0luZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlQm91bmRzU2VnbWVudHMuZGVzdHJveSgpLHRoaXMuX3RpbGVCb3VuZHNCdWZmZXI9bnVsbCksdGhpcy5fdGlsZURlYnVnQnVmZmVyJiYodGhpcy5fdGlsZURlYnVnQnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlRGVidWdTZWdtZW50cy5kZXN0cm95KCksdGhpcy5fdGlsZURlYnVnQnVmZmVyPW51bGwpLHRoaXMuX3RpbGVEZWJ1Z0luZGV4QnVmZmVyJiYodGhpcy5fdGlsZURlYnVnSW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuX3RpbGVEZWJ1Z0luZGV4QnVmZmVyPW51bGwpLHRoaXMuX2dsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyJiYodGhpcy5fZ2xvYmVUaWxlRGVidWdCb3JkZXJCdWZmZXIuZGVzdHJveSgpLHRoaXMuX2dsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyPW51bGwpLHRoaXMuX3RpbGVEZWJ1Z1RleHRCdWZmZXImJih0aGlzLl90aWxlRGVidWdUZXh0QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlRGVidWdUZXh0U2VnbWVudHMuZGVzdHJveSgpLHRoaXMuX3RpbGVEZWJ1Z1RleHRJbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5fdGlsZURlYnVnVGV4dEJ1ZmZlcj1udWxsKSx0aGlzLl9nbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXImJih0aGlzLl9nbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXIuZGVzdHJveSgpLHRoaXMuX2dsb2JlVGlsZURlYnVnVGV4dEJ1ZmZlcj1udWxsKSx0aGlzLmxhdGVzdEZlYXR1cmVJbmRleD1udWxsLHRoaXMuc3RhdGU9XCJ1bmxvYWRlZFwiO319Z2V0QnVja2V0KGUpe3JldHVybiB0aGlzLmJ1Y2tldHNbZS5mcWlkXX11cGxvYWQoZSl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5idWNrZXRzKXtjb25zdCBpPXRoaXMuYnVja2V0c1t0XTtpLnVwbG9hZFBlbmRpbmcoKSYmaS51cGxvYWQoZSk7fWNvbnN0IHQ9ZS5nbDt0aGlzLmltYWdlQXRsYXMmJiF0aGlzLmltYWdlQXRsYXMudXBsb2FkZWQmJih0aGlzLmltYWdlQXRsYXNUZXh0dXJlPW5ldyBneShlLHRoaXMuaW1hZ2VBdGxhcy5pbWFnZSx0LlJHQkEpLHRoaXMuaW1hZ2VBdGxhcy51cGxvYWRlZD0hMCksdGhpcy5nbHlwaEF0bGFzSW1hZ2UmJih0aGlzLmdseXBoQXRsYXNUZXh0dXJlPW5ldyBneShlLHRoaXMuZ2x5cGhBdGxhc0ltYWdlLHQuQUxQSEEpLHRoaXMuZ2x5cGhBdGxhc0ltYWdlPW51bGwpLHRoaXMubGluZUF0bGFzJiYhdGhpcy5saW5lQXRsYXMudXBsb2FkZWQmJih0aGlzLmxpbmVBdGxhc1RleHR1cmU9bmV3IGd5KGUsdGhpcy5saW5lQXRsYXMuaW1hZ2UsdC5BTFBIQSksdGhpcy5saW5lQXRsYXMudXBsb2FkZWQ9ITApO31wcmVwYXJlKGUsdCxpKXtpZih0aGlzLmltYWdlQXRsYXMmJnRoaXMuaW1hZ2VBdGxhcy5wYXRjaFVwZGF0ZWRJbWFnZXMoZSx0aGlzLmltYWdlQXRsYXNUZXh0dXJlLGkpLCF0fHwhdGhpcy5sYXRlc3RGZWF0dXJlSW5kZXh8fCF0aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5yYXdUaWxlRGF0YSlyZXR1cm47Y29uc3Qgcj10LnN0eWxlLmdldEJyaWdodG5lc3MoKTsodGhpcy5fbGFzdFVwZGF0ZWRCcmlnaHRuZXNzfHxyKSYmKHRoaXMuX2xhc3RVcGRhdGVkQnJpZ2h0bmVzcyYmciYmTWF0aC5hYnModGhpcy5fbGFzdFVwZGF0ZWRCcmlnaHRuZXNzLXIpPC4wMDF8fCh0aGlzLl9sYXN0VXBkYXRlZEJyaWdodG5lc3M9cix0aGlzLnVwZGF0ZUJ1Y2tldHModm9pZCAwLHQpKSk7fXF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhlLHQsaSxyLG4sbyxzLGEpe3JldHVybiB0aGlzLmxhdGVzdEZlYXR1cmVJbmRleCYmdGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgucmF3VGlsZURhdGE/dGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgucXVlcnkoe3RpbGVSZXN1bHQ6cixwaXhlbFBvc01hdHJpeDpzLHRyYW5zZm9ybTpvLHBhcmFtczpuLHRpbGVUcmFuc2Zvcm06dGhpcy50aWxlVHJhbnNmb3JtfSxlLHQsaSk6e319cXVlcnlTb3VyY2VGZWF0dXJlcyhlLHQpe2NvbnN0IGk9dGhpcy5sYXRlc3RGZWF0dXJlSW5kZXg7aWYoIWl8fCFpLnJhd1RpbGVEYXRhKXJldHVybjtjb25zdCByPWkubG9hZFZUTGF5ZXJzKCksbj10P3Quc291cmNlTGF5ZXI6XCJcIixvPXIuX2dlb2pzb25UaWxlTGF5ZXJ8fHJbbl07aWYoIW8pcmV0dXJuO2NvbnN0IHM9Um8odCYmdC5maWx0ZXIpLHt6OmEseDpsLHk6Y309dGhpcy50aWxlSUQuY2Fub25pY2FsLGg9e3o6YSx4OmwseTpjfTtmb3IobGV0IHQ9MDt0PG8ubGVuZ3RoO3QrKyl7Y29uc3Qgcj1vLmZlYXR1cmUodCk7aWYocy5uZWVkR2VvbWV0cnkpe2NvbnN0IGU9Y3AociwhMCk7aWYoIXMuZmlsdGVyKG5ldyBlYSh0aGlzLnRpbGVJRC5vdmVyc2NhbGVkWiksZSx0aGlzLnRpbGVJRC5jYW5vbmljYWwpKWNvbnRpbnVlfWVsc2UgaWYoIXMuZmlsdGVyKG5ldyBlYSh0aGlzLnRpbGVJRC5vdmVyc2NhbGVkWikscikpY29udGludWU7Y29uc3QgdT1pLmdldElkKHIsbiksZD1uZXcgQ20ocixhLGwsYyx1KTtkLnRpbGU9aCxlLnB1c2goZCk7fX1oYXNEYXRhKCl7cmV0dXJuIFwibG9hZGVkXCI9PT10aGlzLnN0YXRlfHxcInJlbG9hZGluZ1wiPT09dGhpcy5zdGF0ZXx8XCJleHBpcmVkXCI9PT10aGlzLnN0YXRlfWJ1Y2tldHNMb2FkZWQoKXtmb3IoY29uc3QgZSBpbiB0aGlzLmJ1Y2tldHMpaWYodGhpcy5idWNrZXRzW2VdLnVwbG9hZFBlbmRpbmcoKSlyZXR1cm4gITE7cmV0dXJuICEwfXBhdHRlcm5zTG9hZGVkKCl7cmV0dXJuICEhdGhpcy5pbWFnZUF0bGFzJiYhIU9iamVjdC5rZXlzKHRoaXMuaW1hZ2VBdGxhcy5wYXR0ZXJuUG9zaXRpb25zKS5sZW5ndGh9c2V0RXhwaXJ5RGF0YShlKXtjb25zdCB0PXRoaXMuZXhwaXJhdGlvblRpbWU7aWYoZS5jYWNoZUNvbnRyb2wpe2NvbnN0IHQ9ZWUoZS5jYWNoZUNvbnRyb2wpO3RbXCJtYXgtYWdlXCJdJiYodGhpcy5leHBpcmF0aW9uVGltZT1EYXRlLm5vdygpKzFlMyp0W1wibWF4LWFnZVwiXSk7fWVsc2UgZS5leHBpcmVzJiYodGhpcy5leHBpcmF0aW9uVGltZT1uZXcgRGF0ZShlLmV4cGlyZXMpLmdldFRpbWUoKSk7aWYodGhpcy5leHBpcmF0aW9uVGltZSl7Y29uc3QgZT1EYXRlLm5vdygpO2xldCBpPSExO2lmKHRoaXMuZXhwaXJhdGlvblRpbWU+ZSlpPSExO2Vsc2UgaWYodClpZih0aGlzLmV4cGlyYXRpb25UaW1lPHQpaT0hMDtlbHNlIHtjb25zdCByPXRoaXMuZXhwaXJhdGlvblRpbWUtdDtyP3RoaXMuZXhwaXJhdGlvblRpbWU9ZStNYXRoLm1heChyLDNlNCk6aT0hMDt9ZWxzZSBpPSEwO2k/KHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudCsrLHRoaXMuc3RhdGU9XCJleHBpcmVkXCIpOnRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudD0wO319Z2V0RXhwaXJ5VGltZW91dCgpe2lmKHRoaXMuZXhwaXJhdGlvblRpbWUpcmV0dXJuIHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudD8xZTMqKDE8PE1hdGgubWluKHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudC0xLDMxKSk6TWF0aC5taW4odGhpcy5leHBpcmF0aW9uVGltZS0obmV3IERhdGUpLmdldFRpbWUoKSxNYXRoLnBvdygyLDMxKS0xKX1zZXRGZWF0dXJlU3RhdGUoZSx0KXt0aGlzLmxhdGVzdEZlYXR1cmVJbmRleCYmdGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgucmF3VGlsZURhdGEmJjAhPT1PYmplY3Qua2V5cyhlKS5sZW5ndGgmJnQmJnRoaXMudXBkYXRlQnVja2V0cyhlLHQpO311cGRhdGVCdWNrZXRzKGUsdCl7aWYoIXRoaXMubGF0ZXN0RmVhdHVyZUluZGV4KXJldHVybjtjb25zdCBpPXRoaXMubGF0ZXN0RmVhdHVyZUluZGV4LmxvYWRWVExheWVycygpLHI9dC5zdHlsZS5saXN0SW1hZ2VzKCksbj10LnN0eWxlLmdldEJyaWdodG5lc3MoKTtmb3IoY29uc3QgbyBpbiB0aGlzLmJ1Y2tldHMpe2lmKCF0LnN0eWxlLmhhc0xheWVyKG8pKWNvbnRpbnVlO2NvbnN0IHM9dGhpcy5idWNrZXRzW29dLGE9cy5sYXllcnNbMF0uc291cmNlTGF5ZXJ8fFwiX2dlb2pzb25UaWxlTGF5ZXJcIixsPWlbYV07bGV0IGM9e307aWYoZSYmKGM9ZVthXSwhbHx8IWN8fDA9PT1PYmplY3Qua2V5cyhjKS5sZW5ndGgpKWNvbnRpbnVlO2lmKHMudXBkYXRlKGMsbCxyLHRoaXMuaW1hZ2VBdGxhcyYmdGhpcy5pbWFnZUF0bGFzLnBhdHRlcm5Qb3NpdGlvbnN8fHt9LG4pLHMgaW5zdGFuY2VvZiBfeXx8cyBpbnN0YW5jZW9mIExmKXtjb25zdCBlPXQuc3R5bGUuZ2V0T3duU291cmNlQ2FjaGUocy5sYXllcnNbMF0uc291cmNlKTt0Ll90ZXJyYWluJiZ0Ll90ZXJyYWluLmVuYWJsZWQmJmUmJnMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkJiZ0Ll90ZXJyYWluLl9jbGVhclJlbmRlckNhY2hlRm9yVGlsZShlLmlkLHRoaXMudGlsZUlEKTt9Y29uc3QgaD10JiZ0LnN0eWxlJiZ0LnN0eWxlLmdldE93bkxheWVyKG8pO2gmJih0aGlzLnF1ZXJ5UGFkZGluZz1NYXRoLm1heCh0aGlzLnF1ZXJ5UGFkZGluZyxoLnF1ZXJ5UmFkaXVzKHMpKSk7fX1ob2xkaW5nRm9yRmFkZSgpe3JldHVybiB2b2lkIDAhPT10aGlzLnN5bWJvbEZhZGVIb2xkVW50aWx9c3ltYm9sRmFkZUZpbmlzaGVkKCl7cmV0dXJuICF0aGlzLnN5bWJvbEZhZGVIb2xkVW50aWx8fHRoaXMuc3ltYm9sRmFkZUhvbGRVbnRpbDxodC5ub3coKX1jbGVhckZhZGVIb2xkKCl7dGhpcy5zeW1ib2xGYWRlSG9sZFVudGlsPXZvaWQgMDt9c2V0SG9sZER1cmF0aW9uKGUpe3RoaXMuc3ltYm9sRmFkZUhvbGRVbnRpbD1odC5ub3coKStlO31zZXRUZXh0dXJlKGUsdCl7Y29uc3QgaT10LmNvbnRleHQscj1pLmdsO3RoaXMudGV4dHVyZT10aGlzLnRleHR1cmV8fHQuZ2V0VGlsZVRleHR1cmUoZS53aWR0aCksdGhpcy50ZXh0dXJlP3RoaXMudGV4dHVyZS51cGRhdGUoZSx7dXNlTWlwbWFwOiEwfSk6KHRoaXMudGV4dHVyZT1uZXcgZ3koaSxlLHIuUkdCQSx7dXNlTWlwbWFwOiEwfSksdGhpcy50ZXh0dXJlLmJpbmQoci5MSU5FQVIsci5DTEFNUF9UT19FREdFKSk7fXNldERlcGVuZGVuY2llcyhlLHQpe2NvbnN0IGk9e307Zm9yKGNvbnN0IGUgb2YgdClpW2VdPSEwO3RoaXMuZGVwZW5kZW5jaWVzW2VdPWk7fWhhc0RlcGVuZGVuY3koZSx0KXtmb3IoY29uc3QgaSBvZiBlKXtjb25zdCBlPXRoaXMuZGVwZW5kZW5jaWVzW2ldO2lmKGUpZm9yKGNvbnN0IGkgb2YgdClpZihlW2ldKXJldHVybiAhMH1yZXR1cm4gITF9Y2xlYXJRdWVyeURlYnVnVml6KCl7fV9tYWtlRGVidWdUaWxlQm91bmRzQnVmZmVycyhlLHQpe2lmKCF0fHxcIm1lcmNhdG9yXCI9PT10Lm5hbWV8fHRoaXMuX3RpbGVEZWJ1Z0J1ZmZlcilyZXR1cm47Y29uc3QgaT1scChTeSx0aGlzLnRpbGVJRC5jYW5vbmljYWwsdGhpcy50aWxlVHJhbnNmb3JtKVswXSxyPW5ldyBUYSxuPW5ldyBXYTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKyl7Y29uc3R7eDp0LHk6b309aVtlXTtyLmVtcGxhY2VCYWNrKHQsbyksbi5lbXBsYWNlQmFjayhlKTt9bi5lbXBsYWNlQmFjaygwKSx0aGlzLl90aWxlRGVidWdJbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKG4pLHRoaXMuX3RpbGVEZWJ1Z0J1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihyLFB1Lm1lbWJlcnMpLHRoaXMuX3RpbGVEZWJ1Z1NlZ21lbnRzPWRsLnNpbXBsZVNlZ21lbnQoMCwwLHIubGVuZ3RoLG4ubGVuZ3RoKTt9X21ha2VUaWxlQm91bmRzQnVmZmVycyhlLHQpe2lmKHRoaXMuX3RpbGVCb3VuZHNCdWZmZXJ8fCF0fHxcIm1lcmNhdG9yXCI9PT10Lm5hbWUpcmV0dXJuO2NvbnN0IGk9bHAoU3ksdGhpcy50aWxlSUQuY2Fub25pY2FsLHRoaXMudGlsZVRyYW5zZm9ybSlbMF07bGV0IHIsbjtpZih0aGlzLmlzUmFzdGVyKXtjb25zdCBlPWZ1bmN0aW9uKGUsdCl7Y29uc3QgaT1UZyhlLHQpLHI9TWF0aC5wb3coMixlLnopO2ZvcihsZXQgbj0wO248dnk7bisrKWZvcihsZXQgbz0wO288dnk7bysrKXtjb25zdCBzPSRkKChlLngrKG8rTXkobykpL3h5KS9yKSxhPUhkKChlLnkrKG4rTXkobikpL3h5KS9yKSxsPXQucHJvamVjdChzLGEpLGM9bip2eStvO3d5WzIqYyswXT1NYXRoLnJvdW5kKChsLngqaS5zY2FsZS1pLngpKnNyKSx3eVsyKmMrMV09TWF0aC5yb3VuZCgobC55Kmkuc2NhbGUtaS55KSpzcik7fVR5LmZpbGwoMCksRXkuZmlsbCgwKTtmb3IobGV0IGU9MjA0NTtlPj0wO2UtLSl7Y29uc3QgdD00KmUsaT1ieVt0KzBdLHI9YnlbdCsxXSxuPWJ5W3QrMl0sbz1ieVt0KzNdLHM9aStuPj4xLGE9citvPj4xLGw9cythLXIsYz1hK2ktcyxoPXIqdnkraSx1PW8qdnkrbixkPWEqdnkrcyxwPU1hdGguaHlwb3QoKHd5WzIqaCswXSt3eVsyKnUrMF0pLzItd3lbMipkKzBdLCh3eVsyKmgrMV0rd3lbMip1KzFdKS8yLXd5WzIqZCsxXSk+PTE2O1R5W2RdPVR5W2RdfHwocD8xOjApLGU8MTAyMiYmKFR5W2RdPVR5W2RdfHxUeVsocitjPj4xKSp2eSsoaStsPj4xKV18fFR5WyhvK2M+PjEpKnZ5KyhuK2w+PjEpXSk7fWNvbnN0IG49bmV3IE1hLG89bmV3IFZhO2xldCBzPTA7ZnVuY3Rpb24gYShlLHQpe2NvbnN0IGk9dCp2eStlO3JldHVybiAwPT09RXlbaV0mJihuLmVtcGxhY2VCYWNrKHd5WzIqaSswXSx3eVsyKmkrMV0sZSpzci94eSx0KnNyL3h5KSxFeVtpXT0rK3MpLEV5W2ldLTF9ZnVuY3Rpb24gbChlLHQsaSxyLG4scyl7Y29uc3QgYz1lK2k+PjEsaD10K3I+PjE7aWYoTWF0aC5hYnMoZS1uKStNYXRoLmFicyh0LXMpPjEmJlR5W2gqdnkrY10pbChuLHMsZSx0LGMsaCksbChpLHIsbixzLGMsaCk7ZWxzZSB7Y29uc3QgbD1hKGUsdCksYz1hKGksciksaD1hKG4scyk7by5lbXBsYWNlQmFjayhsLGMsaCk7fX1yZXR1cm4gbCgwLDAseHkseHkseHksMCksbCh4eSx4eSwwLDAsMCx4eSkse3ZlcnRpY2VzOm4saW5kaWNlczpvfX0odGhpcy50aWxlSUQuY2Fub25pY2FsLHQpO3I9ZS52ZXJ0aWNlcyxuPWUuaW5kaWNlczt9ZWxzZSB7cj1uZXcgTWEsbj1uZXcgVmE7Zm9yKGNvbnN0e3g6ZSx5OnR9b2YgaSlyLmVtcGxhY2VCYWNrKGUsdCwwLDApO2NvbnN0IGU9Q2Yoci5pbnQxNix2b2lkIDAsNCk7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kz0zKW4uZW1wbGFjZUJhY2soZVt0XSxlW3QrMV0sZVt0KzJdKTt9dGhpcy5fdGlsZUJvdW5kc0J1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihyLEF5Lm1lbWJlcnMpLHRoaXMuX3RpbGVCb3VuZHNJbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKG4pLHRoaXMuX3RpbGVCb3VuZHNTZWdtZW50cz1kbC5zaW1wbGVTZWdtZW50KDAsMCxyLmxlbmd0aCxuLmxlbmd0aCk7fV9tYWtlR2xvYmVUaWxlRGVidWdCdWZmZXJzKGUsdCl7Y29uc3QgaT10LnByb2plY3Rpb247aWYoIWl8fFwiZ2xvYmVcIiE9PWkubmFtZXx8dC5mcmVlemVUaWxlQ292ZXJhZ2UpcmV0dXJuO2NvbnN0IHI9dGhpcy50aWxlSUQuY2Fub25pY2FsLG49eGQoY2Qocix0KSksbz1FZCh0Lnpvb20pO2xldCBzO28+MCYmKHM9eHUuaW52ZXJ0KG5ldyBGbG9hdDY0QXJyYXkoMTYpLHQuZ2xvYmVNYXRyaXgpKSx0aGlzLl9tYWtlR2xvYmVUaWxlRGVidWdCb3JkZXJCdWZmZXIoZSxyLHQsbixzLG8pLHRoaXMuX21ha2VHbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXIoZSxyLHQsbixzLG8pO31fZ2xvYmVQb2ludChlLHQsaSxyLG4sbyxzKXtsZXQgYT1fZChlLHQsaSk7aWYobyl7Y29uc3Qgbj0xPDxpLnosbD1HZChyLmNlbnRlci5sbmcpLGM9cWQoci5jZW50ZXIubGF0KSxoPShpLngrLjUpL24tbDtsZXQgdT0wO2g+LjU/dT0tMTpoPC0uNSYmKHU9MSk7bGV0IGQ9KGUvc3IraS54KS9uK3UscD0odC9zcitpLnkpL247ZD0oZC1sKSpyLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsK2wscD0ocC1jKSpyLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsK2M7Y29uc3QgZj1bZCpyLndvcmxkU2l6ZSxwKnIud29ybGRTaXplLDBdO011LnRyYW5zZm9ybU1hdDQoZixmLG8pLGE9bGQoYSxmLHMpO31yZXR1cm4gTXUudHJhbnNmb3JtTWF0NChhLGEsbil9X21ha2VHbG9iZVRpbGVEZWJ1Z0JvcmRlckJ1ZmZlcihlLHQsaSxyLG4sbyl7Y29uc3Qgcz1uZXcgVGEsYT1uZXcgV2EsbD1uZXcgRWEsYz0oZSxjLGgsdSxkKT0+e2NvbnN0IHA9KGgtZSkvKGQtMSksZj0odS1jKS8oZC0xKSxtPXMubGVuZ3RoO2ZvcihsZXQgaD0wO2g8ZDtoKyspe2NvbnN0IHU9ZStoKnAsZD1jK2gqZjtzLmVtcGxhY2VCYWNrKHUsZCk7Y29uc3QgXz10aGlzLl9nbG9iZVBvaW50KHUsZCx0LGkscixuLG8pO2wuZW1wbGFjZUJhY2soX1swXSxfWzFdLF9bMl0pLGEuZW1wbGFjZUJhY2sobStoKTt9fSxoPXNyO2MoMCwwLGgsMCwxNiksYyhoLDAsaCxoLDE2KSxjKGgsaCwwLGgsMTYpLGMoMCxoLDAsMCwxNiksdGhpcy5fdGlsZURlYnVnSW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcihhKSx0aGlzLl90aWxlRGVidWdCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIocyxQdS5tZW1iZXJzKSx0aGlzLl9nbG9iZVRpbGVEZWJ1Z0JvcmRlckJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihsLER1Lm1lbWJlcnMpLHRoaXMuX3RpbGVEZWJ1Z1NlZ21lbnRzPWRsLnNpbXBsZVNlZ21lbnQoMCwwLHMubGVuZ3RoLGEubGVuZ3RoKTt9X21ha2VHbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXIoZSx0LGkscixuLG8pe2NvbnN0IHM9c3IvNCxhPW5ldyBUYSxsPW5ldyBWYSxjPW5ldyBFYSxoPTI1O2wucmVzZXJ2ZSgzMiksYS5yZXNlcnZlKGgpLGMucmVzZXJ2ZShoKTtjb25zdCB1PShlLHQpPT5oKmUrdDtmb3IobGV0IGU9MDtlPGg7ZSsrKXtjb25zdCBsPWUqcztmb3IobGV0IGU9MDtlPGg7ZSsrKXtjb25zdCBoPWUqczthLmVtcGxhY2VCYWNrKGgsbCk7Y29uc3QgdT10aGlzLl9nbG9iZVBvaW50KGgsbCx0LGkscixuLG8pO2MuZW1wbGFjZUJhY2sodVswXSx1WzFdLHVbMl0pO319Zm9yKGxldCBlPTA7ZTw0O2UrKylmb3IobGV0IHQ9MDt0PDQ7dCsrKXtjb25zdCBpPXUoZSx0KSxyPXUoZSx0KzEpLG49dShlKzEsdCksbz11KGUrMSx0KzEpO2wuZW1wbGFjZUJhY2soaSxyLG4pLGwuZW1wbGFjZUJhY2sobixyLG8pO310aGlzLl90aWxlRGVidWdUZXh0SW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcihsKSx0aGlzLl90aWxlRGVidWdUZXh0QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKGEsUHUubWVtYmVycyksdGhpcy5fZ2xvYmVUaWxlRGVidWdUZXh0QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKGMsRHUubWVtYmVycyksdGhpcy5fdGlsZURlYnVnVGV4dFNlZ21lbnRzPWRsLnNpbXBsZVNlZ21lbnQoMCwwLGgsMzIpO319Y2xhc3MgQ3l7Y29uc3RydWN0b3IoZSx0KXt0aGlzLm1heD1lLHRoaXMub25SZW1vdmU9dCx0aGlzLnJlc2V0KCk7fXJlc2V0KCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5kYXRhKWZvcihjb25zdCB0IG9mIHRoaXMuZGF0YVtlXSl0LnRpbWVvdXQmJmNsZWFyVGltZW91dCh0LnRpbWVvdXQpLHRoaXMub25SZW1vdmUodC52YWx1ZSk7cmV0dXJuIHRoaXMuZGF0YT17fSx0aGlzLm9yZGVyPVtdLHRoaXN9YWRkKGUsdCxpKXtjb25zdCByPWUud3JhcHBlZCgpLmtleTt2b2lkIDA9PT10aGlzLmRhdGFbcl0mJih0aGlzLmRhdGFbcl09W10pO2NvbnN0IG49e3ZhbHVlOnQsdGltZW91dDp2b2lkIDB9O2lmKHZvaWQgMCE9PWkmJihuLnRpbWVvdXQ9c2V0VGltZW91dCgoKCk9Pnt0aGlzLnJlbW92ZShlLG4pO30pLGkpKSx0aGlzLmRhdGFbcl0ucHVzaChuKSx0aGlzLm9yZGVyLnB1c2gociksdGhpcy5vcmRlci5sZW5ndGg+dGhpcy5tYXgpe2NvbnN0IGU9dGhpcy5fZ2V0QW5kUmVtb3ZlQnlLZXkodGhpcy5vcmRlclswXSk7ZSYmdGhpcy5vblJlbW92ZShlKTt9cmV0dXJuIHRoaXN9aGFzKGUpe3JldHVybiBlLndyYXBwZWQoKS5rZXkgaW4gdGhpcy5kYXRhfWdldEFuZFJlbW92ZShlKXtyZXR1cm4gdGhpcy5oYXMoZSk/dGhpcy5fZ2V0QW5kUmVtb3ZlQnlLZXkoZS53cmFwcGVkKCkua2V5KTpudWxsfV9nZXRBbmRSZW1vdmVCeUtleShlKXtjb25zdCB0PXRoaXMuZGF0YVtlXS5zaGlmdCgpO3JldHVybiB0LnRpbWVvdXQmJmNsZWFyVGltZW91dCh0LnRpbWVvdXQpLDA9PT10aGlzLmRhdGFbZV0ubGVuZ3RoJiZkZWxldGUgdGhpcy5kYXRhW2VdLHRoaXMub3JkZXIuc3BsaWNlKHRoaXMub3JkZXIuaW5kZXhPZihlKSwxKSx0LnZhbHVlfWdldEJ5S2V5KGUpe2NvbnN0IHQ9dGhpcy5kYXRhW2VdO3JldHVybiB0P3RbMF0udmFsdWU6bnVsbH1nZXQoZSl7cmV0dXJuIHRoaXMuaGFzKGUpP3RoaXMuZGF0YVtlLndyYXBwZWQoKS5rZXldWzBdLnZhbHVlOm51bGx9cmVtb3ZlKGUsdCl7aWYoIXRoaXMuaGFzKGUpKXJldHVybiB0aGlzO2NvbnN0IGk9ZS53cmFwcGVkKCkua2V5LHI9dm9pZCAwPT09dD8wOnRoaXMuZGF0YVtpXS5pbmRleE9mKHQpLG49dGhpcy5kYXRhW2ldW3JdO3JldHVybiB0aGlzLmRhdGFbaV0uc3BsaWNlKHIsMSksbi50aW1lb3V0JiZjbGVhclRpbWVvdXQobi50aW1lb3V0KSwwPT09dGhpcy5kYXRhW2ldLmxlbmd0aCYmZGVsZXRlIHRoaXMuZGF0YVtpXSx0aGlzLm9uUmVtb3ZlKG4udmFsdWUpLHRoaXMub3JkZXIuc3BsaWNlKHRoaXMub3JkZXIuaW5kZXhPZihpKSwxKSx0aGlzfXNldE1heFNpemUoZSl7Zm9yKHRoaXMubWF4PWU7dGhpcy5vcmRlci5sZW5ndGg+dGhpcy5tYXg7KXtjb25zdCBlPXRoaXMuX2dldEFuZFJlbW92ZUJ5S2V5KHRoaXMub3JkZXJbMF0pO2UmJnRoaXMub25SZW1vdmUoZSk7fXJldHVybiB0aGlzfWZpbHRlcihlKXtjb25zdCB0PVtdO2Zvcihjb25zdCBpIGluIHRoaXMuZGF0YSlmb3IoY29uc3QgciBvZiB0aGlzLmRhdGFbaV0pZShyLnZhbHVlKXx8dC5wdXNoKHIpO2Zvcihjb25zdCBlIG9mIHQpdGhpcy5yZW1vdmUoZS52YWx1ZS50aWxlSUQsZSk7fX1jbGFzcyB6eXtjb25zdHJ1Y3RvcihlLHQsaSxyKXt0aGlzLmlkPXp5LnVuaXF1ZUlkeENvdW50ZXIsenkudW5pcXVlSWR4Q291bnRlcisrLHRoaXMuY29udGV4dD1lO2NvbnN0IG49ZS5nbDt0aGlzLmJ1ZmZlcj1uLmNyZWF0ZUJ1ZmZlcigpLHRoaXMuZHluYW1pY0RyYXc9Qm9vbGVhbihpKSx0aGlzLmNvbnRleHQudW5iaW5kVkFPKCksZS5iaW5kRWxlbWVudEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpLG4uYnVmZmVyRGF0YShuLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHQuYXJyYXlCdWZmZXIsdGhpcy5keW5hbWljRHJhdz9uLkRZTkFNSUNfRFJBVzpuLlNUQVRJQ19EUkFXKSx0aGlzLmR5bmFtaWNEcmF3fHxyfHx0LmRlc3Ryb3koKTt9YmluZCgpe3RoaXMuY29udGV4dC5iaW5kRWxlbWVudEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpO311cGRhdGVEYXRhKGUpe3RoaXMuaWQ9enkudW5pcXVlSWR4Q291bnRlcix6eS51bmlxdWVJZHhDb3VudGVyKys7Y29uc3QgdD10aGlzLmNvbnRleHQuZ2w7dGhpcy5jb250ZXh0LnVuYmluZFZBTygpLHRoaXMuYmluZCgpLHQuYnVmZmVyU3ViRGF0YSh0LkVMRU1FTlRfQVJSQVlfQlVGRkVSLDAsZS5hcnJheUJ1ZmZlcik7fWRlc3Ryb3koKXt0aGlzLmJ1ZmZlciYmKHRoaXMuY29udGV4dC5nbC5kZWxldGVCdWZmZXIodGhpcy5idWZmZXIpLGRlbGV0ZSB0aGlzLmJ1ZmZlcik7fX16eS51bmlxdWVJZHhDb3VudGVyPTA7Y29uc3QgRHk9e0ludDg6XCJCWVRFXCIsVWludDg6XCJVTlNJR05FRF9CWVRFXCIsSW50MTY6XCJTSE9SVFwiLFVpbnQxNjpcIlVOU0lHTkVEX1NIT1JUXCIsSW50MzI6XCJJTlRcIixVaW50MzI6XCJVTlNJR05FRF9JTlRcIixGbG9hdDMyOlwiRkxPQVRcIn07Y2xhc3MgUHl7Y29uc3RydWN0b3IoZSx0LGkscixuLG8pe3RoaXMubGVuZ3RoPXQubGVuZ3RoLHRoaXMuYXR0cmlidXRlcz1pLHRoaXMuaXRlbVNpemU9dC5ieXRlc1BlckVsZW1lbnQsdGhpcy5keW5hbWljRHJhdz1yLHRoaXMuaW5zdGFuY2VDb3VudD1vLHRoaXMuY29udGV4dD1lO2NvbnN0IHM9ZS5nbDt0aGlzLmJ1ZmZlcj1zLmNyZWF0ZUJ1ZmZlcigpLGUuYmluZFZlcnRleEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpLHMuYnVmZmVyRGF0YShzLkFSUkFZX0JVRkZFUix0LmFycmF5QnVmZmVyLHRoaXMuZHluYW1pY0RyYXc/cy5EWU5BTUlDX0RSQVc6cy5TVEFUSUNfRFJBVyksdGhpcy5keW5hbWljRHJhd3x8bnx8dC5kZXN0cm95KCk7fWJpbmQoKXt0aGlzLmNvbnRleHQuYmluZFZlcnRleEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpO311cGRhdGVEYXRhKGUpe2NvbnN0IHQ9dGhpcy5jb250ZXh0LmdsO3RoaXMuYmluZCgpLHQuYnVmZmVyU3ViRGF0YSh0LkFSUkFZX0JVRkZFUiwwLGUuYXJyYXlCdWZmZXIpO31lbmFibGVBdHRyaWJ1dGVzKGUsdCl7Zm9yKGxldCBpPTA7aTx0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoO2krKyl7Y29uc3Qgcj10LmF0dHJpYnV0ZXNbdGhpcy5hdHRyaWJ1dGVzW2ldLm5hbWVdO3ZvaWQgMCE9PXImJmUuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocik7fX1zZXRWZXJ0ZXhBdHRyaWJQb2ludGVycyhlLHQsaSl7Zm9yKGxldCByPTA7cjx0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoO3IrKyl7Y29uc3Qgbj10aGlzLmF0dHJpYnV0ZXNbcl0sbz10LmF0dHJpYnV0ZXNbbi5uYW1lXTt2b2lkIDAhPT1vJiZlLnZlcnRleEF0dHJpYlBvaW50ZXIobyxuLmNvbXBvbmVudHMsZVtEeVtuLnR5cGVdXSwhMSx0aGlzLml0ZW1TaXplLG4ub2Zmc2V0K3RoaXMuaXRlbVNpemUqKGl8fDApKTt9fXNldFZlcnRleEF0dHJpYkRpdmlzb3IoZSx0LGkpe2ZvcihsZXQgcj0wO3I8dGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDtyKyspe2NvbnN0IG49dC5hdHRyaWJ1dGVzW3RoaXMuYXR0cmlidXRlc1tyXS5uYW1lXTt2b2lkIDAhPT1uJiZ0aGlzLmluc3RhbmNlQ291bnQmJnRoaXMuaW5zdGFuY2VDb3VudD4wJiZlLnZlcnRleEF0dHJpYkRpdmlzb3IobixpKTt9fWRlc3Ryb3koKXt0aGlzLmJ1ZmZlciYmKHRoaXMuY29udGV4dC5nbC5kZWxldGVCdWZmZXIodGhpcy5idWZmZXIpLGRlbGV0ZSB0aGlzLmJ1ZmZlcik7fX1jbGFzcyBSeXtjb25zdHJ1Y3RvcihlKXt0aGlzLmdsPWUuZ2wsdGhpcy5kZWZhdWx0PXRoaXMuZ2V0RGVmYXVsdCgpLHRoaXMuY3VycmVudD10aGlzLmRlZmF1bHQsdGhpcy5kaXJ0eT0hMTt9Z2V0KCl7cmV0dXJuIHRoaXMuY3VycmVudH1zZXQoZSl7fWdldERlZmF1bHQoKXtyZXR1cm4gdGhpcy5kZWZhdWx0fXNldERlZmF1bHQoKXt0aGlzLnNldCh0aGlzLmRlZmF1bHQpO319Y2xhc3MgTHkgZXh0ZW5kcyBSeXtnZXREZWZhdWx0KCl7cmV0dXJuIGxpLnRyYW5zcGFyZW50fXNldChlKXtjb25zdCB0PXRoaXMuY3VycmVudDsoZS5yIT09dC5yfHxlLmchPT10Lmd8fGUuYiE9PXQuYnx8ZS5hIT09dC5hfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuY2xlYXJDb2xvcihlLnIsZS5nLGUuYixlLmEpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3Mga3kgZXh0ZW5kcyBSeXtnZXREZWZhdWx0KCl7cmV0dXJuIDF9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuY2xlYXJEZXB0aChlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIE95IGV4dGVuZHMgUnl7Z2V0RGVmYXVsdCgpe3JldHVybiAwfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmNsZWFyU3RlbmNpbChlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIEJ5IGV4dGVuZHMgUnl7Z2V0RGVmYXVsdCgpe3JldHVybiBbITAsITAsITAsITBdfXNldChlKXtjb25zdCB0PXRoaXMuY3VycmVudDsoZVswXSE9PXRbMF18fGVbMV0hPT10WzFdfHxlWzJdIT09dFsyXXx8ZVszXSE9PXRbM118fHRoaXMuZGlydHkpJiYodGhpcy5nbC5jb2xvck1hc2soZVswXSxlWzFdLGVbMl0sZVszXSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyBGeSBleHRlbmRzIFJ5e2dldERlZmF1bHQoKXtyZXR1cm4gITB9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuZGVwdGhNYXNrKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgTnkgZXh0ZW5kcyBSeXtnZXREZWZhdWx0KCl7cmV0dXJuIDI1NX1zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5zdGVuY2lsTWFzayhlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIFV5IGV4dGVuZHMgUnl7Z2V0RGVmYXVsdCgpe3JldHVybiB7ZnVuYzp0aGlzLmdsLkFMV0FZUyxyZWY6MCxtYXNrOjI1NX19c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlLmZ1bmMhPT10LmZ1bmN8fGUucmVmIT09dC5yZWZ8fGUubWFzayE9PXQubWFza3x8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLnN0ZW5jaWxGdW5jKGUuZnVuYyxlLnJlZixlLm1hc2spLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgVnkgZXh0ZW5kcyBSeXtnZXREZWZhdWx0KCl7Y29uc3QgZT10aGlzLmdsO3JldHVybiBbZS5LRUVQLGUuS0VFUCxlLktFRVBdfXNldChlKXtjb25zdCB0PXRoaXMuY3VycmVudDsoZVswXSE9PXRbMF18fGVbMV0hPT10WzFdfHxlWzJdIT09dFsyXXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLnN0ZW5jaWxPcChlWzBdLGVbMV0sZVsyXSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyBqeSBleHRlbmRzIFJ5e2dldERlZmF1bHQoKXtyZXR1cm4gITF9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7ZT90LmVuYWJsZSh0LlNURU5DSUxfVEVTVCk6dC5kaXNhYmxlKHQuU1RFTkNJTF9URVNUKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExO319Y2xhc3MgR3kgZXh0ZW5kcyBSeXtnZXREZWZhdWx0KCl7cmV0dXJuIFswLDFdfXNldChlKXtjb25zdCB0PXRoaXMuY3VycmVudDsoZVswXSE9PXRbMF18fGVbMV0hPT10WzFdfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuZGVwdGhSYW5nZShlWzBdLGVbMV0pLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgcXkgZXh0ZW5kcyBSeXtnZXREZWZhdWx0KCl7cmV0dXJuICExfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO2U/dC5lbmFibGUodC5ERVBUSF9URVNUKTp0LmRpc2FibGUodC5ERVBUSF9URVNUKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExO319Y2xhc3MgWnkgZXh0ZW5kcyBSeXtnZXREZWZhdWx0KCl7cmV0dXJuIHRoaXMuZ2wuTEVTU31zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5kZXB0aEZ1bmMoZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyAkeSBleHRlbmRzIFJ5e2dldERlZmF1bHQoKXtyZXR1cm4gITF9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7ZT90LmVuYWJsZSh0LkJMRU5EKTp0LmRpc2FibGUodC5CTEVORCksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMTt9fWNsYXNzIEh5IGV4dGVuZHMgUnl7Z2V0RGVmYXVsdCgpe2NvbnN0IGU9dGhpcy5nbDtyZXR1cm4gW2UuT05FLGUuWkVSTyxlLk9ORSxlLlpFUk9dfXNldChlKXtjb25zdCB0PXRoaXMuY3VycmVudDsoZVswXSE9PXRbMF18fGVbMV0hPT10WzFdfHxlWzJdIT09dFsyXXx8ZVszXSE9PXRbM118fHRoaXMuZGlydHkpJiYodGhpcy5nbC5ibGVuZEZ1bmNTZXBhcmF0ZShlWzBdLGVbMV0sZVsyXSxlWzNdKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIFd5IGV4dGVuZHMgUnl7Z2V0RGVmYXVsdCgpe3JldHVybiBsaS50cmFuc3BhcmVudH1zZXQoZSl7Y29uc3QgdD10aGlzLmN1cnJlbnQ7KGUuciE9PXQucnx8ZS5nIT09dC5nfHxlLmIhPT10LmJ8fGUuYSE9PXQuYXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmJsZW5kQ29sb3IoZS5yLGUuZyxlLmIsZS5hKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIFh5IGV4dGVuZHMgUnl7Z2V0RGVmYXVsdCgpe3JldHVybiB0aGlzLmdsLkZVTkNfQUREfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmJsZW5kRXF1YXRpb25TZXBhcmF0ZShlLGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgWXkgZXh0ZW5kcyBSeXtnZXREZWZhdWx0KCl7cmV0dXJuICExfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO2U/dC5lbmFibGUodC5DVUxMX0ZBQ0UpOnQuZGlzYWJsZSh0LkNVTExfRkFDRSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMTt9fWNsYXNzIEt5IGV4dGVuZHMgUnl7Z2V0RGVmYXVsdCgpe3JldHVybiB0aGlzLmdsLkJBQ0t9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuY3VsbEZhY2UoZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyBKeSBleHRlbmRzIFJ5e2dldERlZmF1bHQoKXtyZXR1cm4gdGhpcy5nbC5DQ1d9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuZnJvbnRGYWNlKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319bGV0IFF5PWNsYXNzIGV4dGVuZHMgUnl7Z2V0RGVmYXVsdCgpe3JldHVybiBudWxsfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLnVzZVByb2dyYW0oZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX07Y2xhc3MgZXggZXh0ZW5kcyBSeXtnZXREZWZhdWx0KCl7cmV0dXJuIHRoaXMuZ2wuVEVYVFVSRTB9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuYWN0aXZlVGV4dHVyZShlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIHR4IGV4dGVuZHMgUnl7Z2V0RGVmYXVsdCgpe2NvbnN0IGU9dGhpcy5nbDtyZXR1cm4gWzAsMCxlLmRyYXdpbmdCdWZmZXJXaWR0aCxlLmRyYXdpbmdCdWZmZXJIZWlnaHRdfXNldChlKXtjb25zdCB0PXRoaXMuY3VycmVudDsoZVswXSE9PXRbMF18fGVbMV0hPT10WzFdfHxlWzJdIT09dFsyXXx8ZVszXSE9PXRbM118fHRoaXMuZGlydHkpJiYodGhpcy5nbC52aWV3cG9ydChlWzBdLGVbMV0sZVsyXSxlWzNdKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIGl4IGV4dGVuZHMgUnl7Z2V0RGVmYXVsdCgpe3JldHVybiBudWxsfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO3QuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMTt9fWNsYXNzIHJ4IGV4dGVuZHMgUnl7Z2V0RGVmYXVsdCgpe3JldHVybiBudWxsfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO3QuYmluZFJlbmRlcmJ1ZmZlcih0LlJFTkRFUkJVRkZFUixlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExO319Y2xhc3MgbnggZXh0ZW5kcyBSeXtnZXREZWZhdWx0KCl7cmV0dXJuIG51bGx9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7dC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMTt9fWNsYXNzIG94IGV4dGVuZHMgUnl7Z2V0RGVmYXVsdCgpe3JldHVybiBudWxsfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO3QuYmluZEJ1ZmZlcih0LkFSUkFZX0JVRkZFUixlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExO319Y2xhc3Mgc3ggZXh0ZW5kcyBSeXtnZXREZWZhdWx0KCl7cmV0dXJuIG51bGx9c2V0KGUpe2NvbnN0IHQ9dGhpcy5nbDt0LmJpbmRCdWZmZXIodC5FTEVNRU5UX0FSUkFZX0JVRkZFUixlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExO319Y2xhc3MgYXggZXh0ZW5kcyBSeXtnZXREZWZhdWx0KCl7cmV0dXJuIG51bGx9c2V0KGUpe3RoaXMuZ2wmJihlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuYmluZFZlcnRleEFycmF5KGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgbHggZXh0ZW5kcyBSeXtnZXREZWZhdWx0KCl7cmV0dXJuIDR9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7dC5waXhlbFN0b3JlaSh0LlVOUEFDS19BTElHTk1FTlQsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMTt9fWNsYXNzIGN4IGV4dGVuZHMgUnl7Z2V0RGVmYXVsdCgpe3JldHVybiAhMX1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDt0LnBpeGVsU3RvcmVpKHQuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITE7fX1jbGFzcyBoeCBleHRlbmRzIFJ5e2dldERlZmF1bHQoKXtyZXR1cm4gITF9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7dC5waXhlbFN0b3JlaSh0LlVOUEFDS19GTElQX1lfV0VCR0wsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMTt9fWNsYXNzIHV4IGV4dGVuZHMgUnl7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlKSx0aGlzLmNvbnRleHQ9ZSx0aGlzLnBhcmVudD10O31nZXREZWZhdWx0KCl7cmV0dXJuIG51bGx9fWNsYXNzIGR4IGV4dGVuZHMgdXh7c2V0RGlydHkoKXt0aGlzLmRpcnR5PSEwO31zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO3RoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KHRoaXMucGFyZW50KTtjb25zdCB0PXRoaXMuZ2w7dC5mcmFtZWJ1ZmZlclRleHR1cmUyRCh0LkZSQU1FQlVGRkVSLHQuQ09MT1JfQVRUQUNITUVOVDAsdC5URVhUVVJFXzJELGUsMCksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMTt9fWNsYXNzIHB4IGV4dGVuZHMgdXh7YXR0YWNobWVudCgpe3JldHVybiB0aGlzLmdsLkRFUFRIX0FUVEFDSE1FTlR9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjt0aGlzLmNvbnRleHQuYmluZEZyYW1lYnVmZmVyLnNldCh0aGlzLnBhcmVudCk7Y29uc3QgdD10aGlzLmdsO3QuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIodC5GUkFNRUJVRkZFUix0aGlzLmF0dGFjaG1lbnQoKSx0LlJFTkRFUkJVRkZFUixlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExO319Y2xhc3MgZnggZXh0ZW5kcyB1eHthdHRhY2htZW50KCl7cmV0dXJuIHRoaXMuZ2wuREVQVEhfQVRUQUNITUVOVH1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO3RoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KHRoaXMucGFyZW50KTtjb25zdCB0PXRoaXMuZ2w7dC5mcmFtZWJ1ZmZlclRleHR1cmUyRCh0LkZSQU1FQlVGRkVSLHRoaXMuYXR0YWNobWVudCgpLHQuVEVYVFVSRV8yRCxlLDApLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITE7fX1jbGFzcyBteCBleHRlbmRzIHB4e2F0dGFjaG1lbnQoKXtyZXR1cm4gdGhpcy5nbC5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlR9fWNsYXNzIF94e2NvbnN0cnVjdG9yKGUsdCxpLHIsbil7dGhpcy5jb250ZXh0PWUsdGhpcy53aWR0aD10LHRoaXMuaGVpZ2h0PWk7Y29uc3Qgbz10aGlzLmZyYW1lYnVmZmVyPWUuZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtyJiYodGhpcy5jb2xvckF0dGFjaG1lbnQ9bmV3IGR4KGUsbykpLG4mJih0aGlzLmRlcHRoQXR0YWNobWVudFR5cGU9bix0aGlzLmRlcHRoQXR0YWNobWVudD1cInJlbmRlcmJ1ZmZlclwiPT09bj9uZXcgcHgoZSxvKTpuZXcgZngoZSxvKSk7fWRlc3Ryb3koKXtjb25zdCBlPXRoaXMuY29udGV4dC5nbDtpZih0aGlzLmNvbG9yQXR0YWNobWVudCl7Y29uc3QgdD10aGlzLmNvbG9yQXR0YWNobWVudC5nZXQoKTt0JiZlLmRlbGV0ZVRleHR1cmUodCk7fWlmKHRoaXMuZGVwdGhBdHRhY2htZW50JiZ0aGlzLmRlcHRoQXR0YWNobWVudFR5cGUpaWYoXCJyZW5kZXJidWZmZXJcIj09PXRoaXMuZGVwdGhBdHRhY2htZW50VHlwZSl7Y29uc3QgdD10aGlzLmRlcHRoQXR0YWNobWVudC5nZXQoKTt0JiZlLmRlbGV0ZVJlbmRlcmJ1ZmZlcih0KTt9ZWxzZSB7Y29uc3QgdD10aGlzLmRlcHRoQXR0YWNobWVudC5nZXQoKTt0JiZlLmRlbGV0ZVRleHR1cmUodCk7fWUuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5mcmFtZWJ1ZmZlcik7fX1jbGFzcyBneHtjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5mdW5jPWUsdGhpcy5tYXNrPXQsdGhpcy5yYW5nZT1pO319Z3guUmVhZE9ubHk9ITEsZ3guUmVhZFdyaXRlPSEwLGd4LmRpc2FibGVkPW5ldyBneCg1MTksZ3guUmVhZE9ubHksWzAsMV0pO2NvbnN0IHl4PTc2ODA7Y2xhc3MgeHh7Y29uc3RydWN0b3IoZSx0LGkscixuLG8pe3RoaXMudGVzdD1lLHRoaXMucmVmPXQsdGhpcy5tYXNrPWksdGhpcy5mYWlsPXIsdGhpcy5kZXB0aEZhaWw9bix0aGlzLnBhc3M9bzt9fXh4LmRpc2FibGVkPW5ldyB4eCh7ZnVuYzo1MTksbWFzazowfSwwLDAseXgseXgseXgpO2NvbnN0IHZ4PTc3MTtjbGFzcyBieHtjb25zdHJ1Y3RvcihlLHQsaSxyKXt0aGlzLmJsZW5kRnVuY3Rpb249ZSx0aGlzLmJsZW5kQ29sb3I9dCx0aGlzLm1hc2s9aSx0aGlzLmJsZW5kRXF1YXRpb249cjt9fWJ4LlJlcGxhY2U9WzEsMCwxLDBdLGJ4LmRpc2FibGVkPW5ldyBieChieC5SZXBsYWNlLGxpLnRyYW5zcGFyZW50LFshMSwhMSwhMSwhMV0pLGJ4LnVuYmxlbmRlZD1uZXcgYngoYnguUmVwbGFjZSxsaS50cmFuc3BhcmVudCxbITAsITAsITAsITBdKSxieC5hbHBoYUJsZW5kZWQ9bmV3IGJ4KFsxLHZ4LDEsdnhdLGxpLnRyYW5zcGFyZW50LFshMCwhMCwhMCwhMF0pLGJ4Lm11bHRpcGx5PW5ldyBieChbNzc0LDAsNzc0LDBdLGxpLnRyYW5zcGFyZW50LFshMCwhMCwhMCwhMF0pO2NvbnN0IHd4PTEwMjksVHg9MjMwNTtjbGFzcyBFeHtjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5lbmFibGU9ZSx0aGlzLm1vZGU9dCx0aGlzLmZyb250RmFjZT1pO319RXguZGlzYWJsZWQ9bmV3IEV4KCExLHd4LFR4KSxFeC5iYWNrQ0NXPW5ldyBFeCghMCx3eCxUeCksRXguYmFja0NXPW5ldyBFeCghMCx3eCwyMzA0KSxFeC5mcm9udENXPW5ldyBFeCghMCwxMDI4LDIzMDQpLEV4LmZyb250Q0NXPW5ldyBFeCghMCwxMDI4LFR4KTtjbGFzcyBNeHtjb25zdHJ1Y3RvcihlKXt0aGlzLmdsPWUsdGhpcy5jbGVhckNvbG9yPW5ldyBMeSh0aGlzKSx0aGlzLmNsZWFyRGVwdGg9bmV3IGt5KHRoaXMpLHRoaXMuY2xlYXJTdGVuY2lsPW5ldyBPeSh0aGlzKSx0aGlzLmNvbG9yTWFzaz1uZXcgQnkodGhpcyksdGhpcy5kZXB0aE1hc2s9bmV3IEZ5KHRoaXMpLHRoaXMuc3RlbmNpbE1hc2s9bmV3IE55KHRoaXMpLHRoaXMuc3RlbmNpbEZ1bmM9bmV3IFV5KHRoaXMpLHRoaXMuc3RlbmNpbE9wPW5ldyBWeSh0aGlzKSx0aGlzLnN0ZW5jaWxUZXN0PW5ldyBqeSh0aGlzKSx0aGlzLmRlcHRoUmFuZ2U9bmV3IEd5KHRoaXMpLHRoaXMuZGVwdGhUZXN0PW5ldyBxeSh0aGlzKSx0aGlzLmRlcHRoRnVuYz1uZXcgWnkodGhpcyksdGhpcy5ibGVuZD1uZXcgJHkodGhpcyksdGhpcy5ibGVuZEZ1bmM9bmV3IEh5KHRoaXMpLHRoaXMuYmxlbmRDb2xvcj1uZXcgV3kodGhpcyksdGhpcy5ibGVuZEVxdWF0aW9uPW5ldyBYeSh0aGlzKSx0aGlzLmN1bGxGYWNlPW5ldyBZeSh0aGlzKSx0aGlzLmN1bGxGYWNlU2lkZT1uZXcgS3kodGhpcyksdGhpcy5mcm9udEZhY2U9bmV3IEp5KHRoaXMpLHRoaXMucHJvZ3JhbT1uZXcgUXkodGhpcyksdGhpcy5hY3RpdmVUZXh0dXJlPW5ldyBleCh0aGlzKSx0aGlzLnZpZXdwb3J0PW5ldyB0eCh0aGlzKSx0aGlzLmJpbmRGcmFtZWJ1ZmZlcj1uZXcgaXgodGhpcyksdGhpcy5iaW5kUmVuZGVyYnVmZmVyPW5ldyByeCh0aGlzKSx0aGlzLmJpbmRUZXh0dXJlPW5ldyBueCh0aGlzKSx0aGlzLmJpbmRWZXJ0ZXhCdWZmZXI9bmV3IG94KHRoaXMpLHRoaXMuYmluZEVsZW1lbnRCdWZmZXI9bmV3IHN4KHRoaXMpLHRoaXMuYmluZFZlcnRleEFycmF5T0VTPW5ldyBheCh0aGlzKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2s9bmV3IGx4KHRoaXMpLHRoaXMucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGE9bmV3IGN4KHRoaXMpLHRoaXMucGl4ZWxTdG9yZVVucGFja0ZsaXBZPW5ldyBoeCh0aGlzKSx0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYz1lLmdldEV4dGVuc2lvbihcIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpY1wiKXx8ZS5nZXRFeHRlbnNpb24oXCJNT1pfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCIpfHxlLmdldEV4dGVuc2lvbihcIldFQktJVF9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWNcIiksdGhpcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMmJih0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heD1lLmdldFBhcmFtZXRlcih0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYy5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpKSx0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY0ZvcmNlT2ZmPSExLHRoaXMuZXh0U3RhbmRhcmREZXJpdmF0aXZlc0ZvcmNlT2ZmPSExLHRoaXMuZXh0RGVidWdSZW5kZXJlckluZm89ZS5nZXRFeHRlbnNpb24oXCJXRUJHTF9kZWJ1Z19yZW5kZXJlcl9pbmZvXCIpLHRoaXMuZXh0RGVidWdSZW5kZXJlckluZm8mJih0aGlzLnJlbmRlcmVyPWUuZ2V0UGFyYW1ldGVyKHRoaXMuZXh0RGVidWdSZW5kZXJlckluZm8uVU5NQVNLRURfUkVOREVSRVJfV0VCR0wpLHRoaXMudmVuZG9yPWUuZ2V0UGFyYW1ldGVyKHRoaXMuZXh0RGVidWdSZW5kZXJlckluZm8uVU5NQVNLRURfVkVORE9SX1dFQkdMKSksdGhpcy5leHRUZXh0dXJlRmxvYXRMaW5lYXI9ZS5nZXRFeHRlbnNpb24oXCJPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXJcIiksdGhpcy5leHRSZW5kZXJUb1RleHR1cmVIYWxmRmxvYXQ9ZS5nZXRFeHRlbnNpb24oXCJFWFRfY29sb3JfYnVmZmVyX2hhbGZfZmxvYXRcIiksdGhpcy5leHRUaW1lclF1ZXJ5PWUuZ2V0RXh0ZW5zaW9uKFwiRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5X3dlYmdsMlwiKSx0aGlzLm1heFRleHR1cmVTaXplPWUuZ2V0UGFyYW1ldGVyKGUuTUFYX1RFWFRVUkVfU0laRSk7fXNldERlZmF1bHQoKXt0aGlzLnVuYmluZFZBTygpLHRoaXMuY2xlYXJDb2xvci5zZXREZWZhdWx0KCksdGhpcy5jbGVhckRlcHRoLnNldERlZmF1bHQoKSx0aGlzLmNsZWFyU3RlbmNpbC5zZXREZWZhdWx0KCksdGhpcy5jb2xvck1hc2suc2V0RGVmYXVsdCgpLHRoaXMuZGVwdGhNYXNrLnNldERlZmF1bHQoKSx0aGlzLnN0ZW5jaWxNYXNrLnNldERlZmF1bHQoKSx0aGlzLnN0ZW5jaWxGdW5jLnNldERlZmF1bHQoKSx0aGlzLnN0ZW5jaWxPcC5zZXREZWZhdWx0KCksdGhpcy5zdGVuY2lsVGVzdC5zZXREZWZhdWx0KCksdGhpcy5kZXB0aFJhbmdlLnNldERlZmF1bHQoKSx0aGlzLmRlcHRoVGVzdC5zZXREZWZhdWx0KCksdGhpcy5kZXB0aEZ1bmMuc2V0RGVmYXVsdCgpLHRoaXMuYmxlbmQuc2V0RGVmYXVsdCgpLHRoaXMuYmxlbmRGdW5jLnNldERlZmF1bHQoKSx0aGlzLmJsZW5kQ29sb3Iuc2V0RGVmYXVsdCgpLHRoaXMuYmxlbmRFcXVhdGlvbi5zZXREZWZhdWx0KCksdGhpcy5jdWxsRmFjZS5zZXREZWZhdWx0KCksdGhpcy5jdWxsRmFjZVNpZGUuc2V0RGVmYXVsdCgpLHRoaXMuZnJvbnRGYWNlLnNldERlZmF1bHQoKSx0aGlzLnByb2dyYW0uc2V0RGVmYXVsdCgpLHRoaXMuYWN0aXZlVGV4dHVyZS5zZXREZWZhdWx0KCksdGhpcy5iaW5kRnJhbWVidWZmZXIuc2V0RGVmYXVsdCgpLHRoaXMucGl4ZWxTdG9yZVVucGFjay5zZXREZWZhdWx0KCksdGhpcy5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5zZXREZWZhdWx0KCksdGhpcy5waXhlbFN0b3JlVW5wYWNrRmxpcFkuc2V0RGVmYXVsdCgpO31zZXREaXJ0eSgpe3RoaXMuY2xlYXJDb2xvci5kaXJ0eT0hMCx0aGlzLmNsZWFyRGVwdGguZGlydHk9ITAsdGhpcy5jbGVhclN0ZW5jaWwuZGlydHk9ITAsdGhpcy5jb2xvck1hc2suZGlydHk9ITAsdGhpcy5kZXB0aE1hc2suZGlydHk9ITAsdGhpcy5zdGVuY2lsTWFzay5kaXJ0eT0hMCx0aGlzLnN0ZW5jaWxGdW5jLmRpcnR5PSEwLHRoaXMuc3RlbmNpbE9wLmRpcnR5PSEwLHRoaXMuc3RlbmNpbFRlc3QuZGlydHk9ITAsdGhpcy5kZXB0aFJhbmdlLmRpcnR5PSEwLHRoaXMuZGVwdGhUZXN0LmRpcnR5PSEwLHRoaXMuZGVwdGhGdW5jLmRpcnR5PSEwLHRoaXMuYmxlbmQuZGlydHk9ITAsdGhpcy5ibGVuZEZ1bmMuZGlydHk9ITAsdGhpcy5ibGVuZENvbG9yLmRpcnR5PSEwLHRoaXMuYmxlbmRFcXVhdGlvbi5kaXJ0eT0hMCx0aGlzLmN1bGxGYWNlLmRpcnR5PSEwLHRoaXMuY3VsbEZhY2VTaWRlLmRpcnR5PSEwLHRoaXMuZnJvbnRGYWNlLmRpcnR5PSEwLHRoaXMucHJvZ3JhbS5kaXJ0eT0hMCx0aGlzLmFjdGl2ZVRleHR1cmUuZGlydHk9ITAsdGhpcy52aWV3cG9ydC5kaXJ0eT0hMCx0aGlzLmJpbmRGcmFtZWJ1ZmZlci5kaXJ0eT0hMCx0aGlzLmJpbmRSZW5kZXJidWZmZXIuZGlydHk9ITAsdGhpcy5iaW5kVGV4dHVyZS5kaXJ0eT0hMCx0aGlzLmJpbmRWZXJ0ZXhCdWZmZXIuZGlydHk9ITAsdGhpcy5iaW5kRWxlbWVudEJ1ZmZlci5kaXJ0eT0hMCx0aGlzLmJpbmRWZXJ0ZXhBcnJheU9FUy5kaXJ0eT0hMCx0aGlzLnBpeGVsU3RvcmVVbnBhY2suZGlydHk9ITAsdGhpcy5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5kaXJ0eT0hMCx0aGlzLnBpeGVsU3RvcmVVbnBhY2tGbGlwWS5kaXJ0eT0hMDt9Y3JlYXRlSW5kZXhCdWZmZXIoZSx0LGkpe3JldHVybiBuZXcgenkodGhpcyxlLHQsaSl9Y3JlYXRlVmVydGV4QnVmZmVyKGUsdCxpLHIsbil7cmV0dXJuIG5ldyBQeSh0aGlzLGUsdCxpLHIsbil9Y3JlYXRlUmVuZGVyYnVmZmVyKGUsdCxpKXtjb25zdCByPXRoaXMuZ2wsbj1yLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO3JldHVybiB0aGlzLmJpbmRSZW5kZXJidWZmZXIuc2V0KG4pLHIucmVuZGVyYnVmZmVyU3RvcmFnZShyLlJFTkRFUkJVRkZFUixlLHQsaSksdGhpcy5iaW5kUmVuZGVyYnVmZmVyLnNldChudWxsKSxufWNyZWF0ZUZyYW1lYnVmZmVyKGUsdCxpLHIpe3JldHVybiBuZXcgX3godGhpcyxlLHQsaSxyKX1jbGVhcih7Y29sb3I6ZSxkZXB0aDp0LHN0ZW5jaWw6aSxjb2xvck1hc2s6cn0pe2NvbnN0IG49dGhpcy5nbDtsZXQgbz0wO2UmJihvfD1uLkNPTE9SX0JVRkZFUl9CSVQsdGhpcy5jbGVhckNvbG9yLnNldChlKSx0aGlzLmNvbG9yTWFzay5zZXQocnx8WyEwLCEwLCEwLCEwXSkpLHZvaWQgMCE9PXQmJihvfD1uLkRFUFRIX0JVRkZFUl9CSVQsdGhpcy5kZXB0aFJhbmdlLnNldChbMCwxXSksdGhpcy5jbGVhckRlcHRoLnNldCh0KSx0aGlzLmRlcHRoTWFzay5zZXQoITApKSx2b2lkIDAhPT1pJiYob3w9bi5TVEVOQ0lMX0JVRkZFUl9CSVQsdGhpcy5jbGVhclN0ZW5jaWwuc2V0KGkpLHRoaXMuc3RlbmNpbE1hc2suc2V0KDI1NSkpLG4uY2xlYXIobyk7fXNldEN1bGxGYWNlKGUpeyExPT09ZS5lbmFibGU/dGhpcy5jdWxsRmFjZS5zZXQoITEpOih0aGlzLmN1bGxGYWNlLnNldCghMCksdGhpcy5jdWxsRmFjZVNpZGUuc2V0KGUubW9kZSksdGhpcy5mcm9udEZhY2Uuc2V0KGUuZnJvbnRGYWNlKSk7fXNldERlcHRoTW9kZShlKXtlLmZ1bmMhPT10aGlzLmdsLkFMV0FZU3x8ZS5tYXNrPyh0aGlzLmRlcHRoVGVzdC5zZXQoITApLHRoaXMuZGVwdGhGdW5jLnNldChlLmZ1bmMpLHRoaXMuZGVwdGhNYXNrLnNldChlLm1hc2spLHRoaXMuZGVwdGhSYW5nZS5zZXQoZS5yYW5nZSkpOnRoaXMuZGVwdGhUZXN0LnNldCghMSk7fXNldFN0ZW5jaWxNb2RlKGUpe2UudGVzdC5mdW5jIT09dGhpcy5nbC5BTFdBWVN8fGUubWFzaz8odGhpcy5zdGVuY2lsVGVzdC5zZXQoITApLHRoaXMuc3RlbmNpbE1hc2suc2V0KGUubWFzayksdGhpcy5zdGVuY2lsT3Auc2V0KFtlLmZhaWwsZS5kZXB0aEZhaWwsZS5wYXNzXSksdGhpcy5zdGVuY2lsRnVuYy5zZXQoe2Z1bmM6ZS50ZXN0LmZ1bmMscmVmOmUucmVmLG1hc2s6ZS50ZXN0Lm1hc2t9KSk6dGhpcy5zdGVuY2lsVGVzdC5zZXQoITEpO31zZXRDb2xvck1vZGUoZSl7eChlLmJsZW5kRnVuY3Rpb24sYnguUmVwbGFjZSk/dGhpcy5ibGVuZC5zZXQoITEpOih0aGlzLmJsZW5kLnNldCghMCksdGhpcy5ibGVuZEZ1bmMuc2V0KGUuYmxlbmRGdW5jdGlvbiksdGhpcy5ibGVuZENvbG9yLnNldChlLmJsZW5kQ29sb3IpLGUuYmxlbmRFcXVhdGlvbj90aGlzLmJsZW5kRXF1YXRpb24uc2V0KGUuYmxlbmRFcXVhdGlvbik6dGhpcy5ibGVuZEVxdWF0aW9uLnNldERlZmF1bHQoKSksdGhpcy5jb2xvck1hc2suc2V0KGUubWFzayk7fXVuYmluZFZBTygpe3RoaXMuYmluZFZlcnRleEFycmF5T0VTLnNldChudWxsKTt9fWNsYXNzIEF4IGV4dGVuZHMgSXR7Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKCksdGhpcy5pZD1lLHRoaXMuX29ubHlTeW1ib2xzPWksdC5vbihcImRhdGFcIiwoZT0+e1wic291cmNlXCI9PT1lLmRhdGFUeXBlJiZcIm1ldGFkYXRhXCI9PT1lLnNvdXJjZURhdGFUeXBlJiYodGhpcy5fc291cmNlTG9hZGVkPSEwKSx0aGlzLl9zb3VyY2VMb2FkZWQmJiF0aGlzLl9wYXVzZWQmJlwic291cmNlXCI9PT1lLmRhdGFUeXBlJiZcImNvbnRlbnRcIj09PWUuc291cmNlRGF0YVR5cGUmJih0aGlzLnJlbG9hZCgpLHRoaXMudHJhbnNmb3JtJiZ0aGlzLnVwZGF0ZSh0aGlzLnRyYW5zZm9ybSkpO30pKSx0Lm9uKFwiZXJyb3JcIiwoKCk9Pnt0aGlzLl9zb3VyY2VFcnJvcmVkPSEwO30pKSx0aGlzLl9zb3VyY2U9dCx0aGlzLl90aWxlcz17fSx0aGlzLl9jYWNoZT1uZXcgQ3koMCx0aGlzLl91bmxvYWRUaWxlLmJpbmQodGhpcykpLHRoaXMuX3RpbWVycz17fSx0aGlzLl9jYWNoZVRpbWVycz17fSx0aGlzLl9taW5UaWxlQ2FjaGVTaXplPXQubWluVGlsZUNhY2hlU2l6ZSx0aGlzLl9tYXhUaWxlQ2FjaGVTaXplPXQubWF4VGlsZUNhY2hlU2l6ZSx0aGlzLl9sb2FkZWRQYXJlbnRUaWxlcz17fSx0aGlzLmNhc3RzU2hhZG93cz0hMSx0aGlzLl9jb3ZlcmVkVGlsZXM9e30sdGhpcy5fc2hhZG93Q2FzdGVyVGlsZXM9e30sdGhpcy5fc3RhdGU9bmV3IHptLHRoaXMuX2lzUmFzdGVyPVwicmFzdGVyXCI9PT10aGlzLl9zb3VyY2UudHlwZXx8XCJyYXN0ZXItZGVtXCI9PT10aGlzLl9zb3VyY2UudHlwZXx8XCJjdXN0b21cIj09PXRoaXMuX3NvdXJjZS50eXBlJiZcInJhc3RlclwiPT09dGhpcy5fc291cmNlLl9kYXRhVHlwZTt9b25BZGQoZSl7dGhpcy5tYXA9ZSx0aGlzLl9taW5UaWxlQ2FjaGVTaXplPXZvaWQgMD09PXRoaXMuX21pblRpbGVDYWNoZVNpemUmJmU/ZS5fbWluVGlsZUNhY2hlU2l6ZTp0aGlzLl9taW5UaWxlQ2FjaGVTaXplLHRoaXMuX21heFRpbGVDYWNoZVNpemU9dm9pZCAwPT09dGhpcy5fbWF4VGlsZUNhY2hlU2l6ZSYmZT9lLl9tYXhUaWxlQ2FjaGVTaXplOnRoaXMuX21heFRpbGVDYWNoZVNpemU7fWxvYWRlZCgpe2lmKHRoaXMuX3NvdXJjZUVycm9yZWQpcmV0dXJuICEwO2lmKCF0aGlzLl9zb3VyY2VMb2FkZWQpcmV0dXJuICExO2lmKCF0aGlzLl9zb3VyY2UubG9hZGVkKCkpcmV0dXJuICExO2Zvcihjb25zdCBlIGluIHRoaXMuX3RpbGVzKXtjb25zdCB0PXRoaXMuX3RpbGVzW2VdO2lmKFwiZXJyb3JlZFwiIT09dC5zdGF0ZSYmKFwibG9hZGVkXCIhPT10LnN0YXRlfHwhdC5idWNrZXRzTG9hZGVkKCkpKXJldHVybiAhMX1yZXR1cm4gITB9Z2V0U291cmNlKCl7cmV0dXJuIHRoaXMuX3NvdXJjZX1wYXVzZSgpe3RoaXMuX3BhdXNlZD0hMDt9cmVzdW1lKCl7aWYoIXRoaXMuX3BhdXNlZClyZXR1cm47Y29uc3QgZT10aGlzLl9zaG91bGRSZWxvYWRPblJlc3VtZTt0aGlzLl9wYXVzZWQ9ITEsdGhpcy5fc2hvdWxkUmVsb2FkT25SZXN1bWU9ITEsZSYmdGhpcy5yZWxvYWQoKSx0aGlzLnRyYW5zZm9ybSYmdGhpcy51cGRhdGUodGhpcy50cmFuc2Zvcm0pO31fbG9hZFRpbGUoZSx0KXtyZXR1cm4gZS5pc1N5bWJvbFRpbGU9dGhpcy5fb25seVN5bWJvbHMsZS5pc0V4dHJhU2hhZG93Q2FzdGVyPXRoaXMuX3NoYWRvd0Nhc3RlclRpbGVzW2UudGlsZUlELmtleV0sdGhpcy5fc291cmNlLmxvYWRUaWxlKGUsdCl9X3VubG9hZFRpbGUoZSl7aWYodGhpcy5fc291cmNlLnVubG9hZFRpbGUpcmV0dXJuIHRoaXMuX3NvdXJjZS51bmxvYWRUaWxlKGUsKCgpPT57fSkpfV9hYm9ydFRpbGUoZSl7aWYodGhpcy5fc291cmNlLmFib3J0VGlsZSlyZXR1cm4gdGhpcy5fc291cmNlLmFib3J0VGlsZShlLCgoKT0+e30pKX1zZXJpYWxpemUoKXtyZXR1cm4gdGhpcy5fc291cmNlLnNlcmlhbGl6ZSgpfXByZXBhcmUoZSl7dGhpcy5fc291cmNlLnByZXBhcmUmJnRoaXMuX3NvdXJjZS5wcmVwYXJlKCksdGhpcy5fc3RhdGUuY29hbGVzY2VDaGFuZ2VzKHRoaXMuX3RpbGVzLHRoaXMubWFwP3RoaXMubWFwLnBhaW50ZXI6bnVsbCk7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fdGlsZXMpe2NvbnN0IGk9dGhpcy5fdGlsZXNbdF07aS51cGxvYWQoZSksaS5wcmVwYXJlKHRoaXMubWFwLnN0eWxlLmltYWdlTWFuYWdlcix0aGlzLm1hcD90aGlzLm1hcC5wYWludGVyOm51bGwsdGhpcy5fc291cmNlLnNjb3BlKTt9fWdldElkcygpe3JldHVybiBMKHRoaXMuX3RpbGVzKS5tYXAoKGU9PmUudGlsZUlEKSkuc29ydChTeCkubWFwKChlPT5lLmtleSkpfWdldFJlbmRlcmFibGVJZHMoZSx0KXtjb25zdCBpPVtdO2Zvcihjb25zdCByIGluIHRoaXMuX3RpbGVzKXRoaXMuX2lzSWRSZW5kZXJhYmxlKCtyLGUsdCkmJmkucHVzaCh0aGlzLl90aWxlc1tyXSk7cmV0dXJuIGU/aS5zb3J0KCgoZSx0KT0+e2NvbnN0IGk9ZS50aWxlSUQscj10LnRpbGVJRCxuPW5ldyB5KGkuY2Fub25pY2FsLngsaS5jYW5vbmljYWwueSkuX3JvdGF0ZSh0aGlzLnRyYW5zZm9ybS5hbmdsZSksbz1uZXcgeShyLmNhbm9uaWNhbC54LHIuY2Fub25pY2FsLnkpLl9yb3RhdGUodGhpcy50cmFuc2Zvcm0uYW5nbGUpO3JldHVybiBpLm92ZXJzY2FsZWRaLXIub3ZlcnNjYWxlZFp8fG8ueS1uLnl8fG8ueC1uLnh9KSkubWFwKChlPT5lLnRpbGVJRC5rZXkpKTppLm1hcCgoZT0+ZS50aWxlSUQpKS5zb3J0KFN4KS5tYXAoKGU9PmUua2V5KSl9aGFzUmVuZGVyYWJsZVBhcmVudChlKXtjb25zdCB0PXRoaXMuZmluZExvYWRlZFBhcmVudChlLDApO3JldHVybiAhIXQmJnRoaXMuX2lzSWRSZW5kZXJhYmxlKHQudGlsZUlELmtleSl9X2lzSWRSZW5kZXJhYmxlKGUsdCxpKXtyZXR1cm4gdGhpcy5fdGlsZXNbZV0mJnRoaXMuX3RpbGVzW2VdLmhhc0RhdGEoKSYmIXRoaXMuX2NvdmVyZWRUaWxlc1tlXSYmKHR8fCF0aGlzLl90aWxlc1tlXS5ob2xkaW5nRm9yRmFkZSgpKSYmKGl8fCF0aGlzLl9zaGFkb3dDYXN0ZXJUaWxlc1tlXSl9cmVsb2FkKCl7aWYodGhpcy5fcGF1c2VkKXRoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lPSEwO2Vsc2Uge3RoaXMuX2NhY2hlLnJlc2V0KCk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdGlsZXMpXCJlcnJvcmVkXCIhPT10aGlzLl90aWxlc1tlXS5zdGF0ZSYmdGhpcy5fcmVsb2FkVGlsZSgrZSxcInJlbG9hZGluZ1wiKTt9fV9yZWxvYWRUaWxlKGUsdCl7Y29uc3QgaT10aGlzLl90aWxlc1tlXTtpJiYoXCJsb2FkaW5nXCIhPT1pLnN0YXRlJiYoaS5zdGF0ZT10KSx0aGlzLl9sb2FkVGlsZShpLHRoaXMuX3RpbGVMb2FkZWQuYmluZCh0aGlzLGksZSx0KSkpO31fdGlsZUxvYWRlZChlLHQsaSxyKXtpZihyKWlmKGUuc3RhdGU9XCJlcnJvcmVkXCIsNDA0IT09ci5zdGF0dXMpdGhpcy5fc291cmNlLmZpcmUobmV3IFN0KHIse3RpbGU6ZX0pKTtlbHNlIGlmKFwicmFzdGVyLWRlbVwiPT09dGhpcy5fc291cmNlLnR5cGUmJnRoaXMudXNlZEZvclRlcnJhaW4mJnRoaXMubWFwLnBhaW50ZXIudGVycmFpbil7Y29uc3QgZT10aGlzLm1hcC5wYWludGVyLnRlcnJhaW47dGhpcy51cGRhdGUodGhpcy50cmFuc2Zvcm0sZS5nZXRTY2FsZWREZW1UaWxlU2l6ZSgpLCEwKSxlLnJlc2V0VGlsZUxvb2t1cENhY2hlKHRoaXMuaWQpO31lbHNlIHRoaXMudXBkYXRlKHRoaXMudHJhbnNmb3JtKTtlbHNlIGUudGltZUFkZGVkPWh0Lm5vdygpLFwiZXhwaXJlZFwiPT09aSYmKGUucmVmcmVzaGVkVXBvbkV4cGlyYXRpb249ITApLHRoaXMuX3NldFRpbGVSZWxvYWRUaW1lcih0LGUpLFwicmFzdGVyLWRlbVwiPT09dGhpcy5fc291cmNlLnR5cGUmJmUuZGVtJiZ0aGlzLl9iYWNrZmlsbERFTShlKSx0aGlzLl9zdGF0ZS5pbml0aWFsaXplVGlsZVN0YXRlKGUsdGhpcy5tYXA/dGhpcy5tYXAucGFpbnRlcjpudWxsKSx0aGlzLl9zb3VyY2UuZmlyZShuZXcgQXQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsdGlsZTplLGNvb3JkOmUudGlsZUlELHNvdXJjZUNhY2hlSWQ6dGhpcy5pZH0pKTt9X2JhY2tmaWxsREVNKGUpe2NvbnN0IHQ9dGhpcy5nZXRSZW5kZXJhYmxlSWRzKCk7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IG49dFtyXTtpZihlLm5laWdoYm9yaW5nVGlsZXMmJmUubmVpZ2hib3JpbmdUaWxlc1tuXSl7Y29uc3QgdD10aGlzLmdldFRpbGVCeUlEKG4pO2koZSx0KSxpKHQsZSk7fX1mdW5jdGlvbiBpKGUsdCl7aWYoIWUuZGVtfHxlLmRlbS5ib3JkZXJSZWFkeSlyZXR1cm47ZS5uZWVkc0hpbGxzaGFkZVByZXBhcmU9ITAsZS5uZWVkc0RFTVRleHR1cmVVcGxvYWQ9ITA7bGV0IGk9dC50aWxlSUQuY2Fub25pY2FsLngtZS50aWxlSUQuY2Fub25pY2FsLng7Y29uc3Qgcj10LnRpbGVJRC5jYW5vbmljYWwueS1lLnRpbGVJRC5jYW5vbmljYWwueSxuPU1hdGgucG93KDIsZS50aWxlSUQuY2Fub25pY2FsLnopLG89dC50aWxlSUQua2V5OzA9PT1pJiYwPT09cnx8TWF0aC5hYnMocik+MXx8KE1hdGguYWJzKGkpPjEmJigxPT09TWF0aC5hYnMoaStuKT9pKz1uOjE9PT1NYXRoLmFicyhpLW4pJiYoaS09bikpLHQuZGVtJiZlLmRlbSYmKGUuZGVtLmJhY2tmaWxsQm9yZGVyKHQuZGVtLGksciksZS5uZWlnaGJvcmluZ1RpbGVzJiZlLm5laWdoYm9yaW5nVGlsZXNbb10mJihlLm5laWdoYm9yaW5nVGlsZXNbb10uYmFja2ZpbGxlZD0hMCkpKTt9fWdldFRpbGUoZSl7cmV0dXJuIHRoaXMuZ2V0VGlsZUJ5SUQoZS5rZXkpfWdldFRpbGVCeUlEKGUpe3JldHVybiB0aGlzLl90aWxlc1tlXX1fcmV0YWluTG9hZGVkQ2hpbGRyZW4oZSx0LGkscil7Zm9yKGNvbnN0IG4gaW4gdGhpcy5fdGlsZXMpe2xldCBvPXRoaXMuX3RpbGVzW25dO2lmKHJbbl18fCFvLmhhc0RhdGEoKXx8by50aWxlSUQub3ZlcnNjYWxlZFo8PXR8fG8udGlsZUlELm92ZXJzY2FsZWRaPmkpY29udGludWU7bGV0IHM9by50aWxlSUQ7Zm9yKDtvJiZvLnRpbGVJRC5vdmVyc2NhbGVkWj50KzE7KXtjb25zdCBlPW8udGlsZUlELnNjYWxlZFRvKG8udGlsZUlELm92ZXJzY2FsZWRaLTEpO289dGhpcy5fdGlsZXNbZS5rZXldLG8mJm8uaGFzRGF0YSgpJiYocz1lKTt9bGV0IGE9cztmb3IoO2Eub3ZlcnNjYWxlZFo+dDspaWYoYT1hLnNjYWxlZFRvKGEub3ZlcnNjYWxlZFotMSksZVthLmtleV0pe3Jbcy5rZXldPXM7YnJlYWt9fX1maW5kTG9hZGVkUGFyZW50KGUsdCl7aWYoZS5rZXkgaW4gdGhpcy5fbG9hZGVkUGFyZW50VGlsZXMpe2NvbnN0IGk9dGhpcy5fbG9hZGVkUGFyZW50VGlsZXNbZS5rZXldO3JldHVybiBpJiZpLnRpbGVJRC5vdmVyc2NhbGVkWj49dD9pOm51bGx9Zm9yKGxldCBpPWUub3ZlcnNjYWxlZFotMTtpPj10O2ktLSl7Y29uc3QgdD1lLnNjYWxlZFRvKGkpLHI9dGhpcy5fZ2V0TG9hZGVkVGlsZSh0KTtpZihyKXJldHVybiByfX1fZ2V0TG9hZGVkVGlsZShlKXtjb25zdCB0PXRoaXMuX3RpbGVzW2Uua2V5XTtyZXR1cm4gdCYmdC5oYXNEYXRhKCk/dDp0aGlzLl9jYWNoZS5nZXRCeUtleSh0aGlzLl9zb3VyY2UucmVwYXJzZU92ZXJzY2FsZWQ/ZS53cmFwcGVkKCkua2V5OmUuY2Fub25pY2FsLmtleSl9dXBkYXRlQ2FjaGVTaXplKGUsdCl7dD10fHx0aGlzLl9zb3VyY2UudGlsZVNpemU7Y29uc3QgaT1NYXRoLmNlaWwoZS53aWR0aC90KSsxLHI9TWF0aC5jZWlsKGUuaGVpZ2h0L3QpKzEsbj1NYXRoLmZsb29yKGkqcio1KSxvPVwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLl9taW5UaWxlQ2FjaGVTaXplP01hdGgubWF4KHRoaXMuX21pblRpbGVDYWNoZVNpemUsbik6bixzPVwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLl9tYXhUaWxlQ2FjaGVTaXplP01hdGgubWluKHRoaXMuX21heFRpbGVDYWNoZVNpemUsbyk6bzt0aGlzLl9jYWNoZS5zZXRNYXhTaXplKHMpO31oYW5kbGVXcmFwSnVtcChlKXtjb25zdCB0PU1hdGgucm91bmQoKGUtKHZvaWQgMD09PXRoaXMuX3ByZXZMbmc/ZTp0aGlzLl9wcmV2TG5nKSkvMzYwKTtpZih0aGlzLl9wcmV2TG5nPWUsdCl7Y29uc3QgZT17fTtmb3IoY29uc3QgaSBpbiB0aGlzLl90aWxlcyl7Y29uc3Qgcj10aGlzLl90aWxlc1tpXTtyLnRpbGVJRD1yLnRpbGVJRC51bndyYXBUbyhyLnRpbGVJRC53cmFwK3QpLGVbci50aWxlSUQua2V5XT1yO310aGlzLl90aWxlcz1lO2Zvcihjb25zdCBlIGluIHRoaXMuX3RpbWVycyljbGVhclRpbWVvdXQodGhpcy5fdGltZXJzW2VdKSxkZWxldGUgdGhpcy5fdGltZXJzW2VdO2Zvcihjb25zdCBlIGluIHRoaXMuX3RpbGVzKXRoaXMuX3NldFRpbGVSZWxvYWRUaW1lcigrZSx0aGlzLl90aWxlc1tlXSk7fX11cGRhdGUoZSx0LGkscil7aWYodGhpcy50cmFuc2Zvcm09ZSwhdGhpcy5fc291cmNlTG9hZGVkfHx0aGlzLl9wYXVzZWR8fHRoaXMudHJhbnNmb3JtLmZyZWV6ZVRpbGVDb3ZlcmFnZSlyZXR1cm47aWYodGhpcy51c2VkRm9yVGVycmFpbiYmIWkpcmV0dXJuO2xldCBuO2lmKHRoaXMudXBkYXRlQ2FjaGVTaXplKGUsdCksXCJnbG9iZVwiIT09dGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lJiZ0aGlzLmhhbmRsZVdyYXBKdW1wKHRoaXMudHJhbnNmb3JtLmNlbnRlci5sbmcpLHRoaXMuX3NoYWRvd0Nhc3RlclRpbGVzPXt9LHRoaXMuX2NvdmVyZWRUaWxlcz17fSx0aGlzLnVzZWR8fHRoaXMudXNlZEZvclRlcnJhaW4/dGhpcy5fc291cmNlLnRpbGVJRD9uPWUuZ2V0VmlzaWJsZVVud3JhcHBlZENvb3JkaW5hdGVzKHRoaXMuX3NvdXJjZS50aWxlSUQpLm1hcCgoZT0+bmV3IEJ1KGUuY2Fub25pY2FsLnosZS53cmFwLGUuY2Fub25pY2FsLnosZS5jYW5vbmljYWwueCxlLmNhbm9uaWNhbC55KSkpOihuPWUuY292ZXJpbmdUaWxlcyh7dGlsZVNpemU6dHx8dGhpcy5fc291cmNlLnRpbGVTaXplLG1pbnpvb206dGhpcy5fc291cmNlLm1pbnpvb20sbWF4em9vbTp0aGlzLl9zb3VyY2UubWF4em9vbSxyb3VuZFpvb206dGhpcy5fc291cmNlLnJvdW5kWm9vbSYmIWkscmVwYXJzZU92ZXJzY2FsZWQ6dGhpcy5fc291cmNlLnJlcGFyc2VPdmVyc2NhbGVkLGlzVGVycmFpbkRFTTp0aGlzLnVzZWRGb3JUZXJyYWlufSksdGhpcy5fc291cmNlLmhhc1RpbGUmJihuPW4uZmlsdGVyKChlPT50aGlzLl9zb3VyY2UuaGFzVGlsZShlKSkpKSk6bj1bXSxuLmxlbmd0aD4wJiZ0aGlzLmNhc3RzU2hhZG93cyYmciYmXCJnbG9iZVwiIT09dGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lJiYhdGhpcy51c2VkRm9yVGVycmFpbiYmIUl4KHRoaXMuX3NvdXJjZS50eXBlKSl7Y29uc3Qgbz1lLmNvdmVyaW5nWm9vbUxldmVsKHt0aWxlU2l6ZTp0fHx0aGlzLl9zb3VyY2UudGlsZVNpemUscm91bmRab29tOnRoaXMuX3NvdXJjZS5yb3VuZFpvb20mJiFpfSkscz1NYXRoLm1pbihvLHRoaXMuX3NvdXJjZS5tYXh6b29tKSxhPWUuZXh0ZW5kVGlsZUNvdmVyRm9yU2hhZG93cyhuLHIscyk7Zm9yKGNvbnN0IGUgb2YgYSl0aGlzLl9zaGFkb3dDYXN0ZXJUaWxlc1tlLmtleV09ITAsbi5wdXNoKGUpO31jb25zdCBvPXRoaXMuX3VwZGF0ZVJldGFpbmVkVGlsZXMobik7aWYoSXgodGhpcy5fc291cmNlLnR5cGUpJiYwIT09bi5sZW5ndGgpe2NvbnN0IGU9e30sdD17fSxpPU9iamVjdC5rZXlzKG8pO2Zvcihjb25zdCByIG9mIGkpe2NvbnN0IGk9b1tyXSxuPXRoaXMuX3RpbGVzW3JdO2lmKCFufHxuLmZhZGVFbmRUaW1lJiZuLmZhZGVFbmRUaW1lPD1odC5ub3coKSljb250aW51ZTtjb25zdCBzPXRoaXMuZmluZExvYWRlZFBhcmVudChpLE1hdGgubWF4KGkub3ZlcnNjYWxlZFotQXgubWF4T3Zlcnpvb21pbmcsdGhpcy5fc291cmNlLm1pbnpvb20pKTtzJiYodGhpcy5fYWRkVGlsZShzLnRpbGVJRCksZVtzLnRpbGVJRC5rZXldPXMudGlsZUlEKSx0W3JdPWk7fWNvbnN0IHI9bltuLmxlbmd0aC0xXS5vdmVyc2NhbGVkWjtmb3IoY29uc3QgZSBpbiB0aGlzLl90aWxlcyl7Y29uc3QgaT10aGlzLl90aWxlc1tlXTtpZihvW2VdfHwhaS5oYXNEYXRhKCkpY29udGludWU7bGV0IG49aS50aWxlSUQ7Zm9yKDtuLm92ZXJzY2FsZWRaPnI7KXtuPW4uc2NhbGVkVG8obi5vdmVyc2NhbGVkWi0xKTtjb25zdCByPXRoaXMuX3RpbGVzW24ua2V5XTtpZihyJiZyLmhhc0RhdGEoKSYmdFtuLmtleV0pe29bZV09aS50aWxlSUQ7YnJlYWt9fX1mb3IoY29uc3QgdCBpbiBlKW9bdF18fCh0aGlzLl9jb3ZlcmVkVGlsZXNbdF09ITAsb1t0XT1lW3RdKTt9Zm9yKGNvbnN0IGUgaW4gbyl0aGlzLl90aWxlc1tlXS5jbGVhckZhZGVIb2xkKCk7Y29uc3Qgcz1mdW5jdGlvbihlLHQpe2NvbnN0IGk9W107Zm9yKGNvbnN0IHIgaW4gZSlyIGluIHR8fGkucHVzaChyKTtyZXR1cm4gaX0odGhpcy5fdGlsZXMsbyk7Zm9yKGNvbnN0IGUgb2Ygcyl7Y29uc3QgdD10aGlzLl90aWxlc1tlXTt0Lmhhc1N5bWJvbEJ1Y2tldHMmJiF0LmhvbGRpbmdGb3JGYWRlKCk/dC5zZXRIb2xkRHVyYXRpb24odGhpcy5tYXAuX2ZhZGVEdXJhdGlvbik6dC5oYXNTeW1ib2xCdWNrZXRzJiYhdC5zeW1ib2xGYWRlRmluaXNoZWQoKXx8dGhpcy5fcmVtb3ZlVGlsZSgrZSk7fXRoaXMuX3VwZGF0ZUxvYWRlZFBhcmVudFRpbGVDYWNoZSgpLHRoaXMuX29ubHlTeW1ib2xzJiZ0aGlzLl9zb3VyY2UuYWZ0ZXJVcGRhdGUmJnRoaXMuX3NvdXJjZS5hZnRlclVwZGF0ZSgpO31yZWxlYXNlU3ltYm9sRmFkZVRpbGVzKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdGlsZXMpdGhpcy5fdGlsZXNbZV0uaG9sZGluZ0ZvckZhZGUoKSYmdGhpcy5fcmVtb3ZlVGlsZSgrZSk7fV91cGRhdGVSZXRhaW5lZFRpbGVzKGUpe2NvbnN0IHQ9e307aWYoMD09PWUubGVuZ3RoKXJldHVybiB0O2NvbnN0IGk9e30scj1lLnJlZHVjZSgoKGUsdCk9Pk1hdGgubWluKGUsdC5vdmVyc2NhbGVkWikpLDEvMCksbj1lWzBdLm92ZXJzY2FsZWRaLG89TWF0aC5tYXgobi1BeC5tYXhPdmVyem9vbWluZyx0aGlzLl9zb3VyY2UubWluem9vbSkscz1NYXRoLm1heChuK0F4Lm1heFVuZGVyem9vbWluZyx0aGlzLl9zb3VyY2UubWluem9vbSksYT17fTtmb3IoY29uc3QgaSBvZiBlKXtjb25zdCBlPXRoaXMuX2FkZFRpbGUoaSk7dFtpLmtleV09aSxlLmhhc0RhdGEoKXx8cjx0aGlzLl9zb3VyY2UubWF4em9vbSYmKGFbaS5rZXldPWkpO310aGlzLl9yZXRhaW5Mb2FkZWRDaGlsZHJlbihhLHIscyx0KTtmb3IoY29uc3QgciBvZiBlKXtsZXQgZT10aGlzLl90aWxlc1tyLmtleV07aWYoZS5oYXNEYXRhKCkpY29udGludWU7aWYoci5jYW5vbmljYWwuej49dGhpcy5fc291cmNlLm1heHpvb20pe2NvbnN0IGU9ci5jaGlsZHJlbih0aGlzLl9zb3VyY2UubWF4em9vbSlbMF0saT10aGlzLmdldFRpbGUoZSk7aWYoaSYmaS5oYXNEYXRhKCkpe3RbZS5rZXldPWU7Y29udGludWV9fWVsc2Uge2NvbnN0IGU9ci5jaGlsZHJlbih0aGlzLl9zb3VyY2UubWF4em9vbSk7aWYodFtlWzBdLmtleV0mJnRbZVsxXS5rZXldJiZ0W2VbMl0ua2V5XSYmdFtlWzNdLmtleV0pY29udGludWV9bGV0IG49ZS53YXNSZXF1ZXN0ZWQoKTtmb3IobGV0IHM9ci5vdmVyc2NhbGVkWi0xO3M+PW87LS1zKXtjb25zdCBvPXIuc2NhbGVkVG8ocyk7aWYoaVtvLmtleV0pYnJlYWs7aWYoaVtvLmtleV09ITAsZT10aGlzLmdldFRpbGUobyksIWUmJm4mJihlPXRoaXMuX2FkZFRpbGUobykpLGUmJih0W28ua2V5XT1vLG49ZS53YXNSZXF1ZXN0ZWQoKSxlLmhhc0RhdGEoKSkpYnJlYWt9fXJldHVybiB0fV91cGRhdGVMb2FkZWRQYXJlbnRUaWxlQ2FjaGUoKXt0aGlzLl9sb2FkZWRQYXJlbnRUaWxlcz17fTtmb3IoY29uc3QgZSBpbiB0aGlzLl90aWxlcyl7Y29uc3QgdD1bXTtsZXQgaSxyPXRoaXMuX3RpbGVzW2VdLnRpbGVJRDtmb3IoO3Iub3ZlcnNjYWxlZFo+MDspe2lmKHIua2V5IGluIHRoaXMuX2xvYWRlZFBhcmVudFRpbGVzKXtpPXRoaXMuX2xvYWRlZFBhcmVudFRpbGVzW3Iua2V5XTticmVha310LnB1c2goci5rZXkpO2NvbnN0IGU9ci5zY2FsZWRUbyhyLm92ZXJzY2FsZWRaLTEpO2lmKGk9dGhpcy5fZ2V0TG9hZGVkVGlsZShlKSxpKWJyZWFrO3I9ZTt9Zm9yKGNvbnN0IGUgb2YgdCl0aGlzLl9sb2FkZWRQYXJlbnRUaWxlc1tlXT1pO319X2FkZFRpbGUoZSl7bGV0IHQ9dGhpcy5fdGlsZXNbZS5rZXldO2lmKHQpcmV0dXJuICEwIT09dC5pc0V4dHJhU2hhZG93Q2FzdGVyfHwhIXRoaXMuX3NoYWRvd0Nhc3RlclRpbGVzW2Uua2V5XXx8dGhpcy5fcmVsb2FkVGlsZShlLmtleSxcInJlbG9hZGluZ1wiKSx0O3Q9dGhpcy5fY2FjaGUuZ2V0QW5kUmVtb3ZlKGUpLHQmJih0aGlzLl9zZXRUaWxlUmVsb2FkVGltZXIoZS5rZXksdCksdC50aWxlSUQ9ZSx0aGlzLl9zdGF0ZS5pbml0aWFsaXplVGlsZVN0YXRlKHQsdGhpcy5tYXA/dGhpcy5tYXAucGFpbnRlcjpudWxsKSx0aGlzLl9jYWNoZVRpbWVyc1tlLmtleV0mJihjbGVhclRpbWVvdXQodGhpcy5fY2FjaGVUaW1lcnNbZS5rZXldKSxkZWxldGUgdGhpcy5fY2FjaGVUaW1lcnNbZS5rZXldLHRoaXMuX3NldFRpbGVSZWxvYWRUaW1lcihlLmtleSx0KSkpO2NvbnN0IGk9Qm9vbGVhbih0KTtpZighaSl7Y29uc3QgaT10aGlzLm1hcD90aGlzLm1hcC5wYWludGVyOm51bGw7dD1uZXcgSXkoZSx0aGlzLl9zb3VyY2UudGlsZVNpemUqZS5vdmVyc2NhbGVGYWN0b3IoKSx0aGlzLnRyYW5zZm9ybS50aWxlWm9vbSxpLHRoaXMuX2lzUmFzdGVyKSx0aGlzLl9sb2FkVGlsZSh0LHRoaXMuX3RpbGVMb2FkZWQuYmluZCh0aGlzLHQsZS5rZXksdC5zdGF0ZSkpO31yZXR1cm4gdD8odC51c2VzKyssdGhpcy5fdGlsZXNbZS5rZXldPXQsaXx8dGhpcy5fc291cmNlLmZpcmUobmV3IEF0KFwiZGF0YWxvYWRpbmdcIix7dGlsZTp0LGNvb3JkOnQudGlsZUlELGRhdGFUeXBlOlwic291cmNlXCJ9KSksdCk6bnVsbH1fc2V0VGlsZVJlbG9hZFRpbWVyKGUsdCl7ZSBpbiB0aGlzLl90aW1lcnMmJihjbGVhclRpbWVvdXQodGhpcy5fdGltZXJzW2VdKSxkZWxldGUgdGhpcy5fdGltZXJzW2VdKTtjb25zdCBpPXQuZ2V0RXhwaXJ5VGltZW91dCgpO2kmJih0aGlzLl90aW1lcnNbZV09c2V0VGltZW91dCgoKCk9Pnt0aGlzLl9yZWxvYWRUaWxlKGUsXCJleHBpcmVkXCIpLGRlbGV0ZSB0aGlzLl90aW1lcnNbZV07fSksaSkpO31fcmVtb3ZlVGlsZShlKXtjb25zdCB0PXRoaXMuX3RpbGVzW2VdO3QmJih0LnVzZXMtLSxkZWxldGUgdGhpcy5fdGlsZXNbZV0sdGhpcy5fdGltZXJzW2VdJiYoY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyc1tlXSksZGVsZXRlIHRoaXMuX3RpbWVyc1tlXSksdC51c2VzPjB8fCh0Lmhhc0RhdGEoKSYmXCJyZWxvYWRpbmdcIiE9PXQuc3RhdGU/dGhpcy5fY2FjaGUuYWRkKHQudGlsZUlELHQsdC5nZXRFeHBpcnlUaW1lb3V0KCkpOih0LmFib3J0ZWQ9ITAsdGhpcy5fYWJvcnRUaWxlKHQpLHRoaXMuX3VubG9hZFRpbGUodCkpKSk7fWNsZWFyVGlsZXMoKXt0aGlzLl9zaG91bGRSZWxvYWRPblJlc3VtZT0hMSx0aGlzLl9wYXVzZWQ9ITE7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdGlsZXMpdGhpcy5fcmVtb3ZlVGlsZSgrZSk7dGhpcy5fc291cmNlLl9jbGVhciYmdGhpcy5fc291cmNlLl9jbGVhcigpLHRoaXMuX2NhY2hlLnJlc2V0KCksdGhpcy5tYXAmJnRoaXMudXNlZEZvclRlcnJhaW4mJnRoaXMubWFwLnBhaW50ZXIudGVycmFpbiYmdGhpcy5tYXAucGFpbnRlci50ZXJyYWluLnJlc2V0VGlsZUxvb2t1cENhY2hlKHRoaXMuaWQpO310aWxlc0luKGUsdCxpKXtjb25zdCByPVtdLG49dGhpcy50cmFuc2Zvcm07aWYoIW4pcmV0dXJuIHI7Y29uc3Qgbz1cImdsb2JlXCI9PT1uLnByb2plY3Rpb24ubmFtZSxzPUdkKG4uY2VudGVyLmxuZyk7Zm9yKGNvbnN0IGEgaW4gdGhpcy5fdGlsZXMpe2NvbnN0IGw9dGhpcy5fdGlsZXNbYV07aWYoaSYmbC5jbGVhclF1ZXJ5RGVidWdWaXooKSxsLmhvbGRpbmdGb3JGYWRlKCkpY29udGludWU7bGV0IGM7aWYobyl7Y29uc3QgZT1sLnRpbGVJRC5jYW5vbmljYWw7aWYoMD09PWUueil7Y29uc3QgdD1bTWF0aC5hYnMoeihzLC4uLkN4KGUsLTEpKS1zKSxNYXRoLmFicyh6KHMsLi4uQ3goZSwxKSktcyldO2M9WzAsMip0LmluZGV4T2YoTWF0aC5taW4oLi4udCkpLTFdO31lbHNlIHtjb25zdCB0PVtNYXRoLmFicyh6KHMsLi4uQ3goZSwtMSkpLXMpLE1hdGguYWJzKHoocywuLi5DeChlLDApKS1zKSxNYXRoLmFicyh6KHMsLi4uQ3goZSwxKSktcyldO2M9W3QuaW5kZXhPZihNYXRoLm1pbiguLi50KSktMV07fX1lbHNlIGM9WzBdO2Zvcihjb25zdCBpIG9mIGMpe2NvbnN0IG89ZS5jb250YWluc1RpbGUobCxuLHQsaSk7byYmci5wdXNoKG8pO319cmV0dXJuIHJ9Z2V0U2hhZG93Q2FzdGVyQ29vcmRpbmF0ZXMoKXtyZXR1cm4gdGhpcy5fZ2V0UmVuZGVyYWJsZUNvb3JkaW5hdGVzKCExLCEwKX1nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoZSl7cmV0dXJuIHRoaXMuX2dldFJlbmRlcmFibGVDb29yZGluYXRlcyhlKX1fZ2V0UmVuZGVyYWJsZUNvb3JkaW5hdGVzKGUsdCl7Y29uc3QgaT10aGlzLmdldFJlbmRlcmFibGVJZHMoZSx0KS5tYXAoKGU9PnRoaXMuX3RpbGVzW2VdLnRpbGVJRCkpO2Zvcihjb25zdCBlIG9mIGkpZS5wcm9qTWF0cml4PXRoaXMudHJhbnNmb3JtLmNhbGN1bGF0ZVByb2pNYXRyaXgoZS50b1Vud3JhcHBlZCgpKTtyZXR1cm4gaX1zb3J0Q29vcmRpbmF0ZXNCeURpc3RhbmNlKGUpe2NvbnN0IHQ9ZS5zbGljZSgpLGk9dGhpcy50cmFuc2Zvcm0uX2NhbWVyYS5wb3NpdGlvbixyPXRoaXMudHJhbnNmb3JtLl9jYW1lcmEuZm9yd2FyZCgpLG49e307Zm9yKGNvbnN0IGUgb2YgdCl7Y29uc3QgdD0xLygxPDxlLmNhbm9uaWNhbC56KTtuW2Uua2V5XT0oKGUuY2Fub25pY2FsLngrLjUpKnQrZS53cmFwLWlbMF0pKnJbMF0rKChlLmNhbm9uaWNhbC55Ky41KSp0LWlbMV0pKnJbMV0taVsyXSpyWzJdO31yZXR1cm4gdC5zb3J0KCgoZSx0KT0+bltlLmtleV0tblt0LmtleV0pKSx0fWhhc1RyYW5zaXRpb24oKXtpZih0aGlzLl9zb3VyY2UuaGFzVHJhbnNpdGlvbigpKXJldHVybiAhMDtpZihJeCh0aGlzLl9zb3VyY2UudHlwZSkpZm9yKGNvbnN0IGUgaW4gdGhpcy5fdGlsZXMpe2NvbnN0IHQ9dGhpcy5fdGlsZXNbZV07aWYodm9pZCAwIT09dC5mYWRlRW5kVGltZSYmdC5mYWRlRW5kVGltZT49aHQubm93KCkpcmV0dXJuICEwfXJldHVybiAhMX1zZXRGZWF0dXJlU3RhdGUoZSx0LGkpe3RoaXMuX3N0YXRlLnVwZGF0ZVN0YXRlKGU9ZXx8XCJfZ2VvanNvblRpbGVMYXllclwiLHQsaSk7fXJlbW92ZUZlYXR1cmVTdGF0ZShlLHQsaSl7dGhpcy5fc3RhdGUucmVtb3ZlRmVhdHVyZVN0YXRlKGU9ZXx8XCJfZ2VvanNvblRpbGVMYXllclwiLHQsaSk7fWdldEZlYXR1cmVTdGF0ZShlLHQpe3JldHVybiB0aGlzLl9zdGF0ZS5nZXRTdGF0ZShlPWV8fFwiX2dlb2pzb25UaWxlTGF5ZXJcIix0KX1zZXREZXBlbmRlbmNpZXMoZSx0LGkpe2NvbnN0IHI9dGhpcy5fdGlsZXNbZV07ciYmci5zZXREZXBlbmRlbmNpZXModCxpKTt9cmVsb2FkVGlsZXNGb3JEZXBlbmRlbmNpZXMoZSx0KXtmb3IoY29uc3QgaSBpbiB0aGlzLl90aWxlcyl0aGlzLl90aWxlc1tpXS5oYXNEZXBlbmRlbmN5KGUsdCkmJnRoaXMuX3JlbG9hZFRpbGUoK2ksXCJyZWxvYWRpbmdcIik7dGhpcy5fY2FjaGUuZmlsdGVyKChpPT4haS5oYXNEZXBlbmRlbmN5KGUsdCkpKTt9X3ByZWxvYWRUaWxlcyhlLHQpe2lmKCF0aGlzLl9zb3VyY2VMb2FkZWQpe2NvbnN0IGk9KCk9Pnt0aGlzLl9zb3VyY2VMb2FkZWQmJih0aGlzLl9zb3VyY2Uub2ZmKFwiZGF0YVwiLGkpLHRoaXMuX3ByZWxvYWRUaWxlcyhlLHQpKTt9O3JldHVybiB2b2lkIHRoaXMuX3NvdXJjZS5vbihcImRhdGFcIixpKX1jb25zdCBpPW5ldyBNYXAscj1BcnJheS5pc0FycmF5KGUpP2U6W2VdLG49dGhpcy5tYXAucGFpbnRlci50ZXJyYWluLG89dGhpcy51c2VkRm9yVGVycmFpbiYmbj9uLmdldFNjYWxlZERlbVRpbGVTaXplKCk6dGhpcy5fc291cmNlLnRpbGVTaXplO2Zvcihjb25zdCBlIG9mIHIpe2NvbnN0IHQ9ZS5jb3ZlcmluZ1RpbGVzKHt0aWxlU2l6ZTpvLG1pbnpvb206dGhpcy5fc291cmNlLm1pbnpvb20sbWF4em9vbTp0aGlzLl9zb3VyY2UubWF4em9vbSxyb3VuZFpvb206dGhpcy5fc291cmNlLnJvdW5kWm9vbSYmIXRoaXMudXNlZEZvclRlcnJhaW4scmVwYXJzZU92ZXJzY2FsZWQ6dGhpcy5fc291cmNlLnJlcGFyc2VPdmVyc2NhbGVkLGlzVGVycmFpbkRFTTp0aGlzLnVzZWRGb3JUZXJyYWlufSk7Zm9yKGNvbnN0IGUgb2YgdClpLnNldChlLmtleSxlKTt0aGlzLnVzZWRGb3JUZXJyYWluJiZlLnVwZGF0ZUVsZXZhdGlvbighMSk7fVIoQXJyYXkuZnJvbShpLnZhbHVlcygpKSwoKGUsdCk9Pntjb25zdCBpPW5ldyBJeShlLHRoaXMuX3NvdXJjZS50aWxlU2l6ZSplLm92ZXJzY2FsZUZhY3RvcigpLHRoaXMudHJhbnNmb3JtLnRpbGVab29tLHRoaXMubWFwLnBhaW50ZXIsdGhpcy5faXNSYXN0ZXIpO3RoaXMuX2xvYWRUaWxlKGksKGU9PntcInJhc3Rlci1kZW1cIj09PXRoaXMuX3NvdXJjZS50eXBlJiZpLmRlbSYmdGhpcy5fYmFja2ZpbGxERU0oaSksdChlLGkpO30pKTt9KSx0KTt9fWZ1bmN0aW9uIFN4KGUsdCl7Y29uc3QgaT1NYXRoLmFicygyKmUud3JhcCktKyhlLndyYXA8MCkscj1NYXRoLmFicygyKnQud3JhcCktKyh0LndyYXA8MCk7cmV0dXJuIGUub3ZlcnNjYWxlZFotdC5vdmVyc2NhbGVkWnx8ci1pfHx0LmNhbm9uaWNhbC55LWUuY2Fub25pY2FsLnl8fHQuY2Fub25pY2FsLngtZS5jYW5vbmljYWwueH1mdW5jdGlvbiBJeChlKXtyZXR1cm4gXCJyYXN0ZXJcIj09PWV8fFwiaW1hZ2VcIj09PWV8fFwidmlkZW9cIj09PWV8fFwiY3VzdG9tXCI9PT1lfWZ1bmN0aW9uIEN4KGUsdCl7Y29uc3QgaT0xPDxlLno7cmV0dXJuIFtlLngvaSt0LChlLngrMSkvaSt0XX1BeC5tYXhPdmVyem9vbWluZz0xMCxBeC5tYXhVbmRlcnpvb21pbmc9Mztjb25zdCB6eD1iYShbe25hbWU6XCJhX3Bvc18zZlwiLGNvbXBvbmVudHM6Myx0eXBlOlwiRmxvYXQzMlwifV0pLER4PWJhKFt7bmFtZTpcImFfY29sb3JfM2ZcIixjb21wb25lbnRzOjMsdHlwZTpcIkZsb2F0MzJcIn1dKSxQeD1iYShbe25hbWU6XCJhX2NvbG9yXzRmXCIsY29tcG9uZW50czo0LHR5cGU6XCJGbG9hdDMyXCJ9XSksUng9YmEoW3tuYW1lOlwiYV91dl8yZlwiLGNvbXBvbmVudHM6Mix0eXBlOlwiRmxvYXQzMlwifV0pLEx4PWJhKFt7bmFtZTpcImFfbm9ybWFsXzNmXCIsY29tcG9uZW50czozLHR5cGU6XCJGbG9hdDMyXCJ9XSksa3g9YmEoW3tuYW1lOlwiYV9ub3JtYWxfbWF0cml4MFwiLGNvbXBvbmVudHM6NCx0eXBlOlwiRmxvYXQzMlwifSx7bmFtZTpcImFfbm9ybWFsX21hdHJpeDFcIixjb21wb25lbnRzOjQsdHlwZTpcIkZsb2F0MzJcIn0se25hbWU6XCJhX25vcm1hbF9tYXRyaXgyXCIsY29tcG9uZW50czo0LHR5cGU6XCJGbG9hdDMyXCJ9LHtuYW1lOlwiYV9ub3JtYWxfbWF0cml4M1wiLGNvbXBvbmVudHM6NCx0eXBlOlwiRmxvYXQzMlwifV0pLE94PWJhKFt7bmFtZTpcImFfcGJyXCIsY29tcG9uZW50czo0LHR5cGU6XCJVaW50MTZcIn0se25hbWU6XCJhX2hlaWdodEJhc2VkRW1pc3NpdmVTdHJlbmd0aFwiLGNvbXBvbmVudHM6Myx0eXBlOlwiRmxvYXQzMlwifV0pO2NsYXNzIEJ4e2NvbnN0cnVjdG9yKGU9MCx0PTAsaT0wLHI9MCl7aWYoaXNOYU4oZSl8fGU8MHx8aXNOYU4odCl8fHQ8MHx8aXNOYU4oaSl8fGk8MHx8aXNOYU4ocil8fHI8MCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBlZGdlLWluc2V0cywgdG9wLCBib3R0b20sIGxlZnQgYW5kIHJpZ2h0IG11c3QgYWxsIGJlIG51bWJlcnNcIik7dGhpcy50b3A9ZSx0aGlzLmJvdHRvbT10LHRoaXMubGVmdD1pLHRoaXMucmlnaHQ9cjt9aW50ZXJwb2xhdGUoZSx0LGkpe3JldHVybiBudWxsIT10LnRvcCYmbnVsbCE9ZS50b3AmJih0aGlzLnRvcD1XcihlLnRvcCx0LnRvcCxpKSksbnVsbCE9dC5ib3R0b20mJm51bGwhPWUuYm90dG9tJiYodGhpcy5ib3R0b209V3IoZS5ib3R0b20sdC5ib3R0b20saSkpLG51bGwhPXQubGVmdCYmbnVsbCE9ZS5sZWZ0JiYodGhpcy5sZWZ0PVdyKGUubGVmdCx0LmxlZnQsaSkpLG51bGwhPXQucmlnaHQmJm51bGwhPWUucmlnaHQmJih0aGlzLnJpZ2h0PVdyKGUucmlnaHQsdC5yaWdodCxpKSksdGhpc31nZXRDZW50ZXIoZSx0KXtjb25zdCBpPXooKHRoaXMubGVmdCtlLXRoaXMucmlnaHQpLzIsMCxlKSxyPXooKHRoaXMudG9wK3QtdGhpcy5ib3R0b20pLzIsMCx0KTtyZXR1cm4gbmV3IHkoaSxyKX1lcXVhbHMoZSl7cmV0dXJuIHRoaXMudG9wPT09ZS50b3AmJnRoaXMuYm90dG9tPT09ZS5ib3R0b20mJnRoaXMubGVmdD09PWUubGVmdCYmdGhpcy5yaWdodD09PWUucmlnaHR9Y2xvbmUoKXtyZXR1cm4gbmV3IEJ4KHRoaXMudG9wLHRoaXMuYm90dG9tLHRoaXMubGVmdCx0aGlzLnJpZ2h0KX10b0pTT04oKXtyZXR1cm4ge3RvcDp0aGlzLnRvcCxib3R0b206dGhpcy5ib3R0b20sbGVmdDp0aGlzLmxlZnQscmlnaHQ6dGhpcy5yaWdodH19fWZ1bmN0aW9uIEZ4KGUsdCl7Y29uc3QgaT1uZShlLDMpO3h1LmZyb21RdWF0KGUsdCksb2UoZSwzLGkpO31mdW5jdGlvbiBOeChlLHQpe2NvbnN0IGk9YnUuaWRlbnRpdHkoW10pO3JldHVybiBidS5yb3RhdGVaKGksaSwtdCksYnUucm90YXRlWChpLGksLWUpLGl9ZnVuY3Rpb24gVXgoZSx0KXtjb25zdCBpPVtlWzBdLGVbMV0sMF0scj1bdFswXSx0WzFdLDBdO2lmKE11Lmxlbmd0aChpKT49MWUtMTUpe2NvbnN0IGU9TXUubm9ybWFsaXplKFtdLGkpO011LnNjYWxlKHIsZSxNdS5kb3QocixlKSksdFswXT1yWzBdLHRbMV09clsxXTt9Y29uc3Qgbj1NdS5jcm9zcyhbXSx0LGUpO2lmKE11LmxlbihuKTwxZS0xNSlyZXR1cm4gbnVsbDtjb25zdCBvPU1hdGguYXRhbjIoLW5bMV0sblswXSk7cmV0dXJuIE54KE1hdGguYXRhbjIoTWF0aC5zcXJ0KGVbMF0qZVswXStlWzFdKmVbMV0pLC1lWzJdKSxvKX1jbGFzcyBWeHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMucG9zaXRpb249ZSx0aGlzLm9yaWVudGF0aW9uPXQ7fWdldCBwb3NpdGlvbigpe3JldHVybiB0aGlzLl9wb3NpdGlvbn1zZXQgcG9zaXRpb24oZSl7aWYoZSl7Y29uc3QgdD1lIGluc3RhbmNlb2YgZXA/ZTpuZXcgZXAoZVswXSxlWzFdLGVbMl0pO3RoaXMuX3JlbmRlcldvcmxkQ29waWVzJiYodC54PVAodC54LDAsMSkpLHRoaXMuX3Bvc2l0aW9uPXQ7fWVsc2UgdGhpcy5fcG9zaXRpb249bnVsbDt9bG9va0F0UG9pbnQoZSx0KXtpZih0aGlzLm9yaWVudGF0aW9uPW51bGwsIXRoaXMucG9zaXRpb24pcmV0dXJuO2NvbnN0IGk9dGhpcy5wb3NpdGlvbixyPXRoaXMuX2VsZXZhdGlvbj90aGlzLl9lbGV2YXRpb24uZ2V0QXRQb2ludE9yWmVybyhlcC5mcm9tTG5nTGF0KGUpKTowLG49ZXAuZnJvbUxuZ0xhdChlLHIpLG89W24ueC1pLngsbi55LWkueSxuLnotaS56XTt0fHwodD1bMCwwLDFdKSx0WzJdPU1hdGguYWJzKHRbMl0pLHRoaXMub3JpZW50YXRpb249VXgobyx0KTt9c2V0UGl0Y2hCZWFyaW5nKGUsdCl7dGhpcy5vcmllbnRhdGlvbj1OeCh3KGUpLHcoLXQpKTt9fWNsYXNzIGp4e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fdHJhbnNmb3JtPXh1LmlkZW50aXR5KFtdKSx0aGlzLm9yaWVudGF0aW9uPXQsdGhpcy5wb3NpdGlvbj1lO31nZXQgbWVyY2F0b3JQb3NpdGlvbigpe2NvbnN0IGU9dGhpcy5wb3NpdGlvbjtyZXR1cm4gbmV3IGVwKGVbMF0sZVsxXSxlWzJdKX1nZXQgcG9zaXRpb24oKXtjb25zdCBlPW5lKHRoaXMuX3RyYW5zZm9ybSwzKTtyZXR1cm4gW2VbMF0sZVsxXSxlWzJdXX1zZXQgcG9zaXRpb24oZSl7dmFyIHQ7ZSYmb2UodGhpcy5fdHJhbnNmb3JtLDMsWyh0PWUpWzBdLHRbMV0sdFsyXSwxXSk7fWdldCBvcmllbnRhdGlvbigpe3JldHVybiB0aGlzLl9vcmllbnRhdGlvbn1zZXQgb3JpZW50YXRpb24oZSl7dGhpcy5fb3JpZW50YXRpb249ZXx8YnUuaWRlbnRpdHkoW10pLGUmJkZ4KHRoaXMuX3RyYW5zZm9ybSx0aGlzLl9vcmllbnRhdGlvbik7fWdldFBpdGNoQmVhcmluZygpe2NvbnN0IGU9dGhpcy5mb3J3YXJkKCksdD10aGlzLnJpZ2h0KCk7cmV0dXJuIHtiZWFyaW5nOk1hdGguYXRhbjIoLXRbMV0sdFswXSkscGl0Y2g6TWF0aC5hdGFuMihNYXRoLnNxcnQoZVswXSplWzBdK2VbMV0qZVsxXSksLWVbMl0pfX1zZXRQaXRjaEJlYXJpbmcoZSx0KXt0aGlzLl9vcmllbnRhdGlvbj1OeChlLHQpLEZ4KHRoaXMuX3RyYW5zZm9ybSx0aGlzLl9vcmllbnRhdGlvbik7fWZvcndhcmQoKXtjb25zdCBlPW5lKHRoaXMuX3RyYW5zZm9ybSwyKTtyZXR1cm4gWy1lWzBdLC1lWzFdLC1lWzJdXX11cCgpe2NvbnN0IGU9bmUodGhpcy5fdHJhbnNmb3JtLDEpO3JldHVybiBbLWVbMF0sLWVbMV0sLWVbMl1dfXJpZ2h0KCl7Y29uc3QgZT1uZSh0aGlzLl90cmFuc2Zvcm0sMCk7cmV0dXJuIFtlWzBdLGVbMV0sZVsyXV19Z2V0Q2FtZXJhVG9Xb3JsZChlLHQpe2NvbnN0IGk9bmV3IEZsb2F0NjRBcnJheSgxNik7cmV0dXJuIHh1LmludmVydChpLHRoaXMuZ2V0V29ybGRUb0NhbWVyYShlLHQpKSxpfWdldENhbWVyYVRvV29ybGRNZXJjYXRvcigpe3JldHVybiB0aGlzLl90cmFuc2Zvcm19Z2V0V29ybGRUb0NhbWVyYVBvc2l0aW9uKGUsdCxpKXtjb25zdCByPXRoaXMucG9zaXRpb247TXUuc2NhbGUocixyLC1lKTtjb25zdCBuPW5ldyBGbG9hdDY0QXJyYXkoMTYpO3JldHVybiB4dS5mcm9tU2NhbGluZyhuLFtpLGksaV0pLHh1LnRyYW5zbGF0ZShuLG4sciksblsxMF0qPXQsbn1nZXRXb3JsZFRvQ2FtZXJhKGUsdCl7Y29uc3QgaT1uZXcgRmxvYXQ2NEFycmF5KDE2KSxyPW5ldyBGbG9hdDY0QXJyYXkoNCksbj10aGlzLnBvc2l0aW9uO3JldHVybiBidS5jb25qdWdhdGUocix0aGlzLl9vcmllbnRhdGlvbiksTXUuc2NhbGUobixuLC1lKSx4dS5mcm9tUXVhdChpLHIpLHh1LnRyYW5zbGF0ZShpLGksbiksaVsxXSo9LTEsaVs1XSo9LTEsaVs5XSo9LTEsaVsxM10qPS0xLGlbOF0qPXQsaVs5XSo9dCxpWzEwXSo9dCxpWzExXSo9dCxpfWdldENhbWVyYVRvQ2xpcFBlcnNwZWN0aXZlKGUsdCxpLHIpe2NvbnN0IG49bmV3IEZsb2F0NjRBcnJheSgxNik7cmV0dXJuIHh1LnBlcnNwZWN0aXZlKG4sZSx0LGksciksbn1nZXRDYW1lcmFUb0NsaXBPcnRob2dyYXBoaWMoZSx0LGkscixuLG8pe2NvbnN0IHM9bmV3IEZsb2F0NjRBcnJheSgxNik7cmV0dXJuIHh1Lm9ydGhvKHMsZSx0LGkscixuLG8pLHN9Z2V0RGlzdGFuY2VUb0VsZXZhdGlvbihlLHQ9ITEpe2NvbnN0IGk9MD09PWU/MDpaZChlLHQ/SGQodGhpcy5wb3NpdGlvblsxXSk6dGhpcy5wb3NpdGlvblsxXSkscj10aGlzLmZvcndhcmQoKTtyZXR1cm4gKGktdGhpcy5wb3NpdGlvblsyXSkvclsyXX1jbG9uZSgpe3JldHVybiBuZXcgangoWy4uLnRoaXMucG9zaXRpb25dLFsuLi50aGlzLm9yaWVudGF0aW9uXSl9fWZ1bmN0aW9uIEd4KGUsdCl7Y29uc3QgaT1aeChlLnByb2plY3Rpb24sZS56b29tLGUud2lkdGgsZS5oZWlnaHQpLHI9ZnVuY3Rpb24oZSx0LGkscixuKXtjb25zdCBvPW5ldyBOZChpLmxuZy0xODAqJHgsaS5sYXQpLHM9bmV3IE5kKGkubG5nKzE4MCokeCxpLmxhdCksYT1lLnByb2plY3Qoby5sbmcsby5sYXQpLGw9ZS5wcm9qZWN0KHMubG5nLHMubGF0KSxjPS1NYXRoLmF0YW4yKGwueS1hLnksbC54LWEueCksaD1lcC5mcm9tTG5nTGF0KGkpO2gueT16KGgueSwtMSskeCwxLSR4KTtjb25zdCB1PWgudG9MbmdMYXQoKSxkPWUucHJvamVjdCh1LmxuZyx1LmxhdCkscD1lcC5mcm9tTG5nTGF0KHUpO3AueCs9JHg7Y29uc3QgZj1wLnRvTG5nTGF0KCksbT1lLnByb2plY3QoZi5sbmcsZi5sYXQpLF89V3gobS54LWQueCxtLnktZC55LGMpLGc9ZXAuZnJvbUxuZ0xhdCh1KTtnLnkrPSR4O2NvbnN0IHk9Zy50b0xuZ0xhdCgpLHg9ZS5wcm9qZWN0KHkubG5nLHkubGF0KSx2PVd4KHgueC1kLngseC55LWQueSxjKSxiPU1hdGguYWJzKF8ueCkvTWF0aC5hYnModi55KSx3PXh1LmlkZW50aXR5KFtdKTt4dS5yb3RhdGVaKHcsdywtYyooMS0obj8wOnIpKSk7Y29uc3QgVD14dS5pZGVudGl0eShbXSk7cmV0dXJuIHh1LnNjYWxlKFQsVCxbMSwxLSgxLWIpKnIsMV0pLFRbNF09LXYueC92Lnkqcix4dS5yb3RhdGVaKFQsVCxjKSx4dS5tdWx0aXBseShULHcsVCksVH0oZS5wcm9qZWN0aW9uLDAsZS5jZW50ZXIsaSx0KSxuPXF4KGUpO3JldHVybiB4dS5zY2FsZShyLHIsW24sbiwxXSkscn1mdW5jdGlvbiBxeChlKXtjb25zdCB0PWUucHJvamVjdGlvbixpPVp4KGUucHJvamVjdGlvbixlLnpvb20sZS53aWR0aCxlLmhlaWdodCkscj1IeCh0LGUuY2VudGVyKSxuPUh4KHQsTmQuY29udmVydCh0LmNlbnRlcikpO3JldHVybiBNYXRoLnBvdygyLHIqaSsoMS1pKSpuKX1mdW5jdGlvbiBaeChlLHQsaSxyLG49MS8wKXtjb25zdCBvPWUucmFuZ2U7aWYoIW8pcmV0dXJuIDA7Y29uc3Qgcz1NYXRoLm1pbihuLE1hdGgubWF4KGkscikpLGE9TWF0aC5sb2cocy8xMDI0KS9NYXRoLkxOMjtyZXR1cm4gRChvWzBdK2Esb1sxXSthLHQpfWNvbnN0ICR4PTEvNGU0O2Z1bmN0aW9uIEh4KGUsdCl7Y29uc3QgaT16KHQubGF0LC1YZCxYZCkscj1uZXcgTmQodC5sbmctMTgwKiR4LGkpLG49bmV3IE5kKHQubG5nKzE4MCokeCxpKSxvPWUucHJvamVjdChyLmxuZyxpKSxzPWUucHJvamVjdChuLmxuZyxpKSxhPWVwLmZyb21MbmdMYXQociksbD1lcC5mcm9tTG5nTGF0KG4pLGM9cy54LW8ueCxoPXMueS1vLnksdT1sLngtYS54LGQ9bC55LWEueSxwPU1hdGguc3FydCgodSp1K2QqZCkvKGMqYytoKmgpKTtyZXR1cm4gTWF0aC5sb2cocCkvTWF0aC5MTjJ9ZnVuY3Rpb24gV3goZSx0LGkpe2NvbnN0IHI9TWF0aC5jb3MoaSksbj1NYXRoLnNpbihpKTtyZXR1cm4ge3g6ZSpyLXQqbix5OmUqbit0KnJ9fWZ1bmN0aW9uIFh4KGUsdCxpKXtyZXR1cm4gdCooc3IvKGUudGlsZVNpemUqTWF0aC5wb3coMixpLWUudGlsZUlELm92ZXJzY2FsZWRaKSkpfWNvbnN0IFl4PXt1bmtub3duOjAsZmxpcFJlcXVpcmVkOjEsZmxpcE5vdFJlcXVpcmVkOjJ9LEt4PU1hdGgudGFuKDg1Kk1hdGguUEkvMTgwKTtmdW5jdGlvbiBKeChlLHQsaSxyLG4sbyxzKXtjb25zdCBhPXh1LmNyZWF0ZSgpO2lmKGkpaWYoXCJnbG9iZVwiPT09by5uYW1lKXtjb25zdCBlPWZ1bmN0aW9uKGUsdCl7Y29uc3R7eDppLHk6cn09ZS5wb2ludCxuPVRkKGkscixlLndvcmxkU2l6ZS9lLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsLDAsMCk7cmV0dXJuIHh1Lm11bHRpcGx5KG4sbix2ZChhZCh0KSkpfShuLHQpO3h1Lm11bHRpcGx5KGEsYSxlKTt9ZWxzZSB7Y29uc3QgZT1mdS5pbnZlcnQoW10scyk7YVswXT1lWzBdLGFbMV09ZVsxXSxhWzRdPWVbMl0sYVs1XT1lWzNdLHJ8fHh1LnJvdGF0ZVooYSxhLG4uYW5nbGUpO31lbHNlIHh1Lm11bHRpcGx5KGEsbi5sYWJlbFBsYW5lTWF0cml4LGUpO3JldHVybiBhfWZ1bmN0aW9uIFF4KGUsdCxpLHIsbixvLHMpe2NvbnN0IGE9SngoZSx0LGkscixuLG8scyk7cmV0dXJuIFwiZ2xvYmVcIj09PW8ubmFtZSYmaXx8KGFbMl09YVs2XT1hWzEwXT1hWzE0XT0wKSxhfWZ1bmN0aW9uIGV2KGUsdCxpLHIsbixvLHMpe2lmKGkpe2lmKFwiZ2xvYmVcIj09PW8ubmFtZSl7Y29uc3QgYT1KeChlLHQsaSxyLG4sbyxzKTtyZXR1cm4geHUuaW52ZXJ0KGEsYSkseHUubXVsdGlwbHkoYSxlLGEpLGF9e2NvbnN0IHQ9eHUuY2xvbmUoZSksaT14dS5pZGVudGl0eShbXSk7cmV0dXJuIGlbMF09c1swXSxpWzFdPXNbMV0saVs0XT1zWzJdLGlbNV09c1szXSx4dS5tdWx0aXBseSh0LHQsaSkscnx8eHUucm90YXRlWih0LHQsLW4uYW5nbGUpLHR9fXJldHVybiBuLmdsQ29vcmRNYXRyaXh9ZnVuY3Rpb24gdHYoZSx0LGkscil7Y29uc3Qgbj1bZSx0LGksMV07aT91dS50cmFuc2Zvcm1NYXQ0KG4sbixyKTpkdihuLG4scik7Y29uc3Qgbz1uWzNdO3JldHVybiBuWzBdLz1vLG5bMV0vPW8sblsyXS89byxufWZ1bmN0aW9uIGl2KGUsdCl7cmV0dXJuIE1hdGgubWluKC41K2UvdCouNSwxLjUpfWZ1bmN0aW9uIHJ2KGUsdCl7Y29uc3QgaT1lWzBdL2VbM10scj1lWzFdL2VbM107cmV0dXJuIGk+PS10WzBdJiZpPD10WzBdJiZyPj0tdFsxXSYmcjw9dFsxXX1mdW5jdGlvbiBudihlLHQsaSxyLG4sbyxzLGEsbCxjKXtjb25zdCBoPWkudHJhbnNmb3JtLHU9cj9lLnRleHRTaXplRGF0YTplLmljb25TaXplRGF0YSxkPWFfKHUsaS50cmFuc2Zvcm0uem9vbSkscD1cImdsb2JlXCI9PT1oLnByb2plY3Rpb24ubmFtZSxmPVsyNTYvaS53aWR0aCoyKzEsMjU2L2kuaGVpZ2h0KjIrMV0sbT1yP2UudGV4dC5keW5hbWljTGF5b3V0VmVydGV4QXJyYXk6ZS5pY29uLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheTttLmNsZWFyKCk7bGV0IF89bnVsbDtwJiYoXz1yP2UudGV4dC5nbG9iZUV4dFZlcnRleEFycmF5OmUuaWNvbi5nbG9iZUV4dFZlcnRleEFycmF5KTtjb25zdCBnPWUubGluZVZlcnRleEFycmF5LHg9cj9lLnRleHQucGxhY2VkU3ltYm9sQXJyYXk6ZS5pY29uLnBsYWNlZFN5bWJvbEFycmF5LHY9aS50cmFuc2Zvcm0ud2lkdGgvaS50cmFuc2Zvcm0uaGVpZ2h0O2xldCBiLHc9ITE7Zm9yKGxldCByPTA7cjx4Lmxlbmd0aDtyKyspe2NvbnN0IHA9eC5nZXQocikse251bUdseXBoczpULHdyaXRpbmdNb2RlOkV9PXA7aWYoRSE9PXdfLnZlcnRpY2FsfHx3fHxiPT09d18uaG9yaXpvbnRhbHx8KHc9ITApLGI9RSwocC5oaWRkZW58fEU9PT13Xy52ZXJ0aWNhbCkmJiF3KXt1dihULG0pO2NvbnRpbnVlfXc9ITE7Y29uc3QgTT1uZXcgeShwLnRpbGVBbmNob3JYLHAudGlsZUFuY2hvclkpO2xldHt4OkEseTpTLHo6SX09aC5wcm9qZWN0aW9uLnByb2plY3RUaWxlUG9pbnQoTS54LE0ueSxjLmNhbm9uaWNhbCk7aWYobCl7Y29uc3RbZSx0LGldPWwoTSk7QSs9ZSxTKz10LEkrPWk7fWNvbnN0IEM9W0EsUyxJLDFdO2lmKHV1LnRyYW5zZm9ybU1hdDQoQyxDLHQpLCFydihDLGYpKXt1dihULG0pO2NvbnRpbnVlfWNvbnN0IHo9Q1szXSxEPWl2KGkudHJhbnNmb3JtLmdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UoaC5wcm9qZWN0aW9uKSx6KSxQPXNfKHUsZCxwKSxSPXM/UC9EOlAqRCxMPXR2KEEsUyxJLG4pO2lmKExbM108PTApe3V2KFQsbSk7Y29udGludWV9bGV0IGs9e307Y29uc3QgTz1zP251bGw6bCxCPWF2KHAsUiwhMSxhLHQsbixvLGUuZ2x5cGhPZmZzZXRBcnJheSxnLG0sXyxMLE0sayx2LE8saC5wcm9qZWN0aW9uLGMscyk7dz1CLnVzZVZlcnRpY2FsLE8mJkIubmVlZHNGbGlwcGluZyYmKGs9e30pLChCLm5vdEVub3VnaFJvb218fHd8fEIubmVlZHNGbGlwcGluZyYmYXYocCxSLCEwLGEsdCxuLG8sZS5nbHlwaE9mZnNldEFycmF5LGcsbSxfLEwsTSxrLHYsTyxoLnByb2plY3Rpb24sYyxzKS5ub3RFbm91Z2hSb29tKSYmdXYoVCxtKTt9cj8oZS50ZXh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShtKSxfJiZlLnRleHQuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXImJmUudGV4dC5nbG9iZUV4dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKF8pKTooZS5pY29uLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShtKSxfJiZlLmljb24uZ2xvYmVFeHRWZXJ0ZXhCdWZmZXImJmUuaWNvbi5nbG9iZUV4dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKF8pKTt9ZnVuY3Rpb24gb3YoZSx0LGkscixuLG8scyxhLGwsYyxoLHUsZCxwLGYsbSl7Y29uc3R7bGluZVN0YXJ0SW5kZXg6XyxnbHlwaFN0YXJ0SW5kZXg6ZyxzZWdtZW50Onl9PWEseD1nK2EubnVtR2x5cGhzLHY9XythLmxpbmVMZW5ndGgsYj10LmdldG9mZnNldFgoZyksdz10LmdldG9mZnNldFgoeC0xKSxUPWh2KGUqYixpLHIsbixvLHMseSxfLHYsbCxjLGgsdSxkLCEwLHAsZixtKTtpZighVClyZXR1cm4gbnVsbDtjb25zdCBFPWh2KGUqdyxpLHIsbixvLHMseSxfLHYsbCxjLGgsdSxkLCEwLHAsZixtKTtyZXR1cm4gRT97Zmlyc3Q6VCxsYXN0OkV9Om51bGx9ZnVuY3Rpb24gc3YoZSx0LGkscil7cmV0dXJuIGU9PT13Xy5ob3Jpem9udGFsJiZNYXRoLmFicyhyKT5NYXRoLmFicyhpKT97dXNlVmVydGljYWw6ITB9OmU9PT13Xy52ZXJ0aWNhbD9yPjA/e25lZWRzRmxpcHBpbmc6ITB9Om51bGw6dCE9PVl4LnVua25vd24mJmZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA9PT1lfHxNYXRoLmFicyh0L2UpPkt4fShpLHIpP3Q9PT1ZeC5mbGlwUmVxdWlyZWQ/e25lZWRzRmxpcHBpbmc6ITB9Om51bGw6aTwwP3tuZWVkc0ZsaXBwaW5nOiEwfTpudWxsfWZ1bmN0aW9uIGF2KGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQscCxmLG0sXyxnLHgpe2NvbnN0IHY9dC8yNCxiPWUubGluZU9mZnNldFgqdix3PWUubGluZU9mZnNldFkqdix7bGluZVN0YXJ0SW5kZXg6VCxnbHlwaFN0YXJ0SW5kZXg6RSxudW1HbHlwaHM6TSxzZWdtZW50OkEsd3JpdGluZ01vZGU6UyxmbGlwU3RhdGU6SX09ZSxDPVQrZS5saW5lTGVuZ3RoLHo9ZT0+e2lmKGgpe2NvbnN0W3QsaSxyXT1lLnVwLG49Yy5sZW5ndGg7cnkoaCxuKzAsdCxpLHIpLHJ5KGgsbisxLHQsaSxyKSxyeShoLG4rMix0LGkscikscnkoaCxuKzMsdCxpLHIpO31jb25zdFt0LGkscl09ZS5wb2ludDtueShjLHQsaSxyLGUuYW5nbGUpO307aWYoTT4xKXtjb25zdCB0PW92KHYsYSxiLHcsaSx1LGQsZSxsLG8scCxtLCExLF8sZyx4KTtpZighdClyZXR1cm4ge25vdEVub3VnaFJvb206ITB9O2lmKHImJiFpKXtsZXRbaSxyLG5dPXQuZmlyc3QucG9pbnQsW28sYSxsXT10Lmxhc3QucG9pbnQ7W2kscl09dHYoaSxyLG4scyksW28sYV09dHYobyxhLGwscyk7Y29uc3QgYz1zdihTLEksKG8taSkqZixhLXIpO2lmKGUuZmxpcFN0YXRlPWMmJmMubmVlZHNGbGlwcGluZz9ZeC5mbGlwUmVxdWlyZWQ6WXguZmxpcE5vdFJlcXVpcmVkLGMpcmV0dXJuIGN9eih0LmZpcnN0KTtmb3IobGV0IGU9RSsxO2U8RStNLTE7ZSsrKXtjb25zdCB0PWh2KHYqYS5nZXRvZmZzZXRYKGUpLGIsdyxpLHUsZCxBLFQsQyxsLG8scCxtLCExLCExLF8sZyx4KTtpZighdClyZXR1cm4gYy5sZW5ndGgtPTQqKGUtRSkse25vdEVub3VnaFJvb206ITB9O3oodCk7fXoodC5sYXN0KTt9ZWxzZSB7aWYociYmIWkpe2NvbnN0IHQ9dHYoZC54LGQueSwwLG4pLGk9VCtBKzEscj1uZXcgeShsLmdldHgoaSksbC5nZXR5KGkpKSxvPXR2KHIueCxyLnksMCxuKSxzPW9bM10+MD9vOmN2KGQscix0LDEsbix2b2lkIDAsXyxnLmNhbm9uaWNhbCksYT1zdihTLEksKHNbMF0tdFswXSkqZixzWzFdLXRbMV0pO2lmKGUuZmxpcFN0YXRlPWEmJmEubmVlZHNGbGlwcGluZz9ZeC5mbGlwUmVxdWlyZWQ6WXguZmxpcE5vdFJlcXVpcmVkLGEpcmV0dXJuIGF9Y29uc3QgdD1odih2KmEuZ2V0b2Zmc2V0WChFKSxiLHcsaSx1LGQsQSxULEMsbCxvLHAsbSwhMSwhMSxfLGcseCk7aWYoIXQpcmV0dXJuIHtub3RFbm91Z2hSb29tOiEwfTt6KHQpO31yZXR1cm4ge319ZnVuY3Rpb24gbHYoZSx0LGkscixuKXtjb25zdHt4Om8seTpzLHo6YX09ci5wcm9qZWN0VGlsZVBvaW50KGUueCxlLnksdCk7aWYoIW4pcmV0dXJuIHR2KG8scyxhLGkpO2NvbnN0W2wsYyxoXT1uKGUpO3JldHVybiB0dihvK2wscytjLGEraCxpKX1mdW5jdGlvbiBjdihlLHQsaSxyLG4sbyxzLGEpe2NvbnN0IGw9bHYoZS5zdWIodCkuX3VuaXQoKS5fYWRkKGUpLGEsbixzLG8pO3JldHVybiBNdS5zdWIobCxpLGwpLE11Lm5vcm1hbGl6ZShsLGwpLE11LnNjYWxlQW5kQWRkKGwsaSxsLHIpfWZ1bmN0aW9uIGh2KGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQscCxmLG0sXyxnKXtjb25zdCB4PXI/ZS10OmUrdDtsZXQgdj14PjA/MTotMSxiPTA7ciYmKHYqPS0xLGI9TWF0aC5QSSksdjwwJiYoYis9TWF0aC5QSSk7bGV0IHc9YStzKyh2PjA/MDoxKXwwLFQ9bixFPW4sTT0wLEE9MDtjb25zdCBTPU1hdGguYWJzKHgpLEk9W10sQz1bXTtsZXQgej1vLEQ9ejtjb25zdCBQPSgpPT5jdihELHosRSxTLU0rMSxoLGQsbSxfLmNhbm9uaWNhbCk7Zm9yKDtNK0E8PVM7KXtpZih3Kz12LHc8YXx8dz49bClyZXR1cm4gbnVsbDtpZihFPVQsRD16LEkucHVzaChFKSxwJiZDLnB1c2goRCksej1uZXcgeShjLmdldHgodyksYy5nZXR5KHcpKSxUPXVbd10sIVQpe2NvbnN0IGU9bHYoeixfLmNhbm9uaWNhbCxoLG0sZCk7VD1lWzNdPjA/dVt3XT1lOlAoKTt9TSs9QSxBPU11LmRpc3RhbmNlKEUsVCk7fWYmJmQmJih1W3ddJiYoVD1QKCksQT1NdS5kaXN0YW5jZShFLFQpKSx1W3ddPVQpO2NvbnN0IFI9KFMtTSkvQSxMPXouc3ViKEQpLl9tdWx0KFIpLl9hZGQoRCksaz1NdS5zdWIoW10sVCxFKSxPPU11LnNjYWxlQW5kQWRkKFtdLEUsayxSKTtsZXQgQj1bMCwwLDFdLEY9a1swXSxOPWtbMV07aWYoZyYmKEI9bS51cFZlY3RvcihfLmNhbm9uaWNhbCxMLngsTC55KSwwIT09QlswXXx8MCE9PUJbMV18fDEhPT1CWzJdKSl7Y29uc3QgZT1bQlsyXSwwLC1CWzBdXSx0PU11LmNyb3NzKFtdLEIsZSk7TXUubm9ybWFsaXplKGUsZSksTXUubm9ybWFsaXplKHQsdCksRj1NdS5kb3QoayxlKSxOPU11LmRvdChrLHQpO31pZihpKXtjb25zdCBlPU11LmNyb3NzKFtdLEIsayk7TXUubm9ybWFsaXplKGUsZSksTXUuc2NhbGVBbmRBZGQoTyxPLGUsaSp2KTt9Y29uc3QgVT1iK01hdGguYXRhbjIoTixGKTtyZXR1cm4gSS5wdXNoKE8pLHAmJkMucHVzaChMKSx7cG9pbnQ6TyxhbmdsZTpVLHBhdGg6SSx0aWxlUGF0aDpDLHVwOkJ9fWZ1bmN0aW9uIHV2KGUsdCl7Y29uc3QgaT10Lmxlbmd0aCxyPWkrNCplO3QucmVzaXplKHIpLHQuZmxvYXQzMi5maWxsKC0xLzAsNCppLDQqcik7fWZ1bmN0aW9uIGR2KGUsdCxpKXtjb25zdCByPXRbMF0sbj10WzFdO3JldHVybiBlWzBdPWlbMF0qcitpWzRdKm4raVsxMl0sZVsxXT1pWzFdKnIraVs1XSpuK2lbMTNdLGVbM109aVszXSpyK2lbN10qbitpWzE1XSxlfWNvbnN0IHB2PShlLHQsaSk9PigxLWkpKmUraSp0LGZ2PWU9PmUqZSplKmUqZTtjbGFzcyBtdntjb25zdHJ1Y3RvcihlLHQsaSxyLG4sbyxzKXt0aGlzLnRpbGVTaXplPTUxMix0aGlzLl9yZW5kZXJXb3JsZENvcGllcz12b2lkIDA9PT1ufHxuLHRoaXMuX21pblpvb209ZXx8MCx0aGlzLl9tYXhab29tPXR8fDIyLHRoaXMuX21pblBpdGNoPW51bGw9PWk/MDppLHRoaXMuX21heFBpdGNoPW51bGw9PXI/NjA6cix0aGlzLnNldFByb2plY3Rpb24obyksdGhpcy5zZXRNYXhCb3VuZHMocyksdGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTAsdGhpcy5fY2VudGVyPW5ldyBOZCgwLDApLHRoaXMuem9vbT0wLHRoaXMuYW5nbGU9MCx0aGlzLl9mb3Y9LjY0MzUwMTEwODc5MzI4NDQsdGhpcy5fcGl0Y2g9MCx0aGlzLl9uZWFyWj0wLHRoaXMuX2Zhclo9MCx0aGlzLl91bm1vZGlmaWVkPSEwLHRoaXMuX2VkZ2VJbnNldHM9bmV3IEJ4LHRoaXMuX3Byb2pNYXRyaXhDYWNoZT17fSx0aGlzLl9hbGlnbmVkUHJvak1hdHJpeENhY2hlPXt9LHRoaXMuX2ZvZ1RpbGVNYXRyaXhDYWNoZT17fSx0aGlzLl9kaXN0YW5jZVRpbGVEYXRhQ2FjaGU9e30sdGhpcy5fY2FtZXJhPW5ldyBqeCx0aGlzLl9jZW50ZXJBbHRpdHVkZT0wLHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb249MCx0aGlzLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT1cImdyb3VuZFwiLHRoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw9MSx0aGlzLmdsb2JlUmFkaXVzPTAsdGhpcy5nbG9iZUNlbnRlckluVmlld1NwYWNlPVswLDAsMF0sdGhpcy5faG9yaXpvblNoaWZ0PS4xLHRoaXMuX29ydGhvZ3JhcGhpY1Byb2plY3Rpb25BdExvd1BpdGNoPSExO31jbG9uZSgpe2NvbnN0IGU9bmV3IG12KHRoaXMuX21pblpvb20sdGhpcy5fbWF4Wm9vbSx0aGlzLl9taW5QaXRjaCx0aGlzLm1heFBpdGNoLHRoaXMuX3JlbmRlcldvcmxkQ29waWVzLHRoaXMuZ2V0UHJvamVjdGlvbigpKTtyZXR1cm4gZS5fZWxldmF0aW9uPXRoaXMuX2VsZXZhdGlvbixlLl9jZW50ZXJBbHRpdHVkZT10aGlzLl9jZW50ZXJBbHRpdHVkZSxlLl9jZW50ZXJBbHRpdHVkZVZhbGlkRm9yRXhhZ2dlcmF0aW9uPXRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb24sZS50aWxlU2l6ZT10aGlzLnRpbGVTaXplLGUubWVyY2F0b3JGcm9tVHJhbnNpdGlvbj10aGlzLm1lcmNhdG9yRnJvbVRyYW5zaXRpb24sZS53aWR0aD10aGlzLndpZHRoLGUuaGVpZ2h0PXRoaXMuaGVpZ2h0LGUuY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlPXRoaXMuY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlLGUuX2NlbnRlcj10aGlzLl9jZW50ZXIsZS5fc2V0Wm9vbSh0aGlzLnpvb20pLGUuX3NlYUxldmVsWm9vbT10aGlzLl9zZWFMZXZlbFpvb20sZS5hbmdsZT10aGlzLmFuZ2xlLGUuX2Zvdj10aGlzLl9mb3YsZS5fcGl0Y2g9dGhpcy5fcGl0Y2gsZS5fbmVhclo9dGhpcy5fbmVhclosZS5fZmFyWj10aGlzLl9mYXJaLGUuX2F2ZXJhZ2VFbGV2YXRpb249dGhpcy5fYXZlcmFnZUVsZXZhdGlvbixlLl91bm1vZGlmaWVkPXRoaXMuX3VubW9kaWZpZWQsZS5fZWRnZUluc2V0cz10aGlzLl9lZGdlSW5zZXRzLmNsb25lKCksZS5fY2FtZXJhPXRoaXMuX2NhbWVyYS5jbG9uZSgpLGUuX2NhbGNNYXRyaWNlcygpLGUuZnJlZXplVGlsZUNvdmVyYWdlPXRoaXMuZnJlZXplVGlsZUNvdmVyYWdlLGUuZnJ1c3R1bUNvcm5lcnM9dGhpcy5mcnVzdHVtQ29ybmVycyxlfWdldCBpc09ydGhvZ3JhcGhpYygpe3JldHVybiBcImdsb2JlXCIhPT10aGlzLnByb2plY3Rpb24ubmFtZSYmdGhpcy5fb3J0aG9ncmFwaGljUHJvamVjdGlvbkF0TG93UGl0Y2gmJnRoaXMucGl0Y2g8MTV9Z2V0IGVsZXZhdGlvbigpe3JldHVybiB0aGlzLl9lbGV2YXRpb259c2V0IGVsZXZhdGlvbihlKXt0aGlzLl9lbGV2YXRpb24hPT1lJiYodGhpcy5fZWxldmF0aW9uPWUsdGhpcy5fdXBkYXRlQ2FtZXJhT25UZXJyYWluKCksdGhpcy5fY2FsY01hdHJpY2VzKCkpO31nZXQgZGVwdGhPY2NsdXNpb25Gb3JTeW1ib2xzQW5kQ2lyY2xlcygpe3JldHVybiBcImdsb2JlXCIhPT10aGlzLnByb2plY3Rpb24ubmFtZSYmIXRoaXMuaXNPcnRob2dyYXBoaWN9dXBkYXRlRWxldmF0aW9uKGUsdD0hMSl7Y29uc3QgaT10aGlzLl9lbGV2YXRpb24mJnRoaXMuX2VsZXZhdGlvbi5leGFnZ2VyYXRpb24oKSE9PXRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb247KG51bGw9PXRoaXMuX3NlYUxldmVsWm9vbXx8aSkmJnRoaXMuX3VwZGF0ZUNhbWVyYU9uVGVycmFpbigpLChlfHxpKSYmdGhpcy5fY29uc3RyYWluQ2FtZXJhKHQpLHRoaXMuX2NhbGNNYXRyaWNlcygpO31nZXRQcm9qZWN0aW9uKCl7cmV0dXJuIE8odGhpcy5wcm9qZWN0aW9uLFtcIm5hbWVcIixcImNlbnRlclwiLFwicGFyYWxsZWxzXCJdKX1zZXRQcm9qZWN0aW9uKGUpe3RoaXMucHJvamVjdGlvbk9wdGlvbnM9ZXx8e25hbWU6XCJtZXJjYXRvclwifTtjb25zdCB0PXRoaXMucHJvamVjdGlvbj90aGlzLmdldFByb2plY3Rpb24oKTp2b2lkIDA7dGhpcy5wcm9qZWN0aW9uPUhnKHRoaXMucHJvamVjdGlvbk9wdGlvbnMpO2NvbnN0IGk9IXgodCx0aGlzLmdldFByb2plY3Rpb24oKSk7cmV0dXJuIGkmJnRoaXMuX2NhbGNNYXRyaWNlcygpLHRoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbj0hMSxpfXNldE9ydGhvZ3JhcGhpY1Byb2plY3Rpb25BdExvd1BpdGNoKGUpe3JldHVybiB0aGlzLl9vcnRob2dyYXBoaWNQcm9qZWN0aW9uQXRMb3dQaXRjaCE9PWUmJih0aGlzLl9vcnRob2dyYXBoaWNQcm9qZWN0aW9uQXRMb3dQaXRjaD1lLHRoaXMuX2NhbGNNYXRyaWNlcygpLCEwKX1zZXRNZXJjYXRvckZyb21UcmFuc2l0aW9uKCl7Y29uc3QgZT10aGlzLnByb2plY3Rpb24ubmFtZTt0aGlzLm1lcmNhdG9yRnJvbVRyYW5zaXRpb249ITAsdGhpcy5wcm9qZWN0aW9uT3B0aW9ucz17bmFtZTpcIm1lcmNhdG9yXCJ9LHRoaXMucHJvamVjdGlvbj1IZyh7bmFtZTpcIm1lcmNhdG9yXCJ9KTtjb25zdCB0PWUhPT10aGlzLnByb2plY3Rpb24ubmFtZTtyZXR1cm4gdCYmdGhpcy5fY2FsY01hdHJpY2VzKCksdH1nZXQgbWluWm9vbSgpe3JldHVybiB0aGlzLl9taW5ab29tfXNldCBtaW5ab29tKGUpe3RoaXMuX21pblpvb20hPT1lJiYodGhpcy5fbWluWm9vbT1lLHRoaXMuem9vbT1NYXRoLm1heCh0aGlzLnpvb20sZSkpO31nZXQgbWF4Wm9vbSgpe3JldHVybiB0aGlzLl9tYXhab29tfXNldCBtYXhab29tKGUpe3RoaXMuX21heFpvb20hPT1lJiYodGhpcy5fbWF4Wm9vbT1lLHRoaXMuem9vbT1NYXRoLm1pbih0aGlzLnpvb20sZSkpO31nZXQgbWluUGl0Y2goKXtyZXR1cm4gdGhpcy5fbWluUGl0Y2h9c2V0IG1pblBpdGNoKGUpe3RoaXMuX21pblBpdGNoIT09ZSYmKHRoaXMuX21pblBpdGNoPWUsdGhpcy5waXRjaD1NYXRoLm1heCh0aGlzLnBpdGNoLGUpKTt9Z2V0IG1heFBpdGNoKCl7cmV0dXJuIHRoaXMuX21heFBpdGNofXNldCBtYXhQaXRjaChlKXt0aGlzLl9tYXhQaXRjaCE9PWUmJih0aGlzLl9tYXhQaXRjaD1lLHRoaXMucGl0Y2g9TWF0aC5taW4odGhpcy5waXRjaCxlKSk7fWdldCByZW5kZXJXb3JsZENvcGllcygpe3JldHVybiB0aGlzLl9yZW5kZXJXb3JsZENvcGllcyYmITA9PT10aGlzLnByb2plY3Rpb24uc3VwcG9ydHNXb3JsZENvcGllc31zZXQgcmVuZGVyV29ybGRDb3BpZXMoZSl7dm9pZCAwPT09ZT9lPSEwOm51bGw9PT1lJiYoZT0hMSksdGhpcy5fcmVuZGVyV29ybGRDb3BpZXM9ZTt9Z2V0IHdvcmxkU2l6ZSgpe3JldHVybiB0aGlzLnRpbGVTaXplKnRoaXMuc2NhbGV9Z2V0IGNhbWVyYVdvcmxkU2l6ZUZvckZvZygpe2NvbnN0IGU9TWF0aC5tYXgodGhpcy5fY2FtZXJhLmdldERpc3RhbmNlVG9FbGV2YXRpb24odGhpcy5fYXZlcmFnZUVsZXZhdGlvbiksTnVtYmVyLkVQU0lMT04pO3JldHVybiB0aGlzLl93b3JsZFNpemVGcm9tWm9vbSh0aGlzLl96b29tRnJvbU1lcmNhdG9yWihlKSl9Z2V0IGNhbWVyYVdvcmxkU2l6ZSgpe2NvbnN0IGU9TWF0aC5tYXgodGhpcy5fY2FtZXJhLmdldERpc3RhbmNlVG9FbGV2YXRpb24odGhpcy5fYXZlcmFnZUVsZXZhdGlvbiwhMCksTnVtYmVyLkVQU0lMT04pO3JldHVybiB0aGlzLl93b3JsZFNpemVGcm9tWm9vbSh0aGlzLl96b29tRnJvbU1lcmNhdG9yWihlKSl9Z2V0IHBpeGVsc1Blck1ldGVyKCl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi5waXhlbHNQZXJNZXRlcih0aGlzLmNlbnRlci5sYXQsdGhpcy53b3JsZFNpemUpfWdldCBjYW1lcmFQaXhlbHNQZXJNZXRlcigpe3JldHVybiBaZCgxLHRoaXMuY2VudGVyLmxhdCkqdGhpcy5jYW1lcmFXb3JsZFNpemVGb3JGb2d9Z2V0IGNlbnRlck9mZnNldCgpe3JldHVybiB0aGlzLmNlbnRlclBvaW50Ll9zdWIodGhpcy5zaXplLl9kaXYoMikpfWdldCBzaXplKCl7cmV0dXJuIG5ldyB5KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfWdldCBiZWFyaW5nKCl7cmV0dXJuIFAodGhpcy5yb3RhdGlvbiwtMTgwLDE4MCl9c2V0IGJlYXJpbmcoZSl7dGhpcy5yb3RhdGlvbj1lO31nZXQgcm90YXRpb24oKXtyZXR1cm4gLXRoaXMuYW5nbGUvTWF0aC5QSSoxODB9c2V0IHJvdGF0aW9uKGUpe2NvbnN0IHQ9LWUqTWF0aC5QSS8xODA7dGhpcy5hbmdsZSE9PXQmJih0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuYW5nbGU9dCx0aGlzLl9jYWxjTWF0cmljZXMoKSx0aGlzLnJvdGF0aW9uTWF0cml4PWZ1LmNyZWF0ZSgpLGZ1LnJvdGF0ZSh0aGlzLnJvdGF0aW9uTWF0cml4LHRoaXMucm90YXRpb25NYXRyaXgsdGhpcy5hbmdsZSkpO31nZXQgcGl0Y2goKXtyZXR1cm4gdGhpcy5fcGl0Y2gvTWF0aC5QSSoxODB9c2V0IHBpdGNoKGUpe2NvbnN0IHQ9eihlLHRoaXMubWluUGl0Y2gsdGhpcy5tYXhQaXRjaCkvMTgwKk1hdGguUEk7dGhpcy5fcGl0Y2ghPT10JiYodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9waXRjaD10LHRoaXMuX2NhbGNNYXRyaWNlcygpKTt9Z2V0IGFzcGVjdCgpe3JldHVybiB0aGlzLndpZHRoL3RoaXMuaGVpZ2h0fWdldCBmb3YoKXtyZXR1cm4gdGhpcy5fZm92L01hdGguUEkqMTgwfWdldCBmb3ZYKCl7cmV0dXJuIHRoaXMuX2Zvdn1nZXQgZm92WSgpe2NvbnN0IGU9MS9NYXRoLnRhbiguNSp0aGlzLmZvdlgpO3JldHVybiAyKk1hdGguYXRhbigxL3RoaXMuYXNwZWN0L2UpfXNldCBmb3YoZSl7ZT1NYXRoLm1heCguMDEsTWF0aC5taW4oNjAsZSkpLHRoaXMuX2ZvdiE9PWUmJih0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX2Zvdj13KGUpLHRoaXMuX2NhbGNNYXRyaWNlcygpKTt9Z2V0IGF2ZXJhZ2VFbGV2YXRpb24oKXtyZXR1cm4gdGhpcy5fYXZlcmFnZUVsZXZhdGlvbn1zZXQgYXZlcmFnZUVsZXZhdGlvbihlKXt0aGlzLl9hdmVyYWdlRWxldmF0aW9uPWUsdGhpcy5fY2FsY0ZvZ01hdHJpY2VzKCksdGhpcy5fZGlzdGFuY2VUaWxlRGF0YUNhY2hlPXt9O31nZXQgem9vbSgpe3JldHVybiB0aGlzLl96b29tfXNldCB6b29tKGUpe2NvbnN0IHQ9TWF0aC5taW4oTWF0aC5tYXgoZSx0aGlzLm1pblpvb20pLHRoaXMubWF4Wm9vbSk7dGhpcy5fem9vbSE9PXQmJih0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX3NldFpvb20odCksdGhpcy5fdXBkYXRlU2VhTGV2ZWxab29tKCksdGhpcy5fY29uc3RyYWluKCksdGhpcy5fY2FsY01hdHJpY2VzKCkpO31fc2V0Wm9vbShlKXt0aGlzLl96b29tPWUsdGhpcy5zY2FsZT10aGlzLnpvb21TY2FsZShlKSx0aGlzLnRpbGVab29tPU1hdGguZmxvb3IoZSksdGhpcy56b29tRnJhY3Rpb249ZS10aGlzLnRpbGVab29tO31fdXBkYXRlQ2FtZXJhT25UZXJyYWluKCl7Y29uc3QgZT10aGlzLmVsZXZhdGlvbj90aGlzLmVsZXZhdGlvbi5nZXRBdFBvaW50KHRoaXMubG9jYXRpb25Db29yZGluYXRlKHRoaXMuY2VudGVyKSxOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpOk51bWJlci5ORUdBVElWRV9JTkZJTklUWSx0PXRoaXMuZWxldmF0aW9uJiZlPT09TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZJiZ0aGlzLmVsZXZhdGlvbi52aXNpYmxlRGVtVGlsZXMubGVuZ3RoPjAmJnRoaXMuZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpPjAmJnRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb247aWYoIXRoaXMuX2VsZXZhdGlvbnx8ZT09PU51bWJlci5ORUdBVElWRV9JTkZJTklUWSYmKCF0fHwhdGhpcy5fY2VudGVyQWx0aXR1ZGUpKXJldHVybiB0aGlzLl9jZW50ZXJBbHRpdHVkZT0wLHRoaXMuX3NlYUxldmVsWm9vbT1udWxsLHZvaWQodGhpcy5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbj12b2lkIDApO2NvbnN0IGk9dGhpcy5fZWxldmF0aW9uO3R8fHRoaXMuX2NlbnRlckFsdGl0dWRlJiZ0aGlzLl9jZW50ZXJBbHRpdHVkZVZhbGlkRm9yRXhhZ2dlcmF0aW9uJiZpLmV4YWdnZXJhdGlvbigpJiZ0aGlzLl9jZW50ZXJBbHRpdHVkZVZhbGlkRm9yRXhhZ2dlcmF0aW9uIT09aS5leGFnZ2VyYXRpb24oKT8odGhpcy5fY2VudGVyQWx0aXR1ZGU9dGhpcy5fY2VudGVyQWx0aXR1ZGUvdGhpcy5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbippLmV4YWdnZXJhdGlvbigpLHRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb249aS5leGFnZ2VyYXRpb24oKSk6KHRoaXMuX2NlbnRlckFsdGl0dWRlPWV8fDAsdGhpcy5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbj1pLmV4YWdnZXJhdGlvbigpKSx0aGlzLl91cGRhdGVTZWFMZXZlbFpvb20oKTt9X3VwZGF0ZVNlYUxldmVsWm9vbSgpe3ZvaWQgMCE9PXRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb24mJih0aGlzLl9zZWFMZXZlbFpvb209dGhpcy5fem9vbUZyb21NZXJjYXRvclooKHRoaXMucGl4ZWxzUGVyTWV0ZXIqdGhpcy5fY2VudGVyQWx0aXR1ZGUrdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlKS90aGlzLndvcmxkU2l6ZSkpO31zYW1wbGVBdmVyYWdlRWxldmF0aW9uKCl7aWYoIXRoaXMuX2VsZXZhdGlvbilyZXR1cm4gMDtjb25zdCBlPXRoaXMuX2VsZXZhdGlvbix0PVtbLjUsLjJdLFsuMywuNV0sWy41LC41XSxbLjcsLjVdLFsuNSwuOF1dLGk9dGhpcy5ob3Jpem9uTGluZUZyb21Ub3AoKTtsZXQgcj0wLG49MDtmb3IobGV0IG89MDtvPHQubGVuZ3RoO28rKyl7Y29uc3Qgcz1uZXcgeSh0W29dWzBdKnRoaXMud2lkdGgsaSt0W29dWzFdKih0aGlzLmhlaWdodC1pKSksYT1lLnBvaW50Q29vcmRpbmF0ZShzKTtpZighYSljb250aW51ZTtjb25zdCBsPTEvTWF0aC5oeXBvdChhWzBdLXRoaXMuX2NhbWVyYS5wb3NpdGlvblswXSxhWzFdLXRoaXMuX2NhbWVyYS5wb3NpdGlvblsxXSk7cis9YVszXSpsLG4rPWw7fXJldHVybiAwPT09bj9OYU46ci9ufWdldCBjZW50ZXIoKXtyZXR1cm4gdGhpcy5fY2VudGVyfXNldCBjZW50ZXIoZSl7ZS5sYXQ9PT10aGlzLl9jZW50ZXIubGF0JiZlLmxuZz09PXRoaXMuX2NlbnRlci5sbmd8fCh0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX2NlbnRlcj1lLHRoaXMuX3RlcnJhaW5FbmFibGVkKCkmJihcImdyb3VuZFwiPT09dGhpcy5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U/dGhpcy5fdXBkYXRlQ2FtZXJhT25UZXJyYWluKCk6dGhpcy5fdXBkYXRlWm9vbUZyb21FbGV2YXRpb24oKSksdGhpcy5fY29uc3RyYWluKCksdGhpcy5fY2FsY01hdHJpY2VzKCkpO31fdXBkYXRlWm9vbUZyb21FbGV2YXRpb24oKXtpZihudWxsPT10aGlzLl9zZWFMZXZlbFpvb218fCF0aGlzLl9lbGV2YXRpb24pcmV0dXJuO2NvbnN0IGU9dGhpcy5fc2VhTGV2ZWxab29tLHQ9dGhpcy5fZWxldmF0aW9uLmdldEF0UG9pbnRPclplcm8odGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5jZW50ZXIpKSxpPXRoaXMucGl4ZWxzUGVyTWV0ZXIvdGhpcy53b3JsZFNpemUqdCxyPXRoaXMuX21lcmNhdG9yWmZyb21ab29tKGUpLG49dGhpcy5fbWVyY2F0b3JaZnJvbVpvb20odGhpcy5fbWF4Wm9vbSksbz1NYXRoLm1heChyLWksbik7dGhpcy5fc2V0Wm9vbSh0aGlzLl96b29tRnJvbU1lcmNhdG9yWihvKSk7fWdldCBwYWRkaW5nKCl7cmV0dXJuIHRoaXMuX2VkZ2VJbnNldHMudG9KU09OKCl9c2V0IHBhZGRpbmcoZSl7dGhpcy5fZWRnZUluc2V0cy5lcXVhbHMoZSl8fCh0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX2VkZ2VJbnNldHMuaW50ZXJwb2xhdGUodGhpcy5fZWRnZUluc2V0cyxlLDEpLHRoaXMuX2NhbGNNYXRyaWNlcygpKTt9Y29tcHV0ZVpvb21SZWxhdGl2ZVRvKGUpe2NvbnN0IHQ9dGhpcy5yYXlJbnRlcnNlY3Rpb25Db29yZGluYXRlKHRoaXMucG9pbnRSYXlJbnRlcnNlY3Rpb24odGhpcy5jZW50ZXJQb2ludCxlLnRvQWx0aXR1ZGUoKSkpO2xldCBpO2k9ZS56PHRoaXMuX2NhbWVyYS5wb3NpdGlvblsyXT9bdC54LHQueSx0LnpdOltlLngsZS55LGUuel07Y29uc3Qgcj1NdS5sZW5ndGgoTXUuc3ViKFtdLHRoaXMuX2NhbWVyYS5wb3NpdGlvbixpKSk7cmV0dXJuIHoodGhpcy5fem9vbUZyb21NZXJjYXRvcloociksdGhpcy5fbWluWm9vbSx0aGlzLl9tYXhab29tKX1zZXRGcmVlQ2FtZXJhT3B0aW9ucyhlKXtpZighdGhpcy5oZWlnaHQpcmV0dXJuO2lmKCFlLnBvc2l0aW9uJiYhZS5vcmllbnRhdGlvbilyZXR1cm47dGhpcy5fdXBkYXRlQ2FtZXJhU3RhdGUoKTtsZXQgdD0hMTtpZihlLm9yaWVudGF0aW9uJiYhYnUuZXhhY3RFcXVhbHMoZS5vcmllbnRhdGlvbix0aGlzLl9jYW1lcmEub3JpZW50YXRpb24pJiYodD10aGlzLl9zZXRDYW1lcmFPcmllbnRhdGlvbihlLm9yaWVudGF0aW9uKSksZS5wb3NpdGlvbil7Y29uc3QgaT1bZS5wb3NpdGlvbi54LGUucG9zaXRpb24ueSxlLnBvc2l0aW9uLnpdO011LmV4YWN0RXF1YWxzKGksdGhpcy5fY2FtZXJhLnBvc2l0aW9uKXx8KHRoaXMuX3NldENhbWVyYVBvc2l0aW9uKGkpLHQ9ITApO310JiYodGhpcy5fdXBkYXRlU3RhdGVGcm9tQ2FtZXJhKCksdGhpcy5yZWNlbnRlck9uVGVycmFpbigpKTt9Z2V0RnJlZUNhbWVyYU9wdGlvbnMoKXt0aGlzLl91cGRhdGVDYW1lcmFTdGF0ZSgpO2NvbnN0IGU9dGhpcy5fY2FtZXJhLnBvc2l0aW9uLHQ9bmV3IFZ4O3JldHVybiB0LnBvc2l0aW9uPW5ldyBlcChlWzBdLGVbMV0sZVsyXSksdC5vcmllbnRhdGlvbj10aGlzLl9jYW1lcmEub3JpZW50YXRpb24sdC5fZWxldmF0aW9uPXRoaXMuZWxldmF0aW9uLHQuX3JlbmRlcldvcmxkQ29waWVzPXRoaXMucmVuZGVyV29ybGRDb3BpZXMsdH1fc2V0Q2FtZXJhT3JpZW50YXRpb24oZSl7aWYoIWJ1Lmxlbmd0aChlKSlyZXR1cm4gITE7YnUubm9ybWFsaXplKGUsZSk7Y29uc3QgdD1NdS50cmFuc2Zvcm1RdWF0KFtdLFswLDAsLTFdLGUpLGk9TXUudHJhbnNmb3JtUXVhdChbXSxbMCwtMSwwXSxlKTtpZihpWzJdPDApcmV0dXJuICExO2NvbnN0IHI9VXgodCxpKTtyZXR1cm4gISFyJiYodGhpcy5fY2FtZXJhLm9yaWVudGF0aW9uPXIsITApfV9zZXRDYW1lcmFQb3NpdGlvbihlKXtjb25zdCB0PXRoaXMuem9vbVNjYWxlKHRoaXMubWluWm9vbSkqdGhpcy50aWxlU2l6ZSxpPXRoaXMuem9vbVNjYWxlKHRoaXMubWF4Wm9vbSkqdGhpcy50aWxlU2l6ZSxyPXRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZTtlWzJdPXooZVsyXSxyL2ksci90KSx0aGlzLl9jYW1lcmEucG9zaXRpb249ZTt9Z2V0IGNlbnRlclBvaW50KCl7cmV0dXJuIHRoaXMuX2VkZ2VJbnNldHMuZ2V0Q2VudGVyKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfWdldCBmb3ZBYm92ZUNlbnRlcigpe3JldHVybiB0aGlzLl9mb3YqKC41K3RoaXMuY2VudGVyT2Zmc2V0LnkvdGhpcy5oZWlnaHQpfWlzUGFkZGluZ0VxdWFsKGUpe3JldHVybiB0aGlzLl9lZGdlSW5zZXRzLmVxdWFscyhlKX1pbnRlcnBvbGF0ZVBhZGRpbmcoZSx0LGkpe3RoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5fZWRnZUluc2V0cy5pbnRlcnBvbGF0ZShlLHQsaSksdGhpcy5fY29uc3RyYWluKCksdGhpcy5fY2FsY01hdHJpY2VzKCk7fWNvdmVyaW5nWm9vbUxldmVsKGUpe2NvbnN0IHQ9KGUucm91bmRab29tP01hdGgucm91bmQ6TWF0aC5mbG9vcikodGhpcy56b29tK3RoaXMuc2NhbGVab29tKHRoaXMudGlsZVNpemUvZS50aWxlU2l6ZSkpO3JldHVybiBNYXRoLm1heCgwLHQpfWdldFZpc2libGVVbndyYXBwZWRDb29yZGluYXRlcyhlKXtjb25zdCB0PVtuZXcgT3UoMCxlKV07aWYodGhpcy5yZW5kZXJXb3JsZENvcGllcyl7Y29uc3QgaT10aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgeSgwLDApKSxyPXRoaXMucG9pbnRDb29yZGluYXRlKG5ldyB5KHRoaXMud2lkdGgsMCkpLG49dGhpcy5wb2ludENvb3JkaW5hdGUobmV3IHkodGhpcy53aWR0aCx0aGlzLmhlaWdodCkpLG89dGhpcy5wb2ludENvb3JkaW5hdGUobmV3IHkoMCx0aGlzLmhlaWdodCkpLHM9TWF0aC5mbG9vcihNYXRoLm1pbihpLngsci54LG4ueCxvLngpKSxhPU1hdGguZmxvb3IoTWF0aC5tYXgoaS54LHIueCxuLngsby54KSksbD0xO2ZvcihsZXQgaT1zLWw7aTw9YStsO2krKykwIT09aSYmdC5wdXNoKG5ldyBPdShpLGUpKTt9cmV0dXJuIHR9aXNMT0REaXNhYmxlZChlKXtyZXR1cm4gKCFlfHx0aGlzLnBpdGNoPD02MCkmJnRoaXMuX2VkZ2VJbnNldHMudG9wPD10aGlzLl9lZGdlSW5zZXRzLmJvdHRvbSYmIXRoaXMuX2VsZXZhdGlvbiYmIXRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2V9ZXh0ZW5kVGlsZUNvdmVyRm9yU2hhZG93cyhlLHQsaSl7bGV0IHI9W107aWYoMD09PXRbMF0mJjA9PT10WzFdKXJldHVybiByO2Zvcihjb25zdCBpIG9mIGUpe2NvbnN0IGU9aS5jYW5vbmljYWwsbj1pLm92ZXJzY2FsZWRaLG89aS53cmFwLHM9MTw8ZS56LGE9ZS54KzE8cyxsPWUueD4wLGM9ZS55KzE8cyxoPWUueT4wLHU9aS53cmFwLShsPzA6MSksZD1pLndyYXArKGE/MDoxKSxwPWw/ZS54LTE6cy0xLGY9YT9lLngrMTowO3RbMF08MD8oci5wdXNoKG5ldyBCdShuLGQsZS56LGYsZS55KSksdFsxXTwwJiZjJiYoci5wdXNoKG5ldyBCdShuLG8sZS56LGUueCxlLnkrMSkpLHIucHVzaChuZXcgQnUobixkLGUueixmLGUueSsxKSkpLHRbMV0+MCYmaCYmKHIucHVzaChuZXcgQnUobixvLGUueixlLngsZS55LTEpKSxyLnB1c2gobmV3IEJ1KG4sZCxlLnosZixlLnktMSkpKSk6dFswXT4wPyhyLnB1c2gobmV3IEJ1KG4sdSxlLnoscCxlLnkpKSx0WzFdPDAmJmMmJihyLnB1c2gobmV3IEJ1KG4sbyxlLnosZS54LGUueSsxKSksci5wdXNoKG5ldyBCdShuLHUsZS56LHAsZS55KzEpKSksdFsxXT4wJiZoJiYoci5wdXNoKG5ldyBCdShuLG8sZS56LGUueCxlLnktMSkpLHIucHVzaChuZXcgQnUobix1LGUueixwLGUueS0xKSkpKTp0WzFdPDAmJmM/ci5wdXNoKG5ldyBCdShuLG8sZS56LGUueCxlLnkrMSkpOmgmJnIucHVzaChuZXcgQnUobixvLGUueixlLngsZS55LTEpKTt9aWYoci5sZW5ndGg+MSl7ci5zb3J0KCgoZSx0KT0+ZS5vdmVyc2NhbGVkWi10Lm92ZXJzY2FsZWRafHxlLndyYXAtdC53cmFwfHxlLmNhbm9uaWNhbC56LXQuY2Fub25pY2FsLnp8fGUuY2Fub25pY2FsLngtdC5jYW5vbmljYWwueHx8ZS5jYW5vbmljYWwueS10LmNhbm9uaWNhbC55KSk7bGV0IGU9MCx0PTA7Zm9yKDt0PHIubGVuZ3RoOylyW3RdLmVxdWFscyhyW2VdKT8rK3Q6clsrK2VdPXJbdCsrXTtyLmxlbmd0aD1lKzE7fWNvbnN0IG49W107Zm9yKGNvbnN0IGUgb2YgcilyLnNvbWUoKHQ9PmUuaXNDaGlsZE9mKHQpKSl8fG4ucHVzaChlKTtyZXR1cm4gcj1uLmZpbHRlcigodD0+IWUuc29tZSgoZT0+ISEodC5vdmVyc2NhbGVkWjxpJiZlLmlzQ2hpbGRPZih0KSl8fHQuZXF1YWxzKGUpfHx0LmlzQ2hpbGRPZihlKSkpKSkscn1jb3ZlcmluZ1RpbGVzKGUpe2xldCB0PXRoaXMuY292ZXJpbmdab29tTGV2ZWwoZSk7Y29uc3QgaT10LHI9dGhpcy5lbGV2YXRpb24mJnRoaXMuZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpLG49ciYmIWUuaXNUZXJyYWluREVNLG89XCJtZXJjYXRvclwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWU7aWYodm9pZCAwIT09ZS5taW56b29tJiZ0PGUubWluem9vbSlyZXR1cm4gW107dm9pZCAwIT09ZS5tYXh6b29tJiZ0PmUubWF4em9vbSYmKHQ9ZS5tYXh6b29tKTtjb25zdCBzPXRoaXMubG9jYXRpb25Db29yZGluYXRlKHRoaXMuY2VudGVyKSxhPXRoaXMuY2VudGVyLmxhdCxsPTE8PHQsYz1bbCpzLngsbCpzLnksMF0saD1cImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSx1PSFoLGQ9JHUuZnJvbUludlByb2plY3Rpb25NYXRyaXgodGhpcy5pbnZQcm9qTWF0cml4LHRoaXMud29ybGRTaXplLHQsdSkscD1oP3RoaXMuX2NhbWVyYS5tZXJjYXRvclBvc2l0aW9uOnRoaXMucG9pbnRDb29yZGluYXRlKHRoaXMuZ2V0Q2FtZXJhUG9pbnQoKSksZj1sKlpkKDEsdGhpcy5jZW50ZXIubGF0KSxtPXRoaXMuX2NhbWVyYS5wb3NpdGlvblsyXS9aZCgxLHRoaXMuY2VudGVyLmxhdCksXz1bbCpwLngsbCpwLnksbSoodT8xOmYpXSxnPWh8fHIseT10aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UvZS50aWxlU2l6ZSooZS5yb3VuZFpvb20/MTouNTAyKSx4PXRoaXMuaXNMT0REaXNhYmxlZCghMCk/dDowLHY9ZS5pc1RlcnJhaW5ERU0mJnRoaXMuX2VsZXZhdGlvbj8xZTQqdGhpcy5fZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpOnRoaXMuX2NlbnRlckFsdGl0dWRlLGI9ZS5pc1RlcnJhaW5ERU0/LXY6dGhpcy5fZWxldmF0aW9uP3RoaXMuX2VsZXZhdGlvbi5nZXRNaW5FbGV2YXRpb25CZWxvd01TTCgpOjAsdz10aGlzLnByb2plY3Rpb24uaXNSZXByb2plY3RlZEluVGlsZVNwYWNlP3F4KHRoaXMpOjEsVD1lPT57Y29uc3QgdD0xLzRlNCxpPW5ldyBlcChlLngrdCxlLnksZS56KSxyPW5ldyBlcChlLngsZS55K3QsZS56KSxuPWUudG9MbmdMYXQoKSxvPWkudG9MbmdMYXQoKSxzPXIudG9MbmdMYXQoKSxhPXRoaXMubG9jYXRpb25Db29yZGluYXRlKG4pLGw9dGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUobyksYz10aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZShzKSxoPU1hdGguaHlwb3QobC54LWEueCxsLnktYS55KSx1PU1hdGguaHlwb3QoYy54LWEueCxjLnktYS55KTtyZXR1cm4gTWF0aC5zcXJ0KGgqdSkqdy90fSxNPWU9Pntjb25zdCB0PXYsaT1iO3JldHVybiB7YWFiYjpFZyh0aGlzLGwsMCwwLDAsZSxpLHQsdGhpcy5wcm9qZWN0aW9uKSx6b29tOjAseDowLHk6MCxtaW5aOmksbWF4Wjp0LHdyYXA6ZSxmdWxseVZpc2libGU6ITF9fSxBPVtdO2xldCBTPVtdO2NvbnN0IEk9dCxDPWUucmVwYXJzZU92ZXJzY2FsZWQ/aTp0LHo9ZT0+ZSplLEQ9eigobS10aGlzLl9jZW50ZXJBbHRpdHVkZSkqZiksUD1lPT57aWYoIXRoaXMuX2VsZXZhdGlvbnx8IWUudGlsZUlEfHwhbylyZXR1cm47Y29uc3QgdD10aGlzLl9lbGV2YXRpb24uZ2V0TWluTWF4Rm9yVGlsZShlLnRpbGVJRCksaT1lLmFhYmI7dD8oaS5taW5bMl09dC5taW4saS5tYXhbMl09dC5tYXgsaS5jZW50ZXJbMl09KGkubWluWzJdK2kubWF4WzJdKS8yKTooZS5zaG91bGRTcGxpdD1SKGUpLGUuc2hvdWxkU3BsaXR8fChpLm1pblsyXT1pLm1heFsyXT1pLmNlbnRlclsyXT10aGlzLl9jZW50ZXJBbHRpdHVkZSkpO30sUj1lPT57aWYoZS56b29tPHgpcmV0dXJuICEwO2lmKGUuem9vbT09PUkpcmV0dXJuICExO2lmKG51bGwhPWUuc2hvdWxkU3BsaXQpcmV0dXJuIGUuc2hvdWxkU3BsaXQ7Y29uc3QgdD1lLmFhYmIuZGlzdGFuY2VYKF8pLHI9ZS5hYWJiLmRpc3RhbmNlWShfKTtsZXQgbz1ELHM9MTtpZihoKXtvPXooZS5hYWJiLmRpc3RhbmNlWihfKSk7Y29uc3QgdD1NYXRoLnBvdygyLGUuem9vbSksaT1IZCgoZS55KzEpL3QpLHI9SGQoZS55L3QpLG49TWF0aC5taW4oTWF0aC5tYXgoYSxpKSxyKSxsPWpkKG4pL2pkKGEpO2lmKHM9bj09PWE/MS9NYXRoLm1heCgxLHRoaXMuX21lcmNhdG9yU2NhbGVSYXRpby0uMyk6TWF0aC5taW4oMSxsL3RoaXMuX21lcmNhdG9yU2NhbGVSYXRpbyksdGhpcy56b29tPD1XdSYmZS56b29tPT09SS0xJiZsPj0uOSlyZXR1cm4gITB9ZWxzZSBpZihuJiYobz16KGUuYWFiYi5kaXN0YW5jZVooXykqZikpLHRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2UmJmk8PTUpe2NvbnN0IHQ9TWF0aC5wb3coMixlLnpvb20pLGk9VChuZXcgZXAoKGUueCsuNSkvdCwoZS55Ky41KS90KSk7cz1pPi44NT8xOmk7fWNvbnN0IGw9dCp0K3IqcitvLGM9eigoMTw8SS1lLnpvb20pKnkqcyooKGUsdCk9PntpZih0KnooLjcwNyk8ZSlyZXR1cm4gMTtjb25zdCBpPU1hdGguc3FydCh0L2UpO3JldHVybiBpLygxLjQxNDQyNzE1NzAwMTQxNDQrKE1hdGgucG93KDEuMSxpLTEuNDE0NDI3MTU3MDAxNDE0NCsxKS0xKS8oMS4xLTEpLTEpfSkoTWF0aC5tYXgobyxEKSxsKSk7cmV0dXJuIGw8Y307aWYodGhpcy5yZW5kZXJXb3JsZENvcGllcylmb3IobGV0IGU9MTtlPD0zO2UrKylBLnB1c2goTSgtZSkpLEEucHVzaChNKGUpKTtmb3IoQS5wdXNoKE0oMCkpO0EubGVuZ3RoPjA7KXtjb25zdCBpPUEucG9wKCkscj1pLngscz1pLnk7bGV0IGE9aS5mdWxseVZpc2libGU7Y29uc3QgdT0oKT0+XCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUmJigwPT09aS55fHxpLnk9PT0oMTw8aS56b29tKS0xKTtpZighYSl7bGV0IGU9Zz9pLmFhYmIuaW50ZXJzZWN0cyhkKTppLmFhYmIuaW50ZXJzZWN0c0ZsYXQoZCk7aWYoMD09PWUmJnUoKSl7Y29uc3QgdD1uZXcga3UoaS56b29tLHIscyk7ZT11ZCh0aGlzLGwsdCwhMCkuaW50ZXJzZWN0cyhkKTt9aWYoMD09PWUpY29udGludWU7YT0yPT09ZTt9aWYoaS56b29tIT09SSYmUihpKSlmb3IobGV0IGU9MDtlPDQ7ZSsrKXtjb25zdCB0PShyPDwxKStlJTIsYz0oczw8MSkrKGU+PjEpLHU9e2FhYmI6bz9pLmFhYmIucXVhZHJhbnQoZSk6RWcodGhpcyxsLGkuem9vbSsxLHQsYyxpLndyYXAsaS5taW5aLGkubWF4Wix0aGlzLnByb2plY3Rpb24pLHpvb206aS56b29tKzEseDp0LHk6Yyx3cmFwOmkud3JhcCxmdWxseVZpc2libGU6YSx0aWxlSUQ6dm9pZCAwLHNob3VsZFNwbGl0OnZvaWQgMCxtaW5aOmkubWluWixtYXhaOmkubWF4Wn07biYmIWgmJih1LnRpbGVJRD1uZXcgQnUoaS56b29tKzE9PT1JP0M6aS56b29tKzEsaS53cmFwLGkuem9vbSsxLHQsYyksUCh1KSksQS5wdXNoKHUpO31lbHNlIHtjb25zdCBuPWkuem9vbT09PUk/QzppLnpvb207aWYoZS5taW56b29tJiZlLm1pbnpvb20+biljb250aW51ZTtpZighYSl7bGV0IGU9Zz9pLmFhYmIuaW50ZXJzZWN0c1ByZWNpc2UoZCk6aS5hYWJiLmludGVyc2VjdHNQcmVjaXNlRmxhdChkKTtpZigwPT09ZSYmdSgpKXtjb25zdCB0PW5ldyBrdShpLnpvb20scixzKTtlPXVkKHRoaXMsbCx0LCEwKS5pbnRlcnNlY3RzUHJlY2lzZShkKTt9aWYoMD09PWUpY29udGludWV9Y29uc3Qgbz1jWzBdLSguNStyKyhpLndyYXA8PGkuem9vbSkpKigxPDx0LWkuem9vbSksaD1jWzFdLS41LXMscD1pLnRpbGVJRD9pLnRpbGVJRDpuZXcgQnUobixpLndyYXAsaS56b29tLHIscyk7Uy5wdXNoKHt0aWxlSUQ6cCxkaXN0YW5jZVNxOm8qbytoKmh9KTt9fWlmKHRoaXMuZm9nQ3VsbERpc3RTcSl7Y29uc3QgdD10aGlzLmZvZ0N1bGxEaXN0U3EsaT10aGlzLmhvcml6b25MaW5lRnJvbVRvcCgpO1M9Uy5maWx0ZXIoKHI9Pntjb25zdCBuPVswLDAsMCwxXSxvPVtzcixzciwwLDFdLHM9dGhpcy5jYWxjdWxhdGVGb2dUaWxlTWF0cml4KHIudGlsZUlELnRvVW53cmFwcGVkKCkpO3V1LnRyYW5zZm9ybU1hdDQobixuLHMpLHV1LnRyYW5zZm9ybU1hdDQobyxvLHMpO2NvbnN0IGE9ZnVuY3Rpb24oZSx0LGkpe2xldCByPTA7Zm9yKGxldCBpPTA7aTwyOysraSl7Y29uc3Qgbj0wO2VbaV0+biYmKHIrPShlW2ldLW4pKihlW2ldLW4pKSx0W2ldPG4mJihyKz0obi10W2ldKSoobi10W2ldKSk7fXJldHVybiByfSh1dS5taW4oW10sbixvKSx1dS5tYXgoW10sbixvKSk7aWYoMD09PWEpcmV0dXJuICEwO2xldCBsPSExO2NvbnN0IGM9dGhpcy5fZWxldmF0aW9uO2lmKGMmJmE+dCYmMCE9PWkpe2NvbnN0IHQ9dGhpcy5jYWxjdWxhdGVQcm9qTWF0cml4KHIudGlsZUlELnRvVW53cmFwcGVkKCkpO2xldCBuO2UuaXNUZXJyYWluREVNfHwobj1jLmdldE1pbk1heEZvclRpbGUoci50aWxlSUQpKSxufHwobj17bWluOmIsbWF4OnZ9KTtjb25zdCBvPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9TWF0aC5yb3VuZCgoZSs0NSszNjApJTM2MC85MCklNDtyZXR1cm4gRVt0XX0odGhpcy5yb3RhdGlvbikscz1bb1swXSpzcixvWzFdKnNyLG4ubWF4XTtNdS50cmFuc2Zvcm1NYXQ0KHMscyx0KSxsPSgxLXNbMV0pKnRoaXMuaGVpZ2h0Ki41PGk7fXJldHVybiBhPHR8fGx9KSk7fXJldHVybiBTLnNvcnQoKChlLHQpPT5lLmRpc3RhbmNlU3EtdC5kaXN0YW5jZVNxKSkubWFwKChlPT5lLnRpbGVJRCkpfXJlc2l6ZShlLHQpe3RoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10LHRoaXMucGl4ZWxzVG9HTFVuaXRzPVsyL2UsLTIvdF0sdGhpcy5fY29uc3RyYWluKCksdGhpcy5fY2FsY01hdHJpY2VzKCk7fWdldCB1bm1vZGlmaWVkKCl7cmV0dXJuIHRoaXMuX3VubW9kaWZpZWR9em9vbVNjYWxlKGUpe3JldHVybiBNYXRoLnBvdygyLGUpfXNjYWxlWm9vbShlKXtyZXR1cm4gTWF0aC5sb2coZSkvTWF0aC5MTjJ9cHJvamVjdChlKXtjb25zdCB0PXooZS5sYXQsLVhkLFhkKSxpPXRoaXMucHJvamVjdGlvbi5wcm9qZWN0KGUubG5nLHQpO3JldHVybiBuZXcgeShpLngqdGhpcy53b3JsZFNpemUsaS55KnRoaXMud29ybGRTaXplKX11bnByb2plY3QoZSl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi51bnByb2plY3QoZS54L3RoaXMud29ybGRTaXplLGUueS90aGlzLndvcmxkU2l6ZSl9Z2V0IHBvaW50KCl7cmV0dXJuIHRoaXMucHJvamVjdCh0aGlzLmNlbnRlcil9Z2V0IHBvaW50TWVyYygpe3JldHVybiB0aGlzLnBvaW50Ll9kaXYodGhpcy53b3JsZFNpemUpfWdldCBwaXhlbHNQZXJNZXRlclJhdGlvKCl7cmV0dXJuIHRoaXMucGl4ZWxzUGVyTWV0ZXIvWmQoMSx0aGlzLmNlbnRlci5sYXQpL3RoaXMud29ybGRTaXplfXNldExvY2F0aW9uQXRQb2ludChlLHQpe2xldCBpLHI7Y29uc3Qgbj10aGlzLmNlbnRlclBvaW50O2lmKFwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lKXtjb25zdCBlPXRoaXMud29ybGRTaXplO2k9KHQueC1uLngpL2Uscj0odC55LW4ueSkvZTt9ZWxzZSB7Y29uc3QgZT10aGlzLnBvaW50Q29vcmRpbmF0ZSh0KSxvPXRoaXMucG9pbnRDb29yZGluYXRlKG4pO2k9ZS54LW8ueCxyPWUueS1vLnk7fWNvbnN0IG89dGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUoZSk7dGhpcy5zZXRMb2NhdGlvbihuZXcgZXAoby54LWksby55LXIpKTt9c2V0TG9jYXRpb24oZSl7dGhpcy5jZW50ZXI9dGhpcy5jb29yZGluYXRlTG9jYXRpb24oZSksdGhpcy5wcm9qZWN0aW9uLndyYXAmJih0aGlzLmNlbnRlcj10aGlzLmNlbnRlci53cmFwKCkpO31sb2NhdGlvblBvaW50KGUpe3JldHVybiB0aGlzLnByb2plY3Rpb24ubG9jYXRpb25Qb2ludCh0aGlzLGUpfWxvY2F0aW9uUG9pbnQzRChlKXtyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLmxvY2F0aW9uUG9pbnQodGhpcyxlLCEwKX1wb2ludExvY2F0aW9uKGUpe3JldHVybiB0aGlzLmNvb3JkaW5hdGVMb2NhdGlvbih0aGlzLnBvaW50Q29vcmRpbmF0ZShlKSl9cG9pbnRMb2NhdGlvbjNEKGUpe3JldHVybiB0aGlzLmNvb3JkaW5hdGVMb2NhdGlvbih0aGlzLnBvaW50Q29vcmRpbmF0ZTNEKGUpKX1sb2NhdGlvbkNvb3JkaW5hdGUoZSx0KXtjb25zdCBpPXQ/WmQodCxlLmxhdCk6dm9pZCAwLHI9dGhpcy5wcm9qZWN0aW9uLnByb2plY3QoZS5sbmcsZS5sYXQpO3JldHVybiBuZXcgZXAoci54LHIueSxpKX1jb29yZGluYXRlTG9jYXRpb24oZSl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi51bnByb2plY3QoZS54LGUueSl9cG9pbnRSYXlJbnRlcnNlY3Rpb24oZSx0KXtjb25zdCBpPW51bGwhPXQ/dDp0aGlzLl9jZW50ZXJBbHRpdHVkZSxyPVtlLngsZS55LDAsMV0sbj1bZS54LGUueSwxLDFdO3V1LnRyYW5zZm9ybU1hdDQocixyLHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKSx1dS50cmFuc2Zvcm1NYXQ0KG4sbix0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSk7Y29uc3Qgbz1uWzNdO3V1LnNjYWxlKHIsciwxL3JbM10pLHV1LnNjYWxlKG4sbiwxL28pO2NvbnN0IHM9clsyXSxhPW5bMl07cmV0dXJuIHtwMDpyLHAxOm4sdDpzPT09YT8wOihpLXMpLyhhLXMpfX1zY3JlZW5Qb2ludFRvTWVyY2F0b3JSYXkoZSl7Y29uc3QgdD1bZS54LGUueSwwLDFdLGk9W2UueCxlLnksMSwxXTtyZXR1cm4gdXUudHJhbnNmb3JtTWF0NCh0LHQsdGhpcy5waXhlbE1hdHJpeEludmVyc2UpLHV1LnRyYW5zZm9ybU1hdDQoaSxpLHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKSx1dS5zY2FsZSh0LHQsMS90WzNdKSx1dS5zY2FsZShpLGksMS9pWzNdKSx0WzJdPVpkKHRbMl0sdGhpcy5fY2VudGVyLmxhdCkqdGhpcy53b3JsZFNpemUsaVsyXT1aZChpWzJdLHRoaXMuX2NlbnRlci5sYXQpKnRoaXMud29ybGRTaXplLHV1LnNjYWxlKHQsdCwxL3RoaXMud29ybGRTaXplKSx1dS5zY2FsZShpLGksMS90aGlzLndvcmxkU2l6ZSksbmV3IFV1KFt0WzBdLHRbMV0sdFsyXV0sTXUubm9ybWFsaXplKFtdLE11LnN1YihbXSxpLHQpKSl9cmF5SW50ZXJzZWN0aW9uQ29vcmRpbmF0ZShlKXtjb25zdHtwMDp0LHAxOmksdDpyfT1lLG49WmQodFsyXSx0aGlzLl9jZW50ZXIubGF0KSxvPVpkKGlbMl0sdGhpcy5fY2VudGVyLmxhdCk7cmV0dXJuIG5ldyBlcChXcih0WzBdLGlbMF0scikvdGhpcy53b3JsZFNpemUsV3IodFsxXSxpWzFdLHIpL3RoaXMud29ybGRTaXplLFdyKG4sbyxyKSl9cG9pbnRDb29yZGluYXRlKGUsdD10aGlzLl9jZW50ZXJBbHRpdHVkZSl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi5wb2ludENvb3JkaW5hdGUodGhpcyxlLngsZS55LHQpfXBvaW50Q29vcmRpbmF0ZTNEKGUpe2lmKCF0aGlzLmVsZXZhdGlvbilyZXR1cm4gdGhpcy5wb2ludENvb3JkaW5hdGUoZSk7bGV0IHQ9dGhpcy5wcm9qZWN0aW9uLnBvaW50Q29vcmRpbmF0ZTNEKHRoaXMsZS54LGUueSk7aWYodClyZXR1cm4gbmV3IGVwKHRbMF0sdFsxXSx0WzJdKTtsZXQgaT0wLHI9dGhpcy5ob3Jpem9uTGluZUZyb21Ub3AoKTtpZihlLnk+cilyZXR1cm4gdGhpcy5wb2ludENvb3JkaW5hdGUoZSk7Y29uc3Qgbj0uMDIqcixvPWUuY2xvbmUoKTtmb3IobGV0IGU9MDtlPDEwJiZyLWk+bjtlKyspe28ueT1XcihpLHIsLjY2KTtjb25zdCBlPXRoaXMucHJvamVjdGlvbi5wb2ludENvb3JkaW5hdGUzRCh0aGlzLG8ueCxvLnkpO2U/KHI9by55LHQ9ZSk6aT1vLnk7fXJldHVybiB0P25ldyBlcCh0WzBdLHRbMV0sdFsyXSk6dGhpcy5wb2ludENvb3JkaW5hdGUoZSl9aXNQb2ludEFib3ZlSG9yaXpvbihlKXtyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLmlzUG9pbnRBYm92ZUhvcml6b24odGhpcyxlKX1pc1BvaW50T25TdXJmYWNlKGUpe2lmKGUueTwwfHxlLnk+dGhpcy5oZWlnaHR8fGUueDwwfHxlLng+dGhpcy53aWR0aClyZXR1cm4gITE7aWYodGhpcy5lbGV2YXRpb258fHRoaXMuem9vbT49WHUpcmV0dXJuICF0aGlzLmlzUG9pbnRBYm92ZUhvcml6b24oZSk7Y29uc3QgdD10aGlzLnBvaW50Q29vcmRpbmF0ZShlKTtyZXR1cm4gdC55Pj0wJiZ0Lnk8PTF9X2Nvb3JkaW5hdGVQb2ludChlLHQpe2NvbnN0IGk9dCYmdGhpcy5lbGV2YXRpb24/dGhpcy5lbGV2YXRpb24uZ2V0QXRQb2ludE9yWmVybyhlLHRoaXMuX2NlbnRlckFsdGl0dWRlKTp0aGlzLl9jZW50ZXJBbHRpdHVkZSxyPVtlLngqdGhpcy53b3JsZFNpemUsZS55KnRoaXMud29ybGRTaXplLGkrZS50b0FsdGl0dWRlKCksMV07cmV0dXJuIHV1LnRyYW5zZm9ybU1hdDQocixyLHRoaXMucGl4ZWxNYXRyaXgpLHJbM10+MD9uZXcgeShyWzBdL3JbM10sclsxXS9yWzNdKTpuZXcgeShOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpfV9nZXRCb3VuZHNOb25SZWN0YW5ndWxhcigpe2NvbnN0e3RvcDplLGxlZnQ6dH09dGhpcy5fZWRnZUluc2V0cyxpPXRoaXMuaGVpZ2h0LXRoaXMuX2VkZ2VJbnNldHMuYm90dG9tLHI9dGhpcy53aWR0aC10aGlzLl9lZGdlSW5zZXRzLnJpZ2h0LG49dGhpcy5wb2ludExvY2F0aW9uM0QobmV3IHkodCxlKSksbz10aGlzLnBvaW50TG9jYXRpb24zRChuZXcgeShyLGUpKSxzPXRoaXMucG9pbnRMb2NhdGlvbjNEKG5ldyB5KHIsaSkpLGE9dGhpcy5wb2ludExvY2F0aW9uM0QobmV3IHkodCxpKSk7bGV0IGw9TWF0aC5taW4obi5sbmcsby5sbmcscy5sbmcsYS5sbmcpLGM9TWF0aC5tYXgobi5sbmcsby5sbmcscy5sbmcsYS5sbmcpLGg9TWF0aC5taW4obi5sYXQsby5sYXQscy5sYXQsYS5sYXQpLHU9TWF0aC5tYXgobi5sYXQsby5sYXQscy5sYXQsYS5sYXQpO2NvbnN0IGQ9TWF0aC5wb3coMiwtdGhpcy56b29tKS8xNioyNzAscD1cImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZT8xOjQsZj0oZSx0LGkscixuKT0+e2NvbnN0IG89KGUraSkvMixzPSh0K3IpLzIsYT1uZXcgeShvLHMpLHtsbmc6bSxsYXQ6X309dGhpcy5wb2ludExvY2F0aW9uM0QoYSksZz1NYXRoLm1heCgwLGwtbSxoLV8sbS1jLF8tdSk7bD1NYXRoLm1pbihsLG0pLGM9TWF0aC5tYXgoYyxtKSxoPU1hdGgubWluKGgsXyksdT1NYXRoLm1heCh1LF8pLChuPHB8fGc+ZCkmJihmKGUsdCxvLHMsbisxKSxmKG8scyxpLHIsbisxKSk7fTtpZihmKHQsZSxyLGUsMSksZihyLGUscixpLDEpLGYocixpLHQsaSwxKSxmKHQsaSx0LGUsMSksXCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUpe2NvbnN0W2UsdF09ZnVuY3Rpb24oZSl7Y29uc3QgdD14dS5pZGVudGl0eShuZXcgRmxvYXQ2NEFycmF5KDE2KSk7eHUubXVsdGlwbHkodCxlLnBpeGVsTWF0cml4LGUuZ2xvYmVNYXRyaXgpO2NvbnN0IGk9WzAsZWQsMF0scj1bMCx0ZCwwXTtyZXR1cm4gTXUudHJhbnNmb3JtTWF0NChpLGksdCksTXUudHJhbnNmb3JtTWF0NChyLHIsdCksW2lbMF0+MCYmaVswXTw9ZS53aWR0aCYmaVsxXT4wJiZpWzFdPD1lLmhlaWdodCYmIURkKGUsbmV3IE5kKGUuY2VudGVyLmxhdCw5MCkpLHJbMF0+MCYmclswXTw9ZS53aWR0aCYmclsxXT4wJiZyWzFdPD1lLmhlaWdodCYmIURkKGUsbmV3IE5kKGUuY2VudGVyLmxhdCwtOTApKV19KHRoaXMpO2U/KHU9OTAsYz0xODAsbD0tMTgwKTp0JiYoaD0tOTAsYz0xODAsbD0tMTgwKTt9cmV0dXJuIG5ldyBRbChuZXcgTmQobCxoKSxuZXcgTmQoYyx1KSl9X2dldEJvdW5kc1JlY3Rhbmd1bGFyKGUsdCl7Y29uc3R7dG9wOmksbGVmdDpyfT10aGlzLl9lZGdlSW5zZXRzLG49dGhpcy5oZWlnaHQtdGhpcy5fZWRnZUluc2V0cy5ib3R0b20sbz10aGlzLndpZHRoLXRoaXMuX2VkZ2VJbnNldHMucmlnaHQscz1uZXcgeShyLGkpLGE9bmV3IHkobyxpKSxsPW5ldyB5KG8sbiksYz1uZXcgeShyLG4pO2xldCBoPXRoaXMucG9pbnRDb29yZGluYXRlKHMsZSksdT10aGlzLnBvaW50Q29vcmRpbmF0ZShhLGUpO2NvbnN0IGQ9dGhpcy5wb2ludENvb3JkaW5hdGUobCx0KSxwPXRoaXMucG9pbnRDb29yZGluYXRlKGMsdCksZj0oZSx0KT0+KHQueS1lLnkpLyh0LngtZS54KTtyZXR1cm4gaC55PjEmJnUueT49MD9oPW5ldyBlcCgoMS1wLnkpL2YocCxoKStwLngsMSk6aC55PDAmJnUueTw9MSYmKGg9bmV3IGVwKC1wLnkvZihwLGgpK3AueCwwKSksdS55PjEmJmgueT49MD91PW5ldyBlcCgoMS1kLnkpL2YoZCx1KStkLngsMSk6dS55PDAmJmgueTw9MSYmKHU9bmV3IGVwKC1kLnkvZihkLHUpK2QueCwwKSksKG5ldyBRbCkuZXh0ZW5kKHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKGgpKS5leHRlbmQodGhpcy5jb29yZGluYXRlTG9jYXRpb24odSkpLmV4dGVuZCh0aGlzLmNvb3JkaW5hdGVMb2NhdGlvbihwKSkuZXh0ZW5kKHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKGQpKX1fZ2V0Qm91bmRzUmVjdGFuZ3VsYXJUZXJyYWluKCl7Y29uc3QgZT10aGlzLmVsZXZhdGlvbjtpZighZS52aXNpYmxlRGVtVGlsZXMubGVuZ3RofHxlLmlzVXNpbmdNb2NrU291cmNlKCkpcmV0dXJuIHRoaXMuX2dldEJvdW5kc1JlY3Rhbmd1bGFyKDAsMCk7Y29uc3QgdD1lLnZpc2libGVEZW1UaWxlcy5yZWR1Y2UoKChlLHQpPT57aWYodC5kZW0pe2NvbnN0IGk9dC5kZW0udHJlZTtlLm1pbj1NYXRoLm1pbihlLm1pbixpLm1pbmltdW1zWzBdKSxlLm1heD1NYXRoLm1heChlLm1heCxpLm1heGltdW1zWzBdKTt9cmV0dXJuIGV9KSx7bWluOk51bWJlci5NQVhfVkFMVUUsbWF4OjB9KTtyZXR1cm4gdGhpcy5fZ2V0Qm91bmRzUmVjdGFuZ3VsYXIodC5taW4qZS5leGFnZ2VyYXRpb24oKSx0Lm1heCplLmV4YWdnZXJhdGlvbigpKX1nZXRCb3VuZHMoKXtyZXR1cm4gXCJtZXJjYXRvclwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWV8fFwiZXF1aXJlY3Rhbmd1bGFyXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZT90aGlzLl90ZXJyYWluRW5hYmxlZCgpP3RoaXMuX2dldEJvdW5kc1JlY3Rhbmd1bGFyVGVycmFpbigpOnRoaXMuX2dldEJvdW5kc1JlY3Rhbmd1bGFyKDAsMCk6dGhpcy5fZ2V0Qm91bmRzTm9uUmVjdGFuZ3VsYXIoKX1ob3Jpem9uTGluZUZyb21Ub3AoZT0hMCl7Y29uc3QgdD10aGlzLmhlaWdodC8yL01hdGgudGFuKHRoaXMuX2Zvdi8yKS9NYXRoLnRhbihNYXRoLm1heCh0aGlzLl9waXRjaCwuMSkpLXRoaXMuY2VudGVyT2Zmc2V0LnksaT10aGlzLmhlaWdodC8yLXQqKDEtdGhpcy5faG9yaXpvblNoaWZ0KTtyZXR1cm4gZT9NYXRoLm1heCgwLGkpOml9Z2V0TWF4Qm91bmRzKCl7cmV0dXJuIHRoaXMubWF4Qm91bmRzfXNldE1heEJvdW5kcyhlKXt0aGlzLm1heEJvdW5kcz1lLHRoaXMubWluTGF0PS1YZCx0aGlzLm1heExhdD1YZCx0aGlzLm1pbkxuZz0tMTgwLHRoaXMubWF4TG5nPTE4MCxlJiYodGhpcy5taW5MYXQ9ZS5nZXRTb3V0aCgpLHRoaXMubWF4TGF0PWUuZ2V0Tm9ydGgoKSx0aGlzLm1pbkxuZz1lLmdldFdlc3QoKSx0aGlzLm1heExuZz1lLmdldEVhc3QoKSx0aGlzLm1heExuZzx0aGlzLm1pbkxuZyYmKHRoaXMubWF4TG5nKz0zNjApKSx0aGlzLndvcmxkTWluWD1HZCh0aGlzLm1pbkxuZykqdGhpcy50aWxlU2l6ZSx0aGlzLndvcmxkTWF4WD1HZCh0aGlzLm1heExuZykqdGhpcy50aWxlU2l6ZSx0aGlzLndvcmxkTWluWT1xZCh0aGlzLm1heExhdCkqdGhpcy50aWxlU2l6ZSx0aGlzLndvcmxkTWF4WT1xZCh0aGlzLm1pbkxhdCkqdGhpcy50aWxlU2l6ZSx0aGlzLl9jb25zdHJhaW4oKTt9Y2FsY3VsYXRlUG9zTWF0cml4KGUsdCl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi5jcmVhdGVUaWxlTWF0cml4KHRoaXMsdCxlKX1jYWxjdWxhdGVEaXN0YW5jZVRpbGVEYXRhKGUpe2NvbnN0IHQ9ZS5rZXksaT10aGlzLl9kaXN0YW5jZVRpbGVEYXRhQ2FjaGU7aWYoaVt0XSlyZXR1cm4gaVt0XTtjb25zdCByPWUuY2Fub25pY2FsLG49MS90aGlzLmhlaWdodCxvPXRoaXMuY2FtZXJhV29ybGRTaXplLHM9by90aGlzLnpvb21TY2FsZShyLnopLGE9KHIueCtNYXRoLnBvdygyLHIueikqZS53cmFwKSpzLGw9ci55KnMsYz10aGlzLnBvaW50O2MueCo9by90aGlzLndvcmxkU2l6ZSxjLnkqPW8vdGhpcy53b3JsZFNpemU7Y29uc3QgaD10aGlzLmFuZ2xlLHU9TWF0aC5zaW4oLWgpLGQ9LU1hdGguY29zKC1oKTtyZXR1cm4gaVt0XT17YmVhcmluZzpbdSxkXSxjZW50ZXI6WyhjLngtYSkqbiwoYy55LWwpKm5dLHNjYWxlOnMvc3Iqbn0saVt0XX1jYWxjdWxhdGVGb2dUaWxlTWF0cml4KGUpe2NvbnN0IHQ9ZS5rZXksaT10aGlzLl9mb2dUaWxlTWF0cml4Q2FjaGU7aWYoaVt0XSlyZXR1cm4gaVt0XTtjb25zdCByPXRoaXMucHJvamVjdGlvbi5jcmVhdGVUaWxlTWF0cml4KHRoaXMsdGhpcy5jYW1lcmFXb3JsZFNpemVGb3JGb2csZSk7cmV0dXJuIHh1Lm11bHRpcGx5KHIsdGhpcy53b3JsZFRvRm9nTWF0cml4LHIpLGlbdF09bmV3IEZsb2F0MzJBcnJheShyKSxpW3RdfWNhbGN1bGF0ZVByb2pNYXRyaXgoZSx0PSExKXtjb25zdCBpPWUua2V5LHI9dD90aGlzLl9hbGlnbmVkUHJvak1hdHJpeENhY2hlOnRoaXMuX3Byb2pNYXRyaXhDYWNoZTtpZihyW2ldKXJldHVybiByW2ldO2NvbnN0IG49dGhpcy5jYWxjdWxhdGVQb3NNYXRyaXgoZSx0aGlzLndvcmxkU2l6ZSk7cmV0dXJuIHh1Lm11bHRpcGx5KG4sdGhpcy5wcm9qZWN0aW9uLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZT90aGlzLm1lcmNhdG9yTWF0cml4OnQ/dGhpcy5hbGlnbmVkUHJvak1hdHJpeDp0aGlzLnByb2pNYXRyaXgsbikscltpXT1uZXcgRmxvYXQzMkFycmF5KG4pLHJbaV19Y2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgoZSl7Y29uc3QgdD1lLnRpbGVJRC5rZXksaT10aGlzLl9waXhlbHNUb1RpbGVVbml0c0NhY2hlO2lmKGlbdF0pcmV0dXJuIGlbdF07Y29uc3Qgcj1mdW5jdGlvbihlLHQpe2NvbnN0e3NjYWxlOml9PWUudGlsZVRyYW5zZm9ybSxyPWkqc3IvKGUudGlsZVNpemUqTWF0aC5wb3coMix0Lnpvb20tZS50aWxlSUQub3ZlcnNjYWxlZForZS50aWxlSUQuY2Fub25pY2FsLnopKTtyZXR1cm4gZnUuc2NhbGUobmV3IEZsb2F0MzJBcnJheSg0KSx0LmludmVyc2VBZGp1c3RtZW50TWF0cml4LFtyLHJdKX0oZSx0aGlzKTtyZXR1cm4gaVt0XT1yLGlbdF19Y3VzdG9tTGF5ZXJNYXRyaXgoKXtyZXR1cm4gdGhpcy5tZXJjYXRvck1hdHJpeC5zbGljZSgpfWdsb2JlVG9NZXJjYXRvck1hdHJpeCgpe2lmKFwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lKXtjb25zdCBlPTEvdGhpcy53b3JsZFNpemUsdD14dS5mcm9tU2NhbGluZyhbXSxbZSxlLGVdKTtyZXR1cm4geHUubXVsdGlwbHkodCx0LHRoaXMuZ2xvYmVNYXRyaXgpLHR9fXJlY2VudGVyT25UZXJyYWluKCl7aWYoIXRoaXMuX2VsZXZhdGlvbnx8XCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUpcmV0dXJuO2NvbnN0IGU9dGhpcy5fZWxldmF0aW9uO3RoaXMuX3VwZGF0ZUNhbWVyYVN0YXRlKCk7Y29uc3QgdD1aZCgxLHRoaXMuX2NlbnRlci5sYXQpKnRoaXMud29ybGRTaXplLGk9dGhpcy5fY29tcHV0ZUNhbWVyYVBvc2l0aW9uKHQpLHI9dGhpcy5fY2FtZXJhLmZvcndhcmQoKSxuPVpkKDEsdGhpcy5fY2VudGVyLmxhdCk7aVsyXS89bixyWzJdLz1uLE11Lm5vcm1hbGl6ZShyLHIpO2NvbnN0IG89ZS5yYXljYXN0KGkscixlLmV4YWdnZXJhdGlvbigpKTtpZihvKXtjb25zdCBlPU11LnNjYWxlQW5kQWRkKFtdLGkscixvKSx0PW5ldyBlcChlWzBdLGVbMV0sWmQoZVsyXSxIZChlWzFdKSkpLHM9KHQueitNdS5sZW5ndGgoW3QueC1pWzBdLHQueS1pWzFdLHQuei1pWzJdKm5dKSkqdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbDt0aGlzLl9zZWFMZXZlbFpvb209dGhpcy5fem9vbUZyb21NZXJjYXRvcloocyksdGhpcy5fY2VudGVyQWx0aXR1ZGU9dC50b0FsdGl0dWRlKCksdGhpcy5fY2VudGVyPXRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKHQpLHRoaXMuX3VwZGF0ZVpvb21Gcm9tRWxldmF0aW9uKCksdGhpcy5fY29uc3RyYWluKCksdGhpcy5fY2FsY01hdHJpY2VzKCk7fX1fY29uc3RyYWluQ2FtZXJhKGU9ITEpe2lmKCF0aGlzLl9lbGV2YXRpb24pcmV0dXJuO2NvbnN0IHQ9dGhpcy5fZWxldmF0aW9uLGk9WmQoMSx0aGlzLl9jZW50ZXIubGF0KSp0aGlzLndvcmxkU2l6ZSxyPXRoaXMuX2NvbXB1dGVDYW1lcmFQb3NpdGlvbihpKSxuPXQuZ2V0QXRQb2ludE9yWmVybyhuZXcgZXAoLi4ucikpLG89dGhpcy5waXhlbHNQZXJNZXRlci90aGlzLndvcmxkU2l6ZSpuLHM9dGhpcy5fbWluaW11bUhlaWdodE92ZXJUZXJyYWluKCksYT1yWzJdLW87aWYoYTw9cylpZihhPDB8fGUpe2NvbnN0IGU9dGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5fY2VudGVyLHRoaXMuX2NlbnRlckFsdGl0dWRlKSx0PVtyWzBdLHJbMV0sZS56LXJbMl1dLGk9TXUubGVuZ3RoKHQpO3RbMl0tPShzLWEpL3RoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw7Y29uc3Qgbj1NdS5sZW5ndGgodCk7aWYoMD09PW4pcmV0dXJuO011LnNjYWxlKHQsdCxpL24qdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCksdGhpcy5fY2FtZXJhLnBvc2l0aW9uPVtyWzBdLHJbMV0sZS56KnRoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwtdFsyXV0sdGhpcy5fdXBkYXRlU3RhdGVGcm9tQ2FtZXJhKCk7fWVsc2UgdGhpcy5faXNDYW1lcmFDb25zdHJhaW5lZD0hMDt9X2NvbnN0cmFpbigpe2lmKCF0aGlzLmNlbnRlcnx8IXRoaXMud2lkdGh8fCF0aGlzLmhlaWdodHx8dGhpcy5fY29uc3RyYWluaW5nKXJldHVybjt0aGlzLl9jb25zdHJhaW5pbmc9ITA7Y29uc3QgZT1cImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZXx8dGhpcy5tZXJjYXRvckZyb21UcmFuc2l0aW9uO2lmKHRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2V8fGUpe2NvbnN0IHQ9dGhpcy5jZW50ZXI7cmV0dXJuIHQubGF0PXoodC5sYXQsdGhpcy5taW5MYXQsdGhpcy5tYXhMYXQpLCh0aGlzLm1heEJvdW5kc3x8IXRoaXMucmVuZGVyV29ybGRDb3BpZXMmJiFlKSYmKHQubG5nPXoodC5sbmcsdGhpcy5taW5MbmcsdGhpcy5tYXhMbmcpKSx0aGlzLmNlbnRlcj10LHZvaWQodGhpcy5fY29uc3RyYWluaW5nPSExKX1jb25zdCB0PXRoaXMuX3VubW9kaWZpZWQse3g6aSx5OnJ9PXRoaXMucG9pbnQ7bGV0IG49MCxvPWkscz1yO2NvbnN0IGE9dGhpcy53aWR0aC8yLGw9dGhpcy5oZWlnaHQvMixjPXRoaXMud29ybGRNaW5ZKnRoaXMuc2NhbGUsaD10aGlzLndvcmxkTWF4WSp0aGlzLnNjYWxlO2lmKHItbDxjJiYocz1jK2wpLHIrbD5oJiYocz1oLWwpLGgtYzx0aGlzLmhlaWdodCYmKG49TWF0aC5tYXgobix0aGlzLmhlaWdodC8oaC1jKSkscz0oaCtjKS8yKSx0aGlzLm1heEJvdW5kc3x8IXRoaXMuX3JlbmRlcldvcmxkQ29waWVzfHwhdGhpcy5wcm9qZWN0aW9uLndyYXApe2NvbnN0IGU9dGhpcy53b3JsZE1pblgqdGhpcy5zY2FsZSx0PXRoaXMud29ybGRNYXhYKnRoaXMuc2NhbGUscj10aGlzLndvcmxkU2l6ZS8yLShlK3QpLzI7bz0oaStyK3RoaXMud29ybGRTaXplKSV0aGlzLndvcmxkU2l6ZS1yLG8tYTxlJiYobz1lK2EpLG8rYT50JiYobz10LWEpLHQtZTx0aGlzLndpZHRoJiYobj1NYXRoLm1heChuLHRoaXMud2lkdGgvKHQtZSkpLG89KHQrZSkvMik7fW89PT1pJiZzPT09cnx8KHRoaXMuY2VudGVyPXRoaXMudW5wcm9qZWN0KG5ldyB5KG8scykpKSxuJiYodGhpcy56b29tKz10aGlzLnNjYWxlWm9vbShuKSksdGhpcy5fY29uc3RyYWluQ2FtZXJhKCksdGhpcy5fdW5tb2RpZmllZD10LHRoaXMuX2NvbnN0cmFpbmluZz0hMTt9X21pblpvb21Gb3JCb3VuZHMoKXtsZXQgZT1NYXRoLm1heCgwLHRoaXMuc2NhbGVab29tKHRoaXMuaGVpZ2h0Lyh0aGlzLndvcmxkTWF4WS10aGlzLndvcmxkTWluWSkpKTtyZXR1cm4gdGhpcy5tYXhCb3VuZHMmJihlPU1hdGgubWF4KGUsdGhpcy5zY2FsZVpvb20odGhpcy53aWR0aC8odGhpcy53b3JsZE1heFgtdGhpcy53b3JsZE1pblgpKSkpLGV9X21heENhbWVyYUJvdW5kc0Rpc3RhbmNlKCl7cmV0dXJuIHRoaXMuX21lcmNhdG9yWmZyb21ab29tKHRoaXMuX21pblpvb21Gb3JCb3VuZHMoKSl9X2NhbGNNYXRyaWNlcygpe2lmKCF0aGlzLmhlaWdodClyZXR1cm47Y29uc3QgZT10aGlzLmNlbnRlck9mZnNldCx0PVwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lLGk9dGhpcy5waXhlbHNQZXJNZXRlcjtcImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSYmKHRoaXMuX21lcmNhdG9yU2NhbGVSYXRpbz1aZCgxLHRoaXMuY2VudGVyLmxhdCkvWmQoMSw0NSkpO2NvbnN0IHI9WngodGhpcy5wcm9qZWN0aW9uLHRoaXMuem9vbSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LDEwMjQpO3RoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw9dGhpcy5wcm9qZWN0aW9uLnBpeGVsU3BhY2VDb252ZXJzaW9uKHRoaXMuY2VudGVyLmxhdCx0aGlzLndvcmxkU2l6ZSxyKSx0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2U9LjUvTWF0aC50YW4oLjUqdGhpcy5fZm92KSp0aGlzLmhlaWdodCp0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsLHRoaXMuX3VwZGF0ZUNhbWVyYVN0YXRlKCksdGhpcy5fZmFyWj10aGlzLnByb2plY3Rpb24uZmFydGhlc3RQaXhlbERpc3RhbmNlKHRoaXMpLHRoaXMuX25lYXJaPXRoaXMuaGVpZ2h0LzUwO2NvbnN0IG49XCJtZXRlcnNcIj09PXRoaXMucHJvamVjdGlvbi56QXhpc1VuaXQ/aToxLG89dGhpcy5fY2FtZXJhLmdldFdvcmxkVG9DYW1lcmEodGhpcy53b3JsZFNpemUsbik7bGV0IHM7Y29uc3QgYT10aGlzLl9jYW1lcmEuZ2V0Q2FtZXJhVG9DbGlwUGVyc3BlY3RpdmUodGhpcy5fZm92LHRoaXMud2lkdGgvdGhpcy5oZWlnaHQsdGhpcy5fbmVhclosdGhpcy5fZmFyWik7aWYoYVs4XT0yKi1lLngvdGhpcy53aWR0aCxhWzldPTIqZS55L3RoaXMuaGVpZ2h0LHRoaXMuaXNPcnRob2dyYXBoaWMpe2xldCB0PS41KnRoaXMuaGVpZ2h0L01hdGgudGFuKHRoaXMuX2Zvdi8yKSoxKk1hdGgudGFuKC41KnRoaXMuX2ZvdiksaT10KnRoaXMuYXNwZWN0LHI9LWksbj0tdDtpLT1lLngsci09ZS54LHQrPWUueSxuKz1lLnkscz10aGlzLl9jYW1lcmEuZ2V0Q2FtZXJhVG9DbGlwT3J0aG9ncmFwaGljKHIsaSxuLHQsdGhpcy5fbmVhclosdGhpcy5fZmFyWiksKChlLHQsaSxyKT0+e2ZvcihsZXQgbj0wO248MTY7bisrKWVbbl09cHYodFtuXSxpW25dLHIpO30pKHMscyxhLGZ2KHRoaXMucGl0Y2g+PTE1PzE6dGhpcy5waXRjaC8xNSkpO31lbHNlIHM9YTtjb25zdCBsPXh1Lm11bChbXSxhLG8pO2xldCBjPXh1Lm11bChbXSxzLG8pO2lmKHRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2Upe2NvbnN0IGU9dGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5jZW50ZXIpLHQ9eHUuaWRlbnRpdHkoW10pO3h1LnRyYW5zbGF0ZSh0LHQsW2UueCp0aGlzLndvcmxkU2l6ZSxlLnkqdGhpcy53b3JsZFNpemUsMF0pLHh1Lm11bHRpcGx5KHQsdCxHeCh0aGlzKSkseHUudHJhbnNsYXRlKHQsdCxbLWUueCp0aGlzLndvcmxkU2l6ZSwtZS55KnRoaXMud29ybGRTaXplLDBdKSx4dS5tdWx0aXBseShjLGMsdCkseHUubXVsdGlwbHkobCxsLHQpLHRoaXMuaW52ZXJzZUFkanVzdG1lbnRNYXRyaXg9ZnVuY3Rpb24oZSl7Y29uc3QgdD1HeChlLCEwKTtyZXR1cm4gZnUuaW52ZXJ0KFtdLFt0WzBdLHRbMV0sdFs0XSx0WzVdXSl9KHRoaXMpO31lbHNlIHRoaXMuaW52ZXJzZUFkanVzdG1lbnRNYXRyaXg9WzEsMCwwLDFdO3RoaXMubWVyY2F0b3JNYXRyaXg9eHUuc2NhbGUoW10sYyxbdGhpcy53b3JsZFNpemUsdGhpcy53b3JsZFNpemUsdGhpcy53b3JsZFNpemUvbiwxXSksdGhpcy5wcm9qTWF0cml4PWMsdGhpcy5pbnZQcm9qTWF0cml4PXh1LmludmVydChuZXcgRmxvYXQ2NEFycmF5KDE2KSx0aGlzLnByb2pNYXRyaXgpO2NvbnN0IGg9eHUuaW52ZXJ0KFtdLHMpO3RoaXMuZnJ1c3R1bUNvcm5lcnM9VnUuZnJvbUludlByb2plY3Rpb25NYXRyaXgoaCx0aGlzLmhvcml6b25MaW5lRnJvbVRvcCgpLHRoaXMuaGVpZ2h0KSx0aGlzLmNhbWVyYUZydXN0dW09JHUuZnJvbUludlByb2plY3Rpb25NYXRyaXgodGhpcy5pbnZQcm9qTWF0cml4LHRoaXMud29ybGRTaXplLDAsIXQpO2NvbnN0IHU9bmV3IEZsb2F0MzJBcnJheSgxNik7eHUuaWRlbnRpdHkodSkseHUuc2NhbGUodSx1LFsxLC0xLDFdKSx4dS5yb3RhdGVYKHUsdSx0aGlzLl9waXRjaCkseHUucm90YXRlWih1LHUsdGhpcy5hbmdsZSk7Y29uc3QgZD14dS5wZXJzcGVjdGl2ZShuZXcgRmxvYXQzMkFycmF5KDE2KSx0aGlzLl9mb3YsdGhpcy53aWR0aC90aGlzLmhlaWdodCx0aGlzLl9uZWFyWix0aGlzLl9mYXJaKTt0aGlzLnN0YXJzUHJvak1hdHJpeD14dS5jbG9uZShkKTtjb25zdCBwPShNYXRoLlBJLzItdGhpcy5fcGl0Y2gpKih0aGlzLmhlaWdodC90aGlzLl9mb3YpKnRoaXMuX2hvcml6b25TaGlmdDtkWzhdPTIqLWUueC90aGlzLndpZHRoLGRbOV09MiooZS55K3ApL3RoaXMuaGVpZ2h0LHRoaXMuc2t5Ym94TWF0cml4PXh1Lm11bHRpcGx5KHUsZCx1KTtjb25zdCBmPXRoaXMucG9pbnQsbT1mLngsXz1mLnksZz10aGlzLndpZHRoJTIvMix5PXRoaXMuaGVpZ2h0JTIvMix4PU1hdGguY29zKHRoaXMuYW5nbGUpLHY9TWF0aC5zaW4odGhpcy5hbmdsZSksYj1tLU1hdGgucm91bmQobSkreCpnK3YqeSx3PV8tTWF0aC5yb3VuZChfKSt4KnkrdipnLFQ9bmV3IEZsb2F0NjRBcnJheShjKTtpZih4dS50cmFuc2xhdGUoVCxULFtiPi41P2ItMTpiLHc+LjU/dy0xOncsMF0pLHRoaXMuYWxpZ25lZFByb2pNYXRyaXg9VCxjPXh1LmNyZWF0ZSgpLHh1LnNjYWxlKGMsYyxbdGhpcy53aWR0aC8yLC10aGlzLmhlaWdodC8yLDFdKSx4dS50cmFuc2xhdGUoYyxjLFsxLC0xLDBdKSx0aGlzLmxhYmVsUGxhbmVNYXRyaXg9YyxjPXh1LmNyZWF0ZSgpLHh1LnNjYWxlKGMsYyxbMSwtMSwxXSkseHUudHJhbnNsYXRlKGMsYyxbLTEsLTEsMF0pLHh1LnNjYWxlKGMsYyxbMi90aGlzLndpZHRoLDIvdGhpcy5oZWlnaHQsMV0pLHRoaXMuZ2xDb29yZE1hdHJpeD1jLHRoaXMucGl4ZWxNYXRyaXg9eHUubXVsdGlwbHkobmV3IEZsb2F0NjRBcnJheSgxNiksdGhpcy5sYWJlbFBsYW5lTWF0cml4LGwpLHRoaXMuX2NhbGNGb2dNYXRyaWNlcygpLHRoaXMuX2Rpc3RhbmNlVGlsZURhdGFDYWNoZT17fSxjPXh1LmludmVydChuZXcgRmxvYXQ2NEFycmF5KDE2KSx0aGlzLnBpeGVsTWF0cml4KSwhYyl0aHJvdyBuZXcgRXJyb3IoXCJmYWlsZWQgdG8gaW52ZXJ0IG1hdHJpeFwiKTtpZih0aGlzLnBpeGVsTWF0cml4SW52ZXJzZT1jLFwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lfHx0aGlzLm1lcmNhdG9yRnJvbVRyYW5zaXRpb24pe3RoaXMuZ2xvYmVNYXRyaXg9ZnVuY3Rpb24oZSl7Y29uc3R7eDp0LHk6aX09ZS5wb2ludCx7bG5nOnIsbGF0Om59PWUuX2NlbnRlcjtyZXR1cm4gVGQodCxpLGUud29ybGRTaXplLHIsbil9KHRoaXMpO2NvbnN0IGU9W3RoaXMuZ2xvYmVNYXRyaXhbMTJdLHRoaXMuZ2xvYmVNYXRyaXhbMTNdLHRoaXMuZ2xvYmVNYXRyaXhbMTRdXTt0aGlzLmdsb2JlQ2VudGVySW5WaWV3U3BhY2U9TXUudHJhbnNmb3JtTWF0NChlLGUsbyksdGhpcy5nbG9iZVJhZGl1cz10aGlzLndvcmxkU2l6ZS8yL01hdGguUEktMTt9ZWxzZSB0aGlzLmdsb2JlTWF0cml4PWM7dGhpcy5fcHJvak1hdHJpeENhY2hlPXt9LHRoaXMuX2FsaWduZWRQcm9qTWF0cml4Q2FjaGU9e30sdGhpcy5fcGl4ZWxzVG9UaWxlVW5pdHNDYWNoZT17fTt9X2NhbGNGb2dNYXRyaWNlcygpe3RoaXMuX2ZvZ1RpbGVNYXRyaXhDYWNoZT17fTtjb25zdCBlPXRoaXMuY2FtZXJhV29ybGRTaXplRm9yRm9nLHQ9dGhpcy5jYW1lcmFQaXhlbHNQZXJNZXRlcixpPXRoaXMuX2NhbWVyYS5wb3NpdGlvbixyPTEvdGhpcy5oZWlnaHQvdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCxuPVtlLGUsdF07TXUuc2NhbGUobixuLHIpLE11LnNjYWxlKGksaSwtMSksTXUubXVsdGlwbHkoaSxpLG4pO2NvbnN0IG89eHUuY3JlYXRlKCk7eHUudHJhbnNsYXRlKG8sbyxpKSx4dS5zY2FsZShvLG8sbiksdGhpcy5tZXJjYXRvckZvZ01hdHJpeD1vLHRoaXMud29ybGRUb0ZvZ01hdHJpeD10aGlzLl9jYW1lcmEuZ2V0V29ybGRUb0NhbWVyYVBvc2l0aW9uKGUsdCxyKTt9X2NvbXB1dGVDYW1lcmFQb3NpdGlvbihlKXtjb25zdCB0PShlPWV8fHRoaXMucGl4ZWxzUGVyTWV0ZXIpL3RoaXMucGl4ZWxzUGVyTWV0ZXIsaT10aGlzLl9jYW1lcmEuZm9yd2FyZCgpLHI9dGhpcy5wb2ludCxuPXRoaXMuX21lcmNhdG9yWmZyb21ab29tKHRoaXMuX3NlYUxldmVsWm9vbT90aGlzLl9zZWFMZXZlbFpvb206dGhpcy5fem9vbSkqdC1lL3RoaXMud29ybGRTaXplKnRoaXMuX2NlbnRlckFsdGl0dWRlO3JldHVybiBbci54L3RoaXMud29ybGRTaXplLWlbMF0qbixyLnkvdGhpcy53b3JsZFNpemUtaVsxXSpuLGUvdGhpcy53b3JsZFNpemUqdGhpcy5fY2VudGVyQWx0aXR1ZGUtaVsyXSpuXX1fdXBkYXRlQ2FtZXJhU3RhdGUoKXt0aGlzLmhlaWdodCYmKHRoaXMuX2NhbWVyYS5zZXRQaXRjaEJlYXJpbmcodGhpcy5fcGl0Y2gsdGhpcy5hbmdsZSksdGhpcy5fY2FtZXJhLnBvc2l0aW9uPXRoaXMuX2NvbXB1dGVDYW1lcmFQb3NpdGlvbigpKTt9X3RyYW5zbGF0ZUNhbWVyYUNvbnN0cmFpbmVkKGUpe2NvbnN0IHQ9dGhpcy5fbWF4Q2FtZXJhQm91bmRzRGlzdGFuY2UoKSpNYXRoLmNvcyh0aGlzLl9waXRjaCksaT10aGlzLl9jYW1lcmEucG9zaXRpb25bMl0scj1lWzJdO2xldCBuPTE7dGhpcy5wcm9qZWN0aW9uLndyYXAmJih0aGlzLmNlbnRlcj10aGlzLmNlbnRlci53cmFwKCkpLHI+MCYmKG49TWF0aC5taW4oKHQtaSkvciwxKSksdGhpcy5fY2FtZXJhLnBvc2l0aW9uPU11LnNjYWxlQW5kQWRkKFtdLHRoaXMuX2NhbWVyYS5wb3NpdGlvbixlLG4pLHRoaXMuX3VwZGF0ZVN0YXRlRnJvbUNhbWVyYSgpO31fdXBkYXRlU3RhdGVGcm9tQ2FtZXJhKCl7Y29uc3QgZT10aGlzLl9jYW1lcmEucG9zaXRpb24sdD10aGlzLl9jYW1lcmEuZm9yd2FyZCgpLHtwaXRjaDppLGJlYXJpbmc6cn09dGhpcy5fY2FtZXJhLmdldFBpdGNoQmVhcmluZygpLG49WmQodGhpcy5fY2VudGVyQWx0aXR1ZGUsdGhpcy5jZW50ZXIubGF0KSp0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsLG89dGhpcy5fbWVyY2F0b3JaZnJvbVpvb20odGhpcy5fbWF4Wm9vbSkqTWF0aC5jb3Modyh0aGlzLl9tYXhQaXRjaCkpLHM9TWF0aC5tYXgoKGVbMl0tbikvTWF0aC5jb3MoaSksbyksYT10aGlzLl96b29tRnJvbU1lcmNhdG9yWihzKTtNdS5zY2FsZUFuZEFkZChlLGUsdCxzKSx0aGlzLl9waXRjaD16KGksdyh0aGlzLm1pblBpdGNoKSx3KHRoaXMubWF4UGl0Y2gpKSx0aGlzLmFuZ2xlPVAociwtTWF0aC5QSSxNYXRoLlBJKSx0aGlzLl9zZXRab29tKHooYSx0aGlzLl9taW5ab29tLHRoaXMuX21heFpvb20pKSx0aGlzLl91cGRhdGVTZWFMZXZlbFpvb20oKSx0aGlzLl9jZW50ZXI9dGhpcy5jb29yZGluYXRlTG9jYXRpb24obmV3IGVwKGVbMF0sZVsxXSxlWzJdKSksdGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9jb25zdHJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKTt9X3dvcmxkU2l6ZUZyb21ab29tKGUpe3JldHVybiBNYXRoLnBvdygyLGUpKnRoaXMudGlsZVNpemV9X21lcmNhdG9yWmZyb21ab29tKGUpe3JldHVybiB0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UvdGhpcy5fd29ybGRTaXplRnJvbVpvb20oZSl9X21pbmltdW1IZWlnaHRPdmVyVGVycmFpbigpe2NvbnN0IGU9TWF0aC5taW4oKG51bGwhPXRoaXMuX3NlYUxldmVsWm9vbT90aGlzLl9zZWFMZXZlbFpvb206dGhpcy5fem9vbSkrNCx0aGlzLl9tYXhab29tKTtyZXR1cm4gdGhpcy5fbWVyY2F0b3JaZnJvbVpvb20oZSl9X3pvb21Gcm9tTWVyY2F0b3JaKGUpe3JldHVybiB0aGlzLnNjYWxlWm9vbSh0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UvKGUqdGhpcy50aWxlU2l6ZSkpfXpvb21Gcm9tTWVyY2F0b3JaQWRqdXN0ZWQoZSl7bGV0IHQ9MCxpPVh1LHI9MCxuPTEvMDtmb3IoO2ktdD4xZS02JiZpPnQ7KXtjb25zdCBvPXQrLjUqKGktdCkscz10aGlzLnRpbGVTaXplKk1hdGgucG93KDIsbyksYT10aGlzLmdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UodGhpcy5wcm9qZWN0aW9uLG8scyksbD10aGlzLnNjYWxlWm9vbShhLyhlKnRoaXMudGlsZVNpemUpKSxjPU1hdGguYWJzKG8tbCk7YzxuJiYobj1jLHI9byksbzxsP3Q9bzppPW87fXJldHVybiByfV90ZXJyYWluRW5hYmxlZCgpe3JldHVybiAhKCF0aGlzLl9lbGV2YXRpb258fCF0aGlzLnByb2plY3Rpb24uc3VwcG9ydHNUZXJyYWluJiYoVyhcIlRlcnJhaW4gaXMgbm90IHlldCBzdXBwb3J0ZWQgd2l0aCBhbHRlcm5hdGUgcHJvamVjdGlvbnMuIFVzZSBtZXJjYXRvciBvciBnbG9iZSB0byBlbmFibGUgdGVycmFpbi5cIiksMSkpfWFueUNvcm5lck9mZkVkZ2UoZSx0KXtjb25zdCBpPU1hdGgubWluKGUueCx0LngpLHI9TWF0aC5tYXgoZS54LHQueCksbj1NYXRoLm1pbihlLnksdC55KSxvPU1hdGgubWF4KGUueSx0LnkpO2lmKG48dGhpcy5ob3Jpem9uTGluZUZyb21Ub3AoITEpKXJldHVybiAhMDtpZihcIm1lcmNhdG9yXCIhPT10aGlzLnByb2plY3Rpb24ubmFtZSlyZXR1cm4gITE7Y29uc3Qgcz1bbmV3IHkoaSxuKSxuZXcgeShyLG8pLG5ldyB5KGksbyksbmV3IHkocixuKV0sYT10aGlzLnJlbmRlcldvcmxkQ29waWVzPy0zOjAsbD10aGlzLnJlbmRlcldvcmxkQ29waWVzPzQ6MTtmb3IoY29uc3QgZSBvZiBzKXtjb25zdCB0PXRoaXMucG9pbnRSYXlJbnRlcnNlY3Rpb24oZSk7aWYodC50PDApcmV0dXJuICEwO2NvbnN0IGk9dGhpcy5yYXlJbnRlcnNlY3Rpb25Db29yZGluYXRlKHQpO2lmKGkueDxhfHxpLnk8MHx8aS54Pmx8fGkueT4xKXJldHVybiAhMH1yZXR1cm4gITF9aXNIb3Jpem9uVmlzaWJsZSgpe3JldHVybiB0aGlzLnBpdGNoK1QodGhpcy5mb3ZBYm92ZUNlbnRlcik+ODh8fHRoaXMuYW55Q29ybmVyT2ZmRWRnZShuZXcgeSgwLDApLG5ldyB5KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpKX16b29tRGVsdGFUb01vdmVtZW50KGUsdCl7Y29uc3QgaT1NdS5sZW5ndGgoTXUuc3ViKFtdLHRoaXMuX2NhbWVyYS5wb3NpdGlvbixlKSkscj10aGlzLl96b29tRnJvbU1lcmNhdG9yWihpKSt0O3JldHVybiBpLXRoaXMuX21lcmNhdG9yWmZyb21ab29tKHIpfWdldENhbWVyYVBvaW50KCl7aWYoXCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUpe2NvbnN0IGU9ZnVuY3Rpb24oW2UsdCxpXSxyKXtjb25zdCBuPVtlLHQsaSwxXTt1dS50cmFuc2Zvcm1NYXQ0KG4sbixyKTtjb25zdCBvPW5bM109TWF0aC5tYXgoblszXSwxZS02KTtyZXR1cm4gblswXS89byxuWzFdLz1vLG5bMl0vPW8sbn0oW3RoaXMuZ2xvYmVNYXRyaXhbMTJdLHRoaXMuZ2xvYmVNYXRyaXhbMTNdLHRoaXMuZ2xvYmVNYXRyaXhbMTRdXSx0aGlzLnBpeGVsTWF0cml4KTtyZXR1cm4gbmV3IHkoZVswXSxlWzFdKX17Y29uc3QgZT1NYXRoLnRhbih0aGlzLl9waXRjaCkqKHRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZXx8MSk7cmV0dXJuIHRoaXMuY2VudGVyUG9pbnQuYWRkKG5ldyB5KDAsZSkpfX1nZXRDYW1lcmFUb0NlbnRlckRpc3RhbmNlKGUsdD10aGlzLnpvb20saT10aGlzLndvcmxkU2l6ZSl7Y29uc3Qgcj1aeChlLHQsdGhpcy53aWR0aCx0aGlzLmhlaWdodCwxMDI0KSxuPWUucGl4ZWxTcGFjZUNvbnZlcnNpb24odGhpcy5jZW50ZXIubGF0LGkscik7bGV0IG89LjUvTWF0aC50YW4oLjUqdGhpcy5fZm92KSp0aGlzLmhlaWdodCpuO3JldHVybiB0aGlzLmlzT3J0aG9ncmFwaGljJiYobz1wdigxLG8sZnYodGhpcy5waXRjaD49MTU/MTp0aGlzLnBpdGNoLzE1KSkpLG99Z2V0V29ybGRUb0NhbWVyYU1hdHJpeCgpe2NvbnN0IGU9dGhpcy5fY2FtZXJhLmdldFdvcmxkVG9DYW1lcmEodGhpcy53b3JsZFNpemUsXCJtZXRlcnNcIj09PXRoaXMucHJvamVjdGlvbi56QXhpc1VuaXQ/dGhpcy5waXhlbHNQZXJNZXRlcjoxKTtyZXR1cm4gXCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUmJnh1Lm11bHRpcGx5KGUsZSx0aGlzLmdsb2JlTWF0cml4KSxlfWdldEZydXN0dW0oZSl7cmV0dXJuICR1LmZyb21JbnZQcm9qZWN0aW9uTWF0cml4KHRoaXMuaW52UHJvak1hdHJpeCx0aGlzLndvcmxkU2l6ZSxlLFwibWV0ZXJzXCI9PT10aGlzLnByb2plY3Rpb24uekF4aXNVbml0KX19ZnVuY3Rpb24gX3YoZSx0LGkpe3h1LmlkZW50aXR5KGUpLHh1LnJvdGF0ZVooZSxlLHcodFsyXSkpLHh1LnJvdGF0ZVgoZSxlLHcodFswXSkpLHh1LnJvdGF0ZVkoZSxlLHcodFsxXSkpLHh1LnNjYWxlKGUsZSxpKSx4dS5tdWx0aXBseShlLGUsWzEsMCwwLDAsMCwwLDEsMCwwLDEsMCwwLDAsMCwwLDFdKTt9ZnVuY3Rpb24gZ3YoZSx0LGkscixuLG8scyxhKXtjb25zdCBsPVtpWzBdLXRbMF0saVsxXS10WzFdLDBdLGM9W3JbMF0tdFswXSxyWzFdLXRbMV0sMF07aWYoTXUubGVuZ3RoKGwpPDFlLTEyfHxNdS5sZW5ndGgoYyk8MWUtMTIpcmV0dXJuIGJ1LmlkZW50aXR5KGUpO2NvbnN0IGg9TXUuY3Jvc3MoW10sbCxjKTtNdS5ub3JtYWxpemUoaCxoKSxNdS5zdWJ0cmFjdChjLHIsdCksbFsyXT0oby1uKSphLGNbMl09KHMtbikqYTtjb25zdCB1PWw7cmV0dXJuIE11LmNyb3NzKHUsbCxjKSxNdS5ub3JtYWxpemUodSx1KSxidS5yb3RhdGlvblRvKGUsaCx1KX1mdW5jdGlvbiB5dihlLHQsaT0hMSl7Y29uc3Qgcj1FZCh0Lnpvb20pLG49ZnVuY3Rpb24oZSx0LGkpe2NvbnN0IHI9dC53b3JsZFNpemUsbj1bZVsxMl0sZVsxM10sZVsxNF1dLG89SGQoblsxXS9yKSxzPSRkKG5bMF0vciksYT14dS5pZGVudGl0eShbXSksbD1aZCgxLG8pKnIsYz1aZCgxLDApKnIqS2Qobyx0Lnpvb20pLGg9MS9iZChyKTtsZXQgdT1jKmg7aWYoaSl7Y29uc3QgZT1aeCh0LnByb2plY3Rpb24sdC56b29tLHQud2lkdGgsdC5oZWlnaHQsMTAyNCk7dT1oKnQucHJvamVjdGlvbi5waXhlbFNwYWNlQ29udmVyc2lvbih0LmNlbnRlci5sYXQscixlKTt9Y29uc3QgZD1tZChvLHMpO011LmFkZChkLGQsTXUuc2NhbGUoW10sTXUubm9ybWFsaXplKFtdLGQpLGwqdSpuWzJdKSk7Y29uc3QgcD1mdW5jdGlvbihlKXtjb25zdCB0PVtlWzBdLGVbMV0sZVsyXV07bGV0IGk9WzAsMSwwXTtjb25zdCByPU11LmNyb3NzKFtdLGksdCk7cmV0dXJuIE11LmNyb3NzKGksdCxyKSwwPT09TXUuc3F1YXJlZExlbmd0aChpKSYmKGk9WzAsMSwwXSxNdS5jcm9zcyhyLHQsaSkpLE11Lm5vcm1hbGl6ZShyLHIpLE11Lm5vcm1hbGl6ZShpLGkpLE11Lm5vcm1hbGl6ZSh0LHQpLFtyWzBdLHJbMV0sclsyXSwwLGlbMF0saVsxXSxpWzJdLDAsdFswXSx0WzFdLHRbMl0sMCxlWzBdLGVbMV0sZVsyXSwxXX0oZCk7eHUuc2NhbGUoYSxhLFt1LHUsdSpsXSkseHUudHJhbnNsYXRlKGEsYSxbLW5bMF0sLW5bMV0sLW5bMl1dKTtjb25zdCBmPXh1Lm11bHRpcGx5KFtdLHQuZ2xvYmVNYXRyaXgscCk7cmV0dXJuIHh1Lm11bHRpcGx5KGYsZixhKSx4dS5tdWx0aXBseShmLGYsZSksZn0oZSx0LGkpO2lmKHI+MCl7Y29uc3QgaT1mdW5jdGlvbihlLHQpe2NvbnN0IGk9dC53b3JsZFNpemUscj1aZCgxLDApKmkqS2QodC5jZW50ZXIubGF0LHQuem9vbSkvYmQoaSksbj1aZCgxLHQuY2VudGVyLmxhdCkqaSxvPXh1LmlkZW50aXR5KFtdKTtyZXR1cm4geHUucm90YXRlWShvLG8sdyh0LmNlbnRlci5sbmcpKSx4dS5yb3RhdGVYKG8sbyx3KHQuY2VudGVyLmxhdCkpLHh1LnRyYW5zbGF0ZShvLG8sWzAsMCxZdV0pLHh1LnNjYWxlKG8sbyxbcixyLHIqbl0pLHh1LnRyYW5zbGF0ZShvLG8sW3QucG9pbnQueC0uNSppLHQucG9pbnQueS0uNSppLDBdKSx4dS5tdWx0aXBseShvLG8sZSkseHUubXVsdGlwbHkobyx0Lmdsb2JlTWF0cml4LG8pfShlLHQpO3JldHVybiBmdW5jdGlvbihlLHQsaSl7Y29uc3Qgcj0oZSx0LGkpPT57Y29uc3Qgcj1NdS5sZW5ndGgoZSksbj1NdS5sZW5ndGgodCksbz1sZChlLHQsaSk7cmV0dXJuIE11LnNjYWxlKG8sbywxL011Lmxlbmd0aChvKSpXcihyLG4saSkpfSxuPXIoW2VbMF0sZVsxXSxlWzJdXSxbdFswXSx0WzFdLHRbMl1dLGkpLG89cihbZVs0XSxlWzVdLGVbNl1dLFt0WzRdLHRbNV0sdFs2XV0saSkscz1yKFtlWzhdLGVbOV0sZVsxMF1dLFt0WzhdLHRbOV0sdFsxMF1dLGkpLGE9bGQoW2VbMTJdLGVbMTNdLGVbMTRdXSxbdFsxMl0sdFsxM10sdFsxNF1dLGkpO3JldHVybiBbblswXSxuWzFdLG5bMl0sMCxvWzBdLG9bMV0sb1syXSwwLHNbMF0sc1sxXSxzWzJdLDAsYVswXSxhWzFdLGFbMl0sMV19KG4saSxyKX1yZXR1cm4gbn1jb25zdCB4dj02NCx2dj1bMSwxLDFdO2NsYXNzIGJ2e2NvbnN0cnVjdG9yKGUsdCxpLHIpe3RoaXMuaWQ9ZSx0aGlzLnBvc2l0aW9uPW51bGwhPXQ/bmV3IE5kKHRbMF0sdFsxXSk6bmV3IE5kKDAsMCksdGhpcy5vcmllbnRhdGlvbj1udWxsIT1pP2k6WzAsMCwwXSx0aGlzLm5vZGVzPXIsdGhpcy51cGxvYWRlZD0hMSx0aGlzLmFhYmI9bmV3IEh1KFsxLzAsMS8wLDEvMF0sWy0xLzAsLTEvMCwtMS8wXSksdGhpcy5tYXRyaXg9W107fV9hcHBseVRyYW5zZm9ybWF0aW9ucyhlLHQpe2lmKHh1Lm11bHRpcGx5KGUubWF0cml4LHQsZS5tYXRyaXgpLGUubWVzaGVzKWZvcihjb25zdCB0IG9mIGUubWVzaGVzKXtjb25zdCBpPUh1LmFwcGx5VHJhbnNmb3JtKHQuYWFiYixlLm1hdHJpeCk7dGhpcy5hYWJiLmVuY2Fwc3VsYXRlKGkpO31pZihlLmNoaWxkcmVuKWZvcihjb25zdCB0IG9mIGUuY2hpbGRyZW4pdGhpcy5fYXBwbHlUcmFuc2Zvcm1hdGlvbnModCxlLm1hdHJpeCk7fWNvbXB1dGVCb3VuZHNBbmRBcHBseVBhcmVudCgpe2NvbnN0IGU9eHUuaWRlbnRpdHkoW10pO2Zvcihjb25zdCB0IG9mIHRoaXMubm9kZXMpdGhpcy5fYXBwbHlUcmFuc2Zvcm1hdGlvbnModCxlKTt9X3Bvc2l0aW9uTW9kZWxPblRlcnJhaW4oZSx0KXtjb25zdCBpPWUuZWxldmF0aW9uO2lmKCFpKXJldHVybiAwO2NvbnN0IHI9SHUucHJvamVjdEFhYmJDb3JuZXJzKHRoaXMuYWFiYix0aGlzLm1hdHJpeCksbj1aZCgxLHRoaXMucG9zaXRpb24ubGF0KSplLndvcmxkU2l6ZSxvPWZ1bmN0aW9uKGUsdCl7Y29uc3QgaT1bMCwwLDFdLHI9W3tjb3JuZXJzOlswLDEsMywyXSxkb3RQcm9kdWN0V2l0aFVwOjB9LHtjb3JuZXJzOlsxLDUsMiw2XSxkb3RQcm9kdWN0V2l0aFVwOjB9LHtjb3JuZXJzOlswLDQsMSw1XSxkb3RQcm9kdWN0V2l0aFVwOjB9LHtjb3JuZXJzOlsyLDYsMyw3XSxkb3RQcm9kdWN0V2l0aFVwOjB9LHtjb3JuZXJzOls0LDcsNSw2XSxkb3RQcm9kdWN0V2l0aFVwOjB9LHtjb3JuZXJzOlswLDMsNCw3XSxkb3RQcm9kdWN0V2l0aFVwOjB9XTtmb3IoY29uc3QgbiBvZiByKXtjb25zdCByPWVbbi5jb3JuZXJzWzBdXSxvPWVbbi5jb3JuZXJzWzFdXSxzPWVbbi5jb3JuZXJzWzJdXSxhPVtvWzBdLXJbMF0sb1sxXS1yWzFdLHQqKG9bMl0tclsyXSldLGw9TXUuY3Jvc3MoYSxhLFtzWzBdLXJbMF0sc1sxXS1yWzFdLHQqKHNbMl0tclsyXSldKTtNdS5ub3JtYWxpemUobCxsKSxuLmRvdFByb2R1Y3RXaXRoVXA9TXUuZG90KGwsaSk7fXJldHVybiByLnNvcnQoKChlLHQpPT5lLmRvdFByb2R1Y3RXaXRoVXAtdC5kb3RQcm9kdWN0V2l0aFVwKSksclswXS5jb3JuZXJzfShyLG4pLHM9cltvWzBdXSxhPXJbb1sxXV0sbD1yW29bMl1dLGM9cltvWzNdXSxoPWkuZ2V0QXRQb2ludE9yWmVybyhuZXcgZXAoc1swXS9lLndvcmxkU2l6ZSxzWzFdL2Uud29ybGRTaXplKSwwKSx1PWkuZ2V0QXRQb2ludE9yWmVybyhuZXcgZXAoYVswXS9lLndvcmxkU2l6ZSxhWzFdL2Uud29ybGRTaXplKSwwKSxkPWkuZ2V0QXRQb2ludE9yWmVybyhuZXcgZXAobFswXS9lLndvcmxkU2l6ZSxsWzFdL2Uud29ybGRTaXplKSwwKSxwPWkuZ2V0QXRQb2ludE9yWmVybyhuZXcgZXAoY1swXS9lLndvcmxkU2l6ZSxjWzFdL2Uud29ybGRTaXplKSwwKSxmPShoK3ApLzIsbT0odStkKS8yO3JldHVybiBmPm0/dTxkP2d2KHQsYSxjLHMsdSxwLGgsbik6Z3YodCxsLHMsYyxkLGgscCxuKTpoPHA/Z3YodCxzLGEsbCxoLHUsZCxuKTpndih0LGMsbCxhLHAsZCx1LG4pLE1hdGgubWF4KGYsbSl9Y29tcHV0ZU1vZGVsTWF0cml4KGUsdCxpLHIsbixvLHM9ITEpe2NvbnN0IGE9ZS50cmFuc2Zvcm0sbD1hLnpvb20sYz1hLnByb2plY3QodGhpcy5wb3NpdGlvbiksaD1LZCh0aGlzLnBvc2l0aW9uLmxhdCxsKSx1PTEvaDt4dS5pZGVudGl0eSh0aGlzLm1hdHJpeCkseHUudHJhbnNsYXRlKHRoaXMubWF0cml4LHRoaXMubWF0cml4LFtjLngrclswXSp1LGMueStyWzFdKnUsclsyXV0pO2xldCBkPTEscD0xO2NvbnN0IGY9YS53b3JsZFNpemU7aWYocyl7aWYoXCJtZXJjYXRvclwiPT09YS5wcm9qZWN0aW9uLm5hbWUpe2xldCBlPTA7YS5lbGV2YXRpb24mJihlPWEuZWxldmF0aW9uLmdldEF0UG9pbnRPclplcm8obmV3IGVwKGMueC9mLGMueS9mKSwwKSk7Y29uc3QgdD11dS50cmFuc2Zvcm1NYXQ0KFtdLFtjLngsYy55LGUsMV0sYS5wcm9qTWF0cml4KVszXS9hLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2U7ZD10LHA9dCpLZChhLmNlbnRlci5sYXQsbCk7fWVsc2UgaWYoXCJnbG9iZVwiPT09YS5wcm9qZWN0aW9uLm5hbWUpe2NvbnN0IGU9eXYodGhpcy5tYXRyaXgsYSksdD14dS5tdWx0aXBseShbXSxhLnByb2pNYXRyaXgsZSksaT1bMCwwLDAsMV07dXUudHJhbnNmb3JtTWF0NChpLGksdCk7Y29uc3Qgcj1pWzNdL2EuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSxuPUVkKGwpLG89YS5wcm9qZWN0aW9uLnBpeGVsc1Blck1ldGVyKHRoaXMucG9zaXRpb24ubGF0LGYpKktkKHRoaXMucG9zaXRpb24ubGF0LGwpLHM9YS5wcm9qZWN0aW9uLnBpeGVsc1Blck1ldGVyKGEuY2VudGVyLmxhdCxmKSpLZChhLmNlbnRlci5sYXQsbCk7ZD1yL1dyKG8sWWQoYS5jZW50ZXIubGF0KSxuKSxwPXIqaC9vLGQqPXMscCo9czt9fWVsc2UgZD11O3h1LnNjYWxlKHRoaXMubWF0cml4LHRoaXMubWF0cml4LFtkLGQscF0pO2NvbnN0IG09Wy4uLnRoaXMubWF0cml4XSxfPXRoaXMub3JpZW50YXRpb24sZz1bXTtpZihfdihnLFtfWzBdK3RbMF0sX1sxXSt0WzFdLF9bMl0rdFsyXV0saSkseHUubXVsdGlwbHkodGhpcy5tYXRyaXgsbSxnKSxuJiZhLmVsZXZhdGlvbil7bGV0IGU9MDtjb25zdCB0PVtdO2lmKG8mJmEuZWxldmF0aW9uKXtlPXRoaXMuX3Bvc2l0aW9uTW9kZWxPblRlcnJhaW4oYSx0KTtjb25zdCBpPXh1LmZyb21RdWF0KFtdLHQpLHI9eHUubXVsdGlwbHkoW10saSxnKTt4dS5tdWx0aXBseSh0aGlzLm1hdHJpeCxtLHIpO31lbHNlIGU9YS5lbGV2YXRpb24uZ2V0QXRQb2ludE9yWmVybyhuZXcgZXAoYy54L2YsYy55L2YpLDApOzAhPT1lJiYodGhpcy5tYXRyaXhbMTRdKz1lKTt9fXVwbG9hZChlKXtpZighdGhpcy51cGxvYWRlZCl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5ub2RlcylFdih0LGUpO2Zvcihjb25zdCBlIG9mIHRoaXMubm9kZXMpTXYoZSk7dGhpcy51cGxvYWRlZD0hMDt9fWRlc3Ryb3koKXtmb3IoY29uc3QgZSBvZiB0aGlzLm5vZGVzKUF2KGUpO319ZnVuY3Rpb24gd3YoZSx0LGk9ITEpe2UudXBsb2FkZWR8fChlLmdmeFRleHR1cmU9bmV3IGd5KHQsZS5pbWFnZSxpP3QuZ2wuUjg6dC5nbC5SR0JBLHt1c2VNaXBtYXA6ZS5zYW1wbGVyLm1pbkZpbHRlcj49dC5nbC5ORUFSRVNUX01JUE1BUF9ORUFSRVNUfSksZS51cGxvYWRlZD0hMCxlLmltYWdlPW51bGwpO31mdW5jdGlvbiBUdihlLHQsaSl7ZS5pbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKGUuaW5kZXhBcnJheSwhMSwhMCksZS52ZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIoZS52ZXJ0ZXhBcnJheSx6eC5tZW1iZXJzLCExLCEwKSxlLm5vcm1hbEFycmF5JiYoZS5ub3JtYWxCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIoZS5ub3JtYWxBcnJheSxMeC5tZW1iZXJzLCExLCEwKSksZS50ZXhjb29yZEFycmF5JiYoZS50ZXhjb29yZEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihlLnRleGNvb3JkQXJyYXksUngubWVtYmVycywhMSwhMCkpLGUuY29sb3JBcnJheSYmKGUuY29sb3JCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIoZS5jb2xvckFycmF5LCgxMj09PWUuY29sb3JBcnJheS5ieXRlc1BlckVsZW1lbnQ/RHg6UHgpLm1lbWJlcnMsITEsITApKSxlLmZlYXR1cmVBcnJheSYmKGUucGJyQnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKGUuZmVhdHVyZUFycmF5LE94Lm1lbWJlcnMsITApKSxlLnNlZ21lbnRzPWRsLnNpbXBsZVNlZ21lbnQoMCwwLGUudmVydGV4QXJyYXkubGVuZ3RoLGUuaW5kZXhBcnJheS5sZW5ndGgpO2NvbnN0IHI9ZS5tYXRlcmlhbDtyLnBick1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvclRleHR1cmUmJnd2KHIucGJyTWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yVGV4dHVyZSx0KSxyLnBick1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSYmd3Yoci5wYnJNZXRhbGxpY1JvdWdobmVzcy5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmUsdCksci5ub3JtYWxUZXh0dXJlJiZ3dihyLm5vcm1hbFRleHR1cmUsdCksci5vY2NsdXNpb25UZXh0dXJlJiZ3dihyLm9jY2x1c2lvblRleHR1cmUsdCxpKSxyLmVtaXNzaW9uVGV4dHVyZSYmd3Yoci5lbWlzc2lvblRleHR1cmUsdCk7fWZ1bmN0aW9uIEV2KGUsdCxpKXtpZihlLm1lc2hlcylmb3IoY29uc3QgciBvZiBlLm1lc2hlcylUdihyLHQsaSk7aWYoZS5jaGlsZHJlbilmb3IoY29uc3QgciBvZiBlLmNoaWxkcmVuKUV2KHIsdCxpKTt9ZnVuY3Rpb24gTXYoZSl7aWYoZS5tZXNoZXMpZm9yKGNvbnN0IHQgb2YgZS5tZXNoZXMpdC5pbmRleEFycmF5LmRlc3Ryb3koKSx0LnZlcnRleEFycmF5LmRlc3Ryb3koKSx0LmNvbG9yQXJyYXkmJnQuY29sb3JBcnJheS5kZXN0cm95KCksdC5ub3JtYWxBcnJheSYmdC5ub3JtYWxBcnJheS5kZXN0cm95KCksdC50ZXhjb29yZEFycmF5JiZ0LnRleGNvb3JkQXJyYXkuZGVzdHJveSgpLHQuZmVhdHVyZUFycmF5JiZ0LmZlYXR1cmVBcnJheS5kZXN0cm95KCk7aWYoZS5jaGlsZHJlbilmb3IoY29uc3QgdCBvZiBlLmNoaWxkcmVuKU12KHQpO31mdW5jdGlvbiBBdihlKXtpZihlLm1lc2hlcylmb3IoY29uc3QgaSBvZiBlLm1lc2hlcylpLnZlcnRleEJ1ZmZlciYmKGkudmVydGV4QnVmZmVyLmRlc3Ryb3koKSxpLmluZGV4QnVmZmVyLmRlc3Ryb3koKSxpLm5vcm1hbEJ1ZmZlciYmaS5ub3JtYWxCdWZmZXIuZGVzdHJveSgpLGkudGV4Y29vcmRCdWZmZXImJmkudGV4Y29vcmRCdWZmZXIuZGVzdHJveSgpLGkuY29sb3JCdWZmZXImJmkuY29sb3JCdWZmZXIuZGVzdHJveSgpLGkucGJyQnVmZmVyJiZpLnBickJ1ZmZlci5kZXN0cm95KCksaS5zZWdtZW50cy5kZXN0cm95KCksaS5tYXRlcmlhbCYmKCh0PWkubWF0ZXJpYWwpLnBick1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvclRleHR1cmUmJnQucGJyTWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yVGV4dHVyZS5nZnhUZXh0dXJlJiZ0LnBick1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvclRleHR1cmUuZ2Z4VGV4dHVyZS5kZXN0cm95KCksdC5wYnJNZXRhbGxpY1JvdWdobmVzcy5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmUmJnQucGJyTWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlLmdmeFRleHR1cmUmJnQucGJyTWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlLmdmeFRleHR1cmUuZGVzdHJveSgpLHQubm9ybWFsVGV4dHVyZSYmdC5ub3JtYWxUZXh0dXJlLmdmeFRleHR1cmUmJnQubm9ybWFsVGV4dHVyZS5nZnhUZXh0dXJlLmRlc3Ryb3koKSx0LmVtaXNzaW9uVGV4dHVyZSYmdC5lbWlzc2lvblRleHR1cmUuZ2Z4VGV4dHVyZSYmdC5lbWlzc2lvblRleHR1cmUuZ2Z4VGV4dHVyZS5kZXN0cm95KCksdC5vY2NsdXNpb25UZXh0dXJlJiZ0Lm9jY2x1c2lvblRleHR1cmUuZ2Z4VGV4dHVyZSYmdC5vY2NsdXNpb25UZXh0dXJlLmdmeFRleHR1cmUuZGVzdHJveSgpKSk7dmFyIHQ7aWYoZS5jaGlsZHJlbilmb3IoY29uc3QgdCBvZiBlLmNoaWxkcmVuKUF2KHQpO31jbGFzcyBTdntjb25zdHJ1Y3RvcihlLHQpe3RoaXMuZmVhdHVyZT1lLHRoaXMuaW5zdGFuY2VkRGF0YU9mZnNldD10LHRoaXMuaW5zdGFuY2VkRGF0YUNvdW50PTAsdGhpcy5yb3RhdGlvbj1bMCwwLDBdLHRoaXMuc2NhbGU9WzEsMSwxXSx0aGlzLnRyYW5zbGF0aW9uPVswLDAsMF07fX1jbGFzcyBJdntjb25zdHJ1Y3Rvcigpe3RoaXMuaW5zdGFuY2VkRGF0YUFycmF5PW5ldyBZYSx0aGlzLmluc3RhbmNlc0V2YWx1YXRlZEVsZXZhdGlvbj1bXSx0aGlzLmZlYXR1cmVzPVtdLHRoaXMuaWRUb0ZlYXR1cmVzSW5kZXg9e307fX1jbGFzcyBDdntjb25zdHJ1Y3RvcihlKXt0aGlzLnpvb209ZS56b29tLHRoaXMuY2Fub25pY2FsPWUuY2Fub25pY2FsLHRoaXMubGF5ZXJzPWUubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKChlPT5lLmZxaWQpKSx0aGlzLnByb2plY3Rpb249ZS5wcm9qZWN0aW9uLHRoaXMuaW5kZXg9ZS5pbmRleCx0aGlzLmhhc1pvb21EZXBlbmRlbnRQcm9wZXJ0aWVzPXRoaXMubGF5ZXJzWzBdLmlzWm9vbURlcGVuZGVudCgpLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoKGU9PmUuaXNTdGF0ZURlcGVuZGVudCgpKSkubWFwKChlPT5lLmlkKSksdGhpcy5oYXNQYXR0ZXJuPSExLHRoaXMuaW5zdGFuY2VzUGVyTW9kZWw9e30sdGhpcy52YWxpZEZvckV4YWdnZXJhdGlvbj0wLHRoaXMubWF4VmVydGljYWxPZmZzZXQ9MCx0aGlzLm1heFNjYWxlPTAsdGhpcy5tYXhIZWlnaHQ9MCx0aGlzLmxvb2t1cERpbT10aGlzLnpvb20+dGhpcy5jYW5vbmljYWwuej8yNTY6dGhpcy56b29tPjE1Pzc1OjEwMCx0aGlzLmluc3RhbmNlQ291bnQ9MCx0aGlzLnRlcnJhaW5FbGV2YXRpb25NaW49MCx0aGlzLnRlcnJhaW5FbGV2YXRpb25NYXg9MCx0aGlzLnZhbGlkRm9yREVNVGlsZT17aWQ6bnVsbCx0aW1lc3RhbXA6MH07fXBvcHVsYXRlKGUsdCxpLHIpe3RoaXMudGlsZVRvTWV0ZXI9UWQoaSk7Y29uc3Qgbj10aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5uZWVkR2VvbWV0cnk7dGhpcy5sb29rdXA9bmV3IFVpbnQ4QXJyYXkodGhpcy5sb29rdXBEaW0qdGhpcy5sb29rdXBEaW0pO2Zvcihjb25zdHtmZWF0dXJlOm8saWQ6cyxpbmRleDphLHNvdXJjZUxheWVySW5kZXg6bH1vZiBlKXtjb25zdCBlPWNwKG8sbik7aWYoIXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihuZXcgZWEodGhpcy56b29tKSxlLGkpKWNvbnRpbnVlO2NvbnN0IGM9e2lkOnMsc291cmNlTGF5ZXJJbmRleDpsLGluZGV4OmEsZ2VvbWV0cnk6bj9lLmdlb21ldHJ5OmxwKG8saSxyKSxwcm9wZXJ0aWVzOm8ucHJvcGVydGllcyx0eXBlOm8udHlwZSxwYXR0ZXJuczp7fX0saD10aGlzLmFkZEZlYXR1cmUoYyxjLmdlb21ldHJ5LGUpO2gmJnQuZmVhdHVyZUluZGV4Lmluc2VydChvLGMuZ2VvbWV0cnksYSxsLHRoaXMuaW5kZXgsdGhpcy5pbnN0YW5jZXNQZXJNb2RlbFtoXS5pbnN0YW5jZWREYXRhQXJyYXkubGVuZ3RoKTt9dGhpcy5sb29rdXA9bnVsbDt9dXBkYXRlKGUsdCxpLHIpe2Zvcihjb25zdCB0IGluIHRoaXMuaW5zdGFuY2VzUGVyTW9kZWwpe2NvbnN0IGk9dGhpcy5pbnN0YW5jZXNQZXJNb2RlbFt0XTtmb3IoY29uc3QgdCBpbiBlKWkuaWRUb0ZlYXR1cmVzSW5kZXguaGFzT3duUHJvcGVydHkodCkmJnRoaXMuZXZhbHVhdGUoaS5mZWF0dXJlc1tpLmlkVG9GZWF0dXJlc0luZGV4W3RdXSxlW3RdLGksITApO310aGlzLm1heEhlaWdodD0wO311cGRhdGVab29tQmFzZWRQYWludFByb3BlcnRpZXMoKXtpZighdGhpcy5oYXNab29tRGVwZW5kZW50UHJvcGVydGllcylyZXR1cm4gITE7bGV0IGU9ITE7Zm9yKGNvbnN0IHQgaW4gdGhpcy5pbnN0YW5jZXNQZXJNb2RlbCl7Y29uc3QgaT10aGlzLmluc3RhbmNlc1Blck1vZGVsW3RdO2Zvcihjb25zdCB0IG9mIGkuZmVhdHVyZXMpe2NvbnN0IHI9dGhpcy5sYXllcnNbMF0sbj10LmZlYXR1cmUsbz10aGlzLmNhbm9uaWNhbCxzPXIucGFpbnQuZ2V0KFwibW9kZWwtcm90YXRpb25cIikuZXZhbHVhdGUobix7fSxvKSxhPXIucGFpbnQuZ2V0KFwibW9kZWwtc2NhbGVcIikuZXZhbHVhdGUobix7fSxvKSxsPXIucGFpbnQuZ2V0KFwibW9kZWwtdHJhbnNsYXRpb25cIikuZXZhbHVhdGUobix7fSxvKTtNdS5leGFjdEVxdWFscyh0LnJvdGF0aW9uLHMpJiZNdS5leGFjdEVxdWFscyh0LnNjYWxlLGEpJiZNdS5leGFjdEVxdWFscyh0LnRyYW5zbGF0aW9uLGwpfHwodGhpcy5ldmFsdWF0ZSh0LHQuZmVhdHVyZVN0YXRlcyxpLCEwKSxlPSEwKTt9fXJldHVybiBlfWlzRW1wdHkoKXtmb3IoY29uc3QgZSBpbiB0aGlzLmluc3RhbmNlc1Blck1vZGVsKWlmKDAhPT10aGlzLmluc3RhbmNlc1Blck1vZGVsW2VdLmluc3RhbmNlZERhdGFBcnJheS5sZW5ndGgpcmV0dXJuICExO3JldHVybiAhMH11cGxvYWRQZW5kaW5nKCl7cmV0dXJuICF0aGlzLnVwbG9hZGVkfXVwbG9hZChlKXtpZighdGhpcy51cGxvYWRlZClmb3IoY29uc3QgdCBpbiB0aGlzLmluc3RhbmNlc1Blck1vZGVsKXtjb25zdCBpPXRoaXMuaW5zdGFuY2VzUGVyTW9kZWxbdF07aS5pbnN0YW5jZWREYXRhQXJyYXkubGVuZ3RoPDB8fDA9PT1pLmluc3RhbmNlZERhdGFBcnJheS5sZW5ndGh8fChpLmluc3RhbmNlZERhdGFCdWZmZXI/aS5pbnN0YW5jZWREYXRhQnVmZmVyLnVwZGF0ZURhdGEoaS5pbnN0YW5jZWREYXRhQXJyYXkpOmkuaW5zdGFuY2VkRGF0YUJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihpLmluc3RhbmNlZERhdGFBcnJheSxreC5tZW1iZXJzLCEwLHZvaWQgMCx0aGlzLmluc3RhbmNlQ291bnQpKTt9dGhpcy51cGxvYWRlZD0hMDt9ZGVzdHJveSgpe2Zvcihjb25zdCBlIGluIHRoaXMuaW5zdGFuY2VzUGVyTW9kZWwpe2NvbnN0IHQ9dGhpcy5pbnN0YW5jZXNQZXJNb2RlbFtlXTswIT09dC5pbnN0YW5jZWREYXRhQXJyYXkubGVuZ3RoJiZ0Lmluc3RhbmNlZERhdGFCdWZmZXImJnQuaW5zdGFuY2VkRGF0YUJ1ZmZlci5kZXN0cm95KCk7fX1hZGRGZWF0dXJlKGUsdCxpKXtjb25zdCByPXRoaXMubGF5ZXJzWzBdLG49ci5sYXlvdXQuZ2V0KFwibW9kZWwtaWRcIikuZXZhbHVhdGUoaSx7fSx0aGlzLmNhbm9uaWNhbCk7aWYoIW4pcmV0dXJuIFcoYG1vZGVsSWQgaXMgbm90IGV2YWx1YXRlZCBmb3IgbGF5ZXIgJHtyLmlkfSBhbmQgaXQgaXMgbm90IGdvaW5nIHRvIGdldCByZW5kZXJlZC5gKSxuO3RoaXMuaW5zdGFuY2VzUGVyTW9kZWxbbl18fCh0aGlzLmluc3RhbmNlc1Blck1vZGVsW25dPW5ldyBJdik7Y29uc3Qgbz10aGlzLmluc3RhbmNlc1Blck1vZGVsW25dLHM9by5pbnN0YW5jZWREYXRhQXJyYXksYT1uZXcgU3YoaSxzLmxlbmd0aCk7Zm9yKGNvbnN0IGUgb2YgdClmb3IoY29uc3QgdCBvZiBlKXtpZih0Lng8MHx8dC54Pj1zcnx8dC55PDB8fHQueT49c3IpY29udGludWU7Y29uc3QgZT0odGhpcy5sb29rdXBEaW0tMSkvc3IsaT10aGlzLmxvb2t1cERpbSoodC55KmV8MCkrdC54KmV8MDtpZih0aGlzLmxvb2t1cCl7aWYoMCE9PXRoaXMubG9va3VwW2ldKWNvbnRpbnVlO3RoaXMubG9va3VwW2ldPTE7fXRoaXMuaW5zdGFuY2VDb3VudCsrO2NvbnN0IHI9cy5sZW5ndGg7cy5yZXNpemUocisxKSxvLmluc3RhbmNlc0V2YWx1YXRlZEVsZXZhdGlvbi5wdXNoKDApLHMuZmxvYXQzMlsxNipyXT10Lngscy5mbG9hdDMyWzE2KnIrMV09dC55O31yZXR1cm4gYS5pbnN0YW5jZWREYXRhQ291bnQ9by5pbnN0YW5jZWREYXRhQXJyYXkubGVuZ3RoLWEuaW5zdGFuY2VkRGF0YU9mZnNldCxhLmluc3RhbmNlZERhdGFDb3VudD4wJiYoZS5pZCYmKG8uaWRUb0ZlYXR1cmVzSW5kZXhbZS5pZF09by5mZWF0dXJlcy5sZW5ndGgpLG8uZmVhdHVyZXMucHVzaChhKSx0aGlzLmV2YWx1YXRlKGEse30sbywhMSkpLG59ZXZhbHVhdGUoZSx0LGkscil7Y29uc3Qgbj10aGlzLmxheWVyc1swXSxvPWUuZmVhdHVyZSxzPXRoaXMuY2Fub25pY2FsLGE9ZS5yb3RhdGlvbj1uLnBhaW50LmdldChcIm1vZGVsLXJvdGF0aW9uXCIpLmV2YWx1YXRlKG8sdCxzKSxsPWUuc2NhbGU9bi5wYWludC5nZXQoXCJtb2RlbC1zY2FsZVwiKS5ldmFsdWF0ZShvLHQscyksYz1lLnRyYW5zbGF0aW9uPW4ucGFpbnQuZ2V0KFwibW9kZWwtdHJhbnNsYXRpb25cIikuZXZhbHVhdGUobyx0LHMpLGg9bi5wYWludC5nZXQoXCJtb2RlbC1jb2xvclwiKS5ldmFsdWF0ZShvLHQscyk7aC5hPW4ucGFpbnQuZ2V0KFwibW9kZWwtY29sb3ItbWl4LWludGVuc2l0eVwiKS5ldmFsdWF0ZShvLHQscyk7Y29uc3QgdT1bXTt0aGlzLm1heFZlcnRpY2FsT2Zmc2V0PGNbMl0mJih0aGlzLm1heFZlcnRpY2FsT2Zmc2V0PWNbMl0pLHRoaXMubWF4U2NhbGU9TWF0aC5tYXgoTWF0aC5tYXgodGhpcy5tYXhTY2FsZSxsWzBdKSxNYXRoLm1heChsWzFdLGxbMl0pKSxfdih1LGEsbCk7Y29uc3QgZD1NYXRoLnJvdW5kKDEwMCpoLmEpK2guYi8xLjA1O2ZvcihsZXQgdD0wO3Q8ZS5pbnN0YW5jZWREYXRhQ291bnQ7Kyt0KXtjb25zdCBuPWUuaW5zdGFuY2VkRGF0YU9mZnNldCt0LG89MTYqbixhPWkuaW5zdGFuY2VkRGF0YUFycmF5LmZsb2F0MzI7bGV0IGw9MDtyJiYobD1hW28rNl0taS5pbnN0YW5jZXNFdmFsdWF0ZWRFbGV2YXRpb25bbl0pO2NvbnN0IHA9MHxhW28rMV07YVtvXT0oMHxhW29dKStoLnIvMS4wNSxhW28rMV09cCtoLmcvMS4wNSxhW28rMl09ZCxhW28rM109MS8ocy56PjEwP3RoaXMudGlsZVRvTWV0ZXI6UWQocyxwKSksYVtvKzRdPWNbMF0sYVtvKzVdPWNbMV0sYVtvKzZdPWNbMl0rbCxhW28rN109dVswXSxhW28rOF09dVsxXSxhW28rOV09dVsyXSxhW28rMTBdPXVbNF0sYVtvKzExXT11WzVdLGFbbysxMl09dVs2XSxhW28rMTNdPXVbOF0sYVtvKzE0XT11WzldLGFbbysxNV09dVsxMF0saS5pbnN0YW5jZXNFdmFsdWF0ZWRFbGV2YXRpb25bbl09Y1syXTt9fX1JcyhDdixcIk1vZGVsQnVja2V0XCIse29taXQ6W1wibGF5ZXJzXCJdfSksSXMoSXYsXCJQZXJNb2RlbEF0dHJpYnV0ZXNcIiksSXMoU3YsXCJNb2RlbEZlYXR1cmVcIik7Y29uc3QgenY9bmV3IGRhKHt2aXNpYmlsaXR5Om5ldyBjYShDdC5sYXlvdXRfbW9kZWwudmlzaWJpbGl0eSksXCJtb2RlbC1pZFwiOm5ldyBoYShDdC5sYXlvdXRfbW9kZWxbXCJtb2RlbC1pZFwiXSl9KTt2YXIgRHY9e3BhaW50Om5ldyBkYSh7XCJtb2RlbC1vcGFjaXR5XCI6bmV3IGNhKEN0LnBhaW50X21vZGVsW1wibW9kZWwtb3BhY2l0eVwiXSksXCJtb2RlbC1yb3RhdGlvblwiOm5ldyBoYShDdC5wYWludF9tb2RlbFtcIm1vZGVsLXJvdGF0aW9uXCJdKSxcIm1vZGVsLXNjYWxlXCI6bmV3IGhhKEN0LnBhaW50X21vZGVsW1wibW9kZWwtc2NhbGVcIl0pLFwibW9kZWwtdHJhbnNsYXRpb25cIjpuZXcgaGEoQ3QucGFpbnRfbW9kZWxbXCJtb2RlbC10cmFuc2xhdGlvblwiXSksXCJtb2RlbC1jb2xvclwiOm5ldyBoYShDdC5wYWludF9tb2RlbFtcIm1vZGVsLWNvbG9yXCJdKSxcIm1vZGVsLWNvbG9yLW1peC1pbnRlbnNpdHlcIjpuZXcgaGEoQ3QucGFpbnRfbW9kZWxbXCJtb2RlbC1jb2xvci1taXgtaW50ZW5zaXR5XCJdKSxcIm1vZGVsLXR5cGVcIjpuZXcgY2EoQ3QucGFpbnRfbW9kZWxbXCJtb2RlbC10eXBlXCJdKSxcIm1vZGVsLWNhc3Qtc2hhZG93c1wiOm5ldyBjYShDdC5wYWludF9tb2RlbFtcIm1vZGVsLWNhc3Qtc2hhZG93c1wiXSksXCJtb2RlbC1yZWNlaXZlLXNoYWRvd3NcIjpuZXcgY2EoQ3QucGFpbnRfbW9kZWxbXCJtb2RlbC1yZWNlaXZlLXNoYWRvd3NcIl0pLFwibW9kZWwtYW1iaWVudC1vY2NsdXNpb24taW50ZW5zaXR5XCI6bmV3IGNhKEN0LnBhaW50X21vZGVsW1wibW9kZWwtYW1iaWVudC1vY2NsdXNpb24taW50ZW5zaXR5XCJdKSxcIm1vZGVsLWVtaXNzaXZlLXN0cmVuZ3RoXCI6bmV3IGhhKEN0LnBhaW50X21vZGVsW1wibW9kZWwtZW1pc3NpdmUtc3RyZW5ndGhcIl0pLFwibW9kZWwtcm91Z2huZXNzXCI6bmV3IGhhKEN0LnBhaW50X21vZGVsW1wibW9kZWwtcm91Z2huZXNzXCJdKSxcIm1vZGVsLWhlaWdodC1iYXNlZC1lbWlzc2l2ZS1zdHJlbmd0aC1tdWx0aXBsaWVyXCI6bmV3IGhhKEN0LnBhaW50X21vZGVsW1wibW9kZWwtaGVpZ2h0LWJhc2VkLWVtaXNzaXZlLXN0cmVuZ3RoLW11bHRpcGxpZXJcIl0pLFwibW9kZWwtY3V0b2ZmLWZhZGUtcmFuZ2VcIjpuZXcgY2EoQ3QucGFpbnRfbW9kZWxbXCJtb2RlbC1jdXRvZmYtZmFkZS1yYW5nZVwiXSl9KSxsYXlvdXQ6enZ9O2NvbnN0IFB2PW5ldyBGbG9hdDMyQXJyYXkoMjYyMTQ0KSxSdj1uZXcgVWludDhBcnJheSgyNjIxNDQpO2Z1bmN0aW9uIEx2KGUpe2xldCB0PTA7aWYoZS5tZXNoZXMpZm9yKGNvbnN0IGkgb2YgZS5tZXNoZXMpdD1NYXRoLm1heCh0LGkuYWFiYi5tYXhbMl0pO2lmKGUuY2hpbGRyZW4pZm9yKGNvbnN0IGkgb2YgZS5jaGlsZHJlbil0PU1hdGgubWF4KHQsTHYoaSkpO3JldHVybiB0fWNvbnN0IGt2PVtcIlwiLFwid2FsbFwiLFwiZG9vclwiLFwicm9vZlwiLFwid2luZG93XCIsXCJsYW1wXCIsXCJsb2dvXCJdO2NsYXNzIE92e2NvbnN0cnVjdG9yKGUpe3RoaXMubm9kZT1lLHRoaXMuZXZhbHVhdGVkUk1FQT1bWzEsMCwwLDFdLFsxLDAsMCwxXSxbMSwwLDAsMV0sWzEsMCwwLDFdLFsuNCwxLDAsMV0sWzEsMCwwLDFdLFsxLDAsMCwxXV0sdGhpcy5oaWRkZW5CeVJlcGxhY2VtZW50PSExLHRoaXMuZXZhbHVhdGVkU2NhbGU9WzEsMSwxXSx0aGlzLmV2YWx1YXRlZENvbG9yPVtdLHRoaXMuZW1pc3Npb25IZWlnaHRCYXNlZFBhcmFtcz1bXSx0aGlzLmZlYXR1cmU9e3R5cGU6XCJQb2ludFwiLGlkOmUuaWQsZ2VvbWV0cnk6W10scHJvcGVydGllczp7aGVpZ2h0Okx2KGUpfX07fX1jbGFzcyBCdntjb25zdHJ1Y3RvcihlLHQsaSxyKXt0aGlzLm5vZGVzPWUsdGhpcy5pZD10LHRoaXMubW9kZWxUcmFpdHN8PTEsdGhpcy51cGxvYWRlZD0hMSx0aGlzLmhhc1BhdHRlcm49ITEsaSYmKHRoaXMubW9kZWxUcmFpdHN8PTQpLHRoaXMuem9vbT0tMSx0aGlzLnRlcnJhaW5FeGFnZ2VyYXRpb249MSx0aGlzLnByb2plY3Rpb249e25hbWU6XCJtZXJjYXRvclwifSx0aGlzLnJlcGxhY2VtZW50VXBkYXRlVGltZT0wLHRoaXMuZWxldmF0aW9uUmVhZEZyb21aPTI1NSx0aGlzLmJyaWdodG5lc3M9cix0aGlzLmRpcnR5PSEwLHRoaXMubmVlZHNVcGxvYWQ9ITE7fXVwZGF0ZSgpe2NvbnNvbGUubG9nKFwiVXBkYXRlIDNEIG1vZGVsIGJ1Y2tldFwiKTt9cG9wdWxhdGUoKXtjb25zb2xlLmxvZyhcInBvcHVsYXRlIDNEIG1vZGVsIGJ1Y2tldFwiKTt9dXBsb2FkUGVuZGluZygpe3JldHVybiAhdGhpcy51cGxvYWRlZHx8dGhpcy5uZWVkc1VwbG9hZH11cGxvYWQoZSl7aWYoIXRoaXMubmVlZHNVcGxvYWQpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nZXROb2Rlc0luZm8oKTtmb3IoY29uc3QgaSBvZiB0KXtjb25zdCB0PWkubm9kZTt0aGlzLnVwbG9hZGVkP3RoaXMudXBkYXRlUGJyQnVmZmVyKHQpOkV2KHQsZSwhMCk7fWZvcihjb25zdCBlIG9mIHQpTXYoZS5ub2RlKTt0aGlzLnVwbG9hZGVkPSEwLHRoaXMubmVlZHNVcGxvYWQ9ITE7fXVwZGF0ZVBickJ1ZmZlcihlKXtsZXQgdD0hMTtpZighZS5tZXNoZXMpcmV0dXJuIHQ7Zm9yKGNvbnN0IGkgb2YgZS5tZXNoZXMpaS5wYnJCdWZmZXImJihpLnBickJ1ZmZlci51cGRhdGVEYXRhKGkuZmVhdHVyZUFycmF5KSx0PSEwKTtyZXR1cm4gdH1uZWVkc1JlRXZhbHVhdGlvbihlLHQsaSl7Y29uc3Qgcj1lLnRyYW5zZm9ybS5wcm9qZWN0aW9uT3B0aW9ucyxuPWUuc3R5bGUuZ2V0QnJpZ2h0bmVzcygpLG89dGhpcy5icmlnaHRuZXNzIT09bjtyZXR1cm4gISEoIXRoaXMudXBsb2FkZWR8fHRoaXMuZGlydHl8fHIubmFtZSE9PXRoaXMucHJvamVjdGlvbi5uYW1lfHxGdihpLnBhaW50LmdldChcIm1vZGVsLWNvbG9yXCIpLnZhbHVlLG8pfHxGdihpLnBhaW50LmdldChcIm1vZGVsLWNvbG9yLW1peC1pbnRlbnNpdHlcIikudmFsdWUsbyl8fEZ2KGkucGFpbnQuZ2V0KFwibW9kZWwtcm91Z2huZXNzXCIpLnZhbHVlLG8pfHxGdihpLnBhaW50LmdldChcIm1vZGVsLWVtaXNzaXZlLXN0cmVuZ3RoXCIpLnZhbHVlLG8pfHxGdihpLnBhaW50LmdldChcIm1vZGVsLWhlaWdodC1iYXNlZC1lbWlzc2l2ZS1zdHJlbmd0aC1tdWx0aXBsaWVyXCIpLnZhbHVlLG8pKSYmKHRoaXMucHJvamVjdGlvbj1yLHRoaXMuYnJpZ2h0bmVzcz1uLCEwKX1ldmFsdWF0ZVNjYWxlKGUsdCl7aWYoZS50cmFuc2Zvcm0uem9vbT09PXRoaXMuem9vbSlyZXR1cm47dGhpcy56b29tPWUudHJhbnNmb3JtLnpvb207Y29uc3QgaT10aGlzLmdldE5vZGVzSW5mbygpLHI9dGhpcy5pZC5jYW5vbmljYWw7Zm9yKGNvbnN0IGUgb2YgaSl7Y29uc3QgaT1lLmZlYXR1cmU7ZS5ldmFsdWF0ZWRTY2FsZT10LnBhaW50LmdldChcIm1vZGVsLXNjYWxlXCIpLmV2YWx1YXRlKGkse30scik7fX1ldmFsdWF0ZShlKXtjb25zdCB0PXRoaXMuZ2V0Tm9kZXNJbmZvKCk7Zm9yKGNvbnN0IGkgb2YgdCl7aWYoIWkubm9kZS5tZXNoZXMpY29udGludWU7Y29uc3QgdD1pLmZlYXR1cmUscj1pLm5vZGUubWVzaGVzJiZpLm5vZGUubWVzaGVzWzBdLmZlYXR1cmVEYXRhLG49aS5ldmFsdWF0ZWRDb2xvclsyXSxvPWkuZXZhbHVhdGVkUk1FQVsyXSxzPXRoaXMuaWQuY2Fub25pY2FsO2lmKGkuaGFzVHJhbnNsdWNlbnRQYXJ0cz0hMSxyKXtmb3IobGV0IHI9MDtyPGt2Lmxlbmd0aDtyKyspe2NvbnN0IG49a3Zbcl07bi5sZW5ndGgmJih0LnByb3BlcnRpZXMucGFydD1uKTtjb25zdCBvPWUucGFpbnQuZ2V0KFwibW9kZWwtY29sb3JcIikuZXZhbHVhdGUodCx7fSxzKSxhPWUucGFpbnQuZ2V0KFwibW9kZWwtY29sb3ItbWl4LWludGVuc2l0eVwiKS5ldmFsdWF0ZSh0LHt9LHMpO2kuZXZhbHVhdGVkQ29sb3Jbcl09W28ucixvLmcsby5iLGFdLGkuZXZhbHVhdGVkUk1FQVtyXVswXT1lLnBhaW50LmdldChcIm1vZGVsLXJvdWdobmVzc1wiKS5ldmFsdWF0ZSh0LHt9LHMpLGkuZXZhbHVhdGVkUk1FQVtyXVsyXT1lLnBhaW50LmdldChcIm1vZGVsLWVtaXNzaXZlLXN0cmVuZ3RoXCIpLmV2YWx1YXRlKHQse30scyksaS5ldmFsdWF0ZWRSTUVBW3JdWzNdPW8uYSxpLmVtaXNzaW9uSGVpZ2h0QmFzZWRQYXJhbXNbcl09ZS5wYWludC5nZXQoXCJtb2RlbC1oZWlnaHQtYmFzZWQtZW1pc3NpdmUtc3RyZW5ndGgtbXVsdGlwbGllclwiKS5ldmFsdWF0ZSh0LHt9LHMpLCFpLmhhc1RyYW5zbHVjZW50UGFydHMmJm8uYTwxJiYoaS5oYXNUcmFuc2x1Y2VudFBhcnRzPSEwKTt9ZGVsZXRlIHQucHJvcGVydGllcy5wYXJ0LFV2KGksbiE9PWkuZXZhbHVhdGVkQ29sb3JbMl18fG8hPT1pLmV2YWx1YXRlZFJNRUFbMl0pO31pLmV2YWx1YXRlZFNjYWxlPWUucGFpbnQuZ2V0KFwibW9kZWwtc2NhbGVcIikuZXZhbHVhdGUodCx7fSxzKSx0aGlzLnVwZGF0ZVBickJ1ZmZlcihpLm5vZGUpfHwodGhpcy5uZWVkc1VwbG9hZD0hMCk7fXRoaXMuZGlydHk9ITE7fWVsZXZhdGlvblVwZGF0ZShlLHQsaSxyKXtjb25zdCBuPWUuZmluZERFTVRpbGVGb3IoaSk7aWYobiYmKG4udGlsZUlELmNhbm9uaWNhbCE9PXRoaXMudGVycmFpblRpbGV8fHQhPT10aGlzLnRlcnJhaW5FeGFnZ2VyYXRpb24pKXtpZihuLmRlbSYmbi50aWxlSUQub3ZlcnNjYWxlZFohPT10aGlzLmVsZXZhdGlvblJlYWRGcm9tWil7dGhpcy5lbGV2YXRpb25SZWFkRnJvbVo9bi50aWxlSUQub3ZlcnNjYWxlZFo7Y29uc3QgdD1xbS5jcmVhdGUoZSxpLG4pO2lmKCF0KXJldHVybjs0JnRoaXMubW9kZWxUcmFpdHMmJnRoaXMudXBkYXRlREVNKGUsdCxpLHIpO2Zvcihjb25zdCBlIG9mIHRoaXMuZ2V0Tm9kZXNJbmZvKCkpe2NvbnN0IGk9ZS5ub2RlO2lmKCFpLmZvb3RwcmludHx8IWkuZm9vdHByaW50LnZlcnRpY2VzfHwhaS5mb290cHJpbnQudmVydGljZXMubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IHI9aS5mb290cHJpbnQudmVydGljZXM7bGV0IG49dC5nZXRFbGV2YXRpb25BdChyWzBdLngsclswXS55LCEwLCEwKTtmb3IobGV0IGU9MTtlPHIubGVuZ3RoO2UrKyluPU1hdGgubWluKG4sdC5nZXRFbGV2YXRpb25BdChyW2VdLngscltlXS55LCEwLCEwKSk7aS5lbGV2YXRpb249bjt9fXRoaXMudGVycmFpblRpbGU9bi50aWxlSUQuY2Fub25pY2FsLHRoaXMudGVycmFpbkV4YWdnZXJhdGlvbj10O319dXBkYXRlREVNKGUsdCxpLHIpe2xldCBuPXQuX2RlbS5fbW9kaWZpZWRGb3JTb3VyY2VzW3JdO2lmKHZvaWQgMD09PW4mJih0Ll9kZW0uX21vZGlmaWVkRm9yU291cmNlc1tyXT1bXSxuPXQuX2RlbS5fbW9kaWZpZWRGb3JTb3VyY2VzW3JdKSxuLmluY2x1ZGVzKGkuY2Fub25pY2FsKSlyZXR1cm47Y29uc3Qgbz10Ll9kZW0uZGltO24ucHVzaChpLmNhbm9uaWNhbCk7bGV0IHM9ITE7Zm9yKGNvbnN0IGUgb2YgdGhpcy5nZXROb2Rlc0luZm8oKSl7Y29uc3QgaT1lLm5vZGU7aWYoIWkuZm9vdHByaW50fHwhaS5mb290cHJpbnQuZ3JpZCljb250aW51ZTtjb25zdCByPWkuZm9vdHByaW50LmdyaWQsbj10LnRpbGVDb29yZFRvUGl4ZWwoci5taW4ueCxyLm1pbi55KSxhPXQudGlsZUNvb3JkVG9QaXhlbChyLm1heC54LHIubWF4LnkpLGw9TWF0aC5taW4oTWF0aC5taW4oby1hLnksbi54KSxNYXRoLm1pbihuLnksby1hLngpKTtpZihsPDApY29udGludWU7Y29uc3QgYz16KGwsMiw1KTtsZXQgaD1NYXRoLm1heCgwLG4ueC1jKSx1PU1hdGgubWF4KDAsbi55LWMpLGQ9TWF0aC5taW4oYS54K2Msby0xKSxwPU1hdGgubWluKGEueStjLG8tMSk7Zm9yKGxldCBlPXU7ZTw9cDsrK2UpZm9yKGxldCB0PWg7dDw9ZDsrK3QpUnZbZSpvK3RdPTI1NTtsZXQgZj0wLG09MDtmb3IobGV0IGU9MDtlPHIuY2VsbHNZOysrZSlmb3IobGV0IGk9MDtpPHIuY2VsbHNYOysraSl7aWYoIXIuY2VsbHNbZSpyLmNlbGxzWCtpXSljb250aW51ZTtjb25zdCBuPXQudGlsZUNvb3JkVG9QaXhlbChyLm1pbi54K2kvci54U2NhbGUsci5taW4ueStlL3IueVNjYWxlKSxzPXQudGlsZUNvb3JkVG9QaXhlbChyLm1pbi54KyhpKzEpL3IueFNjYWxlLHIubWluLnkrKGUrMSkvci55U2NhbGUpO2ZvcihsZXQgZT1uLnk7ZTw9TWF0aC5taW4ocy55KzEsby0xKTsrK2UpZm9yKGxldCBpPW4ueDtpPD1NYXRoLm1pbihzLngrMSxvLTEpOysraSkyNTU9PT1SdltlKm8raV0mJihSdltlKm8raV09MCxmKz10LmdldEVsZXZhdGlvbkF0UGl4ZWwoaSxlKSxtKyspO31jb25zdCBfPWYvbTtoPU1hdGgubWF4KDEsbi54LWMpLHU9TWF0aC5tYXgoMSxuLnktYyksZD1NYXRoLm1pbihhLngrYyxvLTIpLHA9TWF0aC5taW4oYS55K2Msby0yKSxzPSEwO2ZvcihsZXQgZT11O2U8PXA7KytlKWZvcihsZXQgaT1oO2k8PWQ7KytpKTA9PT1SdltlKm8raV0mJihQdltlKm8raV09dC5fZGVtLnNldChpLGUsXykpO2ZvcihsZXQgZT0xO2U8YzsrK2Upe2g9TWF0aC5tYXgoMSxuLngtZSksdT1NYXRoLm1heCgxLG4ueS1lKSxkPU1hdGgubWluKGEueCtlLG8tMikscD1NYXRoLm1pbihhLnkrZSxvLTIpO2ZvcihsZXQgaT11O2k8PXA7KytpKWZvcihsZXQgcj1oO3I8PWQ7KytyKXtjb25zdCBuPWkqbytyO2lmKDI1NT09PVJ2W25dKXtsZXQgcz0wLGE9MCxsPS0xLGg9LTE7Zm9yKGxldCB0PS0xO3Q8PTE7Kyt0KWZvcihsZXQgbj0tMTtuPD0xOysrbil7Y29uc3QgYz0oaSt0KSpvK3IrbjtpZihSdltjXT49ZSljb250aW51ZTtjb25zdCB1PVB2W2NdLGQ9TWF0aC5hYnModSk7ZD5hJiYocz11LGE9ZCxsPW4saD10KTt9aWYoYT4uMSl7Y29uc3Qgbz0xLShlKy41Kk1hdGguYWJzKGwqaCkpL2M7bGV0IGE9dC5fZGVtLmdldChyLGkpK3Mqbztjb25zdCB1PXQuX2RlbS5nZXQocitsLGkraCksZD10Ll9kZW0uZ2V0KHItbCxpLWgsITApOyhhLXUpKihhLWQpPjAmJihhPSh1K2QpLzIpLFB2W25dPXQuX2RlbS5zZXQocixpLGEpLFJ2W25dPWU7fX19fX1zJiYodC5fZGVtVGlsZS5uZWVkc0RFTVRleHR1cmVVcGxvYWQ9ITAsdC5fZGVtLl90aW1lc3RhbXA9aHQubm93KCkpO31nZXROb2Rlc0luZm8oKXtpZighdGhpcy5ub2Rlc0luZm8pe3RoaXMubm9kZXNJbmZvPVtdO2Zvcihjb25zdCBlIG9mIHRoaXMubm9kZXMpdGhpcy5ub2Rlc0luZm8ucHVzaChuZXcgT3YoZSkpO3RoaXMuZnJlZU5vZGVzKCk7fXJldHVybiB0aGlzLm5vZGVzSW5mb31mcmVlTm9kZXMoKXtpZih0aGlzLm5vZGVzKXtmb3IoY29uc3QgZSBvZiB0aGlzLm5vZGVzKUF2KGUpO3RoaXMubm9kZXMuc3BsaWNlKDAsdGhpcy5ub2Rlcy5sZW5ndGgpO319ZGVzdHJveSgpe3RoaXMuZnJlZU5vZGVzKCk7Y29uc3QgZT10aGlzLmdldE5vZGVzSW5mbygpO2Zvcihjb25zdCB0IG9mIGUpTXYodC5ub2RlKSxBdih0Lm5vZGUpO31pc0VtcHR5KCl7cmV0dXJuICF0aGlzLm5vZGVzLmxlbmd0aH11cGRhdGVSZXBsYWNlbWVudChlLHQpe2lmKHQudXBkYXRlVGltZT09PXRoaXMucmVwbGFjZW1lbnRVcGRhdGVUaW1lKXJldHVybjt0aGlzLnJlcGxhY2VtZW50VXBkYXRlVGltZT10LnVwZGF0ZVRpbWU7Y29uc3QgaT10LmdldFJlcGxhY2VtZW50UmVnaW9uc0ZvclRpbGUoZS50b1Vud3JhcHBlZCgpKSxyPXRoaXMuZ2V0Tm9kZXNJbmZvKCk7Zm9yKGxldCBlPTA7ZTx0aGlzLm5vZGVzSW5mby5sZW5ndGg7ZSsrKXtjb25zdCB0PXJbZV0ubm9kZTtyW2VdLmhpZGRlbkJ5UmVwbGFjZW1lbnQ9ISF0LmZvb3RwcmludCYmIWkuZmluZCgoZT0+ZS5mb290cHJpbnQ9PT10LmZvb3RwcmludCkpO319Z2V0SGVpZ2h0QXRUaWxlQ29vcmQoZSx0KXtjb25zdCBpPXRoaXMuZ2V0Tm9kZXNJbmZvKCkscj1bXTtmb3IobGV0IG49MDtuPHRoaXMubm9kZXNJbmZvLmxlbmd0aDtuKyspe2NvbnN0IG89aVtuXSxzPW8ubm9kZS5tZXNoZXNbMF07aWYoZTxzLmFhYmIubWluWzBdfHx0PHMuYWFiYi5taW5bMV18fGU+cy5hYWJiLm1heFswXXx8dD5zLmFhYmIubWF4WzFdKWNvbnRpbnVlO2NvbnN0IGE9KGUtcy5hYWJiLm1pblswXSkvKHMuYWFiYi5tYXhbMF0tcy5hYWJiLm1pblswXSkqeHZ8MCxsPU1hdGgubWluKDYzLCh0LXMuYWFiYi5taW5bMV0pLyhzLmFhYmIubWF4WzFdLXMuYWFiYi5taW5bMV0pKnh2fDApKnh2K01hdGgubWluKDYzLGEpO2lmKCEocy5oZWlnaHRtYXBbbF08MCYmby5ub2RlLmZvb3RwcmludCkpe2lmKG8uaGlkZGVuQnlSZXBsYWNlbWVudClyZXR1cm47cmV0dXJuIHtoZWlnaHQ6cy5oZWlnaHRtYXBbbF0sbWF4SGVpZ2h0Om8uZmVhdHVyZS5wcm9wZXJ0aWVzLmhlaWdodCxoaWRkZW46ITEsdmVydGljYWxTY2FsZTpvLmV2YWx1YXRlZFNjYWxlWzJdfX1pZihvLm5vZGUuZm9vdHByaW50LmdyaWQucXVlcnkobmV3IHkoZSx0KSxuZXcgeShlLHQpLHIpLHIubGVuZ3RoPjApcmV0dXJuIHtoZWlnaHQ6dm9pZCAwLG1heEhlaWdodDpvLmZlYXR1cmUucHJvcGVydGllcy5oZWlnaHQsaGlkZGVuOm8uaGlkZGVuQnlSZXBsYWNlbWVudCx2ZXJ0aWNhbFNjYWxlOm8uZXZhbHVhdGVkU2NhbGVbMl19fX19ZnVuY3Rpb24gRnYoZSx0KXtyZXR1cm4gIWUuaXNMaWdodENvbnN0YW50JiZ0fWZ1bmN0aW9uIE52KGUsdCxpLHIsbixvLHMsYSl7bGV0IGw9KDYxNDQwJnR8KDYxNDQwJnQpPj40KT4+OCxjPSgzODQwJnR8KDM4NDAmdCk+PjQpPj40LGg9MjQwJnR8KDI0MCZ0KT4+NDtpWzNdPjAmJihsPVdyKGwsMjU1KmlbMF0saVszXSksYz1XcihjLDI1NSppWzFdLGlbM10pLGg9V3IoaCwyNTUqaVsyXSxpWzNdKSk7Y29uc3QgdT1sPDw4fGMsZD1oPDw4fE1hdGguZmxvb3IoMjU1KnJbM10pLHA9ZnVuY3Rpb24oZSl7Y29uc3QgdD16KGUsMCwyKTtyZXR1cm4gTWF0aC5taW4oTWF0aC5yb3VuZCguNSp0KjI1NSksMjU1KX0oclsyXSk8PDh8MTUqclswXTw8NHwxNSpyWzFdLGY9eihuWzBdLDAsMSksbT16KG5bMV0sMCwxKSxfPXooblsyXSwwLDEpLGc9eihuWzNdLDAsMSk7bGV0IHkseCx2LGI7aWYoZiE9PW0mJnMhPT1vJiZtIT09Zil7Y29uc3QgZT1zLW87eD0xLyhlKihtLWYpKSx2PS0obytlKmYpLyhlKihtLWYpKTtjb25zdCB0PXoobls0XSwtMSwxKTtiPU1hdGgucG93KDEwLHQpLHk9MjU1Kl88PDh8MjU1Kmc7fWVsc2UgeT02NTUzNSx4PTAsdj0xLGI9MTtpZihlLmVtcGxhY2VCYWNrKHUsZCxwLHkseCx2LGIpLGEpe2NvbnN0IGU9YS5sZW5ndGg7YS5jbGVhcigpO2ZvcihsZXQgdD0wO3Q8ZTt0KyspYS5lbXBsYWNlQmFjayh1LGQscCx5LHgsdixiKTt9fWZ1bmN0aW9uIFV2KGUsdCl7Y29uc3QgaT1lLm5vZGU7bGV0IHI9MDtmb3IoY29uc3QgbiBvZiBpLm1lc2hlcyl7aWYoaS5saWdodHMmJmkubGlnaHRNZXNoSW5kZXg9PT1yKWNvbnRpbnVlO2lmKCFuLmZlYXR1cmVEYXRhKWNvbnRpbnVlO24uZmVhdHVyZUFycmF5PW5ldyBLYSxuLmZlYXR1cmVBcnJheS5yZXNlcnZlKG4uZmVhdHVyZURhdGEubGVuZ3RoKTtsZXQgbz10O2Zvcihjb25zdCB0IG9mIG4uZmVhdHVyZURhdGEpe2xldCByO2NvbnN0IHM9NjU1MzUmdCxhPSgxNSZzKTw4PzE1JnM6MCxsPXQ+PjE2JjY1NTM1LGM9ZS5ldmFsdWF0ZWRSTUVBW2FdLGg9ZS5ldmFsdWF0ZWRDb2xvclthXSx1PWUuZW1pc3Npb25IZWlnaHRCYXNlZFBhcmFtc1thXTtpZihvJiYyPT09YSYmaS5saWdodHMmJihyPW5ldyBLYSxyLnJlc2l6ZSgxMCppLmxpZ2h0cy5sZW5ndGgpKSxOdihuLmZlYXR1cmVBcnJheSxsLGgsYyx1LG4uYWFiYi5taW5bMl0sbi5hYWJiLm1heFsyXSxyKSxyJiZvKXtvPSExO2NvbnN0IGU9aS5tZXNoZXNbaS5saWdodE1lc2hJbmRleF07ZS5mZWF0dXJlQXJyYXk9cixlLmZlYXR1cmVBcnJheS5fdHJpbSgpO319bi5mZWF0dXJlQXJyYXkuX3RyaW0oKSxyKys7fX1JcyhCdixcIlRpbGVkM2RNb2RlbEJ1Y2tldFwiLHtvbWl0OltcImxheWVyc1wiXX0pLElzKE92LFwiVGlsZWQzZE1vZGVsRmVhdHVyZVwiKTtjbGFzcyBWdntjb25zdHJ1Y3Rvcigpe3RoaXMuX3VwZGF0ZVRpbWU9MCx0aGlzLl9zb3VyY2VJZHM9W10sdGhpcy5fYWN0aXZlUmVnaW9ucz1bXSx0aGlzLl9wcmV2UmVnaW9ucz1bXTt9Y2xlYXIoKXt0aGlzLl9hY3RpdmVSZWdpb25zLmxlbmd0aD4wJiYrK3RoaXMuX3VwZGF0ZVRpbWUsdGhpcy5fYWN0aXZlUmVnaW9ucz1bXSx0aGlzLl9wcmV2UmVnaW9ucz1bXTt9Z2V0IHVwZGF0ZVRpbWUoKXtyZXR1cm4gdGhpcy5fdXBkYXRlVGltZX1nZXRSZXBsYWNlbWVudFJlZ2lvbnNGb3JUaWxlKGUpe2NvbnN0IHQ9WnYobmV3IHkoMCwwKSxuZXcgeShzcixzciksZSksaT1bXTtmb3IoY29uc3QgciBvZiB0aGlzLl9hY3RpdmVSZWdpb25zKXtpZihyLmhpZGRlbkJ5T3ZlcmxhcCljb250aW51ZTtpZighcXYodCxyKSljb250aW51ZTtjb25zdCBuPSR2KHIubWluLHIubWF4LGUpO2kucHVzaCh7bWluOm4ubWluLG1heDpuLm1heCxzb3VyY2VJZDp0aGlzLl9zb3VyY2VJZHNbci5wcmlvcml0eV0sZm9vdHByaW50OnIuZm9vdHByaW50LGZvb3RwcmludFRpbGVJZDpyLnRpbGVJZH0pO31yZXR1cm4gaX1zZXRTb3VyY2VzKGUpe3RoaXMuX3NldFNvdXJjZXMoZS5tYXAoKGU9Pih7Z2V0U291cmNlSWQ6KCk9PmUuY2FjaGUuaWQsZ2V0Rm9vdHByaW50czooKT0+e2NvbnN0IHQ9W107Zm9yKGNvbnN0IGkgb2YgZS5jYWNoZS5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoKSl7Y29uc3Qgcj1lLmNhY2hlLmdldFRpbGUoaSkuYnVja2V0c1tlLmxheWVyXTtpZihyKWZvcihjb25zdCBlIG9mIHIuZ2V0Tm9kZXNJbmZvKCkpe2NvbnN0IHI9ZS5ub2RlO3IuZm9vdHByaW50JiZ0LnB1c2goe2Zvb3RwcmludDpyLmZvb3RwcmludCxpZDppLnRvVW53cmFwcGVkKCl9KTt9fXJldHVybiB0fX0pKSkpO31fYWRkU291cmNlKGUpe2NvbnN0IHQ9ZS5nZXRGb290cHJpbnRzKCk7aWYoMCE9PXQubGVuZ3RoKXtmb3IoY29uc3QgZSBvZiB0KXtpZighZS5mb290cHJpbnQpY29udGludWU7Y29uc3QgdD1adihlLmZvb3RwcmludC5taW4sZS5mb290cHJpbnQubWF4LGUuaWQpO3RoaXMuX2FjdGl2ZVJlZ2lvbnMucHVzaCh7bWluOnQubWluLG1heDp0Lm1heCxoaWRkZW5CeU92ZXJsYXA6ITEscHJpb3JpdHk6dGhpcy5fc291cmNlSWRzLmxlbmd0aCx0aWxlSWQ6ZS5pZCxmb290cHJpbnQ6ZS5mb290cHJpbnR9KTt9dGhpcy5fc291cmNlSWRzLnB1c2goZS5nZXRTb3VyY2VJZCgpKTt9fV9jb21wdXRlUmVwbGFjZW1lbnQoKXt0aGlzLl9hY3RpdmVSZWdpb25zLnNvcnQoKChlLHQpPT5lLnByaW9yaXR5LXQucHJpb3JpdHl8fGp2KGUubWluLHQubWluKXx8anYoZS5tYXgsdC5tYXgpKSk7bGV0IGU9dGhpcy5fYWN0aXZlUmVnaW9ucy5sZW5ndGghPT10aGlzLl9wcmV2UmVnaW9ucy5sZW5ndGg7aWYoIWUpe2xldCB0PTAsaT0wO2Zvcig7IWUmJnQhPT10aGlzLl9hY3RpdmVSZWdpb25zLmxlbmd0aDspe2NvbnN0IHI9dGhpcy5fYWN0aXZlUmVnaW9uc1t0XSxuPXRoaXMuX3ByZXZSZWdpb25zW2ldO2U9ci5wcmlvcml0eSE9PW4ucHJpb3JpdHl8fCFHdihyLG4pLCsrdCwrK2k7fX1pZihlKXsrK3RoaXMuX3VwZGF0ZVRpbWU7Y29uc3QgZT1lPT57Y29uc3QgdD10aGlzLl9hY3RpdmVSZWdpb25zO2lmKGU+PXQubGVuZ3RoKXJldHVybiBlO2NvbnN0IGk9dFtlXS5wcmlvcml0eTtmb3IoO2U8dC5sZW5ndGgmJnRbZV0ucHJpb3JpdHk9PT1pOykrK2U7cmV0dXJuIGV9O2lmKHRoaXMuX3NvdXJjZUlkcy5sZW5ndGg+MSl7bGV0IHQ9MCxpPWUodCk7Zm9yKDt0IT09aTspe2xldCByPXQ7Y29uc3Qgbj10O2Zvcig7ciE9PWk7KXtjb25zdCBlPXRoaXMuX2FjdGl2ZVJlZ2lvbnNbcl07ZS5oaWRkZW5CeU92ZXJsYXA9ITE7Zm9yKGxldCB0PTA7dDxuO3QrKyl7Y29uc3QgaT10aGlzLl9hY3RpdmVSZWdpb25zW3RdO2lmKCFpLmhpZGRlbkJ5T3ZlcmxhcCYmcXYoZSxpKSYmKGUuaGlkZGVuQnlPdmVybGFwPVd2KGUuZm9vdHByaW50LGUudGlsZUlkLGkuZm9vdHByaW50LGkudGlsZUlkKSxlLmhpZGRlbkJ5T3ZlcmxhcCkpYnJlYWt9KytyO310PWksaT1lKHQpO319fX1fc2V0U291cmNlcyhlKXtbdGhpcy5fcHJldlJlZ2lvbnMsdGhpcy5fYWN0aXZlUmVnaW9uc109W3RoaXMuX2FjdGl2ZVJlZ2lvbnMsW11dLHRoaXMuX3NvdXJjZUlkcz1bXTtmb3IobGV0IHQ9ZS5sZW5ndGgtMTt0Pj0wO3QtLSl0aGlzLl9hZGRTb3VyY2UoZVt0XSk7dGhpcy5fY29tcHV0ZVJlcGxhY2VtZW50KCk7fX1mdW5jdGlvbiBqdihlLHQpe3JldHVybiBlLngtdC54fHxlLnktdC55fWZ1bmN0aW9uIEd2KGUsdCl7cmV0dXJuIDA9PT1qdihlLm1pbix0Lm1pbikmJjA9PT1qdihlLm1heCx0Lm1heCl9ZnVuY3Rpb24gcXYoZSx0KXtyZXR1cm4gIShlLm1pbi54PnQubWF4Lnh8fGUubWF4Lng8dC5taW4ueHx8ZS5taW4ueT50Lm1heC55fHxlLm1heC55PHQubWluLnkpfWZ1bmN0aW9uIFp2KGUsdCxpKXtjb25zdCByPTEvc3Isbj0xLygxPDxpLmNhbm9uaWNhbC56KSxvPSh0LngqcitpLmNhbm9uaWNhbC54KSpuK2kud3JhcCxzPSh0LnkqcitpLmNhbm9uaWNhbC55KSpuO3JldHVybiB7bWluOm5ldyB5KChlLngqcitpLmNhbm9uaWNhbC54KSpuK2kud3JhcCwoZS55KnIraS5jYW5vbmljYWwueSkqbiksbWF4Om5ldyB5KG8scyl9fWZ1bmN0aW9uICR2KGUsdCxpKXtjb25zdCByPTE8PGkuY2Fub25pY2FsLnosbj0oKHQueC1pLndyYXApKnItaS5jYW5vbmljYWwueCkqc3Isbz0odC55KnItaS5jYW5vbmljYWwueSkqc3I7cmV0dXJuIHttaW46bmV3IHkoKChlLngtaS53cmFwKSpyLWkuY2Fub25pY2FsLngpKnNyLChlLnkqci1pLmNhbm9uaWNhbC55KSpzciksbWF4Om5ldyB5KG4sbyl9fWZ1bmN0aW9uIEh2KGUsdCxpLHIsbixvLHMpe2NvbnN0IGE9ZS5pbmRpY2VzLGw9ZS52ZXJ0aWNlcyxjPVtdO2ZvcihsZXQgaD1yO2g8cituO2grPTMpe2NvbnN0IHI9dFtpW2grMF0rb10sbj10W2lbaCsxXStvXSx1PXRbaVtoKzJdK29dLGQ9TWF0aC5taW4oci54LG4ueCx1LngpLHA9TWF0aC5tYXgoci54LG4ueCx1LngpLGY9TWF0aC5taW4oci55LG4ueSx1LnkpLG09TWF0aC5tYXgoci55LG4ueSx1LnkpO2MubGVuZ3RoPTAsZS5ncmlkLnF1ZXJ5KG5ldyB5KGQsZiksbmV3IHkocCxtKSxjKTtmb3IobGV0IGU9MDtlPGMubGVuZ3RoO2UrKyl7Y29uc3QgdD1jW2VdO2lmKEFwKGxbYVszKnQrMF1dLGxbYVszKnQrMV1dLGxbYVszKnQrMl1dLHIsbix1LHMpKXJldHVybiAhMH19cmV0dXJuICExfWZ1bmN0aW9uIFd2KGUsdCxpLHIpe2lmKCFlfHwhaSlyZXR1cm4gITE7bGV0IG49ZS52ZXJ0aWNlcztpZighdC5jYW5vbmljYWwuZXF1YWxzKHIuY2Fub25pY2FsKXx8dC53cmFwIT09ci53cmFwKXtpZihpLnZlcnRpY2VzLmxlbmd0aDxlLnZlcnRpY2VzLmxlbmd0aClyZXR1cm4gV3YoaSxyLGUsdCk7Y29uc3Qgbz10LmNhbm9uaWNhbCxzPXIuY2Fub25pY2FsLGE9TWF0aC5wb3coMixzLnotby56KTtuPWUudmVydGljZXMubWFwKChlPT5uZXcgeShlLngqby54KnNyKmEtcy54KnNyLGUueSpvLnkqc3IqYS1zLnkqc3IpKSk7fXJldHVybiBIdihpLG4sZS5pbmRpY2VzLDAsZS5pbmRpY2VzLmxlbmd0aCwwLDApfWNvbnN0IFh2PWltLnR5cGVzLFl2PVtcImZpbGwtZXh0cnVzaW9uLWJhc2VcIixcImZpbGwtZXh0cnVzaW9uLWhlaWdodFwiLFwiZmlsbC1leHRydXNpb24tY29sb3JcIixcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIixcImZpbGwtZXh0cnVzaW9uLWZsb29kLWxpZ2h0LXdhbGwtcmFkaXVzXCJdLEt2PVtcImZpbGwtZXh0cnVzaW9uLWZsb29kLWxpZ2h0LWdyb3VuZC1yYWRpdXNcIl0sSnY9TWF0aC5wb3coMiwxMyksUXY9TWF0aC5wb3coMiwxNSktMSxlYj1uZXcgeSgwLDEpLHRiPTIxNDc0ODM2NDg7ZnVuY3Rpb24gaWIoZSx0LGkscixuLG8scyxhKXtlLmVtcGxhY2VCYWNrKCh0PDwxKStzLChpPDwxKStvLChNYXRoLmZsb29yKHIqSnYpPDwxKStuLE1hdGgucm91bmQoYSkpO31mdW5jdGlvbiByYihlLHQsaSxyLG4sbyl7ZS5lbXBsYWNlQmFjayh0LngsdC55LChpLng8PDEpK3IsKGkueTw8MSkrbixvKTt9ZnVuY3Rpb24gbmIoZSx0LGkpe2NvbnN0IHI9MTYzODQ7ZS5lbXBsYWNlQmFjayh0LngsdC55LHQueixpWzBdKnIsaVsxXSpyLGlbMl0qcik7fWNsYXNzIG9ie2NvbnN0cnVjdG9yKCl7dGhpcy52ZXJ0ZXhPZmZzZXQ9MCx0aGlzLnZlcnRleENvdW50PTAsdGhpcy5pbmRleE9mZnNldD0wLHRoaXMuaW5kZXhDb3VudD0wO319Y2xhc3Mgc2J7Y29uc3RydWN0b3IoKXt0aGlzLmNlbnRyb2lkWFk9bmV3IHkoMCwwKSx0aGlzLnZlcnRleEFycmF5T2Zmc2V0PTAsdGhpcy52ZXJ0ZXhDb3VudD0wLHRoaXMuZ3JvdW5kVmVydGV4QXJyYXlPZmZzZXQ9MCx0aGlzLmdyb3VuZFZlcnRleENvdW50PTAsdGhpcy5mbGFncz0wLHRoaXMuZm9vdHByaW50U2VnSWR4PS0xLHRoaXMuZm9vdHByaW50U2VnTGVuPTAsdGhpcy5taW49bmV3IHkoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLm1heD1uZXcgeSgtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5oZWlnaHQ9MDt9c3Bhbigpe3JldHVybiBuZXcgeSh0aGlzLm1heC54LXRoaXMubWluLngsdGhpcy5tYXgueS10aGlzLm1pbi55KX19Y2xhc3MgYWJ7Y29uc3RydWN0b3IoKXt0aGlzLmFjYz1uZXcgeSgwLDApLHRoaXMuYWNjQ291bnQ9MCx0aGlzLmNlbnRyb2lkRGF0YUluZGV4PTA7fXN0YXJ0UmluZyhlLHQpe2UubWluLng9PT1OdW1iZXIuTUFYX1ZBTFVFJiYoZS5taW4ueD1lLm1heC54PXQueCxlLm1pbi55PWUubWF4Lnk9dC55KTt9YXBwZW5kRWRnZShlLHQsaSl7dGhpcy5hY2NDb3VudCsrLHRoaXMuYWNjLl9hZGQodCk7bGV0IHI9ISF0aGlzLmJvcmRlcnM7dC54PGUubWluLng/KGUubWluLng9dC54LHI9ITApOnQueD5lLm1heC54JiYoZS5tYXgueD10Lngscj0hMCksdC55PGUubWluLnk/KGUubWluLnk9dC55LHI9ITApOnQueT5lLm1heC55JiYoZS5tYXgueT10Lnkscj0hMCksKCgwPT09dC54fHx0Lng9PT1zcikmJnQueD09PWkueCkhPSgoMD09PXQueXx8dC55PT09c3IpJiZ0Lnk9PT1pLnkpJiZ0aGlzLnByb2Nlc3NCb3JkZXJPdmVybGFwKHQsaSksciYmdGhpcy5jaGVja0JvcmRlckludGVyc2VjdGlvbih0LGkpO31jaGVja0JvcmRlckludGVyc2VjdGlvbihlLHQpe3QueDwwIT1lLng8MCYmdGhpcy5hZGRCb3JkZXJJbnRlcnNlY3Rpb24oMCxXcih0LnksZS55LCgwLXQueCkvKGUueC10LngpKSksdC54PnNyIT1lLng+c3ImJnRoaXMuYWRkQm9yZGVySW50ZXJzZWN0aW9uKDEsV3IodC55LGUueSwoc3ItdC54KS8oZS54LXQueCkpKSx0Lnk8MCE9ZS55PDAmJnRoaXMuYWRkQm9yZGVySW50ZXJzZWN0aW9uKDIsV3IodC54LGUueCwoMC10LnkpLyhlLnktdC55KSkpLHQueT5zciE9ZS55PnNyJiZ0aGlzLmFkZEJvcmRlckludGVyc2VjdGlvbigzLFdyKHQueCxlLngsKHNyLXQueSkvKGUueS10LnkpKSk7fWFkZEJvcmRlckludGVyc2VjdGlvbihlLHQpe3RoaXMuYm9yZGVyc3x8KHRoaXMuYm9yZGVycz1bW051bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUVdLFtOdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFXSxbTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRV0sW051bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUVdXSk7Y29uc3QgaT10aGlzLmJvcmRlcnNbZV07dDxpWzBdJiYoaVswXT10KSx0PmlbMV0mJihpWzFdPXQpO31wcm9jZXNzQm9yZGVyT3ZlcmxhcChlLHQpe2lmKGUueD09PXQueCl7aWYoZS55PT09dC55KXJldHVybjtjb25zdCBpPTA9PT1lLng/MDoxO3RoaXMuYWRkQm9yZGVySW50ZXJzZWN0aW9uKGksdC55KSx0aGlzLmFkZEJvcmRlckludGVyc2VjdGlvbihpLGUueSk7fWVsc2Uge2NvbnN0IGk9MD09PWUueT8yOjM7dGhpcy5hZGRCb3JkZXJJbnRlcnNlY3Rpb24oaSx0LngpLHRoaXMuYWRkQm9yZGVySW50ZXJzZWN0aW9uKGksZS54KTt9fWNlbnRyb2lkKCl7cmV0dXJuIDA9PT10aGlzLmFjY0NvdW50P25ldyB5KDAsMCk6bmV3IHkoTWF0aC5mbG9vcihNYXRoLm1heCgwLHRoaXMuYWNjLngpL3RoaXMuYWNjQ291bnQpLE1hdGguZmxvb3IoTWF0aC5tYXgoMCx0aGlzLmFjYy55KS90aGlzLmFjY0NvdW50KSl9aW50ZXJzZWN0c0NvdW50KCl7cmV0dXJuIHRoaXMuYm9yZGVycz90aGlzLmJvcmRlcnMucmVkdWNlKCgoZSx0KT0+ZSsgKyh0WzBdIT09TnVtYmVyLk1BWF9WQUxVRSkpLDApOjB9fWZ1bmN0aW9uIGxiKGUsdCl7Y29uc3QgaT1lLmFkZCh0KS5fdW5pdCgpLHI9eihlLngqaS54K2UueSppLnksLTEsMSk7dmFyIG4sbyxzO3JldHVybiBuPU1hdGguYWNvcyhyKSxNYXRoLm1pbig0LE1hdGgubWF4KC00LE1hdGgudGFuKG4pKSkvNCpRdiooKG89ZSkueCoocz10KS55LW8ueSpzLng8MD8tMToxKX1jb25zdCBjYj1bZT0+ZS54PDAsZT0+ZS54PnNyLGU9PmUueTwwLGU9PmUueT5zcl07ZnVuY3Rpb24gaGIoZSx0LGkscil7Y29uc3Qgbj1bNF07aWYoMD09PXIpcmV0dXJuIG47aS5fbXVsdChyKTtjb25zdCBvPWUuc3ViKGkpLHM9dC5zdWIoaSksYT1bZSx0LG8sc107Zm9yKGxldCBlPTA7ZTw0O2UrKylmb3IoY29uc3QgdCBvZiBhKWlmKGNiW2VdKHQpKXtuLnB1c2goZSk7YnJlYWt9cmV0dXJuIG59Y2xhc3MgdWJ7Y29uc3RydWN0b3IoZSl7dGhpcy52ZXJ0ZXhBcnJheT1uZXcgQWEsdGhpcy5pbmRleEFycmF5PW5ldyBWYSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucz1uZXcgSGwoZS5sYXllcnMsZS56b29tLChlPT5Ldi5pbmNsdWRlcyhlKSkpLHRoaXMuX3NlZ21lbnRzPW5ldyBkbCx0aGlzLmhpZGRlbkJ5TGFuZG1hcmtWZXJ0ZXhBcnJheT1uZXcgSmEsdGhpcy5fc2VnbWVudFRvR3JvdW5kUXVhZHM9e30sdGhpcy5fc2VnbWVudFRvR3JvdW5kUXVhZHNbMF09W10sdGhpcy5fc2VnbWVudFRvUmVnaW9uVHJpQ291bnRzPXt9LHRoaXMuX3NlZ21lbnRUb1JlZ2lvblRyaUNvdW50c1swXT1bMCwwLDAsMCwwXSx0aGlzLnJlZ2lvblNlZ21lbnRzPXt9LHRoaXMucmVnaW9uU2VnbWVudHNbNF09bmV3IGRsO31nZXREZWZhdWx0U2VnbWVudCgpe3JldHVybiB0aGlzLnJlZ2lvblNlZ21lbnRzWzRdfWhhc0RhdGEoKXtyZXR1cm4gMCE9PXRoaXMudmVydGV4QXJyYXkubGVuZ3RofWFkZERhdGEoZSx0LGkscj0hMSl7Y29uc3Qgbj1lLmxlbmd0aDtpZihuPjIpe2xldCBvPU1hdGgubWF4KDAsdGhpcy5fc2VnbWVudHMuZ2V0KCkubGVuZ3RoLTEpO2NvbnN0IHM9dGhpcy5fc2VnbWVudHMuX3ByZXBhcmVTZWdtZW50KDQqbix0aGlzLnZlcnRleEFycmF5Lmxlbmd0aCwyKnRoaXMuX3NlZ21lbnRUb0dyb3VuZFF1YWRzW29dLmxlbmd0aCk7bGV0IGE7byE9PXRoaXMuX3NlZ21lbnRzLmdldCgpLmxlbmd0aC0xJiYobysrLHRoaXMuX3NlZ21lbnRUb0dyb3VuZFF1YWRzW29dPVtdLHRoaXMuX3NlZ21lbnRUb1JlZ2lvblRyaUNvdW50c1tvXT1bMCwwLDAsMCwwXSk7e2NvbnN0IHQ9ZVswXSxpPWVbMV07YT1sYih0LnN1YihlW24tMV0pLl9wZXJwKCkuX3VuaXQoKSxpLnN1Yih0KS5fcGVycCgpLl91bml0KCkpO31mb3IobGV0IGw9MDtsPG47bCsrKXtjb25zdCBjPWw9PT1uLTE/MDpsKzEsaD1lW2xdLHU9ZVtjXSxkPWVbYz09PW4tMT8wOmMrMV0scD11LnN1YihoKS5fcGVycCgpLl91bml0KCksZj1sYihwLGQuc3ViKHUpLl9wZXJwKCkuX3VuaXQoKSksbT1hLF89ZjtpZihfYihoLHUsdCl8fHImJmdiKGgsdCkmJmdiKHUsdCkpe2E9Zjtjb250aW51ZX1jb25zdCBnPXMudmVydGV4TGVuZ3RoO3JiKHRoaXMudmVydGV4QXJyYXksaCx1LDEsMSxtKSxyYih0aGlzLnZlcnRleEFycmF5LGgsdSwxLDAsbSkscmIodGhpcy52ZXJ0ZXhBcnJheSxoLHUsMCwxLF8pLHJiKHRoaXMudmVydGV4QXJyYXksaCx1LDAsMCxfKSxzLnZlcnRleExlbmd0aCs9NDtjb25zdCB5PWhiKGgsdSxwLGkpO2Zvcihjb25zdCBlIG9mIHkpdGhpcy5fc2VnbWVudFRvR3JvdW5kUXVhZHNbb10ucHVzaCh7aWQ6ZyxyZWdpb246ZX0pLHRoaXMuX3NlZ21lbnRUb1JlZ2lvblRyaUNvdW50c1tvXVtlXSs9MixzLnByaW1pdGl2ZUxlbmd0aCs9MjthPWY7fX19cHJlcGFyZUJvcmRlclNlZ21lbnRzKCl7aWYoIXRoaXMuaGFzRGF0YSgpKXJldHVybjtjb25zdCBlPXRoaXMuX3NlZ21lbnRzLmdldCgpLHQ9ZS5sZW5ndGg7Zm9yKGxldCBlPTA7ZTx0O2UrKyl0aGlzLl9zZWdtZW50VG9Hcm91bmRRdWFkc1tlXS5zb3J0KCgoZSx0KT0+ZS5yZWdpb24tdC5yZWdpb24pKTtmb3IobGV0IGk9MDtpPHQ7aSsrKXtjb25zdCB0PXRoaXMuX3NlZ21lbnRUb0dyb3VuZFF1YWRzW2ldLHI9ZVtpXSxuPXRoaXMuX3NlZ21lbnRUb1JlZ2lvblRyaUNvdW50c1tpXTtuLnJlZHVjZSgoKGUsdCk9PmUrdCksMCk7bGV0IG89MDtmb3IobGV0IGU9MDtlPD00O2UrKyl7Y29uc3QgdD1uW2VdO2lmKDAhPT10KXtsZXQgaT10aGlzLnJlZ2lvblNlZ21lbnRzW2VdO2l8fChpPXRoaXMucmVnaW9uU2VnbWVudHNbZV09bmV3IGRsKTtjb25zdCBuPXt2ZXJ0ZXhPZmZzZXQ6ci52ZXJ0ZXhPZmZzZXQscHJpbWl0aXZlT2Zmc2V0OnIucHJpbWl0aXZlT2Zmc2V0K28sdmVydGV4TGVuZ3RoOnIudmVydGV4TGVuZ3RoLHByaW1pdGl2ZUxlbmd0aDp0fTtpLmdldCgpLnB1c2gobik7fW8rPXQ7fWZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCBpPXRbZV0uaWQ7dGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKGksaSsxLGkrMyksdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKGksaSszLGkrMik7fX10aGlzLl9zZWdtZW50VG9Hcm91bmRRdWFkcz1udWxsLHRoaXMuX3NlZ21lbnRUb1JlZ2lvblRyaUNvdW50cz1udWxsLHRoaXMuX3NlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLl9zZWdtZW50cz1udWxsO31hZGRQYWludFByb3BlcnRpZXNEYXRhKGUsdCxpLHIsbixvKXt0aGlzLmhhc0RhdGEoKSYmdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMucG9wdWxhdGVQYWludEFycmF5cyh0aGlzLnZlcnRleEFycmF5Lmxlbmd0aCxlLHQsaSxyLG4sbyk7fXVwbG9hZChlKXt0aGlzLmhhc0RhdGEoKSYmKHRoaXMudmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMudmVydGV4QXJyYXksRmYubWVtYmVycyksdGhpcy5pbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheSkpO311cGxvYWRQYWludFByb3BlcnRpZXMoZSl7dGhpcy5oYXNEYXRhKCkmJnRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwbG9hZChlKTt9dXBkYXRlKGUsdCxpLHIsbixvKXt0aGlzLmhhc0RhdGEoKSYmdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBkYXRlUGFpbnRBcnJheXMoZSx0LGkscixuLG8pO311cGRhdGVIaWRkZW5CeUxhbmRtYXJrKGUpe2lmKCF0aGlzLmhhc0RhdGEoKSlyZXR1cm47Y29uc3QgdD1lLmdyb3VuZFZlcnRleENvdW50K2UuZ3JvdW5kVmVydGV4QXJyYXlPZmZzZXQ7aWYoMD09PWUuZ3JvdW5kVmVydGV4Q291bnQpcmV0dXJuO2NvbnN0IGk9ZS5mbGFncyZ0Yj8xOjA7Zm9yKGxldCByPWUuZ3JvdW5kVmVydGV4QXJyYXlPZmZzZXQ7cjx0Oysrcil0aGlzLmhpZGRlbkJ5TGFuZG1hcmtWZXJ0ZXhBcnJheS5lbXBsYWNlKHIsaSk7dGhpcy5fbmVlZHNIaWRkZW5CeUxhbmRtYXJrVXBkYXRlPSEwO311cGxvYWRIaWRkZW5CeUxhbmRtYXJrKGUpe3RoaXMuaGFzRGF0YSgpJiZ0aGlzLl9uZWVkc0hpZGRlbkJ5TGFuZG1hcmtVcGRhdGUmJighdGhpcy5oaWRkZW5CeUxhbmRtYXJrVmVydGV4QnVmZmVyJiZ0aGlzLmhpZGRlbkJ5TGFuZG1hcmtWZXJ0ZXhBcnJheS5sZW5ndGg+MD90aGlzLmhpZGRlbkJ5TGFuZG1hcmtWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5oaWRkZW5CeUxhbmRtYXJrVmVydGV4QXJyYXksVWYubWVtYmVycywhMCk6dGhpcy5oaWRkZW5CeUxhbmRtYXJrVmVydGV4QnVmZmVyJiZ0aGlzLmhpZGRlbkJ5TGFuZG1hcmtWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YSh0aGlzLmhpZGRlbkJ5TGFuZG1hcmtWZXJ0ZXhBcnJheSksdGhpcy5fbmVlZHNIaWRkZW5CeUxhbmRtYXJrVXBkYXRlPSExKTt9ZGVzdHJveSgpe2lmKHRoaXMudmVydGV4QnVmZmVyKXt0aGlzLnZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5oaWRkZW5CeUxhbmRtYXJrVmVydGV4QnVmZmVyJiZ0aGlzLmhpZGRlbkJ5TGFuZG1hcmtWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuX3NlZ21lbnRzJiZ0aGlzLl9zZWdtZW50cy5kZXN0cm95KCksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZGVzdHJveSgpO2ZvcihsZXQgZT0wO2U8PTQ7ZSsrKXtjb25zdCB0PXRoaXMucmVnaW9uU2VnbWVudHNbZV07dCYmdC5kZXN0cm95KCk7fX19fWNsYXNzIGRie2NvbnN0cnVjdG9yKGUpe3RoaXMuem9vbT1lLnpvb20sdGhpcy5jYW5vbmljYWw9ZS5jYW5vbmljYWwsdGhpcy5vdmVyc2NhbGluZz1lLm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPWUubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKChlPT5lLmZxaWQpKSx0aGlzLmluZGV4PWUuaW5kZXgsdGhpcy5oYXNQYXR0ZXJuPSExLHRoaXMuZWRnZVJhZGl1cz0wLHRoaXMucHJvamVjdGlvbj1lLnByb2plY3Rpb24sdGhpcy5hY3RpdmVSZXBsYWNlbWVudHM9W10sdGhpcy5yZXBsYWNlbWVudFVwZGF0ZVRpbWU9MCx0aGlzLmNlbnRyb2lkRGF0YT1bXSx0aGlzLmZvb3RwcmludEluZGljZXM9bmV3IFZhLHRoaXMuZm9vdHByaW50VmVydGljZXM9bmV3IFRhLHRoaXMuZm9vdHByaW50U2VnbWVudHM9W10sdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheT1uZXcgTWEsdGhpcy5jZW50cm9pZFZlcnRleEFycmF5PW5ldyBjbCx0aGlzLmluZGV4QXJyYXk9bmV3IFZhLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPW5ldyBIbChlLmxheWVycyxlLnpvb20sKGU9Pll2LmluY2x1ZGVzKGUpKSksdGhpcy5zZWdtZW50cz1uZXcgZGwsdGhpcy5zdGF0ZURlcGVuZGVudExheWVySWRzPXRoaXMubGF5ZXJzLmZpbHRlcigoZT0+ZS5pc1N0YXRlRGVwZW5kZW50KCkpKS5tYXAoKGU9PmUuaWQpKSx0aGlzLmdyb3VuZEVmZmVjdD1uZXcgdWIoZSksdGhpcy5tYXhIZWlnaHQ9MCx0aGlzLnBhcnRMb29rdXA9e307fXBvcHVsYXRlKGUsdCxpLHIpe3RoaXMuZmVhdHVyZXM9W10sdGhpcy5oYXNQYXR0ZXJuPVBmKFwiZmlsbC1leHRydXNpb25cIix0aGlzLmxheWVycyx0KSx0aGlzLmZlYXR1cmVzT25Cb3JkZXI9W10sdGhpcy5ib3JkZXJGZWF0dXJlSW5kaWNlcz1bW10sW10sW10sW11dLHRoaXMuYm9yZGVyRG9uZVdpdGhOZWlnaGJvclo9Wy0xLC0xLC0xLC0xXSx0aGlzLnRpbGVUb01ldGVyPVFkKGkpLHRoaXMuZWRnZVJhZGl1cz10aGlzLmxheWVyc1swXS5sYXlvdXQuZ2V0KFwiZmlsbC1leHRydXNpb24tZWRnZS1yYWRpdXNcIikvdGhpcy50aWxlVG9NZXRlcjtmb3IoY29uc3R7ZmVhdHVyZTpuLGlkOm8saW5kZXg6cyxzb3VyY2VMYXllckluZGV4OmF9b2YgZSl7Y29uc3QgZT10aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5uZWVkR2VvbWV0cnksbD1jcChuLGUpO2lmKCF0aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5maWx0ZXIobmV3IGVhKHRoaXMuem9vbSksbCxpKSljb250aW51ZTtjb25zdCBjPXtpZDpvLHNvdXJjZUxheWVySW5kZXg6YSxpbmRleDpzLGdlb21ldHJ5OmU/bC5nZW9tZXRyeTpscChuLGkscikscHJvcGVydGllczpuLnByb3BlcnRpZXMsdHlwZTpuLnR5cGUscGF0dGVybnM6e319LGg9dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGg7dGhpcy5oYXNQYXR0ZXJuP3RoaXMuZmVhdHVyZXMucHVzaChSZihcImZpbGwtZXh0cnVzaW9uXCIsdGhpcy5sYXllcnMsYyx0aGlzLnpvb20sdCkpOnRoaXMuYWRkRmVhdHVyZShjLGMuZ2VvbWV0cnkscyxpLHt9LHQuYXZhaWxhYmxlSW1hZ2VzLHIsdC5icmlnaHRuZXNzKSx0LmZlYXR1cmVJbmRleC5pbnNlcnQobixjLmdlb21ldHJ5LHMsYSx0aGlzLmluZGV4LGgpO310aGlzLnNvcnRCb3JkZXJzKCksdGhpcy5ncm91bmRFZmZlY3QucHJlcGFyZUJvcmRlclNlZ21lbnRzKCk7fWFkZEZlYXR1cmVzKGUsdCxpLHIsbixvKXtmb3IoY29uc3QgZSBvZiB0aGlzLmZlYXR1cmVzKXtjb25zdHtnZW9tZXRyeTpzfT1lO3RoaXMuYWRkRmVhdHVyZShlLHMsZS5pbmRleCx0LGkscixuLG8pO310aGlzLnNvcnRCb3JkZXJzKCk7fXVwZGF0ZShlLHQsaSxyLG4pe2NvbnN0IG89MCE9PU9iamVjdC5rZXlzKGUpLmxlbmd0aDtpZihvJiYhdGhpcy5zdGF0ZURlcGVuZGVudExheWVycy5sZW5ndGgpcmV0dXJuO2NvbnN0IHM9bz90aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzOnRoaXMubGF5ZXJzO3RoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKGUsdCxzLGkscixuKSx0aGlzLmdyb3VuZEVmZmVjdC51cGRhdGUoZSx0LHMsaSxyLG4pO31pc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aH11cGxvYWRQZW5kaW5nKCl7cmV0dXJuICF0aGlzLnVwbG9hZGVkfHx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZHx8dGhpcy5ncm91bmRFZmZlY3QucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkfXVwbG9hZChlKXt0aGlzLnVwbG9hZGVkfHwodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxqZiksdGhpcy5pbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheSksdGhpcy5sYXlvdXRWZXJ0ZXhFeHRBcnJheSYmKHRoaXMubGF5b3V0VmVydGV4RXh0QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4RXh0QXJyYXksVmYubWVtYmVycywhMCkpLHRoaXMuZ3JvdW5kRWZmZWN0LnVwbG9hZChlKSksdGhpcy5ncm91bmRFZmZlY3QudXBsb2FkUGFpbnRQcm9wZXJ0aWVzKGUpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwbG9hZChlKSx0aGlzLnVwbG9hZGVkPSEwO311cGxvYWRDZW50cm9pZChlKXt0aGlzLmdyb3VuZEVmZmVjdC51cGxvYWRIaWRkZW5CeUxhbmRtYXJrKGUpLHRoaXMubmVlZHNDZW50cm9pZFVwZGF0ZSYmKCF0aGlzLmNlbnRyb2lkVmVydGV4QnVmZmVyJiZ0aGlzLmNlbnRyb2lkVmVydGV4QXJyYXkubGVuZ3RoPjA/dGhpcy5jZW50cm9pZFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmNlbnRyb2lkVmVydGV4QXJyYXksTmYubWVtYmVycywhMCk6dGhpcy5jZW50cm9pZFZlcnRleEJ1ZmZlciYmdGhpcy5jZW50cm9pZFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheSksdGhpcy5uZWVkc0NlbnRyb2lkVXBkYXRlPSExKTt9ZGVzdHJveSgpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuY2VudHJvaWRWZXJ0ZXhCdWZmZXImJnRoaXMuY2VudHJvaWRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMubGF5b3V0VmVydGV4RXh0QnVmZmVyJiZ0aGlzLmxheW91dFZlcnRleEV4dEJ1ZmZlci5kZXN0cm95KCksdGhpcy5ncm91bmRFZmZlY3QuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSk7fWFkZEZlYXR1cmUoZSx0LGkscixuLG8scyxhKXtjb25zdCBsPXRoaXMubGF5ZXJzWzBdLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWZsb29kLWxpZ2h0LWdyb3VuZC1yYWRpdXNcIikuZXZhbHVhdGUoZSx7fSkvdGhpcy50aWxlVG9NZXRlcixjPVtuZXcgeSgwLDApLG5ldyB5KHNyLHNyKV0saD1zLnByb2plY3Rpb24sdT1cImdsb2JlXCI9PT1oLm5hbWUsZD1cIlBvbHlnb25cIj09PVh2W2UudHlwZV0scD1uZXcgYWI7cC5jZW50cm9pZERhdGFJbmRleD10aGlzLmNlbnRyb2lkRGF0YS5sZW5ndGg7Y29uc3QgZj1uZXcgc2IsbT10aGlzLmxheWVyc1swXS5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1iYXNlXCIpLmV2YWx1YXRlKGUse30scik8PTAsXz10aGlzLmxheWVyc1swXS5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1oZWlnaHRcIikuZXZhbHVhdGUoZSx7fSxyKTtmLmhlaWdodD1fLGYudmVydGV4QXJyYXlPZmZzZXQ9dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgsZi5ncm91bmRWZXJ0ZXhBcnJheU9mZnNldD10aGlzLmdyb3VuZEVmZmVjdC52ZXJ0ZXhBcnJheS5sZW5ndGgsdSYmIXRoaXMubGF5b3V0VmVydGV4RXh0QXJyYXkmJih0aGlzLmxheW91dFZlcnRleEV4dEFycmF5PW5ldyBEYSk7Y29uc3QgZz16Zih0LDUwMCk7Zm9yKGxldCBlPWcubGVuZ3RoLTE7ZT49MDtlLS0pe2NvbnN0IHQ9Z1tlXTsoMD09PXQubGVuZ3RofHwoeD10WzBdKS5ldmVyeSgoZT0+ZS54PD0wKSl8fHguZXZlcnkoKGU9PmUueD49c3IpKXx8eC5ldmVyeSgoZT0+ZS55PD0wKSl8fHguZXZlcnkoKGU9PmUueT49c3IpKSkmJmcuc3BsaWNlKGUsMSk7fXZhciB4O2xldCB2O2lmKHUpdj1iYihnLGMscik7ZWxzZSB7dj1bXTtmb3IoY29uc3QgZSBvZiBnKXYucHVzaCh7cG9seWdvbjplLGJvdW5kczpjfSk7fWNvbnN0IGI9ZD90aGlzLmVkZ2VSYWRpdXM6MCx3PWI+MCYmdGhpcy56b29tPDE3LFQ9KGUsdCk9PntpZigwPT09ZS5sZW5ndGgpcmV0dXJuICExO2NvbnN0IGk9ZVtlLmxlbmd0aC0xXTtyZXR1cm4gdC54PT09aS54JiZ0Lnk9PT1pLnl9O2Zvcihjb25zdHtwb2x5Z29uOmUsYm91bmRzOnR9b2Ygdil7bGV0IGk9MCxuPTA7Zm9yKGNvbnN0IHQgb2YgZSlkJiYhdFswXS5lcXVhbHModFt0Lmxlbmd0aC0xXSkmJnQucHVzaCh0WzBdKSxuKz1kP3QubGVuZ3RoLTE6dC5sZW5ndGg7Y29uc3Qgbz10aGlzLnNlZ21lbnRzLnByZXBhcmVTZWdtZW50KChkPzU6NCkqbix0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheSk7Zi5mb290cHJpbnRTZWdJZHg8MCYmKGYuZm9vdHByaW50U2VnSWR4PXRoaXMuZm9vdHByaW50U2VnbWVudHMubGVuZ3RoKTtjb25zdCBzPW5ldyBvYjtpZihzLnZlcnRleE9mZnNldD10aGlzLmZvb3RwcmludFZlcnRpY2VzLmxlbmd0aCxzLmluZGV4T2Zmc2V0PTMqdGhpcy5mb290cHJpbnRJbmRpY2VzLmxlbmd0aCxzLnJpbmdJbmRpY2VzPVtdLGQpe2NvbnN0IG49W10sYT1bXTtpPW8udmVydGV4TGVuZ3RoO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCBjPWVbaV07Yy5sZW5ndGgmJjAhPT1pJiZhLnB1c2gobi5sZW5ndGgvMik7Y29uc3QgZD1bXTtsZXQgcCxmO3A9Y1sxXS5zdWIoY1swXSkuX3BlcnAoKS5fdW5pdCgpLHMucmluZ0luZGljZXMucHVzaChjLmxlbmd0aC0xKTtmb3IobGV0IGU9MTtlPGMubGVuZ3RoO2UrKyl7Y29uc3QgdD1jW2VdLGk9Y1tlPT09Yy5sZW5ndGgtMT8xOmUrMV0scz10LmNsb25lKCk7aWYoYil7Zj1pLnN1Yih0KS5fcGVycCgpLl91bml0KCk7Y29uc3QgZT1wLmFkZChmKS5fdW5pdCgpLHI9YipNYXRoLm1pbig0LDEvKHAueCplLngrcC55KmUueSkpO3MueCs9ciplLngscy55Kz1yKmUueSxzLng9TWF0aC5yb3VuZChzLngpLHMueT1NYXRoLnJvdW5kKHMueSkscD1mO30hbXx8MCE9PWImJiF3fHxUKGQscyl8fGQucHVzaChzKSxpYih0aGlzLmxheW91dFZlcnRleEFycmF5LHMueCxzLnksMCwwLDEsMSwwKSxvLnZlcnRleExlbmd0aCsrLHRoaXMuZm9vdHByaW50VmVydGljZXMuZW1wbGFjZUJhY2sodC54LHQueSksbi5wdXNoKHQueCx0LnkpLHUmJm5iKHRoaXMubGF5b3V0VmVydGV4RXh0QXJyYXksaC5wcm9qZWN0VGlsZVBvaW50KHMueCxzLnksciksaC51cFZlY3RvcihyLHMueCxzLnkpKTt9bSYmKDA9PT1ifHx3KSYmKDAhPT1kLmxlbmd0aCYmVChkLGRbMF0pJiZkLnBvcCgpLHRoaXMuZ3JvdW5kRWZmZWN0LmFkZERhdGEoZCx0LGwpKTt9Y29uc3QgYz1DZihuLGEpO2ZvcihsZXQgZT0wO2U8Yy5sZW5ndGg7ZSs9Myl0aGlzLmZvb3RwcmludEluZGljZXMuZW1wbGFjZUJhY2socy52ZXJ0ZXhPZmZzZXQrY1tlKzBdLHMudmVydGV4T2Zmc2V0K2NbZSsxXSxzLnZlcnRleE9mZnNldCtjW2UrMl0pLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhpK2NbZV0saStjW2UrMl0saStjW2UrMV0pLG8ucHJpbWl0aXZlTGVuZ3RoKys7cy5pbmRleENvdW50Kz1jLmxlbmd0aCxzLnZlcnRleENvdW50Kz10aGlzLmZvb3RwcmludFZlcnRpY2VzLmxlbmd0aC1zLnZlcnRleE9mZnNldDt9Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspe2NvbnN0IHM9ZVtuXTtwLnN0YXJ0UmluZyhmLHNbMF0pO2xldCBhPXMubGVuZ3RoPjQmJnliKHNbcy5sZW5ndGgtMl0sc1swXSxzWzFdKSxjPWI/ZmIoc1tzLmxlbmd0aC0yXSxzWzBdLHNbMV0sYik6MDtjb25zdCBfPVtdO2xldCBnLHkseDt5PXNbMV0uc3ViKHNbMF0pLl9wZXJwKCkuX3VuaXQoKTtsZXQgdj0hMDtmb3IobGV0IGU9MSxuPTA7ZTxzLmxlbmd0aDtlKyspe2xldCBsPXNbZS0xXSxkPXNbZV07Y29uc3Qgdz1zW2U9PT1zLmxlbmd0aC0xPzE6ZSsxXTtpZihwLmFwcGVuZEVkZ2UoZixkLGwpLF9iKGQsbCx0KSl7YiYmKHk9dy5zdWIoZCkuX3BlcnAoKS5fdW5pdCgpLHY9IXYpO2NvbnRpbnVlfWNvbnN0IEU9ZC5zdWIobCkuX3BlcnAoKSxNPUUueC8oTWF0aC5hYnMoRS54KStNYXRoLmFicyhFLnkpKSxBPUUueT4wPzE6MCxTPWwuZGlzdChkKTtpZihuK1M+MzI3NjgmJihuPTApLGIpe3g9dy5zdWIoZCkuX3BlcnAoKS5fdW5pdCgpO2xldCBlPW1iKGwsZCx3LHBiKHkseCksYik7aXNOYU4oZSkmJihlPTApO2NvbnN0IHQ9ZC5zdWIobCkuX3VuaXQoKTtsPWwuYWRkKHQubXVsdChjKSkuX3JvdW5kKCksZD1kLmFkZCh0Lm11bHQoLWUpKS5fcm91bmQoKSxjPWUseT14LG0mJnRoaXMuem9vbT49MTcmJihUKF8sbCl8fF8ucHVzaChsKSxUKF8sZCl8fF8ucHVzaChkKSk7fWNvbnN0IEk9by52ZXJ0ZXhMZW5ndGgsQz1zLmxlbmd0aD40JiZ5YihsLGQsdyk7bGV0IHo9eGIobixhLHYpO2lmKGliKHRoaXMubGF5b3V0VmVydGV4QXJyYXksbC54LGwueSxNLEEsMCwwLHopLGliKHRoaXMubGF5b3V0VmVydGV4QXJyYXksbC54LGwueSxNLEEsMCwxLHopLG4rPVMsej14YihuLEMsIXYpLGE9QyxpYih0aGlzLmxheW91dFZlcnRleEFycmF5LGQueCxkLnksTSxBLDAsMCx6KSxpYih0aGlzLmxheW91dFZlcnRleEFycmF5LGQueCxkLnksTSxBLDAsMSx6KSxvLnZlcnRleExlbmd0aCs9NCx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soSSswLEkrMSxJKzIpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhJKzEsSSszLEkrMiksby5wcmltaXRpdmVMZW5ndGgrPTIsYil7Y29uc3Qgcj1pKygxPT09ZT9zLmxlbmd0aC0yOmUtMiksbj0xPT09ZT9pOnIrMTtpZih0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soSSsxLHIsSSszKSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2socixuLEkrMyksby5wcmltaXRpdmVMZW5ndGgrPTIsdm9pZCAwPT09ZyYmKGc9SSksIV9iKHcsc1tlXSx0KSl7Y29uc3QgdD1lPT09cy5sZW5ndGgtMT9nOm8udmVydGV4TGVuZ3RoO3RoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhJKzIsSSszLHQpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhJKzMsdCsxLHQpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhJKzMsbix0KzEpLG8ucHJpbWl0aXZlTGVuZ3RoKz0zO312PSF2O31pZih1KXtjb25zdCBlPXRoaXMubGF5b3V0VmVydGV4RXh0QXJyYXksdD1oLnByb2plY3RUaWxlUG9pbnQobC54LGwueSxyKSxpPWgucHJvamVjdFRpbGVQb2ludChkLngsZC55LHIpLG49aC51cFZlY3RvcihyLGwueCxsLnkpLG89aC51cFZlY3RvcihyLGQueCxkLnkpO25iKGUsdCxuKSxuYihlLHQsbiksbmIoZSxpLG8pLG5iKGUsaSxvKTt9fWQmJihpKz1zLmxlbmd0aC0xKSxtJiZiJiZ0aGlzLnpvb20+PTE3JiYoMCE9PV8ubGVuZ3RoJiZUKF8sX1swXSkmJl8ucG9wKCksdGhpcy5ncm91bmRFZmZlY3QuYWRkRGF0YShfLHQsbCxiPjApKTt9dGhpcy5mb290cHJpbnRTZWdtZW50cy5wdXNoKHMpLCsrZi5mb290cHJpbnRTZWdMZW47fWlmKGYudmVydGV4Q291bnQ9dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgtZi52ZXJ0ZXhBcnJheU9mZnNldCxmLmdyb3VuZFZlcnRleENvdW50PXRoaXMuZ3JvdW5kRWZmZWN0LnZlcnRleEFycmF5Lmxlbmd0aC1mLmdyb3VuZFZlcnRleEFycmF5T2Zmc2V0LDAhPT1mLnZlcnRleENvdW50KXtpZihmLmNlbnRyb2lkWFk9cC5ib3JkZXJzP2ViOnRoaXMuZW5jb2RlQ2VudHJvaWQocCxmKSx0aGlzLmNlbnRyb2lkRGF0YS5wdXNoKGYpLHAuYm9yZGVycyl7dGhpcy5mZWF0dXJlc09uQm9yZGVyLnB1c2gocCk7Y29uc3QgZT10aGlzLmZlYXR1cmVzT25Cb3JkZXIubGVuZ3RoLTE7Zm9yKGxldCB0PTA7dDxwLmJvcmRlcnMubGVuZ3RoO3QrKylwLmJvcmRlcnNbdF1bMF0hPT1OdW1iZXIuTUFYX1ZBTFVFJiZ0aGlzLmJvcmRlckZlYXR1cmVJbmRpY2VzW3RdLnB1c2goZSk7fXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgsZSxpLG4sbyxyLGEpLHRoaXMuZ3JvdW5kRWZmZWN0LmFkZFBhaW50UHJvcGVydGllc0RhdGEoZSxpLG4sbyxyLGEpLHRoaXMubWF4SGVpZ2h0PU1hdGgubWF4KHRoaXMubWF4SGVpZ2h0LF8pO319c29ydEJvcmRlcnMoKXtmb3IobGV0IGU9MDtlPHRoaXMuYm9yZGVyRmVhdHVyZUluZGljZXMubGVuZ3RoO2UrKyl0aGlzLmJvcmRlckZlYXR1cmVJbmRpY2VzW2VdLnNvcnQoKCh0LGkpPT50aGlzLmZlYXR1cmVzT25Cb3JkZXJbdF0uYm9yZGVyc1tlXVswXS10aGlzLmZlYXR1cmVzT25Cb3JkZXJbaV0uYm9yZGVyc1tlXVswXSkpO31lbmNvZGVDZW50cm9pZChlLHQpe2NvbnN0IGk9ZS5jZW50cm9pZCgpLHI9dC5zcGFuKCksbj1NYXRoLm1pbig3LE1hdGgucm91bmQoci54KnRoaXMudGlsZVRvTWV0ZXIvMTApKSxvPU1hdGgubWluKDcsTWF0aC5yb3VuZChyLnkqdGhpcy50aWxlVG9NZXRlci8xMCkpO3JldHVybiBuZXcgeSh6KGkueCwxLHNyLTEpPDwzfG4seihpLnksMSxzci0xKTw8M3xvKX1zaG93Q2VudHJvaWQoZSl7Y29uc3QgdD10aGlzLmNlbnRyb2lkRGF0YVtlLmNlbnRyb2lkRGF0YUluZGV4XTt0LmZsYWdzJj10Yix0LmNlbnRyb2lkWFkueD0wLHQuY2VudHJvaWRYWS55PTAsdGhpcy53cml0ZUNlbnRyb2lkVG9CdWZmZXIodCk7fXdyaXRlQ2VudHJvaWRUb0J1ZmZlcihlKXt0aGlzLmdyb3VuZEVmZmVjdC51cGRhdGVIaWRkZW5CeUxhbmRtYXJrKGUpO2NvbnN0IHQ9ZS52ZXJ0ZXhBcnJheU9mZnNldCxpPWUudmVydGV4Q291bnQrZS52ZXJ0ZXhBcnJheU9mZnNldCxyPWUuZmxhZ3MmdGI/ZWI6ZS5jZW50cm9pZFhZLG49dGhpcy5jZW50cm9pZFZlcnRleEFycmF5LmdldGFfY2VudHJvaWRfcG9zMCh0KTtpZih0aGlzLmNlbnRyb2lkVmVydGV4QXJyYXkuZ2V0YV9jZW50cm9pZF9wb3MxKHQpIT09ci55fHxuIT09ci54KXtmb3IobGV0IGU9dDtlPGk7KytlKXRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheS5lbXBsYWNlKGUsci54LHIueSk7dGhpcy5uZWVkc0NlbnRyb2lkVXBkYXRlPSEwO319Y3JlYXRlQ2VudHJvaWRzQnVmZmVyKCl7dGhpcy5jZW50cm9pZFZlcnRleEFycmF5LnJlc2l6ZSh0aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCksdGhpcy5ncm91bmRFZmZlY3QuaGlkZGVuQnlMYW5kbWFya1ZlcnRleEFycmF5LnJlc2l6ZSh0aGlzLmdyb3VuZEVmZmVjdC52ZXJ0ZXhBcnJheS5sZW5ndGgpO2Zvcihjb25zdCBlIG9mIHRoaXMuY2VudHJvaWREYXRhKXRoaXMud3JpdGVDZW50cm9pZFRvQnVmZmVyKGUpO311cGRhdGVSZXBsYWNlbWVudChlLHQpe2lmKHQudXBkYXRlVGltZT09PXRoaXMucmVwbGFjZW1lbnRVcGRhdGVUaW1lKXJldHVybjt0aGlzLnJlcGxhY2VtZW50VXBkYXRlVGltZT10LnVwZGF0ZVRpbWU7Y29uc3QgaT10LmdldFJlcGxhY2VtZW50UmVnaW9uc0ZvclRpbGUoZS50b1Vud3JhcHBlZCgpKTtpZihmdW5jdGlvbihlLHQpe2lmKGUubGVuZ3RoIT09dC5sZW5ndGgpcmV0dXJuICExO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKGVbaV0uc291cmNlSWQhPT10W2ldLnNvdXJjZUlkfHwhR3YoZVtpXSx0W2ldKSlyZXR1cm4gITE7cmV0dXJuICEwfSh0aGlzLmFjdGl2ZVJlcGxhY2VtZW50cyxpKSlyZXR1cm47aWYodGhpcy5hY3RpdmVSZXBsYWNlbWVudHM9aSwwPT09dGhpcy5jZW50cm9pZFZlcnRleEFycmF5Lmxlbmd0aCl0aGlzLmNyZWF0ZUNlbnRyb2lkc0J1ZmZlcigpO2Vsc2UgZm9yKGNvbnN0IGUgb2YgdGhpcy5jZW50cm9pZERhdGEpZS5mbGFncyY9MjE0NzQ4MzY0Nztjb25zdCByPVtdO2Zvcihjb25zdCB0IG9mIHRoaXMuYWN0aXZlUmVwbGFjZW1lbnRzKXtjb25zdCBpPU1hdGgucG93KDIsdC5mb290cHJpbnRUaWxlSWQuY2Fub25pY2FsLnotZS5jYW5vbmljYWwueik7Zm9yKGNvbnN0IG4gb2YgdGhpcy5jZW50cm9pZERhdGEpaWYoIShuLmZsYWdzJnRifHx0Lm1pbi54Pm4ubWF4Lnh8fG4ubWluLng+dC5tYXgueHx8dC5taW4ueT5uLm1heC55fHxuLm1pbi55PnQubWF4LnkpKWZvcihsZXQgbz0wO288bi5mb290cHJpbnRTZWdMZW47bysrKXtjb25zdCBzPXRoaXMuZm9vdHByaW50U2VnbWVudHNbbi5mb290cHJpbnRTZWdJZHgrb107aWYoci5sZW5ndGg9MCx3Yih0aGlzLmZvb3RwcmludFZlcnRpY2VzLHMudmVydGV4T2Zmc2V0LHMudmVydGV4Q291bnQsdC5mb290cHJpbnRUaWxlSWQuY2Fub25pY2FsLGUuY2Fub25pY2FsLHIpLEh2KHQuZm9vdHByaW50LHIsdGhpcy5mb290cHJpbnRJbmRpY2VzLnVpbnQxNixzLmluZGV4T2Zmc2V0LHMuaW5kZXhDb3VudCwtcy52ZXJ0ZXhPZmZzZXQsLWkpKXtuLmZsYWdzfD10YjticmVha319fWZvcihjb25zdCBlIG9mIHRoaXMuY2VudHJvaWREYXRhKXRoaXMud3JpdGVDZW50cm9pZFRvQnVmZmVyKGUpO3RoaXMuYm9yZGVyRG9uZVdpdGhOZWlnaGJvclo9Wy0xLC0xLC0xLC0xXTt9Zm9vdHByaW50Q29udGFpbnNQb2ludChlLHQsaSl7bGV0IHI9ITE7Zm9yKGxldCBuPTA7bjxpLmZvb3RwcmludFNlZ0xlbjtuKyspe2NvbnN0IG89dGhpcy5mb290cHJpbnRTZWdtZW50c1tpLmZvb3RwcmludFNlZ0lkeCtuXTtsZXQgcz0wO2Zvcihjb25zdCBpIG9mIG8ucmluZ0luZGljZXMpe2ZvcihsZXQgbj1zLGE9aStzLTE7bjxpK3M7YT1uKyspe2NvbnN0IGk9dGhpcy5mb290cHJpbnRWZXJ0aWNlcy5pbnQxNlsyKihuK28udmVydGV4T2Zmc2V0KSswXSxzPXRoaXMuZm9vdHByaW50VmVydGljZXMuaW50MTZbMioobitvLnZlcnRleE9mZnNldCkrMV0sbD10aGlzLmZvb3RwcmludFZlcnRpY2VzLmludDE2WzIqKGErby52ZXJ0ZXhPZmZzZXQpKzFdO3M+dCE9bD50JiZlPCh0aGlzLmZvb3RwcmludFZlcnRpY2VzLmludDE2WzIqKGErby52ZXJ0ZXhPZmZzZXQpKzBdLWkpKih0LXMpLyhsLXMpK2kmJihyPSFyKTt9cz1pO319cmV0dXJuIHJ9Z2V0SGVpZ2h0QXRUaWxlQ29vcmQoZSx0KXtsZXQgaT1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkscj0hMDtjb25zdCBuPTQqKGUrc3IpKnNyKyh0K3NyKTtpZih0aGlzLnBhcnRMb29rdXAuaGFzT3duUHJvcGVydHkobikpe2NvbnN0IGU9dGhpcy5wYXJ0TG9va3VwW25dO3JldHVybiBlP3toZWlnaHQ6ZS5oZWlnaHQsaGlkZGVuOiEhKGUuZmxhZ3MmdGIpfTp2b2lkIDB9Zm9yKGNvbnN0IG8gb2YgdGhpcy5jZW50cm9pZERhdGEpZT5vLm1heC54fHxvLm1pbi54PmV8fHQ+by5tYXgueXx8by5taW4ueT50fHx0aGlzLmZvb3RwcmludENvbnRhaW5zUG9pbnQoZSx0LG8pJiZvJiZvLmhlaWdodD5pJiYoaT1vLmhlaWdodCx0aGlzLnBhcnRMb29rdXBbbl09byxyPSEhKG8uZmxhZ3MmdGIpKTtpZihpIT09TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKXJldHVybiB7aGVpZ2h0OmksaGlkZGVuOnJ9O3RoaXMucGFydExvb2t1cFtuXT12b2lkIDA7fX1mdW5jdGlvbiBwYihlLHQpe2NvbnN0IGk9ZS5hZGQodCkuX3VuaXQoKTtyZXR1cm4gZS54KmkueCtlLnkqaS55fWZ1bmN0aW9uIGZiKGUsdCxpLHIpe2NvbnN0IG49dC5zdWIoZSkuX3BlcnAoKS5fdW5pdCgpLG89aS5zdWIodCkuX3BlcnAoKS5fdW5pdCgpO3JldHVybiBtYihlLHQsaSxwYihuLG8pLHIpfWZ1bmN0aW9uIG1iKGUsdCxpLHIsbil7Y29uc3Qgbz1NYXRoLnNxcnQoMS1yKnIpO3JldHVybiBNYXRoLm1pbihlLmRpc3QodCkvMyx0LmRpc3QoaSkvMyxuKm8vcil9ZnVuY3Rpb24gX2IoZSx0LGkpe3JldHVybiBlLng8aVswXS54JiZ0Lng8aVswXS54fHxlLng+aVsxXS54JiZ0Lng+aVsxXS54fHxlLnk8aVswXS55JiZ0Lnk8aVswXS55fHxlLnk+aVsxXS55JiZ0Lnk+aVsxXS55fWZ1bmN0aW9uIGdiKGUsdCl7cmV0dXJuIGUueDx0WzBdLnh8fGUueD50WzFdLnh8fGUueTx0WzBdLnl8fGUueT50WzFdLnl9ZnVuY3Rpb24geWIoZSx0LGkpe2lmKGUueDwwfHxlLng+PXNyfHx0Lng8MHx8dC54Pj1zcnx8aS54PDB8fGkueD49c3IpcmV0dXJuICExO2NvbnN0IHI9aS5zdWIodCksbj1yLnBlcnAoKSxvPWUuc3ViKHQpO3JldHVybiAoci54Km8ueCtyLnkqby55KS9NYXRoLnNxcnQoKHIueCpyLngrci55KnIueSkqKG8ueCpvLngrby55Km8ueSkpPi0uODY2JiZuLngqby54K24ueSpvLnk8MH1mdW5jdGlvbiB4YihlLHQsaSl7Y29uc3Qgcj10PzJ8ZTotMyZlO3JldHVybiBpPzF8cjotMiZyfWZ1bmN0aW9uIHZiKCl7Y29uc3QgZT1NYXRoLlBJLzMyLHQ9TWF0aC50YW4oZSksaT1PZDtyZXR1cm4gaSpNYXRoLnNxcnQoMSsyKnQqdCktaX1mdW5jdGlvbiBiYihlLHQsaSl7Y29uc3Qgcj0xPDxpLnosbj0kZChpLngvciksbz0kZCgoaS54KzEpL3IpLHM9SGQoaS55L3IpLGE9SGQoKGkueSsxKS9yKTtyZXR1cm4gZnVuY3Rpb24oZSx0LGkscixuPTAsbyl7Y29uc3Qgcz1bXTtpZighZS5sZW5ndGh8fCFpfHwhcilyZXR1cm4gcztjb25zdCBhPShlLHQpPT57Zm9yKGNvbnN0IGkgb2YgZSlzLnB1c2goe3BvbHlnb246aSxib3VuZHM6dH0pO30sbD1NYXRoLmNlaWwoTWF0aC5sb2cyKGkpKSxjPU1hdGguY2VpbChNYXRoLmxvZzIocikpLGg9bC1jLHU9W107Zm9yKGxldCBlPTA7ZTxNYXRoLmFicyhoKTtlKyspdS5wdXNoKGg+MD8wOjEpO2ZvcihsZXQgZT0wO2U8TWF0aC5taW4obCxjKTtlKyspdS5wdXNoKDApLHUucHVzaCgxKTtsZXQgZD1lO2lmKGQ9cm0oZCx0WzBdLnktbix0WzFdLnkrbiwxKSxkPXJtKGQsdFswXS54LW4sdFsxXS54K24sMCksIWQubGVuZ3RoKXJldHVybiBzO2NvbnN0IHA9W107Zm9yKHUubGVuZ3RoP3AucHVzaCh7cG9seWdvbnM6ZCxib3VuZHM6dCxkZXB0aDowfSk6YShkLHQpO3AubGVuZ3RoOyl7Y29uc3QgZT1wLnBvcCgpLHQ9ZS5kZXB0aCxpPXVbdF0scj1lLmJvdW5kc1swXSxzPWUuYm91bmRzWzFdLGw9MD09PWk/ci54OnIueSxjPTA9PT1pP3MueDpzLnksaD1vP28oaSxsLGMpOi41KihsK2MpLGQ9cm0oZS5wb2x5Z29ucyxsLW4saCtuLGkpLGY9cm0oZS5wb2x5Z29ucyxoLW4sYytuLGkpO2lmKGQubGVuZ3RoKXtjb25zdCBlPVtyLG5ldyB5KDA9PT1pP2g6cy54LDE9PT1pP2g6cy55KV07dS5sZW5ndGg+dCsxP3AucHVzaCh7cG9seWdvbnM6ZCxib3VuZHM6ZSxkZXB0aDp0KzF9KTphKGQsZSk7fWlmKGYubGVuZ3RoKXtjb25zdCBlPVtuZXcgeSgwPT09aT9oOnIueCwxPT09aT9oOnIueSksc107dS5sZW5ndGg+dCsxP3AucHVzaCh7cG9seWdvbnM6Zixib3VuZHM6ZSxkZXB0aDp0KzF9KTphKGYsZSk7fX1yZXR1cm4gc30oZSx0LE1hdGguY2VpbCgoby1uKS8xMS4yNSksTWF0aC5jZWlsKChzLWEpLzExLjI1KSwxLCgoZSx0LG4pPT57aWYoMD09PWUpcmV0dXJuIC41Kih0K24pO3tjb25zdCBlPUhkKChpLnkrdC9zcikvcik7cmV0dXJuIChxZCguNSooSGQoKGkueStuL3NyKS9yKStlKSkqci1pLnkpKnNyfX0pKX1mdW5jdGlvbiB3YihlLHQsaSxyLG4sbyl7Y29uc3Qgcz1NYXRoLnBvdygyLHIuei1uLnopO2ZvcihsZXQgYT0wO2E8aTthKyspe2xldCBpPWUuaW50MTZbMiooYSt0KSswXSxsPWUuaW50MTZbMiooYSt0KSsxXTtpPShpK24ueCpzcikqcy1yLngqc3IsbD0obCtuLnkqc3IpKnMtci55KnNyLG8ucHVzaChuZXcgeShpLGwpKTt9fUlzKGRiLFwiRmlsbEV4dHJ1c2lvbkJ1Y2tldFwiLHtvbWl0OltcImxheWVyc1wiLFwiZmVhdHVyZXNcIl19KSxJcyhzYixcIlBhcnREYXRhXCIpLElzKG9iLFwiRm9vdHByaW50U2VnbWVudFwiKSxJcyhhYixcIkJvcmRlckNlbnRyb2lkRGF0YVwiKSxJcyh1YixcIkdyb3VuZEVmZmVjdFwiKTtjb25zdCBUYj1uZXcgZGEoe3Zpc2liaWxpdHk6bmV3IGNhKEN0W1wibGF5b3V0X2ZpbGwtZXh0cnVzaW9uXCJdLnZpc2liaWxpdHkpLFwiZmlsbC1leHRydXNpb24tZWRnZS1yYWRpdXNcIjpuZXcgY2EoQ3RbXCJsYXlvdXRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1lZGdlLXJhZGl1c1wiXSl9KTt2YXIgRWI9e3BhaW50Om5ldyBkYSh7XCJmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5XCI6bmV3IGNhKEN0W1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5XCJdKSxcImZpbGwtZXh0cnVzaW9uLWNvbG9yXCI6bmV3IGhhKEN0W1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1jb2xvclwiXSksXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIjpuZXcgY2EoQ3RbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZVwiXSksXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yXCI6bmV3IGNhKEN0W1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yXCJdKSxcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIjpuZXcgaGEoQ3RbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIl0pLFwiZmlsbC1leHRydXNpb24taGVpZ2h0XCI6bmV3IGhhKEN0W1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1oZWlnaHRcIl0pLFwiZmlsbC1leHRydXNpb24tYmFzZVwiOm5ldyBoYShDdFtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tYmFzZVwiXSksXCJmaWxsLWV4dHJ1c2lvbi12ZXJ0aWNhbC1ncmFkaWVudFwiOm5ldyBjYShDdFtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tdmVydGljYWwtZ3JhZGllbnRcIl0pLFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24taW50ZW5zaXR5XCI6bmV3IGNhKEN0W1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1pbnRlbnNpdHlcIl0pLFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tcmFkaXVzXCI6bmV3IGNhKEN0W1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1yYWRpdXNcIl0pLFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24td2FsbC1yYWRpdXNcIjpuZXcgY2EoQ3RbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLXdhbGwtcmFkaXVzXCJdKSxcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLWdyb3VuZC1yYWRpdXNcIjpuZXcgY2EoQ3RbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLWdyb3VuZC1yYWRpdXNcIl0pLFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tZ3JvdW5kLWF0dGVudWF0aW9uXCI6bmV3IGNhKEN0W1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1ncm91bmQtYXR0ZW51YXRpb25cIl0pLFwiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtY29sb3JcIjpuZXcgY2EoQ3RbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLWZsb29kLWxpZ2h0LWNvbG9yXCJdKSxcImZpbGwtZXh0cnVzaW9uLWZsb29kLWxpZ2h0LWludGVuc2l0eVwiOm5ldyBjYShDdFtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtaW50ZW5zaXR5XCJdKSxcImZpbGwtZXh0cnVzaW9uLWZsb29kLWxpZ2h0LXdhbGwtcmFkaXVzXCI6bmV3IGhhKEN0W1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1mbG9vZC1saWdodC13YWxsLXJhZGl1c1wiXSksXCJmaWxsLWV4dHJ1c2lvbi1mbG9vZC1saWdodC1ncm91bmQtcmFkaXVzXCI6bmV3IGhhKEN0W1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1mbG9vZC1saWdodC1ncm91bmQtcmFkaXVzXCJdKSxcImZpbGwtZXh0cnVzaW9uLWZsb29kLWxpZ2h0LWdyb3VuZC1hdHRlbnVhdGlvblwiOm5ldyBjYShDdFtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtZ3JvdW5kLWF0dGVudWF0aW9uXCJdKSxcImZpbGwtZXh0cnVzaW9uLXZlcnRpY2FsLXNjYWxlXCI6bmV3IGNhKEN0W1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi12ZXJ0aWNhbC1zY2FsZVwiXSksXCJmaWxsLWV4dHJ1c2lvbi1yb3VuZGVkLXJvb2ZcIjpuZXcgY2EoQ3RbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLXJvdW5kZWQtcm9vZlwiXSksXCJmaWxsLWV4dHJ1c2lvbi1jdXRvZmYtZmFkZS1yYW5nZVwiOm5ldyBjYShDdFtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tY3V0b2ZmLWZhZGUtcmFuZ2VcIl0pfSksbGF5b3V0OlRifTtjbGFzcyBNYiBleHRlbmRzIHl7Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKGUsdCksdGhpcy56PWk7fX1mdW5jdGlvbiBBYihlLHQpe3JldHVybiBlLngqdC54K2UueSp0Lnl9ZnVuY3Rpb24gU2IoZSx0KXtpZigxPT09ZS5sZW5ndGgpe2xldCBpPTA7Y29uc3Qgcj10W2krK107bGV0IG47Zm9yKDshbnx8ci5lcXVhbHMobik7KWlmKG49dFtpKytdLCFuKXJldHVybiAxLzA7Zm9yKDtpPHQubGVuZ3RoO2krKyl7Y29uc3Qgbz10W2ldLHM9ZVswXSxhPW4uc3ViKHIpLGw9by5zdWIociksYz1zLnN1YihyKSxoPUFiKGEsYSksdT1BYihhLGwpLGQ9QWIobCxsKSxwPUFiKGMsYSksZj1BYihjLGwpLG09aCpkLXUqdSxfPShkKnAtdSpmKS9tLGc9KGgqZi11KnApL20seT1yLnoqKDEtXy1nKStuLnoqXytvLnoqZztpZihpc0Zpbml0ZSh5KSlyZXR1cm4geX1yZXR1cm4gMS8wfXtsZXQgZT0xLzA7Zm9yKGNvbnN0IGkgb2YgdCllPU1hdGgubWluKGUsaS56KTtyZXR1cm4gZX19ZnVuY3Rpb24gSWIoZSx0LGkscixuLG8scyxhKXtjb25zdCBsPXMqbi5nZXRFbGV2YXRpb25BdChlLHQsITAsITApLGM9MCE9PW9bMF0saD1jPzA9PT1vWzFdP3MqKG9bMF0vNy00NTApOnMqZnVuY3Rpb24oZSx0LGkpe2NvbnN0IHI9TWF0aC5mbG9vcih0WzBdLzgpLG49TWF0aC5mbG9vcih0WzFdLzgpLG89MTAqKHRbMF0tOCpyKSxzPTEwKih0WzFdLTgqbiksYT1lLmdldEVsZXZhdGlvbkF0KHIsbiwhMCwhMCksbD1lLmdldE1ldGVyVG9ERU0oaSksYz1NYXRoLmZsb29yKC41KihvKmwtMSkpLGg9TWF0aC5mbG9vciguNSoocypsLTEpKSx1PWUudGlsZUNvb3JkVG9QaXhlbChyLG4pLGQ9MipjKzEscD0yKmgrMSxmPWZ1bmN0aW9uKGUsdCxpLHIsbil7cmV0dXJuIFtlLmdldEVsZXZhdGlvbkF0UGl4ZWwodCxpLCEwKSxlLmdldEVsZXZhdGlvbkF0UGl4ZWwodCtuLGksITApLGUuZ2V0RWxldmF0aW9uQXRQaXhlbCh0LGkrbiwhMCksZS5nZXRFbGV2YXRpb25BdFBpeGVsKHQrcixpK24sITApXX0oZSx1LngtYyx1LnktaCxkLHApLG09TWF0aC5hYnMoZlswXS1mWzFdKSxfPU1hdGguYWJzKGZbMl0tZlszXSksZz1NYXRoLmFicyhmWzBdLWZbMl0pK01hdGguYWJzKGZbMV0tZlszXSkseT1NYXRoLm1pbiguMjUsLjUqbCoobStfKS9kKSx4PU1hdGgubWluKC4yNSwuNSpsKmcvcCk7cmV0dXJuIGErTWF0aC5tYXgoeSpvLHgqcyl9KG4sbyxhKTpsO3JldHVybiB7YmFzZTpsKygwPT09aSk/LTE6aSx0b3A6Yz9NYXRoLm1heChoK3IsbCtpKzIpOmwrcn19Y29uc3QgQ2I9bmV3IGRhKHtcImxpbmUtY2FwXCI6bmV3IGhhKEN0LmxheW91dF9saW5lW1wibGluZS1jYXBcIl0pLFwibGluZS1qb2luXCI6bmV3IGhhKEN0LmxheW91dF9saW5lW1wibGluZS1qb2luXCJdKSxcImxpbmUtbWl0ZXItbGltaXRcIjpuZXcgY2EoQ3QubGF5b3V0X2xpbmVbXCJsaW5lLW1pdGVyLWxpbWl0XCJdKSxcImxpbmUtcm91bmQtbGltaXRcIjpuZXcgY2EoQ3QubGF5b3V0X2xpbmVbXCJsaW5lLXJvdW5kLWxpbWl0XCJdKSxcImxpbmUtc29ydC1rZXlcIjpuZXcgaGEoQ3QubGF5b3V0X2xpbmVbXCJsaW5lLXNvcnQta2V5XCJdKSx2aXNpYmlsaXR5Om5ldyBjYShDdC5sYXlvdXRfbGluZS52aXNpYmlsaXR5KX0pO3ZhciB6Yj17cGFpbnQ6bmV3IGRhKHtcImxpbmUtb3BhY2l0eVwiOm5ldyBoYShDdC5wYWludF9saW5lW1wibGluZS1vcGFjaXR5XCJdKSxcImxpbmUtY29sb3JcIjpuZXcgaGEoQ3QucGFpbnRfbGluZVtcImxpbmUtY29sb3JcIl0pLFwibGluZS10cmFuc2xhdGVcIjpuZXcgY2EoQ3QucGFpbnRfbGluZVtcImxpbmUtdHJhbnNsYXRlXCJdKSxcImxpbmUtdHJhbnNsYXRlLWFuY2hvclwiOm5ldyBjYShDdC5wYWludF9saW5lW1wibGluZS10cmFuc2xhdGUtYW5jaG9yXCJdKSxcImxpbmUtd2lkdGhcIjpuZXcgaGEoQ3QucGFpbnRfbGluZVtcImxpbmUtd2lkdGhcIl0pLFwibGluZS1nYXAtd2lkdGhcIjpuZXcgaGEoQ3QucGFpbnRfbGluZVtcImxpbmUtZ2FwLXdpZHRoXCJdKSxcImxpbmUtb2Zmc2V0XCI6bmV3IGhhKEN0LnBhaW50X2xpbmVbXCJsaW5lLW9mZnNldFwiXSksXCJsaW5lLWJsdXJcIjpuZXcgaGEoQ3QucGFpbnRfbGluZVtcImxpbmUtYmx1clwiXSksXCJsaW5lLWRhc2hhcnJheVwiOm5ldyBoYShDdC5wYWludF9saW5lW1wibGluZS1kYXNoYXJyYXlcIl0pLFwibGluZS1wYXR0ZXJuXCI6bmV3IGhhKEN0LnBhaW50X2xpbmVbXCJsaW5lLXBhdHRlcm5cIl0pLFwibGluZS1ncmFkaWVudFwiOm5ldyB1YShDdC5wYWludF9saW5lW1wibGluZS1ncmFkaWVudFwiXSksXCJsaW5lLXRyaW0tb2Zmc2V0XCI6bmV3IGNhKEN0LnBhaW50X2xpbmVbXCJsaW5lLXRyaW0tb2Zmc2V0XCJdKSxcImxpbmUtZW1pc3NpdmUtc3RyZW5ndGhcIjpuZXcgY2EoQ3QucGFpbnRfbGluZVtcImxpbmUtZW1pc3NpdmUtc3RyZW5ndGhcIl0pLFwibGluZS1ib3JkZXItd2lkdGhcIjpuZXcgaGEoQ3QucGFpbnRfbGluZVtcImxpbmUtYm9yZGVyLXdpZHRoXCJdKSxcImxpbmUtYm9yZGVyLWNvbG9yXCI6bmV3IGhhKEN0LnBhaW50X2xpbmVbXCJsaW5lLWJvcmRlci1jb2xvclwiXSl9KSxsYXlvdXQ6Q2J9O2NvbnN0IERiPShlLHQsaSxyLG4sbyxzKT0+e2NvbnN0IGE9ZS50cmFuc2Zvcm0sbD1hLmNhbGN1bGF0ZVBpeGVsc1RvVGlsZVVuaXRzTWF0cml4KHQpO3JldHVybiB7dV9tYXRyaXg6TGIoZSx0LGksciksdV9waXhlbHNfdG9fdGlsZV91bml0czpsLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm8sdV91bml0c190b19waXhlbHM6WzEvYS5waXhlbHNUb0dMVW5pdHNbMF0sMS9hLnBpeGVsc1RvR0xVbml0c1sxXV0sdV9kYXNoX2ltYWdlOjAsdV9ncmFkaWVudF9pbWFnZToxLHVfaW1hZ2VfaGVpZ2h0Om4sdV90ZXhzaXplOk9iKGkpP3QubGluZUF0bGFzVGV4dHVyZS5zaXplOlswLDBdLHVfdGlsZV91bml0c190b19waXhlbHM6UmIodCxlLnRyYW5zZm9ybSksdV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZDowLHVfdHJpbV9vZmZzZXQ6cyx1X2VtaXNzaXZlX3N0cmVuZ3RoOmkucGFpbnQuZ2V0KFwibGluZS1lbWlzc2l2ZS1zdHJlbmd0aFwiKX19LFBiPShlLHQsaSxyLG4pPT57Y29uc3Qgbz1lLnRyYW5zZm9ybTtyZXR1cm4ge3VfbWF0cml4OkxiKGUsdCxpLHIpLHVfdGV4c2l6ZTp0LmltYWdlQXRsYXNUZXh0dXJlLnNpemUsdV9waXhlbHNfdG9fdGlsZV91bml0czpvLmNhbGN1bGF0ZVBpeGVsc1RvVGlsZVVuaXRzTWF0cml4KHQpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm4sdV9pbWFnZTowLHVfdGlsZV91bml0c190b19waXhlbHM6UmIodCxvKSx1X3VuaXRzX3RvX3BpeGVsczpbMS9vLnBpeGVsc1RvR0xVbml0c1swXSwxL28ucGl4ZWxzVG9HTFVuaXRzWzFdXSx1X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkOjB9fTtmdW5jdGlvbiBSYihlLHQpe3JldHVybiAxL1h4KGUsMSx0LnRpbGVab29tKX1mdW5jdGlvbiBMYihlLHQsaSxyKXtyZXR1cm4gZS50cmFuc2xhdGVQb3NNYXRyaXgocnx8dC50aWxlSUQucHJvak1hdHJpeCx0LGkucGFpbnQuZ2V0KFwibGluZS10cmFuc2xhdGVcIiksaS5wYWludC5nZXQoXCJsaW5lLXRyYW5zbGF0ZS1hbmNob3JcIikpfWNvbnN0IGtiPWU9Pntjb25zdCB0PVtdO09iKGUpJiZ0LnB1c2goXCJSRU5ERVJfTElORV9EQVNIXCIpLGUucGFpbnQuZ2V0KFwibGluZS1ncmFkaWVudFwiKSYmdC5wdXNoKFwiUkVOREVSX0xJTkVfR1JBRElFTlRcIik7Y29uc3QgaT1lLnBhaW50LmdldChcImxpbmUtdHJpbS1vZmZzZXRcIik7cmV0dXJuIDA9PT1pWzBdJiYwPT09aVsxXXx8dC5wdXNoKFwiUkVOREVSX0xJTkVfVFJJTV9PRkZTRVRcIiksMCE9PWUucGFpbnQuZ2V0KFwibGluZS1ib3JkZXItd2lkdGhcIikuY29uc3RhbnRPcigxKSYmdC5wdXNoKFwiUkVOREVSX0xJTkVfQk9SREVSXCIpLHR9O2Z1bmN0aW9uIE9iKGUpe2NvbnN0IHQ9ZS5wYWludC5nZXQoXCJsaW5lLWRhc2hhcnJheVwiKS52YWx1ZTtyZXR1cm4gdC52YWx1ZXx8XCJjb25zdGFudFwiIT09dC5raW5kfWNvbnN0IEJiPW5ldyBjbGFzcyBleHRlbmRzIGhhe3Bvc3NpYmx5RXZhbHVhdGUoZSx0KXtyZXR1cm4gdD1uZXcgZWEoTWF0aC5mbG9vcih0Lnpvb20pLHtub3c6dC5ub3csZmFkZUR1cmF0aW9uOnQuZmFkZUR1cmF0aW9uLHRyYW5zaXRpb246dC50cmFuc2l0aW9ufSksc3VwZXIucG9zc2libHlFdmFsdWF0ZShlLHQpfWV2YWx1YXRlKGUsdCxpLHIpe3JldHVybiB0PWsoe30sdCx7em9vbTpNYXRoLmZsb29yKHQuem9vbSl9KSxzdXBlci5ldmFsdWF0ZShlLHQsaSxyKX19KHpiLnBhaW50LnByb3BlcnRpZXNbXCJsaW5lLXdpZHRoXCJdLnNwZWNpZmljYXRpb24pO2Z1bmN0aW9uIEZiKGUsdCl7cmV0dXJuIHQ+MD90KzIqZTplfUJiLnVzZUludGVnZXJab29tPSEwO2NvbnN0IE5iPW5ldyBkYSh7dmlzaWJpbGl0eTpuZXcgY2EoQ3QubGF5b3V0X2JhY2tncm91bmQudmlzaWJpbGl0eSl9KTt2YXIgVWI9e3BhaW50Om5ldyBkYSh7XCJiYWNrZ3JvdW5kLWNvbG9yXCI6bmV3IGNhKEN0LnBhaW50X2JhY2tncm91bmRbXCJiYWNrZ3JvdW5kLWNvbG9yXCJdKSxcImJhY2tncm91bmQtcGF0dGVyblwiOm5ldyBjYShDdC5wYWludF9iYWNrZ3JvdW5kW1wiYmFja2dyb3VuZC1wYXR0ZXJuXCJdKSxcImJhY2tncm91bmQtb3BhY2l0eVwiOm5ldyBjYShDdC5wYWludF9iYWNrZ3JvdW5kW1wiYmFja2dyb3VuZC1vcGFjaXR5XCJdKSxcImJhY2tncm91bmQtZW1pc3NpdmUtc3RyZW5ndGhcIjpuZXcgY2EoQ3QucGFpbnRfYmFja2dyb3VuZFtcImJhY2tncm91bmQtZW1pc3NpdmUtc3RyZW5ndGhcIl0pfSksbGF5b3V0Ok5ifTtjb25zdCBWYj1uZXcgZGEoe3Zpc2liaWxpdHk6bmV3IGNhKEN0LmxheW91dF9yYXN0ZXIudmlzaWJpbGl0eSl9KTt2YXIgamI9e3BhaW50Om5ldyBkYSh7XCJyYXN0ZXItb3BhY2l0eVwiOm5ldyBjYShDdC5wYWludF9yYXN0ZXJbXCJyYXN0ZXItb3BhY2l0eVwiXSksXCJyYXN0ZXItY29sb3JcIjpuZXcgdWEoQ3QucGFpbnRfcmFzdGVyW1wicmFzdGVyLWNvbG9yXCJdKSxcInJhc3Rlci1jb2xvci1taXhcIjpuZXcgY2EoQ3QucGFpbnRfcmFzdGVyW1wicmFzdGVyLWNvbG9yLW1peFwiXSksXCJyYXN0ZXItY29sb3ItcmFuZ2VcIjpuZXcgY2EoQ3QucGFpbnRfcmFzdGVyW1wicmFzdGVyLWNvbG9yLXJhbmdlXCJdKSxcInJhc3Rlci1odWUtcm90YXRlXCI6bmV3IGNhKEN0LnBhaW50X3Jhc3RlcltcInJhc3Rlci1odWUtcm90YXRlXCJdKSxcInJhc3Rlci1icmlnaHRuZXNzLW1pblwiOm5ldyBjYShDdC5wYWludF9yYXN0ZXJbXCJyYXN0ZXItYnJpZ2h0bmVzcy1taW5cIl0pLFwicmFzdGVyLWJyaWdodG5lc3MtbWF4XCI6bmV3IGNhKEN0LnBhaW50X3Jhc3RlcltcInJhc3Rlci1icmlnaHRuZXNzLW1heFwiXSksXCJyYXN0ZXItc2F0dXJhdGlvblwiOm5ldyBjYShDdC5wYWludF9yYXN0ZXJbXCJyYXN0ZXItc2F0dXJhdGlvblwiXSksXCJyYXN0ZXItY29udHJhc3RcIjpuZXcgY2EoQ3QucGFpbnRfcmFzdGVyW1wicmFzdGVyLWNvbnRyYXN0XCJdKSxcInJhc3Rlci1yZXNhbXBsaW5nXCI6bmV3IGNhKEN0LnBhaW50X3Jhc3RlcltcInJhc3Rlci1yZXNhbXBsaW5nXCJdKSxcInJhc3Rlci1mYWRlLWR1cmF0aW9uXCI6bmV3IGNhKEN0LnBhaW50X3Jhc3RlcltcInJhc3Rlci1mYWRlLWR1cmF0aW9uXCJdKX0pLGxheW91dDpWYn07ZnVuY3Rpb24gR2IoZSx0LGkscixuLG8scyxhKXtjb25zdCBsPVtlLGksbix0LHIsbywxLDEsMV0sYz1bcyxhLDFdLGg9Z3UuYWRqb2ludChbXSxsKSxbdSxkLHBdPU11LnRyYW5zZm9ybU1hdDMoYyxjLGd1LnRyYW5zcG9zZShoLGgpKTtyZXR1cm4gZ3UubXVsdGlwbHkobCxbdSwwLDAsMCxkLDAsMCwwLHBdLGwpfWNsYXNzIHFiIGV4dGVuZHMgSXR7Y29uc3RydWN0b3IoZSx0LGkscil7c3VwZXIoKSx0aGlzLmlkPWUsdGhpcy5kaXNwYXRjaGVyPWksdGhpcy5jb29yZGluYXRlcz10LmNvb3JkaW5hdGVzLHRoaXMudHlwZT1cImltYWdlXCIsdGhpcy5taW56b29tPTAsdGhpcy5tYXh6b29tPTIyLHRoaXMudGlsZVNpemU9NTEyLHRoaXMudGlsZXM9e30sdGhpcy5fbG9hZGVkPSExLHRoaXMub25Ob3J0aFBvbGU9ITEsdGhpcy5vblNvdXRoUG9sZT0hMSx0aGlzLnNldEV2ZW50ZWRQYXJlbnQociksdGhpcy5vcHRpb25zPXQsdGhpcy5fZGlydHk9ITE7fWxvYWQoZSxpKXtpZih0aGlzLl9sb2FkZWQ9aXx8ITEsdGhpcy5maXJlKG5ldyBBdChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic291cmNlXCJ9KSksdGhpcy51cmw9dGhpcy5vcHRpb25zLnVybCwhdGhpcy51cmwpcmV0dXJuIGUmJih0aGlzLmNvb3JkaW5hdGVzPWUpLHRoaXMuX2xvYWRlZD0hMCx2b2lkIHRoaXMuX2ZpbmlzaExvYWRpbmcoKTt0aGlzLl9pbWFnZVJlcXVlc3Q9SWUodGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QodGhpcy51cmwseWUuSW1hZ2UpLCgoaSxyKT0+e2lmKHRoaXMuX2ltYWdlUmVxdWVzdD1udWxsLHRoaXMuX2xvYWRlZD0hMCxpKXRoaXMuZmlyZShuZXcgU3QoaSkpO2Vsc2UgaWYocil7Y29uc3R7SFRNTEltYWdlRWxlbWVudDppfT10O3RoaXMuaW1hZ2U9ciBpbnN0YW5jZW9mIGk/aHQuZ2V0SW1hZ2VEYXRhKHIpOnIsdGhpcy5fZGlydHk9ITAsdGhpcy53aWR0aD10aGlzLmltYWdlLndpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuaW1hZ2UuaGVpZ2h0LGUmJih0aGlzLmNvb3JkaW5hdGVzPWUpLHRoaXMuX2ZpbmlzaExvYWRpbmcoKTt9fSkpO31sb2FkZWQoKXtyZXR1cm4gdGhpcy5fbG9hZGVkfXVwZGF0ZUltYWdlKGUpe3JldHVybiB0aGlzLmltYWdlJiZlLnVybD8odGhpcy5faW1hZ2VSZXF1ZXN0JiZlLnVybCE9PXRoaXMub3B0aW9ucy51cmwmJih0aGlzLl9pbWFnZVJlcXVlc3QuY2FuY2VsKCksdGhpcy5faW1hZ2VSZXF1ZXN0PW51bGwpLHRoaXMub3B0aW9ucy51cmw9ZS51cmwsdGhpcy5sb2FkKGUuY29vcmRpbmF0ZXMsdGhpcy5fbG9hZGVkKSx0aGlzKTp0aGlzfXNldFRleHR1cmUoZSl7aWYoIShlLmhhbmRsZSBpbnN0YW5jZW9mIFdlYkdMVGV4dHVyZSkpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHByb3ZpZGVkIGhhbmRsZSBpcyBub3QgYSBXZWJHTFRleHR1cmUgaW5zdGFuY2VcIik7cmV0dXJuIHRoaXMudGV4dHVyZT1uZXcgeXkodGhpcy5tYXAucGFpbnRlci5jb250ZXh0LGUuaGFuZGxlKSx0aGlzLndpZHRoPWUuZGltZW5zaW9uc1swXSx0aGlzLmhlaWdodD1lLmRpbWVuc2lvbnNbMV0sdGhpcy5fZGlydHk9ITEsdGhpcy5fbG9hZGVkPSEwLHRoaXMuX2ZpbmlzaExvYWRpbmcoKSx0aGlzfV9maW5pc2hMb2FkaW5nKCl7dGhpcy5tYXAmJih0aGlzLnNldENvb3JkaW5hdGVzKHRoaXMuY29vcmRpbmF0ZXMpLHRoaXMuZmlyZShuZXcgQXQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJtZXRhZGF0YVwifSkpKTt9b25BZGQoZSl7dGhpcy5tYXA9ZSx0aGlzLmxvYWQoKTt9b25SZW1vdmUoKXt0aGlzLl9pbWFnZVJlcXVlc3QmJih0aGlzLl9pbWFnZVJlcXVlc3QuY2FuY2VsKCksdGhpcy5faW1hZ2VSZXF1ZXN0PW51bGwpLCF0aGlzLnRleHR1cmV8fHRoaXMudGV4dHVyZSBpbnN0YW5jZW9mIHl5fHx0aGlzLnRleHR1cmUuZGVzdHJveSgpO31zZXRDb29yZGluYXRlcyhlKXtpZih0aGlzLmNvb3JkaW5hdGVzPWUsdGhpcy5fYm91bmRzQXJyYXk9dm9pZCAwLCFlLmxlbmd0aClyZXR1cm4gdGhpczt0aGlzLm9uTm9ydGhQb2xlPSExLHRoaXMub25Tb3V0aFBvbGU9ITE7bGV0IHQ9ZVswXVsxXSxpPWVbMF1bMV07Zm9yKGNvbnN0IHIgb2YgZSlyWzFdPmkmJihpPXJbMV0pLHJbMV08dCYmKHQ9clsxXSk7Y29uc3Qgcj0oaSt0KS8yO2lmKHI+WGQ/dGhpcy5vbk5vcnRoUG9sZT0hMDpyPC1YZCYmKHRoaXMub25Tb3V0aFBvbGU9ITApLCF0aGlzLm9uTm9ydGhQb2xlJiYhdGhpcy5vblNvdXRoUG9sZSl7Y29uc3QgdD1lLm1hcChlcC5mcm9tTG5nTGF0KTt0aGlzLnRpbGVJRD1mdW5jdGlvbihlKXtsZXQgdD0xLzAsaT0xLzAscj0tMS8wLG49LTEvMDtmb3IoY29uc3QgbyBvZiBlKXQ9TWF0aC5taW4odCxvLngpLGk9TWF0aC5taW4oaSxvLnkpLHI9TWF0aC5tYXgocixvLngpLG49TWF0aC5tYXgobixvLnkpO2NvbnN0IG89TWF0aC5tYXgoci10LG4taSkscz1NYXRoLm1heCgwLE1hdGguZmxvb3IoLU1hdGgubG9nKG8pL01hdGguTE4yKSksYT1NYXRoLnBvdygyLHMpO3JldHVybiBuZXcga3UocyxNYXRoLmZsb29yKCh0K3IpLzIqYSksTWF0aC5mbG9vcigoaStuKS8yKmEpKX0odCksdGhpcy5taW56b29tPXRoaXMubWF4em9vbT10aGlzLnRpbGVJRC56O31yZXR1cm4gdGhpcy5maXJlKG5ldyBBdChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcImNvbnRlbnRcIn0pKSx0aGlzfV9jbGVhcigpe3RoaXMuX2JvdW5kc0FycmF5PXZvaWQgMDt9X3ByZXBhcmVEYXRhKGUpe2Zvcihjb25zdCBlIGluIHRoaXMudGlsZXMpe2NvbnN0IHQ9dGhpcy50aWxlc1tlXTtcImxvYWRlZFwiIT09dC5zdGF0ZSYmKHQuc3RhdGU9XCJsb2FkZWRcIix0LnRleHR1cmU9dGhpcy50ZXh0dXJlKTt9aWYodGhpcy5fYm91bmRzQXJyYXkpcmV0dXJuO2NvbnN0IHQ9VGcodGhpcy50aWxlSUQsdGhpcy5tYXAudHJhbnNmb3JtLnByb2plY3Rpb24pLFtpLHIsbixvXT10aGlzLmNvb3JkaW5hdGVzLm1hcCgoZT0+e2NvbnN0IGk9dC5wcm9qZWN0aW9uLnByb2plY3QoZVswXSxlWzFdKTtyZXR1cm4gTWcodCxpKS5fcm91bmQoKX0pKTt0aGlzLnBlcnNwZWN0aXZlVHJhbnNmb3JtPWZ1bmN0aW9uKGUsdCxpLHIsbixvLHMsYSxsLGMpe2NvbnN0IGg9R2IoMCwwLGUsMCwwLHQsZSx0KSx1PUdiKGkscixuLG8scyxhLGwsYyk7cmV0dXJuIGd1Lm11bHRpcGx5KHUsZ3UuYWRqb2ludChoLGgpLHUpLFt1WzZdL3VbOF0qZS9zcix1WzddL3VbOF0qdC9zcl19KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsaS54LGkueSxyLngsci55LG8ueCxvLnksbi54LG4ueSk7Y29uc3Qgcz10aGlzLl9ib3VuZHNBcnJheT1uZXcgTWE7cy5lbXBsYWNlQmFjayhpLngsaS55LDAsMCkscy5lbXBsYWNlQmFjayhyLngsci55LHNyLDApLHMuZW1wbGFjZUJhY2soby54LG8ueSwwLHNyKSxzLmVtcGxhY2VCYWNrKG4ueCxuLnksc3Isc3IpLHRoaXMuYm91bmRzQnVmZmVyJiZ0aGlzLmJvdW5kc0J1ZmZlci5kZXN0cm95KCksdGhpcy5ib3VuZHNCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIocyxBeS5tZW1iZXJzKSx0aGlzLmJvdW5kc1NlZ21lbnRzPWRsLnNpbXBsZVNlZ21lbnQoMCwwLDQsMik7fXByZXBhcmUoKXtjb25zdCBlPTAhPT1PYmplY3Qua2V5cyh0aGlzLnRpbGVzKS5sZW5ndGg7aWYodGhpcy50aWxlSUQmJiFlKXJldHVybjtjb25zdCB0PXRoaXMubWFwLnBhaW50ZXIuY29udGV4dCxpPXQuZ2w7IXRoaXMuX2RpcnR5fHx0aGlzLnRleHR1cmUgaW5zdGFuY2VvZiB5eXx8KHRoaXMudGV4dHVyZT90aGlzLnRleHR1cmUudXBkYXRlKHRoaXMuaW1hZ2UpOih0aGlzLnRleHR1cmU9bmV3IGd5KHQsdGhpcy5pbWFnZSxpLlJHQkEpLHRoaXMudGV4dHVyZS5iaW5kKGkuTElORUFSLGkuQ0xBTVBfVE9fRURHRSkpLHRoaXMuX2RpcnR5PSExKSxlJiZ0aGlzLl9wcmVwYXJlRGF0YSh0KTt9bG9hZFRpbGUoZSx0KXt0aGlzLnRpbGVJRCYmdGhpcy50aWxlSUQuZXF1YWxzKGUudGlsZUlELmNhbm9uaWNhbCk/KHRoaXMudGlsZXNbU3RyaW5nKGUudGlsZUlELndyYXApXT1lLGUuYnVja2V0cz17fSx0KG51bGwpKTooZS5zdGF0ZT1cImVycm9yZWRcIix0KG51bGwpKTt9c2VyaWFsaXplKCl7cmV0dXJuIHt0eXBlOlwiaW1hZ2VcIix1cmw6dGhpcy5vcHRpb25zLnVybCxjb29yZGluYXRlczp0aGlzLmNvb3JkaW5hdGVzfX1oYXNUcmFuc2l0aW9uKCl7cmV0dXJuICExfX1jbGFzcyBaYiBleHRlbmRzIF9he2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUse30pLHRoaXMuaW1wbGVtZW50YXRpb249ZSxlLnNsb3QmJih0aGlzLnNsb3Q9ZS5zbG90KTt9aXMzRCgpe3JldHVybiBcIjNkXCI9PT10aGlzLmltcGxlbWVudGF0aW9uLnJlbmRlcmluZ01vZGV9aGFzT2Zmc2NyZWVuUGFzcygpe3JldHVybiB2b2lkIDAhPT10aGlzLmltcGxlbWVudGF0aW9uLnByZXJlbmRlcn1pc0xheWVyRHJhcGVkKGUpe3JldHVybiB2b2lkIDAhPT10aGlzLmltcGxlbWVudGF0aW9uLnJlbmRlclRvVGlsZX1zaG91bGRSZWRyYXBlKCl7cmV0dXJuICEhdGhpcy5pbXBsZW1lbnRhdGlvbi5zaG91bGRSZXJlbmRlclRpbGVzJiZ0aGlzLmltcGxlbWVudGF0aW9uLnNob3VsZFJlcmVuZGVyVGlsZXMoKX1yZWNhbGN1bGF0ZSgpe311cGRhdGVUcmFuc2l0aW9ucygpe31oYXNUcmFuc2l0aW9uKCl7cmV0dXJuICExfXNlcmlhbGl6ZSgpe31vbkFkZChlKXt0aGlzLmltcGxlbWVudGF0aW9uLm9uQWRkJiZ0aGlzLmltcGxlbWVudGF0aW9uLm9uQWRkKGUsZS5wYWludGVyLmNvbnRleHQuZ2wpO31vblJlbW92ZShlKXt0aGlzLmltcGxlbWVudGF0aW9uLm9uUmVtb3ZlJiZ0aGlzLmltcGxlbWVudGF0aW9uLm9uUmVtb3ZlKGUsZS5wYWludGVyLmNvbnRleHQuZ2wpO319Y29uc3QgJGI9bmV3IGRhKHt2aXNpYmlsaXR5Om5ldyBjYShDdC5sYXlvdXRfc2t5LnZpc2liaWxpdHkpfSk7dmFyIEhiPXtwYWludDpuZXcgZGEoe1wic2t5LXR5cGVcIjpuZXcgY2EoQ3QucGFpbnRfc2t5W1wic2t5LXR5cGVcIl0pLFwic2t5LWF0bW9zcGhlcmUtc3VuXCI6bmV3IGNhKEN0LnBhaW50X3NreVtcInNreS1hdG1vc3BoZXJlLXN1blwiXSksXCJza3ktYXRtb3NwaGVyZS1zdW4taW50ZW5zaXR5XCI6bmV3IGNhKEN0LnBhaW50X3NreVtcInNreS1hdG1vc3BoZXJlLXN1bi1pbnRlbnNpdHlcIl0pLFwic2t5LWdyYWRpZW50LWNlbnRlclwiOm5ldyBjYShDdC5wYWludF9za3lbXCJza3ktZ3JhZGllbnQtY2VudGVyXCJdKSxcInNreS1ncmFkaWVudC1yYWRpdXNcIjpuZXcgY2EoQ3QucGFpbnRfc2t5W1wic2t5LWdyYWRpZW50LXJhZGl1c1wiXSksXCJza3ktZ3JhZGllbnRcIjpuZXcgdWEoQ3QucGFpbnRfc2t5W1wic2t5LWdyYWRpZW50XCJdKSxcInNreS1hdG1vc3BoZXJlLWhhbG8tY29sb3JcIjpuZXcgY2EoQ3QucGFpbnRfc2t5W1wic2t5LWF0bW9zcGhlcmUtaGFsby1jb2xvclwiXSksXCJza3ktYXRtb3NwaGVyZS1jb2xvclwiOm5ldyBjYShDdC5wYWludF9za3lbXCJza3ktYXRtb3NwaGVyZS1jb2xvclwiXSksXCJza3ktb3BhY2l0eVwiOm5ldyBjYShDdC5wYWludF9za3lbXCJza3ktb3BhY2l0eVwiXSl9KSxsYXlvdXQ6JGJ9O2Z1bmN0aW9uIFdiKGUsdCxpKXtjb25zdCByPVswLDAsMV0sbj1idS5pZGVudGl0eShbXSk7cmV0dXJuIGJ1LnJvdGF0ZVkobixuLGk/LXcoZSkrTWF0aC5QSTp3KGUpKSxidS5yb3RhdGVYKG4sbiwtdyh0KSksTXUudHJhbnNmb3JtUXVhdChyLHIsbiksTXUubm9ybWFsaXplKHIscil9dmFyIFhiPXtwYWludDpuZXcgZGEoe30pfTtjb25zdCBZYj17Y2lyY2xlOmNsYXNzIGV4dGVuZHMgX2F7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLFBwLHQpO31jcmVhdGVCdWNrZXQoZSl7cmV0dXJuIG5ldyBkcChlKX1xdWVyeVJhZGl1cyhlKXtjb25zdCB0PWU7cmV0dXJuIFNwKFwiY2lyY2xlLXJhZGl1c1wiLHRoaXMsdCkrU3AoXCJjaXJjbGUtc3Ryb2tlLXdpZHRoXCIsdGhpcyx0KStJcCh0aGlzLnBhaW50LmdldChcImNpcmNsZS10cmFuc2xhdGVcIikpfXF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmUoZSx0LGkscixuLG8scyxhKXtjb25zdCBsPXpwKHRoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXRyYW5zbGF0ZVwiKSx0aGlzLnBhaW50LmdldChcImNpcmNsZS10cmFuc2xhdGUtYW5jaG9yXCIpLG8uYW5nbGUsZS5waXhlbFRvVGlsZVVuaXRzRmFjdG9yKSxjPXRoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXJhZGl1c1wiKS5ldmFsdWF0ZSh0LGkpK3RoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXN0cm9rZS13aWR0aFwiKS5ldmFsdWF0ZSh0LGkpO3JldHVybiBPcChlLHIsbyxzLGEsXCJtYXBcIj09PXRoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXBpdGNoLWFsaWdubWVudFwiKSxcIm1hcFwiPT09dGhpcy5wYWludC5nZXQoXCJjaXJjbGUtcGl0Y2gtc2NhbGVcIiksbCxjKX1nZXRQcm9ncmFtSWRzKCl7cmV0dXJuIFtcImNpcmNsZVwiXX1nZXREZWZhdWx0UHJvZ3JhbVBhcmFtcyhlLHQpe2NvbnN0IGk9a3AodGhpcyk7cmV0dXJuIHtjb25maWc6bmV3ICRsKHRoaXMsdCksZGVmaW5lczppLG92ZXJyaWRlRm9nOiExfX19LGhlYXRtYXA6Y2xhc3MgZXh0ZW5kcyBfYXtjcmVhdGVCdWNrZXQoZSl7cmV0dXJuIG5ldyBWcChlKX1jb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsWHAsdCksdGhpcy5fdXBkYXRlQ29sb3JSYW1wKCk7fV9oYW5kbGVTcGVjaWFsUGFpbnRQcm9wZXJ0eVVwZGF0ZShlKXtcImhlYXRtYXAtY29sb3JcIj09PWUmJnRoaXMuX3VwZGF0ZUNvbG9yUmFtcCgpO31fdXBkYXRlQ29sb3JSYW1wKCl7dGhpcy5jb2xvclJhbXA9WXAoe2V4cHJlc3Npb246dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW1wiaGVhdG1hcC1jb2xvclwiXS52YWx1ZS5leHByZXNzaW9uLGV2YWx1YXRpb25LZXk6XCJoZWF0bWFwRGVuc2l0eVwiLGltYWdlOnRoaXMuY29sb3JSYW1wfSksdGhpcy5jb2xvclJhbXBUZXh0dXJlPW51bGw7fXJlc2l6ZSgpe3RoaXMuaGVhdG1hcEZibyYmKHRoaXMuaGVhdG1hcEZiby5kZXN0cm95KCksdGhpcy5oZWF0bWFwRmJvPW51bGwpO31xdWVyeVJhZGl1cyhlKXtyZXR1cm4gU3AoXCJoZWF0bWFwLXJhZGl1c1wiLHRoaXMsZSl9cXVlcnlJbnRlcnNlY3RzRmVhdHVyZShlLHQsaSxyLG4sbyxzLGEpe2NvbnN0IGw9dGhpcy5wYWludC5nZXQoXCJoZWF0bWFwLXJhZGl1c1wiKS5ldmFsdWF0ZSh0LGkpO3JldHVybiBPcChlLHIsbyxzLGEsITAsITAsbmV3IHkoMCwwKSxsKX1oYXNPZmZzY3JlZW5QYXNzKCl7cmV0dXJuIDAhPT10aGlzLnBhaW50LmdldChcImhlYXRtYXAtb3BhY2l0eVwiKSYmXCJub25lXCIhPT10aGlzLnZpc2liaWxpdHl9Z2V0UHJvZ3JhbUlkcygpe3JldHVybiBbXCJoZWF0bWFwXCIsXCJoZWF0bWFwVGV4dHVyZVwiXX1nZXREZWZhdWx0UHJvZ3JhbVBhcmFtcyhlLHQpe3JldHVybiBcImhlYXRtYXBcIj09PWU/e2NvbmZpZzpuZXcgJGwodGhpcyx0KSxvdmVycmlkZUZvZzohMX06e319fSxoaWxsc2hhZGU6Y2xhc3MgZXh0ZW5kcyBfYXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsSnAsdCk7fWhhc09mZnNjcmVlblBhc3MoKXtyZXR1cm4gMCE9PXRoaXMucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWV4YWdnZXJhdGlvblwiKSYmXCJub25lXCIhPT10aGlzLnZpc2liaWxpdHl9Z2V0UHJvZ3JhbUlkcygpe3JldHVybiBbXCJoaWxsc2hhZGVcIixcImhpbGxzaGFkZVByZXBhcmVcIl19Z2V0RGVmYXVsdFByb2dyYW1QYXJhbXMoZSx0KXtyZXR1cm4ge292ZXJyaWRlRm9nOiExfX19LGZpbGw6Y2xhc3MgZXh0ZW5kcyBfYXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsT2YsdCk7fWdldFByb2dyYW1JZHMoKXtjb25zdCBlPXRoaXMucGFpbnQuZ2V0KFwiZmlsbC1wYXR0ZXJuXCIpLHQ9ZSYmZS5jb25zdGFudE9yKDEpLGk9W3Q/XCJmaWxsUGF0dGVyblwiOlwiZmlsbFwiXTtyZXR1cm4gdGhpcy5wYWludC5nZXQoXCJmaWxsLWFudGlhbGlhc1wiKSYmaS5wdXNoKHQmJiF0aGlzLmdldFBhaW50UHJvcGVydHkoXCJmaWxsLW91dGxpbmUtY29sb3JcIik/XCJmaWxsT3V0bGluZVBhdHRlcm5cIjpcImZpbGxPdXRsaW5lXCIpLGl9Z2V0RGVmYXVsdFByb2dyYW1QYXJhbXMoZSx0KXtyZXR1cm4ge2NvbmZpZzpuZXcgJGwodGhpcyx0KSxvdmVycmlkZUZvZzohMX19cmVjYWxjdWxhdGUoZSx0KXtzdXBlci5yZWNhbGN1bGF0ZShlLHQpO2NvbnN0IGk9dGhpcy5wYWludC5fdmFsdWVzW1wiZmlsbC1vdXRsaW5lLWNvbG9yXCJdO1wiY29uc3RhbnRcIj09PWkudmFsdWUua2luZCYmdm9pZCAwPT09aS52YWx1ZS52YWx1ZSYmKHRoaXMucGFpbnQuX3ZhbHVlc1tcImZpbGwtb3V0bGluZS1jb2xvclwiXT10aGlzLnBhaW50Ll92YWx1ZXNbXCJmaWxsLWNvbG9yXCJdKTt9Y3JlYXRlQnVja2V0KGUpe3JldHVybiBuZXcgTGYoZSl9cXVlcnlSYWRpdXMoKXtyZXR1cm4gSXAodGhpcy5wYWludC5nZXQoXCJmaWxsLXRyYW5zbGF0ZVwiKSl9cXVlcnlJbnRlcnNlY3RzRmVhdHVyZShlLHQsaSxyLG4sbyl7cmV0dXJuICFlLnF1ZXJ5R2VvbWV0cnkuaXNBYm92ZUhvcml6b24mJm1wKENwKGUudGlsZXNwYWNlR2VvbWV0cnksdGhpcy5wYWludC5nZXQoXCJmaWxsLXRyYW5zbGF0ZVwiKSx0aGlzLnBhaW50LmdldChcImZpbGwtdHJhbnNsYXRlLWFuY2hvclwiKSxvLmFuZ2xlLGUucGl4ZWxUb1RpbGVVbml0c0ZhY3Rvcikscil9aXNUaWxlQ2xpcHBlZCgpe3JldHVybiAhMH19LFwiZmlsbC1leHRydXNpb25cIjpjbGFzcyBleHRlbmRzIF9he2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSxFYix0KTt9Y3JlYXRlQnVja2V0KGUpe3JldHVybiBuZXcgZGIoZSl9cXVlcnlSYWRpdXMoKXtyZXR1cm4gSXAodGhpcy5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIikpfWlzM0QoKXtyZXR1cm4gITB9aGFzU2hhZG93UGFzcygpe3JldHVybiAhMH1jdXRvZmZSYW5nZSgpe3JldHVybiB0aGlzLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWN1dG9mZi1mYWRlLXJhbmdlXCIpfWNhbkNhc3RTaGFkb3dzKCl7cmV0dXJuICEwfWdldFByb2dyYW1JZHMoKXtyZXR1cm4gW3RoaXMucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tcGF0dGVyblwiKS5jb25zdGFudE9yKDEpP1wiZmlsbEV4dHJ1c2lvblBhdHRlcm5cIjpcImZpbGxFeHRydXNpb25cIl19cXVlcnlJbnRlcnNlY3RzRmVhdHVyZShlLHQsaSxyLG4sbyxzLGEsbCl7Y29uc3QgYz16cCh0aGlzLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZVwiKSx0aGlzLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZS1hbmNob3JcIiksby5hbmdsZSxlLnBpeGVsVG9UaWxlVW5pdHNGYWN0b3IpLGg9dGhpcy5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1oZWlnaHRcIikuZXZhbHVhdGUodCxpKSx1PXRoaXMucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tYmFzZVwiKS5ldmFsdWF0ZSh0LGkpLGQ9WzAsMF0scD1hJiZvLmVsZXZhdGlvbixmPW8uZWxldmF0aW9uP28uZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpOjEsbT1lLnRpbGUuZ2V0QnVja2V0KHRoaXMpO2lmKHAmJm0gaW5zdGFuY2VvZiBkYil7Y29uc3QgZT1tLmNlbnRyb2lkVmVydGV4QXJyYXksdD1sKzE7dDxlLmxlbmd0aCYmKGRbMF09ZS5nZXRhX2NlbnRyb2lkX3BvczAodCksZFsxXT1lLmdldGFfY2VudHJvaWRfcG9zMSh0KSk7fWlmKDA9PT1kWzBdJiYxPT09ZFsxXSlyZXR1cm4gITE7XCJnbG9iZVwiPT09by5wcm9qZWN0aW9uLm5hbWUmJihyPWJiKFtyXSxbbmV3IHkoMCwwKSxuZXcgeShzcixzcildLGUudGlsZUlELmNhbm9uaWNhbCkubWFwKChlPT5lLnBvbHlnb24pKS5mbGF0KCkpO2NvbnN0IF89cD9hOm51bGwsW2cseF09ZnVuY3Rpb24oZSx0LGkscixuLG8scyxhLGwsYyxoKXtyZXR1cm4gXCJnbG9iZVwiPT09ZS5wcm9qZWN0aW9uLm5hbWU/ZnVuY3Rpb24oZSx0LGkscixuLG8scyxhLGwsYyxoKXtjb25zdCB1PVtdLGQ9W10scD1lLnByb2plY3Rpb24udXBWZWN0b3JTY2FsZShoLGUuY2VudGVyLmxhdCxlLndvcmxkU2l6ZSkubWV0ZXJzVG9UaWxlLGY9WzAsMCwwLDFdLG09WzAsMCwwLDFdLF89KGUsdCxpLHIpPT57ZVswXT10LGVbMV09aSxlWzJdPXIsZVszXT0xO30sZz12YigpO2k+MCYmKGkrPWcpLHIrPWc7Zm9yKGNvbnN0IGcgb2YgdCl7Y29uc3QgdD1bXSx5PVtdO2Zvcihjb25zdCB1IG9mIGcpe2NvbnN0IGQ9dS54K24ueCxnPXUueStuLnkseD1lLnByb2plY3Rpb24ucHJvamVjdFRpbGVQb2ludChkLGcsaCksdj1lLnByb2plY3Rpb24udXBWZWN0b3IoaCx1LngsdS55KTtsZXQgYj1pLHc9cjtpZihzKXtjb25zdCBlPUliKGQsZyxpLHIscyxhLGwsYyk7Yis9ZS5iYXNlLHcrPWUudG9wO30wIT09aT9fKGYseC54K3ZbMF0qcCpiLHgueSt2WzFdKnAqYix4LnordlsyXSpwKmIpOl8oZix4LngseC55LHgueiksXyhtLHgueCt2WzBdKnAqdyx4LnkrdlsxXSpwKncseC56K3ZbMl0qcCp3KSxNdS50cmFuc2Zvcm1NYXQ0KGYsZixvKSxNdS50cmFuc2Zvcm1NYXQ0KG0sbSxvKSx0LnB1c2gobmV3IE1iKGZbMF0sZlsxXSxmWzJdKSkseS5wdXNoKG5ldyBNYihtWzBdLG1bMV0sbVsyXSkpO311LnB1c2godCksZC5wdXNoKHkpO31yZXR1cm4gW3UsZF19KGUsdCxpLHIsbixvLHMsYSxsLGMsaCk6cz9mdW5jdGlvbihlLHQsaSxyLG4sbyxzLGEsbCl7Y29uc3QgYz1bXSxoPVtdLHU9WzAsMCwwLDFdO2Zvcihjb25zdCBkIG9mIGUpe2NvbnN0IGU9W10scD1bXTtmb3IoY29uc3QgYyBvZiBkKXtjb25zdCBoPWMueCtyLngsZD1jLnkrci55LGY9SWIoaCxkLHQsaSxvLHMsYSxsKTt1WzBdPWgsdVsxXT1kLHVbMl09Zi5iYXNlLHVbM109MSx1dS50cmFuc2Zvcm1NYXQ0KHUsdSxuKSx1WzNdPU1hdGgubWF4KHVbM10sMWUtNSk7Y29uc3QgbT1uZXcgTWIodVswXS91WzNdLHVbMV0vdVszXSx1WzJdL3VbM10pO3VbMF09aCx1WzFdPWQsdVsyXT1mLnRvcCx1WzNdPTEsdXUudHJhbnNmb3JtTWF0NCh1LHUsbiksdVszXT1NYXRoLm1heCh1WzNdLDFlLTUpO2NvbnN0IF89bmV3IE1iKHVbMF0vdVszXSx1WzFdL3VbM10sdVsyXS91WzNdKTtlLnB1c2gobSkscC5wdXNoKF8pO31jLnB1c2goZSksaC5wdXNoKHApO31yZXR1cm4gW2MsaF19KHQsaSxyLG4sbyxzLGEsbCxjKTpmdW5jdGlvbihlLHQsaSxyLG4pe2NvbnN0IG89W10scz1bXSxhPW5bOF0qdCxsPW5bOV0qdCxjPW5bMTBdKnQsaD1uWzExXSp0LHU9bls4XSppLGQ9bls5XSppLHA9blsxMF0qaSxmPW5bMTFdKmk7Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT1bXSxpPVtdO2Zvcihjb25zdCBvIG9mIHQpe2NvbnN0IHQ9by54K3IueCxzPW8ueStyLnksbT1uWzBdKnQrbls0XSpzK25bMTJdLF89blsxXSp0K25bNV0qcytuWzEzXSxnPW5bMl0qdCtuWzZdKnMrblsxNF0seT1uWzNdKnQrbls3XSpzK25bMTVdLHg9bSthLHY9XytsLGI9ZytjLHc9TWF0aC5tYXgoeStoLDFlLTUpLFQ9bSt1LEU9XytkLE09ZytwLEE9TWF0aC5tYXgoeStmLDFlLTUpO2UucHVzaChuZXcgTWIoeC93LHYvdyxiL3cpKSxpLnB1c2gobmV3IE1iKFQvQSxFL0EsTS9BKSk7fW8ucHVzaChlKSxzLnB1c2goaSk7fXJldHVybiBbbyxzXX0odCxpLHIsbixvKX0obyxyLHUsaCxjLHMsXyxkLGYsby5jZW50ZXIubGF0LGUudGlsZUlELmNhbm9uaWNhbCksdj1lLnF1ZXJ5R2VvbWV0cnk7cmV0dXJuIGZ1bmN0aW9uKGUsdCxpKXtsZXQgcj0xLzA7bXAoaSx0KSYmKHI9U2IoaSx0WzBdKSk7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IG89dFtuXSxzPWVbbl07Zm9yKGxldCBlPTA7ZTxvLmxlbmd0aC0xO2UrKyl7Y29uc3QgdD1vW2VdLG49W3Qsb1tlKzFdLHNbZSsxXSxzW2VdLHRdO3BwKGksbikmJihyPU1hdGgubWluKHIsU2IoaSxuKSkpO319cmV0dXJuIHIhPT0xLzAmJnJ9KGcseCx2LmlzUG9pbnRRdWVyeSgpP3Yuc2NyZWVuQm91bmRzOnYuc2NyZWVuR2VvbWV0cnkpfX0sbGluZTpjbGFzcyBleHRlbmRzIF9he2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx6Yix0KSx0aGlzLmdyYWRpZW50VmVyc2lvbj0wO31faGFuZGxlU3BlY2lhbFBhaW50UHJvcGVydHlVcGRhdGUoZSl7aWYoXCJsaW5lLWdyYWRpZW50XCI9PT1lKXtjb25zdCBlPXRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1tcImxpbmUtZ3JhZGllbnRcIl0udmFsdWUuZXhwcmVzc2lvbjt0aGlzLnN0ZXBJbnRlcnBvbGFudD1lLl9zdHlsZUV4cHJlc3Npb24mJmUuX3N0eWxlRXhwcmVzc2lvbi5leHByZXNzaW9uIGluc3RhbmNlb2YgSHIsdGhpcy5ncmFkaWVudFZlcnNpb249KHRoaXMuZ3JhZGllbnRWZXJzaW9uKzEpJU51bWJlci5NQVhfU0FGRV9JTlRFR0VSO319Z3JhZGllbnRFeHByZXNzaW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1tcImxpbmUtZ3JhZGllbnRcIl0udmFsdWUuZXhwcmVzc2lvbn13aWR0aEV4cHJlc3Npb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW1wibGluZS13aWR0aFwiXS52YWx1ZS5leHByZXNzaW9ufXJlY2FsY3VsYXRlKGUsdCl7c3VwZXIucmVjYWxjdWxhdGUoZSx0KSx0aGlzLnBhaW50Ll92YWx1ZXNbXCJsaW5lLWZsb29yd2lkdGhcIl09QmIucG9zc2libHlFdmFsdWF0ZSh0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQuX3ZhbHVlc1tcImxpbmUtd2lkdGhcIl0udmFsdWUsZSk7fWNyZWF0ZUJ1Y2tldChlKXtyZXR1cm4gbmV3IF95KGUpfWdldFByb2dyYW1JZHMoKXtyZXR1cm4gW3RoaXMucGFpbnQuZ2V0KFwibGluZS1wYXR0ZXJuXCIpLmNvbnN0YW50T3IoMSk/XCJsaW5lUGF0dGVyblwiOlwibGluZVwiXX1nZXREZWZhdWx0UHJvZ3JhbVBhcmFtcyhlLHQpe2NvbnN0IGk9a2IodGhpcyk7cmV0dXJuIHtjb25maWc6bmV3ICRsKHRoaXMsdCksZGVmaW5lczppLG92ZXJyaWRlRm9nOiExfX1xdWVyeVJhZGl1cyhlKXtjb25zdCB0PWUsaT1GYihTcChcImxpbmUtd2lkdGhcIix0aGlzLHQpLFNwKFwibGluZS1nYXAtd2lkdGhcIix0aGlzLHQpKSxyPVNwKFwibGluZS1vZmZzZXRcIix0aGlzLHQpO3JldHVybiBpLzIrTWF0aC5hYnMocikrSXAodGhpcy5wYWludC5nZXQoXCJsaW5lLXRyYW5zbGF0ZVwiKSl9cXVlcnlJbnRlcnNlY3RzRmVhdHVyZShlLHQsaSxyLG4sbyl7aWYoZS5xdWVyeUdlb21ldHJ5LmlzQWJvdmVIb3Jpem9uKXJldHVybiAhMTtjb25zdCBzPUNwKGUudGlsZXNwYWNlR2VvbWV0cnksdGhpcy5wYWludC5nZXQoXCJsaW5lLXRyYW5zbGF0ZVwiKSx0aGlzLnBhaW50LmdldChcImxpbmUtdHJhbnNsYXRlLWFuY2hvclwiKSxvLmFuZ2xlLGUucGl4ZWxUb1RpbGVVbml0c0ZhY3RvciksYT1lLnBpeGVsVG9UaWxlVW5pdHNGYWN0b3IvMipGYih0aGlzLnBhaW50LmdldChcImxpbmUtd2lkdGhcIikuZXZhbHVhdGUodCxpKSx0aGlzLnBhaW50LmdldChcImxpbmUtZ2FwLXdpZHRoXCIpLmV2YWx1YXRlKHQsaSkpLGw9dGhpcy5wYWludC5nZXQoXCJsaW5lLW9mZnNldFwiKS5ldmFsdWF0ZSh0LGkpO3JldHVybiBsJiYocj1mdW5jdGlvbihlLHQpe2NvbnN0IGk9W10scj1uZXcgeSgwLDApO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXtjb25zdCBvPWVbbl0scz1bXTtmb3IobGV0IGU9MDtlPG8ubGVuZ3RoO2UrKyl7Y29uc3QgaT1vW2VdLG49b1tlKzFdLGE9MD09PWU/cjppLnN1YihvW2UtMV0pLl91bml0KCkuX3BlcnAoKSxsPWU9PT1vLmxlbmd0aC0xP3I6bi5zdWIoaSkuX3VuaXQoKS5fcGVycCgpLGM9YS5fYWRkKGwpLl91bml0KCk7Yy5fbXVsdCgxLyhjLngqbC54K2MueSpsLnkpKSxzLnB1c2goYy5fbXVsdCh0KS5fYWRkKGkpKTt9aS5wdXNoKHMpO31yZXR1cm4gaX0ocixsKmUucGl4ZWxUb1RpbGVVbml0c0ZhY3RvcikpLGZ1bmN0aW9uKGUsdCxpKXtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3Qgbj10W3JdO2lmKGUubGVuZ3RoPj0zKWZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7dCsrKWlmKHdwKGUsblt0XSkpcmV0dXJuICEwO2lmKF9wKGUsbixpKSlyZXR1cm4gITB9cmV0dXJuICExfShzLHIsYSl9aXNUaWxlQ2xpcHBlZCgpe3JldHVybiAhMH19LHN5bWJvbDpLZyxiYWNrZ3JvdW5kOmNsYXNzIGV4dGVuZHMgX2F7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLFViLHQpO31nZXRQcm9ncmFtSWRzKCl7cmV0dXJuIFt0aGlzLnBhaW50LmdldChcImJhY2tncm91bmQtcGF0dGVyblwiKT9cImJhY2tncm91bmRQYXR0ZXJuXCI6XCJiYWNrZ3JvdW5kXCJdfWdldERlZmF1bHRQcm9ncmFtUGFyYW1zKGUsdCl7cmV0dXJuIHtvdmVycmlkZUZvZzohMX19fSxyYXN0ZXI6Y2xhc3MgZXh0ZW5kcyBfYXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsamIsdCksdGhpcy5fdXBkYXRlQ29sb3JSYW1wKCk7fWdldFByb2dyYW1JZHMoKXtyZXR1cm4gW1wicmFzdGVyXCJdfWhhc0NvbG9yTWFwKCl7cmV0dXJuICEhdGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW1wicmFzdGVyLWNvbG9yXCJdLnZhbHVlLnZhbHVlfWlzTGF5ZXJEcmFwZWQoZSl7cmV0dXJuICEoZSYmZS5fc291cmNlIGluc3RhbmNlb2YgcWImJihlLl9zb3VyY2Uub25Ob3J0aFBvbGV8fGUuX3NvdXJjZS5vblNvdXRoUG9sZSkpfV9oYW5kbGVTcGVjaWFsUGFpbnRQcm9wZXJ0eVVwZGF0ZShlKXtcInJhc3Rlci1jb2xvclwiIT09ZSYmXCJyYXN0ZXItY29sb3ItcmFuZ2VcIiE9PWV8fHRoaXMuX3VwZGF0ZUNvbG9yUmFtcCgpO31fdXBkYXRlQ29sb3JSYW1wKCl7aWYoIXRoaXMuaGFzQ29sb3JNYXAoKSlyZXR1cm47Y29uc3QgZT10aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbXCJyYXN0ZXItY29sb3JcIl0udmFsdWUuZXhwcmVzc2lvbixbdCxpXT10aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbXCJyYXN0ZXItY29sb3ItcmFuZ2VcIl0udmFsdWUuZXhwcmVzc2lvbi5ldmFsdWF0ZSh7em9vbTowfSk7dGhpcy5jb2xvclJhbXA9WXAoe2V4cHJlc3Npb246ZSxldmFsdWF0aW9uS2V5OlwicmFzdGVyVmFsdWVcIixpbWFnZTp0aGlzLmNvbG9yUmFtcCxjbGlwczpbe3N0YXJ0OnQsZW5kOml9XSxyZXNvbHV0aW9uOjI1Nn0pLHRoaXMuY29sb3JSYW1wVGV4dHVyZT1udWxsO319LHNreTpjbGFzcyBleHRlbmRzIF9he2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSxIYix0KSx0aGlzLl91cGRhdGVDb2xvclJhbXAoKTt9X2hhbmRsZVNwZWNpYWxQYWludFByb3BlcnR5VXBkYXRlKGUpe1wic2t5LWdyYWRpZW50XCI9PT1lP3RoaXMuX3VwZGF0ZUNvbG9yUmFtcCgpOlwic2t5LWF0bW9zcGhlcmUtc3VuXCIhPT1lJiZcInNreS1hdG1vc3BoZXJlLWhhbG8tY29sb3JcIiE9PWUmJlwic2t5LWF0bW9zcGhlcmUtY29sb3JcIiE9PWUmJlwic2t5LWF0bW9zcGhlcmUtc3VuLWludGVuc2l0eVwiIT09ZXx8KHRoaXMuX3NreWJveEludmFsaWRhdGVkPSEwKTt9X3VwZGF0ZUNvbG9yUmFtcCgpe3RoaXMuY29sb3JSYW1wPVlwKHtleHByZXNzaW9uOnRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1tcInNreS1ncmFkaWVudFwiXS52YWx1ZS5leHByZXNzaW9uLGV2YWx1YXRpb25LZXk6XCJza3lSYWRpYWxQcm9ncmVzc1wifSksdGhpcy5jb2xvclJhbXBUZXh0dXJlJiYodGhpcy5jb2xvclJhbXBUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLmNvbG9yUmFtcFRleHR1cmU9bnVsbCk7fW5lZWRzU2t5Ym94Q2FwdHVyZShlKXtpZih0aGlzLl9za3lib3hJbnZhbGlkYXRlZHx8IXRoaXMuc2t5Ym94VGV4dHVyZXx8IXRoaXMuc2t5Ym94R2VvbWV0cnkpcmV0dXJuICEwO2lmKCF0aGlzLnBhaW50LmdldChcInNreS1hdG1vc3BoZXJlLXN1blwiKSl7Y29uc3QgdD1lLnN0eWxlLmxpZ2h0LnByb3BlcnRpZXMuZ2V0KFwicG9zaXRpb25cIik7cmV0dXJuIHRoaXMuX2xpZ2h0UG9zaXRpb24uYXppbXV0aGFsIT09dC5hemltdXRoYWx8fHRoaXMuX2xpZ2h0UG9zaXRpb24ucG9sYXIhPT10LnBvbGFyfXJldHVybiAhMX1nZXRDZW50ZXIoZSx0KXtpZihcImF0bW9zcGhlcmVcIj09PXRoaXMucGFpbnQuZ2V0KFwic2t5LXR5cGVcIikpe2NvbnN0IGk9dGhpcy5wYWludC5nZXQoXCJza3ktYXRtb3NwaGVyZS1zdW5cIikscj0haSxuPWUuc3R5bGUubGlnaHQsbz1uLnByb3BlcnRpZXMuZ2V0KFwicG9zaXRpb25cIik7cmV0dXJuIHImJlwidmlld3BvcnRcIj09PW4ucHJvcGVydGllcy5nZXQoXCJhbmNob3JcIikmJlcoXCJUaGUgc3VuIGRpcmVjdGlvbiBpcyBhdHRhY2hlZCB0byBhIGxpZ2h0IHdpdGggdmlld3BvcnQgYW5jaG9yLCBsaWdodGluZyBtYXkgYmVoYXZlIHVuZXhwZWN0ZWRseS5cIikscj9XYihvLmF6aW11dGhhbCw5MC1vLnBvbGFyLHQpOldiKGlbMF0sOTAtaVsxXSx0KX1jb25zdCBpPXRoaXMucGFpbnQuZ2V0KFwic2t5LWdyYWRpZW50LWNlbnRlclwiKTtyZXR1cm4gV2IoaVswXSw5MC1pWzFdLHQpfWlzU2t5KCl7cmV0dXJuICEwfW1hcmtTa3lib3hWYWxpZChlKXt0aGlzLl9za3lib3hJbnZhbGlkYXRlZD0hMSx0aGlzLl9saWdodFBvc2l0aW9uPWUuc3R5bGUubGlnaHQucHJvcGVydGllcy5nZXQoXCJwb3NpdGlvblwiKTt9aGFzT2Zmc2NyZWVuUGFzcygpe3JldHVybiAhMH1nZXRQcm9ncmFtSWRzKCl7Y29uc3QgZT10aGlzLnBhaW50LmdldChcInNreS10eXBlXCIpO3JldHVybiBcImF0bW9zcGhlcmVcIj09PWU/W1wic2t5Ym94Q2FwdHVyZVwiLFwic2t5Ym94XCJdOlwiZ3JhZGllbnRcIj09PWU/W1wic2t5Ym94R3JhZGllbnRcIl06bnVsbH19LHNsb3Q6Y2xhc3MgZXh0ZW5kcyBfYXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsWGIpO319LG1vZGVsOmNsYXNzIGV4dGVuZHMgX2F7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLER2LHQpO31jcmVhdGVCdWNrZXQoZSl7cmV0dXJuIG5ldyBDdihlKX1nZXRQcm9ncmFtSWRzKCl7cmV0dXJuIFtcIm1vZGVsXCJdfWlzM0QoKXtyZXR1cm4gITB9aGFzU2hhZG93UGFzcygpe3JldHVybiAhMH1jYW5DYXN0U2hhZG93cygpe3JldHVybiAhMH1oYXNMaWdodEJlYW1QYXNzKCl7cmV0dXJuICEwfWN1dG9mZlJhbmdlKCl7cmV0dXJuIHRoaXMucGFpbnQuZ2V0KFwibW9kZWwtY3V0b2ZmLWZhZGUtcmFuZ2VcIil9cXVlcnlSYWRpdXMoKXtyZXR1cm4gMH1xdWVyeUludGVyc2VjdHNGZWF0dXJlKCl7cmV0dXJuICExfV9oYW5kbGVPdmVycmlkYWJsZVBhaW50UHJvcGVydHlVcGRhdGUoZSx0LGkpe3JldHVybiAhKCF0aGlzLmxheW91dHx8dC5pc0RhdGFEcml2ZW4oKXx8aS5pc0RhdGFEcml2ZW4oKXx8XCJtb2RlbC1jb2xvclwiIT09ZSYmXCJtb2RlbC1jb2xvci1taXgtaW50ZW5zaXR5XCIhPT1lJiZcIm1vZGVsLXJvdGF0aW9uXCIhPT1lJiZcIm1vZGVsLXNjYWxlXCIhPT1lJiZcIm1vZGVsLXRyYW5zbGF0aW9uXCIhPT1lJiZcIm1vZGVsLWVtaXNzaXZlLXN0cmVuZ3RoXCIhPT1lKX1faXNQcm9wZXJ0eVpvb21EZXBlbmRlbnQoZSl7Y29uc3QgdD10aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbZV07cmV0dXJuIG51bGwhPXQmJm51bGwhPXQudmFsdWUmJm51bGwhPXQudmFsdWUuZXhwcmVzc2lvbiYmdC52YWx1ZS5leHByZXNzaW9uIGluc3RhbmNlb2YgYm99aXNab29tRGVwZW5kZW50KCl7cmV0dXJuIHRoaXMuX2lzUHJvcGVydHlab29tRGVwZW5kZW50KFwibW9kZWwtc2NhbGVcIil8fHRoaXMuX2lzUHJvcGVydHlab29tRGVwZW5kZW50KFwibW9kZWwtcm90YXRpb25cIil8fHRoaXMuX2lzUHJvcGVydHlab29tRGVwZW5kZW50KFwibW9kZWwtdHJhbnNsYXRpb25cIil9fX07ZnVuY3Rpb24gS2IoZSx0KXtyZXR1cm4gXCJjdXN0b21cIj09PWUudHlwZT9uZXcgWmIoZSk6bmV3IFliW2UudHlwZV0oZSx0KX1mdW5jdGlvbiBKYihlKXtjb25zdHt1c2VySW1hZ2U6dH09ZTtyZXR1cm4gISEodCYmdC5yZW5kZXImJnQucmVuZGVyKCkpJiYoZS5kYXRhLnJlcGxhY2UobmV3IFVpbnQ4QXJyYXkodC5kYXRhLmJ1ZmZlcikpLCEwKX1jbGFzcyBRYiBleHRlbmRzIEl0e2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLmltYWdlcz17fSx0aGlzLnVwZGF0ZWRJbWFnZXM9e30sdGhpcy5jYWxsYmFja0Rpc3BhdGNoZWRUaGlzRnJhbWU9e30sdGhpcy5sb2FkZWQ9e30sdGhpcy5yZXF1ZXN0b3JzPVtdLHRoaXMucGF0dGVybnM9e30sdGhpcy5hdGxhc0ltYWdlPXt9LHRoaXMuYXRsYXNUZXh0dXJlPXt9LHRoaXMuZGlydHk9ITA7fWNyZWF0ZVNjb3BlKGUpe3RoaXMuaW1hZ2VzW2VdPXt9LHRoaXMubG9hZGVkW2VdPSExLHRoaXMudXBkYXRlZEltYWdlc1tlXT17fSx0aGlzLnBhdHRlcm5zW2VdPXt9LHRoaXMuY2FsbGJhY2tEaXNwYXRjaGVkVGhpc0ZyYW1lW2VdPXt9LHRoaXMuYXRsYXNJbWFnZVtlXT1uZXcgJHAoe3dpZHRoOjEsaGVpZ2h0OjF9KTt9aXNMb2FkZWQoKXtmb3IoY29uc3QgZSBpbiB0aGlzLmxvYWRlZClpZighdGhpcy5sb2FkZWRbZV0pcmV0dXJuICExO3JldHVybiAhMH1zZXRMb2FkZWQoZSx0KXtpZih0aGlzLmxvYWRlZFt0XSE9PWUmJih0aGlzLmxvYWRlZFt0XT1lLGUpKXtmb3IoY29uc3R7aWRzOmUsY2FsbGJhY2s6aX1vZiB0aGlzLnJlcXVlc3RvcnMpdGhpcy5fbm90aWZ5KGUsdCxpKTt0aGlzLnJlcXVlc3RvcnM9W107fX1oYXNJbWFnZShlLHQpe3JldHVybiAhIXRoaXMuZ2V0SW1hZ2UoZSx0KX1nZXRJbWFnZShlLHQpe3JldHVybiB0aGlzLmltYWdlc1t0XVtlXX1hZGRJbWFnZShlLHQsaSl7dGhpcy5fdmFsaWRhdGUoZSxpKSYmKHRoaXMuaW1hZ2VzW3RdW2VdPWkpO31fdmFsaWRhdGUoZSx0KXtsZXQgaT0hMDtyZXR1cm4gdGhpcy5fdmFsaWRhdGVTdHJldGNoKHQuc3RyZXRjaFgsdC5kYXRhJiZ0LmRhdGEud2lkdGgpfHwodGhpcy5maXJlKG5ldyBTdChuZXcgRXJyb3IoYEltYWdlIFwiJHtlfVwiIGhhcyBpbnZhbGlkIFwic3RyZXRjaFhcIiB2YWx1ZWApKSksaT0hMSksdGhpcy5fdmFsaWRhdGVTdHJldGNoKHQuc3RyZXRjaFksdC5kYXRhJiZ0LmRhdGEuaGVpZ2h0KXx8KHRoaXMuZmlyZShuZXcgU3QobmV3IEVycm9yKGBJbWFnZSBcIiR7ZX1cIiBoYXMgaW52YWxpZCBcInN0cmV0Y2hZXCIgdmFsdWVgKSkpLGk9ITEpLHRoaXMuX3ZhbGlkYXRlQ29udGVudCh0LmNvbnRlbnQsdCl8fCh0aGlzLmZpcmUobmV3IFN0KG5ldyBFcnJvcihgSW1hZ2UgXCIke2V9XCIgaGFzIGludmFsaWQgXCJjb250ZW50XCIgdmFsdWVgKSkpLGk9ITEpLGl9X3ZhbGlkYXRlU3RyZXRjaChlLHQpe2lmKCFlKXJldHVybiAhMDtsZXQgaT0wO2Zvcihjb25zdCByIG9mIGUpe2lmKHJbMF08aXx8clsxXTxyWzBdfHx0PHJbMV0pcmV0dXJuICExO2k9clsxXTt9cmV0dXJuICEwfV92YWxpZGF0ZUNvbnRlbnQoZSx0KXtyZXR1cm4gIShlJiYoNCE9PWUubGVuZ3RofHxlWzBdPDB8fHQuZGF0YS53aWR0aDxlWzBdfHxlWzFdPDB8fHQuZGF0YS5oZWlnaHQ8ZVsxXXx8ZVsyXTwwfHx0LmRhdGEud2lkdGg8ZVsyXXx8ZVszXTwwfHx0LmRhdGEuaGVpZ2h0PGVbM118fGVbMl08ZVswXXx8ZVszXTxlWzFdKSl9dXBkYXRlSW1hZ2UoZSx0LGkpe2kudmVyc2lvbj10aGlzLmltYWdlc1t0XVtlXS52ZXJzaW9uKzEsdGhpcy5pbWFnZXNbdF1bZV09aSx0aGlzLnVwZGF0ZWRJbWFnZXNbdF1bZV09ITA7fXJlbW92ZUltYWdlKGUsdCl7Y29uc3QgaT10aGlzLmltYWdlc1t0XVtlXTtkZWxldGUgdGhpcy5pbWFnZXNbdF1bZV0sZGVsZXRlIHRoaXMucGF0dGVybnNbdF1bZV0saS51c2VySW1hZ2UmJmkudXNlckltYWdlLm9uUmVtb3ZlJiZpLnVzZXJJbWFnZS5vblJlbW92ZSgpO31saXN0SW1hZ2VzKGUpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLmltYWdlc1tlXSl9Z2V0SW1hZ2VzKGUsdCxpKXtsZXQgcj0hMDtjb25zdCBuPSEhdGhpcy5sb2FkZWRbdF07aWYoIW4pZm9yKGNvbnN0IGkgb2YgZSl0aGlzLmltYWdlc1t0XVtpXXx8KHI9ITEpO258fHI/dGhpcy5fbm90aWZ5KGUsdCxpKTp0aGlzLnJlcXVlc3RvcnMucHVzaCh7aWRzOmUsc2NvcGU6dCxjYWxsYmFjazppfSk7fWdldFVwZGF0ZWRJbWFnZXMoZSl7cmV0dXJuIHRoaXMudXBkYXRlZEltYWdlc1tlXX1fbm90aWZ5KGUsdCxpKXtjb25zdCByPXt9O2Zvcihjb25zdCBpIG9mIGUpe3RoaXMuaW1hZ2VzW3RdW2ldfHx0aGlzLmZpcmUobmV3IEF0KFwic3R5bGVpbWFnZW1pc3NpbmdcIix7aWQ6aX0pKTtjb25zdCBlPXRoaXMuaW1hZ2VzW3RdW2ldO2U/cltpXT17ZGF0YTplLmRhdGEuY2xvbmUoKSxwaXhlbFJhdGlvOmUucGl4ZWxSYXRpbyxzZGY6ZS5zZGYsdmVyc2lvbjplLnZlcnNpb24sc3RyZXRjaFg6ZS5zdHJldGNoWCxzdHJldGNoWTplLnN0cmV0Y2hZLGNvbnRlbnQ6ZS5jb250ZW50LGhhc1JlbmRlckNhbGxiYWNrOkJvb2xlYW4oZS51c2VySW1hZ2UmJmUudXNlckltYWdlLnJlbmRlcil9OlcoYEltYWdlIFwiJHtpfVwiIGNvdWxkIG5vdCBiZSBsb2FkZWQuIFBsZWFzZSBtYWtlIHN1cmUgeW91IGhhdmUgYWRkZWQgdGhlIGltYWdlIHdpdGggbWFwLmFkZEltYWdlKCkgb3IgYSBcInNwcml0ZVwiIHByb3BlcnR5IGluIHlvdXIgc3R5bGUuIFlvdSBjYW4gcHJvdmlkZSBtaXNzaW5nIGltYWdlcyBieSBsaXN0ZW5pbmcgZm9yIHRoZSBcInN0eWxlaW1hZ2VtaXNzaW5nXCIgbWFwIGV2ZW50LmApO31pKG51bGwscik7fWdldFBpeGVsU2l6ZShlKXtjb25zdHt3aWR0aDp0LGhlaWdodDppfT10aGlzLmF0bGFzSW1hZ2VbZV07cmV0dXJuIHt3aWR0aDp0LGhlaWdodDppfX1nZXRQYXR0ZXJuKGUsdCl7Y29uc3QgaT10aGlzLnBhdHRlcm5zW3RdW2VdLHI9dGhpcy5nZXRJbWFnZShlLHQpO2lmKCFyKXJldHVybiBudWxsO2lmKGkmJmkucG9zaXRpb24udmVyc2lvbj09PXIudmVyc2lvbilyZXR1cm4gaS5wb3NpdGlvbjtpZihpKWkucG9zaXRpb24udmVyc2lvbj1yLnZlcnNpb247ZWxzZSB7Y29uc3QgaT17dzpyLmRhdGEud2lkdGgrMixoOnIuZGF0YS5oZWlnaHQrMix4OjAseTowfSxuPW5ldyB2XyhpLHIpO3RoaXMucGF0dGVybnNbdF1bZV09e2JpbjppLHBvc2l0aW9uOm59O31yZXR1cm4gdGhpcy5fdXBkYXRlUGF0dGVybkF0bGFzKHQpLHRoaXMucGF0dGVybnNbdF1bZV0ucG9zaXRpb259YmluZChlLHQpe2NvbnN0IGk9ZS5nbDtsZXQgcj10aGlzLmF0bGFzVGV4dHVyZVt0XTtyP3RoaXMuZGlydHkmJihyLnVwZGF0ZSh0aGlzLmF0bGFzSW1hZ2VbdF0pLHRoaXMuZGlydHk9ITEpOihyPW5ldyBneShlLHRoaXMuYXRsYXNJbWFnZVt0XSxpLlJHQkEpLHRoaXMuYXRsYXNUZXh0dXJlW3RdPXIpLHIuYmluZChpLkxJTkVBUixpLkNMQU1QX1RPX0VER0UpO31fdXBkYXRlUGF0dGVybkF0bGFzKGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IGkgaW4gdGhpcy5wYXR0ZXJuc1tlXSl0LnB1c2godGhpcy5wYXR0ZXJuc1tlXVtpXS5iaW4pO2NvbnN0e3c6aSxoOnJ9PXlfKHQpLG49dGhpcy5hdGxhc0ltYWdlW2VdO24ucmVzaXplKHt3aWR0aDppfHwxLGhlaWdodDpyfHwxfSk7Zm9yKGNvbnN0IHQgaW4gdGhpcy5wYXR0ZXJuc1tlXSl7Y29uc3R7YmluOml9PXRoaXMucGF0dGVybnNbZV1bdF0scj1pLngrMSxvPWkueSsxLHM9dGhpcy5pbWFnZXNbZV1bdF0uZGF0YSxhPXMud2lkdGgsbD1zLmhlaWdodDskcC5jb3B5KHMsbix7eDowLHk6MH0se3g6cix5Om99LHt3aWR0aDphLGhlaWdodDpsfSksJHAuY29weShzLG4se3g6MCx5OmwtMX0se3g6cix5Om8tMX0se3dpZHRoOmEsaGVpZ2h0OjF9KSwkcC5jb3B5KHMsbix7eDowLHk6MH0se3g6cix5Om8rbH0se3dpZHRoOmEsaGVpZ2h0OjF9KSwkcC5jb3B5KHMsbix7eDphLTEseTowfSx7eDpyLTEseTpvfSx7d2lkdGg6MSxoZWlnaHQ6bH0pLCRwLmNvcHkocyxuLHt4OjAseTowfSx7eDpyK2EseTpvfSx7d2lkdGg6MSxoZWlnaHQ6bH0pO310aGlzLmRpcnR5PSEwO31iZWdpbkZyYW1lKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5pbWFnZXMpdGhpcy5jYWxsYmFja0Rpc3BhdGNoZWRUaGlzRnJhbWVbZV09e307fWRpc3BhdGNoUmVuZGVyQ2FsbGJhY2tzKGUsdCl7Zm9yKGNvbnN0IGkgb2YgZSl7aWYodGhpcy5jYWxsYmFja0Rpc3BhdGNoZWRUaGlzRnJhbWVbdF1baV0pY29udGludWU7dGhpcy5jYWxsYmFja0Rpc3BhdGNoZWRUaGlzRnJhbWVbdF1baV09ITA7Y29uc3QgZT10aGlzLmltYWdlc1t0XVtpXTtKYihlKSYmdGhpcy51cGRhdGVJbWFnZShpLHQsZSk7fX19Y29uc3QgZXc9bmV3IGRhKHthbmNob3I6bmV3IGNhKEN0LmxpZ2h0LmFuY2hvcikscG9zaXRpb246bmV3IGNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMuc3BlY2lmaWNhdGlvbj1lO31wb3NzaWJseUV2YWx1YXRlKGUsdCl7cmV0dXJuIEsoZS5leHByZXNzaW9uLmV2YWx1YXRlKHQpKX1pbnRlcnBvbGF0ZShlLHQsaSl7cmV0dXJuIHt4OldyKGUueCx0LngsaSkseTpXcihlLnksdC55LGkpLHo6V3IoZS56LHQueixpKSxhemltdXRoYWw6V3IoZS5hemltdXRoYWwsdC5hemltdXRoYWwsaSkscG9sYXI6V3IoZS5wb2xhcix0LnBvbGFyLGkpfX19KEN0LmxpZ2h0LnBvc2l0aW9uKSxjb2xvcjpuZXcgY2EoQ3QubGlnaHQuY29sb3IpLGludGVuc2l0eTpuZXcgY2EoQ3QubGlnaHQuaW50ZW5zaXR5KX0pO2NsYXNzIHR3IGV4dGVuZHMgSXR7Y29uc3RydWN0b3IoZSx0PVwiZmxhdFwiKXtzdXBlcigpLHRoaXMuX3RyYW5zaXRpb25hYmxlPW5ldyByYShldyksdGhpcy5zZXRMaWdodChlLHQpLHRoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudW50cmFuc2l0aW9uZWQoKTt9Z2V0TGlnaHQoKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmFibGUuc2VyaWFsaXplKCl9c2V0TGlnaHQoZSx0LGk9e30pe3RoaXMuX3ZhbGlkYXRlKGRzLGUsaSl8fCh0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXRUcmFuc2l0aW9uT3JWYWx1ZShlKSx0aGlzLmlkPXQpO311cGRhdGVUcmFuc2l0aW9ucyhlKXt0aGlzLl90cmFuc2l0aW9uaW5nPXRoaXMuX3RyYW5zaXRpb25hYmxlLnRyYW5zaXRpb25lZChlLHRoaXMuX3RyYW5zaXRpb25pbmcpO31oYXNUcmFuc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25pbmcuaGFzVHJhbnNpdGlvbigpfXJlY2FsY3VsYXRlKGUpe3RoaXMucHJvcGVydGllcz10aGlzLl90cmFuc2l0aW9uaW5nLnBvc3NpYmx5RXZhbHVhdGUoZSk7fV92YWxpZGF0ZShlLHQsaSl7cmV0dXJuICghaXx8ITEhPT1pLnZhbGlkYXRlKSYmd3ModGhpcyxlLmNhbGwoaHMsayh7dmFsdWU6dCxzdHlsZTp7Z2x5cGhzOiEwLHNwcml0ZTohMH0sc3R5bGVTcGVjOkN0fSkpKX19Y29uc3QgaXc9bmV3IGRhKHtzb3VyY2U6bmV3IGNhKEN0LnRlcnJhaW4uc291cmNlKSxleGFnZ2VyYXRpb246bmV3IGNhKEN0LnRlcnJhaW4uZXhhZ2dlcmF0aW9uKX0pO2xldCBydz1jbGFzcyBleHRlbmRzIEl0e2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKSx0aGlzLl90cmFuc2l0aW9uYWJsZT1uZXcgcmEoaXcpLHRoaXMuc2V0KGUpLHRoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudW50cmFuc2l0aW9uZWQoKSx0aGlzLmRyYXBlUmVuZGVyTW9kZT10O31zZXRTY29wZShlKXt0aGlzLnNjb3BlPWU7fWdldCgpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXJpYWxpemUoKX1zZXQoZSl7dGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VHJhbnNpdGlvbk9yVmFsdWUoZSk7fXVwZGF0ZVRyYW5zaXRpb25zKGUpe3RoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudHJhbnNpdGlvbmVkKGUsdGhpcy5fdHJhbnNpdGlvbmluZyk7fWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmluZy5oYXNUcmFuc2l0aW9uKCl9cmVjYWxjdWxhdGUoZSl7dGhpcy5wcm9wZXJ0aWVzPXRoaXMuX3RyYW5zaXRpb25pbmcucG9zc2libHlFdmFsdWF0ZShlKTt9Z2V0RXhhZ2dlcmF0aW9uKGUpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uaW5nLnBvc3NpYmx5RXZhbHVhdGUobmV3IGVhKGUpKS5nZXQoXCJleGFnZ2VyYXRpb25cIil9aXNab29tRGVwZW5kZW50KCl7Y29uc3QgZT10aGlzLl90cmFuc2l0aW9uYWJsZS5fdmFsdWVzLmV4YWdnZXJhdGlvbjtyZXR1cm4gbnVsbCE9ZSYmbnVsbCE9ZS52YWx1ZSYmbnVsbCE9ZS52YWx1ZS5leHByZXNzaW9uJiZlLnZhbHVlLmV4cHJlc3Npb24gaW5zdGFuY2VvZiBib319O2NvbnN0IG53PTQ1LG93PTY1LHN3PS4wNTtmdW5jdGlvbiBhdyhlLHQsaSxyKXtjb25zdCBuPUQobncsb3csaSksW28sc109bHcoZSxyKTtsZXQgYT0xLU1hdGgubWluKDEsTWF0aC5leHAoKHQtbykvKHMtbykqLTYpKTtyZXR1cm4gYSo9YSphLGE9TWF0aC5taW4oMSwxLjAwNzQ3KmEpLGEqbiplLmFscGhhfWZ1bmN0aW9uIGx3KGUsdCl7Y29uc3QgaT0uNS9NYXRoLnRhbiguNSp0KTtyZXR1cm4gW2UucmFuZ2VbMF0raSxlLnJhbmdlWzFdK2ldfWZ1bmN0aW9uIGN3KGUsdCxpLHIsbil7Y29uc3Qgbz1NdS50cmFuc2Zvcm1NYXQ0KFtdLFt0LGkscl0sbi5tZXJjYXRvckZvZ01hdHJpeCk7cmV0dXJuIGF3KGUsTXUubGVuZ3RoKG8pLG4ucGl0Y2gsbi5fZm92KX1mdW5jdGlvbiBodyhlLHQsaSxyLG4sbyxzKXtjb25zdCBhPVtbaSxyLDBdLFtuLHIsMF0sW24sbywwXSxbaSxvLDBdXTtsZXQgbD1OdW1iZXIuTUFYX1ZBTFVFLGM9LU51bWJlci5NQVhfVkFMVUU7Zm9yKGNvbnN0IGUgb2YgYSl7Y29uc3QgaT1NdS50cmFuc2Zvcm1NYXQ0KFtdLGUsdCkscj1NdS5sZW5ndGgoaSk7bD1NYXRoLm1pbihsLHIpLGM9TWF0aC5tYXgoYyxyKTt9cmV0dXJuIFthdyhlLGwscy5waXRjaCxzLl9mb3YpLGF3KGUsYyxzLnBpdGNoLHMuX2ZvdildfWNvbnN0IHV3PW5ldyBkYSh7cmFuZ2U6bmV3IGNhKEN0LmZvZy5yYW5nZSksY29sb3I6bmV3IGNhKEN0LmZvZy5jb2xvciksXCJoaWdoLWNvbG9yXCI6bmV3IGNhKEN0LmZvZ1tcImhpZ2gtY29sb3JcIl0pLFwic3BhY2UtY29sb3JcIjpuZXcgY2EoQ3QuZm9nW1wic3BhY2UtY29sb3JcIl0pLFwiaG9yaXpvbi1ibGVuZFwiOm5ldyBjYShDdC5mb2dbXCJob3Jpem9uLWJsZW5kXCJdKSxcInN0YXItaW50ZW5zaXR5XCI6bmV3IGNhKEN0LmZvZ1tcInN0YXItaW50ZW5zaXR5XCJdKSxcInZlcnRpY2FsLXJhbmdlXCI6bmV3IGNhKEN0LmZvZ1tcInZlcnRpY2FsLXJhbmdlXCJdKX0pO2NsYXNzIGR3IGV4dGVuZHMgSXR7Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLHRoaXMuX3RyYW5zaXRpb25hYmxlPW5ldyByYSh1dyksdGhpcy5zZXQoZSksdGhpcy5fdHJhbnNpdGlvbmluZz10aGlzLl90cmFuc2l0aW9uYWJsZS51bnRyYW5zaXRpb25lZCgpLHRoaXMuX3RyYW5zZm9ybT10O31nZXQgc3RhdGUoKXtjb25zdCBlPXRoaXMuX3RyYW5zZm9ybSx0PVwiZ2xvYmVcIj09PWUucHJvamVjdGlvbi5uYW1lLGk9RWQoZS56b29tKSxyPXRoaXMucHJvcGVydGllcy5nZXQoXCJyYW5nZVwiKSxuPVsuNSwzXTtyZXR1cm4ge3JhbmdlOnQ/W1dyKG5bMF0sclswXSxpKSxXcihuWzFdLHJbMV0saSldOnIsaG9yaXpvbkJsZW5kOnRoaXMucHJvcGVydGllcy5nZXQoXCJob3Jpem9uLWJsZW5kXCIpLGFscGhhOnRoaXMucHJvcGVydGllcy5nZXQoXCJjb2xvclwiKS5hfX1nZXQoKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmFibGUuc2VyaWFsaXplKCl9c2V0KGUsdD17fSl7aWYodGhpcy5fdmFsaWRhdGUobXMsZSx0KSlyZXR1cm47Y29uc3QgaT1rKHt9LGUpO2Zvcihjb25zdCBlIG9mIE9iamVjdC5rZXlzKEN0LmZvZykpdm9pZCAwPT09aVtlXSYmKGlbZV09Q3QuZm9nW2VdLmRlZmF1bHQpO3RoaXMuX3RyYW5zaXRpb25hYmxlLnNldFRyYW5zaXRpb25PclZhbHVlKGkpO31nZXRPcGFjaXR5KGUpe2lmKCF0aGlzLl90cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZvZylyZXR1cm4gMDtjb25zdCB0PXRoaXMucHJvcGVydGllcyYmdGhpcy5wcm9wZXJ0aWVzLmdldChcImNvbG9yXCIpfHwxO3JldHVybiAoXCJnbG9iZVwiPT09dGhpcy5fdHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZT8xOkQobncsb3csZSkpKnQuYX1nZXRPcGFjaXR5QXRMYXRMbmcoZSx0KXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtLnByb2plY3Rpb24uc3VwcG9ydHNGb2c/ZnVuY3Rpb24oZSx0LGkpe2NvbnN0IHI9ZXAuZnJvbUxuZ0xhdCh0KSxuPWkuZWxldmF0aW9uP2kuZWxldmF0aW9uLmdldEF0UG9pbnRPclplcm8ocik6MDtyZXR1cm4gY3coZSxyLngsci55LG4saSl9KHRoaXMuc3RhdGUsZSx0KTowfWdldE9wYWNpdHlGb3JUaWxlKGUpe2lmKCF0aGlzLl90cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZvZylyZXR1cm4gWzEsMV07Y29uc3QgdD10aGlzLl90cmFuc2Zvcm0uY2FsY3VsYXRlRm9nVGlsZU1hdHJpeChlLnRvVW53cmFwcGVkKCkpO3JldHVybiBodyh0aGlzLnN0YXRlLHQsMCwwLHNyLHNyLHRoaXMuX3RyYW5zZm9ybSl9Z2V0T3BhY2l0eUZvckJvdW5kcyhlLHQsaSxyLG4pe3JldHVybiB0aGlzLl90cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZvZz9odyh0aGlzLnN0YXRlLGUsdCxpLHIsbix0aGlzLl90cmFuc2Zvcm0pOlsxLDFdfWdldEZvdkFkanVzdGVkUmFuZ2UoZSl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nP2x3KHRoaXMuc3RhdGUsZSk6WzAsMV19aXNWaXNpYmxlT25GcnVzdHVtKGUpe2lmKCF0aGlzLl90cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZvZylyZXR1cm4gITE7Y29uc3QgdD1bNCw1LDYsN107Zm9yKGNvbnN0IGkgb2YgdCl7Y29uc3QgdD1lLnBvaW50c1tpXTtsZXQgcjtpZih0WzJdPj0wKXI9dDtlbHNlIHtjb25zdCBuPWUucG9pbnRzW2ktNF07cj1YcihuLHQsblsyXS8oblsyXS10WzJdKSk7fWlmKGN3KHRoaXMuc3RhdGUsclswXSxyWzFdLDAsdGhpcy5fdHJhbnNmb3JtKT49c3cpcmV0dXJuICEwfXJldHVybiAhMX11cGRhdGVUcmFuc2l0aW9ucyhlKXt0aGlzLl90cmFuc2l0aW9uaW5nPXRoaXMuX3RyYW5zaXRpb25hYmxlLnRyYW5zaXRpb25lZChlLHRoaXMuX3RyYW5zaXRpb25pbmcpO31oYXNUcmFuc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25pbmcuaGFzVHJhbnNpdGlvbigpfXJlY2FsY3VsYXRlKGUpe3RoaXMucHJvcGVydGllcz10aGlzLl90cmFuc2l0aW9uaW5nLnBvc3NpYmx5RXZhbHVhdGUoZSk7fV92YWxpZGF0ZShlLHQsaSl7cmV0dXJuICghaXx8ITEhPT1pLnZhbGlkYXRlKSYmd3ModGhpcyxlLmNhbGwoaHMsayh7dmFsdWU6dCxzdHlsZTp7Z2x5cGhzOiEwLHNwcml0ZTohMH0sc3R5bGVTcGVjOkN0fSkpKX19Y2xhc3MgcHd7Y29uc3RydWN0b3IoZSl7dGhpcy5fY2FsbGJhY2s9ZSx0aGlzLl90cmlnZ2VyZWQ9ITEsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIE1lc3NhZ2VDaGFubmVsJiYodGhpcy5fY2hhbm5lbD1uZXcgTWVzc2FnZUNoYW5uZWwsdGhpcy5fY2hhbm5lbC5wb3J0Mi5vbm1lc3NhZ2U9KCk9Pnt0aGlzLl90cmlnZ2VyZWQ9ITEsdGhpcy5fY2FsbGJhY2soKTt9KTt9dHJpZ2dlcigpe3RoaXMuX3RyaWdnZXJlZHx8KHRoaXMuX3RyaWdnZXJlZD0hMCx0aGlzLl9jaGFubmVsP3RoaXMuX2NoYW5uZWwucG9ydDEucG9zdE1lc3NhZ2UoITApOnNldFRpbWVvdXQoKCgpPT57dGhpcy5fdHJpZ2dlcmVkPSExLHRoaXMuX2NhbGxiYWNrKCk7fSksMCkpO31yZW1vdmUoKXt0aGlzLl9jaGFubmVsPXZvaWQgMCx0aGlzLl9jYWxsYmFjaz0oKT0+e307fX1jbGFzcyBmd3tjb25zdHJ1Y3Rvcigpe3RoaXMudGFza3M9e30sdGhpcy50YXNrUXVldWU9W10saihbXCJwcm9jZXNzXCJdLHRoaXMpLHRoaXMuaW52b2tlcj1uZXcgcHcodGhpcy5wcm9jZXNzKSx0aGlzLm5leHRJZD0wO31hZGQoZSx0KXtjb25zdCBpPXRoaXMubmV4dElkKysscj1mdW5jdGlvbih7dHlwZTplLGlzU3ltYm9sVGlsZTp0LHpvb206aX0pe3JldHVybiBpPWl8fDAsXCJtZXNzYWdlXCI9PT1lPzA6XCJtYXliZVByZXBhcmVcIiE9PWV8fHQ/XCJwYXJzZVRpbGVcIiE9PWV8fHQ/XCJwYXJzZVRpbGVcIj09PWUmJnQ/MzAwLWk6XCJtYXliZVByZXBhcmVcIj09PWUmJnQ/NDAwLWk6NTAwOjIwMC1pOjEwMC1pfSh0KTtpZigwPT09cil7USgpO3RyeXtlKCk7fWZpbmFsbHl7fXJldHVybiB7Y2FuY2VsOigpPT57fX19cmV0dXJuIHRoaXMudGFza3NbaV09e2ZuOmUsbWV0YWRhdGE6dCxwcmlvcml0eTpyLGlkOml9LHRoaXMudGFza1F1ZXVlLnB1c2goaSksdGhpcy5pbnZva2VyLnRyaWdnZXIoKSx7Y2FuY2VsOigpPT57ZGVsZXRlIHRoaXMudGFza3NbaV07fX19cHJvY2Vzcygpe1EoKTt0cnl7aWYodGhpcy50YXNrUXVldWU9dGhpcy50YXNrUXVldWUuZmlsdGVyKChlPT4hIXRoaXMudGFza3NbZV0pKSwhdGhpcy50YXNrUXVldWUubGVuZ3RoKXJldHVybjtjb25zdCBlPXRoaXMucGljaygpO2lmKG51bGw9PT1lKXJldHVybjtjb25zdCB0PXRoaXMudGFza3NbZV07aWYoZGVsZXRlIHRoaXMudGFza3NbZV0sdGhpcy50YXNrUXVldWUubGVuZ3RoJiZ0aGlzLmludm9rZXIudHJpZ2dlcigpLCF0KXJldHVybjt0LmZuKCk7fWZpbmFsbHl7fX1waWNrKCl7bGV0IGU9bnVsbCx0PTEvMDtmb3IobGV0IGk9MDtpPHRoaXMudGFza1F1ZXVlLmxlbmd0aDtpKyspe2NvbnN0IHI9dGhpcy50YXNrc1t0aGlzLnRhc2tRdWV1ZVtpXV07ci5wcmlvcml0eTx0JiYodD1yLnByaW9yaXR5LGU9aSk7fWlmKG51bGw9PT1lKXJldHVybiBudWxsO2NvbnN0IGk9dGhpcy50YXNrUXVldWVbZV07cmV0dXJuIHRoaXMudGFza1F1ZXVlLnNwbGljZShlLDEpLGl9cmVtb3ZlKCl7dGhpcy5pbnZva2VyLnJlbW92ZSgpO319Y2xhc3MgbXd7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMudGFyZ2V0PWUsdGhpcy5wYXJlbnQ9dCx0aGlzLm1hcElkPWksdGhpcy5jYWxsYmFja3M9e30sdGhpcy5jYW5jZWxDYWxsYmFja3M9e30saihbXCJyZWNlaXZlXCJdLHRoaXMpLHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdGhpcy5yZWNlaXZlLCExKSx0aGlzLnNjaGVkdWxlcj1uZXcgZnc7fXNlbmQoZSx0LGkscixuPSExLG8pe2NvbnN0IHM9TWF0aC5yb3VuZCgxZTE4Kk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMCwxMCk7aSYmKGkubWV0YWRhdGE9byx0aGlzLmNhbGxiYWNrc1tzXT1pKTtjb25zdCBhPW5ldyBTZXQ7cmV0dXJuIHRoaXMudGFyZ2V0LnBvc3RNZXNzYWdlKHtpZDpzLHR5cGU6ZSxoYXNDYWxsYmFjazohIWksdGFyZ2V0TWFwSWQ6cixtdXN0UXVldWU6bixzb3VyY2VNYXBJZDp0aGlzLm1hcElkLGRhdGE6RHModCxhKX0sYSkse2NhbmNlbDooKT0+e2kmJmRlbGV0ZSB0aGlzLmNhbGxiYWNrc1tzXSx0aGlzLnRhcmdldC5wb3N0TWVzc2FnZSh7aWQ6cyx0eXBlOlwiPGNhbmNlbD5cIix0YXJnZXRNYXBJZDpyLHNvdXJjZU1hcElkOnRoaXMubWFwSWR9KTt9fX1yZWNlaXZlKGUpe2NvbnN0IHQ9ZS5kYXRhLGk9dC5pZDtpZihpJiYoIXQudGFyZ2V0TWFwSWR8fHRoaXMubWFwSWQ9PT10LnRhcmdldE1hcElkKSlpZihcIjxjYW5jZWw+XCI9PT10LnR5cGUpe2NvbnN0IGU9dGhpcy5jYW5jZWxDYWxsYmFja3NbaV07ZGVsZXRlIHRoaXMuY2FuY2VsQ2FsbGJhY2tzW2ldLGUmJmUuY2FuY2VsKCk7fWVsc2UgaWYodC5tdXN0UXVldWV8fFEoKSl7Y29uc3QgZT10aGlzLmNhbGxiYWNrc1tpXTt0aGlzLmNhbmNlbENhbGxiYWNrc1tpXT10aGlzLnNjaGVkdWxlci5hZGQoKCgpPT50aGlzLnByb2Nlc3NUYXNrKGksdCkpLGUmJmUubWV0YWRhdGF8fHt0eXBlOlwibWVzc2FnZVwifSk7fWVsc2UgdGhpcy5wcm9jZXNzVGFzayhpLHQpO31wcm9jZXNzVGFzayhlLHQpe2lmKFwiPHJlc3BvbnNlPlwiPT09dC50eXBlKXtjb25zdCBpPXRoaXMuY2FsbGJhY2tzW2VdO2RlbGV0ZSB0aGlzLmNhbGxiYWNrc1tlXSxpJiYodC5lcnJvcj9pKFBzKHQuZXJyb3IpKTppKG51bGwsUHModC5kYXRhKSkpO31lbHNlIHtjb25zdCBpPW5ldyBTZXQscj10Lmhhc0NhbGxiYWNrPyh0LHIpPT57ZGVsZXRlIHRoaXMuY2FuY2VsQ2FsbGJhY2tzW2VdLHRoaXMudGFyZ2V0LnBvc3RNZXNzYWdlKHtpZDplLHR5cGU6XCI8cmVzcG9uc2U+XCIsc291cmNlTWFwSWQ6dGhpcy5tYXBJZCxlcnJvcjp0P0RzKHQpOm51bGwsZGF0YTpEcyhyLGkpfSxpKTt9OmU9Pnt9LG49UHModC5kYXRhKTtpZih0aGlzLnBhcmVudFt0LnR5cGVdKXRoaXMucGFyZW50W3QudHlwZV0odC5zb3VyY2VNYXBJZCxuLHIpO2Vsc2UgaWYodGhpcy5wYXJlbnQuZ2V0V29ya2VyU291cmNlKXtjb25zdCBlPXQudHlwZS5zcGxpdChcIi5cIik7dGhpcy5wYXJlbnQuZ2V0V29ya2VyU291cmNlKHQuc291cmNlTWFwSWQsZVswXSxuLnNvdXJjZSxuLnNjb3BlKVtlWzFdXShuLHIpO31lbHNlIHIobmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCBmdW5jdGlvbiAke3QudHlwZX1gKSk7fX1yZW1vdmUoKXt0aGlzLnNjaGVkdWxlci5yZW1vdmUoKSx0aGlzLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMucmVjZWl2ZSwhMSk7fX1jbGFzcyBfd3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMud29ya2VyUG9vbD1lLHRoaXMuYWN0b3JzPVtdLHRoaXMuY3VycmVudEFjdG9yPTAsdGhpcy5pZD1GKCk7Y29uc3QgaT10aGlzLndvcmtlclBvb2wuYWNxdWlyZSh0aGlzLmlkKTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKyl7Y29uc3Qgcj1uZXcgX3cuQWN0b3IoaVtlXSx0LHRoaXMuaWQpO3IubmFtZT1gV29ya2VyICR7ZX1gLHRoaXMuYWN0b3JzLnB1c2gocik7fXRoaXMucmVhZHk9ITEsdGhpcy5icm9hZGNhc3QoXCJjaGVja0lmUmVhZHlcIixudWxsLCgoKT0+e3RoaXMucmVhZHk9ITA7fSkpO31icm9hZGNhc3QoZSx0LGkpe1IodGhpcy5hY3RvcnMsKChpLHIpPT57aS5zZW5kKGUsdCxyKTt9KSxpPWl8fGZ1bmN0aW9uKCl7fSk7fWdldEFjdG9yKCl7cmV0dXJuIHRoaXMuY3VycmVudEFjdG9yPSh0aGlzLmN1cnJlbnRBY3RvcisxKSV0aGlzLmFjdG9ycy5sZW5ndGgsdGhpcy5hY3RvcnNbdGhpcy5jdXJyZW50QWN0b3JdfXJlbW92ZSgpe3RoaXMuYWN0b3JzLmZvckVhY2goKGU9PntlLnJlbW92ZSgpO30pKSx0aGlzLmFjdG9ycz1bXSx0aGlzLndvcmtlclBvb2wucmVsZWFzZSh0aGlzLmlkKTt9fV93LkFjdG9yPW13O2NsYXNzIGd3IGV4dGVuZHMgSXR7Y29uc3RydWN0b3IoZSx0LGkscil7c3VwZXIoKSx0aGlzLnNjb3BlPWksdGhpcy5fb3B0aW9ucz1lLHRoaXMucHJvcGVydGllcz1uZXcgbGEodCksdGhpcy5fdHJhbnNpdGlvbmFibGU9bmV3IHJhKHQsbmV3IE1hcChyKSksdGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VHJhbnNpdGlvbk9yVmFsdWUoZS5wcm9wZXJ0aWVzKSx0aGlzLl90cmFuc2l0aW9uaW5nPXRoaXMuX3RyYW5zaXRpb25hYmxlLnVudHJhbnNpdGlvbmVkKCk7fXVwZGF0ZUNvbmZpZyhlKXt0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXRUcmFuc2l0aW9uT3JWYWx1ZSh0aGlzLl9vcHRpb25zLnByb3BlcnRpZXMsbmV3IE1hcChlKSk7fXVwZGF0ZVRyYW5zaXRpb25zKGUpe3RoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudHJhbnNpdGlvbmVkKGUsdGhpcy5fdHJhbnNpdGlvbmluZyk7fWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmluZy5oYXNUcmFuc2l0aW9uKCl9cmVjYWxjdWxhdGUoZSl7dGhpcy5wcm9wZXJ0aWVzPXRoaXMuX3RyYW5zaXRpb25pbmcucG9zc2libHlFdmFsdWF0ZShlKTt9Z2V0KCl7cmV0dXJuIHRoaXMuX29wdGlvbnMucHJvcGVydGllcz10aGlzLl90cmFuc2l0aW9uYWJsZS5zZXJpYWxpemUoKSx0aGlzLl9vcHRpb25zfXNldChlLHQpe3RoaXMuX29wdGlvbnM9ZSx0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXRUcmFuc2l0aW9uT3JWYWx1ZShlLnByb3BlcnRpZXMsdCk7fXNoYWRvd3NFbmFibGVkKCl7cmV0dXJuICEhdGhpcy5wcm9wZXJ0aWVzJiYhMD09PXRoaXMucHJvcGVydGllcy5nZXQoXCJjYXN0LXNoYWRvd3NcIil9fWNvbnN0IHl3PW5ldyBkYSh7Y29sb3I6bmV3IGNhKEN0LnByb3BlcnRpZXNfbGlnaHRfYW1iaWVudC5jb2xvciksaW50ZW5zaXR5Om5ldyBjYShDdC5wcm9wZXJ0aWVzX2xpZ2h0X2FtYmllbnQuaW50ZW5zaXR5KX0pLHh3PW5ldyBkYSh7ZGlyZWN0aW9uOm5ldyBjbGFzc3tjb25zdHJ1Y3RvcihlKXt0aGlzLnNwZWNpZmljYXRpb249ZTt9cG9zc2libHlFdmFsdWF0ZShlLHQpe3JldHVybiBmdW5jdGlvbihbZSx0XSl7Y29uc3QgaT1LKFsxLGUsdF0pO3JldHVybiB7eDppLngseTppLnksejppLnp9fShlLmV4cHJlc3Npb24uZXZhbHVhdGUodCkpfWludGVycG9sYXRlKGUsdCxpKXtyZXR1cm4ge3g6V3IoZS54LHQueCxpKSx5OldyKGUueSx0LnksaSksejpXcihlLnosdC56LGkpfX19KEN0LnByb3BlcnRpZXNfbGlnaHRfZGlyZWN0aW9uYWwuZGlyZWN0aW9uKSxjb2xvcjpuZXcgY2EoQ3QucHJvcGVydGllc19saWdodF9kaXJlY3Rpb25hbC5jb2xvciksaW50ZW5zaXR5Om5ldyBjYShDdC5wcm9wZXJ0aWVzX2xpZ2h0X2RpcmVjdGlvbmFsLmludGVuc2l0eSksXCJjYXN0LXNoYWRvd3NcIjpuZXcgY2EoQ3QucHJvcGVydGllc19saWdodF9kaXJlY3Rpb25hbFtcImNhc3Qtc2hhZG93c1wiXSksXCJzaGFkb3ctaW50ZW5zaXR5XCI6bmV3IGNhKEN0LnByb3BlcnRpZXNfbGlnaHRfZGlyZWN0aW9uYWxbXCJzaGFkb3ctaW50ZW5zaXR5XCJdKX0pO2NsYXNzIHZ3e2NvbnN0cnVjdG9yKGUsdCxpLHIpe3RoaXMuc2NyZWVuQm91bmRzPWUsdGhpcy5jYW1lcmFQb2ludD10LHRoaXMuX3NjcmVlblJheWNhc3RDYWNoZT17fSx0aGlzLl9jYW1lcmFSYXljYXN0Q2FjaGU9e30sdGhpcy5pc0Fib3ZlSG9yaXpvbj1pLHRoaXMuc2NyZWVuR2VvbWV0cnk9dGhpcy5idWZmZXJlZFNjcmVlbkdlb21ldHJ5KDApLHRoaXMuc2NyZWVuR2VvbWV0cnlNZXJjYXRvcj10aGlzLl9idWZmZXJlZFNjcmVlbk1lcmNhdG9yKDAscik7fXN0YXRpYyBjcmVhdGVGcm9tU2NyZWVuUG9pbnRzKGUsdCl7bGV0IGkscjtpZihlIGluc3RhbmNlb2YgeXx8XCJudW1iZXJcIj09dHlwZW9mIGVbMF0pe2NvbnN0IG49eS5jb252ZXJ0KGUpO2k9W25dLHI9dC5pc1BvaW50QWJvdmVIb3Jpem9uKG4pO31lbHNlIHtjb25zdCBuPXkuY29udmVydChlWzBdKSxvPXkuY29udmVydChlWzFdKTtpPVtuLG9dLHI9UyhuLG8pLmV2ZXJ5KChlPT50LmlzUG9pbnRBYm92ZUhvcml6b24oZSkpKTt9cmV0dXJuIG5ldyB2dyhpLHQuZ2V0Q2FtZXJhUG9pbnQoKSxyLHQpfWlzUG9pbnRRdWVyeSgpe3JldHVybiAxPT09dGhpcy5zY3JlZW5Cb3VuZHMubGVuZ3RofWJ1ZmZlcmVkU2NyZWVuR2VvbWV0cnkoZSl7cmV0dXJuIFModGhpcy5zY3JlZW5Cb3VuZHNbMF0sMT09PXRoaXMuc2NyZWVuQm91bmRzLmxlbmd0aD90aGlzLnNjcmVlbkJvdW5kc1swXTp0aGlzLnNjcmVlbkJvdW5kc1sxXSxlKX1idWZmZXJlZENhbWVyYUdlb21ldHJ5KGUpe2NvbnN0IHQ9dGhpcy5zY3JlZW5Cb3VuZHNbMF0saT0xPT09dGhpcy5zY3JlZW5Cb3VuZHMubGVuZ3RoP3RoaXMuc2NyZWVuQm91bmRzWzBdLmFkZChuZXcgeSgxLDEpKTp0aGlzLnNjcmVlbkJvdW5kc1sxXSxyPVModCxpLDAsITEpO3JldHVybiB0aGlzLmNhbWVyYVBvaW50Lnk+aS55JiYodGhpcy5jYW1lcmFQb2ludC54PnQueCYmdGhpcy5jYW1lcmFQb2ludC54PGkueD9yLnNwbGljZSgzLDAsdGhpcy5jYW1lcmFQb2ludCk6dGhpcy5jYW1lcmFQb2ludC54Pj1pLng/clsyXT10aGlzLmNhbWVyYVBvaW50OnRoaXMuY2FtZXJhUG9pbnQueDw9dC54JiYoclszXT10aGlzLmNhbWVyYVBvaW50KSksZnVuY3Rpb24oZSx0KXtjb25zdCBpPVtdO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXtjb25zdCBuPVAoci0xLC0xLGUubGVuZ3RoLTEpLG89UChyKzEsLTEsZS5sZW5ndGgtMSkscz1lW3JdLGE9ZVtvXSxsPWVbbl0uc3ViKHMpLnVuaXQoKSxjPWEuc3ViKHMpLnVuaXQoKSxoPWMuYW5nbGVXaXRoU2VwKGwueCxsLnkpLHU9bC5hZGQoYykudW5pdCgpLm11bHQoLTEqdC9NYXRoLnNpbihoLzIpKTtpLnB1c2gocy5hZGQodSkpO31yZXR1cm4gaX0ocixlKX1idWZmZXJlZENhbWVyYUdlb21ldHJ5R2xvYmUoZSl7Y29uc3QgdD10aGlzLnNjcmVlbkJvdW5kc1swXSxpPTE9PT10aGlzLnNjcmVlbkJvdW5kcy5sZW5ndGg/dGhpcy5zY3JlZW5Cb3VuZHNbMF0uYWRkKG5ldyB5KDEsMSkpOnRoaXMuc2NyZWVuQm91bmRzWzFdLHI9Uyh0LGksZSksbj10aGlzLmNhbWVyYVBvaW50LmNsb25lKCk7c3dpdGNoKDMqKChuLnk+dC55KSsobi55PmkueSkpKygobi54PnQueCkrKG4ueD5pLngpKSl7Y2FzZSAwOnJbMF09bixyWzRdPW4uY2xvbmUoKTticmVhaztjYXNlIDE6ci5zcGxpY2UoMSwwLG4pO2JyZWFrO2Nhc2UgMjpyWzFdPW47YnJlYWs7Y2FzZSAzOnIuc3BsaWNlKDQsMCxuKTticmVhaztjYXNlIDU6ci5zcGxpY2UoMiwwLG4pO2JyZWFrO2Nhc2UgNjpyWzNdPW47YnJlYWs7Y2FzZSA3OnIuc3BsaWNlKDMsMCxuKTticmVhaztjYXNlIDg6clsyXT1uO31yZXR1cm4gcn1jb250YWluc1RpbGUoZSx0LGkscj0wKXtjb25zdCBuPWUucXVlcnlQYWRkaW5nL3QuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwrMSxvPWk/dGhpcy5fYnVmZmVyZWRDYW1lcmFNZXJjYXRvcihuLHQpOnRoaXMuX2J1ZmZlcmVkU2NyZWVuTWVyY2F0b3Iobix0KTtsZXQgcz1lLnRpbGVJRC53cmFwKyhvLnVud3JhcHBlZD9yOjApO2NvbnN0IGE9by5wb2x5Z29uLm1hcCgodD0+TWcoZS50aWxlVHJhbnNmb3JtLHQscykpKTtpZighVHAoYSwwLDAsc3Isc3IpKXJldHVybjtzPWUudGlsZUlELndyYXArKHRoaXMuc2NyZWVuR2VvbWV0cnlNZXJjYXRvci51bndyYXBwZWQ/cjowKTtjb25zdCBsPXRoaXMuc2NyZWVuR2VvbWV0cnlNZXJjYXRvci5wb2x5Z29uLm1hcCgodD0+QWcoZS50aWxlVHJhbnNmb3JtLHQscykpKSxjPWwubWFwKChlPT5uZXcgeShlWzBdLGVbMV0pKSksaD10LmdldEZyZWVDYW1lcmFPcHRpb25zKCkucG9zaXRpb258fG5ldyBlcCgwLDAsMCksdT1BZyhlLnRpbGVUcmFuc2Zvcm0saCxzKSxkPWwubWFwKChlPT57Y29uc3QgdD1NdS5zdWIoZSxlLHUpO3JldHVybiBNdS5ub3JtYWxpemUodCx0KSxuZXcgVXUodSx0KX0pKSxwPVh4KGUsMSx0Lnpvb20pKnQuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw7cmV0dXJuIHtxdWVyeUdlb21ldHJ5OnRoaXMsdGlsZXNwYWNlR2VvbWV0cnk6Yyx0aWxlc3BhY2VSYXlzOmQsYnVmZmVyZWRUaWxlc3BhY2VHZW9tZXRyeTphLGJ1ZmZlcmVkVGlsZXNwYWNlQm91bmRzOihmPUEoYSksZi5taW4ueD16KGYubWluLngsMCxzciksZi5taW4ueT16KGYubWluLnksMCxzciksZi5tYXgueD16KGYubWF4LngsMCxzciksZi5tYXgueT16KGYubWF4LnksMCxzciksZiksdGlsZTplLHRpbGVJRDplLnRpbGVJRCxwaXhlbFRvVGlsZVVuaXRzRmFjdG9yOnB9O3ZhciBmO31fYnVmZmVyZWRTY3JlZW5NZXJjYXRvcihlLHQpe2NvbnN0IGk9VHcoZSk7aWYodGhpcy5fc2NyZWVuUmF5Y2FzdENhY2hlW2ldKXJldHVybiB0aGlzLl9zY3JlZW5SYXljYXN0Q2FjaGVbaV07e2xldCByO3JldHVybiByPVwiZ2xvYmVcIj09PXQucHJvamVjdGlvbi5uYW1lP3RoaXMuX3Byb2plY3RBbmRSZXNhbXBsZSh0aGlzLmJ1ZmZlcmVkU2NyZWVuR2VvbWV0cnkoZSksdCk6e3BvbHlnb246dGhpcy5idWZmZXJlZFNjcmVlbkdlb21ldHJ5KGUpLm1hcCgoZT0+dC5wb2ludENvb3JkaW5hdGUzRChlKSkpLHVud3JhcHBlZDohMH0sdGhpcy5fc2NyZWVuUmF5Y2FzdENhY2hlW2ldPXIscn19X2J1ZmZlcmVkQ2FtZXJhTWVyY2F0b3IoZSx0KXtjb25zdCBpPVR3KGUpO2lmKHRoaXMuX2NhbWVyYVJheWNhc3RDYWNoZVtpXSlyZXR1cm4gdGhpcy5fY2FtZXJhUmF5Y2FzdENhY2hlW2ldO3tsZXQgcjtyZXR1cm4gcj1cImdsb2JlXCI9PT10LnByb2plY3Rpb24ubmFtZT90aGlzLl9wcm9qZWN0QW5kUmVzYW1wbGUodGhpcy5idWZmZXJlZENhbWVyYUdlb21ldHJ5R2xvYmUoZSksdCk6e3BvbHlnb246dGhpcy5idWZmZXJlZENhbWVyYUdlb21ldHJ5KGUpLm1hcCgoZT0+dC5wb2ludENvb3JkaW5hdGUzRChlKSkpLHVud3JhcHBlZDohMH0sdGhpcy5fY2FtZXJhUmF5Y2FzdENhY2hlW2ldPXIscn19X3Byb2plY3RBbmRSZXNhbXBsZShlLHQpe2NvbnN0IGk9ZnVuY3Rpb24oZSx0KXtjb25zdCBpPXh1Lm11bHRpcGx5KFtdLHQucGl4ZWxNYXRyaXgsdC5nbG9iZU1hdHJpeCkscj1bMCwtWXUsMCwxXSxuPVswLFl1LDAsMV0sbz1bMCwwLDAsMV07dXUudHJhbnNmb3JtTWF0NChyLHIsaSksdXUudHJhbnNmb3JtTWF0NChuLG4saSksdXUudHJhbnNmb3JtTWF0NChvLG8saSk7Y29uc3Qgcz1uZXcgeShyWzBdL3JbM10sclsxXS9yWzNdKSxhPW5ldyB5KG5bMF0vblszXSxuWzFdL25bM10pLGw9d3AoZSxzKSYmclszXTxvWzNdLGM9d3AoZSxhKSYmblszXTxvWzNdO2lmKCFsJiYhYylyZXR1cm4gbnVsbDtjb25zdCBoPWZ1bmN0aW9uKGUsdCxpKXtmb3IobGV0IHI9MTtyPGUubGVuZ3RoO3IrKyl7Y29uc3Qgbj13dyh0LnBvaW50Q29vcmRpbmF0ZTNEKGVbci0xXSkueCksbz13dyh0LnBvaW50Q29vcmRpbmF0ZTNEKGVbcl0pLngpO2lmKGk8MCl7aWYobjxvKXJldHVybiB7aWR4OnIsdDotbi8oby0xLW4pfX1lbHNlIGlmKG88bilyZXR1cm4ge2lkeDpyLHQ6KDEtbikvKG8rMS1uKX19cmV0dXJuIG51bGx9KGUsdCxsPy0xOjEpO2lmKCFoKXJldHVybiBudWxsO2NvbnN0e2lkeDp1LHQ6ZH09aDtsZXQgcD11PjE/YncoZS5zbGljZSgwLHUpLHQpOltdLGY9dTxlLmxlbmd0aD9idyhlLnNsaWNlKHUpLHQpOltdO3A9cC5tYXAoKGU9Pm5ldyB5KHd3KGUueCksZS55KSkpLGY9Zi5tYXAoKGU9Pm5ldyB5KHd3KGUueCksZS55KSkpO2NvbnN0IG09Wy4uLnBdOzA9PT1tLmxlbmd0aCYmbS5wdXNoKGZbZi5sZW5ndGgtMV0pO2NvbnN0IF89V3IobVttLmxlbmd0aC0xXS55LCgwPT09Zi5sZW5ndGg/cFswXTpmWzBdKS55LGQpO2xldCBnO3JldHVybiBnPWw/W25ldyB5KDAsXyksbmV3IHkoMCwwKSxuZXcgeSgxLDApLG5ldyB5KDEsXyldOltuZXcgeSgxLF8pLG5ldyB5KDEsMSksbmV3IHkoMCwxKSxuZXcgeSgwLF8pXSxtLnB1c2goLi4uZyksMD09PWYubGVuZ3RoP20ucHVzaChwWzBdKTptLnB1c2goLi4uZikse3BvbHlnb246bS5tYXAoKGU9Pm5ldyBlcChlLngsZS55KSkpLHVud3JhcHBlZDohMX19KGUsdCk7aWYoaSlyZXR1cm4gaTtjb25zdCByPWZ1bmN0aW9uKGUsdCl7bGV0IGk9ITEscj0tMS8wLG49MDtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoLTE7dCsrKWVbdF0ueD5yJiYocj1lW3RdLngsbj10KTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoLTE7dCsrKXtjb25zdCByPShuK3QpJShlLmxlbmd0aC0xKSxvPWVbcl0scz1lW3IrMV07TWF0aC5hYnMoby54LXMueCk+LjUmJihvLng8cy54PyhvLngrPTEsMD09PXImJihlW2UubGVuZ3RoLTFdLngrPTEpKToocy54Kz0xLHIrMT09PWUubGVuZ3RoLTEmJihlWzBdLngrPTEpKSxpPSEwKTt9Y29uc3Qgbz1HZCh0LmNlbnRlci5sbmcpO3JldHVybiBpJiZvPE1hdGguYWJzKG8tMSkmJmUuZm9yRWFjaCgoZT0+e2UueC09MTt9KSkse3BvbHlnb246ZSx1bndyYXBwZWQ6aX19KGJ3KGUsdCkubWFwKChlPT5uZXcgeSh3dyhlLngpLGUueSkpKSx0KTtyZXR1cm4ge3BvbHlnb246ci5wb2x5Z29uLm1hcCgoZT0+bmV3IGVwKGUueCxlLnkpKSksdW53cmFwcGVkOnIudW53cmFwcGVkfX19ZnVuY3Rpb24gYncoZSx0KXtyZXR1cm4gaXAoZSwoZT0+e2NvbnN0IGk9dC5wb2ludENvb3JkaW5hdGUzRChlKTtlLng9aS54LGUueT1pLnk7fSksMS8yNTYpfWZ1bmN0aW9uIHd3KGUpe3JldHVybiBlPDA/MStlJTE6ZSUxfWZ1bmN0aW9uIFR3KGUpe3JldHVybiAxMDAqZXwwfWZ1bmN0aW9uIEV3KGUsdCxpLHIsbil7Y29uc3Qgbz1mdW5jdGlvbihpLHIpe2lmKGkpcmV0dXJuIG4oaSk7aWYocil7ZS51cmwmJnIudGlsZXMmJmUudGlsZXMmJmRlbGV0ZSBlLnRpbGVzO2NvbnN0IGk9TyhrKHIsZSksW1widGlsZXNcIixcIm1pbnpvb21cIixcIm1heHpvb21cIixcImF0dHJpYnV0aW9uXCIsXCJtYXBib3hfbG9nb1wiLFwiYm91bmRzXCIsXCJzY2hlbWVcIixcInRpbGVTaXplXCIsXCJlbmNvZGluZ1wiXSk7ci52ZWN0b3JfbGF5ZXJzJiYoaS52ZWN0b3JMYXllcnM9ci52ZWN0b3JfbGF5ZXJzLGkudmVjdG9yTGF5ZXJJZHM9aS52ZWN0b3JMYXllcnMubWFwKChlPT5lLmlkKSkpLGkudGlsZXM9dC5jYW5vbmljYWxpemVUaWxlc2V0KGksZS51cmwpLG4obnVsbCxpKTt9fTtyZXR1cm4gZS51cmw/d2UodC50cmFuc2Zvcm1SZXF1ZXN0KHQubm9ybWFsaXplU291cmNlVVJMKGUudXJsLG51bGwsaSxyKSx5ZS5Tb3VyY2UpLG8pOmh0LmZyYW1lKCgoKT0+byhudWxsLGUpKSl9Y2xhc3MgTXd7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuYm91bmRzPVFsLmNvbnZlcnQodGhpcy52YWxpZGF0ZUJvdW5kcyhlKSksdGhpcy5taW56b29tPXR8fDAsdGhpcy5tYXh6b29tPWl8fDI0O312YWxpZGF0ZUJvdW5kcyhlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmND09PWUubGVuZ3RoP1tNYXRoLm1heCgtMTgwLGVbMF0pLE1hdGgubWF4KC05MCxlWzFdKSxNYXRoLm1pbigxODAsZVsyXSksTWF0aC5taW4oOTAsZVszXSldOlstMTgwLC05MCwxODAsOTBdfWNvbnRhaW5zKGUpe2NvbnN0IHQ9TWF0aC5wb3coMixlLnopLGk9TWF0aC5mbG9vcihHZCh0aGlzLmJvdW5kcy5nZXRXZXN0KCkpKnQpLHI9TWF0aC5mbG9vcihxZCh0aGlzLmJvdW5kcy5nZXROb3J0aCgpKSp0KSxuPU1hdGguY2VpbChHZCh0aGlzLmJvdW5kcy5nZXRFYXN0KCkpKnQpLG89TWF0aC5jZWlsKHFkKHRoaXMuYm91bmRzLmdldFNvdXRoKCkpKnQpO3JldHVybiBlLng+PWkmJmUueDxuJiZlLnk+PXImJmUueTxvfX1jbGFzcyBBd3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10LHRoaXMubmV4dFJvdz0wLHRoaXMuaW1hZ2U9bmV3IFpwKHt3aWR0aDplLGhlaWdodDp0fSksdGhpcy5wb3NpdGlvbnM9e30sdGhpcy51cGxvYWRlZD0hMTt9Z2V0RGFzaChlLHQpe2NvbnN0IGk9dGhpcy5nZXRLZXkoZSx0KTtyZXR1cm4gdGhpcy5wb3NpdGlvbnNbaV19dHJpbSgpe2NvbnN0IGU9dGhpcy53aWR0aCx0PXRoaXMuaGVpZ2h0PVUodGhpcy5uZXh0Um93KTt0aGlzLmltYWdlLnJlc2l6ZSh7d2lkdGg6ZSxoZWlnaHQ6dH0pO31nZXRLZXkoZSx0KXtyZXR1cm4gZS5qb2luKFwiLFwiKSt0fWdldERhc2hSYW5nZXMoZSx0LGkpe2NvbnN0IHI9W107bGV0IG49ZS5sZW5ndGglMj09MT8tZVtlLmxlbmd0aC0xXSppOjAsbz1lWzBdKmkscz0hMDtyLnB1c2goe2xlZnQ6bixyaWdodDpvLGlzRGFzaDpzLHplcm9MZW5ndGg6MD09PWVbMF19KTtsZXQgYT1lWzBdO2ZvcihsZXQgdD0xO3Q8ZS5sZW5ndGg7dCsrKXtzPSFzO2NvbnN0IGw9ZVt0XTtuPWEqaSxhKz1sLG89YSppLHIucHVzaCh7bGVmdDpuLHJpZ2h0Om8saXNEYXNoOnMsemVyb0xlbmd0aDowPT09bH0pO31yZXR1cm4gcn1hZGRSb3VuZERhc2goZSx0LGkpe2NvbnN0IHI9dC8yO2ZvcihsZXQgdD0taTt0PD1pO3QrKyl7Y29uc3Qgbj10aGlzLndpZHRoKih0aGlzLm5leHRSb3craSt0KTtsZXQgbz0wLHM9ZVtvXTtmb3IobGV0IGE9MDthPHRoaXMud2lkdGg7YSsrKXthL3MucmlnaHQ+MSYmKHM9ZVsrK29dKTtjb25zdCBsPU1hdGguYWJzKGEtcy5sZWZ0KSxjPU1hdGguYWJzKGEtcy5yaWdodCksaD1NYXRoLm1pbihsLGMpO2xldCB1O2NvbnN0IGQ9dC9pKihyKzEpO2lmKHMuaXNEYXNoKXtjb25zdCBlPXItTWF0aC5hYnMoZCk7dT1NYXRoLnNxcnQoaCpoK2UqZSk7fWVsc2UgdT1yLU1hdGguc3FydChoKmgrZCpkKTt0aGlzLmltYWdlLmRhdGFbbithXT1NYXRoLm1heCgwLE1hdGgubWluKDI1NSx1KzEyOCkpO319fWFkZFJlZ3VsYXJEYXNoKGUsdCl7Zm9yKGxldCB0PWUubGVuZ3RoLTE7dD49MDstLXQpe2NvbnN0IGk9ZVt0XSxyPWVbdCsxXTtpLnplcm9MZW5ndGg/ZS5zcGxpY2UodCwxKTpyJiZyLmlzRGFzaD09PWkuaXNEYXNoJiYoci5sZWZ0PWkubGVmdCxlLnNwbGljZSh0LDEpKTt9Y29uc3QgaT1lWzBdLHI9ZVtlLmxlbmd0aC0xXTtpLmlzRGFzaD09PXIuaXNEYXNoJiYoaS5sZWZ0PXIubGVmdC10aGlzLndpZHRoLHIucmlnaHQ9aS5yaWdodCt0aGlzLndpZHRoKTtjb25zdCBuPXRoaXMud2lkdGgqdGhpcy5uZXh0Um93O2xldCBvPTAscz1lW29dO2ZvcihsZXQgaT0wO2k8dGhpcy53aWR0aDtpKyspe2kvcy5yaWdodD4xJiYocz1lWysrb10pO2NvbnN0IHI9TWF0aC5hYnMoaS1zLmxlZnQpLGE9TWF0aC5hYnMoaS1zLnJpZ2h0KSxsPU1hdGgubWluKHIsYSk7dGhpcy5pbWFnZS5kYXRhW24raV09TWF0aC5tYXgoMCxNYXRoLm1pbigyNTUsKHMuaXNEYXNoP2w6LWwpK3QrMTI4KSk7fX1hZGREYXNoKGUsdCl7Y29uc3QgaT10aGlzLmdldEtleShlLHQpO2lmKHRoaXMucG9zaXRpb25zW2ldKXJldHVybiB0aGlzLnBvc2l0aW9uc1tpXTtjb25zdCByPVwicm91bmRcIj09PXQsbj1yPzc6MCxvPTIqbisxO2lmKHRoaXMubmV4dFJvdytvPnRoaXMuaGVpZ2h0KXJldHVybiBXKFwiTGluZUF0bGFzIG91dCBvZiBzcGFjZVwiKSxudWxsOzA9PT1lLmxlbmd0aCYmZS5wdXNoKDEpO2xldCBzPTA7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspZVt0XTwwJiYoVyhcIk5lZ2F0aXZlIHZhbHVlIGlzIGZvdW5kIGluIGxpbmUgZGFzaGFycmF5LCByZXBsYWNpbmcgdmFsdWVzIHdpdGggMFwiKSxlW3RdPTApLHMrPWVbdF07aWYoMCE9PXMpe2NvbnN0IGk9dGhpcy53aWR0aC9zLG89dGhpcy5nZXREYXNoUmFuZ2VzKGUsdGhpcy53aWR0aCxpKTtyP3RoaXMuYWRkUm91bmREYXNoKG8saSxuKTp0aGlzLmFkZFJlZ3VsYXJEYXNoKG8sXCJzcXVhcmVcIj09PXQ/LjUqaTowKTt9Y29uc3QgYT10aGlzLm5leHRSb3crbjt0aGlzLm5leHRSb3crPW87Y29uc3QgbD17dGw6W2Esbl0sYnI6W3MsMF19O3JldHVybiB0aGlzLnBvc2l0aW9uc1tpXT1sLGx9fUlzKEF3LFwiTGluZUF0bGFzXCIpO2NvbnN0IFN3PTEqWV87Y2xhc3MgSXd7Y29uc3RydWN0b3IoZSl7Y29uc3QgdD17fSxpPVtdO2Zvcihjb25zdCByIGluIGUpe2NvbnN0IG49ZVtyXSxvPXRbcl09e307Zm9yKGNvbnN0IGUgaW4gbi5nbHlwaHMpe2NvbnN0IHQ9bi5nbHlwaHNbK2VdO2lmKCF0fHwwPT09dC5iaXRtYXAud2lkdGh8fDA9PT10LmJpdG1hcC5oZWlnaHQpY29udGludWU7Y29uc3Qgcj10Lm1ldHJpY3MubG9jYWxHbHlwaD9TdzoxLHM9e3g6MCx5OjAsdzp0LmJpdG1hcC53aWR0aCsyKnIsaDp0LmJpdG1hcC5oZWlnaHQrMipyfTtpLnB1c2gocyksb1tlXT1zO319Y29uc3R7dzpyLGg6bn09eV8oaSksbz1uZXcgWnAoe3dpZHRoOnJ8fDEsaGVpZ2h0Om58fDF9KTtmb3IoY29uc3QgaSBpbiBlKXtjb25zdCByPWVbaV07Zm9yKGNvbnN0IGUgaW4gci5nbHlwaHMpe2NvbnN0IG49ci5nbHlwaHNbK2VdO2lmKCFufHwwPT09bi5iaXRtYXAud2lkdGh8fDA9PT1uLmJpdG1hcC5oZWlnaHQpY29udGludWU7Y29uc3Qgcz10W2ldW2VdLGE9bi5tZXRyaWNzLmxvY2FsR2x5cGg/U3c6MTtacC5jb3B5KG4uYml0bWFwLG8se3g6MCx5OjB9LHt4OnMueCthLHk6cy55K2F9LG4uYml0bWFwKTt9fXRoaXMuaW1hZ2U9byx0aGlzLnBvc2l0aW9ucz10O319SXMoSXcsXCJHbHlwaEF0bGFzXCIpO2NsYXNzIEN3e2NvbnN0cnVjdG9yKGUpe3RoaXMudGlsZUlEPW5ldyBCdShlLnRpbGVJRC5vdmVyc2NhbGVkWixlLnRpbGVJRC53cmFwLGUudGlsZUlELmNhbm9uaWNhbC56LGUudGlsZUlELmNhbm9uaWNhbC54LGUudGlsZUlELmNhbm9uaWNhbC55KSx0aGlzLnRpbGVab29tPWUudGlsZVpvb20sdGhpcy51aWQ9ZS51aWQsdGhpcy56b29tPWUuem9vbSx0aGlzLmNhbm9uaWNhbD1lLnRpbGVJRC5jYW5vbmljYWwsdGhpcy5waXhlbFJhdGlvPWUucGl4ZWxSYXRpbyx0aGlzLnRpbGVTaXplPWUudGlsZVNpemUsdGhpcy5zb3VyY2U9ZS5zb3VyY2UsdGhpcy5zY29wZT1lLnNjb3BlLHRoaXMub3ZlcnNjYWxpbmc9dGhpcy50aWxlSUQub3ZlcnNjYWxlRmFjdG9yKCksdGhpcy5zaG93Q29sbGlzaW9uQm94ZXM9ZS5zaG93Q29sbGlzaW9uQm94ZXMsdGhpcy5jb2xsZWN0UmVzb3VyY2VUaW1pbmc9ISFlLmNvbGxlY3RSZXNvdXJjZVRpbWluZyx0aGlzLnByb21vdGVJZD1lLnByb21vdGVJZCx0aGlzLmlzU3ltYm9sVGlsZT1lLmlzU3ltYm9sVGlsZSx0aGlzLnRpbGVUcmFuc2Zvcm09VGcoZS50aWxlSUQuY2Fub25pY2FsLGUucHJvamVjdGlvbiksdGhpcy5wcm9qZWN0aW9uPWUucHJvamVjdGlvbix0aGlzLmJyaWdodG5lc3M9ZS5icmlnaHRuZXNzLHRoaXMuZXh0cmFTaGFkb3dDYXN0ZXI9ISFlLmV4dHJhU2hhZG93Q2FzdGVyO31wYXJzZShlLHQsaSxyLG4pe3RoaXMuc3RhdHVzPVwicGFyc2luZ1wiLHRoaXMuZGF0YT1lLHRoaXMuY29sbGlzaW9uQm94QXJyYXk9bmV3IGVsO2NvbnN0IG89bmV3IG5tKE9iamVjdC5rZXlzKGUubGF5ZXJzKS5zb3J0KCkpLHM9bmV3IFptKHRoaXMudGlsZUlELHRoaXMucHJvbW90ZUlkKTtzLmJ1Y2tldExheWVySURzPVtdO2NvbnN0IGE9e30sbD1uZXcgQXcoMjU2LDI1NiksYz17ZmVhdHVyZUluZGV4OnMsaWNvbkRlcGVuZGVuY2llczp7fSxwYXR0ZXJuRGVwZW5kZW5jaWVzOnt9LGdseXBoRGVwZW5kZW5jaWVzOnt9LGxpbmVBdGxhczpsLGF2YWlsYWJsZUltYWdlczppLGJyaWdodG5lc3M6dGhpcy5icmlnaHRuZXNzfSxoPXQuZmFtaWxpZXNCeVNvdXJjZVt0aGlzLnNvdXJjZV07Zm9yKGNvbnN0IHQgaW4gaCl7Y29uc3Qgcj1lLmxheWVyc1t0XTtpZighciljb250aW51ZTtsZXQgbj0hMSxsPSExLHU9ITE7Zm9yKGNvbnN0IGUgb2YgaFt0XSlcInN5bWJvbFwiPT09ZVswXS50eXBlP249ITA6bD0hMCxlWzBdLmlzM0QoKSYmXCJtb2RlbFwiIT09ZVswXS50eXBlJiYodT0hMCk7aWYodGhpcy5leHRyYVNoYWRvd0Nhc3RlciYmIXUpY29udGludWU7aWYoITA9PT10aGlzLmlzU3ltYm9sVGlsZSYmIW4pY29udGludWU7aWYoITE9PT10aGlzLmlzU3ltYm9sVGlsZSYmIWwpY29udGludWU7MT09PXIudmVyc2lvbiYmVyhgVmVjdG9yIHRpbGUgc291cmNlIFwiJHt0aGlzLnNvdXJjZX1cIiBsYXllciBcIiR7dH1cIiBkb2VzIG5vdCB1c2UgdmVjdG9yIHRpbGUgc3BlYyB2MiBhbmQgdGhlcmVmb3JlIG1heSBoYXZlIHNvbWUgcmVuZGVyaW5nIGVycm9ycy5gKTtjb25zdCBkPW8uZW5jb2RlKHQpLHA9W107Zm9yKGxldCBlPTA7ZTxyLmxlbmd0aDtlKyspe2NvbnN0IGk9ci5mZWF0dXJlKGUpLG49cy5nZXRJZChpLHQpO3AucHVzaCh7ZmVhdHVyZTppLGlkOm4saW5kZXg6ZSxzb3VyY2VMYXllckluZGV4OmR9KTt9Zm9yKGNvbnN0IGUgb2YgaFt0XSl7Y29uc3QgdD1lWzBdOyghdGhpcy5leHRyYVNoYWRvd0Nhc3Rlcnx8dC5pczNEKCkmJlwibW9kZWxcIiE9PXQudHlwZSkmJih2b2lkIDAhPT10aGlzLmlzU3ltYm9sVGlsZSYmXCJzeW1ib2xcIj09PXQudHlwZSE9PXRoaXMuaXNTeW1ib2xUaWxlfHx0Lm1pbnpvb20mJnRoaXMuem9vbTxNYXRoLmZsb29yKHQubWluem9vbSl8fHQubWF4em9vbSYmdGhpcy56b29tPj10Lm1heHpvb218fFwibm9uZVwiIT09dC52aXNpYmlsaXR5JiYoencoZSx0aGlzLnpvb20sYy5icmlnaHRuZXNzLGkpLChhW3QuaWRdPXQuY3JlYXRlQnVja2V0KHtpbmRleDpzLmJ1Y2tldExheWVySURzLmxlbmd0aCxsYXllcnM6ZSx6b29tOnRoaXMuem9vbSxjYW5vbmljYWw6dGhpcy5jYW5vbmljYWwscGl4ZWxSYXRpbzp0aGlzLnBpeGVsUmF0aW8sb3ZlcnNjYWxpbmc6dGhpcy5vdmVyc2NhbGluZyxjb2xsaXNpb25Cb3hBcnJheTp0aGlzLmNvbGxpc2lvbkJveEFycmF5LHNvdXJjZUxheWVySW5kZXg6ZCxzb3VyY2VJRDp0aGlzLnNvdXJjZSxwcm9qZWN0aW9uOnRoaXMucHJvamVjdGlvbi5zcGVjfSkpLnBvcHVsYXRlKHAsYyx0aGlzLnRpbGVJRC5jYW5vbmljYWwsdGhpcy50aWxlVHJhbnNmb3JtKSxzLmJ1Y2tldExheWVySURzLnB1c2goZS5tYXAoKGU9PmUuaWQpKSkpKTt9fWxldCB1LGQscCxmO2wudHJpbSgpO2NvbnN0IG09e3R5cGU6XCJtYXliZVByZXBhcmVcIixpc1N5bWJvbFRpbGU6dGhpcy5pc1N5bWJvbFRpbGUsem9vbTp0aGlzLnpvb219LF89KCk9PntpZih1KXJldHVybiBuKHUpO2lmKHRoaXMuZXh0cmFTaGFkb3dDYXN0ZXIpdGhpcy5zdGF0dXM9XCJkb25lXCIsbihudWxsLHtidWNrZXRzOkwoYSkuZmlsdGVyKChlPT4hZS5pc0VtcHR5KCkpKSxmZWF0dXJlSW5kZXg6cyxjb2xsaXNpb25Cb3hBcnJheTpudWxsLGdseXBoQXRsYXNJbWFnZTpudWxsLGxpbmVBdGxhczpudWxsLGltYWdlQXRsYXM6bnVsbCxicmlnaHRuZXNzOmMuYnJpZ2h0bmVzcyxnbHlwaE1hcDpudWxsLGljb25NYXA6bnVsbCxnbHlwaFBvc2l0aW9uczpudWxsfSk7ZWxzZSBpZihkJiZwJiZmKXtjb25zdCBlPW5ldyBJdyhkKSx0PW5ldyBiXyhwLGYpO2Zvcihjb25zdCByIGluIGEpe2NvbnN0IG49YVtyXTtuIGluc3RhbmNlb2YgY3k/KHp3KG4ubGF5ZXJzLHRoaXMuem9vbSxjLmJyaWdodG5lc3MsaSksZGcobixkLGUucG9zaXRpb25zLHAsdC5pY29uUG9zaXRpb25zLHRoaXMuc2hvd0NvbGxpc2lvbkJveGVzLGksdGhpcy50aWxlSUQuY2Fub25pY2FsLHRoaXMudGlsZVpvb20sdGhpcy5wcm9qZWN0aW9uLHRoaXMuYnJpZ2h0bmVzcykpOm4uaGFzUGF0dGVybiYmKG4gaW5zdGFuY2VvZiBfeXx8biBpbnN0YW5jZW9mIExmfHxuIGluc3RhbmNlb2YgZGIpJiYoencobi5sYXllcnMsdGhpcy56b29tLGMuYnJpZ2h0bmVzcyxpKSxuLmFkZEZlYXR1cmVzKGMsdGhpcy50aWxlSUQuY2Fub25pY2FsLHQucGF0dGVyblBvc2l0aW9ucyxpLHRoaXMudGlsZVRyYW5zZm9ybSx0aGlzLmJyaWdodG5lc3MpKTt9dGhpcy5zdGF0dXM9XCJkb25lXCIsbihudWxsLHtidWNrZXRzOkwoYSkuZmlsdGVyKChlPT4hZS5pc0VtcHR5KCkpKSxmZWF0dXJlSW5kZXg6cyxjb2xsaXNpb25Cb3hBcnJheTp0aGlzLmNvbGxpc2lvbkJveEFycmF5LGdseXBoQXRsYXNJbWFnZTplLmltYWdlLGxpbmVBdGxhczpsLGltYWdlQXRsYXM6dCxicmlnaHRuZXNzOmMuYnJpZ2h0bmVzc30pO319O2lmKCF0aGlzLmV4dHJhU2hhZG93Q2FzdGVyKXtjb25zdCBlPXEoYy5nbHlwaERlcGVuZGVuY2llcywoZT0+T2JqZWN0LmtleXMoZSkubWFwKE51bWJlcikpKTtPYmplY3Qua2V5cyhlKS5sZW5ndGg/ci5zZW5kKFwiZ2V0R2x5cGhzXCIse3VpZDp0aGlzLnVpZCxzdGFja3M6ZSxzY29wZTp0aGlzLnNjb3BlfSwoKGUsdCk9Pnt1fHwodT1lLGQ9dCxfKCkpO30pLHZvaWQgMCwhMSxtKTpkPXt9O2NvbnN0IHQ9T2JqZWN0LmtleXMoYy5pY29uRGVwZW5kZW5jaWVzKTt0Lmxlbmd0aD9yLnNlbmQoXCJnZXRJbWFnZXNcIix7aWNvbnM6dCxzb3VyY2U6dGhpcy5zb3VyY2Usc2NvcGU6dGhpcy5zY29wZSx0aWxlSUQ6dGhpcy50aWxlSUQsdHlwZTpcImljb25zXCJ9LCgoZSx0KT0+e3V8fCh1PWUscD10LF8oKSk7fSksdm9pZCAwLCExLG0pOnA9e307Y29uc3QgaT1PYmplY3Qua2V5cyhjLnBhdHRlcm5EZXBlbmRlbmNpZXMpO2kubGVuZ3RoP3Iuc2VuZChcImdldEltYWdlc1wiLHtpY29uczppLHNvdXJjZTp0aGlzLnNvdXJjZSxzY29wZTp0aGlzLnNjb3BlLHRpbGVJRDp0aGlzLnRpbGVJRCx0eXBlOlwicGF0dGVybnNcIn0sKChlLHQpPT57dXx8KHU9ZSxmPXQsXygpKTt9KSx2b2lkIDAsITEsbSk6Zj17fTt9XygpO319ZnVuY3Rpb24gencoZSx0LGkscil7Y29uc3Qgbj1uZXcgZWEodCx7YnJpZ2h0bmVzczppfSk7Zm9yKGNvbnN0IHQgb2YgZSl0LnJlY2FsY3VsYXRlKG4scik7fWNsYXNzIER3e2NvbnN0cnVjdG9yKGUpe3RoaXMuZW50cmllcz17fSx0aGlzLnNjaGVkdWxlcj1lO31yZXF1ZXN0KGUsdCxpLHIpe2NvbnN0IG49dGhpcy5lbnRyaWVzW2VdPXRoaXMuZW50cmllc1tlXXx8e2NhbGxiYWNrczpbXX07aWYobi5yZXN1bHQpe2NvbnN0W2UsaV09bi5yZXN1bHQ7cmV0dXJuIHRoaXMuc2NoZWR1bGVyP3RoaXMuc2NoZWR1bGVyLmFkZCgoKCk9PntyKGUsaSk7fSksdCk6cihlLGkpLCgpPT57fX1yZXR1cm4gbi5jYWxsYmFja3MucHVzaChyKSxuLmNhbmNlbHx8KG4uY2FuY2VsPWkoKChpLHIpPT57bi5yZXN1bHQ9W2kscl07Zm9yKGNvbnN0IGUgb2Ygbi5jYWxsYmFja3MpdGhpcy5zY2hlZHVsZXI/dGhpcy5zY2hlZHVsZXIuYWRkKCgoKT0+e2UoaSxyKTt9KSx0KTplKGkscik7c2V0VGltZW91dCgoKCk9PmRlbGV0ZSB0aGlzLmVudHJpZXNbZV0pLDNlMyk7fSkpKSwoKT0+e24ucmVzdWx0fHwobi5jYWxsYmFja3M9bi5jYWxsYmFja3MuZmlsdGVyKChlPT5lIT09cikpLG4uY2FsbGJhY2tzLmxlbmd0aHx8KG4uY2FuY2VsKCksZGVsZXRlIHRoaXMuZW50cmllc1tlXSkpO319fWZ1bmN0aW9uIFB3KGUsdCxpKXtjb25zdCByPUpTT04uc3RyaW5naWZ5KGUucmVxdWVzdCk7cmV0dXJuIGUuZGF0YSYmKHRoaXMuZGVkdXBlZC5lbnRyaWVzW3JdPXtyZXN1bHQ6W251bGwsZS5kYXRhXX0pLHRoaXMuZGVkdXBlZC5yZXF1ZXN0KHIse3R5cGU6XCJwYXJzZVRpbGVcIixpc1N5bWJvbFRpbGU6ZS5pc1N5bWJvbFRpbGUsem9vbTplLnRpbGVab29tfSwodD0+e2NvbnN0IHI9VGUoZS5yZXF1ZXN0LCgoZSxyLG4sbyk9PntlP3QoZSk6ciYmdChudWxsLHt2ZWN0b3JUaWxlOmk/dm9pZCAwOm5ldyB0bShuZXcgU20ocikpLHJhd0RhdGE6cixjYWNoZUNvbnRyb2w6bixleHBpcmVzOm99KTt9KSk7cmV0dXJuICgpPT57ci5jYW5jZWwoKSx0KCk7fX0pLHQpfWNsYXNzIFJ3IGV4dGVuZHMgSXR7Y29uc3RydWN0b3IoZSx0LGkscil7aWYoc3VwZXIoKSx0aGlzLmlkPWUsdGhpcy5kaXNwYXRjaGVyPWksdGhpcy50eXBlPVwidmVjdG9yXCIsdGhpcy5taW56b29tPTAsdGhpcy5tYXh6b29tPTIyLHRoaXMuc2NoZW1lPVwieHl6XCIsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy5yZXBhcnNlT3ZlcnNjYWxlZD0hMCx0aGlzLmlzVGlsZUNsaXBwZWQ9ITAsdGhpcy5fbG9hZGVkPSExLGsodGhpcyxPKHQsW1widXJsXCIsXCJzY2hlbWVcIixcInRpbGVTaXplXCIsXCJwcm9tb3RlSWRcIl0pKSx0aGlzLl9vcHRpb25zPWsoe3R5cGU6XCJ2ZWN0b3JcIn0sdCksdGhpcy5fY29sbGVjdFJlc291cmNlVGltaW5nPSEhdC5jb2xsZWN0UmVzb3VyY2VUaW1pbmcsNTEyIT09dGhpcy50aWxlU2l6ZSl0aHJvdyBuZXcgRXJyb3IoXCJ2ZWN0b3IgdGlsZSBzb3VyY2VzIG11c3QgaGF2ZSBhIHRpbGVTaXplIG9mIDUxMlwiKTt0aGlzLnNldEV2ZW50ZWRQYXJlbnQociksdGhpcy5fdGlsZVdvcmtlcnM9e30sdGhpcy5fZGVkdXBlZD1uZXcgRHc7fWxvYWQoZSl7dGhpcy5fbG9hZGVkPSExLHRoaXMuZmlyZShuZXcgQXQoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInNvdXJjZVwifSkpO2NvbnN0IHQ9QXJyYXkuaXNBcnJheSh0aGlzLm1hcC5fbGFuZ3VhZ2UpP3RoaXMubWFwLl9sYW5ndWFnZS5qb2luKCk6dGhpcy5tYXAuX2xhbmd1YWdlLGk9dGhpcy5tYXAuX3dvcmxkdmlldzt0aGlzLl90aWxlSlNPTlJlcXVlc3Q9RXcodGhpcy5fb3B0aW9ucyx0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIsdCxpLCgocixuKT0+e3RoaXMuX3RpbGVKU09OUmVxdWVzdD1udWxsLHRoaXMuX2xvYWRlZD0hMCxyPyh0JiZjb25zb2xlLndhcm4oYEVuc3VyZSB0aGF0IHlvdXIgcmVxdWVzdGVkIGxhbmd1YWdlIHN0cmluZyBpcyBhIHZhbGlkIEJDUC00NyBjb2RlIG9yIGxpc3Qgb2YgY29kZXMuIEZvdW5kOiAke3R9YCksaSYmMiE9PWkubGVuZ3RoJiZjb25zb2xlLndhcm4oYFJlcXVlc3RlZCB3b3JsZHZpZXcgc3RyaW5ncyBtdXN0IGJlIGEgdmFsaWQgSVNPIGFscGhhLTIgY29kZS4gRm91bmQ6ICR7aX1gKSx0aGlzLmZpcmUobmV3IFN0KHIpKSk6biYmKGsodGhpcyxuKSxuLmJvdW5kcyYmKHRoaXMudGlsZUJvdW5kcz1uZXcgTXcobi5ib3VuZHMsdGhpcy5taW56b29tLHRoaXMubWF4em9vbSkpLEdlKG4udGlsZXMsdGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLl9jdXN0b21BY2Nlc3NUb2tlbiksdGhpcy5maXJlKG5ldyBBdChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcIm1ldGFkYXRhXCJ9KSksdGhpcy5maXJlKG5ldyBBdChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcImNvbnRlbnRcIn0pKSksZSYmZShyKTt9KSk7fWxvYWRlZCgpe3JldHVybiB0aGlzLl9sb2FkZWR9aGFzVGlsZShlKXtyZXR1cm4gIXRoaXMudGlsZUJvdW5kc3x8dGhpcy50aWxlQm91bmRzLmNvbnRhaW5zKGUuY2Fub25pY2FsKX1vbkFkZChlKXt0aGlzLm1hcD1lLHRoaXMubG9hZCgpO31yZWxvYWQoKXt0aGlzLmNhbmNlbFRpbGVKU09OUmVxdWVzdCgpO2NvbnN0IGU9cGEodGhpcy5pZCx0aGlzLnNjb3BlKTt0aGlzLmxvYWQoKCgpPT50aGlzLm1hcC5zdHlsZS5jbGVhclNvdXJjZShlKSkpO31zZXRUaWxlcyhlKXtyZXR1cm4gdGhpcy5fb3B0aW9ucy50aWxlcz1lLHRoaXMucmVsb2FkKCksdGhpc31zZXRVcmwoZSl7cmV0dXJuIHRoaXMudXJsPWUsdGhpcy5fb3B0aW9ucy51cmw9ZSx0aGlzLnJlbG9hZCgpLHRoaXN9b25SZW1vdmUoKXt0aGlzLmNhbmNlbFRpbGVKU09OUmVxdWVzdCgpO31zZXJpYWxpemUoKXtyZXR1cm4gayh7fSx0aGlzLl9vcHRpb25zKX1sb2FkVGlsZShlLHQpe2NvbnN0IGk9dGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLm5vcm1hbGl6ZVRpbGVVUkwoZS50aWxlSUQuY2Fub25pY2FsLnVybCh0aGlzLnRpbGVzLHRoaXMuc2NoZW1lKSkscj17cmVxdWVzdDp0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChpLHllLlRpbGUpLGRhdGE6dm9pZCAwLHVpZDplLnVpZCx0aWxlSUQ6ZS50aWxlSUQsdGlsZVpvb206ZS50aWxlWm9vbSx6b29tOmUudGlsZUlELm92ZXJzY2FsZWRaLHRpbGVTaXplOnRoaXMudGlsZVNpemUqZS50aWxlSUQub3ZlcnNjYWxlRmFjdG9yKCksdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWQsc2NvcGU6dGhpcy5zY29wZSxwaXhlbFJhdGlvOmh0LmRldmljZVBpeGVsUmF0aW8sc2hvd0NvbGxpc2lvbkJveGVzOnRoaXMubWFwLnNob3dDb2xsaXNpb25Cb3hlcyxwcm9tb3RlSWQ6dGhpcy5wcm9tb3RlSWQsaXNTeW1ib2xUaWxlOmUuaXNTeW1ib2xUaWxlLGJyaWdodG5lc3M6dGhpcy5tYXAuc3R5bGUmJnRoaXMubWFwLnN0eWxlLmdldEJyaWdodG5lc3MoKXx8MCxleHRyYVNoYWRvd0Nhc3RlcjplLmlzRXh0cmFTaGFkb3dDYXN0ZXJ9O2lmKHIucmVxdWVzdC5jb2xsZWN0UmVzb3VyY2VUaW1pbmc9dGhpcy5fY29sbGVjdFJlc291cmNlVGltaW5nLGUuYWN0b3ImJlwiZXhwaXJlZFwiIT09ZS5zdGF0ZSlcImxvYWRpbmdcIj09PWUuc3RhdGU/ZS5yZWxvYWRDYWxsYmFjaz10OmUucmVxdWVzdD1lLmFjdG9yLnNlbmQoXCJyZWxvYWRUaWxlXCIscixuLmJpbmQodGhpcykpO2Vsc2UgaWYoZS5hY3Rvcj10aGlzLl90aWxlV29ya2Vyc1tpXT10aGlzLl90aWxlV29ya2Vyc1tpXXx8dGhpcy5kaXNwYXRjaGVyLmdldEFjdG9yKCksdGhpcy5kaXNwYXRjaGVyLnJlYWR5KWUucmVxdWVzdD1lLmFjdG9yLnNlbmQoXCJsb2FkVGlsZVwiLHIsbi5iaW5kKHRoaXMpLHZvaWQgMCwhMCk7ZWxzZSB7Y29uc3QgdD1Qdy5jYWxsKHtkZWR1cGVkOnRoaXMuX2RlZHVwZWR9LHIsKCh0LGkpPT57dHx8IWk/bi5jYWxsKHRoaXMsdCk6KHIuZGF0YT17Y2FjaGVDb250cm9sOmkuY2FjaGVDb250cm9sLGV4cGlyZXM6aS5leHBpcmVzLHJhd0RhdGE6aS5yYXdEYXRhLnNsaWNlKDApfSxlLmFjdG9yJiZlLmFjdG9yLnNlbmQoXCJsb2FkVGlsZVwiLHIsbi5iaW5kKHRoaXMpLHZvaWQgMCwhMCkpO30pLCEwKTtlLnJlcXVlc3Q9e2NhbmNlbDp0fTt9ZnVuY3Rpb24gbihpLHIpe3JldHVybiBkZWxldGUgZS5yZXF1ZXN0LGUuYWJvcnRlZD90KG51bGwpOmkmJjQwNCE9PWkuc3RhdHVzP3QoaSk6KHImJnIucmVzb3VyY2VUaW1pbmcmJihlLnJlc291cmNlVGltaW5nPXIucmVzb3VyY2VUaW1pbmcpLHRoaXMubWFwLl9yZWZyZXNoRXhwaXJlZFRpbGVzJiZyJiZlLnNldEV4cGlyeURhdGEociksZS5sb2FkVmVjdG9yRGF0YShyLHRoaXMubWFwLnBhaW50ZXIpLGdlKHRoaXMuZGlzcGF0Y2hlciksdChudWxsKSx2b2lkKGUucmVsb2FkQ2FsbGJhY2smJih0aGlzLmxvYWRUaWxlKGUsZS5yZWxvYWRDYWxsYmFjayksZS5yZWxvYWRDYWxsYmFjaz1udWxsKSkpfX1hYm9ydFRpbGUoZSl7ZS5yZXF1ZXN0JiYoZS5yZXF1ZXN0LmNhbmNlbCgpLGRlbGV0ZSBlLnJlcXVlc3QpLGUuYWN0b3ImJmUuYWN0b3Iuc2VuZChcImFib3J0VGlsZVwiLHt1aWQ6ZS51aWQsdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWQsc2NvcGU6dGhpcy5zY29wZX0pO311bmxvYWRUaWxlKGUpe2UudW5sb2FkVmVjdG9yRGF0YSgpLGUuYWN0b3ImJmUuYWN0b3Iuc2VuZChcInJlbW92ZVRpbGVcIix7dWlkOmUudWlkLHR5cGU6dGhpcy50eXBlLHNvdXJjZTp0aGlzLmlkLHNjb3BlOnRoaXMuc2NvcGV9KTt9aGFzVHJhbnNpdGlvbigpe3JldHVybiAhMX1hZnRlclVwZGF0ZSgpe3RoaXMuX3RpbGVXb3JrZXJzPXt9O31jYW5jZWxUaWxlSlNPTlJlcXVlc3QoKXt0aGlzLl90aWxlSlNPTlJlcXVlc3QmJih0aGlzLl90aWxlSlNPTlJlcXVlc3QuY2FuY2VsKCksdGhpcy5fdGlsZUpTT05SZXF1ZXN0PW51bGwpO319Y2xhc3MgTHcgZXh0ZW5kcyBJdHtjb25zdHJ1Y3RvcihlLHQsaSxyKXtzdXBlcigpLHRoaXMuaWQ9ZSx0aGlzLmRpc3BhdGNoZXI9aSx0aGlzLnNldEV2ZW50ZWRQYXJlbnQociksdGhpcy50eXBlPVwicmFzdGVyXCIsdGhpcy5taW56b29tPTAsdGhpcy5tYXh6b29tPTIyLHRoaXMucm91bmRab29tPSEwLHRoaXMuc2NoZW1lPVwieHl6XCIsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy5fbG9hZGVkPSExLHRoaXMuX29wdGlvbnM9ayh7dHlwZTpcInJhc3RlclwifSx0KSxrKHRoaXMsTyh0LFtcInVybFwiLFwic2NoZW1lXCIsXCJ0aWxlU2l6ZVwiXSkpO31sb2FkKGUpe3RoaXMuX2xvYWRlZD0hMSx0aGlzLmZpcmUobmV3IEF0KFwiZGF0YWxvYWRpbmdcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIn0pKSx0aGlzLl90aWxlSlNPTlJlcXVlc3Q9RXcodGhpcy5fb3B0aW9ucyx0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIsbnVsbCxudWxsLCgodCxpKT0+e3RoaXMuX3RpbGVKU09OUmVxdWVzdD1udWxsLHRoaXMuX2xvYWRlZD0hMCx0P3RoaXMuZmlyZShuZXcgU3QodCkpOmkmJihrKHRoaXMsaSksaS5ib3VuZHMmJih0aGlzLnRpbGVCb3VuZHM9bmV3IE13KGkuYm91bmRzLHRoaXMubWluem9vbSx0aGlzLm1heHpvb20pKSxHZShpLnRpbGVzKSx0aGlzLmZpcmUobmV3IEF0KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwibWV0YWRhdGFcIn0pKSx0aGlzLmZpcmUobmV3IEF0KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwiY29udGVudFwifSkpKSxlJiZlKHQpO30pKTt9bG9hZGVkKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH1vbkFkZChlKXt0aGlzLm1hcD1lLHRoaXMubG9hZCgpO31yZWxvYWQoKXt0aGlzLmNhbmNlbFRpbGVKU09OUmVxdWVzdCgpO2NvbnN0IGU9cGEodGhpcy5pZCx0aGlzLnNjb3BlKTt0aGlzLmxvYWQoKCgpPT50aGlzLm1hcC5zdHlsZS5jbGVhclNvdXJjZShlKSkpO31zZXRUaWxlcyhlKXtyZXR1cm4gdGhpcy5fb3B0aW9ucy50aWxlcz1lLHRoaXMucmVsb2FkKCksdGhpc31zZXRVcmwoZSl7cmV0dXJuIHRoaXMudXJsPWUsdGhpcy5fb3B0aW9ucy51cmw9ZSx0aGlzLnJlbG9hZCgpLHRoaXN9b25SZW1vdmUoKXt0aGlzLmNhbmNlbFRpbGVKU09OUmVxdWVzdCgpO31zZXJpYWxpemUoKXtyZXR1cm4gayh7fSx0aGlzLl9vcHRpb25zKX1oYXNUaWxlKGUpe3JldHVybiAhdGhpcy50aWxlQm91bmRzfHx0aGlzLnRpbGVCb3VuZHMuY29udGFpbnMoZS5jYW5vbmljYWwpfWxvYWRUaWxlKGUsdCl7Y29uc3QgaT1odC5kZXZpY2VQaXhlbFJhdGlvPj0yLHI9dGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLm5vcm1hbGl6ZVRpbGVVUkwoZS50aWxlSUQuY2Fub25pY2FsLnVybCh0aGlzLnRpbGVzLHRoaXMuc2NoZW1lKSxpLHRoaXMudGlsZVNpemUpO2UucmVxdWVzdD1JZSh0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChyLHllLlRpbGUpLCgoaSxyLG4sbyk9PihkZWxldGUgZS5yZXF1ZXN0LGUuYWJvcnRlZD8oZS5zdGF0ZT1cInVubG9hZGVkXCIsdChudWxsKSk6aT8oZS5zdGF0ZT1cImVycm9yZWRcIix0KGkpKTpyPyh0aGlzLm1hcC5fcmVmcmVzaEV4cGlyZWRUaWxlcyYmZS5zZXRFeHBpcnlEYXRhKHtjYWNoZUNvbnRyb2w6bixleHBpcmVzOm99KSxlLnNldFRleHR1cmUocix0aGlzLm1hcC5wYWludGVyKSxlLnN0YXRlPVwibG9hZGVkXCIsZ2UodGhpcy5kaXNwYXRjaGVyKSx2b2lkIHQobnVsbCkpOnQobnVsbCkpKSk7fXN0YXRpYyBsb2FkVGlsZURhdGEoZSx0LGkpe2Uuc2V0VGV4dHVyZSh0LGkpO31zdGF0aWMgdW5sb2FkVGlsZURhdGEoZSx0KXtlLnRleHR1cmUmJnQuc2F2ZVRpbGVUZXh0dXJlKGUudGV4dHVyZSk7fWFib3J0VGlsZShlLHQpe2UucmVxdWVzdCYmKGUucmVxdWVzdC5jYW5jZWwoKSxkZWxldGUgZS5yZXF1ZXN0KSx0KCk7fXVubG9hZFRpbGUoZSx0KXtlLnRleHR1cmUmJnRoaXMubWFwLnBhaW50ZXIuc2F2ZVRpbGVUZXh0dXJlKGUudGV4dHVyZSksdCgpO31oYXNUcmFuc2l0aW9uKCl7cmV0dXJuICExfWNhbmNlbFRpbGVKU09OUmVxdWVzdCgpe3RoaXMuX3RpbGVKU09OUmVxdWVzdCYmKHRoaXMuX3RpbGVKU09OUmVxdWVzdC5jYW5jZWwoKSx0aGlzLl90aWxlSlNPTlJlcXVlc3Q9bnVsbCk7fX1sZXQga3c7ZnVuY3Rpb24gT3coKXtyZXR1cm4gbnVsbCE9Y0kud29ya2VyQ2xhc3M/bmV3IGNJLndvcmtlckNsYXNzOm5ldyB0LldvcmtlcihjSS53b3JrZXJVcmwpfWNvbnN0IEJ3PVwibWFwYm94Z2xfcHJlbG9hZGVkX3dvcmtlcl9wb29sXCI7Y2xhc3MgRnd7Y29uc3RydWN0b3IoKXt0aGlzLmFjdGl2ZT17fTt9YWNxdWlyZShlKXtpZighdGhpcy53b3JrZXJzKWZvcih0aGlzLndvcmtlcnM9W107dGhpcy53b3JrZXJzLmxlbmd0aDxGdy53b3JrZXJDb3VudDspdGhpcy53b3JrZXJzLnB1c2gobmV3IE93KTtyZXR1cm4gdGhpcy5hY3RpdmVbZV09ITAsdGhpcy53b3JrZXJzLnNsaWNlKCl9cmVsZWFzZShlKXtkZWxldGUgdGhpcy5hY3RpdmVbZV0sdGhpcy53b3JrZXJzJiYwPT09dGhpcy5udW1BY3RpdmUoKSYmKHRoaXMud29ya2Vycy5mb3JFYWNoKChlPT57ZS50ZXJtaW5hdGUoKTt9KSksdGhpcy53b3JrZXJzPW51bGwpO31pc1ByZWxvYWRlZCgpe3JldHVybiAhIXRoaXMuYWN0aXZlW0J3XX1udW1BY3RpdmUoKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5hY3RpdmUpLmxlbmd0aH19bGV0IE53O2Z1bmN0aW9uIFV3KCl7cmV0dXJuIE53fHwoTnc9bmV3IEZ3KSxOd31Gdy53b3JrZXJDb3VudD0yO2xldCBWdyxqdyxHdyxxdz1udWxsO2Z1bmN0aW9uIFp3KCl7cmV0dXJuIFEoKSYmc2VsZi53b3JrZXImJnNlbGYud29ya2VyLmRyYWNvVXJsP3NlbGYud29ya2VyLmRyYWNvVXJsOmp3fHxuLkRSQUNPX1VSTH1jb25zdCAkdz01MTIzLEh3PTUxMjYsV3c9ezUxMjA6SW50OEFycmF5LDUxMjE6VWludDhBcnJheSw1MTIyOkludDE2QXJyYXksWyR3XTpVaW50MTZBcnJheSw1MTI1OlVpbnQzMkFycmF5LFtId106RmxvYXQzMkFycmF5fSxYdz17NTEyMDpcIkRUX0lOVDhcIiw1MTIxOlwiRFRfVUlOVDhcIiw1MTIyOlwiRFRfSU5UMTZcIixbJHddOlwiRFRfVUlOVDE2XCIsNTEyNTpcIkRUX1VJTlQzMlwiLFtId106XCJEVF9GTE9BVDMyXCJ9LFl3PXtTQ0FMQVI6MSxWRUMyOjIsVkVDMzozLFZFQzQ6NCxNQVQyOjQsTUFUMzo5LE1BVDQ6MTZ9O2Z1bmN0aW9uIEt3KGUsdCxpKXtjb25zdCByPWkuanNvbi5idWZmZXJWaWV3cy5sZW5ndGgsbj1pLmJ1ZmZlcnMubGVuZ3RoO3QuYnVmZmVyVmlldz1yLGkuanNvbi5idWZmZXJWaWV3c1tyXT17YnVmZmVyOm4sYnl0ZUxlbmd0aDplLmJ5dGVMZW5ndGh9LGkuYnVmZmVyc1tuXT1lO31jb25zdCBKdz1cIktIUl9kcmFjb19tZXNoX2NvbXByZXNzaW9uXCI7ZnVuY3Rpb24gUXcoZSx0KXtjb25zdCBpPWUuZXh0ZW5zaW9ucyYmZS5leHRlbnNpb25zW0p3XTtpZighaSlyZXR1cm47Y29uc3Qgcj1uZXcgR3cuRGVjb2RlcixuPW5UKHQsaS5idWZmZXJWaWV3KSxvPW5ldyBHdy5NZXNoO2lmKCFyLkRlY29kZUFycmF5VG9NZXNoKG4sbi5ieXRlTGVuZ3RoLG8pKXRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBkZWNvZGUgRHJhY28gbWVzaFwiKTtjb25zdCBzPXQuanNvbi5hY2Nlc3NvcnNbZS5pbmRpY2VzXSxhPVd3W3MuY29tcG9uZW50VHlwZV0sbD1zLmNvdW50KmEuQllURVNfUEVSX0VMRU1FTlQsYz1Hdy5fbWFsbG9jKGwpO2E9PT1VaW50MTZBcnJheT9yLkdldFRyaWFuZ2xlc1VJbnQxNkFycmF5KG8sbCxjKTpyLkdldFRyaWFuZ2xlc1VJbnQzMkFycmF5KG8sbCxjKSxLdyhHdy5tZW1vcnkuYnVmZmVyLnNsaWNlKGMsYytsKSxzLHQpLEd3Ll9mcmVlKGMpO2Zvcihjb25zdCBuIG9mIE9iamVjdC5rZXlzKGkuYXR0cmlidXRlcykpe2NvbnN0IHM9ci5HZXRBdHRyaWJ1dGVCeVVuaXF1ZUlkKG8saS5hdHRyaWJ1dGVzW25dKSxhPXQuanNvbi5hY2Nlc3NvcnNbZS5hdHRyaWJ1dGVzW25dXSxsPVh3W2EuY29tcG9uZW50VHlwZV0sYz1hLmNvdW50Kll3W2EudHlwZV0qV3dbYS5jb21wb25lbnRUeXBlXS5CWVRFU19QRVJfRUxFTUVOVCxoPUd3Ll9tYWxsb2MoYyk7ci5HZXRBdHRyaWJ1dGVEYXRhQXJyYXlGb3JBbGxQb2ludHMobyxzLEd3W2xdLGMsaCksS3coR3cubWVtb3J5LmJ1ZmZlci5zbGljZShoLGgrYyksYSx0KSxHdy5fZnJlZShoKTt9ci5kZXN0cm95KCksby5kZXN0cm95KCksZGVsZXRlIGUuZXh0ZW5zaW9uc1tKd107fWNvbnN0IGVUPTExNzk5Mzc4OTUsdFQ9bmV3IFRleHREZWNvZGVyKFwidXRmOFwiKTtmdW5jdGlvbiBpVChlLHQpe3JldHVybiBuZXcgVVJMKGUsdCkuaHJlZn1mdW5jdGlvbiByVChlLHQsaSxyKXtyZXR1cm4gZmV0Y2goaVQoZS51cmkscikpLnRoZW4oKGU9PmUuYXJyYXlCdWZmZXIoKSkpLnRoZW4oKGU9Pnt0LmJ1ZmZlcnNbaV09ZTt9KSl9ZnVuY3Rpb24gblQoZSx0KXtjb25zdCBpPWUuanNvbi5idWZmZXJWaWV3c1t0XTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZS5idWZmZXJzW2kuYnVmZmVyXSxpLmJ5dGVPZmZzZXR8fDAsaS5ieXRlTGVuZ3RoKX1mdW5jdGlvbiBvVChlLGkscixuKXtpZihlLnVyaSl7Y29uc3Qgbz1pVChlLnVyaSxuKTtyZXR1cm4gZmV0Y2gobykudGhlbigoZT0+ZS5ibG9iKCkpKS50aGVuKChlPT50LmNyZWF0ZUltYWdlQml0bWFwKGUpKSkudGhlbigoZT0+e2kuaW1hZ2VzW3JdPWU7fSkpfWlmKHZvaWQgMCE9PWUuYnVmZmVyVmlldyl7Y29uc3Qgbj1uVChpLGUuYnVmZmVyVmlldyksbz1uZXcgdC5CbG9iKFtuXSx7dHlwZTplLm1pbWVUeXBlfSk7cmV0dXJuIHQuY3JlYXRlSW1hZ2VCaXRtYXAobykudGhlbigoZT0+e2kuaW1hZ2VzW3JdPWU7fSkpfX1mdW5jdGlvbiBzVChlLHQ9MCxpKXtjb25zdCByPXtqc29uOm51bGwsaW1hZ2VzOltdLGJ1ZmZlcnM6W119O2lmKG5ldyBVaW50MzJBcnJheShlLHQsMSlbMF09PT1lVCl7Y29uc3QgaT1uZXcgVWludDMyQXJyYXkoZSx0KTtsZXQgbj0yO2NvbnN0IG89KGlbbisrXT4+MiktMyxzPWlbbisrXT4+MjtpZihuKyssci5qc29uPUpTT04ucGFyc2UodFQuZGVjb2RlKGkuc3ViYXJyYXkobixuK3MpKSksbis9cyxuPG8pe2NvbnN0IG89aVtuKytdO24rKztjb25zdCBzPXQrKG48PDIpO3IuYnVmZmVyc1swXT1lLnNsaWNlKHMscytvKTt9fWVsc2Ugci5qc29uPUpTT04ucGFyc2UodFQuZGVjb2RlKG5ldyBVaW50OEFycmF5KGUsdCkpKTtjb25zdHtidWZmZXJzOm4saW1hZ2VzOm8sbWVzaGVzOnMsZXh0ZW5zaW9uc1VzZWQ6YX09ci5qc29uO2xldCBsPVByb21pc2UucmVzb2x2ZSgpO2lmKG4pe2NvbnN0IGU9W107Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspe2NvbnN0IG89blt0XTtvLnVyaT9lLnB1c2goclQobyxyLHQsaSkpOnIuYnVmZmVyc1t0XXx8KHIuYnVmZmVyc1t0XT1udWxsKTt9bD1Qcm9taXNlLmFsbChlKTt9cmV0dXJuIGwudGhlbigoKCk9Pntjb25zdCBlPVtdLHQ9YSYmYS5pbmNsdWRlcyhKdyk7aWYodCYmZS5wdXNoKGZ1bmN0aW9uKCl7aWYoIUd3KXJldHVybiBWd3x8KFZ3PWZ1bmN0aW9uKGUpe2xldCB0LGk9bnVsbDtmdW5jdGlvbiByKCl7dD1uZXcgVWludDhBcnJheShpLmJ1ZmZlcik7fWZ1bmN0aW9uIG4oKXt0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIERyYWNvIGVycm9yLlwiKX1jb25zdCBvPXthOnthOm4sZDpmdW5jdGlvbihlLGkscil7cmV0dXJuIHQuY29weVdpdGhpbihlLGksaStyKX0sYzpmdW5jdGlvbihlKXtjb25zdCBuPXQubGVuZ3RoLG89TWF0aC5tYXgoZT4+PjAsTWF0aC5jZWlsKDEuMipuKSkscz1NYXRoLmNlaWwoKG8tbikvNjU1MzYpO3RyeXtyZXR1cm4gaS5ncm93KHMpLHIoKSwhMH1jYXRjaChlKXtyZXR1cm4gITF9fSxiOm59fTtyZXR1cm4gKFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nP1dlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nKGUsbyk6ZS50aGVuKChlPT5lLmFycmF5QnVmZmVyKCkpKS50aGVuKChlPT5XZWJBc3NlbWJseS5pbnN0YW50aWF0ZShlLG8pKSkpLnRoZW4oKGU9Pntjb25zdHtSYjpuLFFiOm8sUDpzLFQ6YSxYOmwsSmE6YyxMYTpoLFFhOnUsVmE6ZCxXYTpwLGViOmYsamI6bSxmOl8sZTpnLHliOnksemI6eCxBYjp2LEJiOmIsRGI6dyxHYjpUfT1lLmluc3RhbmNlLmV4cG9ydHM7aT1nO2NvbnN0IEU9KCgpPT57bGV0IGU9MCxpPTAscj0wLHM9MDtyZXR1cm4gYT0+e3ImJihuKHMpLG4oZSksaSs9cixyPWU9MCksZXx8KGkrPTEyOCxlPW8oaSkpO2NvbnN0IGw9YS5sZW5ndGgrNyYtODtsZXQgYz1lO2w+PWkmJihyPWwsYz1zPW8obCkpO2ZvcihsZXQgZT0wO2U8YS5sZW5ndGg7ZSsrKXRbYytlXT1hW2VdO3JldHVybiBjfX0pKCk7cmV0dXJuIHIoKSxfKCkse21lbW9yeTpnLF9mcmVlOm4sX21hbGxvYzpvLE1lc2g6Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLnB0cj1zKCk7fWRlc3Ryb3koKXthKHRoaXMucHRyKTt9fSxEZWNvZGVyOmNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5wdHI9YygpO31kZXN0cm95KCl7bSh0aGlzLnB0cik7fURlY29kZUFycmF5VG9NZXNoKGUsdCxpKXtjb25zdCByPUUoZSksbj1oKHRoaXMucHRyLHIsdCxpLnB0cik7cmV0dXJuICEhbChuKX1HZXRBdHRyaWJ1dGVCeVVuaXF1ZUlkKGUsdCl7cmV0dXJuIHtwdHI6dSh0aGlzLnB0cixlLnB0cix0KX19R2V0VHJpYW5nbGVzVUludDE2QXJyYXkoZSx0LGkpe2QodGhpcy5wdHIsZS5wdHIsdCxpKTt9R2V0VHJpYW5nbGVzVUludDMyQXJyYXkoZSx0LGkpe3AodGhpcy5wdHIsZS5wdHIsdCxpKTt9R2V0QXR0cmlidXRlRGF0YUFycmF5Rm9yQWxsUG9pbnRzKGUsdCxpLHIsbil7Zih0aGlzLnB0cixlLnB0cix0LnB0cixpLHIsbik7fX0sRFRfSU5UODp5KCksRFRfVUlOVDg6eCgpLERUX0lOVDE2OnYoKSxEVF9VSU5UMTY6YigpLERUX1VJTlQzMjp3KCksRFRfRkxPQVQzMjpUKCl9fSkpfShmZXRjaChadygpKSksVncudGhlbigoZT0+e0d3PWUsVnc9dm9pZCAwO30pKSl9KCkpLG8pZm9yKGxldCB0PTA7dDxvLmxlbmd0aDt0KyspZS5wdXNoKG9UKG9bdF0scix0LGkpKTtyZXR1cm4gKGUubGVuZ3RoP1Byb21pc2UuYWxsKGUpOlByb21pc2UucmVzb2x2ZSgpKS50aGVuKCgoKT0+e2lmKHQmJnMpZm9yKGNvbnN0e3ByaW1pdGl2ZXM6ZX1vZiBzKWZvcihjb25zdCB0IG9mIGUpUXcodCxyKTtyZXR1cm4gcn0pKX0pKX1mdW5jdGlvbiBhVChlKXtyZXR1cm4gZmV0Y2goZSkudGhlbigoZT0+ZS5hcnJheUJ1ZmZlcigpKSkudGhlbigodD0+c1QodCwwLGUpKSl9Y2xhc3MgbFR7Y29uc3RydWN0b3IoZSx0LGkpe2lmKHRoaXMudHJpYW5nbGVDb3VudD10Lmxlbmd0aC8zLHRoaXMubWluPW5ldyB5KDAsMCksdGhpcy5tYXg9bmV3IHkoMCwwKSx0aGlzLnhTY2FsZT0wLHRoaXMueVNjYWxlPTAsdGhpcy5jZWxsc1g9MCx0aGlzLmNlbGxzWT0wLHRoaXMuY2VsbHM9W10sdGhpcy5wYXlsb2FkPVtdLDA9PT10aGlzLnRyaWFuZ2xlQ291bnR8fDA9PT1lLmxlbmd0aHx8MD09PWkpcmV0dXJuO2NvbnN0IHI9ZS5tYXAoKGU9PmUueCkpLG49ZS5tYXAoKGU9PmUueSkpO3RoaXMubWluPW5ldyB5KE1hdGgubWluKC4uLnIpLE1hdGgubWluKC4uLm4pKSx0aGlzLm1heD1uZXcgeShNYXRoLm1heCguLi5yKSxNYXRoLm1heCguLi5uKSk7Y29uc3Qgbz10aGlzLm1heC5zdWIodGhpcy5taW4pO28ueD1NYXRoLm1heChvLngsMSksby55PU1hdGgubWF4KG8ueSwxKTtjb25zdCBzPU1hdGgubWF4KG8ueCxvLnkpL2k7dGhpcy5jZWxsc1g9TWF0aC5tYXgoMSxNYXRoLmNlaWwoby54L3MpKSx0aGlzLmNlbGxzWT1NYXRoLm1heCgxLE1hdGguY2VpbChvLnkvcykpLHRoaXMueFNjYWxlPTEvcyx0aGlzLnlTY2FsZT0xL3M7Y29uc3QgYT1bXTtmb3IobGV0IGk9MDtpPHRoaXMudHJpYW5nbGVDb3VudDtpKyspe2NvbnN0IHI9ZVt0WzMqaSswXV0uc3ViKHRoaXMubWluKSxuPWVbdFszKmkrMV1dLnN1Yih0aGlzLm1pbiksbz1lW3RbMyppKzJdXS5zdWIodGhpcy5taW4pLGw9Y1QoTWF0aC5mbG9vcihNYXRoLm1pbihyLngsbi54LG8ueCkpLHRoaXMueFNjYWxlLHRoaXMuY2VsbHNYKSxjPWNUKE1hdGguZmxvb3IoTWF0aC5tYXgoci54LG4ueCxvLngpKSx0aGlzLnhTY2FsZSx0aGlzLmNlbGxzWCksaD1jVChNYXRoLmZsb29yKE1hdGgubWluKHIueSxuLnksby55KSksdGhpcy55U2NhbGUsdGhpcy5jZWxsc1kpLHU9Y1QoTWF0aC5mbG9vcihNYXRoLm1heChyLnksbi55LG8ueSkpLHRoaXMueVNjYWxlLHRoaXMuY2VsbHNZKSxkPW5ldyB5KDAsMCkscD1uZXcgeSgwLDApLGY9bmV3IHkoMCwwKSxtPW5ldyB5KDAsMCk7Zm9yKGxldCBlPWg7ZTw9dTsrK2Upe2QueT1wLnk9ZSpzLGYueT1tLnk9KGUrMSkqcztmb3IobGV0IHQ9bDt0PD1jOysrdClkLng9Zi54PXQqcyxwLng9bS54PSh0KzEpKnMsKEFwKHIsbixvLGQscCxtKXx8QXAocixuLG8sZCxtLGYpKSYmYS5wdXNoKHtjZWxsSWR4OmUqdGhpcy5jZWxsc1grdCx0cmlJZHg6aX0pO319aWYoMD09PWEubGVuZ3RoKXJldHVybjthLnNvcnQoKChlLHQpPT5lLmNlbGxJZHgtdC5jZWxsSWR4fHxlLnRyaUlkeC10LnRyaUlkeCkpO2xldCBsPTA7Zm9yKDtsPGEubGVuZ3RoOyl7Y29uc3QgZT1hW2xdLmNlbGxJZHgsdD17c3RhcnQ6dGhpcy5wYXlsb2FkLmxlbmd0aCxsZW46MH07Zm9yKDtsPGEubGVuZ3RoJiZhW2xdLmNlbGxJZHg9PT1lOykrK3QubGVuLHRoaXMucGF5bG9hZC5wdXNoKGFbbCsrXS50cmlJZHgpO3RoaXMuY2VsbHNbZV09dDt9fXF1ZXJ5KGUsdCxpKXtpZigwPT09dGhpcy50cmlhbmdsZUNvdW50fHwwPT09dGhpcy5jZWxscy5sZW5ndGgpcmV0dXJuO2lmKGUueD50aGlzLm1heC54fHx0aGlzLm1pbi54PnQueClyZXR1cm47aWYoZS55PnRoaXMubWF4Lnl8fHRoaXMubWluLnk+dC55KXJldHVybjt0aGlzLmxvb2t1cHx8KHRoaXMubG9va3VwPW5ldyBVaW50OEFycmF5KE1hdGguY2VpbCh0aGlzLnRyaWFuZ2xlQ291bnQvOCkpKTtmb3IobGV0IGU9MDtlPHRoaXMubG9va3VwLmxlbmd0aDtlKyspdGhpcy5sb29rdXBbZV09MDtjb25zdCByPWNUKGUueC10aGlzLm1pbi54LHRoaXMueFNjYWxlLHRoaXMuY2VsbHNYKSxuPWNUKHQueC10aGlzLm1pbi54LHRoaXMueFNjYWxlLHRoaXMuY2VsbHNYKSxvPWNUKGUueS10aGlzLm1pbi55LHRoaXMueVNjYWxlLHRoaXMuY2VsbHNZKSxzPWNUKHQueS10aGlzLm1pbi55LHRoaXMueVNjYWxlLHRoaXMuY2VsbHNZKTtmb3IobGV0IGU9bztlPD1zO2UrKylmb3IobGV0IHQ9cjt0PD1uO3QrKyl7Y29uc3Qgcj10aGlzLmNlbGxzW2UqdGhpcy5jZWxsc1grdF07aWYocilmb3IobGV0IGU9MDtlPHIubGVuO2UrKyl7Y29uc3QgdD10aGlzLnBheWxvYWRbci5zdGFydCtlXSxuPU1hdGguZmxvb3IodC84KSxvPTE8PHQlODtpZighKHRoaXMubG9va3VwW25dJm8pJiYodGhpcy5sb29rdXBbbl18PW8saS5wdXNoKHQpLGkubGVuZ3RoPT09dGhpcy50cmlhbmdsZUNvdW50KSlyZXR1cm59fX19ZnVuY3Rpb24gY1QoZSx0LGkpe3JldHVybiBNYXRoLm1heCgwLE1hdGgubWluKGktMSxNYXRoLmZsb29yKGUqdCkpKX1mdW5jdGlvbiBoVChlLHQpe2NvbnN0IGk9ZS5qc29uLmJ1ZmZlclZpZXdzW3QuYnVmZmVyVmlld107cmV0dXJuIG5ldygwLFd3W3QuY29tcG9uZW50VHlwZV0pKGUuYnVmZmVyc1tpLmJ1ZmZlcl0sKHQuYnl0ZU9mZnNldHx8MCkrKGkuYnl0ZU9mZnNldHx8MCksdC5jb3VudCpZd1t0LnR5cGVdKX1mdW5jdGlvbiB1VChlLHQsaSl7Y29uc3Qgcj1lLmluZGljZXMsbj1lLmF0dHJpYnV0ZXMsbz17fTtvLmluZGV4QXJyYXk9bmV3IFZhO2NvbnN0IHM9dC5qc29uLmFjY2Vzc29yc1tyXSxhPXMuY291bnQvMztvLmluZGV4QXJyYXkucmVzZXJ2ZShhKTtjb25zdCBsPWhUKHQscyk7Zm9yKGxldCBlPTA7ZTxhO2UrKylvLmluZGV4QXJyYXkuZW1wbGFjZUJhY2sobFszKmVdLGxbMyplKzFdLGxbMyplKzJdKTtvLmluZGV4QXJyYXkuX3RyaW0oKSxvLnZlcnRleEFycmF5PW5ldyBVYTtjb25zdCBjPXQuanNvbi5hY2Nlc3NvcnNbbi5QT1NJVElPTl07by52ZXJ0ZXhBcnJheS5yZXNlcnZlKGMuY291bnQpO2NvbnN0IGg9aFQodCxjKTtmb3IobGV0IGU9MDtlPGMuY291bnQ7ZSsrKW8udmVydGV4QXJyYXkuZW1wbGFjZUJhY2soaFszKmVdLGhbMyplKzFdLGhbMyplKzJdKTtpZihvLnZlcnRleEFycmF5Ll90cmltKCksby5hYWJiPW5ldyBIdShjLm1pbixjLm1heCksby5jZW50cm9pZD1mdW5jdGlvbihlLHQpe2NvbnN0IGk9WzAsMCwwXSxyPWUubGVuZ3RoO2lmKHI+MCl7Zm9yKGxldCBuPTA7bjxyO24rKyl7Y29uc3Qgcj0zKmVbbl07aVswXSs9dFtyXSxpWzFdKz10W3IrMV0saVsyXSs9dFtyKzJdO31pWzBdLz1yLGlbMV0vPXIsaVsyXS89cjt9cmV0dXJuIGl9KGwsaCksdm9pZCAwIT09bi5DT0xPUl8wKXtjb25zdCBlPXQuanNvbi5hY2Nlc3NvcnNbbi5DT0xPUl8wXSxpPVl3W2UudHlwZV07aWYoZS5jb21wb25lbnRUeXBlPT09SHcpe28uY29sb3JBcnJheT0zPT09aT9uZXcgVWE6bmV3IElhLG8uY29sb3JBcnJheS5yZXNlcnZlKGUuY291bnQpO2NvbnN0IHI9aFQodCxlKTtpZigzPT09aSlmb3IobGV0IHQ9MDt0PGUuY291bnQ7dCsrKW8uY29sb3JBcnJheS5lbXBsYWNlQmFjayhyWzMqdF0sclszKnQrMV0sclszKnQrMl0pO2Vsc2UgZm9yKGxldCB0PTA7dDxlLmNvdW50O3QrKylvLmNvbG9yQXJyYXkuZW1wbGFjZUJhY2socls0KnRdLHJbNCp0KzFdLHJbNCp0KzJdLHJbNCp0KzNdKTtvLmNvbG9yQXJyYXkuX3RyaW0oKTt9ZWxzZSBpZihlLmNvbXBvbmVudFR5cGU9PT0kdyYmND09PWkpe28uY29sb3JBcnJheT1uZXcgSWEsby5jb2xvckFycmF5LnJlc2l6ZShlLmNvdW50KTtjb25zdCBpPWhUKHQsZSkscj0xLzY1NTM1LG49by5jb2xvckFycmF5LmZsb2F0MzI7Zm9yKGxldCBlPTA7ZTw0KmkubGVuZ3RoOysrZSluW2VdPWlbZV0qcjt9ZWxzZSBXKGBnbFRGIGNvbG9yIGJ1ZmZlciBwYXJzaW5nIGZvciBhY2Nlc3NvciAke0pTT04uc3RyaW5naWZ5KGUpfSBpcyBub3Qgc3VwcG9ydGVkYCk7fWlmKHZvaWQgMCE9PW4uTk9STUFMKXtvLm5vcm1hbEFycmF5PW5ldyBVYTtjb25zdCBlPXQuanNvbi5hY2Nlc3NvcnNbbi5OT1JNQUxdO28ubm9ybWFsQXJyYXkucmVzZXJ2ZShlLmNvdW50KTtjb25zdCBpPWhUKHQsZSk7Zm9yKGxldCB0PTA7dDxlLmNvdW50O3QrKylvLm5vcm1hbEFycmF5LmVtcGxhY2VCYWNrKGlbMyp0XSxpWzMqdCsxXSxpWzMqdCsyXSk7by5ub3JtYWxBcnJheS5fdHJpbSgpO31pZih2b2lkIDAhPT1uLlRFWENPT1JEXzAmJmkubGVuZ3RoPjApe28udGV4Y29vcmRBcnJheT1uZXcgWGE7Y29uc3QgZT10Lmpzb24uYWNjZXNzb3JzW24uVEVYQ09PUkRfMF07by50ZXhjb29yZEFycmF5LnJlc2VydmUoZS5jb3VudCk7Y29uc3QgaT1oVCh0LGUpO2ZvcihsZXQgdD0wO3Q8ZS5jb3VudDt0Kyspby50ZXhjb29yZEFycmF5LmVtcGxhY2VCYWNrKGlbMip0XSxpWzIqdCsxXSk7by50ZXhjb29yZEFycmF5Ll90cmltKCk7fWNvbnN0IHU9ZS5tYXRlcmlhbDtyZXR1cm4gby5tYXRlcmlhbD1mdW5jdGlvbihlLHQpe2NvbnN0e2VtaXNzaXZlRmFjdG9yOmk9WzAsMCwwXSxhbHBoYU1vZGU6cj1cIk9QQVFVRVwiLGFscGhhQ3V0b2ZmOm49LjUsbm9ybWFsVGV4dHVyZTpvLG9jY2x1c2lvblRleHR1cmU6cyxlbWlzc2l2ZVRleHR1cmU6YSxkb3VibGVTaWRlZDpsfT1lLHtiYXNlQ29sb3JGYWN0b3I6Yz1bMSwxLDEsMV0sbWV0YWxsaWNGYWN0b3I6aD0xLHJvdWdobmVzc0ZhY3Rvcjp1PTEsYmFzZUNvbG9yVGV4dHVyZTpkLG1ldGFsbGljUm91Z2huZXNzVGV4dHVyZTpwfT1lLnBick1ldGFsbGljUm91Z2huZXNzfHx7fTtyZXR1cm4ge3Bick1ldGFsbGljUm91Z2huZXNzOntiYXNlQ29sb3JGYWN0b3I6bmV3IGxpKC4uLmMpLG1ldGFsbGljRmFjdG9yOmgscm91Z2huZXNzRmFjdG9yOnUsYmFzZUNvbG9yVGV4dHVyZTpkP3RbZC5pbmRleF06dm9pZCAwLG1ldGFsbGljUm91Z2huZXNzVGV4dHVyZTpwP3RbcC5pbmRleF06dm9pZCAwfSxkb3VibGVTaWRlZDpsLGVtaXNzaXZlRmFjdG9yOmksYWxwaGFNb2RlOnIsYWxwaGFDdXRvZmY6bixub3JtYWxUZXh0dXJlOm8/dFtvLmluZGV4XTp2b2lkIDAsb2NjbHVzaW9uVGV4dHVyZTpzP3Rbcy5pbmRleF06dm9pZCAwLGVtaXNzaW9uVGV4dHVyZTphP3RbYS5pbmRleF06dm9pZCAwLGRlZmluZWQ6dm9pZCAwPT09ZS5kZWZpbmVkfX0odm9pZCAwIT09dT90Lmpzb24ubWF0ZXJpYWxzW3VdOntkZWZpbmVkOiExfSxpKSx2b2lkIDAhPT1uLl9GRUFUVVJFX1JHQkE0NDQ0JiYoby5mZWF0dXJlRGF0YT1uZXcgVWludDMyQXJyYXkoaFQodCx0Lmpzb24uYWNjZXNzb3JzW24uX0ZFQVRVUkVfUkdCQTQ0NDRdKS5idWZmZXIpKSxvfWZ1bmN0aW9uIGRUKGUsdCxpKXtjb25zdHttYXRyaXg6cixyb3RhdGlvbjpuLHRyYW5zbGF0aW9uOm8sc2NhbGU6cyxtZXNoOmEsZXh0cmFzOmwsY2hpbGRyZW46Y309ZSxoPXt9O2lmKGgubWF0cml4PXJ8fHh1LmZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGUoW10sbnx8WzAsMCwwLDFdLG98fFswLDAsMF0sc3x8WzEsMSwxXSksdm9pZCAwIT09YSl7aC5tZXNoZXM9aVthXTtjb25zdCBlPWguYW5jaG9yPVswLDBdO2Zvcihjb25zdCB0IG9mIGgubWVzaGVzKXtjb25zdHttaW46aSxtYXg6cn09dC5hYWJiO2VbMF0rPWlbMF0rclswXSxlWzFdKz1pWzFdK3JbMV07fWVbMF09TWF0aC5mbG9vcihlWzBdL2gubWVzaGVzLmxlbmd0aC8yKSxlWzFdPU1hdGguZmxvb3IoZVsxXS9oLm1lc2hlcy5sZW5ndGgvMik7fWlmKGwmJihsLmlkJiYoaC5pZD1sLmlkKSxsLmxpZ2h0cyYmKGgubGlnaHRzPWZ1bmN0aW9uKGUpe2lmKCFlLmxlbmd0aClyZXR1cm4gW107Y29uc3QgdD1mdW5jdGlvbihlKXtjb25zdCB0PWF0b2IoZSksaT1uZXcgVWludDhBcnJheSh0Lmxlbmd0aCk7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspaVtlXT10LmNvZGVQb2ludEF0KGUpO3JldHVybiBpfShlKSxpPVtdLHI9dC5sZW5ndGgvMjQsbj1uZXcgVWludDE2QXJyYXkodC5idWZmZXIpLG89bmV3IEZsb2F0MzJBcnJheSh0LmJ1ZmZlcik7Zm9yKGxldCBlPTA7ZTxyO2UrKyl7Y29uc3QgdD1uWzIqZSo2XS8zMCxyPW5bMiplKjYrMV0vMzAscz1uWzIqZSo2KzEwXS8xMDAsYT1vWzYqZSsxXSxsPW9bNiplKzJdLGM9b1s2KmUrM10saD1vWzYqZSs0XSx1PWMtYSxkPWgtbCxwPU1hdGguaHlwb3QodSxkKTtpLnB1c2goe3BvczpbYSsuNSp1LGwrLjUqZCxyXSxub3JtYWw6W2QvcCwtdS9wLDBdLHdpZHRoOnAsaGVpZ2h0OnQsZGVwdGg6cyxwb2ludHM6W2EsbCxjLGhdfSk7fXJldHVybiBpfShsLmxpZ2h0cykpKSxjKXtjb25zdCBlPVtdO2Zvcihjb25zdCByIG9mIGMpZS5wdXNoKGRUKHQuanNvbi5ub2Rlc1tyXSx0LGkpKTtoLmNoaWxkcmVuPWU7fXJldHVybiBofWZ1bmN0aW9uIHBUKGUpe2lmKDA9PT1lLnZlcnRpY2VzLmxlbmd0aHx8MD09PWUuaW5kaWNlcy5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3RbdCxpXT1bZS52ZXJ0aWNlc1swXS5jbG9uZSgpLGUudmVydGljZXNbMF0uY2xvbmUoKV07Zm9yKGxldCByPTE7cjxlLnZlcnRpY2VzLmxlbmd0aDsrK3Ipe2NvbnN0IG49ZS52ZXJ0aWNlc1tyXTt0Lng9TWF0aC5taW4odC54LG4ueCksdC55PU1hdGgubWluKHQueSxuLnkpLGkueD1NYXRoLm1heChpLngsbi54KSxpLnk9TWF0aC5tYXgoaS55LG4ueSk7fWNvbnN0IHI9TWF0aC5jZWlsKE1hdGgubWF4KGkueC10LngsaS55LXQueSkvMjU2KSxuPU1hdGgubWF4KDgsciksbz1uZXcgbFQoZS52ZXJ0aWNlcyxlLmluZGljZXMsbik7cmV0dXJuIHt2ZXJ0aWNlczplLnZlcnRpY2VzLGluZGljZXM6ZS5pbmRpY2VzLGdyaWQ6byxtaW46dCxtYXg6aX19ZnVuY3Rpb24gZlQoZSl7aWYoIWUuZXh0cmFzfHwhZS5leHRyYXMuZ3JvdW5kKXJldHVybiBudWxsO2NvbnN0IHQ9ZS5leHRyYXMuZ3JvdW5kO2lmKCF0fHwhQXJyYXkuaXNBcnJheSh0KXx8MD09PXQubGVuZ3RoKXJldHVybiBudWxsO2NvbnN0IGk9dFswXTtpZighaXx8IUFycmF5LmlzQXJyYXkoaSl8fDA9PT1pLmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCByPVtdO2Zvcihjb25zdCBlIG9mIGkpe2lmKCFBcnJheS5pc0FycmF5KGUpfHwyIT09ZS5sZW5ndGgpY29udGludWU7Y29uc3QgdD1lWzBdLGk9ZVsxXTtcIm51bWJlclwiPT10eXBlb2YgdCYmXCJudW1iZXJcIj09dHlwZW9mIGkmJnIucHVzaChuZXcgeSh0LGkpKTt9aWYoci5sZW5ndGg8MylyZXR1cm4gbnVsbDtyLmxlbmd0aD4xJiZyW3IubGVuZ3RoLTFdLmVxdWFscyhyWzBdKSYmci5wb3AoKTtsZXQgbj0wO2ZvcihsZXQgZT0wO2U8ci5sZW5ndGg7ZSsrKXtjb25zdCB0PXJbZV0saT1yWyhlKzEpJXIubGVuZ3RoXSxvPXJbKGUrMiklci5sZW5ndGhdO24rPSh0LngtaS54KSooby55LWkueSktKG8ueC1pLngpKih0LnktaS55KTt9bj4wJiZyLnJldmVyc2UoKTtjb25zdCBvPUNmKHIuZmxhdE1hcCgoZT0+W2UueCxlLnldKSksW10pO3JldHVybiAwPT09by5sZW5ndGg/bnVsbDp7dmVydGljZXM6cixpbmRpY2VzOm99fWZ1bmN0aW9uIG1UKGUpe2NvbnN0IHQ9W10saT1bXTtsZXQgcj0wO2Zvcihjb25zdCBuIG9mIGUpe3I9dC5sZW5ndGg7Y29uc3QgZT1uLnZlcnRleEFycmF5LmZsb2F0MzIsbz1uLmluZGV4QXJyYXkudWludDE2O2ZvcihsZXQgaT0wO2k8bi52ZXJ0ZXhBcnJheS5sZW5ndGg7aSsrKXQucHVzaChuZXcgeShlWzMqaSswXSxlWzMqaSsxXSkpO2ZvcihsZXQgZT0wO2U8MypuLmluZGV4QXJyYXkubGVuZ3RoO2UrKylpLnB1c2gob1tlXStyKTt9aWYoaS5sZW5ndGglMyE9MClyZXR1cm4gbnVsbDtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrPTMpe2NvbnN0IHI9dFtpW2UrMF1dLG49dFtpW2UrMV1dLG89dFtpW2UrMl1dOyhyLngtbi54KSooby55LW4ueSktKG8ueC1uLngpKihyLnktbi55KT4wJiYoW2lbZSsxXSxpW2UrMl1dPVtpW2UrMl0saVtlKzFdXSk7fXJldHVybiB7dmVydGljZXM6dCxpbmRpY2VzOml9fWZ1bmN0aW9uIF9UKGUpe2NvbnN0IGk9ZnVuY3Rpb24oZSxpKXtjb25zdCByPVtdLG49dC5XZWJHTDJSZW5kZXJpbmdDb250ZXh0O2lmKGUuanNvbi50ZXh0dXJlcylmb3IoY29uc3QgdCBvZiBlLmpzb24udGV4dHVyZXMpe2NvbnN0IG89e21hZ0ZpbHRlcjpuLkxJTkVBUixtaW5GaWx0ZXI6bi5ORUFSRVNULHdyYXBTOm4uUkVQRUFULHdyYXBUOm4uUkVQRUFUfTt2b2lkIDAhPT10LnNhbXBsZXImJk9iamVjdC5hc3NpZ24obyxlLmpzb24uc2FtcGxlcnNbdC5zYW1wbGVyXSksci5wdXNoKHtpbWFnZTppW3Quc291cmNlXSxzYW1wbGVyOm8sdXBsb2FkZWQ6ITF9KTt9cmV0dXJuIHJ9KGUsZS5pbWFnZXMpLHI9ZnVuY3Rpb24oZSx0KXtjb25zdCBpPVtdO2Zvcihjb25zdCByIG9mIGUuanNvbi5tZXNoZXMpe2NvbnN0IG49W107Zm9yKGNvbnN0IGkgb2Ygci5wcmltaXRpdmVzKW4ucHVzaCh1VChpLGUsdCkpO2kucHVzaChuKTt9cmV0dXJuIGl9KGUsaSkse3NjZW5lczpuLHNjZW5lOm8sbm9kZXM6c309ZS5qc29uLGE9bj9uW298fDBdLm5vZGVzOnMsbD1bXTtmb3IoY29uc3QgdCBvZiBhKWwucHVzaChkVChzW3RdLGUscikpO3JldHVybiBmdW5jdGlvbihlLHQsaSl7Y29uc3Qgcj17fSxuPW5ldyBTZXQ7Zm9yKGxldCBvPTA7bzxlLmxlbmd0aDtvKyspe2NvbnN0IGU9aVt0W29dXTtpZighZS5leHRyYXMpY29udGludWU7Y29uc3Qgcz1lLmV4dHJhc1tcIm1hcGJveDpmb290cHJpbnQ6dmVyc2lvblwiXSxhPWUuZXh0cmFzW1wibWFwYm94OmZvb3RwcmludDppZFwiXTsoc3x8YSkmJm4uYWRkKG8pLFwiMS4wLjBcIj09PXMmJmEmJihyW2FdPW8pO31mb3IobGV0IG89MDtvPGUubGVuZ3RoO28rKyl7aWYobi5oYXMobykpY29udGludWU7Y29uc3Qgcz1lW29dLGE9aVt0W29dXTtpZighYS5leHRyYXMpY29udGludWU7bGV0IGw9bnVsbDtzLmlkIGluIHImJihsPW1UKGVbcltzLmlkXV0ubWVzaGVzKSksbHx8KGw9ZlQoYSkpLGwmJihzLmZvb3RwcmludD1wVChsKSk7fWlmKG4uc2l6ZT4wKXtjb25zdCB0PUFycmF5LmZyb20obi52YWx1ZXMoKSkuc29ydCgoKGUsdCk9PmUtdCkpO2ZvcihsZXQgaT10Lmxlbmd0aC0xO2k+PTA7aS0tKWUuc3BsaWNlKHRbaV0sMSk7fX0obCxhLGUuanNvbi5ub2RlcyksbH1mdW5jdGlvbiBnVChlKXtlLmhlaWdodG1hcD1uZXcgRmxvYXQzMkFycmF5KDQwOTYpLGUuaGVpZ2h0bWFwLmZpbGwoLTEpO2NvbnN0IHQ9ZS52ZXJ0ZXhBcnJheS5mbG9hdDMyLGk9ZS5hYWJiLm1pblswXS0xLHI9ZS5hYWJiLm1pblsxXS0xLG49eHYvKGUuYWFiYi5tYXhbMF0taSsyKSxvPXh2LyhlLmFhYmIubWF4WzFdLXIrMik7Zm9yKGxldCBzPTA7czx0Lmxlbmd0aDtzKz0zKXtjb25zdCBhPXRbcysyXSxsPSh0W3MrMF0taSkqbnwwLGM9KHRbcysxXS1yKSpvfDA7YT5lLmhlaWdodG1hcFtjKnh2K2xdJiYoZS5oZWlnaHRtYXBbYyp4ditsXT1hKTt9fWZ1bmN0aW9uIHlUKGUsdCl7Y29uc3QgaT17fTtpLmluZGV4QXJyYXk9bmV3IFZhLGkuaW5kZXhBcnJheS5yZXNlcnZlKDQqZS5sZW5ndGgpLGkudmVydGV4QXJyYXk9bmV3IFVhLGkudmVydGV4QXJyYXkucmVzZXJ2ZSgxMCplLmxlbmd0aCksaS5jb2xvckFycmF5PW5ldyBJYSxpLnZlcnRleEFycmF5LnJlc2VydmUoMTAqZS5sZW5ndGgpO2xldCByPTA7Zm9yKGNvbnN0IG4gb2YgZSl7Y29uc3QgZT1NYXRoLm1pbigxMCxNYXRoLm1heCg0LDEuMypuLmhlaWdodCkpKnQsbz1bLW4ubm9ybWFsWzFdLG4ubm9ybWFsWzBdLDBdLHM9TWF0aC5taW4oLjI5LC4xKm4ud2lkdGgvbi5kZXB0aCksYT1uLndpZHRoLTIqbi5kZXB0aCp0KihzKy4wMSksbD1NdS5zY2FsZUFuZEFkZChbXSxuLnBvcyxvLGEvMiksYz1NdS5zY2FsZUFuZEFkZChbXSxuLnBvcyxvLC1hLzIpLGg9W2xbMF0sbFsxXSxsWzJdK24uaGVpZ2h0XSx1PVtjWzBdLGNbMV0sY1syXStuLmhlaWdodF0sZD1NdS5zY2FsZUFuZEFkZChbXSxuLm5vcm1hbCxvLHMpO011LnNjYWxlKGQsZCxlKTtjb25zdCBwPU11LnNjYWxlQW5kQWRkKFtdLG4ubm9ybWFsLG8sLXMpO011LnNjYWxlKHAscCxlKSxNdS5hZGQoZCxsLGQpLE11LmFkZChwLGMscCksbFsyXSs9LjEsY1syXSs9LjEsaS52ZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhkWzBdLGRbMV0sZFsyXSksaS52ZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhwWzBdLHBbMV0scFsyXSksaS52ZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhsWzBdLGxbMV0sbFsyXSksaS52ZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhjWzBdLGNbMV0sY1syXSksaS52ZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhoWzBdLGhbMV0saFsyXSksaS52ZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayh1WzBdLHVbMV0sdVsyXSksaS52ZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhsWzBdLGxbMV0sbFsyXSksaS52ZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhjWzBdLGNbMV0sY1syXSksaS52ZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhkWzBdLGRbMV0sZFsyXSksaS52ZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhwWzBdLHBbMV0scFsyXSk7Y29uc3QgZj1hL2UvMjtpLmNvbG9yQXJyYXkuZW1wbGFjZUJhY2soLWYtcywtMSxmLC44KSxpLmNvbG9yQXJyYXkuZW1wbGFjZUJhY2soZitzLC0xLGYsLjgpLGkuY29sb3JBcnJheS5lbXBsYWNlQmFjaygtZiwwLGYsMS4zKSxpLmNvbG9yQXJyYXkuZW1wbGFjZUJhY2soZiwwLGYsMS4zKSxpLmNvbG9yQXJyYXkuZW1wbGFjZUJhY2soZitzLC0uOCxmLC43KSxpLmNvbG9yQXJyYXkuZW1wbGFjZUJhY2soZitzLC0uOCxmLC43KSxpLmNvbG9yQXJyYXkuZW1wbGFjZUJhY2soMCwwLGYsMS4zKSxpLmNvbG9yQXJyYXkuZW1wbGFjZUJhY2soMCwwLGYsMS4zKSxpLmNvbG9yQXJyYXkuZW1wbGFjZUJhY2soZitzLC0xLjIsZiwuOCksaS5jb2xvckFycmF5LmVtcGxhY2VCYWNrKGYrcywtMS4yLGYsLjgpLGkuaW5kZXhBcnJheS5lbXBsYWNlQmFjayg2K3IsNCtyLDgrciksaS5pbmRleEFycmF5LmVtcGxhY2VCYWNrKDcrciw5K3IsNStyKSxpLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soMCtyLDErciwyK3IpLGkuaW5kZXhBcnJheS5lbXBsYWNlQmFjaygxK3IsMytyLDIrcikscis9MTA7fWNvbnN0IG49e2RlZmluZWQ6ITAsZW1pc3NpdmVGYWN0b3I6WzAsMCwwXX0sbz17fTtyZXR1cm4gby5iYXNlQ29sb3JGYWN0b3I9bGkud2hpdGUsbi5wYnJNZXRhbGxpY1JvdWdobmVzcz1vLGkubWF0ZXJpYWw9bixpLmFhYmI9bmV3IEh1KFsxLzAsMS8wLDEvMF0sWy0xLzAsLTEvMCwtMS8wXSksaX1JcyhsVCxcIlRyaWFuZ2xlR3JpZEluZGV4XCIpO2NvbnN0IHhUPXt2ZWN0b3I6UncscmFzdGVyOkx3LFwicmFzdGVyLWRlbVwiOmNsYXNzIGV4dGVuZHMgTHd7Y29uc3RydWN0b3IoZSx0LGkscil7c3VwZXIoZSx0LGksciksdGhpcy50eXBlPVwicmFzdGVyLWRlbVwiLHRoaXMubWF4em9vbT0yMix0aGlzLl9vcHRpb25zPWsoe3R5cGU6XCJyYXN0ZXItZGVtXCJ9LHQpLHRoaXMuZW5jb2Rpbmc9dC5lbmNvZGluZ3x8XCJtYXBib3hcIjt9bG9hZFRpbGUoZSxpKXtjb25zdCByPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVUaWxlVVJMKGUudGlsZUlELmNhbm9uaWNhbC51cmwodGhpcy50aWxlcyx0aGlzLnNjaGVtZSksITEsdGhpcy50aWxlU2l6ZSk7ZS5yZXF1ZXN0PUllKHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KHIseWUuVGlsZSksZnVuY3Rpb24ocixzLGEsbCl7aWYoZGVsZXRlIGUucmVxdWVzdCxlLmFib3J0ZWQpZS5zdGF0ZT1cInVubG9hZGVkXCIsaShudWxsKTtlbHNlIGlmKHIpZS5zdGF0ZT1cImVycm9yZWRcIixpKHIpO2Vsc2UgaWYocyl7dGhpcy5tYXAuX3JlZnJlc2hFeHBpcmVkVGlsZXMmJmUuc2V0RXhwaXJ5RGF0YSh7Y2FjaGVDb250cm9sOmEsZXhwaXJlczpsfSk7Y29uc3QgaT10LkltYWdlQml0bWFwJiZzIGluc3RhbmNlb2YgdC5JbWFnZUJpdG1hcCYmKG51bGw9PWt3JiYoa3c9dC5PZmZzY3JlZW5DYW52YXMmJm5ldyB0Lk9mZnNjcmVlbkNhbnZhcygxLDEpLmdldENvbnRleHQoXCIyZFwiKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5jcmVhdGVJbWFnZUJpdG1hcCksa3cpLHI9MS0ocy53aWR0aC0oKGM9cy53aWR0aCk8PTE/MTpNYXRoLnBvdygyLE1hdGguZmxvb3IoTWF0aC5sb2coYykvTWF0aC5MTjIpKSkpLzI7cjwxfHxlLm5laWdoYm9yaW5nVGlsZXN8fChlLm5laWdoYm9yaW5nVGlsZXM9dGhpcy5fZ2V0TmVpZ2hib3JpbmdUaWxlcyhlLnRpbGVJRCkpO2NvbnN0IGg9aT9zOmh0LmdldEltYWdlRGF0YShzLHIpLHU9e3VpZDplLnVpZCxjb29yZDplLnRpbGVJRCxzb3VyY2U6dGhpcy5pZCxzY29wZTp0aGlzLnNjb3BlLHJhd0ltYWdlRGF0YTpoLGVuY29kaW5nOnRoaXMuZW5jb2RpbmcscGFkZGluZzpyLGNvbnZlcnRUb0Zsb2F0Om59O2UuYWN0b3ImJlwiZXhwaXJlZFwiIT09ZS5zdGF0ZXx8KGUuYWN0b3I9dGhpcy5kaXNwYXRjaGVyLmdldEFjdG9yKCksZS5hY3Rvci5zZW5kKFwibG9hZERFTVRpbGVcIix1LG8uYmluZCh0aGlzKSx2b2lkIDAsITApKTt9dmFyIGM7fS5iaW5kKHRoaXMpKTtjb25zdCBuPXRoaXMubWFwPy5wYWludGVyPy50ZXJyYWluVXNlRmxvYXRERU0oKTtmdW5jdGlvbiBvKHQscil7dCYmKGUuc3RhdGU9XCJlcnJvcmVkXCIsaSh0KSksciYmKGUuZGVtPXIsZS5kZW0ub25EZXNlcmlhbGl6ZSgpLGUubmVlZHNIaWxsc2hhZGVQcmVwYXJlPSEwLGUubmVlZHNERU1UZXh0dXJlVXBsb2FkPSEwLGUuc3RhdGU9XCJsb2FkZWRcIixpKG51bGwpKTt9fV9nZXROZWlnaGJvcmluZ1RpbGVzKGUpe2NvbnN0IHQ9ZS5jYW5vbmljYWwsaT1NYXRoLnBvdygyLHQueikscj0odC54LTEraSklaSxuPTA9PT10Lng/ZS53cmFwLTE6ZS53cmFwLG89KHQueCsxK2kpJWkscz10LngrMT09PWk/ZS53cmFwKzE6ZS53cmFwLGE9e307cmV0dXJuIGFbbmV3IEJ1KGUub3ZlcnNjYWxlZFosbix0Lnoscix0LnkpLmtleV09e2JhY2tmaWxsZWQ6ITF9LGFbbmV3IEJ1KGUub3ZlcnNjYWxlZFoscyx0Lnosbyx0LnkpLmtleV09e2JhY2tmaWxsZWQ6ITF9LHQueT4wJiYoYVtuZXcgQnUoZS5vdmVyc2NhbGVkWixuLHQueixyLHQueS0xKS5rZXldPXtiYWNrZmlsbGVkOiExfSxhW25ldyBCdShlLm92ZXJzY2FsZWRaLGUud3JhcCx0LnosdC54LHQueS0xKS5rZXldPXtiYWNrZmlsbGVkOiExfSxhW25ldyBCdShlLm92ZXJzY2FsZWRaLHMsdC56LG8sdC55LTEpLmtleV09e2JhY2tmaWxsZWQ6ITF9KSx0LnkrMTxpJiYoYVtuZXcgQnUoZS5vdmVyc2NhbGVkWixuLHQueixyLHQueSsxKS5rZXldPXtiYWNrZmlsbGVkOiExfSxhW25ldyBCdShlLm92ZXJzY2FsZWRaLGUud3JhcCx0LnosdC54LHQueSsxKS5rZXldPXtiYWNrZmlsbGVkOiExfSxhW25ldyBCdShlLm92ZXJzY2FsZWRaLHMsdC56LG8sdC55KzEpLmtleV09e2JhY2tmaWxsZWQ6ITF9KSxhfXVubG9hZFRpbGUoZSl7ZS5kZW1UZXh0dXJlJiZ0aGlzLm1hcC5wYWludGVyLnNhdmVUaWxlVGV4dHVyZShlLmRlbVRleHR1cmUpLGUuaGlsbHNoYWRlRkJPJiYoZS5oaWxsc2hhZGVGQk8uZGVzdHJveSgpLGRlbGV0ZSBlLmhpbGxzaGFkZUZCTyksZS5kZW0mJmRlbGV0ZSBlLmRlbSxkZWxldGUgZS5uZWlnaGJvcmluZ1RpbGVzLGUuc3RhdGU9XCJ1bmxvYWRlZFwiO319LGdlb2pzb246Y2xhc3MgZXh0ZW5kcyBJdHtjb25zdHJ1Y3RvcihlLHQsaSxyKXtzdXBlcigpLHRoaXMuaWQ9ZSx0aGlzLnR5cGU9XCJnZW9qc29uXCIsdGhpcy5taW56b29tPTAsdGhpcy5tYXh6b29tPTE4LHRoaXMudGlsZVNpemU9NTEyLHRoaXMuaXNUaWxlQ2xpcHBlZD0hMCx0aGlzLnJlcGFyc2VPdmVyc2NhbGVkPSEwLHRoaXMuX2xvYWRlZD0hMSx0aGlzLmFjdG9yPWkuZ2V0QWN0b3IoKSx0aGlzLnNldEV2ZW50ZWRQYXJlbnQociksdGhpcy5fZGF0YT10LmRhdGEsdGhpcy5fb3B0aW9ucz1rKHt9LHQpLHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZz10LmNvbGxlY3RSZXNvdXJjZVRpbWluZyx2b2lkIDAhPT10Lm1heHpvb20mJih0aGlzLm1heHpvb209dC5tYXh6b29tKSx0LnR5cGUmJih0aGlzLnR5cGU9dC50eXBlKSx0LmF0dHJpYnV0aW9uJiYodGhpcy5hdHRyaWJ1dGlvbj10LmF0dHJpYnV0aW9uKSx0aGlzLnByb21vdGVJZD10LnByb21vdGVJZDtjb25zdCBuPXNyL3RoaXMudGlsZVNpemU7dGhpcy53b3JrZXJPcHRpb25zPWsoe3NvdXJjZTp0aGlzLmlkLHNjb3BlOnRoaXMuc2NvcGUsY2x1c3Rlcjp0LmNsdXN0ZXJ8fCExLGdlb2pzb25WdE9wdGlvbnM6e2J1ZmZlcjoodm9pZCAwIT09dC5idWZmZXI/dC5idWZmZXI6MTI4KSpuLHRvbGVyYW5jZToodm9pZCAwIT09dC50b2xlcmFuY2U/dC50b2xlcmFuY2U6LjM3NSkqbixleHRlbnQ6c3IsbWF4Wm9vbTp0aGlzLm1heHpvb20sbGluZU1ldHJpY3M6dC5saW5lTWV0cmljc3x8ITEsZ2VuZXJhdGVJZDp0LmdlbmVyYXRlSWR8fCExfSxzdXBlcmNsdXN0ZXJPcHRpb25zOnttYXhab29tOnZvaWQgMCE9PXQuY2x1c3Rlck1heFpvb20/dC5jbHVzdGVyTWF4Wm9vbTp0aGlzLm1heHpvb20tMSxtaW5Qb2ludHM6TWF0aC5tYXgoMix0LmNsdXN0ZXJNaW5Qb2ludHN8fDIpLGV4dGVudDpzcixyYWRpdXM6KHZvaWQgMCE9PXQuY2x1c3RlclJhZGl1cz90LmNsdXN0ZXJSYWRpdXM6NTApKm4sbG9nOiExLGdlbmVyYXRlSWQ6dC5nZW5lcmF0ZUlkfHwhMX0sY2x1c3RlclByb3BlcnRpZXM6dC5jbHVzdGVyUHJvcGVydGllcyxmaWx0ZXI6dC5maWx0ZXJ9LHQud29ya2VyT3B0aW9ucyk7fW9uQWRkKGUpe3RoaXMubWFwPWUsdGhpcy5zZXREYXRhKHRoaXMuX2RhdGEpO31zZXREYXRhKGUpe3JldHVybiB0aGlzLl9kYXRhPWUsdGhpcy5fdXBkYXRlV29ya2VyRGF0YSgpLHRoaXN9Z2V0Q2x1c3RlckV4cGFuc2lvblpvb20oZSx0KXtyZXR1cm4gdGhpcy5hY3Rvci5zZW5kKFwiZ2VvanNvbi5nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbVwiLHtjbHVzdGVySWQ6ZSxzb3VyY2U6dGhpcy5pZCxzY29wZTp0aGlzLnNjb3BlfSx0KSx0aGlzfWdldENsdXN0ZXJDaGlsZHJlbihlLHQpe3JldHVybiB0aGlzLmFjdG9yLnNlbmQoXCJnZW9qc29uLmdldENsdXN0ZXJDaGlsZHJlblwiLHtjbHVzdGVySWQ6ZSxzb3VyY2U6dGhpcy5pZCxzY29wZTp0aGlzLnNjb3BlfSx0KSx0aGlzfWdldENsdXN0ZXJMZWF2ZXMoZSx0LGkscil7cmV0dXJuIHRoaXMuYWN0b3Iuc2VuZChcImdlb2pzb24uZ2V0Q2x1c3RlckxlYXZlc1wiLHtzb3VyY2U6dGhpcy5pZCxzY29wZTp0aGlzLnNjb3BlLGNsdXN0ZXJJZDplLGxpbWl0OnQsb2Zmc2V0Oml9LHIpLHRoaXN9X3VwZGF0ZVdvcmtlckRhdGEoKXtpZih0aGlzLl9wZW5kaW5nTG9hZClyZXR1cm4gdm9pZCh0aGlzLl9jb2FsZXNjZT0hMCk7dGhpcy5maXJlKG5ldyBBdChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic291cmNlXCJ9KSksdGhpcy5fbG9hZGVkPSExO2NvbnN0IGU9ayh7fSx0aGlzLndvcmtlck9wdGlvbnMpO2Uuc2NvcGU9dGhpcy5zY29wZTtjb25zdCB0PXRoaXMuX2RhdGE7XCJzdHJpbmdcIj09dHlwZW9mIHQ/KGUucmVxdWVzdD10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChodC5yZXNvbHZlVVJMKHQpLHllLlNvdXJjZSksZS5yZXF1ZXN0LmNvbGxlY3RSZXNvdXJjZVRpbWluZz10aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcpOmUuZGF0YT1KU09OLnN0cmluZ2lmeSh0KSx0aGlzLl9wZW5kaW5nTG9hZD10aGlzLmFjdG9yLnNlbmQoYCR7dGhpcy50eXBlfS5sb2FkRGF0YWAsZSwoKGUsdCk9PntpZih0aGlzLl9sb2FkZWQ9ITAsdGhpcy5fcGVuZGluZ0xvYWQ9bnVsbCxlKXRoaXMuZmlyZShuZXcgU3QoZSkpO2Vsc2Uge2NvbnN0IGU9e2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6dGhpcy5fbWV0YWRhdGFGaXJlZD9cImNvbnRlbnRcIjpcIm1ldGFkYXRhXCJ9O3RoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyYmdCYmdC5yZXNvdXJjZVRpbWluZyYmdC5yZXNvdXJjZVRpbWluZ1t0aGlzLmlkXSYmKGUucmVzb3VyY2VUaW1pbmc9dC5yZXNvdXJjZVRpbWluZ1t0aGlzLmlkXSksdGhpcy5maXJlKG5ldyBBdChcImRhdGFcIixlKSksdGhpcy5fbWV0YWRhdGFGaXJlZD0hMDt9dGhpcy5fY29hbGVzY2UmJih0aGlzLl91cGRhdGVXb3JrZXJEYXRhKCksdGhpcy5fY29hbGVzY2U9ITEpO30pKTt9bG9hZGVkKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH1sb2FkVGlsZShlLHQpe2NvbnN0IGk9ZS5hY3Rvcj9cInJlbG9hZFRpbGVcIjpcImxvYWRUaWxlXCI7ZS5hY3Rvcj10aGlzLmFjdG9yO2NvbnN0IHI9e3R5cGU6dGhpcy50eXBlLHVpZDplLnVpZCx0aWxlSUQ6ZS50aWxlSUQsdGlsZVpvb206ZS50aWxlWm9vbSx6b29tOmUudGlsZUlELm92ZXJzY2FsZWRaLG1heFpvb206dGhpcy5tYXh6b29tLHRpbGVTaXplOnRoaXMudGlsZVNpemUsc291cmNlOnRoaXMuaWQsc2NvcGU6dGhpcy5zY29wZSxwaXhlbFJhdGlvOmh0LmRldmljZVBpeGVsUmF0aW8sc2hvd0NvbGxpc2lvbkJveGVzOnRoaXMubWFwLnNob3dDb2xsaXNpb25Cb3hlcyxwcm9tb3RlSWQ6dGhpcy5wcm9tb3RlSWQsYnJpZ2h0bmVzczp0aGlzLm1hcC5zdHlsZSYmdGhpcy5tYXAuc3R5bGUuZ2V0QnJpZ2h0bmVzcygpfHwwfTtlLnJlcXVlc3Q9dGhpcy5hY3Rvci5zZW5kKGksciwoKHIsbik9PihkZWxldGUgZS5yZXF1ZXN0LGUudW5sb2FkVmVjdG9yRGF0YSgpLGUuYWJvcnRlZD90KG51bGwpOnI/dChyKTooZS5sb2FkVmVjdG9yRGF0YShuLHRoaXMubWFwLnBhaW50ZXIsXCJyZWxvYWRUaWxlXCI9PT1pKSx0KG51bGwpKSkpLHZvaWQgMCxcImxvYWRUaWxlXCI9PT1pKTt9YWJvcnRUaWxlKGUpe2UucmVxdWVzdCYmKGUucmVxdWVzdC5jYW5jZWwoKSxkZWxldGUgZS5yZXF1ZXN0KSxlLmFib3J0ZWQ9ITA7fXVubG9hZFRpbGUoZSl7ZS51bmxvYWRWZWN0b3JEYXRhKCksdGhpcy5hY3Rvci5zZW5kKFwicmVtb3ZlVGlsZVwiLHt1aWQ6ZS51aWQsdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWQsc2NvcGU6dGhpcy5zY29wZX0pO31vblJlbW92ZSgpe3RoaXMuX3BlbmRpbmdMb2FkJiZ0aGlzLl9wZW5kaW5nTG9hZC5jYW5jZWwoKTt9c2VyaWFsaXplKCl7cmV0dXJuIGsoe30sdGhpcy5fb3B0aW9ucyx7dHlwZTp0aGlzLnR5cGUsZGF0YTp0aGlzLl9kYXRhfSl9aGFzVHJhbnNpdGlvbigpe3JldHVybiAhMX19LHZpZGVvOmNsYXNzIGV4dGVuZHMgcWJ7Y29uc3RydWN0b3IoZSx0LGkscil7c3VwZXIoZSx0LGksciksdGhpcy5yb3VuZFpvb209ITAsdGhpcy50eXBlPVwidmlkZW9cIix0aGlzLm9wdGlvbnM9dDt9bG9hZCgpe3RoaXMuX2xvYWRlZD0hMTtjb25zdCBlPXRoaXMub3B0aW9uczt0aGlzLnVybHM9W107Zm9yKGNvbnN0IHQgb2YgZS51cmxzKXRoaXMudXJscy5wdXNoKHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KHQseWUuU291cmNlKS51cmwpOyFmdW5jdGlvbihlLGkpe2NvbnN0IHI9dC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7ci5tdXRlZD0hMCxyLm9ubG9hZHN0YXJ0PWZ1bmN0aW9uKCl7aShudWxsLHIpO307Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2NvbnN0IG49dC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic291cmNlXCIpO0VlKGVbaV0pfHwoci5jcm9zc09yaWdpbj1cIkFub255bW91c1wiKSxuLnNyYz1lW2ldLHIuYXBwZW5kQ2hpbGQobik7fX0odGhpcy51cmxzLCgoZSx0KT0+e3RoaXMuX2xvYWRlZD0hMCxlP3RoaXMuZmlyZShuZXcgU3QoZSkpOnQmJih0aGlzLnZpZGVvPXQsdGhpcy52aWRlby5sb29wPSEwLHRoaXMudmlkZW8uc2V0QXR0cmlidXRlKFwicGxheXNpbmxpbmVcIixcIlwiKSx0aGlzLnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJwbGF5aW5nXCIsKCgpPT57dGhpcy5tYXAudHJpZ2dlclJlcGFpbnQoKTt9KSksdGhpcy5tYXAmJnRoaXMudmlkZW8ucGxheSgpLHRoaXMuX2ZpbmlzaExvYWRpbmcoKSk7fSkpO31wYXVzZSgpe3RoaXMudmlkZW8mJnRoaXMudmlkZW8ucGF1c2UoKTt9cGxheSgpe3RoaXMudmlkZW8mJnRoaXMudmlkZW8ucGxheSgpO31zZWVrKGUpe2lmKHRoaXMudmlkZW8pe2NvbnN0IHQ9dGhpcy52aWRlby5zZWVrYWJsZTtlPHQuc3RhcnQoMCl8fGU+dC5lbmQoMCk/dGhpcy5maXJlKG5ldyBTdChuZXcgenQoYHNvdXJjZXMuJHt0aGlzLmlkfWAsbnVsbCxgUGxheWJhY2sgZm9yIHRoaXMgdmlkZW8gY2FuIGJlIHNldCBvbmx5IGJldHdlZW4gdGhlICR7dC5zdGFydCgwKX0gYW5kICR7dC5lbmQoMCl9LXNlY29uZCBtYXJrLmApKSk6dGhpcy52aWRlby5jdXJyZW50VGltZT1lO319Z2V0VmlkZW8oKXtyZXR1cm4gdGhpcy52aWRlb31vbkFkZChlKXt0aGlzLm1hcHx8KHRoaXMubWFwPWUsdGhpcy5sb2FkKCksdGhpcy52aWRlbyYmKHRoaXMudmlkZW8ucGxheSgpLHRoaXMuc2V0Q29vcmRpbmF0ZXModGhpcy5jb29yZGluYXRlcykpKTt9cHJlcGFyZSgpe2lmKDA9PT1PYmplY3Qua2V5cyh0aGlzLnRpbGVzKS5sZW5ndGh8fHRoaXMudmlkZW8ucmVhZHlTdGF0ZTwyKXJldHVybjtjb25zdCBlPXRoaXMubWFwLnBhaW50ZXIuY29udGV4dCx0PWUuZ2w7dGhpcy50ZXh0dXJlP3RoaXMudmlkZW8ucGF1c2VkfHwodGhpcy50ZXh0dXJlLmJpbmQodC5MSU5FQVIsdC5DTEFNUF9UT19FREdFKSx0LnRleFN1YkltYWdlMkQodC5URVhUVVJFXzJELDAsMCwwLHQuUkdCQSx0LlVOU0lHTkVEX0JZVEUsdGhpcy52aWRlbykpOih0aGlzLnRleHR1cmU9bmV3IGd5KGUsdGhpcy52aWRlbyx0LlJHQkEpLHRoaXMudGV4dHVyZS5iaW5kKHQuTElORUFSLHQuQ0xBTVBfVE9fRURHRSksdGhpcy53aWR0aD10aGlzLnZpZGVvLnZpZGVvV2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy52aWRlby52aWRlb0hlaWdodCksdGhpcy5fcHJlcGFyZURhdGEoZSk7fXNlcmlhbGl6ZSgpe3JldHVybiB7dHlwZTpcInZpZGVvXCIsdXJsczp0aGlzLnVybHMsY29vcmRpbmF0ZXM6dGhpcy5jb29yZGluYXRlc319aGFzVHJhbnNpdGlvbigpe3JldHVybiB0aGlzLnZpZGVvJiYhdGhpcy52aWRlby5wYXVzZWR9fSxpbWFnZTpxYixtb2RlbDpjbGFzcyBleHRlbmRzIEl0e2NvbnN0cnVjdG9yKGUsdCxpLHIpe3N1cGVyKCksdGhpcy5pZD1lLHRoaXMudHlwZT1cIm1vZGVsXCIsdGhpcy5tb2RlbHM9W10sdGhpcy5fbG9hZGVkPSExLHRoaXMuX29wdGlvbnM9dDt9bG9hZCgpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgaW4gdGhpcy5fb3B0aW9ucy5tb2RlbHMpe2NvbnN0IGk9dGhpcy5fb3B0aW9ucy5tb2RlbHNbdF0scj1hVCh0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChpLnVyaSx5ZS5Nb2RlbCkudXJsKS50aGVuKChlPT57aWYoIWUpcmV0dXJuO2NvbnN0IHI9X1QoZSksbj1uZXcgYnYodCxpLnBvc2l0aW9uLGkub3JpZW50YXRpb24scik7bi5jb21wdXRlQm91bmRzQW5kQXBwbHlQYXJlbnQoKSx0aGlzLm1vZGVscy5wdXNoKG4pO30pKS5jYXRjaCgoZT0+e3RoaXMuZmlyZShuZXcgU3QobmV3IEVycm9yKGBDb3VsZCBub3QgbG9hZCBtb2RlbCAke3R9IGZyb20gJHtpLnVyaX06ICR7ZS5tZXNzYWdlfWApKSk7fSkpO2UucHVzaChyKTt9cmV0dXJuIFByb21pc2UuYWxsU2V0dGxlZChlKS50aGVuKCgoKT0+e3RoaXMuX2xvYWRlZD0hMCx0aGlzLmZpcmUobmV3IEF0KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwibWV0YWRhdGFcIn0pKTt9KSkuY2F0Y2goKGU9Pnt0aGlzLmZpcmUobmV3IFN0KG5ldyBFcnJvcihgQ291bGQgbm90IGxvYWQgbW9kZWxzOiAke2UubWVzc2FnZX1gKSkpO30pKX1vbkFkZChlKXt0aGlzLm1hcD1lLHRoaXMubG9hZCgpO31oYXNUcmFuc2l0aW9uKCl7cmV0dXJuICExfWxvYWRlZCgpe3JldHVybiB0aGlzLl9sb2FkZWR9Z2V0TW9kZWxzKCl7cmV0dXJuIHRoaXMubW9kZWxzfWxvYWRUaWxlKGUsdCl7fXNlcmlhbGl6ZSgpe3JldHVybiB7dHlwZTpcIm1vZGVsXCJ9fX0sXCJiYXRjaGVkLW1vZGVsXCI6Y2xhc3MgZXh0ZW5kcyBJdHtjb25zdHJ1Y3RvcihlLHQsaSxyKXtzdXBlcigpLHRoaXMudHlwZT1cImJhdGNoZWQtbW9kZWxcIix0aGlzLmlkPWUsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy5fb3B0aW9ucz10LHRoaXMudGlsZXM9dGhpcy5fb3B0aW9ucy50aWxlcyx0aGlzLm1heHpvb209dC5tYXh6b29tfHwxOSx0aGlzLm1pbnpvb209dC5taW56b29tfHwwLHRoaXMucm91bmRab29tPSEwLHRoaXMudXNlZEluQ29uZmxhdGlvbj0hMCx0aGlzLmRpc3BhdGNoZXI9aSx0aGlzLnJlcGFyc2VPdmVyc2NhbGVkPSExLHRoaXMuc2NoZW1lPVwieHl6XCIsdGhpcy5fbG9hZGVkPSExLHRoaXMuc2V0RXZlbnRlZFBhcmVudChyKTt9b25BZGQoZSl7dGhpcy5tYXA9ZSx0aGlzLmxvYWQoKTt9bG9hZChlKXt0aGlzLl9sb2FkZWQ9ITEsdGhpcy5maXJlKG5ldyBBdChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic291cmNlXCJ9KSk7Y29uc3QgdD1BcnJheS5pc0FycmF5KHRoaXMubWFwLl9sYW5ndWFnZSk/dGhpcy5tYXAuX2xhbmd1YWdlLmpvaW4oKTp0aGlzLm1hcC5fbGFuZ3VhZ2UsaT10aGlzLm1hcC5fd29ybGR2aWV3O3RoaXMuX3RpbGVKU09OUmVxdWVzdD1Fdyh0aGlzLl9vcHRpb25zLHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlcix0LGksKChyLG4pPT57dGhpcy5fdGlsZUpTT05SZXF1ZXN0PW51bGwsdGhpcy5fbG9hZGVkPSEwLHI/KHQmJmNvbnNvbGUud2FybihgRW5zdXJlIHRoYXQgeW91ciByZXF1ZXN0ZWQgbGFuZ3VhZ2Ugc3RyaW5nIGlzIGEgdmFsaWQgQkNQLTQ3IGNvZGUgb3IgbGlzdCBvZiBjb2Rlcy4gRm91bmQ6ICR7dH1gKSxpJiYyIT09aS5sZW5ndGgmJmNvbnNvbGUud2FybihgUmVxdWVzdGVkIHdvcmxkdmlldyBzdHJpbmdzIG11c3QgYmUgYSB2YWxpZCBJU08gYWxwaGEtMiBjb2RlLiBGb3VuZDogJHtpfWApLHRoaXMuZmlyZShuZXcgU3QocikpKTpuJiYoayh0aGlzLG4pLG4uYm91bmRzJiYodGhpcy50aWxlQm91bmRzPW5ldyBNdyhuLmJvdW5kcyx0aGlzLm1pbnpvb20sdGhpcy5tYXh6b29tKSksR2Uobi50aWxlcyx0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VuKSx0aGlzLmZpcmUobmV3IEF0KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwibWV0YWRhdGFcIn0pKSx0aGlzLmZpcmUobmV3IEF0KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwiY29udGVudFwifSkpKSxlJiZlKHIpO30pKTt9aGFzVHJhbnNpdGlvbigpe3JldHVybiAhMX1oYXNUaWxlKGUpe3JldHVybiAhdGhpcy50aWxlQm91bmRzfHx0aGlzLnRpbGVCb3VuZHMuY29udGFpbnMoZS5jYW5vbmljYWwpfWxvYWRlZCgpe3JldHVybiB0aGlzLl9sb2FkZWR9bG9hZFRpbGUoZSx0KXtjb25zdCBpPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVUaWxlVVJMKGUudGlsZUlELmNhbm9uaWNhbC51cmwodGhpcy50aWxlcyx0aGlzLnNjaGVtZSkpLHI9e3JlcXVlc3Q6dGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QoaSx5ZS5UaWxlKSxkYXRhOnZvaWQgMCx1aWQ6ZS51aWQsdGlsZUlEOmUudGlsZUlELHRpbGVab29tOmUudGlsZVpvb20sem9vbTplLnRpbGVJRC5vdmVyc2NhbGVkWix0aWxlU2l6ZTp0aGlzLnRpbGVTaXplKmUudGlsZUlELm92ZXJzY2FsZUZhY3RvcigpLHR5cGU6dGhpcy50eXBlLHNvdXJjZTp0aGlzLmlkLHNjb3BlOnRoaXMuc2NvcGUsc2hvd0NvbGxpc2lvbkJveGVzOnRoaXMubWFwLnNob3dDb2xsaXNpb25Cb3hlcyxpc1N5bWJvbFRpbGU6ZS5pc1N5bWJvbFRpbGUsYnJpZ2h0bmVzczp0aGlzLm1hcC5zdHlsZSYmdGhpcy5tYXAuc3R5bGUuZ2V0QnJpZ2h0bmVzcygpfHwwfTtpZihlLmFjdG9yJiZcImV4cGlyZWRcIiE9PWUuc3RhdGUpaWYoXCJsb2FkaW5nXCI9PT1lLnN0YXRlKWUucmVsb2FkQ2FsbGJhY2s9dDtlbHNlIHtpZihlLmJ1Y2tldHMpe2NvbnN0IHQ9T2JqZWN0LnZhbHVlcyhlLmJ1Y2tldHMpO2Zvcihjb25zdCBlIG9mIHQpZS5kaXJ0eT0hMDtyZXR1cm4gdm9pZChlLnN0YXRlPVwibG9hZGVkXCIpfWUucmVxdWVzdD1lLmFjdG9yLnNlbmQoXCJyZWxvYWRUaWxlXCIscixuLmJpbmQodGhpcykpO31lbHNlIGUuYWN0b3I9dGhpcy5kaXNwYXRjaGVyLmdldEFjdG9yKCksZS5yZXF1ZXN0PWUuYWN0b3Iuc2VuZChcImxvYWRUaWxlXCIscixuLmJpbmQodGhpcyksdm9pZCAwLCEwKTtmdW5jdGlvbiBuKGkscil7cmV0dXJuIGUuYWJvcnRlZD90KG51bGwpOmkmJjQwNCE9PWkuc3RhdHVzP3QoaSk6KHImJihyLnJlc291cmNlVGltaW5nJiYoZS5yZXNvdXJjZVRpbWluZz1yLnJlc291cmNlVGltaW5nKSx0aGlzLm1hcC5fcmVmcmVzaEV4cGlyZWRUaWxlcyYmZS5zZXRFeHBpcnlEYXRhKHIpLGUuYnVja2V0cz17Li4uZS5idWNrZXRzLC4uLnIuYnVja2V0c30pLGUuc3RhdGU9XCJsb2FkZWRcIix2b2lkIHQobnVsbCkpfX1zZXJpYWxpemUoKXtyZXR1cm4gayh7fSx0aGlzLl9vcHRpb25zKX19LGNhbnZhczpjbGFzcyBleHRlbmRzIHFie2NvbnN0cnVjdG9yKGUsaSxyLG4pe3N1cGVyKGUsaSxyLG4pLGkuY29vcmRpbmF0ZXM/QXJyYXkuaXNBcnJheShpLmNvb3JkaW5hdGVzKSYmND09PWkuY29vcmRpbmF0ZXMubGVuZ3RoJiYhaS5jb29yZGluYXRlcy5zb21lKChlPT4hQXJyYXkuaXNBcnJheShlKXx8MiE9PWUubGVuZ3RofHxlLnNvbWUoKGU9PlwibnVtYmVyXCIhPXR5cGVvZiBlKSkpKXx8dGhpcy5maXJlKG5ldyBTdChuZXcgenQoYHNvdXJjZXMuJHtlfWAsbnVsbCwnXCJjb29yZGluYXRlc1wiIHByb3BlcnR5IG11c3QgYmUgYW4gYXJyYXkgb2YgNCBsb25naXR1ZGUvbGF0aXR1ZGUgYXJyYXkgcGFpcnMnKSkpOnRoaXMuZmlyZShuZXcgU3QobmV3IHp0KGBzb3VyY2VzLiR7ZX1gLG51bGwsJ21pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJjb29yZGluYXRlc1wiJykpKSxpLmFuaW1hdGUmJlwiYm9vbGVhblwiIT10eXBlb2YgaS5hbmltYXRlJiZ0aGlzLmZpcmUobmV3IFN0KG5ldyB6dChgc291cmNlcy4ke2V9YCxudWxsLCdvcHRpb25hbCBcImFuaW1hdGVcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgYm9vbGVhbiB2YWx1ZScpKSksaS5jYW52YXM/XCJzdHJpbmdcIj09dHlwZW9mIGkuY2FudmFzfHxpLmNhbnZhcyBpbnN0YW5jZW9mIHQuSFRNTENhbnZhc0VsZW1lbnR8fHRoaXMuZmlyZShuZXcgU3QobmV3IHp0KGBzb3VyY2VzLiR7ZX1gLG51bGwsJ1wiY2FudmFzXCIgbXVzdCBiZSBlaXRoZXIgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBJRCBvZiB0aGUgY2FudmFzIGVsZW1lbnQgZnJvbSB3aGljaCB0byByZWFkLCBvciBhbiBIVE1MQ2FudmFzRWxlbWVudCBpbnN0YW5jZScpKSk6dGhpcy5maXJlKG5ldyBTdChuZXcgenQoYHNvdXJjZXMuJHtlfWAsbnVsbCwnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcImNhbnZhc1wiJykpKSx0aGlzLm9wdGlvbnM9aSx0aGlzLmFuaW1hdGU9dm9pZCAwPT09aS5hbmltYXRlfHxpLmFuaW1hdGU7fWxvYWQoKXt0aGlzLl9sb2FkZWQ9ITAsdGhpcy5jYW52YXN8fCh0aGlzLmNhbnZhcz10aGlzLm9wdGlvbnMuY2FudmFzIGluc3RhbmNlb2YgdC5IVE1MQ2FudmFzRWxlbWVudD90aGlzLm9wdGlvbnMuY2FudmFzOnQuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5vcHRpb25zLmNhbnZhcykpLHRoaXMud2lkdGg9dGhpcy5jYW52YXMud2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy5jYW52YXMuaGVpZ2h0LHRoaXMuX2hhc0ludmFsaWREaW1lbnNpb25zKCk/dGhpcy5maXJlKG5ldyBTdChuZXcgRXJyb3IoXCJDYW52YXMgZGltZW5zaW9ucyBjYW5ub3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHplcm8uXCIpKSk6KHRoaXMucGxheT1mdW5jdGlvbigpe3RoaXMuX3BsYXlpbmc9ITAsdGhpcy5tYXAudHJpZ2dlclJlcGFpbnQoKTt9LHRoaXMucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLl9wbGF5aW5nJiYodGhpcy5wcmVwYXJlKCksdGhpcy5fcGxheWluZz0hMSk7fSx0aGlzLl9maW5pc2hMb2FkaW5nKCkpO31nZXRDYW52YXMoKXtyZXR1cm4gdGhpcy5jYW52YXN9b25BZGQoZSl7dGhpcy5tYXA9ZSx0aGlzLmxvYWQoKSx0aGlzLmNhbnZhcyYmdGhpcy5hbmltYXRlJiZ0aGlzLnBsYXkoKTt9b25SZW1vdmUoKXt0aGlzLnBhdXNlKCk7fXByZXBhcmUoKXtsZXQgZT0hMTtpZih0aGlzLmNhbnZhcy53aWR0aCE9PXRoaXMud2lkdGgmJih0aGlzLndpZHRoPXRoaXMuY2FudmFzLndpZHRoLGU9ITApLHRoaXMuY2FudmFzLmhlaWdodCE9PXRoaXMuaGVpZ2h0JiYodGhpcy5oZWlnaHQ9dGhpcy5jYW52YXMuaGVpZ2h0LGU9ITApLHRoaXMuX2hhc0ludmFsaWREaW1lbnNpb25zKCkpcmV0dXJuO2lmKDA9PT1PYmplY3Qua2V5cyh0aGlzLnRpbGVzKS5sZW5ndGgpcmV0dXJuO2NvbnN0IHQ9dGhpcy5tYXAucGFpbnRlci5jb250ZXh0O3RoaXMudGV4dHVyZT8hZSYmIXRoaXMuX3BsYXlpbmd8fHRoaXMudGV4dHVyZSBpbnN0YW5jZW9mIHl5fHx0aGlzLnRleHR1cmUudXBkYXRlKHRoaXMuY2FudmFzLHtwcmVtdWx0aXBseTohMH0pOnRoaXMudGV4dHVyZT1uZXcgZ3kodCx0aGlzLmNhbnZhcyx0LmdsLlJHQkEse3ByZW11bHRpcGx5OiEwfSksdGhpcy5fcHJlcGFyZURhdGEodCk7fXNlcmlhbGl6ZSgpe3JldHVybiB7dHlwZTpcImNhbnZhc1wiLGNvb3JkaW5hdGVzOnRoaXMuY29vcmRpbmF0ZXN9fWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gdGhpcy5fcGxheWluZ31faGFzSW52YWxpZERpbWVuc2lvbnMoKXtmb3IoY29uc3QgZSBvZiBbdGhpcy5jYW52YXMud2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0XSlpZihpc05hTihlKXx8ZTw9MClyZXR1cm4gITA7cmV0dXJuICExfX0sY3VzdG9tOmNsYXNzIGV4dGVuZHMgSXR7Y29uc3RydWN0b3IoZSx0LGkscil7c3VwZXIoKSx0aGlzLmlkPWUsdGhpcy50eXBlPVwiY3VzdG9tXCIsdGhpcy5fZGF0YVR5cGU9XCJyYXN0ZXJcIix0aGlzLl9kaXNwYXRjaGVyPWksdGhpcy5faW1wbGVtZW50YXRpb249dCx0aGlzLnNldEV2ZW50ZWRQYXJlbnQociksdGhpcy5zY2hlbWU9XCJ4eXpcIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MjIsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy5fbG9hZGVkPSExLHRoaXMucm91bmRab29tPSEwLHRoaXMuX2ltcGxlbWVudGF0aW9ufHx0aGlzLmZpcmUobmV3IFN0KG5ldyBFcnJvcihgTWlzc2luZyBpbXBsZW1lbnRhdGlvbiBmb3IgJHt0aGlzLmlkfSBjdXN0b20gc291cmNlYCkpKSx0aGlzLl9pbXBsZW1lbnRhdGlvbi5sb2FkVGlsZXx8dGhpcy5maXJlKG5ldyBTdChuZXcgRXJyb3IoYE1pc3NpbmcgbG9hZFRpbGUgaW1wbGVtZW50YXRpb24gZm9yICR7dGhpcy5pZH0gY3VzdG9tIHNvdXJjZWApKSksdGhpcy5faW1wbGVtZW50YXRpb24uYm91bmRzJiYodGhpcy50aWxlQm91bmRzPW5ldyBNdyh0aGlzLl9pbXBsZW1lbnRhdGlvbi5ib3VuZHMsdGhpcy5taW56b29tLHRoaXMubWF4em9vbSkpLHQudXBkYXRlPXRoaXMuX3VwZGF0ZS5iaW5kKHRoaXMpLHQuY2xlYXJUaWxlcz10aGlzLl9jbGVhclRpbGVzLmJpbmQodGhpcyksdC5jb3ZlcmluZ1RpbGVzPXRoaXMuX2NvdmVyaW5nVGlsZXMuYmluZCh0aGlzKSxrKHRoaXMsTyh0LFtcImRhdGFUeXBlXCIsXCJzY2hlbWVcIixcIm1pbnpvb21cIixcIm1heHpvb21cIixcInRpbGVTaXplXCIsXCJhdHRyaWJ1dGlvblwiLFwibWluVGlsZUNhY2hlU2l6ZVwiLFwibWF4VGlsZUNhY2hlU2l6ZVwiXSkpO31zZXJpYWxpemUoKXtyZXR1cm4gTyh0aGlzLFtcInR5cGVcIixcInNjaGVtZVwiLFwibWluem9vbVwiLFwibWF4em9vbVwiLFwidGlsZVNpemVcIixcImF0dHJpYnV0aW9uXCJdKX1sb2FkKCl7dGhpcy5fbG9hZGVkPSEwLHRoaXMuZmlyZShuZXcgQXQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJtZXRhZGF0YVwifSkpLHRoaXMuZmlyZShuZXcgQXQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJjb250ZW50XCJ9KSk7fWxvYWRlZCgpe3JldHVybiB0aGlzLl9sb2FkZWR9b25BZGQoZSl7dGhpcy5fbWFwPWUsdGhpcy5fbG9hZGVkPSExLHRoaXMuZmlyZShuZXcgQXQoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInNvdXJjZVwifSkpLHRoaXMuX2ltcGxlbWVudGF0aW9uLm9uQWRkJiZ0aGlzLl9pbXBsZW1lbnRhdGlvbi5vbkFkZChlKSx0aGlzLmxvYWQoKTt9b25SZW1vdmUoZSl7dGhpcy5faW1wbGVtZW50YXRpb24ub25SZW1vdmUmJnRoaXMuX2ltcGxlbWVudGF0aW9uLm9uUmVtb3ZlKGUpO31oYXNUaWxlKGUpe2lmKHRoaXMuX2ltcGxlbWVudGF0aW9uLmhhc1RpbGUpe2NvbnN0e3g6dCx5OmksejpyfT1lLmNhbm9uaWNhbDtyZXR1cm4gdGhpcy5faW1wbGVtZW50YXRpb24uaGFzVGlsZSh7eDp0LHk6aSx6OnJ9KX1yZXR1cm4gIXRoaXMudGlsZUJvdW5kc3x8dGhpcy50aWxlQm91bmRzLmNvbnRhaW5zKGUuY2Fub25pY2FsKX1sb2FkVGlsZShlLGkpe2NvbnN0e3g6cix5Om4sejpvfT1lLnRpbGVJRC5jYW5vbmljYWwscz1uZXcgdC5BYm9ydENvbnRyb2xsZXI7ZS5yZXF1ZXN0PVByb21pc2UucmVzb2x2ZSh0aGlzLl9pbXBsZW1lbnRhdGlvbi5sb2FkVGlsZSh7eDpyLHk6bix6Om99LHtzaWduYWw6cy5zaWduYWx9KSkudGhlbihmdW5jdGlvbihyKXtyZXR1cm4gZGVsZXRlIGUucmVxdWVzdCxlLmFib3J0ZWQ/KGUuc3RhdGU9XCJ1bmxvYWRlZFwiLGkobnVsbCkpOnZvaWQgMD09PXI/KGUuc3RhdGU9XCJlcnJvcmVkXCIsaShudWxsKSk6bnVsbD09PXI/KHRoaXMubG9hZFRpbGVEYXRhKGUse3dpZHRoOnRoaXMudGlsZVNpemUsaGVpZ2h0OnRoaXMudGlsZVNpemUsZGF0YTpudWxsfSksZS5zdGF0ZT1cImxvYWRlZFwiLGkobnVsbCkpOmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdC5JbWFnZURhdGF8fGUgaW5zdGFuY2VvZiB0LkhUTUxDYW52YXNFbGVtZW50fHxlIGluc3RhbmNlb2YgdC5JbWFnZUJpdG1hcHx8ZSBpbnN0YW5jZW9mIHQuSFRNTEltYWdlRWxlbWVudH0ocik/KHRoaXMubG9hZFRpbGVEYXRhKGUsciksZS5zdGF0ZT1cImxvYWRlZFwiLHZvaWQgaShudWxsKSk6KGUuc3RhdGU9XCJlcnJvcmVkXCIsaShuZXcgRXJyb3IoYENhbid0IGluZmVyIGRhdGEgdHlwZSBmb3IgJHt0aGlzLmlkfSwgb25seSByYXN0ZXIgZGF0YSBzdXBwb3J0ZWQgYXQgdGhlIG1vbWVudGApKSl9LmJpbmQodGhpcykpLmNhdGNoKCh0PT57MjAhPT10LmNvZGUmJihlLnN0YXRlPVwiZXJyb3JlZFwiLGkodCkpO30pKSxlLnJlcXVlc3QuY2FuY2VsPSgpPT5zLmFib3J0KCk7fWxvYWRUaWxlRGF0YShlLHQpe0x3LmxvYWRUaWxlRGF0YShlLHQsdGhpcy5fbWFwLnBhaW50ZXIpO311bmxvYWRUaWxlRGF0YShlKXtMdy51bmxvYWRUaWxlRGF0YShlLHRoaXMuX21hcC5wYWludGVyKTt9dW5sb2FkVGlsZShlLHQpe2lmKHRoaXMudW5sb2FkVGlsZURhdGEoZSksdGhpcy5faW1wbGVtZW50YXRpb24udW5sb2FkVGlsZSl7Y29uc3R7eDp0LHk6aSx6OnJ9PWUudGlsZUlELmNhbm9uaWNhbDt0aGlzLl9pbXBsZW1lbnRhdGlvbi51bmxvYWRUaWxlKHt4OnQseTppLHo6cn0pO310KCk7fWFib3J0VGlsZShlLHQpe2UucmVxdWVzdCYmZS5yZXF1ZXN0LmNhbmNlbCYmKGUucmVxdWVzdC5jYW5jZWwoKSxkZWxldGUgZS5yZXF1ZXN0KSx0KCk7fWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gITF9X2NvdmVyaW5nVGlsZXMoKXtyZXR1cm4gdGhpcy5fbWFwLnRyYW5zZm9ybS5jb3ZlcmluZ1RpbGVzKHt0aWxlU2l6ZTp0aGlzLnRpbGVTaXplLG1pbnpvb206dGhpcy5taW56b29tLG1heHpvb206dGhpcy5tYXh6b29tLHJvdW5kWm9vbTp0aGlzLnJvdW5kWm9vbX0pLm1hcCgoZT0+KHt4OmUuY2Fub25pY2FsLngseTplLmNhbm9uaWNhbC55LHo6ZS5jYW5vbmljYWwuen0pKSl9X2NsZWFyVGlsZXMoKXtjb25zdCBlPXBhKHRoaXMuaWQsdGhpcy5zY29wZSk7dGhpcy5fbWFwLnN0eWxlLmNsZWFyU291cmNlKGUpO31fdXBkYXRlKCl7dGhpcy5maXJlKG5ldyBBdChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcImNvbnRlbnRcIn0pKTt9fX0sdlQ9ZnVuY3Rpb24oZSx0LGkscil7Y29uc3Qgbj1uZXcgeFRbdC50eXBlXShlLHQsaSxyKTtpZihuLmlkIT09ZSl0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIFNvdXJjZSBpZCB0byBiZSAke2V9IGluc3RlYWQgb2YgJHtuLmlkfWApO3JldHVybiBqKFtcImxvYWRcIixcImFib3J0XCIsXCJ1bmxvYWRcIixcInNlcmlhbGl6ZVwiLFwicHJlcGFyZVwiXSxuKSxufTtmdW5jdGlvbiBiVChlLHQpe2NvbnN0IGk9eHUuaWRlbnRpdHkoW10pO3JldHVybiB4dS5zY2FsZShpLGksWy41KmUud2lkdGgsLjUqLWUuaGVpZ2h0LDFdKSx4dS50cmFuc2xhdGUoaSxpLFsxLC0xLDBdKSx4dS5tdWx0aXBseShpLGksZS5jYWxjdWxhdGVQcm9qTWF0cml4KHQudG9VbndyYXBwZWQoKSkpLEZsb2F0MzJBcnJheS5mcm9tKGkpfWZ1bmN0aW9uIHdUKGUsdCxpLHIsbixvLHMsYT0hMSl7Y29uc3QgbD1lLnRpbGVzSW4ocixzLGEpO2wuc29ydChFVCk7Y29uc3QgYz1bXTtmb3IoY29uc3QgciBvZiBsKWMucHVzaCh7d3JhcHBlZFRpbGVJRDpyLnRpbGUudGlsZUlELndyYXBwZWQoKS5rZXkscXVlcnlSZXN1bHRzOnIudGlsZS5xdWVyeVJlbmRlcmVkRmVhdHVyZXModCxpLGUuX3N0YXRlLHIsbixvLGJUKGUudHJhbnNmb3JtLHIudGlsZS50aWxlSUQpLGEpfSk7Y29uc3QgaD1mdW5jdGlvbihlKXtjb25zdCB0PXt9LGk9e307Zm9yKGNvbnN0IHIgb2YgZSl7Y29uc3QgZT1yLnF1ZXJ5UmVzdWx0cyxuPXIud3JhcHBlZFRpbGVJRCxvPWlbbl09aVtuXXx8e307Zm9yKGNvbnN0IGkgaW4gZSl7Y29uc3Qgcj1lW2ldLG49b1tpXT1vW2ldfHx7fSxzPXRbaV09dFtpXXx8W107Zm9yKGNvbnN0IGUgb2YgciluW2UuZmVhdHVyZUluZGV4XXx8KG5bZS5mZWF0dXJlSW5kZXhdPSEwLHMucHVzaChlKSk7fX1yZXR1cm4gdH0oYyk7Zm9yKGNvbnN0IHQgaW4gaCloW3RdLmZvckVhY2goKHQ9Pntjb25zdCBpPXQuZmVhdHVyZSxyPWkubGF5ZXI7ciYmXCJiYWNrZ3JvdW5kXCIhPT1yLnR5cGUmJlwic2t5XCIhPT1yLnR5cGUmJlwic2xvdFwiIT09ci50eXBlJiYoaS5zb3VyY2U9ci5zb3VyY2UscltcInNvdXJjZS1sYXllclwiXSYmKGkuc291cmNlTGF5ZXI9cltcInNvdXJjZS1sYXllclwiXSksaS5zdGF0ZT12b2lkIDAhPT1pLmlkP2UuZ2V0RmVhdHVyZVN0YXRlKHJbXCJzb3VyY2UtbGF5ZXJcIl0saS5pZCk6e30pO30pKTtyZXR1cm4gaH1mdW5jdGlvbiBUVChlLHQpe2NvbnN0IGk9ZS5nZXRSZW5kZXJhYmxlSWRzKCkubWFwKCh0PT5lLmdldFRpbGVCeUlEKHQpKSkscj1bXSxuPXt9O2ZvcihsZXQgZT0wO2U8aS5sZW5ndGg7ZSsrKXtjb25zdCBvPWlbZV0scz1vLnRpbGVJRC5jYW5vbmljYWwua2V5O25bc118fChuW3NdPSEwLG8ucXVlcnlTb3VyY2VGZWF0dXJlcyhyLHQpKTt9cmV0dXJuIHJ9ZnVuY3Rpb24gRVQoZSx0KXtjb25zdCBpPWUudGlsZUlELHI9dC50aWxlSUQ7cmV0dXJuIGkub3ZlcnNjYWxlZFotci5vdmVyc2NhbGVkWnx8aS5jYW5vbmljYWwueS1yLmNhbm9uaWNhbC55fHxpLndyYXAtci53cmFwfHxpLmNhbm9uaWNhbC54LXIuY2Fub25pY2FsLnh9Y2xhc3MgTVR7Y29uc3RydWN0b3IoZSl7dGhpcy5zdHlsZT1lO31wcm9jZXNzTGF5ZXJzQ2hhbmdlZCgpe3RoaXMubGF5ZXJzPVtdO2Zvcihjb25zdCBlIGluIHRoaXMuc3R5bGUuX21lcmdlZExheWVycyl7Y29uc3QgdD10aGlzLnN0eWxlLl9tZXJnZWRMYXllcnNbZV07aWYoXCJmaWxsLWV4dHJ1c2lvblwiPT09dC50eXBlKXRoaXMubGF5ZXJzLnB1c2godCk7ZWxzZSBpZihcIm1vZGVsXCI9PT10LnR5cGUpe2NvbnN0IGU9dGhpcy5zdHlsZS5nZXRMYXllclNvdXJjZSh0KTtlJiZcImJhdGNoZWQtbW9kZWxcIj09PWUudHlwZSYmdGhpcy5sYXllcnMucHVzaCh0KTt9fX11cGRhdGVaT2Zmc2V0KGUsdCl7dGhpcy5jdXJyZW50QnVpbGRpbmdCdWNrZXRzPVtdO2ZvcihsZXQgZT0wO2U8dGhpcy5sYXllcnMubGVuZ3RoOysrZSl7Y29uc3QgaT10aGlzLmxheWVyc1tlXSxyPXRoaXMuc3R5bGUuZ2V0TGF5ZXJTb3VyY2VDYWNoZShpKTtsZXQgbj0xO1wiZmlsbC1leHRydXNpb25cIj09PWkudHlwZSYmKG49aS5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5XCIpPjA/aS5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi12ZXJ0aWNhbC1zY2FsZVwiKTowKTtsZXQgbz1yP3IuZ2V0VGlsZSh0KTpudWxsO2lmKCFvJiZyJiZ0LmNhbm9uaWNhbC56PnIuZ2V0U291cmNlKCkubWluem9vbSl7bGV0IGU9dC5zY2FsZWRUbyhNYXRoLm1pbihyLmdldFNvdXJjZSgpLm1heHpvb20sdC5vdmVyc2NhbGVkWi0xKSk7Zm9yKDtlLm92ZXJzY2FsZWRaPj1yLmdldFNvdXJjZSgpLm1pbnpvb20mJihvPXIuZ2V0VGlsZShlKSwhbyYmMCE9PWUub3ZlcnNjYWxlZFopOyllPWUuc2NhbGVkVG8oZS5vdmVyc2NhbGVkWi0xKTt9dGhpcy5jdXJyZW50QnVpbGRpbmdCdWNrZXRzLnB1c2goe2J1Y2tldDpvP28uZ2V0QnVja2V0KGkpOm51bGwsdGlsZUlEOm8/by50aWxlSUQ6dCx2ZXJ0aWNhbFNjYWxlOm59KTt9ZS5oYXNBbnlaT2Zmc2V0PSExO2xldCBpPSExO2ZvcihsZXQgcj0wO3I8ZS5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO3IrKyl7Y29uc3Qgbj1lLnN5bWJvbEluc3RhbmNlcy5nZXQociksbz1uLnpPZmZzZXQscz10aGlzLl9nZXRIZWlnaHRBdFRpbGVPZmZzZXQodCxuLnRpbGVBbmNob3JYLG4udGlsZUFuY2hvclkpO24uek9mZnNldD0tMSE9PXM/czpvLGl8fG89PT1uLnpPZmZzZXR8fChpPSEwKSxlLmhhc0FueVpPZmZzZXR8fDA9PT1uLnpPZmZzZXR8fChlLmhhc0FueVpPZmZzZXQ9ITApO31pJiYoZS56T2Zmc2V0QnVmZmVyc05lZWRVcGxvYWQ9ITAsZS56T2Zmc2V0U29ydERpcnR5PSEwKTt9X21hcENvb3JkVG9PdmVybGFwcGluZ1RpbGUoZSx0LGkscil7bGV0IG49dCxvPWk7aWYoZS5jYW5vbmljYWwueiE9PXIuY2Fub25pY2FsLnope2NvbnN0IHM9ci5jYW5vbmljYWwsYT0xLygxPDxlLmNhbm9uaWNhbC56LXMueik7bj0odCtlLmNhbm9uaWNhbC54KnNyKSphLXMueCpzcnwwLG89KGkrZS5jYW5vbmljYWwueSpzcikqYS1zLnkqc3J8MDt9cmV0dXJuIHt0aWxlWDpuLHRpbGVZOm99fV9nZXRIZWlnaHRBdFRpbGVPZmZzZXQoZSx0LGkpe2xldCByO2ZvcihsZXQgbj0wO248dGhpcy5sYXllcnMubGVuZ3RoOysrbil7aWYoXCJmaWxsLWV4dHJ1c2lvblwiIT09dGhpcy5sYXllcnNbbl0udHlwZSljb250aW51ZTtjb25zdHtidWNrZXQ6byx0aWxlSUQ6cyx2ZXJ0aWNhbFNjYWxlOmF9PXRoaXMuY3VycmVudEJ1aWxkaW5nQnVja2V0c1tuXTtpZighbyljb250aW51ZTtjb25zdHt0aWxlWDpsLHRpbGVZOmN9PXRoaXMuX21hcENvb3JkVG9PdmVybGFwcGluZ1RpbGUoZSx0LGkscyksaD1vLmdldEhlaWdodEF0VGlsZUNvb3JkKGwsYyk7aWYoaCYmdm9pZCAwIT09aC5oZWlnaHQpe2lmKCFoLmhpZGRlbilyZXR1cm4gaC5oZWlnaHQqYTtyPWguaGVpZ2h0O319Zm9yKGxldCBuPTA7bjx0aGlzLmxheWVycy5sZW5ndGg7KytuKXtpZihcIm1vZGVsXCIhPT10aGlzLmxheWVyc1tuXS50eXBlKWNvbnRpbnVlO2NvbnN0e2J1Y2tldDpvLHRpbGVJRDpzfT10aGlzLmN1cnJlbnRCdWlsZGluZ0J1Y2tldHNbbl07aWYoIW8pY29udGludWU7Y29uc3R7dGlsZVg6YSx0aWxlWTpsfT10aGlzLl9tYXBDb29yZFRvT3ZlcmxhcHBpbmdUaWxlKGUsdCxpLHMpLGM9by5nZXRIZWlnaHRBdFRpbGVDb29yZChhLGwpO2lmKGMmJiFjLmhpZGRlbilyZXR1cm4gdm9pZCAwPT09Yy5oZWlnaHQmJnZvaWQgMCE9PXI/TWF0aC5taW4oYy5tYXhIZWlnaHQscikqYy52ZXJ0aWNhbFNjYWxlOihjLmhlaWdodHx8MCkqYy52ZXJ0aWNhbFNjYWxlfXJldHVybiAtMX19dmFyIEFUPVtcInR5cGVcIixcInNvdXJjZVwiLFwic291cmNlLWxheWVyXCIsXCJtaW56b29tXCIsXCJtYXh6b29tXCIsXCJmaWx0ZXJcIixcImxheW91dFwiXTtmdW5jdGlvbiBTVChlLHQpe2NvbnN0IGk9e307Zm9yKGNvbnN0IHQgaW4gZSlcInJlZlwiIT09dCYmKGlbdF09ZVt0XSk7cmV0dXJuIEFULmZvckVhY2goKGU9PntlIGluIHQmJihpW2VdPXRbZV0pO30pKSxpfWZ1bmN0aW9uIElUKGUpe2U9ZS5zbGljZSgpO2NvbnN0IHQ9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl0W2VbaV0uaWRdPWVbaV07Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspXCJyZWZcImluIGVbaV0mJihlW2ldPVNUKGVbaV0sdFtlW2ldLnJlZl0pKTtyZXR1cm4gZX1jb25zdCBDVD17c2V0U3R5bGU6XCJzZXRTdHlsZVwiLGFkZExheWVyOlwiYWRkTGF5ZXJcIixyZW1vdmVMYXllcjpcInJlbW92ZUxheWVyXCIsc2V0UGFpbnRQcm9wZXJ0eTpcInNldFBhaW50UHJvcGVydHlcIixzZXRMYXlvdXRQcm9wZXJ0eTpcInNldExheW91dFByb3BlcnR5XCIsc2V0U2xvdDpcInNldFNsb3RcIixzZXRGaWx0ZXI6XCJzZXRGaWx0ZXJcIixhZGRTb3VyY2U6XCJhZGRTb3VyY2VcIixyZW1vdmVTb3VyY2U6XCJyZW1vdmVTb3VyY2VcIixzZXRHZW9KU09OU291cmNlRGF0YTpcInNldEdlb0pTT05Tb3VyY2VEYXRhXCIsc2V0TGF5ZXJab29tUmFuZ2U6XCJzZXRMYXllclpvb21SYW5nZVwiLHNldExheWVyUHJvcGVydHk6XCJzZXRMYXllclByb3BlcnR5XCIsc2V0Q2VudGVyOlwic2V0Q2VudGVyXCIsc2V0Wm9vbTpcInNldFpvb21cIixzZXRCZWFyaW5nOlwic2V0QmVhcmluZ1wiLHNldFBpdGNoOlwic2V0UGl0Y2hcIixzZXRTcHJpdGU6XCJzZXRTcHJpdGVcIixzZXRHbHlwaHM6XCJzZXRHbHlwaHNcIixzZXRUcmFuc2l0aW9uOlwic2V0VHJhbnNpdGlvblwiLHNldExpZ2h0Olwic2V0TGlnaHRcIixzZXRUZXJyYWluOlwic2V0VGVycmFpblwiLHNldEZvZzpcInNldEZvZ1wiLHNldENhbWVyYTpcInNldENhbWVyYVwiLHNldExpZ2h0czpcInNldExpZ2h0c1wiLHNldFByb2plY3Rpb246XCJzZXRQcm9qZWN0aW9uXCIsYWRkSW1wb3J0OlwiYWRkSW1wb3J0XCIscmVtb3ZlSW1wb3J0OlwicmVtb3ZlSW1wb3J0XCIsc2V0SW1wb3J0VXJsOlwic2V0SW1wb3J0VXJsXCIsc2V0SW1wb3J0RGF0YTpcInNldEltcG9ydERhdGFcIixzZXRJbXBvcnRDb25maWc6XCJzZXRJbXBvcnRDb25maWdcIn07ZnVuY3Rpb24gelQoZSx0LGkpe2kucHVzaCh7Y29tbWFuZDpDVC5hZGRTb3VyY2UsYXJnczpbZSx0W2VdXX0pO31mdW5jdGlvbiBEVChlLHQsaSl7dC5wdXNoKHtjb21tYW5kOkNULnJlbW92ZVNvdXJjZSxhcmdzOltlXX0pLGlbZV09ITA7fWZ1bmN0aW9uIFBUKGUsdCxpLHIpe0RUKGUsaSxyKSx6VChlLHQsaSk7fWZ1bmN0aW9uIFJUKGUsdCxpKXtsZXQgcjtmb3IociBpbiBlW2ldKWlmKGVbaV0uaGFzT3duUHJvcGVydHkocikmJlwiZGF0YVwiIT09ciYmIXgoZVtpXVtyXSx0W2ldW3JdKSlyZXR1cm4gITE7Zm9yKHIgaW4gdFtpXSlpZih0W2ldLmhhc093blByb3BlcnR5KHIpJiZcImRhdGFcIiE9PXImJiF4KGVbaV1bcl0sdFtpXVtyXSkpcmV0dXJuICExO3JldHVybiAhMH1mdW5jdGlvbiBMVChlLHQsaSxyLG4sbyl7bGV0IHM7Zm9yKHMgaW4gdD10fHx7fSxlPWV8fHt9KWUuaGFzT3duUHJvcGVydHkocykmJih4KGVbc10sdFtzXSl8fGkucHVzaCh7Y29tbWFuZDpvLGFyZ3M6W3Iscyx0W3NdLG5dfSkpO2ZvcihzIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShzKSYmIWUuaGFzT3duUHJvcGVydHkocykmJih4KGVbc10sdFtzXSl8fGkucHVzaCh7Y29tbWFuZDpvLGFyZ3M6W3Iscyx0W3NdLG5dfSkpO31mdW5jdGlvbiBrVChlKXtyZXR1cm4gZS5pZH1mdW5jdGlvbiBPVChlLHQpe3JldHVybiBlW3QuaWRdPXQsZX1jbGFzcyBCVHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMucmVzZXQoZSx0KTt9cmVzZXQoZSx0KXt0aGlzLnBvaW50cz1lfHxbXSx0aGlzLl9kaXN0YW5jZXM9WzBdO2ZvcihsZXQgZT0xO2U8dGhpcy5wb2ludHMubGVuZ3RoO2UrKyl0aGlzLl9kaXN0YW5jZXNbZV09dGhpcy5fZGlzdGFuY2VzW2UtMV0rdGhpcy5wb2ludHNbZV0uZGlzdCh0aGlzLnBvaW50c1tlLTFdKTt0aGlzLmxlbmd0aD10aGlzLl9kaXN0YW5jZXNbdGhpcy5fZGlzdGFuY2VzLmxlbmd0aC0xXSx0aGlzLnBhZGRpbmc9TWF0aC5taW4odHx8MCwuNSp0aGlzLmxlbmd0aCksdGhpcy5wYWRkZWRMZW5ndGg9dGhpcy5sZW5ndGgtMip0aGlzLnBhZGRpbmc7fWxlcnAoZSl7aWYoMT09PXRoaXMucG9pbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5wb2ludHNbMF07ZT16KGUsMCwxKTtsZXQgdD0xLGk9dGhpcy5fZGlzdGFuY2VzW3RdO2NvbnN0IHI9ZSp0aGlzLnBhZGRlZExlbmd0aCt0aGlzLnBhZGRpbmc7Zm9yKDtpPHImJnQ8dGhpcy5fZGlzdGFuY2VzLmxlbmd0aDspaT10aGlzLl9kaXN0YW5jZXNbKyt0XTtjb25zdCBuPXQtMSxvPXRoaXMuX2Rpc3RhbmNlc1tuXSxzPWktbyxhPXM+MD8oci1vKS9zOjA7cmV0dXJuIHRoaXMucG9pbnRzW25dLm11bHQoMS1hKS5hZGQodGhpcy5wb2ludHNbdF0ubXVsdChhKSl9fWNsYXNzIEZUe2NvbnN0cnVjdG9yKGUsdCxpKXtjb25zdCByPXRoaXMuYm94Q2VsbHM9W10sbj10aGlzLmNpcmNsZUNlbGxzPVtdO3RoaXMueENlbGxDb3VudD1NYXRoLmNlaWwoZS9pKSx0aGlzLnlDZWxsQ291bnQ9TWF0aC5jZWlsKHQvaSk7Zm9yKGxldCBlPTA7ZTx0aGlzLnhDZWxsQ291bnQqdGhpcy55Q2VsbENvdW50O2UrKylyLnB1c2goW10pLG4ucHVzaChbXSk7dGhpcy5jaXJjbGVLZXlzPVtdLHRoaXMuYm94S2V5cz1bXSx0aGlzLmJib3hlcz1bXSx0aGlzLmNpcmNsZXM9W10sdGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQsdGhpcy54U2NhbGU9dGhpcy54Q2VsbENvdW50L2UsdGhpcy55U2NhbGU9dGhpcy55Q2VsbENvdW50L3QsdGhpcy5ib3hVaWQ9MCx0aGlzLmNpcmNsZVVpZD0wO31rZXlzTGVuZ3RoKCl7cmV0dXJuIHRoaXMuYm94S2V5cy5sZW5ndGgrdGhpcy5jaXJjbGVLZXlzLmxlbmd0aH1pbnNlcnQoZSx0LGkscixuKXt0aGlzLl9mb3JFYWNoQ2VsbCh0LGkscixuLHRoaXMuX2luc2VydEJveENlbGwsdGhpcy5ib3hVaWQrKyksdGhpcy5ib3hLZXlzLnB1c2goZSksdGhpcy5iYm94ZXMucHVzaCh0KSx0aGlzLmJib3hlcy5wdXNoKGkpLHRoaXMuYmJveGVzLnB1c2gociksdGhpcy5iYm94ZXMucHVzaChuKTt9aW5zZXJ0Q2lyY2xlKGUsdCxpLHIpe3RoaXMuX2ZvckVhY2hDZWxsKHQtcixpLXIsdCtyLGkrcix0aGlzLl9pbnNlcnRDaXJjbGVDZWxsLHRoaXMuY2lyY2xlVWlkKyspLHRoaXMuY2lyY2xlS2V5cy5wdXNoKGUpLHRoaXMuY2lyY2xlcy5wdXNoKHQpLHRoaXMuY2lyY2xlcy5wdXNoKGkpLHRoaXMuY2lyY2xlcy5wdXNoKHIpO31faW5zZXJ0Qm94Q2VsbChlLHQsaSxyLG4sbyl7dGhpcy5ib3hDZWxsc1tuXS5wdXNoKG8pO31faW5zZXJ0Q2lyY2xlQ2VsbChlLHQsaSxyLG4sbyl7dGhpcy5jaXJjbGVDZWxsc1tuXS5wdXNoKG8pO31fcXVlcnkoZSx0LGkscixuLG8pe2lmKGk8MHx8ZT50aGlzLndpZHRofHxyPDB8fHQ+dGhpcy5oZWlnaHQpcmV0dXJuICFuJiZbXTtjb25zdCBzPVtdO2lmKGU8PTAmJnQ8PTAmJnRoaXMud2lkdGg8PWkmJnRoaXMuaGVpZ2h0PD1yKXtpZihuKXJldHVybiAhMDtmb3IobGV0IGU9MDtlPHRoaXMuYm94S2V5cy5sZW5ndGg7ZSsrKXMucHVzaCh7a2V5OnRoaXMuYm94S2V5c1tlXSx4MTp0aGlzLmJib3hlc1s0KmVdLHkxOnRoaXMuYmJveGVzWzQqZSsxXSx4Mjp0aGlzLmJib3hlc1s0KmUrMl0seTI6dGhpcy5iYm94ZXNbNCplKzNdfSk7Zm9yKGxldCBlPTA7ZTx0aGlzLmNpcmNsZUtleXMubGVuZ3RoO2UrKyl7Y29uc3QgdD10aGlzLmNpcmNsZXNbMyplXSxpPXRoaXMuY2lyY2xlc1szKmUrMV0scj10aGlzLmNpcmNsZXNbMyplKzJdO3MucHVzaCh7a2V5OnRoaXMuY2lyY2xlS2V5c1tlXSx4MTp0LXIseTE6aS1yLHgyOnQrcix5MjppK3J9KTt9cmV0dXJuIG8/cy5maWx0ZXIobyk6c31yZXR1cm4gdGhpcy5fZm9yRWFjaENlbGwoZSx0LGkscix0aGlzLl9xdWVyeUNlbGwscyx7aGl0VGVzdDpuLHNlZW5VaWRzOntib3g6e30sY2lyY2xlOnt9fX0sbyksbj9zLmxlbmd0aD4wOnN9X3F1ZXJ5Q2lyY2xlKGUsdCxpLHIsbil7Y29uc3Qgbz1lLWkscz1lK2ksYT10LWksbD10K2k7aWYoczwwfHxvPnRoaXMud2lkdGh8fGw8MHx8YT50aGlzLmhlaWdodClyZXR1cm4gIXImJltdO2NvbnN0IGM9W107cmV0dXJuIHRoaXMuX2ZvckVhY2hDZWxsKG8sYSxzLGwsdGhpcy5fcXVlcnlDZWxsQ2lyY2xlLGMse2hpdFRlc3Q6cixjaXJjbGU6e3g6ZSx5OnQscmFkaXVzOml9LHNlZW5VaWRzOntib3g6e30sY2lyY2xlOnt9fX0sbikscj9jLmxlbmd0aD4wOmN9cXVlcnkoZSx0LGkscixuKXtyZXR1cm4gdGhpcy5fcXVlcnkoZSx0LGksciwhMSxuKX1oaXRUZXN0KGUsdCxpLHIsbil7cmV0dXJuIHRoaXMuX3F1ZXJ5KGUsdCxpLHIsITAsbil9aGl0VGVzdENpcmNsZShlLHQsaSxyKXtyZXR1cm4gdGhpcy5fcXVlcnlDaXJjbGUoZSx0LGksITAscil9X3F1ZXJ5Q2VsbChlLHQsaSxyLG4sbyxzLGEpe2NvbnN0IGw9cy5zZWVuVWlkcyxjPXRoaXMuYm94Q2VsbHNbbl07aWYobnVsbCE9PWMpe2NvbnN0IG49dGhpcy5iYm94ZXM7Zm9yKGNvbnN0IGggb2YgYylpZighbC5ib3hbaF0pe2wuYm94W2hdPSEwO2NvbnN0IGM9NCpoO2lmKGU8PW5bYysyXSYmdDw9bltjKzNdJiZpPj1uW2MrMF0mJnI+PW5bYysxXSYmKCFhfHxhKHRoaXMuYm94S2V5c1toXSkpKXtpZihzLmhpdFRlc3QpcmV0dXJuIG8ucHVzaCghMCksITA7by5wdXNoKHtrZXk6dGhpcy5ib3hLZXlzW2hdLHgxOm5bY10seTE6bltjKzFdLHgyOm5bYysyXSx5MjpuW2MrM119KTt9fX1jb25zdCBoPXRoaXMuY2lyY2xlQ2VsbHNbbl07aWYobnVsbCE9PWgpe2NvbnN0IG49dGhpcy5jaXJjbGVzO2Zvcihjb25zdCBjIG9mIGgpaWYoIWwuY2lyY2xlW2NdKXtsLmNpcmNsZVtjXT0hMDtjb25zdCBoPTMqYztpZih0aGlzLl9jaXJjbGVBbmRSZWN0Q29sbGlkZShuW2hdLG5baCsxXSxuW2grMl0sZSx0LGkscikmJighYXx8YSh0aGlzLmNpcmNsZUtleXNbY10pKSl7aWYocy5oaXRUZXN0KXJldHVybiBvLnB1c2goITApLCEwO3tjb25zdCBlPW5baF0sdD1uW2grMV0saT1uW2grMl07by5wdXNoKHtrZXk6dGhpcy5jaXJjbGVLZXlzW2NdLHgxOmUtaSx5MTp0LWkseDI6ZStpLHkyOnQraX0pO319fX19X3F1ZXJ5Q2VsbENpcmNsZShlLHQsaSxyLG4sbyxzLGEpe2NvbnN0IGw9cy5jaXJjbGUsYz1zLnNlZW5VaWRzLGg9dGhpcy5ib3hDZWxsc1tuXTtpZihudWxsIT09aCl7Y29uc3QgZT10aGlzLmJib3hlcztmb3IoY29uc3QgdCBvZiBoKWlmKCFjLmJveFt0XSl7Yy5ib3hbdF09ITA7Y29uc3QgaT00KnQ7aWYodGhpcy5fY2lyY2xlQW5kUmVjdENvbGxpZGUobC54LGwueSxsLnJhZGl1cyxlW2krMF0sZVtpKzFdLGVbaSsyXSxlW2krM10pJiYoIWF8fGEodGhpcy5ib3hLZXlzW3RdKSkpcmV0dXJuIG8ucHVzaCghMCksITB9fWNvbnN0IHU9dGhpcy5jaXJjbGVDZWxsc1tuXTtpZihudWxsIT09dSl7Y29uc3QgZT10aGlzLmNpcmNsZXM7Zm9yKGNvbnN0IHQgb2YgdSlpZighYy5jaXJjbGVbdF0pe2MuY2lyY2xlW3RdPSEwO2NvbnN0IGk9Myp0O2lmKHRoaXMuX2NpcmNsZXNDb2xsaWRlKGVbaV0sZVtpKzFdLGVbaSsyXSxsLngsbC55LGwucmFkaXVzKSYmKCFhfHxhKHRoaXMuY2lyY2xlS2V5c1t0XSkpKXJldHVybiBvLnB1c2goITApLCEwfX19X2ZvckVhY2hDZWxsKGUsdCxpLHIsbixvLHMsYSl7Y29uc3QgbD10aGlzLl9jb252ZXJ0VG9YQ2VsbENvb3JkKGUpLGM9dGhpcy5fY29udmVydFRvWUNlbGxDb29yZCh0KSxoPXRoaXMuX2NvbnZlcnRUb1hDZWxsQ29vcmQoaSksdT10aGlzLl9jb252ZXJ0VG9ZQ2VsbENvb3JkKHIpO2ZvcihsZXQgZD1sO2Q8PWg7ZCsrKWZvcihsZXQgbD1jO2w8PXU7bCsrKWlmKG4uY2FsbCh0aGlzLGUsdCxpLHIsdGhpcy54Q2VsbENvdW50KmwrZCxvLHMsYSkpcmV0dXJufV9jb252ZXJ0VG9YQ2VsbENvb3JkKGUpe3JldHVybiBNYXRoLm1heCgwLE1hdGgubWluKHRoaXMueENlbGxDb3VudC0xLE1hdGguZmxvb3IoZSp0aGlzLnhTY2FsZSkpKX1fY29udmVydFRvWUNlbGxDb29yZChlKXtyZXR1cm4gTWF0aC5tYXgoMCxNYXRoLm1pbih0aGlzLnlDZWxsQ291bnQtMSxNYXRoLmZsb29yKGUqdGhpcy55U2NhbGUpKSl9X2NpcmNsZXNDb2xsaWRlKGUsdCxpLHIsbixvKXtjb25zdCBzPXItZSxhPW4tdCxsPWkrbztyZXR1cm4gbCpsPnMqcythKmF9X2NpcmNsZUFuZFJlY3RDb2xsaWRlKGUsdCxpLHIsbixvLHMpe2NvbnN0IGE9KG8tcikvMixsPU1hdGguYWJzKGUtKHIrYSkpO2lmKGw+YStpKXJldHVybiAhMTtjb25zdCBjPShzLW4pLzIsaD1NYXRoLmFicyh0LShuK2MpKTtpZihoPmMraSlyZXR1cm4gITE7aWYobDw9YXx8aDw9YylyZXR1cm4gITA7Y29uc3QgdT1sLWEsZD1oLWM7cmV0dXJuIHUqdStkKmQ8PWkqaX19Y29uc3QgTlQ9MTAwO2NsYXNzIFVUe2NvbnN0cnVjdG9yKGUsdCxpPW5ldyBGVChlLndpZHRoKzIwMCxlLmhlaWdodCsyMDAsMjUpLHI9bmV3IEZUKGUud2lkdGgrMjAwLGUuaGVpZ2h0KzIwMCwyNSkpe3RoaXMudHJhbnNmb3JtPWUsdGhpcy5ncmlkPWksdGhpcy5pZ25vcmVkR3JpZD1yLHRoaXMucGl0Y2hmYWN0b3I9TWF0aC5jb3MoZS5fcGl0Y2gpKmUuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSx0aGlzLnNjcmVlblJpZ2h0Qm91bmRhcnk9ZS53aWR0aCtOVCx0aGlzLnNjcmVlbkJvdHRvbUJvdW5kYXJ5PWUuaGVpZ2h0K05ULHRoaXMuZ3JpZFJpZ2h0Qm91bmRhcnk9ZS53aWR0aCsyMDAsdGhpcy5ncmlkQm90dG9tQm91bmRhcnk9ZS5oZWlnaHQrMjAwLHRoaXMuZm9nU3RhdGU9dDt9cGxhY2VDb2xsaXNpb25Cb3goZSx0LGkscixuLG8scyxhKXtsZXQgbD1pLnByb2plY3RlZEFuY2hvclgsYz1pLnByb2plY3RlZEFuY2hvclksaD1pLnByb2plY3RlZEFuY2hvclo7Y29uc3QgdT1pLmVsZXZhdGlvbixkPWkudGlsZUlELHA9ZS5nZXRQcm9qZWN0aW9uKCk7aWYodSYmZCl7Y29uc3RbZSx0LHJdPXAudXBWZWN0b3IoZC5jYW5vbmljYWwsaS50aWxlQW5jaG9yWCxpLnRpbGVBbmNob3JZKSxuPXAudXBWZWN0b3JTY2FsZShkLmNhbm9uaWNhbCx0aGlzLnRyYW5zZm9ybS5jZW50ZXIubGF0LHRoaXMudHJhbnNmb3JtLndvcmxkU2l6ZSkubWV0ZXJzVG9UaWxlO2wrPWUqdSpuLGMrPXQqdSpuLGgrPXIqdSpuO31jb25zdCBmPXRoaXMucHJvamVjdEFuZEdldFBlcnNwZWN0aXZlUmF0aW8ocyxsLGMsaCxpLnRpbGVJRCxcImdsb2JlXCI9PT1wLm5hbWV8fCEhdXx8dGhpcy50cmFuc2Zvcm0ucGl0Y2g+MCxwKSxtPW8qZi5wZXJzcGVjdGl2ZVJhdGlvLF89KGkueDEqdCtyLngtaS5wYWRkaW5nKSptK2YucG9pbnQueCxnPShpLnkxKnQrci55LWkucGFkZGluZykqbStmLnBvaW50LnkseT0oaS54Mip0K3IueCtpLnBhZGRpbmcpKm0rZi5wb2ludC54LHg9KGkueTIqdCtyLnkraS5wYWRkaW5nKSptK2YucG9pbnQueSx2PWYucGVyc3BlY3RpdmVSYXRpbzw9LjU1fHxmLm9jY2x1ZGVkO3JldHVybiAhdGhpcy5pc0luc2lkZUdyaWQoXyxnLHkseCl8fCFuJiZ0aGlzLmdyaWQuaGl0VGVzdChfLGcseSx4LGEpfHx2P3tib3g6W10sb2Zmc2NyZWVuOiExLG9jY2x1ZGVkOmYub2NjbHVkZWR9Ontib3g6W18sZyx5LHhdLG9mZnNjcmVlbjp0aGlzLmlzT2Zmc2NyZWVuKF8sZyx5LHgpLG9jY2x1ZGVkOiExfX1wbGFjZUNvbGxpc2lvbkNpcmNsZXMoZSx0LGkscixuLG8scyxhLGwsYyxoLHUsZCxwLGYpe2NvbnN0IG09W10sXz10aGlzLnRyYW5zZm9ybS5lbGV2YXRpb24sZz1lLmdldFByb2plY3Rpb24oKSx4PV8/Xy5nZXRBdFRpbGVPZmZzZXRGdW5jKGYsdGhpcy50cmFuc2Zvcm0uY2VudGVyLmxhdCx0aGlzLnRyYW5zZm9ybS53b3JsZFNpemUsZyk6bnVsbCx2PW5ldyB5KGkudGlsZUFuY2hvclgsaS50aWxlQW5jaG9yWSk7bGV0e3g6Yix5OncsejpUfT1nLnByb2plY3RUaWxlUG9pbnQodi54LHYueSxmLmNhbm9uaWNhbCk7aWYoeCl7Y29uc3RbZSx0LGldPXgodik7Yis9ZSx3Kz10LFQrPWk7fWNvbnN0IEU9XCJnbG9iZVwiPT09Zy5uYW1lLE09dGhpcy5wcm9qZWN0QW5kR2V0UGVyc3BlY3RpdmVSYXRpbyhzLGIsdyxULGYsRXx8ISFffHx0aGlzLnRyYW5zZm9ybS5waXRjaD4wLGcpLHtwZXJzcGVjdGl2ZVJhdGlvOkF9PU0sUz0oaD9vL0E6bypBKS9yXyxJPXR2KGIsdyxULGEpLEM9TS5zaWduZWREaXN0YW5jZUZyb21DYW1lcmE+MD9vdihTLG4saS5saW5lT2Zmc2V0WCpTLGkubGluZU9mZnNldFkqUywhMSxJLHYsaSxyLGEse30sXyYmIWg/eDpudWxsLGgmJiEhXyxnLGYsaCk6bnVsbDtsZXQgej0hMSxEPSExLFA9ITA7aWYoQyYmIU0ub2NjbHVkZWQpe2NvbnN0IGU9LjUqZCpBK3AsaT1uZXcgeSgtMTAwLC0xMDApLHI9bmV3IHkodGhpcy5zY3JlZW5SaWdodEJvdW5kYXJ5LHRoaXMuc2NyZWVuQm90dG9tQm91bmRhcnkpLG49bmV3IEJULHtmaXJzdDpvLGxhc3Q6c309QyxhPW8ucGF0aC5sZW5ndGg7bGV0IGg9W107Zm9yKGxldCBlPWEtMTtlPj0xO2UtLSloLnB1c2goby5wYXRoW2VdKTtmb3IobGV0IGU9MTtlPHMucGF0aC5sZW5ndGg7ZSsrKWgucHVzaChzLnBhdGhbZV0pO2NvbnN0IGY9Mi41KmU7bCYmKGg9aC5tYXAoKChbZSx0LGldLHIpPT4oeCYmIUUmJihpPXgocjxhLTE/by50aWxlUGF0aFthLTEtcl06cy50aWxlUGF0aFtyLWErMl0pWzJdKSx0dihlLHQsaSxsKSkpKSxoLnNvbWUoKGU9PmVbM108PTApKSYmKGg9W10pKTtsZXQgXz1bXTtpZihoLmxlbmd0aD4wKXtsZXQgZT0xLzAsdD0tMS8wLG49MS8wLG89LTEvMDtmb3IoY29uc3QgaSBvZiBoKWU9TWF0aC5taW4oZSxpWzBdKSxuPU1hdGgubWluKG4saVsxXSksdD1NYXRoLm1heCh0LGlbMF0pLG89TWF0aC5tYXgobyxpWzFdKTt0Pj1pLngmJmU8PXIueCYmbz49aS55JiZuPD1yLnkmJihfPVtoLm1hcCgoZT0+bmV3IHkoZVswXSxlWzFdKSkpXSwoZTxpLnh8fHQ+ci54fHxuPGkueXx8bz5yLnkpJiYoXz0kXyhfLGkueCxpLnksci54LHIueSkpKTt9Zm9yKGNvbnN0IGkgb2YgXyl7bi5yZXNldChpLC4yNSplKTtsZXQgcj0wO3I9bi5sZW5ndGg8PS41KmU/MTpNYXRoLmNlaWwobi5wYWRkZWRMZW5ndGgvZikrMTtmb3IobGV0IGk9MDtpPHI7aSsrKXtjb25zdCBvPWkvTWF0aC5tYXgoci0xLDEpLHM9bi5sZXJwKG8pLGE9cy54K05ULGw9cy55K05UO20ucHVzaChhLGwsZSwwKTtjb25zdCBoPWEtZSxkPWwtZSxwPWErZSxmPWwrZTtpZihQPVAmJnRoaXMuaXNPZmZzY3JlZW4oaCxkLHAsZiksRD1EfHx0aGlzLmlzSW5zaWRlR3JpZChoLGQscCxmKSwhdCYmdGhpcy5ncmlkLmhpdFRlc3RDaXJjbGUoYSxsLGUsdSkmJih6PSEwLCFjKSlyZXR1cm4ge2NpcmNsZXM6W10sb2Zmc2NyZWVuOiExLGNvbGxpc2lvbkRldGVjdGVkOnosb2NjbHVkZWQ6ITF9fX19cmV0dXJuIHtjaXJjbGVzOiFjJiZ6fHwhRD9bXTptLG9mZnNjcmVlbjpQLGNvbGxpc2lvbkRldGVjdGVkOnosb2NjbHVkZWQ6TS5vY2NsdWRlZH19cXVlcnlSZW5kZXJlZFN5bWJvbHMoZSl7aWYoMD09PWUubGVuZ3RofHwwPT09dGhpcy5ncmlkLmtleXNMZW5ndGgoKSYmMD09PXRoaXMuaWdub3JlZEdyaWQua2V5c0xlbmd0aCgpKXJldHVybiB7fTtjb25zdCB0PVtdO2xldCBpPTEvMCxyPTEvMCxuPS0xLzAsbz0tMS8wO2Zvcihjb25zdCBzIG9mIGUpe2NvbnN0IGU9bmV3IHkocy54K05ULHMueStOVCk7aT1NYXRoLm1pbihpLGUueCkscj1NYXRoLm1pbihyLGUueSksbj1NYXRoLm1heChuLGUueCksbz1NYXRoLm1heChvLGUueSksdC5wdXNoKGUpO31jb25zdCBzPXRoaXMuZ3JpZC5xdWVyeShpLHIsbixvKS5jb25jYXQodGhpcy5pZ25vcmVkR3JpZC5xdWVyeShpLHIsbixvKSksYT17fSxsPXt9O2Zvcihjb25zdCBlIG9mIHMpe2NvbnN0IGk9ZS5rZXk7dm9pZCAwPT09YVtpLmJ1Y2tldEluc3RhbmNlSWRdJiYoYVtpLmJ1Y2tldEluc3RhbmNlSWRdPXt9KSxhW2kuYnVja2V0SW5zdGFuY2VJZF1baS5mZWF0dXJlSW5kZXhdfHxwcCh0LFtuZXcgeShlLngxLGUueTEpLG5ldyB5KGUueDIsZS55MSksbmV3IHkoZS54MixlLnkyKSxuZXcgeShlLngxLGUueTIpXSkmJihhW2kuYnVja2V0SW5zdGFuY2VJZF1baS5mZWF0dXJlSW5kZXhdPSEwLHZvaWQgMD09PWxbaS5idWNrZXRJbnN0YW5jZUlkXSYmKGxbaS5idWNrZXRJbnN0YW5jZUlkXT1bXSksbFtpLmJ1Y2tldEluc3RhbmNlSWRdLnB1c2goaS5mZWF0dXJlSW5kZXgpKTt9cmV0dXJuIGx9aW5zZXJ0Q29sbGlzaW9uQm94KGUsdCxpLHIsbil7KHQ/dGhpcy5pZ25vcmVkR3JpZDp0aGlzLmdyaWQpLmluc2VydCh7YnVja2V0SW5zdGFuY2VJZDppLGZlYXR1cmVJbmRleDpyLGNvbGxpc2lvbkdyb3VwSUQ6bn0sZVswXSxlWzFdLGVbMl0sZVszXSk7fWluc2VydENvbGxpc2lvbkNpcmNsZXMoZSx0LGkscixuKXtjb25zdCBvPXQ/dGhpcy5pZ25vcmVkR3JpZDp0aGlzLmdyaWQscz17YnVja2V0SW5zdGFuY2VJZDppLGZlYXR1cmVJbmRleDpyLGNvbGxpc2lvbkdyb3VwSUQ6bn07Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kz00KW8uaW5zZXJ0Q2lyY2xlKHMsZVt0XSxlW3QrMV0sZVt0KzJdKTt9cHJvamVjdEFuZEdldFBlcnNwZWN0aXZlUmF0aW8oZSx0LGkscixuLG8scyl7Y29uc3QgYT1bdCxpLHIsMV07bGV0IGw9ITE7aWYocnx8dGhpcy50cmFuc2Zvcm0ucGl0Y2g+MCl7aWYodXUudHJhbnNmb3JtTWF0NChhLGEsZSksdGhpcy5mb2dTdGF0ZSYmbiYmXCJnbG9iZVwiIT09cy5uYW1lKXtjb25zdCBlPWZ1bmN0aW9uKGUsdCxpLHIsbixvKXtjb25zdCBzPW8uY2FsY3VsYXRlRm9nVGlsZU1hdHJpeChuKSxhPVt0LGkscl07cmV0dXJuIE11LnRyYW5zZm9ybU1hdDQoYSxhLHMpLGF3KGUsTXUubGVuZ3RoKGEpLG8ucGl0Y2gsby5fZm92KX0odGhpcy5mb2dTdGF0ZSx0LGkscixuLnRvVW53cmFwcGVkKCksdGhpcy50cmFuc2Zvcm0pO2w9ZT4uOTt9fWVsc2UgZHYoYSxhLGUpO2NvbnN0IGM9YVszXTtyZXR1cm4ge3BvaW50Om5ldyB5KChhWzBdL2MrMSkvMip0aGlzLnRyYW5zZm9ybS53aWR0aCtOVCwoLWFbMV0vYysxKS8yKnRoaXMudHJhbnNmb3JtLmhlaWdodCtOVCkscGVyc3BlY3RpdmVSYXRpbzpNYXRoLm1pbiguNSt0aGlzLnRyYW5zZm9ybS5nZXRDYW1lcmFUb0NlbnRlckRpc3RhbmNlKHMpL2MqLjUsMS41KSxzaWduZWREaXN0YW5jZUZyb21DYW1lcmE6YyxvY2NsdWRlZDpvJiZhWzJdPmN8fGx9fWlzT2Zmc2NyZWVuKGUsdCxpLHIpe3JldHVybiBpPE5UfHxlPj10aGlzLnNjcmVlblJpZ2h0Qm91bmRhcnl8fHI8TlR8fHQ+dGhpcy5zY3JlZW5Cb3R0b21Cb3VuZGFyeX1pc0luc2lkZUdyaWQoZSx0LGkscil7cmV0dXJuIGk+PTAmJmU8dGhpcy5ncmlkUmlnaHRCb3VuZGFyeSYmcj49MCYmdDx0aGlzLmdyaWRCb3R0b21Cb3VuZGFyeX1nZXRWaWV3cG9ydE1hdHJpeCgpe2NvbnN0IGU9eHUuaWRlbnRpdHkoW10pO3JldHVybiB4dS50cmFuc2xhdGUoZSxlLFstMTAwLC0xMDAsMF0pLGV9fWZ1bmN0aW9uIFZUKGUsdCxpKXtjb25zdCByPXQuY3JlYXRlVGlsZU1hdHJpeChlLGUud29ybGRTaXplLGkudG9VbndyYXBwZWQoKSk7cmV0dXJuIHh1Lm11bHRpcGx5KG5ldyBGbG9hdDMyQXJyYXkoMTYpLGUucHJvak1hdHJpeCxyKX1mdW5jdGlvbiBqVChlLHQsaSl7aWYodC5wcm9qZWN0aW9uLm5hbWU9PT1pLnByb2plY3Rpb24ubmFtZSlyZXR1cm4gZS5wcm9qTWF0cml4O2NvbnN0IHI9aS5jbG9uZSgpO3JldHVybiByLnNldFByb2plY3Rpb24odC5wcm9qZWN0aW9uKSxWVChyLHQuZ2V0UHJvamVjdGlvbigpLGUpfWZ1bmN0aW9uIEdUKGUsdCxpKXtyZXR1cm4gdC5uYW1lPT09aS5wcm9qZWN0aW9uLm5hbWU/ZS5wcm9qTWF0cml4OlZUKGksdCxlKX1jbGFzcyBxVHtjb25zdHJ1Y3RvcihlLHQsaSxyKXt0aGlzLm9wYWNpdHk9ZT9NYXRoLm1heCgwLE1hdGgubWluKDEsZS5vcGFjaXR5KyhlLnBsYWNlZD90Oi10KSkpOnImJmk/MTowLHRoaXMucGxhY2VkPWk7fWlzSGlkZGVuKCl7cmV0dXJuIDA9PT10aGlzLm9wYWNpdHkmJiF0aGlzLnBsYWNlZH19Y2xhc3MgWlR7Y29uc3RydWN0b3IoZSx0LGkscixuLG89ITEpe3RoaXMudGV4dD1uZXcgcVQoZT9lLnRleHQ6bnVsbCx0LGksbiksdGhpcy5pY29uPW5ldyBxVChlP2UuaWNvbjpudWxsLHQscixuKSx0aGlzLmNsaXBwZWQ9bzt9aXNIaWRkZW4oKXtyZXR1cm4gdGhpcy50ZXh0LmlzSGlkZGVuKCkmJnRoaXMuaWNvbi5pc0hpZGRlbigpfX1jbGFzcyAkVHtjb25zdHJ1Y3RvcihlLHQsaSxyPSExKXt0aGlzLnRleHQ9ZSx0aGlzLmljb249dCx0aGlzLnNraXBGYWRlPWksdGhpcy5jbGlwcGVkPXI7fX1jbGFzcyBIVHtjb25zdHJ1Y3Rvcigpe3RoaXMuaW52UHJvak1hdHJpeD14dS5jcmVhdGUoKSx0aGlzLnZpZXdwb3J0TWF0cml4PXh1LmNyZWF0ZSgpLHRoaXMuY2lyY2xlcz1bXTt9fWNsYXNzIFdUe2NvbnN0cnVjdG9yKGUsdCxpLHIsbil7dGhpcy5idWNrZXRJbnN0YW5jZUlkPWUsdGhpcy5mZWF0dXJlSW5kZXg9dCx0aGlzLnNvdXJjZUxheWVySW5kZXg9aSx0aGlzLmJ1Y2tldEluZGV4PXIsdGhpcy50aWxlSUQ9bjt9fWNsYXNzIFhUe2NvbnN0cnVjdG9yKGUpe3RoaXMuY3Jvc3NTb3VyY2VDb2xsaXNpb25zPWUsdGhpcy5tYXhHcm91cElEPTAsdGhpcy5jb2xsaXNpb25Hcm91cHM9e307fWdldChlKXtpZih0aGlzLmNyb3NzU291cmNlQ29sbGlzaW9ucylyZXR1cm4ge0lEOjAscHJlZGljYXRlOm51bGx9O2lmKCF0aGlzLmNvbGxpc2lvbkdyb3Vwc1tlXSl7Y29uc3QgdD0rK3RoaXMubWF4R3JvdXBJRDt0aGlzLmNvbGxpc2lvbkdyb3Vwc1tlXT17SUQ6dCxwcmVkaWNhdGU6ZT0+ZS5jb2xsaXNpb25Hcm91cElEPT09dH07fXJldHVybiB0aGlzLmNvbGxpc2lvbkdyb3Vwc1tlXX19ZnVuY3Rpb24gWVQoZSx0LGkscixuKXtjb25zdHtob3Jpem9udGFsQWxpZ246byx2ZXJ0aWNhbEFsaWduOnN9PUxfKGUpLGE9LShvLS41KSp0LGw9LShzLS41KSppLGM9dWcoZSxyKTtyZXR1cm4gbmV3IHkoYStjWzBdKm4sbCtjWzFdKm4pfWZ1bmN0aW9uIEtUKGUsdCxpLHIsbil7Y29uc3Qgbz1uZXcgeShlLHQpO3JldHVybiBpJiZvLl9yb3RhdGUocj9uOi1uKSxvfWNsYXNzIEpUe2NvbnN0cnVjdG9yKGUsdCxpLHIsbixvKXt0aGlzLnRyYW5zZm9ybT1lLmNsb25lKCksdGhpcy5wcm9qZWN0aW9uPWUucHJvamVjdGlvbi5uYW1lLHRoaXMuY29sbGlzaW9uSW5kZXg9bmV3IFVUKHRoaXMudHJhbnNmb3JtLG4pLHRoaXMuYnVpbGRpbmdJbmRleD1vLHRoaXMucGxhY2VtZW50cz17fSx0aGlzLm9wYWNpdGllcz17fSx0aGlzLnZhcmlhYmxlT2Zmc2V0cz17fSx0aGlzLnN0YWxlPSExLHRoaXMuY29tbWl0VGltZT0wLHRoaXMuZmFkZUR1cmF0aW9uPXQsdGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YT17fSx0aGlzLmNvbGxpc2lvbkdyb3Vwcz1uZXcgWFQoaSksdGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXM9e30sdGhpcy5wcmV2UGxhY2VtZW50PXIsciYmKHIucHJldlBsYWNlbWVudD12b2lkIDApLHRoaXMucGxhY2VkT3JpZW50YXRpb25zPXt9O31nZXRCdWNrZXRQYXJ0cyhlLHQsaSxyKXtjb25zdCBuPWkuZ2V0QnVja2V0KHQpLG89aS5sYXRlc3RGZWF0dXJlSW5kZXg7aWYoIW58fCFvfHx0LmZxaWQhPT1uLmxheWVySWRzWzBdKXJldHVybjtjb25zdCBzPW4ubGF5ZXJzWzBdLmxheW91dCxhPWkuY29sbGlzaW9uQm94QXJyYXksbD1NYXRoLnBvdygyLHRoaXMudHJhbnNmb3JtLnpvb20taS50aWxlSUQub3ZlcnNjYWxlZFopLGM9aS50aWxlU2l6ZS9zcixoPWkudGlsZUlELnRvVW53cmFwcGVkKCk7dGhpcy50cmFuc2Zvcm0uc2V0UHJvamVjdGlvbihuLnByb2plY3Rpb24pO2NvbnN0IHU9KGQ9aS50aWxlSUQscD1uLmdldFByb2plY3Rpb24oKSxmPXRoaXMudHJhbnNmb3JtLHAubmFtZT09PXRoaXMucHJvamVjdGlvbj9mLmNhbGN1bGF0ZVByb2pNYXRyaXgoZC50b1Vud3JhcHBlZCgpKTpWVChmLHAsZCkpO3ZhciBkLHAsZjtjb25zdCBtPVwibWFwXCI9PT1zLmdldChcInRleHQtcGl0Y2gtYWxpZ25tZW50XCIpLF89XCJtYXBcIj09PXMuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIik7dC5jb21waWxlRmlsdGVyKCk7Y29uc3QgZz10LmR5bmFtaWNGaWx0ZXIoKSx5PXQuZHluYW1pY0ZpbHRlck5lZWRzRmVhdHVyZSgpLHg9dGhpcy50cmFuc2Zvcm0uY2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgoaSksdj1ReCh1LGkudGlsZUlELmNhbm9uaWNhbCxtLF8sdGhpcy50cmFuc2Zvcm0sbi5nZXRQcm9qZWN0aW9uKCkseCk7bGV0IGI9bnVsbDtpZihtKXtjb25zdCBlPWV2KHUsaS50aWxlSUQuY2Fub25pY2FsLG0sXyx0aGlzLnRyYW5zZm9ybSxuLmdldFByb2plY3Rpb24oKSx4KTtiPXh1Lm11bHRpcGx5KFtdLHRoaXMudHJhbnNmb3JtLmxhYmVsUGxhbmVNYXRyaXgsZSk7fWxldCB3PW51bGw7ZyYmaS5sYXRlc3RGZWF0dXJlSW5kZXgmJih3PXt1bndyYXBwZWRUaWxlSUQ6aCxkeW5hbWljRmlsdGVyOmcsZHluYW1pY0ZpbHRlck5lZWRzRmVhdHVyZTp5LGZlYXR1cmVJbmRleDppLmxhdGVzdEZlYXR1cmVJbmRleH0pLHRoaXMucmV0YWluZWRRdWVyeURhdGFbbi5idWNrZXRJbnN0YW5jZUlkXT1uZXcgV1Qobi5idWNrZXRJbnN0YW5jZUlkLG8sbi5zb3VyY2VMYXllckluZGV4LG4uaW5kZXgsaS50aWxlSUQpO2NvbnN0IFQ9e2J1Y2tldDpuLGxheW91dDpzLHBvc01hdHJpeDp1LHRleHRMYWJlbFBsYW5lTWF0cml4OnYsbGFiZWxUb1NjcmVlbk1hdHJpeDpiLGNsaXBwaW5nRGF0YTp3LHNjYWxlOmwsdGV4dFBpeGVsUmF0aW86Yyxob2xkaW5nRm9yRmFkZTppLmhvbGRpbmdGb3JGYWRlKCksY29sbGlzaW9uQm94QXJyYXk6YSxwYXJ0aWFsbHlFdmFsdWF0ZWRUZXh0U2l6ZTphXyhuLnRleHRTaXplRGF0YSx0aGlzLnRyYW5zZm9ybS56b29tKSxwYXJ0aWFsbHlFdmFsdWF0ZWRJY29uU2l6ZTphXyhuLmljb25TaXplRGF0YSx0aGlzLnRyYW5zZm9ybS56b29tKSxjb2xsaXNpb25Hcm91cDp0aGlzLmNvbGxpc2lvbkdyb3Vwcy5nZXQobi5zb3VyY2VJRCl9O2lmKHIpZm9yKGNvbnN0IHQgb2Ygbi5zb3J0S2V5UmFuZ2VzKXtjb25zdHtzb3J0S2V5Omksc3ltYm9sSW5zdGFuY2VTdGFydDpyLHN5bWJvbEluc3RhbmNlRW5kOm59PXQ7ZS5wdXNoKHtzb3J0S2V5Omksc3ltYm9sSW5zdGFuY2VTdGFydDpyLHN5bWJvbEluc3RhbmNlRW5kOm4scGFyYW1ldGVyczpUfSk7fWVsc2UgZS5wdXNoKHtzeW1ib2xJbnN0YW5jZVN0YXJ0OjAsc3ltYm9sSW5zdGFuY2VFbmQ6bi5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoLHBhcmFtZXRlcnM6VH0pO31hdHRlbXB0QW5jaG9yUGxhY2VtZW50KGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQscCxmLG0sXyxnKXtjb25zdHt0ZXh0T2Zmc2V0MDp5LHRleHRPZmZzZXQxOngsY3Jvc3NUaWxlSUQ6dn09dSxiPVt5LHhdLHc9WVQoZSxpLHIsYixuKSxUPXRoaXMuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25Cb3gocCxuLHQsS1Qody54LHcueSxvLHMsdGhpcy50cmFuc2Zvcm0uYW5nbGUpLGgsYSxsLGMucHJlZGljYXRlKTtpZihtKXtjb25zdCBlPXAuZ2V0U3ltYm9sSW5zdGFuY2VJY29uU2l6ZShnLHRoaXMudHJhbnNmb3JtLnpvb20sdS5wbGFjZWRJY29uU3ltYm9sSW5kZXgpO2lmKDA9PT10aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KHAsZSxtLEtUKHcueCx3LnksbyxzLHRoaXMudHJhbnNmb3JtLmFuZ2xlKSxoLGEsbCxjLnByZWRpY2F0ZSkuYm94Lmxlbmd0aClyZXR1cm59aWYoVC5ib3gubGVuZ3RoPjApe2xldCB0O3JldHVybiB0aGlzLnByZXZQbGFjZW1lbnQmJnRoaXMucHJldlBsYWNlbWVudC52YXJpYWJsZU9mZnNldHNbdl0mJnRoaXMucHJldlBsYWNlbWVudC5wbGFjZW1lbnRzW3ZdJiZ0aGlzLnByZXZQbGFjZW1lbnQucGxhY2VtZW50c1t2XS50ZXh0JiYodD10aGlzLnByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzW3ZdLmFuY2hvciksdGhpcy52YXJpYWJsZU9mZnNldHNbdl09e3RleHRPZmZzZXQ6Yix3aWR0aDppLGhlaWdodDpyLGFuY2hvcjplLHRleHRTY2FsZTpuLHByZXZBbmNob3I6dH0sdGhpcy5tYXJrVXNlZEp1c3RpZmljYXRpb24ocCxlLHUsZikscC5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiYodGhpcy5tYXJrVXNlZE9yaWVudGF0aW9uKHAsZix1KSx0aGlzLnBsYWNlZE9yaWVudGF0aW9uc1t2XT1mKSx7c2hpZnQ6dyxwbGFjZWRHbHlwaEJveGVzOlR9fX1wbGFjZUxheWVyQnVja2V0UGFydChlLHQsaSxyKXtjb25zdHtidWNrZXQ6bixsYXlvdXQ6byxwb3NNYXRyaXg6cyx0ZXh0TGFiZWxQbGFuZU1hdHJpeDphLGxhYmVsVG9TY3JlZW5NYXRyaXg6bCxjbGlwcGluZ0RhdGE6Yyx0ZXh0UGl4ZWxSYXRpbzpoLGhvbGRpbmdGb3JGYWRlOnUsY29sbGlzaW9uQm94QXJyYXk6ZCxwYXJ0aWFsbHlFdmFsdWF0ZWRUZXh0U2l6ZTpwLHBhcnRpYWxseUV2YWx1YXRlZEljb25TaXplOmYsY29sbGlzaW9uR3JvdXA6bX09ZS5wYXJhbWV0ZXJzLF89by5nZXQoXCJ0ZXh0LW9wdGlvbmFsXCIpLGc9by5nZXQoXCJpY29uLW9wdGlvbmFsXCIpLHg9by5nZXQoXCJ0ZXh0LWFsbG93LW92ZXJsYXBcIiksdj1vLmdldChcImljb24tYWxsb3ctb3ZlcmxhcFwiKSxiPVwibWFwXCI9PT1vLmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpLHc9XCJtYXBcIj09PW8uZ2V0KFwidGV4dC1waXRjaC1hbGlnbm1lbnRcIiksVD1cInZpZXdwb3J0LXlcIj09PW8uZ2V0KFwic3ltYm9sLXotb3JkZXJcIiksRT1vLmdldChcInN5bWJvbC16LWVsZXZhdGVcIik7dGhpcy50cmFuc2Zvcm0uc2V0UHJvamVjdGlvbihuLnByb2plY3Rpb24pO2xldCBNPXgmJih2fHwhbi5oYXNJY29uRGF0YSgpfHxnKSxBPXYmJih4fHwhbi5oYXNUZXh0RGF0YSgpfHxfKTshbi5jb2xsaXNpb25BcnJheXMmJmQmJm4uZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlcyhkKSxpJiZyJiZuLnVwZGF0ZUNvbGxpc2lvbkRlYnVnQnVmZmVycyh0aGlzLnRyYW5zZm9ybS56b29tLGQpO2NvbnN0IFM9KGUscixkKT0+e2NvbnN0e2Nyb3NzVGlsZUlEOlQsbnVtVmVydGljYWxHbHlwaFZlcnRpY2VzOkV9PWU7aWYoYyl7Y29uc3QgaT17em9vbTp0aGlzLnRyYW5zZm9ybS56b29tLHBpdGNoOnRoaXMudHJhbnNmb3JtLnBpdGNofTtsZXQgcj1udWxsO2lmKGMuZHluYW1pY0ZpbHRlck5lZWRzRmVhdHVyZSl7Y29uc3QgdD10aGlzLnJldGFpbmVkUXVlcnlEYXRhW24uYnVja2V0SW5zdGFuY2VJZF07cj1jLmZlYXR1cmVJbmRleC5sb2FkRmVhdHVyZSh7ZmVhdHVyZUluZGV4OmUuZmVhdHVyZUluZGV4LGJ1Y2tldEluZGV4OnQuYnVja2V0SW5kZXgsc291cmNlTGF5ZXJJbmRleDp0LnNvdXJjZUxheWVySW5kZXgsbGF5b3V0VmVydGV4QXJyYXlPZmZzZXQ6MH0pO31pZighKDAsYy5keW5hbWljRmlsdGVyKShpLHIsdGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVtuLmJ1Y2tldEluc3RhbmNlSWRdLnRpbGVJRC5jYW5vbmljYWwsbmV3IHkoZS50aWxlQW5jaG9yWCxlLnRpbGVBbmNob3JZKSx0aGlzLnRyYW5zZm9ybS5jYWxjdWxhdGVEaXN0YW5jZVRpbGVEYXRhKGMudW53cmFwcGVkVGlsZUlEKSkpcmV0dXJuIHRoaXMucGxhY2VtZW50c1tUXT1uZXcgJFQoITEsITEsITEsITApLHZvaWQgdC5hZGQoVCl9aWYodC5oYXMoVCkpcmV0dXJuO2lmKHUpcmV0dXJuIHZvaWQodGhpcy5wbGFjZW1lbnRzW1RdPW5ldyAkVCghMSwhMSwhMSkpO2xldCBTPSExLEk9ITEsQz0hMCx6PSExLEQ9ITEsUD1udWxsLFI9e2JveDpudWxsLG9mZnNjcmVlbjpudWxsLG9jY2x1ZGVkOm51bGx9LEw9e2JveDpudWxsLG9mZnNjcmVlbjpudWxsLG9jY2x1ZGVkOm51bGx9LGs9bnVsbCxPPW51bGwsQj1udWxsLEY9MCxOPTAsVT0wO2QudGV4dEZlYXR1cmVJbmRleD9GPWQudGV4dEZlYXR1cmVJbmRleDplLnVzZVJ1bnRpbWVDb2xsaXNpb25DaXJjbGVzJiYoRj1lLmZlYXR1cmVJbmRleCksZC52ZXJ0aWNhbFRleHRGZWF0dXJlSW5kZXgmJihOPWQudmVydGljYWxUZXh0RmVhdHVyZUluZGV4KTtjb25zdCBWPXQ9Pnt0LnRpbGVJRD10aGlzLnJldGFpbmVkUXVlcnlEYXRhW24uYnVja2V0SW5zdGFuY2VJZF0udGlsZUlEO2NvbnN0IGk9dGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uO3QuZWxldmF0aW9uPWUuek9mZnNldCsoaT9pLmdldEF0VGlsZU9mZnNldCh0LnRpbGVJRCx0LnRpbGVBbmNob3JYLHQudGlsZUFuY2hvclkpOjApO30saj1kLnRleHRCb3g7aWYoail7VihqKTtjb25zdCB0PXQ9PntsZXQgaT13Xy5ob3Jpem9udGFsO2lmKG4uYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmIXQmJnRoaXMucHJldlBsYWNlbWVudCl7Y29uc3QgdD10aGlzLnByZXZQbGFjZW1lbnQucGxhY2VkT3JpZW50YXRpb25zW1RdO3QmJih0aGlzLnBsYWNlZE9yaWVudGF0aW9uc1tUXT10LGk9dCx0aGlzLm1hcmtVc2VkT3JpZW50YXRpb24obixpLGUpKTt9cmV0dXJuIGl9LGk9KGUsdCk9PntpZihuLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJkU+MCYmZC52ZXJ0aWNhbFRleHRCb3gpe2Zvcihjb25zdCBpIG9mIG4ud3JpdGluZ01vZGVzKWlmKGk9PT13Xy52ZXJ0aWNhbD8oUj10KCksTD1SKTpSPWUoKSxSJiZSLmJveCYmUi5ib3gubGVuZ3RoKWJyZWFrfWVsc2UgUj1lKCk7fTtpZihvLmdldChcInRleHQtdmFyaWFibGUtYW5jaG9yXCIpKXtsZXQgYT1vLmdldChcInRleHQtdmFyaWFibGUtYW5jaG9yXCIpO2lmKHRoaXMucHJldlBsYWNlbWVudCYmdGhpcy5wcmV2UGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0c1tUXSl7Y29uc3QgZT10aGlzLnByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzW1RdO2EuaW5kZXhPZihlLmFuY2hvcik+MCYmKGE9YS5maWx0ZXIoKHQ9PnQhPT1lLmFuY2hvcikpLGEudW5zaGlmdChlLmFuY2hvcikpO31jb25zdCBsPSh0LGksbyk9Pntjb25zdCBsPW4uZ2V0U3ltYm9sSW5zdGFuY2VUZXh0U2l6ZShwLGUsdGhpcy50cmFuc2Zvcm0uem9vbSxyKSxjPSh0LngyLXQueDEpKmwrMip0LnBhZGRpbmcsdT0odC55Mi10LnkxKSpsKzIqdC5wYWRkaW5nLGQ9ZS5oYXNJY29uVGV4dEZpdCYmIXY/aTpudWxsO2QmJlYoZCk7bGV0IF89e2JveDpbXSxvZmZzY3JlZW46ITEsb2NjbHVkZWQ6ITF9O2NvbnN0IGc9eD8yKmEubGVuZ3RoOmEubGVuZ3RoO2ZvcihsZXQgaT0wO2k8ZzsrK2kpe2NvbnN0IGc9dGhpcy5hdHRlbXB0QW5jaG9yUGxhY2VtZW50KGFbaSVhLmxlbmd0aF0sdCxjLHUsbCxiLHcsaCxzLG0saT49YS5sZW5ndGgsZSxyLG4sbyxkLHAsZik7aWYoZyYmKF89Zy5wbGFjZWRHbHlwaEJveGVzLF8mJl8uYm94JiZfLmJveC5sZW5ndGgpKXtTPSEwLFA9Zy5zaGlmdDticmVha319cmV0dXJuIF99O2koKCgpPT5sKGosZC5pY29uQm94LHdfLmhvcml6b250YWwpKSwoKCk9Pntjb25zdCBlPWQudmVydGljYWxUZXh0Qm94O3JldHVybiBlJiZWKGUpLG4uYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmIShSJiZSLmJveCYmUi5ib3gubGVuZ3RoKSYmRT4wJiZlP2woZSxkLnZlcnRpY2FsSWNvbkJveCx3Xy52ZXJ0aWNhbCk6e2JveDpudWxsLG9mZnNjcmVlbjpudWxsLG9jY2x1ZGVkOm51bGx9fSkpLFImJihTPVIuYm94LEM9Ui5vZmZzY3JlZW4sej1SLm9jY2x1ZGVkKTtjb25zdCBjPXQoISghUnx8IVIuYm94KSk7aWYoIVMmJnRoaXMucHJldlBsYWNlbWVudCl7Y29uc3QgdD10aGlzLnByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzW1RdO3QmJih0aGlzLnZhcmlhYmxlT2Zmc2V0c1tUXT10LHRoaXMubWFya1VzZWRKdXN0aWZpY2F0aW9uKG4sdC5hbmNob3IsZSxjKSk7fX1lbHNlIHtjb25zdCBvPSh0LGkpPT57Y29uc3Qgbz1uLmdldFN5bWJvbEluc3RhbmNlVGV4dFNpemUocCxlLHRoaXMudHJhbnNmb3JtLnpvb20sciksYT10aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KG4sbyx0LG5ldyB5KDAsMCkseCxoLHMsbS5wcmVkaWNhdGUpO3JldHVybiBhJiZhLmJveCYmYS5ib3gubGVuZ3RoJiYodGhpcy5tYXJrVXNlZE9yaWVudGF0aW9uKG4saSxlKSx0aGlzLnBsYWNlZE9yaWVudGF0aW9uc1tUXT1pKSxhfTtpKCgoKT0+byhqLHdfLmhvcml6b250YWwpKSwoKCk9Pntjb25zdCBlPWQudmVydGljYWxUZXh0Qm94O3JldHVybiBuLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJkU+MCYmZT8oVihlKSxvKGUsd18udmVydGljYWwpKTp7Ym94Om51bGwsb2Zmc2NyZWVuOm51bGwsb2NjbHVkZWQ6bnVsbH19KSksdCghIShSJiZSLmJveCYmUi5ib3gubGVuZ3RoKSk7fX1pZihrPVIsUz1rJiZrLmJveCYmay5ib3gubGVuZ3RoPjAsQz1rJiZrLm9mZnNjcmVlbix6PWsmJmsub2NjbHVkZWQsZS51c2VSdW50aW1lQ29sbGlzaW9uQ2lyY2xlcyl7Y29uc3QgdD1uLnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KGUuY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4Pj0wP2UuY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OmUudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXgpLHI9c18obi50ZXh0U2l6ZURhdGEscCx0KSxjPW8uZ2V0KFwidGV4dC1wYWRkaW5nXCIpO089dGhpcy5jb2xsaXNpb25JbmRleC5wbGFjZUNvbGxpc2lvbkNpcmNsZXMobix4LHQsbi5saW5lVmVydGV4QXJyYXksbi5nbHlwaE9mZnNldEFycmF5LHIscyxhLGwsaSx3LG0ucHJlZGljYXRlLGUuY29sbGlzaW9uQ2lyY2xlRGlhbWV0ZXIqci9yXyxjLHRoaXMucmV0YWluZWRRdWVyeURhdGFbbi5idWNrZXRJbnN0YW5jZUlkXS50aWxlSUQpLFM9eHx8Ty5jaXJjbGVzLmxlbmd0aD4wJiYhTy5jb2xsaXNpb25EZXRlY3RlZCxDPUMmJk8ub2Zmc2NyZWVuLHo9Ty5vY2NsdWRlZDt9aWYoZC5pY29uRmVhdHVyZUluZGV4JiYoVT1kLmljb25GZWF0dXJlSW5kZXgpLGQuaWNvbkJveCl7Y29uc3QgdD10PT57Vih0KTtjb25zdCBpPWUuaGFzSWNvblRleHRGaXQmJlA/S1QoUC54LFAueSxiLHcsdGhpcy50cmFuc2Zvcm0uYW5nbGUpOm5ldyB5KDAsMCkscj1uLmdldFN5bWJvbEluc3RhbmNlSWNvblNpemUoZix0aGlzLnRyYW5zZm9ybS56b29tLGUucGxhY2VkSWNvblN5bWJvbEluZGV4KTtyZXR1cm4gdGhpcy5jb2xsaXNpb25JbmRleC5wbGFjZUNvbGxpc2lvbkJveChuLHIsdCxpLHYsaCxzLG0ucHJlZGljYXRlKX07TCYmTC5ib3gmJkwuYm94Lmxlbmd0aCYmZC52ZXJ0aWNhbEljb25Cb3g/KEI9dChkLnZlcnRpY2FsSWNvbkJveCksST1CLmJveC5sZW5ndGg+MCk6KEI9dChkLmljb25Cb3gpLEk9Qi5ib3gubGVuZ3RoPjApLEM9QyYmQi5vZmZzY3JlZW4sRD1CLm9jY2x1ZGVkO31jb25zdCBHPV98fDA9PT1lLm51bUhvcml6b250YWxHbHlwaFZlcnRpY2VzJiYwPT09RSxxPWd8fDA9PT1lLm51bUljb25WZXJ0aWNlcztpZihHfHxxP3E/R3x8KEk9SSYmUyk6Uz1JJiZTOkk9Uz1JJiZTLFMmJmsmJmsuYm94JiZ0aGlzLmNvbGxpc2lvbkluZGV4Lmluc2VydENvbGxpc2lvbkJveChrLmJveCxvLmdldChcInRleHQtaWdub3JlLXBsYWNlbWVudFwiKSxuLmJ1Y2tldEluc3RhbmNlSWQsTCYmTC5ib3gmJk4/TjpGLG0uSUQpLEkmJkImJnRoaXMuY29sbGlzaW9uSW5kZXguaW5zZXJ0Q29sbGlzaW9uQm94KEIuYm94LG8uZ2V0KFwiaWNvbi1pZ25vcmUtcGxhY2VtZW50XCIpLG4uYnVja2V0SW5zdGFuY2VJZCxVLG0uSUQpLE8mJihTJiZ0aGlzLmNvbGxpc2lvbkluZGV4Lmluc2VydENvbGxpc2lvbkNpcmNsZXMoTy5jaXJjbGVzLG8uZ2V0KFwidGV4dC1pZ25vcmUtcGxhY2VtZW50XCIpLG4uYnVja2V0SW5zdGFuY2VJZCxGLG0uSUQpLGkpKXtjb25zdCBlPW4uYnVja2V0SW5zdGFuY2VJZDtsZXQgdD10aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5c1tlXTt2b2lkIDA9PT10JiYodD10aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5c1tlXT1uZXcgSFQpO2ZvcihsZXQgZT0wO2U8Ty5jaXJjbGVzLmxlbmd0aDtlKz00KXQuY2lyY2xlcy5wdXNoKE8uY2lyY2xlc1tlKzBdKSx0LmNpcmNsZXMucHVzaChPLmNpcmNsZXNbZSsxXSksdC5jaXJjbGVzLnB1c2goTy5jaXJjbGVzW2UrMl0pLHQuY2lyY2xlcy5wdXNoKE8uY29sbGlzaW9uRGV0ZWN0ZWQ/MTowKTt9Y29uc3QgWj1cImdsb2JlXCIhPT1uLnByb2plY3Rpb24ubmFtZTtNPU0mJihafHwheiksQT1BJiYoWnx8IUQpLHRoaXMucGxhY2VtZW50c1tUXT1uZXcgJFQoU3x8TSxJfHxBLEN8fG4uanVzdFJlbG9hZGVkKSx0LmFkZChUKTt9O2lmKEUmJnRoaXMuYnVpbGRpbmdJbmRleCYmKHRoaXMuYnVpbGRpbmdJbmRleC51cGRhdGVaT2Zmc2V0KG4sdGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVtuLmJ1Y2tldEluc3RhbmNlSWRdLnRpbGVJRCksbi51cGRhdGVaT2Zmc2V0KCkpLFQpe2NvbnN0IGU9bi5nZXRTb3J0ZWRTeW1ib2xJbmRleGVzKHRoaXMudHJhbnNmb3JtLmFuZ2xlKTtmb3IobGV0IHQ9ZS5sZW5ndGgtMTt0Pj0wOy0tdCl7Y29uc3QgaT1lW3RdO1Mobi5zeW1ib2xJbnN0YW5jZXMuZ2V0KGkpLGksbi5jb2xsaXNpb25BcnJheXNbaV0pO31uLmhhc0FueVpPZmZzZXQmJlcoYCR7bi5sYXllcklkc1swXX0gbGF5ZXIgc3ltYm9sLXotZWxldmF0ZTogc3ltYm9scyBhcmUgbm90IHNvcnRlZCBieSBlbGV2YXRpb24gaWYgc3ltYm9sLXotb3JkZXIgaXMgZXZhbHVhdGVkIHRvIHZpZXdwb3J0LXlgKTt9ZWxzZSBpZihuLmhhc0FueVpPZmZzZXQpe2NvbnN0IGU9bi5nZXRTb3J0ZWRJbmRleGVzQnlaT2Zmc2V0KCk7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDsrK3Qpe2NvbnN0IGk9ZVt0XTtTKG4uc3ltYm9sSW5zdGFuY2VzLmdldChpKSxpLG4uY29sbGlzaW9uQXJyYXlzW2ldKTt9fWVsc2UgZm9yKGxldCB0PWUuc3ltYm9sSW5zdGFuY2VTdGFydDt0PGUuc3ltYm9sSW5zdGFuY2VFbmQ7dCsrKVMobi5zeW1ib2xJbnN0YW5jZXMuZ2V0KHQpLHQsbi5jb2xsaXNpb25BcnJheXNbdF0pO2lmKGkmJm4uYnVja2V0SW5zdGFuY2VJZCBpbiB0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5cyl7Y29uc3QgZT10aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5c1tuLmJ1Y2tldEluc3RhbmNlSWRdO3h1LmludmVydChlLmludlByb2pNYXRyaXgscyksZS52aWV3cG9ydE1hdHJpeD10aGlzLmNvbGxpc2lvbkluZGV4LmdldFZpZXdwb3J0TWF0cml4KCk7fW4uanVzdFJlbG9hZGVkPSExO31tYXJrVXNlZEp1c3RpZmljYXRpb24oZSx0LGkscil7Y29uc3R7bGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDpuLGNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleDpvLHJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OnMsdmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg6YSxjcm9zc1RpbGVJRDpsfT1pLGM9cGcodCksaD1yPT09d18udmVydGljYWw/YTpcImxlZnRcIj09PWM/bjpcImNlbnRlclwiPT09Yz9vOlwicmlnaHRcIj09PWM/czotMTtuPj0wJiYoZS50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChuKS5jcm9zc1RpbGVJRD1oPj0wJiZuIT09aD8wOmwpLG8+PTAmJihlLnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KG8pLmNyb3NzVGlsZUlEPWg+PTAmJm8hPT1oPzA6bCkscz49MCYmKGUudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQocykuY3Jvc3NUaWxlSUQ9aD49MCYmcyE9PWg/MDpsKSxhPj0wJiYoZS50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChhKS5jcm9zc1RpbGVJRD1oPj0wJiZhIT09aD8wOmwpO31tYXJrVXNlZE9yaWVudGF0aW9uKGUsdCxpKXtjb25zdCByPXQ9PT13Xy5ob3Jpem9udGFsfHx0PT09d18uaG9yaXpvbnRhbE9ubHk/dDowLG49dD09PXdfLnZlcnRpY2FsP3Q6MCx7bGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDpvLGNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleDpzLHJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OmEsdmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg6bH09aSxjPWUudGV4dC5wbGFjZWRTeW1ib2xBcnJheTtvPj0wJiYoYy5nZXQobykucGxhY2VkT3JpZW50YXRpb249cikscz49MCYmKGMuZ2V0KHMpLnBsYWNlZE9yaWVudGF0aW9uPXIpLGE+PTAmJihjLmdldChhKS5wbGFjZWRPcmllbnRhdGlvbj1yKSxsPj0wJiYoYy5nZXQobCkucGxhY2VkT3JpZW50YXRpb249bik7fWNvbW1pdChlKXt0aGlzLmNvbW1pdFRpbWU9ZSx0aGlzLnpvb21BdExhc3RSZWNlbmN5Q2hlY2s9dGhpcy50cmFuc2Zvcm0uem9vbTtjb25zdCB0PXRoaXMucHJldlBsYWNlbWVudDtsZXQgaT0hMTt0aGlzLnByZXZab29tQWRqdXN0bWVudD10P3Quem9vbUFkanVzdG1lbnQodGhpcy50cmFuc2Zvcm0uem9vbSk6MDtjb25zdCByPXQ/dC5zeW1ib2xGYWRlQ2hhbmdlKGUpOjEsbj10P3Qub3BhY2l0aWVzOnt9LG89dD90LnZhcmlhYmxlT2Zmc2V0czp7fSxzPXQ/dC5wbGFjZWRPcmllbnRhdGlvbnM6e307Zm9yKGNvbnN0IGUgaW4gdGhpcy5wbGFjZW1lbnRzKXtjb25zdCB0PXRoaXMucGxhY2VtZW50c1tlXSxvPW5bZV07bz8odGhpcy5vcGFjaXRpZXNbZV09bmV3IFpUKG8scix0LnRleHQsdC5pY29uLG51bGwsdC5jbGlwcGVkKSxpPWl8fHQudGV4dCE9PW8udGV4dC5wbGFjZWR8fHQuaWNvbiE9PW8uaWNvbi5wbGFjZWQpOih0aGlzLm9wYWNpdGllc1tlXT1uZXcgWlQobnVsbCxyLHQudGV4dCx0Lmljb24sdC5za2lwRmFkZSx0LmNsaXBwZWQpLGk9aXx8dC50ZXh0fHx0Lmljb24pO31mb3IoY29uc3QgZSBpbiBuKXtjb25zdCB0PW5bZV07aWYoIXRoaXMub3BhY2l0aWVzW2VdKXtjb25zdCBuPW5ldyBaVCh0LHIsITEsITEpO24uaXNIaWRkZW4oKXx8KHRoaXMub3BhY2l0aWVzW2VdPW4saT1pfHx0LnRleHQucGxhY2VkfHx0Lmljb24ucGxhY2VkKTt9fWZvcihjb25zdCBlIGluIG8pdGhpcy52YXJpYWJsZU9mZnNldHNbZV18fCF0aGlzLm9wYWNpdGllc1tlXXx8dGhpcy5vcGFjaXRpZXNbZV0uaXNIaWRkZW4oKXx8KHRoaXMudmFyaWFibGVPZmZzZXRzW2VdPW9bZV0pO2Zvcihjb25zdCBlIGluIHMpdGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbZV18fCF0aGlzLm9wYWNpdGllc1tlXXx8dGhpcy5vcGFjaXRpZXNbZV0uaXNIaWRkZW4oKXx8KHRoaXMucGxhY2VkT3JpZW50YXRpb25zW2VdPXNbZV0pO2k/dGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZT1lOlwibnVtYmVyXCIhPXR5cGVvZiB0aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lJiYodGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZT10P3QubGFzdFBsYWNlbWVudENoYW5nZVRpbWU6ZSk7fXVwZGF0ZUxheWVyT3BhY2l0aWVzKGUsdCl7Y29uc3QgaT1uZXcgU2V0O2Zvcihjb25zdCByIG9mIHQpe2NvbnN0IHQ9ci5nZXRCdWNrZXQoZSk7dCYmci5sYXRlc3RGZWF0dXJlSW5kZXgmJmUuZnFpZD09PXQubGF5ZXJJZHNbMF0mJih0aGlzLnVwZGF0ZUJ1Y2tldE9wYWNpdGllcyh0LGksci5jb2xsaXNpb25Cb3hBcnJheSksdC5sYXllcnNbMF0ubGF5b3V0LmdldChcInN5bWJvbC16LWVsZXZhdGVcIikmJnRoaXMuYnVpbGRpbmdJbmRleCYmKHRoaXMuYnVpbGRpbmdJbmRleC51cGRhdGVaT2Zmc2V0KHQsci50aWxlSUQpLHQudXBkYXRlWk9mZnNldCgpKSk7fX11cGRhdGVCdWNrZXRPcGFjaXRpZXMoZSx0LGkpe2UuaGFzVGV4dERhdGEoKSYmZS50ZXh0Lm9wYWNpdHlWZXJ0ZXhBcnJheS5jbGVhcigpLGUuaGFzSWNvbkRhdGEoKSYmZS5pY29uLm9wYWNpdHlWZXJ0ZXhBcnJheS5jbGVhcigpLGUuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKSYmZS5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LmNsZWFyKCksZS5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpJiZlLnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXkuY2xlYXIoKTtjb25zdCByPWUubGF5ZXJzWzBdLmxheW91dCxuPSEhZS5sYXllcnNbMF0uZHluYW1pY0ZpbHRlcigpLG89bmV3IFpUKG51bGwsMCwhMSwhMSwhMCkscz1yLmdldChcInRleHQtYWxsb3ctb3ZlcmxhcFwiKSxhPXIuZ2V0KFwiaWNvbi1hbGxvdy1vdmVybGFwXCIpLGw9ci5nZXQoXCJ0ZXh0LXZhcmlhYmxlLWFuY2hvclwiKSxjPVwibWFwXCI9PT1yLmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpLGg9XCJtYXBcIj09PXIuZ2V0KFwidGV4dC1waXRjaC1hbGlnbm1lbnRcIiksdT1uZXcgWlQobnVsbCwwLHMmJihhfHwhZS5oYXNJY29uRGF0YSgpfHxyLmdldChcImljb24tb3B0aW9uYWxcIikpLGEmJihzfHwhZS5oYXNUZXh0RGF0YSgpfHxyLmdldChcInRleHQtb3B0aW9uYWxcIikpLCEwKTshZS5jb2xsaXNpb25BcnJheXMmJmkmJihlLmhhc0ljb25Db2xsaXNpb25Cb3hEYXRhKCl8fGUuaGFzVGV4dENvbGxpc2lvbkJveERhdGEoKSkmJmUuZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlcyhpKTtjb25zdCBkPShlLHQsaSk9Pntmb3IobGV0IHI9MDtyPHQvNDtyKyspZS5vcGFjaXR5VmVydGV4QXJyYXkuZW1wbGFjZUJhY2soaSk7fTtsZXQgcD0wO2ZvcihsZXQgaT0wO2k8ZS5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO2krKyl7Y29uc3Qgcj1lLnN5bWJvbEluc3RhbmNlcy5nZXQoaSkse251bUhvcml6b250YWxHbHlwaFZlcnRpY2VzOnMsbnVtVmVydGljYWxHbHlwaFZlcnRpY2VzOmEsY3Jvc3NUaWxlSUQ6ZixudW1JY29uVmVydGljZXM6bX09cixfPXQuaGFzKGYpO2xldCBnPXRoaXMub3BhY2l0aWVzW2ZdO18/Zz1vOmd8fChnPXUsdGhpcy5vcGFjaXRpZXNbZl09ZyksdC5hZGQoZik7Y29uc3QgeD1zPjB8fGE+MCx2PW0+MCxiPXRoaXMucGxhY2VkT3JpZW50YXRpb25zW2ZdLHc9Yj09PXdfLnZlcnRpY2FsLFQ9Yj09PXdfLmhvcml6b250YWx8fGI9PT13Xy5ob3Jpem9udGFsT25seTtpZigheCYmIXZ8fGcuaXNIaWRkZW4oKXx8cCsrLHgpe2NvbnN0IHQ9YUUoZy50ZXh0KTtkKGUudGV4dCxzLHc/bEU6dCksZChlLnRleHQsYSxUP2xFOnQpO2NvbnN0IGk9Zy50ZXh0LmlzSGlkZGVuKCkse2xlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6bixjZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6byxyaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDpsLHZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4OmN9PXIsaD1lLnRleHQucGxhY2VkU3ltYm9sQXJyYXksdT1pfHx3PzE6MDtuPj0wJiYoaC5nZXQobikuaGlkZGVuPXUpLG8+PTAmJihoLmdldChvKS5oaWRkZW49dSksbD49MCYmKGguZ2V0KGwpLmhpZGRlbj11KSxjPj0wJiYoaC5nZXQoYykuaGlkZGVuPWl8fFQ/MTowKTtjb25zdCBwPXRoaXMudmFyaWFibGVPZmZzZXRzW2ZdO3AmJnRoaXMubWFya1VzZWRKdXN0aWZpY2F0aW9uKGUscC5hbmNob3IscixiKTtjb25zdCBtPXRoaXMucGxhY2VkT3JpZW50YXRpb25zW2ZdO20mJih0aGlzLm1hcmtVc2VkSnVzdGlmaWNhdGlvbihlLFwibGVmdFwiLHIsbSksdGhpcy5tYXJrVXNlZE9yaWVudGF0aW9uKGUsbSxyKSk7fWlmKHYpe2NvbnN0IHQ9YUUoZy5pY29uKSx7cGxhY2VkSWNvblN5bWJvbEluZGV4OmksdmVydGljYWxQbGFjZWRJY29uU3ltYm9sSW5kZXg6bn09cixvPWUuaWNvbi5wbGFjZWRTeW1ib2xBcnJheSxzPWcuaWNvbi5pc0hpZGRlbigpPzE6MDtpPj0wJiYoZChlLmljb24sbSx3P2xFOnQpLG8uZ2V0KGkpLmhpZGRlbj1zKSxuPj0wJiYoZChlLmljb24sci5udW1WZXJ0aWNhbEljb25WZXJ0aWNlcyxUP2xFOnQpLG8uZ2V0KG4pLmhpZGRlbj1zKTt9aWYoZS5oYXNJY29uQ29sbGlzaW9uQm94RGF0YSgpfHxlLmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkpe2NvbnN0IHQ9ZS5jb2xsaXNpb25BcnJheXNbaV07aWYodCl7bGV0IGk9bmV3IHkoMCwwKSxvPSEwO2lmKHQudGV4dEJveHx8dC52ZXJ0aWNhbFRleHRCb3gpe2lmKGwpe2NvbnN0IGU9dGhpcy52YXJpYWJsZU9mZnNldHNbZl07ZT8oaT1ZVChlLmFuY2hvcixlLndpZHRoLGUuaGVpZ2h0LGUudGV4dE9mZnNldCxlLnRleHRTY2FsZSksYyYmaS5fcm90YXRlKGg/dGhpcy50cmFuc2Zvcm0uYW5nbGU6LXRoaXMudHJhbnNmb3JtLmFuZ2xlKSk6bz0hMTt9biYmKG89IWcuY2xpcHBlZCksdC50ZXh0Qm94JiZRVChlLnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXksZy50ZXh0LnBsYWNlZCwhb3x8dyxpLngsaS55KSx0LnZlcnRpY2FsVGV4dEJveCYmUVQoZS50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LGcudGV4dC5wbGFjZWQsIW98fFQsaS54LGkueSk7fWNvbnN0IHM9byYmQm9vbGVhbighVCYmdC52ZXJ0aWNhbEljb25Cb3gpO3QuaWNvbkJveCYmUVQoZS5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LGcuaWNvbi5wbGFjZWQscyxyLmhhc0ljb25UZXh0Rml0P2kueDowLHIuaGFzSWNvblRleHRGaXQ/aS55OjApLHQudmVydGljYWxJY29uQm94JiZRVChlLmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXksZy5pY29uLnBsYWNlZCwhcyxyLmhhc0ljb25UZXh0Rml0P2kueDowLHIuaGFzSWNvblRleHRGaXQ/aS55OjApO319fWlmKGUuZnVsbHlDbGlwcGVkPTA9PT1wLGUuc29ydEZlYXR1cmVzKHRoaXMudHJhbnNmb3JtLmFuZ2xlKSx0aGlzLnJldGFpbmVkUXVlcnlEYXRhW2UuYnVja2V0SW5zdGFuY2VJZF0mJih0aGlzLnJldGFpbmVkUXVlcnlEYXRhW2UuYnVja2V0SW5zdGFuY2VJZF0uZmVhdHVyZVNvcnRPcmRlcj1lLmZlYXR1cmVTb3J0T3JkZXIpLGUuaGFzVGV4dERhdGEoKSYmZS50ZXh0Lm9wYWNpdHlWZXJ0ZXhCdWZmZXImJmUudGV4dC5vcGFjaXR5VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoZS50ZXh0Lm9wYWNpdHlWZXJ0ZXhBcnJheSksZS5oYXNJY29uRGF0YSgpJiZlLmljb24ub3BhY2l0eVZlcnRleEJ1ZmZlciYmZS5pY29uLm9wYWNpdHlWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShlLmljb24ub3BhY2l0eVZlcnRleEFycmF5KSxlLmhhc0ljb25Db2xsaXNpb25Cb3hEYXRhKCkmJmUuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXImJmUuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShlLmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXkpLGUuaGFzVGV4dENvbGxpc2lvbkJveERhdGEoKSYmZS50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlciYmZS50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGUudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSksZS5idWNrZXRJbnN0YW5jZUlkIGluIHRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXlzKXtjb25zdCB0PXRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXlzW2UuYnVja2V0SW5zdGFuY2VJZF07ZS5wbGFjZW1lbnRJbnZQcm9qTWF0cml4PXQuaW52UHJvak1hdHJpeCxlLnBsYWNlbWVudFZpZXdwb3J0TWF0cml4PXQudmlld3BvcnRNYXRyaXgsZS5jb2xsaXNpb25DaXJjbGVBcnJheT10LmNpcmNsZXMsZGVsZXRlIHRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXlzW2UuYnVja2V0SW5zdGFuY2VJZF07fX1zeW1ib2xGYWRlQ2hhbmdlKGUpe3JldHVybiAwPT09dGhpcy5mYWRlRHVyYXRpb24/MTooZS10aGlzLmNvbW1pdFRpbWUpL3RoaXMuZmFkZUR1cmF0aW9uK3RoaXMucHJldlpvb21BZGp1c3RtZW50fXpvb21BZGp1c3RtZW50KGUpe3JldHVybiBNYXRoLm1heCgwLCh0aGlzLnRyYW5zZm9ybS56b29tLWUpLzEuNSl9aGFzVHJhbnNpdGlvbnMoZSl7cmV0dXJuIHRoaXMuc3RhbGV8fGUtdGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZTx0aGlzLmZhZGVEdXJhdGlvbn1zdGlsbFJlY2VudChlLHQpe2NvbnN0IGk9dGhpcy56b29tQXRMYXN0UmVjZW5jeUNoZWNrPT09dD8xLXRoaXMuem9vbUFkanVzdG1lbnQodCk6MTtyZXR1cm4gdGhpcy56b29tQXRMYXN0UmVjZW5jeUNoZWNrPXQsdGhpcy5jb21taXRUaW1lK3RoaXMuZmFkZUR1cmF0aW9uKmk+ZX1zZXRTdGFsZSgpe3RoaXMuc3RhbGU9ITA7fX1mdW5jdGlvbiBRVChlLHQsaSxyLG4pe2UuZW1wbGFjZUJhY2sodD8xOjAsaT8xOjAscnx8MCxufHwwKSxlLmVtcGxhY2VCYWNrKHQ/MTowLGk/MTowLHJ8fDAsbnx8MCksZS5lbXBsYWNlQmFjayh0PzE6MCxpPzE6MCxyfHwwLG58fDApLGUuZW1wbGFjZUJhY2sodD8xOjAsaT8xOjAscnx8MCxufHwwKTt9Y29uc3QgZUU9TWF0aC5wb3coMiwyNSksdEU9TWF0aC5wb3coMiwyNCksaUU9TWF0aC5wb3coMiwxNyksckU9TWF0aC5wb3coMiwxNiksbkU9TWF0aC5wb3coMiw5KSxvRT1NYXRoLnBvdygyLDgpLHNFPU1hdGgucG93KDIsMSk7ZnVuY3Rpb24gYUUoZSl7aWYoMD09PWUub3BhY2l0eSYmIWUucGxhY2VkKXJldHVybiAwO2lmKDE9PT1lLm9wYWNpdHkmJmUucGxhY2VkKXJldHVybiA0Mjk0OTY3Mjk1O2NvbnN0IHQ9ZS5wbGFjZWQ/MTowLGk9TWF0aC5mbG9vcigxMjcqZS5vcGFjaXR5KTtyZXR1cm4gaSplRSt0KnRFK2kqaUUrdCpyRStpKm5FK3Qqb0UraSpzRSt0fWNvbnN0IGxFPTA7Y2xhc3MgY0V7Y29uc3RydWN0b3IoZSl7dGhpcy5fc29ydEFjcm9zc1RpbGVzPVwidmlld3BvcnQteVwiIT09ZS5sYXlvdXQuZ2V0KFwic3ltYm9sLXotb3JkZXJcIikmJnZvaWQgMCE9PWUubGF5b3V0LmdldChcInN5bWJvbC1zb3J0LWtleVwiKS5jb25zdGFudE9yKDEpLHRoaXMuX2N1cnJlbnRUaWxlSW5kZXg9MCx0aGlzLl9jdXJyZW50UGFydEluZGV4PTAsdGhpcy5fc2VlbkNyb3NzVGlsZUlEcz1uZXcgU2V0LHRoaXMuX2J1Y2tldFBhcnRzPVtdO31jb250aW51ZVBsYWNlbWVudChlLHQsaSxyLG4pe2NvbnN0IG89dGhpcy5fYnVja2V0UGFydHM7Zm9yKDt0aGlzLl9jdXJyZW50VGlsZUluZGV4PGUubGVuZ3RoOylpZih0LmdldEJ1Y2tldFBhcnRzKG8scixlW3RoaXMuX2N1cnJlbnRUaWxlSW5kZXhdLHRoaXMuX3NvcnRBY3Jvc3NUaWxlcyksdGhpcy5fY3VycmVudFRpbGVJbmRleCsrLG4oKSlyZXR1cm4gITA7Zm9yKHRoaXMuX3NvcnRBY3Jvc3NUaWxlcyYmKHRoaXMuX3NvcnRBY3Jvc3NUaWxlcz0hMSxvLnNvcnQoKChlLHQpPT5lLnNvcnRLZXktdC5zb3J0S2V5KSkpO3RoaXMuX2N1cnJlbnRQYXJ0SW5kZXg8by5sZW5ndGg7KXtjb25zdCBlPW9bdGhpcy5fY3VycmVudFBhcnRJbmRleF07aWYodC5wbGFjZUxheWVyQnVja2V0UGFydChlLHRoaXMuX3NlZW5Dcm9zc1RpbGVJRHMsaSwwPT09ZS5zeW1ib2xJbnN0YW5jZVN0YXJ0KSx0aGlzLl9jdXJyZW50UGFydEluZGV4KyssbigpKXJldHVybiAhMH1yZXR1cm4gITF9fWNsYXNzIGhFe2NvbnN0cnVjdG9yKGUsdCxpLHIsbixvLHMsYSxsKXt0aGlzLnBsYWNlbWVudD1uZXcgSlQoZSxuLG8scyxhLGwpLHRoaXMuX2N1cnJlbnRQbGFjZW1lbnRJbmRleD10Lmxlbmd0aC0xLHRoaXMuX2ZvcmNlRnVsbFBsYWNlbWVudD1pLHRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlcz1yLHRoaXMuX2RvbmU9ITE7fWlzRG9uZSgpe3JldHVybiB0aGlzLl9kb25lfWNvbnRpbnVlUGxhY2VtZW50KGUsdCxpLHIpe2NvbnN0IG49aHQubm93KCksbz0oKT0+e2NvbnN0IGU9aHQubm93KCktbjtyZXR1cm4gIXRoaXMuX2ZvcmNlRnVsbFBsYWNlbWVudCYmZT4yfTtmb3IoO3RoaXMuX2N1cnJlbnRQbGFjZW1lbnRJbmRleD49MDspe2NvbnN0IG49dFtlW3RoaXMuX2N1cnJlbnRQbGFjZW1lbnRJbmRleF1dLHM9dGhpcy5wbGFjZW1lbnQuY29sbGlzaW9uSW5kZXgudHJhbnNmb3JtLnpvb207aWYoXCJzeW1ib2xcIj09PW4udHlwZSYmKCFuLm1pbnpvb218fG4ubWluem9vbTw9cykmJighbi5tYXh6b29tfHxuLm1heHpvb20+cykpe2NvbnN0IGU9bix0PWUubGF5b3V0LmdldChcInN5bWJvbC16LWVsZXZhdGVcIikscz10aGlzLl9pblByb2dyZXNzTGF5ZXI9dGhpcy5faW5Qcm9ncmVzc0xheWVyfHxuZXcgY0UoZSksYT1wYShuLnNvdXJjZSxuLnNjb3BlKTtpZihzLmNvbnRpbnVlUGxhY2VtZW50KHQ/clthXTppW2FdLHRoaXMucGxhY2VtZW50LHRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlcyxuLG8pKXJldHVybjtkZWxldGUgdGhpcy5faW5Qcm9ncmVzc0xheWVyO310aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXgtLTt9dGhpcy5fZG9uZT0hMDt9Y29tbWl0KGUpe3JldHVybiB0aGlzLnBsYWNlbWVudC5jb21taXQoZSksdGhpcy5wbGFjZW1lbnR9fWNvbnN0IHVFPVtJbnQ4QXJyYXksVWludDhBcnJheSxVaW50OENsYW1wZWRBcnJheSxJbnQxNkFycmF5LFVpbnQxNkFycmF5LEludDMyQXJyYXksVWludDMyQXJyYXksRmxvYXQzMkFycmF5LEZsb2F0NjRBcnJheV07Y2xhc3MgZEV7c3RhdGljIGZyb20oZSl7aWYoIShlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKXRocm93IG5ldyBFcnJvcihcIkRhdGEgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBBcnJheUJ1ZmZlci5cIik7Y29uc3RbdCxpXT1uZXcgVWludDhBcnJheShlLDAsMik7aWYoMjE5IT09dCl0aHJvdyBuZXcgRXJyb3IoXCJEYXRhIGRvZXMgbm90IGFwcGVhciB0byBiZSBpbiBhIEtEQnVzaCBmb3JtYXQuXCIpO2NvbnN0IHI9aT4+NDtpZigxIT09cil0aHJvdyBuZXcgRXJyb3IoYEdvdCB2JHtyfSBkYXRhIHdoZW4gZXhwZWN0ZWQgdjEuYCk7Y29uc3Qgbj11RVsxNSZpXTtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJVbnJlY29nbml6ZWQgYXJyYXkgdHlwZS5cIik7Y29uc3Rbb109bmV3IFVpbnQxNkFycmF5KGUsMiwxKSxbc109bmV3IFVpbnQzMkFycmF5KGUsNCwxKTtyZXR1cm4gbmV3IGRFKHMsbyxuLGUpfWNvbnN0cnVjdG9yKGUsdD02NCxpPUZsb2F0NjRBcnJheSxyKXtpZihpc05hTihlKXx8ZTwwKXRocm93IG5ldyBFcnJvcihgVW5wZXhwZWN0ZWQgbnVtSXRlbXMgdmFsdWU6ICR7ZX0uYCk7dGhpcy5udW1JdGVtcz0rZSx0aGlzLm5vZGVTaXplPU1hdGgubWluKE1hdGgubWF4KCt0LDIpLDY1NTM1KSx0aGlzLkFycmF5VHlwZT1pLHRoaXMuSW5kZXhBcnJheVR5cGU9ZTw2NTUzNj9VaW50MTZBcnJheTpVaW50MzJBcnJheTtjb25zdCBuPXVFLmluZGV4T2YodGhpcy5BcnJheVR5cGUpLG89MiplKnRoaXMuQXJyYXlUeXBlLkJZVEVTX1BFUl9FTEVNRU5ULHM9ZSp0aGlzLkluZGV4QXJyYXlUeXBlLkJZVEVTX1BFUl9FTEVNRU5ULGE9KDgtcyU4KSU4O2lmKG48MCl0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgdHlwZWQgYXJyYXkgY2xhc3M6ICR7aX0uYCk7ciYmciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyPyh0aGlzLmRhdGE9cix0aGlzLmlkcz1uZXcgdGhpcy5JbmRleEFycmF5VHlwZSh0aGlzLmRhdGEsOCxlKSx0aGlzLmNvb3Jkcz1uZXcgdGhpcy5BcnJheVR5cGUodGhpcy5kYXRhLDgrcythLDIqZSksdGhpcy5fcG9zPTIqZSx0aGlzLl9maW5pc2hlZD0hMCk6KHRoaXMuZGF0YT1uZXcgQXJyYXlCdWZmZXIoOCtvK3MrYSksdGhpcy5pZHM9bmV3IHRoaXMuSW5kZXhBcnJheVR5cGUodGhpcy5kYXRhLDgsZSksdGhpcy5jb29yZHM9bmV3IHRoaXMuQXJyYXlUeXBlKHRoaXMuZGF0YSw4K3MrYSwyKmUpLHRoaXMuX3Bvcz0wLHRoaXMuX2ZpbmlzaGVkPSExLG5ldyBVaW50OEFycmF5KHRoaXMuZGF0YSwwLDIpLnNldChbMjE5LDE2K25dKSxuZXcgVWludDE2QXJyYXkodGhpcy5kYXRhLDIsMSlbMF09dCxuZXcgVWludDMyQXJyYXkodGhpcy5kYXRhLDQsMSlbMF09ZSk7fWFkZChlLHQpe2NvbnN0IGk9dGhpcy5fcG9zPj4xO3JldHVybiB0aGlzLmlkc1tpXT1pLHRoaXMuY29vcmRzW3RoaXMuX3BvcysrXT1lLHRoaXMuY29vcmRzW3RoaXMuX3BvcysrXT10LGl9ZmluaXNoKCl7Y29uc3QgZT10aGlzLl9wb3M+PjE7aWYoZSE9PXRoaXMubnVtSXRlbXMpdGhyb3cgbmV3IEVycm9yKGBBZGRlZCAke2V9IGl0ZW1zIHdoZW4gZXhwZWN0ZWQgJHt0aGlzLm51bUl0ZW1zfS5gKTtyZXR1cm4gcEUodGhpcy5pZHMsdGhpcy5jb29yZHMsdGhpcy5ub2RlU2l6ZSwwLHRoaXMubnVtSXRlbXMtMSwwKSx0aGlzLl9maW5pc2hlZD0hMCx0aGlzfXJhbmdlKGUsdCxpLHIpe2lmKCF0aGlzLl9maW5pc2hlZCl0aHJvdyBuZXcgRXJyb3IoXCJEYXRhIG5vdCB5ZXQgaW5kZXhlZCAtIGNhbGwgaW5kZXguZmluaXNoKCkuXCIpO2NvbnN0e2lkczpuLGNvb3JkczpvLG5vZGVTaXplOnN9PXRoaXMsYT1bMCxuLmxlbmd0aC0xLDBdLGw9W107Zm9yKDthLmxlbmd0aDspe2NvbnN0IGM9YS5wb3AoKXx8MCxoPWEucG9wKCl8fDAsdT1hLnBvcCgpfHwwO2lmKGgtdTw9cyl7Zm9yKGxldCBzPXU7czw9aDtzKyspe2NvbnN0IGE9b1syKnNdLGM9b1syKnMrMV07YT49ZSYmYTw9aSYmYz49dCYmYzw9ciYmbC5wdXNoKG5bc10pO31jb250aW51ZX1jb25zdCBkPXUraD4+MSxwPW9bMipkXSxmPW9bMipkKzFdO3A+PWUmJnA8PWkmJmY+PXQmJmY8PXImJmwucHVzaChuW2RdKSwoMD09PWM/ZTw9cDp0PD1mKSYmKGEucHVzaCh1KSxhLnB1c2goZC0xKSxhLnB1c2goMS1jKSksKDA9PT1jP2k+PXA6cj49ZikmJihhLnB1c2goZCsxKSxhLnB1c2goaCksYS5wdXNoKDEtYykpO31yZXR1cm4gbH13aXRoaW4oZSx0LGkpe2lmKCF0aGlzLl9maW5pc2hlZCl0aHJvdyBuZXcgRXJyb3IoXCJEYXRhIG5vdCB5ZXQgaW5kZXhlZCAtIGNhbGwgaW5kZXguZmluaXNoKCkuXCIpO2NvbnN0e2lkczpyLGNvb3JkczpuLG5vZGVTaXplOm99PXRoaXMscz1bMCxyLmxlbmd0aC0xLDBdLGE9W10sbD1pKmk7Zm9yKDtzLmxlbmd0aDspe2NvbnN0IGM9cy5wb3AoKXx8MCxoPXMucG9wKCl8fDAsdT1zLnBvcCgpfHwwO2lmKGgtdTw9byl7Zm9yKGxldCBpPXU7aTw9aDtpKyspZ0UoblsyKmldLG5bMippKzFdLGUsdCk8PWwmJmEucHVzaChyW2ldKTtjb250aW51ZX1jb25zdCBkPXUraD4+MSxwPW5bMipkXSxmPW5bMipkKzFdO2dFKHAsZixlLHQpPD1sJiZhLnB1c2gocltkXSksKDA9PT1jP2UtaTw9cDp0LWk8PWYpJiYocy5wdXNoKHUpLHMucHVzaChkLTEpLHMucHVzaCgxLWMpKSwoMD09PWM/ZStpPj1wOnQraT49ZikmJihzLnB1c2goZCsxKSxzLnB1c2goaCkscy5wdXNoKDEtYykpO31yZXR1cm4gYX19ZnVuY3Rpb24gcEUoZSx0LGkscixuLG8pe2lmKG4tcjw9aSlyZXR1cm47Y29uc3Qgcz1yK24+PjE7ZkUoZSx0LHMscixuLG8pLHBFKGUsdCxpLHIscy0xLDEtbykscEUoZSx0LGkscysxLG4sMS1vKTt9ZnVuY3Rpb24gZkUoZSx0LGkscixuLG8pe2Zvcig7bj5yOyl7aWYobi1yPjYwMCl7Y29uc3Qgcz1uLXIrMSxhPWktcisxLGw9TWF0aC5sb2cocyksYz0uNSpNYXRoLmV4cCgyKmwvMyksaD0uNSpNYXRoLnNxcnQobCpjKihzLWMpL3MpKihhLXMvMjwwPy0xOjEpO2ZFKGUsdCxpLE1hdGgubWF4KHIsTWF0aC5mbG9vcihpLWEqYy9zK2gpKSxNYXRoLm1pbihuLE1hdGguZmxvb3IoaSsocy1hKSpjL3MraCkpLG8pO31jb25zdCBzPXRbMippK29dO2xldCBhPXIsbD1uO2ZvcihtRShlLHQscixpKSx0WzIqbitvXT5zJiZtRShlLHQscixuKTthPGw7KXtmb3IobUUoZSx0LGEsbCksYSsrLGwtLTt0WzIqYStvXTxzOylhKys7Zm9yKDt0WzIqbCtvXT5zOylsLS07fXRbMipyK29dPT09cz9tRShlLHQscixsKToobCsrLG1FKGUsdCxsLG4pKSxsPD1pJiYocj1sKzEpLGk8PWwmJihuPWwtMSk7fX1mdW5jdGlvbiBtRShlLHQsaSxyKXtfRShlLGksciksX0UodCwyKmksMipyKSxfRSh0LDIqaSsxLDIqcisxKTt9ZnVuY3Rpb24gX0UoZSx0LGkpe2NvbnN0IHI9ZVt0XTtlW3RdPWVbaV0sZVtpXT1yO31mdW5jdGlvbiBnRShlLHQsaSxyKXtjb25zdCBuPWUtaSxvPXQtcjtyZXR1cm4gbipuK28qb31jb25zdCB5RT01MTIvc3IvMjtjbGFzcyB4RXtjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy50aWxlSUQ9ZSx0aGlzLmJ1Y2tldEluc3RhbmNlSWQ9aSx0aGlzLmluZGV4PW5ldyBkRSh0Lmxlbmd0aCwxNixJbnQzMkFycmF5KSx0aGlzLmtleXM9W10sdGhpcy5jcm9zc1RpbGVJRHM9W107Y29uc3Qgcj1lLmNhbm9uaWNhbC54KnNyLG49ZS5jYW5vbmljYWwueSpzcjtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl7Y29uc3R7a2V5OmksY3Jvc3NUaWxlSUQ6byx0aWxlQW5jaG9yWDpzLHRpbGVBbmNob3JZOmF9PXQuZ2V0KGUpLGw9TWF0aC5mbG9vcigocitzKSp5RSksYz1NYXRoLmZsb29yKChuK2EpKnlFKTt0aGlzLmluZGV4LmFkZChsLGMpLHRoaXMua2V5cy5wdXNoKGkpLHRoaXMuY3Jvc3NUaWxlSURzLnB1c2gobyk7fXRoaXMuaW5kZXguZmluaXNoKCk7fWZpbmRNYXRjaGVzKGUsdCxpKXtjb25zdCByPXRoaXMudGlsZUlELmNhbm9uaWNhbC56PHQuY2Fub25pY2FsLno/MTpNYXRoLnBvdygyLHRoaXMudGlsZUlELmNhbm9uaWNhbC56LXQuY2Fub25pY2FsLnopLG49eUUvTWF0aC5wb3coMix0LmNhbm9uaWNhbC56LXRoaXMudGlsZUlELmNhbm9uaWNhbC56KSxvPXQuY2Fub25pY2FsLngqc3Iscz10LmNhbm9uaWNhbC55KnNyO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBhPWUuZ2V0KHQpO2lmKGEuY3Jvc3NUaWxlSUQpY29udGludWU7Y29uc3R7a2V5OmwsdGlsZUFuY2hvclg6Yyx0aWxlQW5jaG9yWTpofT1hLHU9TWF0aC5mbG9vcigobytjKSpuKSxkPU1hdGguZmxvb3IoKHMraCkqbikscD10aGlzLmluZGV4LnJhbmdlKHUtcixkLXIsdStyLGQrcik7Zm9yKGNvbnN0IGUgb2YgcCl7Y29uc3QgdD10aGlzLmNyb3NzVGlsZUlEc1tlXTtpZih0aGlzLmtleXNbZV09PT1sJiYhaS5oYXModCkpe2kuYWRkKHQpLGEuY3Jvc3NUaWxlSUQ9dDticmVha319fX19Y2xhc3MgdkV7Y29uc3RydWN0b3IoKXt0aGlzLm1heENyb3NzVGlsZUlEPTA7fWdlbmVyYXRlKCl7cmV0dXJuICsrdGhpcy5tYXhDcm9zc1RpbGVJRH19Y2xhc3MgYkV7Y29uc3RydWN0b3IoKXt0aGlzLmluZGV4ZXM9e30sdGhpcy51c2VkQ3Jvc3NUaWxlSURzPXt9LHRoaXMubG5nPTA7fWhhbmRsZVdyYXBKdW1wKGUpe2NvbnN0IHQ9TWF0aC5yb3VuZCgoZS10aGlzLmxuZykvMzYwKTtpZigwIT09dClmb3IoY29uc3QgZSBpbiB0aGlzLmluZGV4ZXMpe2NvbnN0IGk9dGhpcy5pbmRleGVzW2VdLHI9e307Zm9yKGNvbnN0IGUgaW4gaSl7Y29uc3Qgbj1pW2VdO24udGlsZUlEPW4udGlsZUlELnVud3JhcFRvKG4udGlsZUlELndyYXArdCkscltuLnRpbGVJRC5rZXldPW47fXRoaXMuaW5kZXhlc1tlXT1yO310aGlzLmxuZz1lO31hZGRCdWNrZXQoZSx0LGkpe2lmKHRoaXMuaW5kZXhlc1tlLm92ZXJzY2FsZWRaXSYmdGhpcy5pbmRleGVzW2Uub3ZlcnNjYWxlZFpdW2Uua2V5XSl7aWYodGhpcy5pbmRleGVzW2Uub3ZlcnNjYWxlZFpdW2Uua2V5XS5idWNrZXRJbnN0YW5jZUlkPT09dC5idWNrZXRJbnN0YW5jZUlkKXJldHVybiAhMTt0aGlzLnJlbW92ZUJ1Y2tldENyb3NzVGlsZUlEcyhlLm92ZXJzY2FsZWRaLHRoaXMuaW5kZXhlc1tlLm92ZXJzY2FsZWRaXVtlLmtleV0pO31mb3IobGV0IGU9MDtlPHQuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDtlKyspdC5zeW1ib2xJbnN0YW5jZXMuZ2V0KGUpLmNyb3NzVGlsZUlEPTA7dGhpcy51c2VkQ3Jvc3NUaWxlSURzW2Uub3ZlcnNjYWxlZFpdfHwodGhpcy51c2VkQ3Jvc3NUaWxlSURzW2Uub3ZlcnNjYWxlZFpdPW5ldyBTZXQpO2NvbnN0IHI9dGhpcy51c2VkQ3Jvc3NUaWxlSURzW2Uub3ZlcnNjYWxlZFpdO2Zvcihjb25zdCBpIGluIHRoaXMuaW5kZXhlcyl7Y29uc3Qgbj10aGlzLmluZGV4ZXNbaV07aWYoTnVtYmVyKGkpPmUub3ZlcnNjYWxlZFopZm9yKGNvbnN0IGkgaW4gbil7Y29uc3Qgbz1uW2ldO28udGlsZUlELmlzQ2hpbGRPZihlKSYmby5maW5kTWF0Y2hlcyh0LnN5bWJvbEluc3RhbmNlcyxlLHIpO31lbHNlIHtjb25zdCBvPW5bZS5zY2FsZWRUbyhOdW1iZXIoaSkpLmtleV07byYmby5maW5kTWF0Y2hlcyh0LnN5bWJvbEluc3RhbmNlcyxlLHIpO319Zm9yKGxldCBlPTA7ZTx0LnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7ZSsrKXtjb25zdCBuPXQuc3ltYm9sSW5zdGFuY2VzLmdldChlKTtuLmNyb3NzVGlsZUlEfHwobi5jcm9zc1RpbGVJRD1pLmdlbmVyYXRlKCksci5hZGQobi5jcm9zc1RpbGVJRCkpO31yZXR1cm4gdm9pZCAwPT09dGhpcy5pbmRleGVzW2Uub3ZlcnNjYWxlZFpdJiYodGhpcy5pbmRleGVzW2Uub3ZlcnNjYWxlZFpdPXt9KSx0aGlzLmluZGV4ZXNbZS5vdmVyc2NhbGVkWl1bZS5rZXldPW5ldyB4RShlLHQuc3ltYm9sSW5zdGFuY2VzLHQuYnVja2V0SW5zdGFuY2VJZCksITB9cmVtb3ZlQnVja2V0Q3Jvc3NUaWxlSURzKGUsdCl7Zm9yKGNvbnN0IGkgb2YgdC5jcm9zc1RpbGVJRHMpdGhpcy51c2VkQ3Jvc3NUaWxlSURzW2VdLmRlbGV0ZShpKTt9cmVtb3ZlU3RhbGVCdWNrZXRzKGUpe2xldCB0PSExO2Zvcihjb25zdCBpIGluIHRoaXMuaW5kZXhlcyl7Y29uc3Qgcj10aGlzLmluZGV4ZXNbaV07Zm9yKGNvbnN0IG4gaW4gcillW3Jbbl0uYnVja2V0SW5zdGFuY2VJZF18fCh0aGlzLnJlbW92ZUJ1Y2tldENyb3NzVGlsZUlEcyhpLHJbbl0pLGRlbGV0ZSByW25dLHQ9ITApO31yZXR1cm4gdH19Y2xhc3Mgd0V7Y29uc3RydWN0b3IoKXt0aGlzLmxheWVySW5kZXhlcz17fSx0aGlzLmNyb3NzVGlsZUlEcz1uZXcgdkUsdGhpcy5tYXhCdWNrZXRJbnN0YW5jZUlkPTAsdGhpcy5idWNrZXRzSW5DdXJyZW50UGxhY2VtZW50PXt9O31hZGRMYXllcihlLHQsaSxyKXtsZXQgbj10aGlzLmxheWVySW5kZXhlc1tlLmZxaWRdO3ZvaWQgMD09PW4mJihuPXRoaXMubGF5ZXJJbmRleGVzW2UuZnFpZF09bmV3IGJFKTtsZXQgbz0hMTtjb25zdCBzPXt9O1wiZ2xvYmVcIiE9PXIubmFtZSYmbi5oYW5kbGVXcmFwSnVtcChpKTtmb3IoY29uc3QgaSBvZiB0KXtjb25zdCB0PWkuZ2V0QnVja2V0KGUpO3QmJmUuZnFpZD09PXQubGF5ZXJJZHNbMF0mJih0LmJ1Y2tldEluc3RhbmNlSWR8fCh0LmJ1Y2tldEluc3RhbmNlSWQ9Kyt0aGlzLm1heEJ1Y2tldEluc3RhbmNlSWQpLG4uYWRkQnVja2V0KGkudGlsZUlELHQsdGhpcy5jcm9zc1RpbGVJRHMpJiYobz0hMCksc1t0LmJ1Y2tldEluc3RhbmNlSWRdPSEwKTt9cmV0dXJuIG4ucmVtb3ZlU3RhbGVCdWNrZXRzKHMpJiYobz0hMCksb31wcnVuZVVudXNlZExheWVycyhlKXtjb25zdCB0PXt9O2UuZm9yRWFjaCgoZT0+e3RbZV09ITA7fSkpO2Zvcihjb25zdCBlIGluIHRoaXMubGF5ZXJJbmRleGVzKXRbZV18fGRlbGV0ZSB0aGlzLmxheWVySW5kZXhlc1tlXTt9fXZhciBURT1cIlxcbiNkZWZpbmUgRVBTSUxPTiAwLjAwMDAwMDFcXG4jZGVmaW5lIFBJIDMuMTQxNTkyNjUzNTg5NzkzXFxuI2RlZmluZSBFWFRFTlQgODE5Mi4wXFxuI2RlZmluZSBIQUxGX1BJIFBJLzIuMFxcbiNkZWZpbmUgUVVBUlRFUl9QSSBQSS80LjBcXG4jZGVmaW5lIFJBRF9UT19ERUcgMTgwLjAvUElcXG4jZGVmaW5lIERFR19UT19SQUQgUEkvMTgwLjBcXG4jZGVmaW5lIEdMT0JFX1JBRElVUyBFWFRFTlQvUEkvMi4wXFxudmVjMyBsaW5lYXJUb3NSR0IodmVjMyBjb2xvcilcXG57cmV0dXJuIHBvdyhjb2xvcix2ZWMzKDEuLzIuMikpO312ZWMzIHNSR0JUb0xpbmVhcih2ZWMzIHNyZ2JJbilcXG57cmV0dXJuIHBvdyhzcmdiSW4sdmVjMygyLjIpKTt9dmVjMyBsaW5lYXJQcm9kdWN0KHZlYzMgc3JnYkluLHZlYzMgaylcXG57cmV0dXJuIHNyZ2JJbipwb3coayx2ZWMzKDEuLzIuMikpO31cXG4jaWYgX19WRVJTSU9OX18gPj0zMDBcXG4jZGVmaW5lIF9IQU5ETEVfV0lSRUZSQU1FX0RFUFRIIGdsX0ZyYWdEZXB0aD1nbF9GcmFnQ29vcmQuei0wLjAwMDE7XFxuI2Vsc2VcXG4jZGVmaW5lIF9IQU5ETEVfV0lSRUZSQU1FX0RFUFRIXFxuI2VuZGlmXFxuI2lmZGVmIERFQlVHX1dJUkVGUkFNRVxcbiNkZWZpbmUgSEFORExFX1dJUkVGUkFNRV9ERUJVRyBcXFxcXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMC43LDAuMCwwLjAsMC43KTsgXFxcXFxcbl9IQU5ETEVfV0lSRUZSQU1FX0RFUFRIO1xcbiNlbHNlXFxuI2RlZmluZSBIQU5ETEVfV0lSRUZSQU1FX0RFQlVHXFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9DVVRPRkZcXG5mbG9hdCBjdXRvZmZfb3BhY2l0eSh2ZWM0IGN1dG9mZl9wYXJhbXMsZmxvYXQgZGVwdGgpIHtmbG9hdCBuZWFyPWN1dG9mZl9wYXJhbXMueDtmbG9hdCBmYXI9Y3V0b2ZmX3BhcmFtcy55O2Zsb2F0IGN1dG9mZlN0YXJ0PWN1dG9mZl9wYXJhbXMuejtmbG9hdCBjdXRvZmZFbmQ9Y3V0b2ZmX3BhcmFtcy53LTAuMDAwMTtmbG9hdCBsaW5lYXJEZXB0aD0oZGVwdGgtbmVhcikvKGZhci1uZWFyKTtyZXR1cm4gY2xhbXAoKGxpbmVhckRlcHRoLWN1dG9mZlN0YXJ0KS8oY3V0b2ZmRW5kLWN1dG9mZlN0YXJ0KSwwLjAsMS4wKTt9XFxuI2VuZGlmXCIsRUU9XCJhdHRyaWJ1dGUgaGlnaHAgdmVjMyBhX3Bvc18zZjt1bmlmb3JtIGxvd3AgbWF0NCB1X21hdHJpeDt2YXJ5aW5nIGhpZ2hwIHZlYzMgdl91djt2b2lkIG1haW4oKSB7Y29uc3QgbWF0MyBoYWxmX25lZ19waV9hcm91bmRfeD1tYXQzKDEuMCwwLjAsIDAuMCwwLjAsMC4wLC0xLjAsMC4wLDEuMCwgMC4wKTt2X3V2PWhhbGZfbmVnX3BpX2Fyb3VuZF94KmFfcG9zXzNmO3ZlYzQgcG9zPXVfbWF0cml4KnZlYzQoYV9wb3NfM2YsMS4wKTtnbF9Qb3NpdGlvbj1wb3MueHl3dzt9XCIsTUU9XCJcXG4jZGVmaW5lIEVMRVZBVElPTl9TQ0FMRSA3LjBcXG4jZGVmaW5lIEVMRVZBVElPTl9PRkZTRVQgNDUwLjBcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudW5pZm9ybSB2ZWMzIHVfdGlsZV90bF91cDt1bmlmb3JtIHZlYzMgdV90aWxlX3RyX3VwO3VuaWZvcm0gdmVjMyB1X3RpbGVfYnJfdXA7dW5pZm9ybSB2ZWMzIHVfdGlsZV9ibF91cDt1bmlmb3JtIGZsb2F0IHVfdGlsZV91cF9zY2FsZTt2ZWMzIGVsZXZhdGlvblZlY3Rvcih2ZWMyIHBvcykge3ZlYzIgdXY9cG9zL0VYVEVOVDt2ZWMzIHVwPW5vcm1hbGl6ZShtaXgoXFxubWl4KHVfdGlsZV90bF91cCx1X3RpbGVfdHJfdXAsdXYueHh4KSxtaXgodV90aWxlX2JsX3VwLHVfdGlsZV9icl91cCx1di54eHgpLHV2Lnl5eSkpO3JldHVybiB1cCp1X3RpbGVfdXBfc2NhbGU7fVxcbiNlbHNlXFxudmVjMyBlbGV2YXRpb25WZWN0b3IodmVjMiBwb3MpIHsgcmV0dXJuIHZlYzMoMCwwLDEpOyB9XFxuI2VuZGlmXFxuY29uc3QgZmxvYXQgc2tpcnRPZmZzZXQ9MjQ1NzUuMDt2ZWMzIGRlY29tcG9zZVRvUG9zQW5kU2tpcnQodmVjMiBwb3NXaXRoQ29tcG9zZWRTa2lydClcXG57ZmxvYXQgc2tpcnQ9ZmxvYXQocG9zV2l0aENvbXBvc2VkU2tpcnQueCA+PXNraXJ0T2Zmc2V0KTt2ZWMyIHBvcz1wb3NXaXRoQ29tcG9zZWRTa2lydC12ZWMyKHNraXJ0KnNraXJ0T2Zmc2V0LDAuMCk7cmV0dXJuIHZlYzMocG9zLHNraXJ0KTt9XFxuI2lmZGVmIFRFUlJBSU5cXG4jaWZkZWYgVEVSUkFJTl9ERU1fRkxPQVRfRk9STUFUXFxudW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdV9kZW07dW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdV9kZW1fcHJldjtcXG4jZWxzZVxcbnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIHVfZGVtO3VuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIHVfZGVtX3ByZXY7XFxuI2VuZGlmXFxudW5pZm9ybSB2ZWM0IHVfZGVtX3VucGFjazt1bmlmb3JtIHZlYzIgdV9kZW1fdGw7dW5pZm9ybSB2ZWMyIHVfZGVtX3RsX3ByZXY7dW5pZm9ybSBmbG9hdCB1X2RlbV9zY2FsZTt1bmlmb3JtIGZsb2F0IHVfZGVtX3NjYWxlX3ByZXY7dW5pZm9ybSBmbG9hdCB1X2RlbV9zaXplO3VuaWZvcm0gZmxvYXQgdV9kZW1fbGVycDt1bmlmb3JtIGZsb2F0IHVfZXhhZ2dlcmF0aW9uO3VuaWZvcm0gZmxvYXQgdV9tZXRlcl90b19kZW07dW5pZm9ybSBtYXQ0IHVfbGFiZWxfcGxhbmVfbWF0cml4X2ludjt1bmlmb3JtIHNhbXBsZXIyRCB1X2RlcHRoO3VuaWZvcm0gdmVjMiB1X2RlcHRoX3NpemVfaW52O3ZlYzQgdGlsZVV2VG9EZW1TYW1wbGUodmVjMiB1dixmbG9hdCBkZW1fc2l6ZSxmbG9hdCBkZW1fc2NhbGUsdmVjMiBkZW1fdGwpIHt2ZWMyIHBvcz1kZW1fc2l6ZSoodXYqZGVtX3NjYWxlK2RlbV90bCkrMS4wO3ZlYzIgZj1mcmFjdChwb3MpO3JldHVybiB2ZWM0KChwb3MtZiswLjUpLyhkZW1fc2l6ZSsyLjApLGYpO31mbG9hdCBkZWNvZGVFbGV2YXRpb24odmVjNCB2KSB7cmV0dXJuIGRvdCh2ZWM0KHYueHl6KjI1NS4wLC0xLjApLHVfZGVtX3VucGFjayk7fWZsb2F0IGN1cnJlbnRFbGV2YXRpb24odmVjMiBhcG9zKSB7XFxuI2lmZGVmIFRFUlJBSU5fREVNX0ZMT0FUX0ZPUk1BVFxcbnZlYzIgcG9zPSh1X2RlbV9zaXplKihhcG9zLzgxOTIuMCp1X2RlbV9zY2FsZSt1X2RlbV90bCkrMS41KS8odV9kZW1fc2l6ZSsyLjApO3JldHVybiB1X2V4YWdnZXJhdGlvbip0ZXh0dXJlKHVfZGVtLHBvcykucjtcXG4jZWxzZVxcbmZsb2F0IGRkPTEuMC8odV9kZW1fc2l6ZSsyLjApO3ZlYzQgcj10aWxlVXZUb0RlbVNhbXBsZShhcG9zLzgxOTIuMCx1X2RlbV9zaXplLHVfZGVtX3NjYWxlLHVfZGVtX3RsKTt2ZWMyIHBvcz1yLnh5O3ZlYzIgZj1yLnp3O2Zsb2F0IHRsPWRlY29kZUVsZXZhdGlvbih0ZXh0dXJlMkQodV9kZW0scG9zKSk7ZmxvYXQgdHI9ZGVjb2RlRWxldmF0aW9uKHRleHR1cmUyRCh1X2RlbSxwb3MrdmVjMihkZCwwLjApKSk7ZmxvYXQgYmw9ZGVjb2RlRWxldmF0aW9uKHRleHR1cmUyRCh1X2RlbSxwb3MrdmVjMigwLjAsZGQpKSk7ZmxvYXQgYnI9ZGVjb2RlRWxldmF0aW9uKHRleHR1cmUyRCh1X2RlbSxwb3MrdmVjMihkZCxkZCkpKTtyZXR1cm4gdV9leGFnZ2VyYXRpb24qbWl4KG1peCh0bCx0cixmLngpLG1peChibCxicixmLngpLGYueSk7XFxuI2VuZGlmXFxufWZsb2F0IHByZXZFbGV2YXRpb24odmVjMiBhcG9zKSB7XFxuI2lmZGVmIFRFUlJBSU5fREVNX0ZMT0FUX0ZPUk1BVFxcbnZlYzIgcG9zPSh1X2RlbV9zaXplKihhcG9zLzgxOTIuMCp1X2RlbV9zY2FsZV9wcmV2K3VfZGVtX3RsX3ByZXYpKzEuNSkvKHVfZGVtX3NpemUrMi4wKTtyZXR1cm4gdV9leGFnZ2VyYXRpb24qdGV4dHVyZSh1X2RlbV9wcmV2LHBvcykucjtcXG4jZWxzZVxcbmZsb2F0IGRkPTEuMC8odV9kZW1fc2l6ZSsyLjApO3ZlYzQgcj10aWxlVXZUb0RlbVNhbXBsZShhcG9zLzgxOTIuMCx1X2RlbV9zaXplLHVfZGVtX3NjYWxlX3ByZXYsdV9kZW1fdGxfcHJldik7dmVjMiBwb3M9ci54eTt2ZWMyIGY9ci56dztmbG9hdCB0bD1kZWNvZGVFbGV2YXRpb24odGV4dHVyZTJEKHVfZGVtX3ByZXYscG9zKSk7ZmxvYXQgdHI9ZGVjb2RlRWxldmF0aW9uKHRleHR1cmUyRCh1X2RlbV9wcmV2LHBvcyt2ZWMyKGRkLDAuMCkpKTtmbG9hdCBibD1kZWNvZGVFbGV2YXRpb24odGV4dHVyZTJEKHVfZGVtX3ByZXYscG9zK3ZlYzIoMC4wLGRkKSkpO2Zsb2F0IGJyPWRlY29kZUVsZXZhdGlvbih0ZXh0dXJlMkQodV9kZW1fcHJldixwb3MrdmVjMihkZCxkZCkpKTtyZXR1cm4gdV9leGFnZ2VyYXRpb24qbWl4KG1peCh0bCx0cixmLngpLG1peChibCxicixmLngpLGYueSk7XFxuI2VuZGlmXFxufVxcbiNpZmRlZiBURVJSQUlOX1ZFUlRFWF9NT1JQSElOR1xcbmZsb2F0IGVsZXZhdGlvbih2ZWMyIGFwb3MpIHtcXG4jaWZkZWYgWkVST19FWEFHR0VSQVRJT05cXG5yZXR1cm4gMC4wO1xcbiNlbmRpZlxcbmZsb2F0IG5leHRFbGV2YXRpb249Y3VycmVudEVsZXZhdGlvbihhcG9zKTtmbG9hdCBwcmV2RWxldmF0aW9uPXByZXZFbGV2YXRpb24oYXBvcyk7cmV0dXJuIG1peChwcmV2RWxldmF0aW9uLG5leHRFbGV2YXRpb24sdV9kZW1fbGVycCk7fVxcbiNlbHNlXFxuZmxvYXQgZWxldmF0aW9uKHZlYzIgYXBvcykge1xcbiNpZmRlZiBaRVJPX0VYQUdHRVJBVElPTlxcbnJldHVybiAwLjA7XFxuI2VuZGlmXFxucmV0dXJuIGN1cnJlbnRFbGV2YXRpb24oYXBvcyk7fVxcbiNlbmRpZlxcbmhpZ2hwIGZsb2F0IHVucGFja19kZXB0aChoaWdocCB2ZWM0IHJnYmFfZGVwdGgpXFxue2NvbnN0IGhpZ2hwIHZlYzQgYml0X3NoaWZ0PXZlYzQoMS4wLygyNTUuMCoyNTUuMCoyNTUuMCksMS4wLygyNTUuMCoyNTUuMCksMS4wLzI1NS4wLDEuMCk7cmV0dXJuIGRvdChyZ2JhX2RlcHRoLGJpdF9zaGlmdCkqMi4wLTEuMDt9Ym9vbCBpc09jY2x1ZGVkKHZlYzQgZnJhZykge3ZlYzMgY29vcmQ9ZnJhZy54eXovZnJhZy53O2Zsb2F0IGRlcHRoPXVucGFja19kZXB0aCh0ZXh0dXJlMkQodV9kZXB0aCwoY29vcmQueHkrMS4wKSowLjUpKTtyZXR1cm4gY29vcmQueiA+IGRlcHRoKzAuMDAwNTt9ZmxvYXQgb2NjbHVzaW9uRmFkZSh2ZWM0IGZyYWcpIHt2ZWMzIGNvb3JkPWZyYWcueHl6L2ZyYWcudzt2ZWMzIGRmPXZlYzMoNS4wKnVfZGVwdGhfc2l6ZV9pbnYsMC4wKTt2ZWMyIHV2PTAuNSpjb29yZC54eSswLjU7dmVjNCBkZXB0aD12ZWM0KFxcbnVucGFja19kZXB0aCh0ZXh0dXJlMkQodV9kZXB0aCx1di1kZi54eikpLHVucGFja19kZXB0aCh0ZXh0dXJlMkQodV9kZXB0aCx1ditkZi54eikpLHVucGFja19kZXB0aCh0ZXh0dXJlMkQodV9kZXB0aCx1di1kZi56eSkpLHVucGFja19kZXB0aCh0ZXh0dXJlMkQodV9kZXB0aCx1ditkZi56eSkpXFxuKTtyZXR1cm4gZG90KHZlYzQoMC4yNSksdmVjNCgxLjApLWNsYW1wKDMwMC4wKih2ZWM0KGNvb3JkLnotMC4wMDEpLWRlcHRoKSwwLjAsMS4wKSk7fXZlYzQgZm91clNhbXBsZSh2ZWMyIHBvcyx2ZWMyIG9mZikge1xcbiNpZmRlZiBURVJSQUlOX0RFTV9GTE9BVF9GT1JNQVRcXG5mbG9hdCB0bD10ZXh0dXJlKHVfZGVtLHBvcykucjtmbG9hdCB0cj10ZXh0dXJlKHVfZGVtLHBvcyt2ZWMyKG9mZi54LDAuMCkpLnI7ZmxvYXQgYmw9dGV4dHVyZSh1X2RlbSxwb3MrdmVjMigwLjAsb2ZmLnkpKS5yO2Zsb2F0IGJyPXRleHR1cmUodV9kZW0scG9zK29mZikucjtcXG4jZWxzZVxcbnZlYzQgZGVtdGw9dmVjNCh0ZXh0dXJlMkQodV9kZW0scG9zKS54eXoqMjU1LjAsLTEuMCk7ZmxvYXQgdGw9ZG90KGRlbXRsLHVfZGVtX3VucGFjayk7dmVjNCBkZW10cj12ZWM0KHRleHR1cmUyRCh1X2RlbSxwb3MrdmVjMihvZmYueCwwLjApKS54eXoqMjU1LjAsLTEuMCk7ZmxvYXQgdHI9ZG90KGRlbXRyLHVfZGVtX3VucGFjayk7dmVjNCBkZW1ibD12ZWM0KHRleHR1cmUyRCh1X2RlbSxwb3MrdmVjMigwLjAsb2ZmLnkpKS54eXoqMjU1LjAsLTEuMCk7ZmxvYXQgYmw9ZG90KGRlbWJsLHVfZGVtX3VucGFjayk7dmVjNCBkZW1icj12ZWM0KHRleHR1cmUyRCh1X2RlbSxwb3Mrb2ZmKS54eXoqMjU1LjAsLTEuMCk7ZmxvYXQgYnI9ZG90KGRlbWJyLHVfZGVtX3VucGFjayk7XFxuI2VuZGlmXFxucmV0dXJuIHZlYzQodGwsdHIsYmwsYnIpO31mbG9hdCBmbGF0RWxldmF0aW9uKHZlYzIgcGFjaykge3ZlYzIgYXBvcz1mbG9vcihwYWNrLzguMCk7dmVjMiBzcGFuPTEwLjAqKHBhY2stYXBvcyo4LjApO3ZlYzIgdXZUZXg9KGFwb3MtdmVjMigxLjAsMS4wKSkvODE5MC4wO2Zsb2F0IHNpemU9dV9kZW1fc2l6ZSsyLjA7ZmxvYXQgZGQ9MS4wL3NpemU7dmVjMiBwb3M9dV9kZW1fc2l6ZSoodXZUZXgqdV9kZW1fc2NhbGUrdV9kZW1fdGwpKzEuMDt2ZWMyIGY9ZnJhY3QocG9zKTtwb3M9KHBvcy1mKzAuNSkqZGQ7dmVjNCBoPWZvdXJTYW1wbGUocG9zLHZlYzIoZGQpKTtmbG9hdCB6PW1peChtaXgoaC54LGgueSxmLngpLG1peChoLnosaC53LGYueCksZi55KTt2ZWMyIHc9Zmxvb3IoMC41KihzcGFuKnVfbWV0ZXJfdG9fZGVtLTEuMCkpO3ZlYzIgZD1kZCp3O2g9Zm91clNhbXBsZShwb3MtZCwyLjAqZCt2ZWMyKGRkKSk7dmVjNCBkaWZmPWFicyhoLnh6eHktaC55d3p3KTt2ZWMyIHNsb3BlPW1pbih2ZWMyKDAuMjUpLHVfbWV0ZXJfdG9fZGVtKjAuNSooZGlmZi54eitkaWZmLnl3KS8oMi4wKncrdmVjMigxLjApKSk7dmVjMiBmaXg9c2xvcGUqc3BhbjtmbG9hdCBiYXNlPXorbWF4KGZpeC54LGZpeC55KTtyZXR1cm4gdV9leGFnZ2VyYXRpb24qYmFzZTt9ZmxvYXQgZWxldmF0aW9uRnJvbVVpbnQxNihmbG9hdCB3b3JkKSB7cmV0dXJuIHVfZXhhZ2dlcmF0aW9uKih3b3JkL0VMRVZBVElPTl9TQ0FMRS1FTEVWQVRJT05fT0ZGU0VUKTt9XFxuI2Vsc2VcXG5mbG9hdCBlbGV2YXRpb24odmVjMiBwb3MpIHsgcmV0dXJuIDAuMDsgfWJvb2wgaXNPY2NsdWRlZCh2ZWM0IGZyYWcpIHsgcmV0dXJuIGZhbHNlOyB9ZmxvYXQgb2NjbHVzaW9uRmFkZSh2ZWM0IGZyYWcpIHsgcmV0dXJuIDEuMDsgfVxcbiNlbmRpZlwiLEFFPVwiI2lmZGVmIEZPR1xcbnVuaWZvcm0gbWVkaXVtcCB2ZWM0IHVfZm9nX2NvbG9yO3VuaWZvcm0gbWVkaXVtcCB2ZWMyIHVfZm9nX3JhbmdlO3VuaWZvcm0gbWVkaXVtcCBmbG9hdCB1X2ZvZ19ob3Jpem9uX2JsZW5kO3VuaWZvcm0gbWVkaXVtcCBtYXQ0IHVfZm9nX21hdHJpeDt2YXJ5aW5nIHZlYzMgdl9mb2dfcG9zO2Zsb2F0IGZvZ19yYW5nZShmbG9hdCBkZXB0aCkge3JldHVybiAoZGVwdGgtdV9mb2dfcmFuZ2VbMF0pLyh1X2ZvZ19yYW5nZVsxXS11X2ZvZ19yYW5nZVswXSk7fWZsb2F0IGZvZ19ob3Jpem9uX2JsZW5kaW5nKHZlYzMgY2FtZXJhX2Rpcikge2Zsb2F0IHQ9bWF4KDAuMCxjYW1lcmFfZGlyLnovdV9mb2dfaG9yaXpvbl9ibGVuZCk7cmV0dXJuIHVfZm9nX2NvbG9yLmEqZXhwKC0zLjAqdCp0KTt9ZmxvYXQgZm9nX29wYWNpdHkoZmxvYXQgdCkge2NvbnN0IGZsb2F0IGRlY2F5PTYuMDtmbG9hdCBmYWxsb2ZmPTEuMC1taW4oMS4wLGV4cCgtZGVjYXkqdCkpO2ZhbGxvZmYqPWZhbGxvZmYqZmFsbG9mZjtyZXR1cm4gdV9mb2dfY29sb3IuYSptaW4oMS4wLDEuMDA3NDcqZmFsbG9mZik7fXZlYzMgZm9nX3Bvc2l0aW9uKHZlYzMgcG9zKSB7cmV0dXJuICh1X2ZvZ19tYXRyaXgqdmVjNChwb3MsMS4wKSkueHl6O312ZWMzIGZvZ19wb3NpdGlvbih2ZWMyIHBvcykge3JldHVybiBmb2dfcG9zaXRpb24odmVjMyhwb3MsMC4wKSk7fWZsb2F0IGZvZyh2ZWMzIHBvcykge2Zsb2F0IGRlcHRoPWxlbmd0aChwb3MpO2Zsb2F0IG9wYWNpdHk9Zm9nX29wYWNpdHkoZm9nX3JhbmdlKGRlcHRoKSk7cmV0dXJuIG9wYWNpdHkqZm9nX2hvcml6b25fYmxlbmRpbmcocG9zL2RlcHRoKTt9XFxuI2VuZGlmXCIsU0U9XCIjaWZkZWYgRk9HXFxudW5pZm9ybSBtZWRpdW1wIHZlYzQgdV9mb2dfY29sb3I7dW5pZm9ybSBtZWRpdW1wIHZlYzIgdV9mb2dfcmFuZ2U7dW5pZm9ybSBtZWRpdW1wIGZsb2F0IHVfZm9nX2hvcml6b25fYmxlbmQ7dW5pZm9ybSBtZWRpdW1wIHZlYzIgdV9mb2dfdmVydGljYWxfbGltaXQ7dW5pZm9ybSBtZWRpdW1wIGZsb2F0IHVfZm9nX3RlbXBvcmFsX29mZnNldDt2YXJ5aW5nIHZlYzMgdl9mb2dfcG9zO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2ZydXN0dW1fdGw7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZnJ1c3R1bV90cjt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9mcnVzdHVtX2JyO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2ZydXN0dW1fYmw7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZ2xvYmVfcG9zO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9nbG9iZV9yYWRpdXM7dW5pZm9ybSBoaWdocCB2ZWMyIHVfdmlld3BvcnQ7dW5pZm9ybSBmbG9hdCB1X2dsb2JlX3RyYW5zaXRpb247dW5pZm9ybSBpbnQgdV9pc19nbG9iZTtmbG9hdCBmb2dfcmFuZ2UoZmxvYXQgZGVwdGgpIHtyZXR1cm4gKGRlcHRoLXVfZm9nX3JhbmdlWzBdKS8odV9mb2dfcmFuZ2VbMV0tdV9mb2dfcmFuZ2VbMF0pO31mbG9hdCBmb2dfaG9yaXpvbl9ibGVuZGluZyh2ZWMzIGNhbWVyYV9kaXIpIHtmbG9hdCB0PW1heCgwLjAsY2FtZXJhX2Rpci56L3VfZm9nX2hvcml6b25fYmxlbmQpO3JldHVybiB1X2ZvZ19jb2xvci5hKmV4cCgtMy4wKnQqdCk7fWZsb2F0IGZvZ19vcGFjaXR5KGZsb2F0IHQpIHtjb25zdCBmbG9hdCBkZWNheT02LjA7ZmxvYXQgZmFsbG9mZj0xLjAtbWluKDEuMCxleHAoLWRlY2F5KnQpKTtmYWxsb2ZmKj1mYWxsb2ZmKmZhbGxvZmY7cmV0dXJuIHVfZm9nX2NvbG9yLmEqbWluKDEuMCwxLjAwNzQ3KmZhbGxvZmYpO31mbG9hdCBnbG9iZV9nbG93X3Byb2dyZXNzKCkge2hpZ2hwIHZlYzIgdXY9Z2xfRnJhZ0Nvb3JkLnh5L3Vfdmlld3BvcnQ7aGlnaHAgdmVjMyByYXlfZGlyPW1peChcXG5taXgodV9mcnVzdHVtX3RsLHVfZnJ1c3R1bV90cix1di54KSxtaXgodV9mcnVzdHVtX2JsLHVfZnJ1c3R1bV9icix1di54KSwxLjAtdXYueSk7aGlnaHAgdmVjMyBkaXI9bm9ybWFsaXplKHJheV9kaXIpO2hpZ2hwIHZlYzMgY2xvc2VzdF9wb2ludD1kb3QodV9nbG9iZV9wb3MsZGlyKSpkaXI7aGlnaHAgZmxvYXQgc2RmPWxlbmd0aChjbG9zZXN0X3BvaW50LXVfZ2xvYmVfcG9zKS91X2dsb2JlX3JhZGl1cztyZXR1cm4gc2RmK1BJKjAuNTt9ZmxvYXQgZm9nX29wYWNpdHkodmVjMyBwb3MpIHtmbG9hdCBkZXB0aD1sZW5ndGgocG9zKTtyZXR1cm4gZm9nX29wYWNpdHkoZm9nX3JhbmdlKGRlcHRoKSk7fXZlYzMgZm9nX2FwcGx5KHZlYzMgY29sb3IsdmVjMyBwb3MpIHtmbG9hdCBkZXB0aD1sZW5ndGgocG9zKTtmbG9hdCBvcGFjaXR5O2lmICh1X2lzX2dsb2JlPT0xKSB7ZmxvYXQgZ2xvd19wcm9ncmVzcz1nbG9iZV9nbG93X3Byb2dyZXNzKCk7ZmxvYXQgdD1taXgoZ2xvd19wcm9ncmVzcyxkZXB0aCx1X2dsb2JlX3RyYW5zaXRpb24pO29wYWNpdHk9Zm9nX29wYWNpdHkoZm9nX3JhbmdlKHQpKTt9IGVsc2Uge29wYWNpdHk9Zm9nX29wYWNpdHkoZm9nX3JhbmdlKGRlcHRoKSk7b3BhY2l0eSo9Zm9nX2hvcml6b25fYmxlbmRpbmcocG9zL2RlcHRoKTt9cmV0dXJuIG1peChjb2xvcix1X2ZvZ19jb2xvci5yZ2Isb3BhY2l0eSk7fXZlYzQgZm9nX2FwcGx5X2Zyb21fdmVydCh2ZWM0IGNvbG9yLGZsb2F0IGZvZ19vcGFjKSB7ZmxvYXQgYWxwaGE9RVBTSUxPTitjb2xvci5hO2NvbG9yLnJnYj1taXgoY29sb3IucmdiL2FscGhhLHVfZm9nX2NvbG9yLnJnYixmb2dfb3BhYykqYWxwaGE7cmV0dXJuIGNvbG9yO312ZWMzIGZvZ19hcHBseV9za3lfZ3JhZGllbnQodmVjMyBjYW1lcmFfcmF5LHZlYzMgc2t5X2NvbG9yKSB7ZmxvYXQgaG9yaXpvbl9ibGVuZD1mb2dfaG9yaXpvbl9ibGVuZGluZyhub3JtYWxpemUoY2FtZXJhX3JheSkpO3JldHVybiBtaXgoc2t5X2NvbG9yLHVfZm9nX2NvbG9yLnJnYixob3Jpem9uX2JsZW5kKTt9dmVjNCBmb2dfYXBwbHlfcHJlbXVsdGlwbGllZCh2ZWM0IGNvbG9yLHZlYzMgcG9zKSB7ZmxvYXQgYWxwaGE9RVBTSUxPTitjb2xvci5hO2NvbG9yLnJnYj1mb2dfYXBwbHkoY29sb3IucmdiL2FscGhhLHBvcykqYWxwaGE7cmV0dXJuIGNvbG9yO312ZWM0IGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKHZlYzQgY29sb3IsdmVjMyBwb3MsZmxvYXQgaGVpZ2h0TWV0ZXJzKSB7ZmxvYXQgdmVydGljYWxQcm9ncmVzcz0odV9mb2dfdmVydGljYWxfbGltaXQueCA+IDAuMCB8fCB1X2ZvZ192ZXJ0aWNhbF9saW1pdC55ID4gMC4wKSA/IHNtb290aHN0ZXAodV9mb2dfdmVydGljYWxfbGltaXQueCx1X2ZvZ192ZXJ0aWNhbF9saW1pdC55LGhlaWdodE1ldGVycykgOiAwLjA7ZmxvYXQgb3BhY2l0eUxpbWl0PTEuMC1zbW9vdGhzdGVwKDAuOSwxLjAsZm9nX29wYWNpdHkocG9zKSk7cmV0dXJuIG1peChmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChjb2xvcixwb3MpLGNvbG9yLG1pbih2ZXJ0aWNhbFByb2dyZXNzLG9wYWNpdHlMaW1pdCkpO312ZWMzIGZvZ19kaXRoZXIodmVjMyBjb2xvcikge1xcbiNpZmRlZiBGT0dfRElUSEVSSU5HXFxudmVjMiBkaXRoZXJfc2VlZD1nbF9GcmFnQ29vcmQueHkrdV9mb2dfdGVtcG9yYWxfb2Zmc2V0O3JldHVybiBkaXRoZXIoY29sb3IsZGl0aGVyX3NlZWQpO1xcbiNlbHNlXFxucmV0dXJuIGNvbG9yO1xcbiNlbmRpZlxcbn12ZWM0IGZvZ19kaXRoZXIodmVjNCBjb2xvcikge3JldHVybiB2ZWM0KGZvZ19kaXRoZXIoY29sb3IucmdiKSxjb2xvci5hKTt9XFxuI2VuZGlmXCIsSUU9XCIjaWZkZWYgUkVOREVSX1NIQURPV1NcXG51bmlmb3JtIG1lZGl1bXAgdmVjMyB1X3NoYWRvd19kaXJlY3Rpb247dW5pZm9ybSBoaWdocCB2ZWMzIHVfc2hhZG93X25vcm1hbF9vZmZzZXQ7dmVjMyBzaGFkb3dfbm9ybWFsX29mZnNldCh2ZWMzIG5vcm1hbCkge2Zsb2F0IHRpbGVJbk1ldGVycz11X3NoYWRvd19ub3JtYWxfb2Zmc2V0WzBdO3ZlYzMgbj12ZWMzKC1ub3JtYWwueHksdGlsZUluTWV0ZXJzKm5vcm1hbC56KTtmbG9hdCBkb3RTY2FsZT1taW4oMS4wLWRvdChub3JtYWwsdV9zaGFkb3dfZGlyZWN0aW9uKSwxLjApKjAuNSswLjU7cmV0dXJuIG4qZG90U2NhbGU7fXZlYzMgc2hhZG93X25vcm1hbF9vZmZzZXRfbW9kZWwodmVjMyBub3JtYWwpIHtmbG9hdCBkb3RTY2FsZT1taW4oMS4wLWRvdChub3JtYWwsdV9zaGFkb3dfZGlyZWN0aW9uKSwxLjApKjAuNSswLjU7cmV0dXJuIG5vcm1hbCpkb3RTY2FsZTt9ZmxvYXQgc2hhZG93X25vcm1hbF9vZmZzZXRfbXVsdGlwbGllcjAoKSB7cmV0dXJuIHVfc2hhZG93X25vcm1hbF9vZmZzZXRbMV07fWZsb2F0IHNoYWRvd19ub3JtYWxfb2Zmc2V0X211bHRpcGxpZXIxKCkge3JldHVybiB1X3NoYWRvd19ub3JtYWxfb2Zmc2V0WzJdO31cXG4jZW5kaWYvL1JFTkRFUl9TSEFET1dTXCIsQ0U9XCIjaWZkZWYgUkVOREVSX1NIQURPV1NcXG4jaWYgZGVmaW5lZChOQVRJVkUpICYmIF9fVkVSU0lPTl9fID49MzAwXFxuI2RlZmluZSBURVhUVVJFX0dBVEhFUlxcbiNlbmRpZlxcbiNpZmRlZiBERVBUSF9URVhUVVJFXFxudW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdV9zaGFkb3dtYXBfMDt1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCB1X3NoYWRvd21hcF8xO1xcbiNlbHNlXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9zaGFkb3dtYXBfMDt1bmlmb3JtIHNhbXBsZXIyRCB1X3NoYWRvd21hcF8xO1xcbiNlbmRpZlxcbnVuaWZvcm0gZmxvYXQgdV9zaGFkb3dfaW50ZW5zaXR5O3VuaWZvcm0gZmxvYXQgdV9zaGFkb3dfbWFwX3Jlc29sdXRpb247dW5pZm9ybSBmbG9hdCB1X3NoYWRvd190ZXhlbF9zaXplO3VuaWZvcm0gaGlnaHAgdmVjMyB1X3NoYWRvd19ub3JtYWxfb2Zmc2V0O3VuaWZvcm0gdmVjMiB1X2ZhZGVfcmFuZ2U7dW5pZm9ybSBtZWRpdW1wIHZlYzMgdV9zaGFkb3dfZGlyZWN0aW9uO3VuaWZvcm0gaGlnaHAgdmVjMyB1X3NoYWRvd19iaWFzO2hpZ2hwIGZsb2F0IHNoYWRvd19zYW1wbGVfMShoaWdocCB2ZWMyIHV2LGhpZ2hwIGZsb2F0IGNvbXBhcmUpIHtoaWdocCBmbG9hdCBzaGFkb3dfZGVwdGg7XFxuI2lmZGVmIERFUFRIX1RFWFRVUkVcXG5zaGFkb3dfZGVwdGg9dGV4dHVyZTJEKHVfc2hhZG93bWFwXzEsdXYpLnI7XFxuI2Vsc2VcXG5zaGFkb3dfZGVwdGg9dW5wYWNrX2RlcHRoKHRleHR1cmUyRCh1X3NoYWRvd21hcF8xLHV2KSkqMC41KzAuNTtcXG4jZW5kaWZcXG5yZXR1cm4gc3RlcChzaGFkb3dfZGVwdGgsY29tcGFyZSk7fWhpZ2hwIGZsb2F0IHNoYWRvd19zYW1wbGVfMChoaWdocCB2ZWMyIHV2LGhpZ2hwIGZsb2F0IGNvbXBhcmUpIHtoaWdocCBmbG9hdCBzaGFkb3dfZGVwdGg7XFxuI2lmZGVmIERFUFRIX1RFWFRVUkVcXG5zaGFkb3dfZGVwdGg9dGV4dHVyZTJEKHVfc2hhZG93bWFwXzAsdXYpLnI7XFxuI2Vsc2VcXG5zaGFkb3dfZGVwdGg9dW5wYWNrX2RlcHRoKHRleHR1cmUyRCh1X3NoYWRvd21hcF8wLHV2KSkqMC41KzAuNTtcXG4jZW5kaWZcXG5yZXR1cm4gc3RlcChzaGFkb3dfZGVwdGgsY29tcGFyZSk7fWZsb2F0IHNoYWRvd19vY2NsdXNpb25fMShoaWdocCB2ZWM0IHBvcyxoaWdocCBmbG9hdCBiaWFzKSB7aGlnaHAgdmVjMiB1dj1wb3MueHk7cmV0dXJuIHNoYWRvd19zYW1wbGVfMSh1dixwb3Muei1iaWFzKTt9ZmxvYXQgc2hhZG93X29jY2x1c2lvbl8wKGhpZ2hwIHZlYzQgcG9zLGhpZ2hwIGZsb2F0IGJpYXMpIHtoaWdocCBmbG9hdCBjb21wYXJlMD1wb3Muei1iaWFzO1xcbiNpZmRlZiBURVhUVVJFX0dBVEhFUlxcbmhpZ2hwIHZlYzIgdXY9cG9zLnh5O2hpZ2hwIHZlYzQgc2FtcGxlcz10ZXh0dXJlR2F0aGVyKHVfc2hhZG93bWFwXzAsdXYsMCk7bG93cCB2ZWM0IHN0ZXBTYW1wbGVzPXN0ZXAoc2FtcGxlcyx2ZWM0KGNvbXBhcmUwKSk7XFxuI2Vsc2VcXG5oaWdocCB2ZWMyIHV2MDA9cG9zLnh5LXZlYzIoMC41KnVfc2hhZG93X3RleGVsX3NpemUpO2hpZ2hwIHZlYzIgdXYxMD11djAwK3ZlYzIodV9zaGFkb3dfdGV4ZWxfc2l6ZSwwLjApO2hpZ2hwIHZlYzIgdXYwMT11djAwK3ZlYzIoMC4wLHVfc2hhZG93X3RleGVsX3NpemUpO2hpZ2hwIHZlYzIgdXYxMT11djAxK3ZlYzIodV9zaGFkb3dfdGV4ZWxfc2l6ZSwwLjApO2xvd3AgdmVjNCBzdGVwU2FtcGxlcz12ZWM0KFxcbnNoYWRvd19zYW1wbGVfMCh1djAxLGNvbXBhcmUwKSxzaGFkb3dfc2FtcGxlXzAodXYxMSxjb21wYXJlMCksc2hhZG93X3NhbXBsZV8wKHV2MTAsY29tcGFyZTApLHNoYWRvd19zYW1wbGVfMCh1djAwLGNvbXBhcmUwKVxcbik7XFxuI2VuZGlmXFxudmVjMiBmPWZyYWN0KHBvcy54eSp1X3NoYWRvd19tYXBfcmVzb2x1dGlvbi12ZWMyKDAuNSkpO2xvd3AgdmVjMiBsZXJweD1taXgoc3RlcFNhbXBsZXMud3gsc3RlcFNhbXBsZXMuenksZi54eCk7cmV0dXJuIG1peChsZXJweC54LGxlcnB4LnksZi55KTt9ZmxvYXQgc2hhZG93X29jY2x1c2lvbihoaWdocCB2ZWM0IGxpZ2h0X3ZpZXdfcG9zMCxoaWdocCB2ZWM0IGxpZ2h0X3ZpZXdfcG9zMSxmbG9hdCB2aWV3X2RlcHRoLGhpZ2hwIGZsb2F0IGJpYXMpIHtcXG4jaWZkZWYgU0hBRE9XU19TSU5HTEVfQ0FTQ0FERVxcbmxpZ2h0X3ZpZXdfcG9zMC54eXo9bGlnaHRfdmlld19wb3MwLnh5ei9saWdodF92aWV3X3BvczAudyowLjUrMC41O3JldHVybiBzaGFkb3dfb2NjbHVzaW9uXzAobGlnaHRfdmlld19wb3MwLGJpYXMpO1xcbiNlbHNlXFxubGlnaHRfdmlld19wb3MwLnh5ei89bGlnaHRfdmlld19wb3MwLnc7bGlnaHRfdmlld19wb3MxLnh5ei89bGlnaHRfdmlld19wb3MxLnc7dmVjNCB1dj12ZWM0KGxpZ2h0X3ZpZXdfcG9zMC54eSxsaWdodF92aWV3X3BvczEueHkpO3ZlYzQgYWJzX2JvdW5kcz1hYnModXYpO2lmIChhYnNfYm91bmRzLnggPCAxLjAgJiYgYWJzX2JvdW5kcy55IDwgMS4wKSB7bGlnaHRfdmlld19wb3MwLnh5ej1saWdodF92aWV3X3BvczAueHl6KjAuNSswLjU7cmV0dXJuIHNoYWRvd19vY2NsdXNpb25fMChsaWdodF92aWV3X3BvczAsYmlhcyk7fWlmIChhYnNfYm91bmRzLnogPj0xLjAgfHwgYWJzX2JvdW5kcy53ID49MS4wKSB7cmV0dXJuIDAuMDt9bGlnaHRfdmlld19wb3MxLnh5ej1saWdodF92aWV3X3BvczEueHl6KjAuNSswLjU7ZmxvYXQgb2NjbHVzaW9uMT1zaGFkb3dfb2NjbHVzaW9uXzEobGlnaHRfdmlld19wb3MxLGJpYXMpO3JldHVybiBtaXgob2NjbHVzaW9uMSwwLjAsc21vb3Roc3RlcCh1X2ZhZGVfcmFuZ2UueCx1X2ZhZGVfcmFuZ2UueSx2aWV3X2RlcHRoKSk7XFxuI2VuZGlmXFxufWhpZ2hwIGZsb2F0IGNhbGN1bGF0ZV9zaGFkb3dfYmlhcyhmbG9hdCBORG90TCkge1xcbiNpZmRlZiBOT1JNQUxfT0ZGU0VUXFxucmV0dXJuIDAuNSp1X3NoYWRvd19iaWFzLng7XFxuI2Vsc2VcXG5yZXR1cm4gMC41Kih1X3NoYWRvd19iaWFzLngrY2xhbXAodV9zaGFkb3dfYmlhcy55KnRhbihhY29zKE5Eb3RMKSksMC4wLHVfc2hhZG93X2JpYXMueikpO1xcbiNlbmRpZlxcbn1mbG9hdCBzaGFkb3dlZF9saWdodF9mYWN0b3Jfbm9ybWFsKHZlYzMgTixoaWdocCB2ZWM0IGxpZ2h0X3ZpZXdfcG9zMCxoaWdocCB2ZWM0IGxpZ2h0X3ZpZXdfcG9zMSxmbG9hdCB2aWV3X2RlcHRoKSB7ZmxvYXQgTkRvdEw9ZG90KE4sdV9zaGFkb3dfZGlyZWN0aW9uKTtmbG9hdCBiaWFzPWNhbGN1bGF0ZV9zaGFkb3dfYmlhcyhORG90TCk7ZmxvYXQgb2NjbHVzaW9uPXNoYWRvd19vY2NsdXNpb24obGlnaHRfdmlld19wb3MwLGxpZ2h0X3ZpZXdfcG9zMSx2aWV3X2RlcHRoLGJpYXMpO3JldHVybiBtaXgoMC4wLCgxLjAtKHVfc2hhZG93X2ludGVuc2l0eSpvY2NsdXNpb24pKSpORG90TCxzdGVwKDAuMCxORG90TCkpO31mbG9hdCBzaGFkb3dlZF9saWdodF9mYWN0b3Jfbm9ybWFsX3VuYmlhc2VkKHZlYzMgTixoaWdocCB2ZWM0IGxpZ2h0X3ZpZXdfcG9zMCxoaWdocCB2ZWM0IGxpZ2h0X3ZpZXdfcG9zMSxmbG9hdCB2aWV3X2RlcHRoKSB7ZmxvYXQgTkRvdEw9ZG90KE4sdV9zaGFkb3dfZGlyZWN0aW9uKTtmbG9hdCBiaWFzPTAuMDtmbG9hdCBvY2NsdXNpb249c2hhZG93X29jY2x1c2lvbihsaWdodF92aWV3X3BvczAsbGlnaHRfdmlld19wb3MxLHZpZXdfZGVwdGgsYmlhcyk7cmV0dXJuIG1peCgwLjAsKDEuMC0odV9zaGFkb3dfaW50ZW5zaXR5Km9jY2x1c2lvbikpKk5Eb3RMLHN0ZXAoMC4wLE5Eb3RMKSk7fWZsb2F0IHNoYWRvd2VkX2xpZ2h0X2ZhY3RvcihoaWdocCB2ZWM0IGxpZ2h0X3ZpZXdfcG9zMCxoaWdocCB2ZWM0IGxpZ2h0X3ZpZXdfcG9zMSxmbG9hdCB2aWV3X2RlcHRoKSB7ZmxvYXQgYmlhcz0wLjA7ZmxvYXQgb2NjbHVzaW9uPXNoYWRvd19vY2NsdXNpb24obGlnaHRfdmlld19wb3MwLGxpZ2h0X3ZpZXdfcG9zMSx2aWV3X2RlcHRoLGJpYXMpO3JldHVybiAxLjAtKHVfc2hhZG93X2ludGVuc2l0eSpvY2NsdXNpb24pO31mbG9hdCBzaGFkb3dfb2NjbHVzaW9uKGZsb2F0IG5kb3RsLGhpZ2hwIHZlYzQgbGlnaHRfdmlld19wb3MwLGhpZ2hwIHZlYzQgbGlnaHRfdmlld19wb3MxLGZsb2F0IHZpZXdfZGVwdGgpIHtmbG9hdCBiaWFzPWNhbGN1bGF0ZV9zaGFkb3dfYmlhcyhuZG90bCk7cmV0dXJuIHNoYWRvd19vY2NsdXNpb24obGlnaHRfdmlld19wb3MwLGxpZ2h0X3ZpZXdfcG9zMSx2aWV3X2RlcHRoLGJpYXMpO31cXG4jZW5kaWZcIjtjb25zdCB6RT1bXTtPRShURSx6RSk7Y29uc3QgREU9e1wiX3ByZWx1ZGVfZm9nLnZlcnRleC5nbHNsXCI6QUUsXCJfcHJlbHVkZV90ZXJyYWluLnZlcnRleC5nbHNsXCI6TUUsXCJfcHJlbHVkZV9zaGFkb3cudmVydGV4Lmdsc2xcIjpJRSxcIl9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsXCI6U0UsXCJfcHJlbHVkZV9zaGFkb3cuZnJhZ21lbnQuZ2xzbFwiOkNFLFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiOlwiXFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG51bmlmb3JtIG1lZGl1bXAgdmVjMyB1X2xpZ2h0aW5nX2FtYmllbnRfY29sb3I7dW5pZm9ybSBtZWRpdW1wIHZlYzMgdV9saWdodGluZ19kaXJlY3Rpb25hbF9kaXI7dW5pZm9ybSBtZWRpdW1wIHZlYzMgdV9saWdodGluZ19kaXJlY3Rpb25hbF9jb2xvcjt1bmlmb3JtIG1lZGl1bXAgdmVjMyB1X2dyb3VuZF9yYWRpYW5jZTtmbG9hdCBjYWxjdWxhdGVfYW1iaWVudF9kaXJlY3Rpb25hbF9mYWN0b3IodmVjMyBub3JtYWwpIHtmbG9hdCBOZG90TD1kb3Qobm9ybWFsLHVfbGlnaHRpbmdfZGlyZWN0aW9uYWxfZGlyKTtjb25zdCBmbG9hdCBmYWN0b3JfcmVkdWN0aW9uX21heD0wLjM7ZmxvYXQgZGlyX2x1bWluYW5jZT1kb3QodV9saWdodGluZ19kaXJlY3Rpb25hbF9jb2xvcix2ZWMzKDAuMjEyNiwwLjcxNTIsMC4wNzIyKSk7ZmxvYXQgZGlyZWN0aW9uYWxfZmFjdG9yX21pbj0xLjAtZmFjdG9yX3JlZHVjdGlvbl9tYXgqbWluKGRpcl9sdW1pbmFuY2UsMS4wKTtmbG9hdCBhbWJpZW50X2RpcmVjdGlvbmFsX2ZhY3Rvcj1taXgoZGlyZWN0aW9uYWxfZmFjdG9yX21pbiwxLjAsbWluKChOZG90TCsxLjApLDEuMCkpO2NvbnN0IGZsb2F0IHZlcnRpY2FsX2ZhY3Rvcl9taW49MC45MjtmbG9hdCB2ZXJ0aWNhbF9mYWN0b3I9bWl4KHZlcnRpY2FsX2ZhY3Rvcl9taW4sMS4wLG5vcm1hbC56KjAuNSswLjUpO3JldHVybiB2ZXJ0aWNhbF9mYWN0b3IqYW1iaWVudF9kaXJlY3Rpb25hbF9mYWN0b3I7fXZlYzMgYXBwbHlfbGlnaHRpbmcodmVjMyBjb2xvcix2ZWMzIG5vcm1hbCxmbG9hdCBkaXJfZmFjdG9yKSB7ZmxvYXQgYW1iaWVudF9kaXJlY3Rpb25hbF9mYWN0b3I9Y2FsY3VsYXRlX2FtYmllbnRfZGlyZWN0aW9uYWxfZmFjdG9yKG5vcm1hbCk7dmVjMyBhbWJpZW50X2NvbnRyaWI9YW1iaWVudF9kaXJlY3Rpb25hbF9mYWN0b3IqdV9saWdodGluZ19hbWJpZW50X2NvbG9yO3ZlYzMgZGlyZWN0aW9uYWxfY29udHJpYj11X2xpZ2h0aW5nX2RpcmVjdGlvbmFsX2NvbG9yKmRpcl9mYWN0b3I7cmV0dXJuIGxpbmVhclByb2R1Y3QoY29sb3IsYW1iaWVudF9jb250cmliK2RpcmVjdGlvbmFsX2NvbnRyaWIpO312ZWM0IGFwcGx5X2xpZ2h0aW5nKHZlYzQgY29sb3IsdmVjMyBub3JtYWwsZmxvYXQgZGlyX2ZhY3Rvcikge3JldHVybiB2ZWM0KGFwcGx5X2xpZ2h0aW5nKGNvbG9yLnJnYixub3JtYWwsZGlyX2ZhY3RvciksY29sb3IuYSk7fXZlYzMgYXBwbHlfbGlnaHRpbmcodmVjMyBjb2xvcix2ZWMzIG5vcm1hbCkge2Zsb2F0IGRpcl9mYWN0b3I9bWF4KGRvdChub3JtYWwsdV9saWdodGluZ19kaXJlY3Rpb25hbF9kaXIpLDAuMCk7cmV0dXJuIGFwcGx5X2xpZ2h0aW5nKGNvbG9yLnJnYixub3JtYWwsZGlyX2ZhY3Rvcik7fXZlYzQgYXBwbHlfbGlnaHRpbmcodmVjNCBjb2xvcix2ZWMzIG5vcm1hbCkge2Zsb2F0IGRpcl9mYWN0b3I9bWF4KGRvdChub3JtYWwsdV9saWdodGluZ19kaXJlY3Rpb25hbF9kaXIpLDAuMCk7cmV0dXJuIHZlYzQoYXBwbHlfbGlnaHRpbmcoY29sb3IucmdiLG5vcm1hbCxkaXJfZmFjdG9yKSxjb2xvci5hKTt9dmVjMyBhcHBseV9saWdodGluZ19ncm91bmQodmVjMyBjb2xvcikge3JldHVybiBjb2xvcip1X2dyb3VuZF9yYWRpYW5jZTt9dmVjNCBhcHBseV9saWdodGluZ19ncm91bmQodmVjNCBjb2xvcikge3JldHVybiB2ZWM0KGFwcGx5X2xpZ2h0aW5nX2dyb3VuZChjb2xvci5yZ2IpLGNvbG9yLmEpO31mbG9hdCBjYWxjdWxhdGVfTmRvdEwodmVjMyBub3JtYWwpIHtjb25zdCBmbG9hdCBleHQ9MC43MDcxMDY3ODExODtyZXR1cm4gKGNsYW1wKGRvdChub3JtYWwsdV9saWdodGluZ19kaXJlY3Rpb25hbF9kaXIpLC1leHQsMS4wKStleHQpLygxLjArZXh0KTt9dmVjNCBhcHBseV9saWdodGluZ193aXRoX2VtaXNzaW9uX2dyb3VuZCh2ZWM0IGNvbG9yLGZsb2F0IGVtaXNzaXZlX3N0cmVuZ3RoKSB7cmV0dXJuIG1peChhcHBseV9saWdodGluZ19ncm91bmQoY29sb3IpLGNvbG9yLGVtaXNzaXZlX3N0cmVuZ3RoKTt9dmVjMyBjb21wdXRlX2Zsb29kX2xpZ2h0aW5nKHZlYzMgZmxvb2RfbGlnaHRfY29sb3IsZmxvYXQgZnVsbHlfb2NjbHVkZWRfZmFjdG9yLGZsb2F0IG9jY2x1c2lvbix2ZWMzIGdyb3VuZF9zaGFkb3dfZmFjdG9yKSB7dmVjMyBmdWxseV9vY2NsdWRlZF9jb2xvcj1mbG9vZF9saWdodF9jb2xvciptaXgoZ3JvdW5kX3NoYWRvd19mYWN0b3IsdmVjMygxLjApLGZ1bGx5X29jY2x1ZGVkX2ZhY3Rvcik7ZmxvYXQgb2NjbHVzaW9uX3JhbXA9c21vb3Roc3RlcCgwLjAsMC4yLDEuMC1vY2NsdXNpb24pO3JldHVybiBtaXgoZnVsbHlfb2NjbHVkZWRfY29sb3IsZmxvb2RfbGlnaHRfY29sb3Isb2NjbHVzaW9uX3JhbXApO312ZWMzIGNvbXB1dGVfZW1pc3NpdmVfZHJhcGVkKHZlYzMgdW5saXRfY29sb3IsZmxvYXQgZnVsbHlfb2NjbHVkZWRfZmFjdG9yLGZsb2F0IG9jY2x1c2lvbix2ZWMzIGdyb3VuZF9zaGFkb3dfZmFjdG9yKSB7dmVjMyBmdWxseV9vY2NsdWRlZF9jb2xvcj11bmxpdF9jb2xvciptaXgoZ3JvdW5kX3NoYWRvd19mYWN0b3IsdmVjMygxLjApLGZ1bGx5X29jY2x1ZGVkX2ZhY3Rvcik7cmV0dXJuIG1peChmdWxseV9vY2NsdWRlZF9jb2xvcix1bmxpdF9jb2xvciwxLjAtb2NjbHVzaW9uKTt9XFxuI2VuZGlmLy9MSUdIVElOR18zRF9NT0RFXCJ9LFBFPXt9O0JFKFwiXCIsTUUpLEJFKFNFLEFFKSxCRShDRSxJRSk7Y29uc3QgUkU9QkUoXCJcXG4jaWYgX19WRVJTSU9OX18gPj0zMDBcXG4jZGVmaW5lIHZhcnlpbmcgaW5cXG4jZGVmaW5lIGdsX0ZyYWdDb2xvciBnbEZyYWdDb2xvclxcbiNkZWZpbmUgdGV4dHVyZTJEIHRleHR1cmVcXG4jZGVmaW5lIHRleHR1cmVDdWJlIHRleHR1cmVcXG5vdXQgdmVjNCBnbEZyYWdDb2xvcjtcXG4jZW5kaWZcXG5oaWdocCB2ZWMzIGhhc2goaGlnaHAgdmVjMiBwKSB7aGlnaHAgdmVjMyBwMz1mcmFjdChwLnh5eCp2ZWMzKDQ0My44OTc1LDM5Ny4yOTczLDQ5MS4xODcxKSk7cDMrPWRvdChwMyxwMy55eHorMTkuMTkpO3JldHVybiBmcmFjdCgocDMueHh5K3AzLnl6eikqcDMuenl4KTt9dmVjMyBkaXRoZXIodmVjMyBjb2xvcixoaWdocCB2ZWMyIHNlZWQpIHt2ZWMzIHJuZD1oYXNoKHNlZWQpK2hhc2goc2VlZCswLjU5Mzc0KS0wLjU7cmV0dXJuIGNvbG9yK3JuZC8yNTUuMDt9aGlnaHAgZmxvYXQgdW5wYWNrX2RlcHRoKGhpZ2hwIHZlYzQgcmdiYV9kZXB0aClcXG57Y29uc3QgaGlnaHAgdmVjNCBiaXRfc2hpZnQ9dmVjNCgxLjAvKDI1NS4wKjI1NS4wKjI1NS4wKSwxLjAvKDI1NS4wKjI1NS4wKSwxLjAvMjU1LjAsMS4wKTtyZXR1cm4gZG90KHJnYmFfZGVwdGgsYml0X3NoaWZ0KSoyLjAtMS4wO31oaWdocCB2ZWM0IHBhY2tfZGVwdGgoaGlnaHAgZmxvYXQgbmRjX3opIHtoaWdocCBmbG9hdCBkZXB0aD1uZGNfeiowLjUrMC41O2NvbnN0IGhpZ2hwIHZlYzQgYml0X3NoaWZ0PXZlYzQoMjU1LjAqMjU1LjAqMjU1LjAsMjU1LjAqMjU1LjAsMjU1LjAsMS4wKTtjb25zdCBoaWdocCB2ZWM0IGJpdF9tYXNrID12ZWM0KDAuMCwxLjAvMjU1LjAsMS4wLzI1NS4wLDEuMC8yNTUuMCk7aGlnaHAgdmVjNCByZXM9ZnJhY3QoZGVwdGgqYml0X3NoaWZ0KTtyZXMtPXJlcy54eHl6KmJpdF9tYXNrO3JldHVybiByZXM7fVxcbiNpZmRlZiBJTkRJQ0FUT1JfQ1VUT1VUXFxudW5pZm9ybSB2ZWMyIHVfaW5kaWNhdG9yX2N1dG91dF9jZW50ZXJzO3VuaWZvcm0gdmVjNCB1X2luZGljYXRvcl9jdXRvdXRfcGFyYW1zO1xcbiNlbmRpZlxcbnZlYzQgYXBwbHlDdXRvdXQodmVjNCBjb2xvcikge1xcbiNpZmRlZiBJTkRJQ0FUT1JfQ1VUT1VUXFxuZmxvYXQgaG9sZU1pbk9wYWNpdHk9dV9pbmRpY2F0b3JfY3V0b3V0X3BhcmFtcy54O2Zsb2F0IGhvbGVSYWRpdXM9bWF4KHVfaW5kaWNhdG9yX2N1dG91dF9wYXJhbXMueSwwLjApO2Zsb2F0IGhvbGVBc3BlY3RSYXRpbz11X2luZGljYXRvcl9jdXRvdXRfcGFyYW1zLno7ZmxvYXQgZmFkZVN0YXJ0PXVfaW5kaWNhdG9yX2N1dG91dF9wYXJhbXMudztmbG9hdCBkaXN0QT1kaXN0YW5jZSh2ZWMyKGdsX0ZyYWdDb29yZC54LGdsX0ZyYWdDb29yZC55KmhvbGVBc3BlY3RSYXRpbyksdmVjMih1X2luZGljYXRvcl9jdXRvdXRfY2VudGVyc1swXSx1X2luZGljYXRvcl9jdXRvdXRfY2VudGVyc1sxXSpob2xlQXNwZWN0UmF0aW8pKTtyZXR1cm4gY29sb3IqbWluKHNtb290aHN0ZXAoZmFkZVN0YXJ0LGhvbGVSYWRpdXMsZGlzdEEpK2hvbGVNaW5PcGFjaXR5LDEuMCk7XFxuI2Vsc2VcXG5yZXR1cm4gY29sb3I7XFxuI2VuZGlmXFxufVxcbiNpZmRlZiBSRU5ERVJfQ1VUT0ZGXFxudW5pZm9ybSBoaWdocCB2ZWM0IHVfY3V0b2ZmX3BhcmFtczt2YXJ5aW5nIGZsb2F0IHZfY3V0b2ZmX29wYWNpdHk7XFxuI2VuZGlmXCIsXCJcXG4jaWYgX19WRVJTSU9OX18gPj0zMDBcXG4jZGVmaW5lIGF0dHJpYnV0ZSBpblxcbiNkZWZpbmUgdmFyeWluZyBvdXRcXG4jZGVmaW5lIHRleHR1cmUyRCB0ZXh0dXJlXFxuI2VuZGlmXFxuZmxvYXQgd3JhcChmbG9hdCBuLGZsb2F0IG1pbixmbG9hdCBtYXgpIHtmbG9hdCBkPW1heC1taW47ZmxvYXQgdz1tb2QobW9kKG4tbWluLGQpK2QsZCkrbWluO3JldHVybiAodz09bWluKSA/IG1heCA6IHc7fVxcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIG1lcmNhdG9yX3RpbGVfcG9zaXRpb24obWF0NCBtYXRyaXgsdmVjMiB0aWxlX2FuY2hvcix2ZWMzIHRpbGVfaWQsdmVjMiBtZXJjYXRvcl9jZW50ZXIpIHtcXG4jaWZuZGVmIFBST0pFQ1RFRF9QT1NfT05fVklFV1BPUlRcXG5mbG9hdCB0aWxlcz10aWxlX2lkLno7dmVjMiBtZXJjYXRvcj0odGlsZV9hbmNob3IvRVhURU5UK3RpbGVfaWQueHkpL3RpbGVzO21lcmNhdG9yLT1tZXJjYXRvcl9jZW50ZXI7bWVyY2F0b3IueD13cmFwKG1lcmNhdG9yLngsLTAuNSwwLjUpO3ZlYzQgbWVyY2F0b3JfdGlsZT12ZWM0KG1lcmNhdG9yLnh5KkVYVEVOVCxFWFRFTlQvKDIuMCpQSSksMS4wKTttZXJjYXRvcl90aWxlPW1hdHJpeCptZXJjYXRvcl90aWxlO3JldHVybiBtZXJjYXRvcl90aWxlLnh5ejtcXG4jZWxzZVxcbnJldHVybiB2ZWMzKDAuMCk7XFxuI2VuZGlmXFxufXZlYzMgbWl4X2dsb2JlX21lcmNhdG9yKHZlYzMgZ2xvYmUsdmVjMyBtZXJjYXRvcixmbG9hdCB0KSB7cmV0dXJuIG1peChnbG9iZSxtZXJjYXRvcix0KTt9bWF0MyBnbG9iZV9tZXJjYXRvcl9zdXJmYWNlX3ZlY3RvcnModmVjMyBwb3Nfbm9ybWFsLHZlYzMgdXBfZGlyLGZsb2F0IHpvb21fdHJhbnNpdGlvbikge3ZlYzMgbm9ybWFsPXpvb21fdHJhbnNpdGlvbj09MC4wID8gcG9zX25vcm1hbCA6IG5vcm1hbGl6ZShtaXgocG9zX25vcm1hbCx1cF9kaXIsem9vbV90cmFuc2l0aW9uKSk7dmVjMyB4QXhpcz1ub3JtYWxpemUodmVjMyhub3JtYWwueiwwLjAsLW5vcm1hbC54KSk7dmVjMyB5QXhpcz1ub3JtYWxpemUoY3Jvc3Mobm9ybWFsLHhBeGlzKSk7cmV0dXJuIG1hdDMoeEF4aXMseUF4aXMsbm9ybWFsKTt9XFxuI2VuZGlmXFxudmVjMiB1bnBhY2tfZmxvYXQoY29uc3QgZmxvYXQgcGFja2VkVmFsdWUpIHtpbnQgcGFja2VkSW50VmFsdWU9aW50KHBhY2tlZFZhbHVlKTtpbnQgdjA9cGFja2VkSW50VmFsdWUvMjU2O3JldHVybiB2ZWMyKHYwLHBhY2tlZEludFZhbHVlLXYwKjI1Nik7fXZlYzIgdW5wYWNrX29wYWNpdHkoY29uc3QgZmxvYXQgcGFja2VkT3BhY2l0eSkge2ludCBpbnRPcGFjaXR5PWludChwYWNrZWRPcGFjaXR5KS8yO3JldHVybiB2ZWMyKGZsb2F0KGludE9wYWNpdHkpLzEyNy4wLG1vZChwYWNrZWRPcGFjaXR5LDIuMCkpO312ZWM0IGRlY29kZV9jb2xvcihjb25zdCB2ZWMyIGVuY29kZWRDb2xvcikge3JldHVybiB2ZWM0KFxcbnVucGFja19mbG9hdChlbmNvZGVkQ29sb3JbMF0pLzI1NS4wLHVucGFja19mbG9hdChlbmNvZGVkQ29sb3JbMV0pLzI1NS4wXFxuKTt9ZmxvYXQgdW5wYWNrX21peF92ZWMyKGNvbnN0IHZlYzIgcGFja2VkVmFsdWUsY29uc3QgZmxvYXQgdCkge3JldHVybiBtaXgocGFja2VkVmFsdWVbMF0scGFja2VkVmFsdWVbMV0sdCk7fXZlYzQgdW5wYWNrX21peF9jb2xvcihjb25zdCB2ZWM0IHBhY2tlZENvbG9ycyxjb25zdCBmbG9hdCB0KSB7dmVjNCBtaW5Db2xvcj1kZWNvZGVfY29sb3IodmVjMihwYWNrZWRDb2xvcnNbMF0scGFja2VkQ29sb3JzWzFdKSk7dmVjNCBtYXhDb2xvcj1kZWNvZGVfY29sb3IodmVjMihwYWNrZWRDb2xvcnNbMl0scGFja2VkQ29sb3JzWzNdKSk7cmV0dXJuIG1peChtaW5Db2xvcixtYXhDb2xvcix0KTt9dmVjMiBnZXRfcGF0dGVybl9wb3MoY29uc3QgdmVjMiBwaXhlbF9jb29yZF91cHBlcixjb25zdCB2ZWMyIHBpeGVsX2Nvb3JkX2xvd2VyLGNvbnN0IHZlYzIgcGF0dGVybl9zaXplLGNvbnN0IGZsb2F0IHRpbGVfdW5pdHNfdG9fcGl4ZWxzLGNvbnN0IHZlYzIgcG9zKSB7dmVjMiBvZmZzZXQ9bW9kKG1vZChtb2QocGl4ZWxfY29vcmRfdXBwZXIscGF0dGVybl9zaXplKSoyNTYuMCxwYXR0ZXJuX3NpemUpKjI1Ni4wK3BpeGVsX2Nvb3JkX2xvd2VyLHBhdHRlcm5fc2l6ZSk7cmV0dXJuICh0aWxlX3VuaXRzX3RvX3BpeGVscypwb3Mrb2Zmc2V0KS9wYXR0ZXJuX3NpemU7fVxcbiNpZmRlZiBSRU5ERVJfQ1VUT0ZGXFxudW5pZm9ybSB2ZWM0IHVfY3V0b2ZmX3BhcmFtczt2YXJ5aW5nIGZsb2F0IHZfY3V0b2ZmX29wYWNpdHk7XFxuI2VuZGlmXFxuY29uc3QgdmVjNCBBV0FZPXZlYzQoLTEwMDAuMCwtMTAwMC4wLC0xMDAwLjAsMSk7Ly9Ob3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIHRoYXQgaXMgbm90IHJlbmRlcmVkLlwiKSxMRT1URTt2YXIga0U9e2JhY2tncm91bmQ6QkUoJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxudW5pZm9ybSB2ZWM0IHVfY29sb3I7dW5pZm9ybSBmbG9hdCB1X29wYWNpdHk7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG52YXJ5aW5nIHZlYzQgdl9jb2xvcjtcXG4jZW5kaWZcXG52b2lkIG1haW4oKSB7dmVjNCBvdXRfY29sb3I7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5vdXRfY29sb3I9dl9jb2xvcjtcXG4jZWxzZVxcbm91dF9jb2xvcj11X2NvbG9yO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvcip1X29wYWNpdHk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxuSEFORExFX1dJUkVGUkFNRV9ERUJVRzt9JywnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cudmVydGV4Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxuYXR0cmlidXRlIHZlYzIgYV9wb3M7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxudW5pZm9ybSBtZWRpdW1wIHZlYzQgdV9jb2xvcjt2YXJ5aW5nIHZlYzQgdl9jb2xvcjt1bmlmb3JtIGZsb2F0IHVfZW1pc3NpdmVfc3RyZW5ndGg7XFxuI2VuZGlmXFxudm9pZCBtYWluKCkge2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbnZfY29sb3I9YXBwbHlfbGlnaHRpbmdfd2l0aF9lbWlzc2lvbl9ncm91bmQodV9jb2xvcix1X2VtaXNzaXZlX3N0cmVuZ3RoKTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihhX3Bvcyk7XFxuI2VuZGlmXFxufScpLGJhY2tncm91bmRQYXR0ZXJuOkJFKCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX2xpZ2h0aW5nLmdsc2xcIlxcbnVuaWZvcm0gdmVjMiB1X3BhdHRlcm5fdGw7dW5pZm9ybSB2ZWMyIHVfcGF0dGVybl9icjt1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gZmxvYXQgdV9vcGFjaXR5O3VuaWZvcm0gZmxvYXQgdV9lbWlzc2l2ZV9zdHJlbmd0aDt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3ZhcnlpbmcgdmVjMiB2X3Bvczt2b2lkIG1haW4oKSB7dmVjMiBpbWFnZWNvb3JkPW1vZCh2X3BvcywxLjApO3ZlYzIgcG9zPW1peCh1X3BhdHRlcm5fdGwvdV90ZXhzaXplLHVfcGF0dGVybl9ici91X3RleHNpemUsaW1hZ2Vjb29yZCk7dmVjNCBvdXRfY29sb3I9dGV4dHVyZTJEKHVfaW1hZ2UscG9zKTtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbm91dF9jb2xvcj1hcHBseV9saWdodGluZ193aXRoX2VtaXNzaW9uX2dyb3VuZChvdXRfY29sb3IsdV9lbWlzc2l2ZV9zdHJlbmd0aCk7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbm91dF9jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKG91dF9jb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG5nbF9GcmFnQ29sb3I9b3V0X2NvbG9yKnVfb3BhY2l0eTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG5IQU5ETEVfV0lSRUZSQU1FX0RFQlVHO30nLCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy52ZXJ0ZXguZ2xzbFwiXFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3BhdHRlcm5fc2l6ZTt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF91cHBlcjt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF9sb3dlcjt1bmlmb3JtIGZsb2F0IHVfdGlsZV91bml0c190b19waXhlbHM7YXR0cmlidXRlIHZlYzIgYV9wb3M7dmFyeWluZyB2ZWMyIHZfcG9zO3ZvaWQgbWFpbigpIHtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7dl9wb3M9Z2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsdV9waXhlbF9jb29yZF9sb3dlcix1X3BhdHRlcm5fc2l6ZSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzLGFfcG9zKTtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihhX3Bvcyk7XFxuI2VuZGlmXFxufScpLGNpcmNsZTpCRSgnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cuZnJhZ21lbnQuZ2xzbFwiXFxuI2luY2x1ZGUgXCJfcHJlbHVkZV9saWdodGluZy5nbHNsXCJcXG52YXJ5aW5nIHZlYzMgdl9kYXRhO3ZhcnlpbmcgZmxvYXQgdl92aXNpYmlsaXR5O1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCByYWRpdXNcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IHN0cm9rZV9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgc3Ryb2tlX29wYWNpdHlcXG51bmlmb3JtIGZsb2F0IHVfZW1pc3NpdmVfc3RyZW5ndGg7dm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHJhZGl1c1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgc3Ryb2tlX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHN0cm9rZV9vcGFjaXR5XFxudmVjMiBleHRydWRlPXZfZGF0YS54eTtmbG9hdCBleHRydWRlX2xlbmd0aD1sZW5ndGgoZXh0cnVkZSk7bG93cCBmbG9hdCBhbnRpYWxpYXNibHVyPXZfZGF0YS56O2Zsb2F0IGFudGlhbGlhc2VkX2JsdXI9LW1heChibHVyLGFudGlhbGlhc2JsdXIpO2Zsb2F0IG9wYWNpdHlfdD1zbW9vdGhzdGVwKDAuMCxhbnRpYWxpYXNlZF9ibHVyLGV4dHJ1ZGVfbGVuZ3RoLTEuMCk7ZmxvYXQgY29sb3JfdD1zdHJva2Vfd2lkdGggPCAwLjAxID8gMC4wIDogc21vb3Roc3RlcChcXG5hbnRpYWxpYXNlZF9ibHVyLDAuMCxleHRydWRlX2xlbmd0aC1yYWRpdXMvKHJhZGl1cytzdHJva2Vfd2lkdGgpXFxuKTt2ZWM0IG91dF9jb2xvcj1taXgoY29sb3Iqb3BhY2l0eSxzdHJva2VfY29sb3Iqc3Ryb2tlX29wYWNpdHksY29sb3JfdCk7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5vdXRfY29sb3I9YXBwbHlfbGlnaHRpbmdfd2l0aF9lbWlzc2lvbl9ncm91bmQob3V0X2NvbG9yLHVfZW1pc3NpdmVfc3RyZW5ndGgpO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3Bvcyk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvcioodl92aXNpYmlsaXR5Km9wYWNpdHlfdCk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufScsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLnZlcnRleC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX3RlcnJhaW4udmVydGV4Lmdsc2xcIlxcbiNkZWZpbmUgTlVNX1ZJU0lCSUxJVFlfUklOR1MgMlxcbiNkZWZpbmUgSU5WX1NRUlQyIDAuNzA3MTA2NzhcXG4jZGVmaW5lIEVMRVZBVElPTl9CSUFTIDAuMDAwMVxcbiNkZWZpbmUgTlVNX1NBTVBMRVNfUEVSX1JJTkcgMTZcXG51bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQyIHVfZXh0cnVkZV9zY2FsZTt1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dW5pZm9ybSBoaWdocCBmbG9hdCB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7YXR0cmlidXRlIHZlYzIgYV9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmF0dHJpYnV0ZSB2ZWMzIGFfcG9zXzM7YXR0cmlidXRlIHZlYzMgYV9wb3Nfbm9ybWFsXzM7dW5pZm9ybSBtYXQ0IHVfaW52X3JvdF9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfbWVyY19jZW50ZXI7dW5pZm9ybSB2ZWMzIHVfdGlsZV9pZDt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMyB1X3VwX2RpcjtcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzMgdl9kYXRhO3ZhcnlpbmcgZmxvYXQgdl92aXNpYmlsaXR5O1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCByYWRpdXNcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IHN0cm9rZV9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgc3Ryb2tlX29wYWNpdHlcXG52ZWMyIGNhbGNfb2Zmc2V0KHZlYzIgZXh0cnVzaW9uLGZsb2F0IHJhZGl1cyxmbG9hdCBzdHJva2Vfd2lkdGgsIGZsb2F0IHZpZXdfc2NhbGUpIHtyZXR1cm4gZXh0cnVzaW9uKihyYWRpdXMrc3Ryb2tlX3dpZHRoKSp1X2V4dHJ1ZGVfc2NhbGUqdmlld19zY2FsZTt9ZmxvYXQgY2FudGlsZXZlcmVkX2VsZXZhdGlvbih2ZWMyIHBvcyxmbG9hdCByYWRpdXMsZmxvYXQgc3Ryb2tlX3dpZHRoLGZsb2F0IHZpZXdfc2NhbGUpIHt2ZWMyIGMxPXBvcytjYWxjX29mZnNldCh2ZWMyKC0xLC0xKSxyYWRpdXMsc3Ryb2tlX3dpZHRoLHZpZXdfc2NhbGUpO3ZlYzIgYzI9cG9zK2NhbGNfb2Zmc2V0KHZlYzIoMSwtMSkscmFkaXVzLHN0cm9rZV93aWR0aCx2aWV3X3NjYWxlKTt2ZWMyIGMzPXBvcytjYWxjX29mZnNldCh2ZWMyKDEsMSkscmFkaXVzLHN0cm9rZV93aWR0aCx2aWV3X3NjYWxlKTt2ZWMyIGM0PXBvcytjYWxjX29mZnNldCh2ZWMyKC0xLDEpLHJhZGl1cyxzdHJva2Vfd2lkdGgsdmlld19zY2FsZSk7ZmxvYXQgaDE9ZWxldmF0aW9uKGMxKStFTEVWQVRJT05fQklBUztmbG9hdCBoMj1lbGV2YXRpb24oYzIpK0VMRVZBVElPTl9CSUFTO2Zsb2F0IGgzPWVsZXZhdGlvbihjMykrRUxFVkFUSU9OX0JJQVM7ZmxvYXQgaDQ9ZWxldmF0aW9uKGM0KStFTEVWQVRJT05fQklBUztyZXR1cm4gbWF4KGg0LG1heChoMyxtYXgoaDEsaDIpKSk7fWZsb2F0IGNpcmNsZV9lbGV2YXRpb24odmVjMiBwb3MpIHtcXG4jaWYgZGVmaW5lZChURVJSQUlOKVxcbnJldHVybiBlbGV2YXRpb24ocG9zKStFTEVWQVRJT05fQklBUztcXG4jZWxzZVxcbnJldHVybiAwLjA7XFxuI2VuZGlmXFxufXZlYzQgcHJvamVjdF92ZXJ0ZXgodmVjMiBleHRydXNpb24sdmVjNCB3b3JsZF9jZW50ZXIsdmVjNCBwcm9qZWN0ZWRfY2VudGVyLGZsb2F0IHJhZGl1cyxmbG9hdCBzdHJva2Vfd2lkdGgsIGZsb2F0IHZpZXdfc2NhbGUsbWF0MyBzdXJmYWNlX3ZlY3RvcnMpIHt2ZWMyIHNhbXBsZV9vZmZzZXQ9Y2FsY19vZmZzZXQoZXh0cnVzaW9uLHJhZGl1cyxzdHJva2Vfd2lkdGgsdmlld19zY2FsZSk7XFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQXFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnJldHVybiB1X21hdHJpeCooIHdvcmxkX2NlbnRlcit2ZWM0KHNhbXBsZV9vZmZzZXQueCpzdXJmYWNlX3ZlY3RvcnNbMF0rc2FtcGxlX29mZnNldC55KnN1cmZhY2VfdmVjdG9yc1sxXSwwKSApO1xcbiNlbHNlXFxucmV0dXJuIHVfbWF0cml4Kiggd29ybGRfY2VudGVyK3ZlYzQoc2FtcGxlX29mZnNldCwwLDApICk7XFxuI2VuZGlmXFxuI2Vsc2VcXG5yZXR1cm4gcHJvamVjdGVkX2NlbnRlcit2ZWM0KHNhbXBsZV9vZmZzZXQsMCwwKTtcXG4jZW5kaWZcXG59ZmxvYXQgZ2V0X3NhbXBsZV9zdGVwKCkge1xcbiNpZmRlZiBQSVRDSF9XSVRIX01BUFxcbnJldHVybiAyLjAqUEkvZmxvYXQoTlVNX1NBTVBMRVNfUEVSX1JJTkcpO1xcbiNlbHNlXFxucmV0dXJuIFBJL2Zsb2F0KE5VTV9TQU1QTEVTX1BFUl9SSU5HKTtcXG4jZW5kaWZcXG59dm9pZCBtYWluKHZvaWQpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCByYWRpdXNcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IHN0cm9rZV9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgc3Ryb2tlX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBzdHJva2Vfb3BhY2l0eVxcbnZlYzIgZXh0cnVkZT12ZWMyKG1vZChhX3BvcywyLjApKjIuMC0xLjApO3ZlYzIgY2lyY2xlX2NlbnRlcj1mbG9vcihhX3BvcyowLjUpO3ZlYzQgd29ybGRfY2VudGVyO21hdDMgc3VyZmFjZV92ZWN0b3JzO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIHBvc19ub3JtYWxfMz1hX3Bvc19ub3JtYWxfMy8xNjM4NC4wO3N1cmZhY2VfdmVjdG9ycz1nbG9iZV9tZXJjYXRvcl9zdXJmYWNlX3ZlY3RvcnMocG9zX25vcm1hbF8zLHVfdXBfZGlyLHVfem9vbV90cmFuc2l0aW9uKTt2ZWMzIHN1cmZhY2VfZXh0cnVzaW9uPWV4dHJ1ZGUueCpzdXJmYWNlX3ZlY3RvcnNbMF0rZXh0cnVkZS55KnN1cmZhY2VfdmVjdG9yc1sxXTt2ZWMzIGdsb2JlX2VsZXZhdGlvbj1lbGV2YXRpb25WZWN0b3IoY2lyY2xlX2NlbnRlcikqY2lyY2xlX2VsZXZhdGlvbihjaXJjbGVfY2VudGVyKTt2ZWMzIGdsb2JlX3Bvcz1hX3Bvc18zK3N1cmZhY2VfZXh0cnVzaW9uK2dsb2JlX2VsZXZhdGlvbjt2ZWMzIG1lcmNhdG9yX2VsZXZhdGlvbj11X3VwX2Rpcip1X3RpbGVfdXBfc2NhbGUqY2lyY2xlX2VsZXZhdGlvbihjaXJjbGVfY2VudGVyKTt2ZWMzIG1lcmNfcG9zPW1lcmNhdG9yX3RpbGVfcG9zaXRpb24odV9pbnZfcm90X21hdHJpeCxjaXJjbGVfY2VudGVyLHVfdGlsZV9pZCx1X21lcmNfY2VudGVyKStzdXJmYWNlX2V4dHJ1c2lvbittZXJjYXRvcl9lbGV2YXRpb247dmVjMyBwb3M9bWl4X2dsb2JlX21lcmNhdG9yKGdsb2JlX3BvcyxtZXJjX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7d29ybGRfY2VudGVyPXZlYzQocG9zLDEpO1xcbiNlbHNlIFxcbnN1cmZhY2VfdmVjdG9ycz1tYXQzKDEuMCk7ZmxvYXQgaGVpZ2h0PWNpcmNsZV9lbGV2YXRpb24oY2lyY2xlX2NlbnRlcik7d29ybGRfY2VudGVyPXZlYzQoY2lyY2xlX2NlbnRlcixoZWlnaHQsMSk7XFxuI2VuZGlmXFxudmVjNCBwcm9qZWN0ZWRfY2VudGVyPXVfbWF0cml4KndvcmxkX2NlbnRlcjtmbG9hdCB2aWV3X3NjYWxlPTAuMDtcXG4jaWZkZWYgUElUQ0hfV0lUSF9NQVBcXG4jaWZkZWYgU0NBTEVfV0lUSF9NQVBcXG52aWV3X3NjYWxlPTEuMDtcXG4jZWxzZVxcbnZpZXdfc2NhbGU9cHJvamVjdGVkX2NlbnRlci53L3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTtcXG4jZW5kaWZcXG4jZWxzZVxcbiNpZmRlZiBTQ0FMRV9XSVRIX01BUFxcbnZpZXdfc2NhbGU9dV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO1xcbiNlbHNlXFxudmlld19zY2FsZT1wcm9qZWN0ZWRfY2VudGVyLnc7XFxuI2VuZGlmXFxuI2VuZGlmXFxuZ2xfUG9zaXRpb249cHJvamVjdF92ZXJ0ZXgoZXh0cnVkZSx3b3JsZF9jZW50ZXIscHJvamVjdGVkX2NlbnRlcixyYWRpdXMsc3Ryb2tlX3dpZHRoLHZpZXdfc2NhbGUsc3VyZmFjZV92ZWN0b3JzKTtmbG9hdCB2aXNpYmlsaXR5PTAuMDtcXG4jaWZkZWYgVEVSUkFJTlxcbmZsb2F0IHN0ZXA9Z2V0X3NhbXBsZV9zdGVwKCk7dmVjNCBvY2NsdXNpb25fd29ybGRfY2VudGVyO3ZlYzQgb2NjbHVzaW9uX3Byb2plY3RlZF9jZW50ZXI7XFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQXFxuZmxvYXQgY2FudGlsZXZlcmVkX2hlaWdodD1jYW50aWxldmVyZWRfZWxldmF0aW9uKGNpcmNsZV9jZW50ZXIscmFkaXVzLHN0cm9rZV93aWR0aCx2aWV3X3NjYWxlKTtvY2NsdXNpb25fd29ybGRfY2VudGVyPXZlYzQoY2lyY2xlX2NlbnRlcixjYW50aWxldmVyZWRfaGVpZ2h0LDEpO29jY2x1c2lvbl9wcm9qZWN0ZWRfY2VudGVyPXVfbWF0cml4Km9jY2x1c2lvbl93b3JsZF9jZW50ZXI7XFxuI2Vsc2VcXG5vY2NsdXNpb25fd29ybGRfY2VudGVyPXdvcmxkX2NlbnRlcjtvY2NsdXNpb25fcHJvamVjdGVkX2NlbnRlcj1wcm9qZWN0ZWRfY2VudGVyO1xcbiNlbmRpZlxcbmZvcihpbnQgcmluZz0wOyByaW5nIDwgTlVNX1ZJU0lCSUxJVFlfUklOR1M7IHJpbmcrKykge2Zsb2F0IHNjYWxlPShmbG9hdChyaW5nKSsxLjApL2Zsb2F0KE5VTV9WSVNJQklMSVRZX1JJTkdTKTtmb3IoaW50IGk9MDsgaSA8IE5VTV9TQU1QTEVTX1BFUl9SSU5HOyBpKyspIHt2ZWMyIGV4dHJ1c2lvbj12ZWMyKGNvcyhzdGVwKmZsb2F0KGkpKSwtc2luKHN0ZXAqZmxvYXQoaSkpKSpzY2FsZTt2ZWM0IGZyYWdfcG9zPXByb2plY3RfdmVydGV4KGV4dHJ1c2lvbixvY2NsdXNpb25fd29ybGRfY2VudGVyLG9jY2x1c2lvbl9wcm9qZWN0ZWRfY2VudGVyLHJhZGl1cyxzdHJva2Vfd2lkdGgsdmlld19zY2FsZSxzdXJmYWNlX3ZlY3RvcnMpO3Zpc2liaWxpdHkrPWZsb2F0KCFpc09jY2x1ZGVkKGZyYWdfcG9zKSk7fX12aXNpYmlsaXR5Lz1mbG9hdChOVU1fVklTSUJJTElUWV9SSU5HUykqZmxvYXQoTlVNX1NBTVBMRVNfUEVSX1JJTkcpO1xcbiNlbHNlXFxudmlzaWJpbGl0eT0xLjA7XFxuI2VuZGlmXFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZpc2liaWxpdHk9MS4wO1xcbiNlbmRpZlxcbnZfdmlzaWJpbGl0eT12aXNpYmlsaXR5O2xvd3AgZmxvYXQgYW50aWFsaWFzYmx1cj0xLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8vKHJhZGl1cytzdHJva2Vfd2lkdGgpO3ZfZGF0YT12ZWMzKGV4dHJ1ZGUueCxleHRydWRlLnksYW50aWFsaWFzYmx1cik7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24od29ybGRfY2VudGVyLnh5eik7XFxuI2VuZGlmXFxufScpLGNsaXBwaW5nTWFzazpCRShcInZvaWQgbWFpbigpIHtnbF9GcmFnQ29sb3I9dmVjNCgxLjApO31cIixcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO31cIiksaGVhdG1hcDpCRSgnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cuZnJhZ21lbnQuZ2xzbFwiXFxudW5pZm9ybSBoaWdocCBmbG9hdCB1X2ludGVuc2l0eTt2YXJ5aW5nIHZlYzIgdl9leHRydWRlO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgZmxvYXQgd2VpZ2h0XFxuI2RlZmluZSBHQVVTU19DT0VGIDAuMzk4OTQyMjgwNDAxNDMyN1xcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCBmbG9hdCB3ZWlnaHRcXG5mbG9hdCBkPS0wLjUqMy4wKjMuMCpkb3Qodl9leHRydWRlLHZfZXh0cnVkZSk7ZmxvYXQgdmFsPXdlaWdodCp1X2ludGVuc2l0eSpHQVVTU19DT0VGKmV4cChkKTtnbF9GcmFnQ29sb3I9dmVjNCh2YWwsMS4wLDEuMCwxLjApO1xcbiNpZmRlZiBGT0dcXG5pZiAodV9pc19nbG9iZT09MCkge2dsX0ZyYWdDb2xvci5yKj1wb3coMS4wLWZvZ19vcGFjaXR5KHZfZm9nX3BvcyksMi4wKTt9XFxuI2VuZGlmXFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxuSEFORExFX1dJUkVGUkFNRV9ERUJVRzt9JywnI2luY2x1ZGUgXCJfcHJlbHVkZV90ZXJyYWluLnZlcnRleC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy52ZXJ0ZXguZ2xzbFwiXFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gZmxvYXQgdV9leHRydWRlX3NjYWxlO3VuaWZvcm0gZmxvYXQgdV9vcGFjaXR5O3VuaWZvcm0gZmxvYXQgdV9pbnRlbnNpdHk7YXR0cmlidXRlIHZlYzIgYV9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmF0dHJpYnV0ZSB2ZWMzIGFfcG9zXzM7YXR0cmlidXRlIHZlYzMgYV9wb3Nfbm9ybWFsXzM7dW5pZm9ybSBtYXQ0IHVfaW52X3JvdF9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfbWVyY19jZW50ZXI7dW5pZm9ybSB2ZWMzIHVfdGlsZV9pZDt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMyB1X3VwX2RpcjtcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzIgdl9leHRydWRlO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgZmxvYXQgd2VpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHJhZGl1c1xcbmNvbnN0IGhpZ2hwIGZsb2F0IFpFUk89MS4wLzI1NS4wLzE2LjA7XFxuI2RlZmluZSBHQVVTU19DT0VGIDAuMzk4OTQyMjgwNDAxNDMyN1xcbnZvaWQgbWFpbih2b2lkKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgd2VpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCByYWRpdXNcXG52ZWMyIHVuc2NhbGVkX2V4dHJ1ZGU9dmVjMihtb2QoYV9wb3MsMi4wKSoyLjAtMS4wKTtmbG9hdCBTPXNxcnQoLTIuMCpsb2coWkVSTy93ZWlnaHQvdV9pbnRlbnNpdHkvR0FVU1NfQ09FRikpLzMuMDt2X2V4dHJ1ZGU9Uyp1bnNjYWxlZF9leHRydWRlO3ZlYzIgZXh0cnVkZT12X2V4dHJ1ZGUqcmFkaXVzKnVfZXh0cnVkZV9zY2FsZTt2ZWMyIHRpbGVQb3M9Zmxvb3IoYV9wb3MqMC41KTt2ZWMzIHBvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBwb3Nfbm9ybWFsXzM9YV9wb3Nfbm9ybWFsXzMvMTYzODQuMDttYXQzIHN1cmZhY2VfdmVjdG9ycz1nbG9iZV9tZXJjYXRvcl9zdXJmYWNlX3ZlY3RvcnMocG9zX25vcm1hbF8zLHVfdXBfZGlyLHVfem9vbV90cmFuc2l0aW9uKTt2ZWMzIHN1cmZhY2VfZXh0cnVzaW9uPWV4dHJ1ZGUueCpzdXJmYWNlX3ZlY3RvcnNbMF0rZXh0cnVkZS55KnN1cmZhY2VfdmVjdG9yc1sxXTt2ZWMzIGdsb2JlX2VsZXZhdGlvbj1lbGV2YXRpb25WZWN0b3IodGlsZVBvcykqZWxldmF0aW9uKHRpbGVQb3MpO3ZlYzMgZ2xvYmVfcG9zPWFfcG9zXzMrc3VyZmFjZV9leHRydXNpb24rZ2xvYmVfZWxldmF0aW9uO3ZlYzMgbWVyY2F0b3JfZWxldmF0aW9uPXVfdXBfZGlyKnVfdGlsZV91cF9zY2FsZSplbGV2YXRpb24odGlsZVBvcyk7dmVjMyBtZXJjX3Bvcz1tZXJjYXRvcl90aWxlX3Bvc2l0aW9uKHVfaW52X3JvdF9tYXRyaXgsdGlsZVBvcyx1X3RpbGVfaWQsdV9tZXJjX2NlbnRlcikrc3VyZmFjZV9leHRydXNpb24rbWVyY2F0b3JfZWxldmF0aW9uO3Bvcz1taXhfZ2xvYmVfbWVyY2F0b3IoZ2xvYmVfcG9zLG1lcmNfcG9zLHVfem9vbV90cmFuc2l0aW9uKTtcXG4jZWxzZVxcbnBvcz12ZWMzKHRpbGVQb3MrZXh0cnVkZSxlbGV2YXRpb24odGlsZVBvcykpO1xcbiNlbmRpZlxcbmdsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQocG9zLDEpO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKHBvcyk7XFxuI2VuZGlmXFxufScpLGhlYXRtYXBUZXh0dXJlOkJFKFwidW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt1bmlmb3JtIHNhbXBsZXIyRCB1X2NvbG9yX3JhbXA7dW5pZm9ybSBmbG9hdCB1X29wYWNpdHk7dmFyeWluZyB2ZWMyIHZfcG9zO3ZvaWQgbWFpbigpIHtmbG9hdCB0PXRleHR1cmUyRCh1X2ltYWdlLHZfcG9zKS5yO3ZlYzQgY29sb3I9dGV4dHVyZTJEKHVfY29sb3JfcmFtcCx2ZWMyKHQsMC41KSk7Z2xfRnJhZ0NvbG9yPWNvbG9yKnVfb3BhY2l0eTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMC4wKTtcXG4jZW5kaWZcXG5IQU5ETEVfV0lSRUZSQU1FX0RFQlVHO31cIixcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO3ZhcnlpbmcgdmVjMiB2X3Bvczt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dmVjNChhX3BvcywwLDEpO3ZfcG9zPWFfcG9zKjAuNSswLjU7fVwiKSxjb2xsaXNpb25Cb3g6QkUoXCJ2YXJ5aW5nIGZsb2F0IHZfcGxhY2VkO3ZhcnlpbmcgZmxvYXQgdl9ub3RVc2VkO3ZvaWQgbWFpbigpIHt2ZWM0IHJlZCA9dmVjNCgxLjAsMC4wLDAuMCwxLjApO3ZlYzQgYmx1ZT12ZWM0KDAuMCwwLjAsMS4wLDAuNSk7Z2xfRnJhZ0NvbG9yID1taXgocmVkLGJsdWUsc3RlcCgwLjUsdl9wbGFjZWQpKSowLjU7Z2xfRnJhZ0NvbG9yKj1taXgoMS4wLDAuMSxzdGVwKDAuNSx2X25vdFVzZWQpKTt9XCIsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfdGVycmFpbi52ZXJ0ZXguZ2xzbFwiXFxuYXR0cmlidXRlIHZlYzMgYV9wb3M7YXR0cmlidXRlIHZlYzIgYV9hbmNob3JfcG9zO2F0dHJpYnV0ZSB2ZWMyIGFfZXh0cnVkZTthdHRyaWJ1dGUgdmVjMiBhX3BsYWNlZDthdHRyaWJ1dGUgdmVjMiBhX3NoaWZ0O2F0dHJpYnV0ZSBmbG9hdCBhX3NpemVfc2NhbGU7YXR0cmlidXRlIHZlYzIgYV9wYWRkaW5nO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9leHRydWRlX3NjYWxlO3VuaWZvcm0gZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO3ZhcnlpbmcgZmxvYXQgdl9wbGFjZWQ7dmFyeWluZyBmbG9hdCB2X25vdFVzZWQ7dm9pZCBtYWluKCkge3ZlYzQgcHJvamVjdGVkUG9pbnQ9dV9tYXRyaXgqdmVjNChhX3BvcytlbGV2YXRpb25WZWN0b3IoYV9hbmNob3JfcG9zKSplbGV2YXRpb24oYV9hbmNob3JfcG9zKSwxKTtoaWdocCBmbG9hdCBjYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlPXByb2plY3RlZFBvaW50Lnc7aGlnaHAgZmxvYXQgY29sbGlzaW9uX3BlcnNwZWN0aXZlX3JhdGlvPWNsYW1wKFxcbjAuNSswLjUqKHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZS9jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlKSwwLjAsMS41KTtnbF9Qb3NpdGlvbj1wcm9qZWN0ZWRQb2ludDtnbF9Qb3NpdGlvbi54eSs9KGFfZXh0cnVkZSphX3NpemVfc2NhbGUrYV9zaGlmdCthX3BhZGRpbmcpKnVfZXh0cnVkZV9zY2FsZSpnbF9Qb3NpdGlvbi53KmNvbGxpc2lvbl9wZXJzcGVjdGl2ZV9yYXRpbzt2X3BsYWNlZD1hX3BsYWNlZC54O3Zfbm90VXNlZD1hX3BsYWNlZC55O30nKSxjb2xsaXNpb25DaXJjbGU6QkUoXCJ2YXJ5aW5nIGZsb2F0IHZfcmFkaXVzO3ZhcnlpbmcgdmVjMiB2X2V4dHJ1ZGU7dmFyeWluZyBmbG9hdCB2X3BlcnNwZWN0aXZlX3JhdGlvO3ZhcnlpbmcgZmxvYXQgdl9jb2xsaXNpb247dm9pZCBtYWluKCkge2Zsb2F0IGFscGhhPTAuNSptaW4odl9wZXJzcGVjdGl2ZV9yYXRpbywxLjApO2Zsb2F0IHN0cm9rZV9yYWRpdXM9MC45Km1heCh2X3BlcnNwZWN0aXZlX3JhdGlvLDEuMCk7ZmxvYXQgZGlzdGFuY2VfdG9fY2VudGVyPWxlbmd0aCh2X2V4dHJ1ZGUpO2Zsb2F0IGRpc3RhbmNlX3RvX2VkZ2U9YWJzKGRpc3RhbmNlX3RvX2NlbnRlci12X3JhZGl1cyk7ZmxvYXQgb3BhY2l0eV90PXNtb290aHN0ZXAoLXN0cm9rZV9yYWRpdXMsMC4wLC1kaXN0YW5jZV90b19lZGdlKTt2ZWM0IGNvbG9yPW1peCh2ZWM0KDAuMCwwLjAsMS4wLDAuNSksdmVjNCgxLjAsMC4wLDAuMCwxLjApLHZfY29sbGlzaW9uKTtnbF9GcmFnQ29sb3I9Y29sb3IqYWxwaGEqb3BhY2l0eV90O31cIixcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zXzJmO2F0dHJpYnV0ZSBmbG9hdCBhX3JhZGl1czthdHRyaWJ1dGUgdmVjMiBhX2ZsYWdzO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1hdDQgdV9pbnZfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3ZpZXdwb3J0X3NpemU7dW5pZm9ybSBmbG9hdCB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7dmFyeWluZyBmbG9hdCB2X3JhZGl1czt2YXJ5aW5nIHZlYzIgdl9leHRydWRlO3ZhcnlpbmcgZmxvYXQgdl9wZXJzcGVjdGl2ZV9yYXRpbzt2YXJ5aW5nIGZsb2F0IHZfY29sbGlzaW9uO3ZlYzMgdG9UaWxlUG9zaXRpb24odmVjMiBzY3JlZW5Qb3MpIHt2ZWM0IHJheVN0YXJ0PXVfaW52X21hdHJpeCp2ZWM0KHNjcmVlblBvcywtMS4wLDEuMCk7dmVjNCByYXlFbmQgID11X2ludl9tYXRyaXgqdmVjNChzY3JlZW5Qb3MsIDEuMCwxLjApO3JheVN0YXJ0Lnh5ei89cmF5U3RhcnQudztyYXlFbmQueHl6ICAvPXJheUVuZC53O2hpZ2hwIGZsb2F0IHQ9KDAuMC1yYXlTdGFydC56KS8ocmF5RW5kLnotcmF5U3RhcnQueik7cmV0dXJuIG1peChyYXlTdGFydC54eXoscmF5RW5kLnh5eix0KTt9dm9pZCBtYWluKCkge3ZlYzIgcXVhZENlbnRlclBvcz1hX3Bvc18yZjtmbG9hdCByYWRpdXM9YV9yYWRpdXM7ZmxvYXQgY29sbGlzaW9uPWFfZmxhZ3MueDtmbG9hdCB2ZXJ0ZXhJZHg9YV9mbGFncy55O3ZlYzIgcXVhZFZlcnRleE9mZnNldD12ZWMyKFxcbm1peCgtMS4wLDEuMCxmbG9hdCh2ZXJ0ZXhJZHggPj0yLjApKSxtaXgoLTEuMCwxLjAsZmxvYXQodmVydGV4SWR4ID49MS4wICYmIHZlcnRleElkeCA8PTIuMCkpKTt2ZWMyIHF1YWRWZXJ0ZXhFeHRlbnQ9cXVhZFZlcnRleE9mZnNldCpyYWRpdXM7dmVjMyB0aWxlUG9zPXRvVGlsZVBvc2l0aW9uKHF1YWRDZW50ZXJQb3MpO3ZlYzQgY2xpcFBvcz11X21hdHJpeCp2ZWM0KHRpbGVQb3MsMS4wKTtoaWdocCBmbG9hdCBjYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlPWNsaXBQb3MudztoaWdocCBmbG9hdCBjb2xsaXNpb25fcGVyc3BlY3RpdmVfcmF0aW89Y2xhbXAoXFxuMC41KzAuNSoodV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlL2NhbWVyYV90b19hbmNob3JfZGlzdGFuY2UpLDAuMCw0LjApO2Zsb2F0IHBhZGRpbmdfZmFjdG9yPTEuMjt2X3JhZGl1cz1yYWRpdXM7dl9leHRydWRlPXF1YWRWZXJ0ZXhFeHRlbnQqcGFkZGluZ19mYWN0b3I7dl9wZXJzcGVjdGl2ZV9yYXRpbz1jb2xsaXNpb25fcGVyc3BlY3RpdmVfcmF0aW87dl9jb2xsaXNpb249Y29sbGlzaW9uO2dsX1Bvc2l0aW9uPXZlYzQoY2xpcFBvcy54eXovY2xpcFBvcy53LDEuMCkrdmVjNChxdWFkVmVydGV4RXh0ZW50KnBhZGRpbmdfZmFjdG9yL3Vfdmlld3BvcnRfc2l6ZSoyLjAsMC4wLDAuMCk7fVwiKSxkZWJ1ZzpCRShcInVuaWZvcm0gaGlnaHAgdmVjNCB1X2NvbG9yO3VuaWZvcm0gc2FtcGxlcjJEIHVfb3ZlcmxheTt2YXJ5aW5nIHZlYzIgdl91djt2b2lkIG1haW4oKSB7dmVjNCBvdmVybGF5X2NvbG9yPXRleHR1cmUyRCh1X292ZXJsYXksdl91dik7Z2xfRnJhZ0NvbG9yPW1peCh1X2NvbG9yLG92ZXJsYXlfY29sb3Isb3ZlcmxheV9jb2xvci5hKTt9XCIsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfdGVycmFpbi52ZXJ0ZXguZ2xzbFwiXFxuYXR0cmlidXRlIHZlYzIgYV9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmF0dHJpYnV0ZSB2ZWMzIGFfcG9zXzM7XFxuI2VuZGlmXFxudmFyeWluZyB2ZWMyIHZfdXY7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gZmxvYXQgdV9vdmVybGF5X3NjYWxlO3ZvaWQgbWFpbigpIHtmbG9hdCBoPWVsZXZhdGlvbihhX3Bvcyk7dl91dj1hX3Bvcy84MTkyLjA7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmdsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3NfMytlbGV2YXRpb25WZWN0b3IoYV9wb3MpKmgsMSk7XFxuI2Vsc2VcXG5nbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zKnVfb3ZlcmxheV9zY2FsZSxoLDEpO1xcbiNlbmRpZlxcbn0nKSxmaWxsOkJFKCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX2xpZ2h0aW5nLmdsc2xcIlxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxudW5pZm9ybSBmbG9hdCB1X2VtaXNzaXZlX3N0cmVuZ3RoO3ZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxudmVjNCBvdXRfY29sb3I9Y29sb3I7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5vdXRfY29sb3I9YXBwbHlfbGlnaHRpbmdfd2l0aF9lbWlzc2lvbl9ncm91bmQob3V0X2NvbG9yLHVfZW1pc3NpdmVfc3RyZW5ndGgpO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvcipvcGFjaXR5O1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbkhBTkRMRV9XSVJFRlJBTUVfREVCVUc7fScsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLnZlcnRleC5nbHNsXCJcXG5hdHRyaWJ1dGUgdmVjMiBhX3Bvczt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbmdsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihhX3Bvcyk7XFxuI2VuZGlmXFxufScpLGZpbGxPdXRsaW5lOkJFKCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX2xpZ2h0aW5nLmdsc2xcIlxcbnZhcnlpbmcgdmVjMiB2X3Bvczt1bmlmb3JtIGZsb2F0IHVfZW1pc3NpdmVfc3RyZW5ndGg7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IG91dGxpbmVfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IG91dGxpbmVfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5mbG9hdCBkaXN0PWxlbmd0aCh2X3Bvcy1nbF9GcmFnQ29vcmQueHkpO2Zsb2F0IGFscGhhPTEuMC1zbW9vdGhzdGVwKDAuMCwxLjAsZGlzdCk7dmVjNCBvdXRfY29sb3I9b3V0bGluZV9jb2xvcjtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbm91dF9jb2xvcj1hcHBseV9saWdodGluZ193aXRoX2VtaXNzaW9uX2dyb3VuZChvdXRfY29sb3IsdV9lbWlzc2l2ZV9zdHJlbmd0aCk7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbm91dF9jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKG91dF9jb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG5nbF9GcmFnQ29sb3I9b3V0X2NvbG9yKihhbHBoYSpvcGFjaXR5KTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG5IQU5ETEVfV0lSRUZSQU1FX0RFQlVHO30nLCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy52ZXJ0ZXguZ2xzbFwiXFxuYXR0cmlidXRlIHZlYzIgYV9wb3M7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3dvcmxkO3ZhcnlpbmcgdmVjMiB2X3BvcztcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgb3V0bGluZV9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgb3V0bGluZV9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbmdsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTt2X3Bvcz0oZ2xfUG9zaXRpb24ueHkvZ2xfUG9zaXRpb24udysxLjApLzIuMCp1X3dvcmxkO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGFfcG9zKTtcXG4jZW5kaWZcXG59JyksZmlsbE91dGxpbmVQYXR0ZXJuOkJFKCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX2xpZ2h0aW5nLmdsc2xcIlxcbnVuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt1bmlmb3JtIGZsb2F0IHVfZW1pc3NpdmVfc3RyZW5ndGg7dmFyeWluZyB2ZWMyIHZfcG9zO3ZhcnlpbmcgdmVjMiB2X3Bvc193b3JsZDtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5cXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5cXG52ZWMyIHBhdHRlcm5fdGw9cGF0dGVybi54eTt2ZWMyIHBhdHRlcm5fYnI9cGF0dGVybi56dzt2ZWMyIGltYWdlY29vcmQ9bW9kKHZfcG9zLDEuMCk7dmVjMiBwb3M9bWl4KHBhdHRlcm5fdGwvdV90ZXhzaXplLHBhdHRlcm5fYnIvdV90ZXhzaXplLGltYWdlY29vcmQpO2Zsb2F0IGRpc3Q9bGVuZ3RoKHZfcG9zX3dvcmxkLWdsX0ZyYWdDb29yZC54eSk7ZmxvYXQgYWxwaGE9MS4wLXNtb290aHN0ZXAoMC4wLDEuMCxkaXN0KTt2ZWM0IG91dF9jb2xvcj10ZXh0dXJlMkQodV9pbWFnZSxwb3MpO1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxub3V0X2NvbG9yPWFwcGx5X2xpZ2h0aW5nX3dpdGhfZW1pc3Npb25fZ3JvdW5kKG91dF9jb2xvcix1X2VtaXNzaXZlX3N0cmVuZ3RoKTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1vdXRfY29sb3IqKGFscGhhKm9wYWNpdHkpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbkhBTkRMRV9XSVJFRlJBTUVfREVCVUc7fScsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLnZlcnRleC5nbHNsXCJcXG51bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfd29ybGQ7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfdXBwZXI7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfbG93ZXI7dW5pZm9ybSBmbG9hdCB1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzO2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO3ZhcnlpbmcgdmVjMiB2X3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3Nfd29ybGQ7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb1xcbnZlYzIgcGF0dGVybl90bD1wYXR0ZXJuLnh5O3ZlYzIgcGF0dGVybl9icj1wYXR0ZXJuLnp3O2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTt2ZWMyIGRpc3BsYXlfc2l6ZT0ocGF0dGVybl9ici1wYXR0ZXJuX3RsKS9waXhlbF9yYXRpbzt2X3Bvcz1nZXRfcGF0dGVybl9wb3ModV9waXhlbF9jb29yZF91cHBlcix1X3BpeGVsX2Nvb3JkX2xvd2VyLGRpc3BsYXlfc2l6ZSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzLGFfcG9zKTt2X3Bvc193b3JsZD0oZ2xfUG9zaXRpb24ueHkvZ2xfUG9zaXRpb24udysxLjApLzIuMCp1X3dvcmxkO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGFfcG9zKTtcXG4jZW5kaWZcXG59JyksZmlsbFBhdHRlcm46QkUoJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxudW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3ZhcnlpbmcgdmVjMiB2X3Bvczt1bmlmb3JtIGZsb2F0IHVfZW1pc3NpdmVfc3RyZW5ndGg7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuXFxudmVjMiBwYXR0ZXJuX3RsPXBhdHRlcm4ueHk7dmVjMiBwYXR0ZXJuX2JyPXBhdHRlcm4uenc7dmVjMiBpbWFnZWNvb3JkPW1vZCh2X3BvcywxLjApO3ZlYzIgcG9zPW1peChwYXR0ZXJuX3RsL3VfdGV4c2l6ZSxwYXR0ZXJuX2JyL3VfdGV4c2l6ZSxpbWFnZWNvb3JkKTt2ZWM0IG91dF9jb2xvcj10ZXh0dXJlMkQodV9pbWFnZSxwb3MpO1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxub3V0X2NvbG9yPWFwcGx5X2xpZ2h0aW5nX3dpdGhfZW1pc3Npb25fZ3JvdW5kKG91dF9jb2xvcix1X2VtaXNzaXZlX3N0cmVuZ3RoKTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1vdXRfY29sb3Iqb3BhY2l0eTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG5IQU5ETEVfV0lSRUZSQU1FX0RFQlVHO30nLCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy52ZXJ0ZXguZ2xzbFwiXFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX3VwcGVyO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX2xvd2VyO3VuaWZvcm0gZmxvYXQgdV90aWxlX3VuaXRzX3RvX3BpeGVsczthdHRyaWJ1dGUgdmVjMiBhX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3M7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb1xcbnZlYzIgcGF0dGVybl90bD1wYXR0ZXJuLnh5O3ZlYzIgcGF0dGVybl9icj1wYXR0ZXJuLnp3O3ZlYzIgZGlzcGxheV9zaXplPShwYXR0ZXJuX2JyLXBhdHRlcm5fdGwpL3BpeGVsX3JhdGlvO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTt2X3Bvcz1nZXRfcGF0dGVybl9wb3ModV9waXhlbF9jb29yZF91cHBlcix1X3BpeGVsX2Nvb3JkX2xvd2VyLGRpc3BsYXlfc2l6ZSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzLGFfcG9zKTtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihhX3Bvcyk7XFxuI2VuZGlmXFxufScpLGZpbGxFeHRydXNpb246QkUoJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfc2hhZG93LmZyYWdtZW50Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxudmFyeWluZyB2ZWM0IHZfY29sb3I7XFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxudmFyeWluZyBoaWdocCB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMDt2YXJ5aW5nIGhpZ2hwIHZlYzQgdl9wb3NfbGlnaHRfdmlld18xO3ZhcnlpbmcgZmxvYXQgdl9kZXB0aDtcXG4jZW5kaWZcXG51bmlmb3JtIGxvd3AgZmxvYXQgdV9vcGFjaXR5O1xcbiNpZmRlZiBGQVVYX0FPXFxudW5pZm9ybSBsb3dwIHZlYzIgdV9hbzt2YXJ5aW5nIHZlYzIgdl9hbztcXG4jZW5kaWZcXG4jaWYgZGVmaW5lZChaRVJPX1JPT0ZfUkFESVVTKSAmJiAhZGVmaW5lZChMSUdIVElOR18zRF9NT0RFKVxcbnZhcnlpbmcgdmVjNCB2X3Jvb2ZfY29sb3I7XFxuI2VuZGlmXFxuI2lmIGRlZmluZWQoWkVST19ST09GX1JBRElVUykgfHwgZGVmaW5lZChSRU5ERVJfU0hBRE9XUykgfHwgZGVmaW5lZChMSUdIVElOR18zRF9NT0RFKVxcbnZhcnlpbmcgaGlnaHAgdmVjMyB2X25vcm1hbDtcXG4jZW5kaWZcXG51bmlmb3JtIHZlYzMgdV9mbG9vZF9saWdodF9jb2xvcjt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfdmVydGljYWxfc2NhbGU7dW5pZm9ybSBmbG9hdCB1X2Zsb29kX2xpZ2h0X2ludGVuc2l0eTt1bmlmb3JtIHZlYzMgdV9ncm91bmRfc2hhZG93X2ZhY3RvcjtcXG4jaWYgZGVmaW5lZChMSUdIVElOR18zRF9NT0RFKSAmJiBkZWZpbmVkKEZMT09EX0xJR0hUKVxcbnZhcnlpbmcgZmxvYXQgdl9mbG9vZF9yYWRpdXM7dmFyeWluZyBmbG9hdCB2X2hhc19mbG9vZGxpZ2h0O1xcbiNlbmRpZlxcbnZhcnlpbmcgZmxvYXQgdl9oZWlnaHQ7dm9pZCBtYWluKCkge1xcbiNpZiBkZWZpbmVkKFpFUk9fUk9PRl9SQURJVVMpIHx8IGRlZmluZWQoUkVOREVSX1NIQURPV1MpIHx8IGRlZmluZWQoTElHSFRJTkdfM0RfTU9ERSlcXG52ZWMzIG5vcm1hbD1ub3JtYWxpemUodl9ub3JtYWwpO1xcbiNlbmRpZlxcbmZsb2F0IHo7dmVjNCBjb2xvcj12X2NvbG9yO1xcbiNpZmRlZiBaRVJPX1JPT0ZfUkFESVVTXFxuej1mbG9hdChub3JtYWwueiA+IDAuMDAwMDEpO1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxubm9ybWFsPW1peChub3JtYWwsdmVjMygwLjAsMC4wLDEuMCkseik7XFxuI2Vsc2VcXG5jb2xvcj1taXgodl9jb2xvcix2X3Jvb2ZfY29sb3Iseik7XFxuI2VuZGlmXFxuI2VuZGlmXFxuZmxvYXQgaD1tYXgoMC4wLHZfaGVpZ2h0KTtmbG9hdCBhb19zaGFkZT0xLjA7XFxuI2lmZGVmIEZBVVhfQU9cXG5mbG9hdCBpbnRlbnNpdHk9dV9hb1swXTtmbG9hdCBoX2Zsb29ycz1oLyh1X2FvWzFdKnVfdmVydGljYWxfc2NhbGUpO2Zsb2F0IHlfc2hhZGU9MS4wLTAuOSppbnRlbnNpdHkqbWluKHZfYW8ueSwxLjApO2FvX3NoYWRlPSgxLjAtMC4wOCppbnRlbnNpdHkpKih5X3NoYWRlKygxLjAteV9zaGFkZSkqKDEuMC1wb3coMS4wLW1pbihoX2Zsb29ycy8xNi4wLDEuMCksMTYuMCkpKSswLjA4KmludGVuc2l0eSptaW4oaF9mbG9vcnMvMTYwLjAsMS4wKTtmbG9hdCBjb25jYXZlPXZfYW8ueCp2X2FvLng7XFxuI2lmZGVmIFpFUk9fUk9PRl9SQURJVVNcXG5jb25jYXZlKj0oMS4wLXopO1xcbiNlbmRpZlxcbmZsb2F0IHhfc2hhZGU9bWl4KDEuMCxtaXgoMC42LDAuNzUsbWluKGhfZmxvb3JzLzMwLjAsMS4wKSksaW50ZW5zaXR5KSswLjEqaW50ZW5zaXR5Km1pbihoLDEuMCk7YW9fc2hhZGUqPW1peCgxLjAseF9zaGFkZSp4X3NoYWRlKnhfc2hhZGUsY29uY2F2ZSk7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG4jaWZkZWYgRkxPT0RfTElHSFRcXG5jb2xvci5yZ2IqPW1peChhb19zaGFkZSwxLjAsdl9oYXNfZmxvb2RsaWdodCk7XFxuI2Vsc2VcXG5jb2xvci5yZ2IqPWFvX3NoYWRlO1xcbiNlbmRpZlxcbiNlbHNlXFxuY29sb3IucmdiKj1hb19zaGFkZTtcXG4jZW5kaWZcXG4jZW5kaWZcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbmZsb2F0IGZsb29kX3JhZGlhbmNlPTAuMDtcXG4jaWZkZWYgRkxPT0RfTElHSFRcXG5mbG9vZF9yYWRpYW5jZT0oMS4wLW1pbihoL3ZfZmxvb2RfcmFkaXVzLDEuMCkpKnVfZmxvb2RfbGlnaHRfaW50ZW5zaXR5KnZfaGFzX2Zsb29kbGlnaHQ7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxuI2lmZGVmIEZMT09EX0xJR0hUXFxuZmxvYXQgbmRvdGxfdW5jbGFtcGVkPWRvdChub3JtYWwsdV9zaGFkb3dfZGlyZWN0aW9uKTtmbG9hdCBuZG90bD1tYXgoMC4wLG5kb3RsX3VuY2xhbXBlZCk7ZmxvYXQgb2NjbHVzaW9uPW5kb3RsX3VuY2xhbXBlZCA8IDAuMCA/IDEuMCA6IHNoYWRvd19vY2NsdXNpb24obmRvdGwsdl9wb3NfbGlnaHRfdmlld18wLHZfcG9zX2xpZ2h0X3ZpZXdfMSx2X2RlcHRoKTt2ZWMzIGxpdENvbG9yPWFwcGx5X2xpZ2h0aW5nKGNvbG9yLnJnYixub3JtYWwsKDEuMC11X3NoYWRvd19pbnRlbnNpdHkqb2NjbHVzaW9uKSpuZG90bCk7dmVjMyBmbG9vZExpdENvbG9yPWNvbXB1dGVfZmxvb2RfbGlnaHRpbmcodV9mbG9vZF9saWdodF9jb2xvcip1X29wYWNpdHksMS4wLXVfc2hhZG93X2ludGVuc2l0eSxvY2NsdXNpb24sdV9ncm91bmRfc2hhZG93X2ZhY3Rvcik7Y29sb3IucmdiPW1peChsaXRDb2xvcixmbG9vZExpdENvbG9yLGZsb29kX3JhZGlhbmNlKTtcXG4jZWxzZVxcbmZsb2F0IHNoYWRvd2VkX2xpZ2h0aW5nX2ZhY3Rvcj1zaGFkb3dlZF9saWdodF9mYWN0b3Jfbm9ybWFsKG5vcm1hbCx2X3Bvc19saWdodF92aWV3XzAsdl9wb3NfbGlnaHRfdmlld18xLHZfZGVwdGgpO2NvbG9yLnJnYj1hcHBseV9saWdodGluZyhjb2xvci5yZ2Isbm9ybWFsLHNoYWRvd2VkX2xpZ2h0aW5nX2ZhY3Rvcik7XFxuI2VuZGlmXFxuI2Vsc2VcXG5jb2xvci5yZ2I9YXBwbHlfbGlnaHRpbmcoY29sb3IucmdiLG5vcm1hbCk7XFxuI2lmZGVmIEZMT09EX0xJR0hUXFxuY29sb3IucmdiPW1peChjb2xvci5yZ2IsdV9mbG9vZF9saWdodF9jb2xvcip1X29wYWNpdHksZmxvb2RfcmFkaWFuY2UpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbmNvbG9yKj11X29wYWNpdHk7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbmNvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQoY29sb3Isdl9mb2dfcG9zLGgpKTtcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX0NVVE9GRlxcbmNvbG9yKj12X2N1dG9mZl9vcGFjaXR5O1xcbiNlbmRpZlxcbiNpZmRlZiBJTkRJQ0FUT1JfQ1VUT1VUXFxuY29sb3I9YXBwbHlDdXRvdXQoY29sb3IpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1jb2xvcjtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG5IQU5ETEVfV0lSRUZSQU1FX0RFQlVHO30nLCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy52ZXJ0ZXguZ2xzbFwiXFxuI2luY2x1ZGUgXCJfcHJlbHVkZV90ZXJyYWluLnZlcnRleC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX3NoYWRvdy52ZXJ0ZXguZ2xzbFwiXFxuI2luY2x1ZGUgXCJfcHJlbHVkZV9saWdodGluZy5nbHNsXCJcXG4jaWYgX19WRVJTSU9OX18gPj0zMDBcXG4jaWZkZWYgUkVOREVSX0NVVE9GRlxcbmludmFyaWFudCBnbF9Qb3NpdGlvbjtcXG4jZW5kaWZcXG4jZW5kaWZcXG51bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMzIHVfbGlnaHRjb2xvcjt1bmlmb3JtIGxvd3AgdmVjMyB1X2xpZ2h0cG9zO3VuaWZvcm0gbG93cCBmbG9hdCB1X2xpZ2h0aW50ZW5zaXR5O3VuaWZvcm0gZmxvYXQgdV92ZXJ0aWNhbF9ncmFkaWVudDt1bmlmb3JtIGxvd3AgZmxvYXQgdV9vcGFjaXR5O3VuaWZvcm0gZmxvYXQgdV9lZGdlX3JhZGl1czthdHRyaWJ1dGUgdmVjNCBhX3Bvc19ub3JtYWxfZWQ7YXR0cmlidXRlIHZlYzIgYV9jZW50cm9pZF9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmF0dHJpYnV0ZSB2ZWMzIGFfcG9zXzM7YXR0cmlidXRlIHZlYzMgYV9wb3Nfbm9ybWFsXzM7dW5pZm9ybSBtYXQ0IHVfaW52X3JvdF9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfbWVyY19jZW50ZXI7dW5pZm9ybSB2ZWMzIHVfdGlsZV9pZDt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMyB1X3VwX2Rpcjt1bmlmb3JtIGZsb2F0IHVfaGVpZ2h0X2xpZnQ7XFxuI2VuZGlmXFxudW5pZm9ybSBoaWdocCBmbG9hdCB1X3ZlcnRpY2FsX3NjYWxlO3ZhcnlpbmcgdmVjNCB2X2NvbG9yO1xcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnVuaWZvcm0gbWF0NCB1X2xpZ2h0X21hdHJpeF8wO3VuaWZvcm0gbWF0NCB1X2xpZ2h0X21hdHJpeF8xO3ZhcnlpbmcgaGlnaHAgdmVjNCB2X3Bvc19saWdodF92aWV3XzA7dmFyeWluZyBoaWdocCB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMTt2YXJ5aW5nIGZsb2F0IHZfZGVwdGg7XFxuI2VuZGlmXFxuI2lmIGRlZmluZWQoWkVST19ST09GX1JBRElVUykgJiYgIWRlZmluZWQoTElHSFRJTkdfM0RfTU9ERSlcXG52YXJ5aW5nIHZlYzQgdl9yb29mX2NvbG9yO1xcbiNlbmRpZlxcbiNpZiBkZWZpbmVkKFpFUk9fUk9PRl9SQURJVVMpIHx8IGRlZmluZWQoUkVOREVSX1NIQURPV1MpIHx8IGRlZmluZWQoTElHSFRJTkdfM0RfTU9ERSlcXG52YXJ5aW5nIGhpZ2hwIHZlYzMgdl9ub3JtYWw7XFxuI2VuZGlmXFxuI2lmZGVmIEZBVVhfQU9cXG51bmlmb3JtIGxvd3AgdmVjMiB1X2FvO3ZhcnlpbmcgdmVjMiB2X2FvO1xcbiNlbmRpZlxcbiNpZiBkZWZpbmVkKExJR0hUSU5HXzNEX01PREUpICYmIGRlZmluZWQoRkxPT0RfTElHSFQpXFxudmFyeWluZyBmbG9hdCB2X2Zsb29kX3JhZGl1czt2YXJ5aW5nIGZsb2F0IHZfaGFzX2Zsb29kbGlnaHQ7XFxuI2VuZGlmXFxudmFyeWluZyBmbG9hdCB2X2hlaWdodDtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IGJhc2VcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IGhlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgZmxvYXQgZmxvb2RfbGlnaHRfd2FsbF9yYWRpdXNcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIGZsb2F0IGhlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCBmbG9hdCBmbG9vZF9saWdodF93YWxsX3JhZGl1c1xcbmJhc2UqPXVfdmVydGljYWxfc2NhbGU7aGVpZ2h0Kj11X3ZlcnRpY2FsX3NjYWxlO3ZlYzQgcG9zX254PWZsb29yKGFfcG9zX25vcm1hbF9lZCowLjUpO3ZlYzQgdG9wX3VwX255X3N0YXJ0PWFfcG9zX25vcm1hbF9lZC0yLjAqcG9zX254O3ZlYzMgdG9wX3VwX255PXRvcF91cF9ueV9zdGFydC54eXo7ZmxvYXQgeF9ub3JtYWw9cG9zX254LnovODE5Mi4wO3ZlYzMgbm9ybWFsPXRvcF91cF9ueS55PT0xLjAgPyB2ZWMzKDAuMCwwLjAsMS4wKSA6IG5vcm1hbGl6ZSh2ZWMzKHhfbm9ybWFsLCgyLjAqdG9wX3VwX255LnotMS4wKSooMS4wLWFicyh4X25vcm1hbCkpLDAuMCkpO1xcbiNpZiBkZWZpbmVkKFpFUk9fUk9PRl9SQURJVVMpIHx8IGRlZmluZWQoUkVOREVSX1NIQURPV1MpIHx8IGRlZmluZWQoTElHSFRJTkdfM0RfTU9ERSlcXG52X25vcm1hbD1ub3JtYWw7XFxuI2VuZGlmXFxuYmFzZT1tYXgoMC4wLGJhc2UpO2hlaWdodD1tYXgoMC4wLHRvcF91cF9ueS55PT0wLjAgJiYgdG9wX3VwX255Lng9PTEuMCA/IGhlaWdodC11X2VkZ2VfcmFkaXVzIDogaGVpZ2h0KTtmbG9hdCB0PXRvcF91cF9ueS54O3ZlYzIgY2VudHJvaWRfcG9zPXZlYzIoMC4wKTtcXG4jaWYgZGVmaW5lZChIQVNfQ0VOVFJPSUQpIHx8IGRlZmluZWQoVEVSUkFJTilcXG5jZW50cm9pZF9wb3M9YV9jZW50cm9pZF9wb3M7XFxuI2VuZGlmXFxuZmxvYXQgZWxlPTAuMDtmbG9hdCBoPTAuMDtmbG9hdCBjX2VsZTt2ZWMzIHBvcztcXG4jaWZkZWYgVEVSUkFJTlxcbmJvb2wgZmxhdF9yb29mPWNlbnRyb2lkX3Bvcy54ICE9MC4wICYmIHQgPiAwLjA7ZWxlPWVsZXZhdGlvbihwb3NfbngueHkpO2NfZWxlPWZsYXRfcm9vZiA/IGNlbnRyb2lkX3Bvcy55PT0wLjAgPyBlbGV2YXRpb25Gcm9tVWludDE2KGNlbnRyb2lkX3Bvcy54KSA6IGZsYXRFbGV2YXRpb24oY2VudHJvaWRfcG9zKSA6IGVsZTtoPWZsYXRfcm9vZiA/IG1heChjX2VsZStoZWlnaHQsZWxlK2Jhc2UrMi4wKSA6IGVsZSsodCA+IDAuMCA/IGhlaWdodCA6IGJhc2U9PTAuMCA/LTUuMCA6IGJhc2UpO3Bvcz12ZWMzKHBvc19ueC54eSxoKTtcXG4jZWxzZVxcbmg9dCA+IDAuMCA/IGhlaWdodCA6IGJhc2U7cG9zPXZlYzMocG9zX254Lnh5LGgpO1xcbiNlbmRpZlxcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5mbG9hdCBsaWZ0PWZsb2F0KCh0K2Jhc2UpID4gMC4wKSp1X2hlaWdodF9saWZ0O2grPWxpZnQ7dmVjMyBnbG9iZV9ub3JtYWw9bm9ybWFsaXplKG1peChhX3Bvc19ub3JtYWxfMy8xNjM4NC4wLHVfdXBfZGlyLHVfem9vbV90cmFuc2l0aW9uKSk7dmVjMyBnbG9iZV9wb3M9YV9wb3NfMytnbG9iZV9ub3JtYWwqKHVfdGlsZV91cF9zY2FsZSpoKTt2ZWMzIG1lcmNfcG9zPW1lcmNhdG9yX3RpbGVfcG9zaXRpb24odV9pbnZfcm90X21hdHJpeCxwb3MueHksdV90aWxlX2lkLHVfbWVyY19jZW50ZXIpK3VfdXBfZGlyKnVfdGlsZV91cF9zY2FsZSpwb3Muejtwb3M9bWl4X2dsb2JlX21lcmNhdG9yKGdsb2JlX3BvcyxtZXJjX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7XFxuI2VuZGlmXFxuZmxvYXQgaGlkZGVuPWZsb2F0KGNlbnRyb2lkX3Bvcy54PT0wLjAgJiYgY2VudHJvaWRfcG9zLnk9PTEuMCk7Z2xfUG9zaXRpb249bWl4KHVfbWF0cml4KnZlYzQocG9zLDEpLEFXQVksaGlkZGVuKTtoPWgtZWxlO3ZfaGVpZ2h0PWg7XFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxudmVjMyBzaGRfcG9zMD1wb3M7dmVjMyBzaGRfcG9zMT1wb3M7XFxuI2lmZGVmIE5PUk1BTF9PRkZTRVRcXG52ZWMzIG9mZnNldD1zaGFkb3dfbm9ybWFsX29mZnNldChub3JtYWwpO3NoZF9wb3MwKz1vZmZzZXQqc2hhZG93X25vcm1hbF9vZmZzZXRfbXVsdGlwbGllcjAoKTtzaGRfcG9zMSs9b2Zmc2V0KnNoYWRvd19ub3JtYWxfb2Zmc2V0X211bHRpcGxpZXIxKCk7XFxuI2VuZGlmXFxudl9wb3NfbGlnaHRfdmlld18wPXVfbGlnaHRfbWF0cml4XzAqdmVjNChzaGRfcG9zMCwxKTt2X3Bvc19saWdodF92aWV3XzE9dV9saWdodF9tYXRyaXhfMSp2ZWM0KHNoZF9wb3MxLDEpO3ZfZGVwdGg9Z2xfUG9zaXRpb24udztcXG4jZW5kaWZcXG5mbG9hdCBOZG90TD0wLjA7ZmxvYXQgY29sb3J2YWx1ZT0wLjA7XFxuI2lmbmRlZiBMSUdIVElOR18zRF9NT0RFXFxuY29sb3J2YWx1ZT1jb2xvci5yKjAuMjEyNitjb2xvci5nKjAuNzE1Mitjb2xvci5iKjAuMDcyMjt2ZWM0IGFtYmllbnRsaWdodD12ZWM0KDAuMDMsMC4wMywwLjAzLDEuMCk7Y29sb3IrPWFtYmllbnRsaWdodDtOZG90TD1jbGFtcChkb3Qobm9ybWFsLHVfbGlnaHRwb3MpLDAuMCwxLjApO05kb3RMPW1peCgoMS4wLXVfbGlnaHRpbnRlbnNpdHkpLG1heCgoMS4wLWNvbG9ydmFsdWUrdV9saWdodGludGVuc2l0eSksMS4wKSxOZG90TCk7aWYgKG5vcm1hbC55ICE9MC4wKSB7ZmxvYXQgcj0wLjg0O3I9bWl4KDAuNywwLjk4LDEuMC11X2xpZ2h0aW50ZW5zaXR5KTtOZG90TCo9KFxcbigxLjAtdV92ZXJ0aWNhbF9ncmFkaWVudCkrKHVfdmVydGljYWxfZ3JhZGllbnQqY2xhbXAoKHQrYmFzZSkqcG93KGhlaWdodC8xNTAuMCwwLjUpLHIsMS4wKSkpO31cXG4jZW5kaWZcXG4jaWZkZWYgRkFVWF9BT1xcbmZsb2F0IGNvbmNhdmU9cG9zX254LnctZmxvb3IocG9zX254LncqMC41KSoyLjA7ZmxvYXQgc3RhcnQ9dG9wX3VwX255X3N0YXJ0Lnc7ZmxvYXQgeV9ncm91bmQ9MS4wLWNsYW1wKHQrYmFzZSwwLjAsMS4wKTtmbG9hdCB0b3BfaGVpZ2h0PWhlaWdodDtcXG4jaWZkZWYgVEVSUkFJTlxcbnRvcF9oZWlnaHQ9bWl4KG1heChjX2VsZStoZWlnaHQsZWxlK2Jhc2UrMi4wKSxlbGUraGVpZ2h0LGZsb2F0KGNlbnRyb2lkX3Bvcy54PT0wLjApKS1lbGU7eV9ncm91bmQrPXlfZ3JvdW5kKjUuMC9tYXgoMy4wLHRvcF9oZWlnaHQpO1xcbiNlbmRpZlxcbnZfYW89dmVjMihtaXgoY29uY2F2ZSwtY29uY2F2ZSxzdGFydCkseV9ncm91bmQpO05kb3RMKj0oMS4wKzAuMDUqKDEuMC10b3BfdXBfbnkueSkqdV9hb1swXSk7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnRvcF9oZWlnaHQrPXVfaGVpZ2h0X2xpZnQ7XFxuI2VuZGlmXFxuZ2xfUG9zaXRpb24uei09KDAuMDAwMDAwNioobWluKHRvcF9oZWlnaHQsNTAwLikrMi4wKm1pbihiYXNlLDUwMC4wKSs2MC4wKmNvbmNhdmUrMy4wKnN0YXJ0KSkqZ2xfUG9zaXRpb24udztcXG4jZW5kaWZcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbiNpZmRlZiBGTE9PRF9MSUdIVFxcbmZsb2F0IGlzX3dhbGw9MS4wLWZsb2F0KHQgPiAwLjAgJiYgdG9wX3VwX255LnkgPiAwLjApO3ZfaGFzX2Zsb29kbGlnaHQ9ZmxvYXQoZmxvb2RfbGlnaHRfd2FsbF9yYWRpdXMgPiAwLjAgJiYgaXNfd2FsbCA+IDAuMCk7dl9mbG9vZF9yYWRpdXM9Zmxvb2RfbGlnaHRfd2FsbF9yYWRpdXMqdV92ZXJ0aWNhbF9zY2FsZTtcXG4jZW5kaWZcXG52X2NvbG9yPXZlYzQoY29sb3IucmdiLDEuMCk7XFxuI2Vsc2VcXG52X2NvbG9yPXZlYzQoMC4wLDAuMCwwLjAsMS4wKTt2X2NvbG9yLnJnYis9Y2xhbXAoY29sb3IucmdiKk5kb3RMKnVfbGlnaHRjb2xvcixtaXgodmVjMygwLjApLHZlYzMoMC4zKSwxLjAtdV9saWdodGNvbG9yKSx2ZWMzKDEuMCkpO3ZfY29sb3IqPXVfb3BhY2l0eTtcXG4jZW5kaWZcXG4jaWYgZGVmaW5lZChaRVJPX1JPT0ZfUkFESVVTKSAmJiAhZGVmaW5lZChMSUdIVElOR18zRF9NT0RFKVxcbmZsb2F0IHJvb2ZOZG90TD1jbGFtcCh1X2xpZ2h0cG9zLnosMC4wLDEuMCk7cm9vZk5kb3RMPW1peCgoMS4wLXVfbGlnaHRpbnRlbnNpdHkpLG1heCgoMS4wLWNvbG9ydmFsdWUrdV9saWdodGludGVuc2l0eSksMS4wKSxyb29mTmRvdEwpO3Zfcm9vZl9jb2xvcj12ZWM0KDAuMCwwLjAsMC4wLDEuMCk7dl9yb29mX2NvbG9yLnJnYis9Y2xhbXAoY29sb3IucmdiKnJvb2ZOZG90TCp1X2xpZ2h0Y29sb3IsbWl4KHZlYzMoMC4wKSx2ZWMzKDAuMyksMS4wLXVfbGlnaHRjb2xvciksdmVjMygxLjApKTt2X3Jvb2ZfY29sb3IqPXVfb3BhY2l0eTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihwb3MpO1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfQ1VUT0ZGXFxudl9jdXRvZmZfb3BhY2l0eT1jdXRvZmZfb3BhY2l0eSh1X2N1dG9mZl9wYXJhbXMsZ2xfUG9zaXRpb24ueik7XFxuI2VuZGlmXFxufScpLGZpbGxFeHRydXNpb25EZXB0aDpCRShcInZhcnlpbmcgaGlnaHAgZmxvYXQgdl9kZXB0aDt2b2lkIG1haW4oKSB7XFxuI2lmbmRlZiBERVBUSF9URVhUVVJFXFxuZ2xfRnJhZ0NvbG9yPXBhY2tfZGVwdGgodl9kZXB0aCk7XFxuI2VuZGlmXFxufVwiLCcjaW5jbHVkZSBcIl9wcmVsdWRlX3RlcnJhaW4udmVydGV4Lmdsc2xcIlxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIGZsb2F0IHVfZWRnZV9yYWRpdXM7dW5pZm9ybSBmbG9hdCB1X3ZlcnRpY2FsX3NjYWxlO2F0dHJpYnV0ZSB2ZWM0IGFfcG9zX25vcm1hbF9lZDthdHRyaWJ1dGUgdmVjMiBhX2NlbnRyb2lkX3BvcztcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IGJhc2VcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IGhlaWdodFxcbnZhcnlpbmcgaGlnaHAgZmxvYXQgdl9kZXB0aDt2b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIGZsb2F0IGhlaWdodFxcbmJhc2UqPXVfdmVydGljYWxfc2NhbGU7aGVpZ2h0Kj11X3ZlcnRpY2FsX3NjYWxlO3ZlYzMgcG9zX254PWZsb29yKGFfcG9zX25vcm1hbF9lZC54eXoqMC41KTttZWRpdW1wIHZlYzMgdG9wX3VwX255PWFfcG9zX25vcm1hbF9lZC54eXotMi4wKnBvc19ueDtiYXNlPW1heCgwLjAsYmFzZSk7aGVpZ2h0PW1heCgwLjAsdG9wX3VwX255Lnk9PTAuMCAmJiB0b3BfdXBfbnkueD09MS4wID8gaGVpZ2h0LXVfZWRnZV9yYWRpdXMgOiBoZWlnaHQpO2Zsb2F0IHQ9dG9wX3VwX255Lng7dmVjMiBjZW50cm9pZF9wb3M9dmVjMigwLjApO1xcbiNpZiBkZWZpbmVkKEhBU19DRU5UUk9JRCkgfHwgZGVmaW5lZChURVJSQUlOKVxcbmNlbnRyb2lkX3Bvcz1hX2NlbnRyb2lkX3BvcztcXG4jZW5kaWZcXG52ZWMzIHBvcztcXG4jaWZkZWYgVEVSUkFJTlxcbmJvb2wgZmxhdF9yb29mPWNlbnRyb2lkX3Bvcy54ICE9MC4wICYmIHQgPiAwLjA7ZmxvYXQgZWxlPWVsZXZhdGlvbihwb3NfbngueHkpO2Zsb2F0IGNfZWxlPWZsYXRfcm9vZiA/IGNlbnRyb2lkX3Bvcy55PT0wLjAgPyBlbGV2YXRpb25Gcm9tVWludDE2KGNlbnRyb2lkX3Bvcy54KSA6IGZsYXRFbGV2YXRpb24oY2VudHJvaWRfcG9zKSA6IGVsZTtmbG9hdCBoPWZsYXRfcm9vZiA/IG1heChjX2VsZStoZWlnaHQsZWxlK2Jhc2UrMi4wKSA6IGVsZSsodCA+IDAuMCA/IGhlaWdodCA6IGJhc2UpO3Bvcz12ZWMzKHBvc19ueC54eSxoKTtcXG4jZWxzZVxcbnBvcz12ZWMzKHBvc19ueC54eSx0ID4gMC4wID8gaGVpZ2h0IDogYmFzZSk7XFxuI2VuZGlmXFxuZmxvYXQgaGlkZGVuPWZsb2F0KGNlbnRyb2lkX3Bvcy54PT0wLjAgJiYgY2VudHJvaWRfcG9zLnk9PTEuMCk7Z2xfUG9zaXRpb249bWl4KHVfbWF0cml4KnZlYzQocG9zLDEpLEFXQVksaGlkZGVuKTt2X2RlcHRoPWdsX1Bvc2l0aW9uLnovZ2xfUG9zaXRpb24udzt9JyksZmlsbEV4dHJ1c2lvblBhdHRlcm46QkUoJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxudW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO1xcbiNpZmRlZiBGQVVYX0FPXFxudW5pZm9ybSBsb3dwIHZlYzIgdV9hbzt2YXJ5aW5nIHZlYzMgdl9hbztcXG4jZW5kaWZcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbnZhcnlpbmcgdmVjMyB2X25vcm1hbDtcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzIgdl9wb3M7dmFyeWluZyB2ZWM0IHZfbGlnaHRpbmc7dW5pZm9ybSBsb3dwIGZsb2F0IHVfb3BhY2l0eTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IGJhc2VcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IGhlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IHBpeGVsX3JhdGlvXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIGZsb2F0IGJhc2VcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCBmbG9hdCBoZWlnaHRcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVyblxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIGZsb2F0IHBpeGVsX3JhdGlvXFxudmVjMiBwYXR0ZXJuX3RsPXBhdHRlcm4ueHk7dmVjMiBwYXR0ZXJuX2JyPXBhdHRlcm4uenc7dmVjMiBpbWFnZWNvb3JkPW1vZCh2X3BvcywxLjApO3ZlYzIgcG9zPW1peChwYXR0ZXJuX3RsL3VfdGV4c2l6ZSxwYXR0ZXJuX2JyL3VfdGV4c2l6ZSxpbWFnZWNvb3JkKTt2ZWM0IG91dF9jb2xvcj10ZXh0dXJlMkQodV9pbWFnZSxwb3MpO1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxub3V0X2NvbG9yPWFwcGx5X2xpZ2h0aW5nKG91dF9jb2xvcixub3JtYWxpemUodl9ub3JtYWwpKSp1X29wYWNpdHk7XFxuI2Vsc2VcXG5vdXRfY29sb3I9b3V0X2NvbG9yKnZfbGlnaHRpbmc7XFxuI2VuZGlmXFxuI2lmZGVmIEZBVVhfQU9cXG5mbG9hdCBpbnRlbnNpdHk9dV9hb1swXTtmbG9hdCBoPW1heCgwLjAsdl9hby56KTtmbG9hdCBoX2Zsb29ycz1oL3VfYW9bMV07ZmxvYXQgeV9zaGFkZT0xLjAtMC45KmludGVuc2l0eSptaW4odl9hby55LDEuMCk7ZmxvYXQgc2hhZGU9KDEuMC0wLjA4KmludGVuc2l0eSkqKHlfc2hhZGUrKDEuMC15X3NoYWRlKSooMS4wLXBvdygxLjAtbWluKGhfZmxvb3JzLzE2LjAsMS4wKSwxNi4wKSkpKzAuMDgqaW50ZW5zaXR5Km1pbihoX2Zsb29ycy8xNjAuMCwxLjApO2Zsb2F0IGNvbmNhdmU9dl9hby54KnZfYW8ueDtmbG9hdCB4X3NoYWRlPW1peCgxLjAsbWl4KDAuNiwwLjc1LG1pbihoX2Zsb29ycy8zMC4wLDEuMCkpLGludGVuc2l0eSkrMC4xKmludGVuc2l0eSptaW4oaCwxLjApO3NoYWRlKj1taXgoMS4wLHhfc2hhZGUqeF9zaGFkZSp4X3NoYWRlLGNvbmNhdmUpO291dF9jb2xvci5yZ2I9b3V0X2NvbG9yLnJnYipzaGFkZTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbiNpZmRlZiBJTkRJQ0FUT1JfQ1VUT1VUXFxub3V0X2NvbG9yPWFwcGx5Q3V0b3V0KG91dF9jb2xvcik7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvcjtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG5IQU5ETEVfV0lSRUZSQU1FX0RFQlVHO30nLCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy52ZXJ0ZXguZ2xzbFwiXFxuI2luY2x1ZGUgXCJfcHJlbHVkZV90ZXJyYWluLnZlcnRleC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX2xpZ2h0aW5nLmdsc2xcIlxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF91cHBlcjt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF9sb3dlcjt1bmlmb3JtIGZsb2F0IHVfaGVpZ2h0X2ZhY3Rvcjt1bmlmb3JtIGZsb2F0IHVfdGlsZV91bml0c190b19waXhlbHM7dW5pZm9ybSBmbG9hdCB1X3ZlcnRpY2FsX2dyYWRpZW50O3VuaWZvcm0gbG93cCBmbG9hdCB1X29wYWNpdHk7dW5pZm9ybSB2ZWMzIHVfbGlnaHRjb2xvcjt1bmlmb3JtIGxvd3AgdmVjMyB1X2xpZ2h0cG9zO3VuaWZvcm0gbG93cCBmbG9hdCB1X2xpZ2h0aW50ZW5zaXR5O2F0dHJpYnV0ZSB2ZWM0IGFfcG9zX25vcm1hbF9lZDthdHRyaWJ1dGUgdmVjMiBhX2NlbnRyb2lkX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuYXR0cmlidXRlIHZlYzMgYV9wb3NfMzthdHRyaWJ1dGUgdmVjMyBhX3Bvc19ub3JtYWxfMzt1bmlmb3JtIG1hdDQgdV9pbnZfcm90X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9tZXJjX2NlbnRlcjt1bmlmb3JtIHZlYzMgdV90aWxlX2lkO3VuaWZvcm0gZmxvYXQgdV96b29tX3RyYW5zaXRpb247dW5pZm9ybSB2ZWMzIHVfdXBfZGlyO3VuaWZvcm0gZmxvYXQgdV9oZWlnaHRfbGlmdDtcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzIgdl9wb3M7dmFyeWluZyB2ZWM0IHZfbGlnaHRpbmc7XFxuI2lmZGVmIEZBVVhfQU9cXG51bmlmb3JtIGxvd3AgdmVjMiB1X2FvO3ZhcnlpbmcgdmVjMyB2X2FvO1xcbiNlbmRpZlxcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxudmFyeWluZyB2ZWMzIHZfbm9ybWFsO1xcbiNlbmRpZlxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgZmxvYXQgaGVpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIHZlYzQgcGF0dGVyblxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgZmxvYXQgcGl4ZWxfcmF0aW9cXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIGZsb2F0IGhlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgcGl4ZWxfcmF0aW9cXG52ZWMyIHBhdHRlcm5fdGw9cGF0dGVybi54eTt2ZWMyIHBhdHRlcm5fYnI9cGF0dGVybi56dzt2ZWM0IHBvc19ueD1mbG9vcihhX3Bvc19ub3JtYWxfZWQqMC41KTttZWRpdW1wIHZlYzQgdG9wX3VwX255X3N0YXJ0PWFfcG9zX25vcm1hbF9lZC0yLjAqcG9zX254O21lZGl1bXAgdmVjMyB0b3BfdXBfbnk9dG9wX3VwX255X3N0YXJ0Lnh5ejtmbG9hdCB4X25vcm1hbD1wb3Nfbnguei84MTkyLjA7dmVjMyBub3JtYWw9dG9wX3VwX255Lnk9PTEuMCA/IHZlYzMoMC4wLDAuMCwxLjApIDogbm9ybWFsaXplKHZlYzMoeF9ub3JtYWwsKDIuMCp0b3BfdXBfbnkuei0xLjApKigxLjAtYWJzKHhfbm9ybWFsKSksMC4wKSk7ZmxvYXQgZWRnZWRpc3RhbmNlPWFfcG9zX25vcm1hbF9lZC53O3ZlYzIgZGlzcGxheV9zaXplPShwYXR0ZXJuX2JyLXBhdHRlcm5fdGwpL3BpeGVsX3JhdGlvO2Jhc2U9bWF4KDAuMCxiYXNlKTtoZWlnaHQ9bWF4KDAuMCxoZWlnaHQpO2Zsb2F0IHQ9dG9wX3VwX255Lng7ZmxvYXQgej10ID4gMC4wID8gaGVpZ2h0IDogYmFzZTt2ZWMyIGNlbnRyb2lkX3Bvcz12ZWMyKDAuMCk7XFxuI2lmIGRlZmluZWQoSEFTX0NFTlRST0lEKSB8fCBkZWZpbmVkKFRFUlJBSU4pXFxuY2VudHJvaWRfcG9zPWFfY2VudHJvaWRfcG9zO1xcbiNlbmRpZlxcbmZsb2F0IGVsZT0wLjA7ZmxvYXQgaD16O3ZlYzMgcDtmbG9hdCBjX2VsZTtcXG4jaWZkZWYgVEVSUkFJTlxcbmJvb2wgZmxhdF9yb29mPWNlbnRyb2lkX3Bvcy54ICE9MC4wICYmIHQgPiAwLjA7ZWxlPWVsZXZhdGlvbihwb3NfbngueHkpO2NfZWxlPWZsYXRfcm9vZiA/IGNlbnRyb2lkX3Bvcy55PT0wLjAgPyBlbGV2YXRpb25Gcm9tVWludDE2KGNlbnRyb2lkX3Bvcy54KSA6IGZsYXRFbGV2YXRpb24oY2VudHJvaWRfcG9zKSA6IGVsZTtoPWZsYXRfcm9vZiA/IG1heChjX2VsZStoZWlnaHQsZWxlK2Jhc2UrMi4wKSA6IGVsZSsodCA+IDAuMCA/IGhlaWdodCA6IGJhc2U9PTAuMCA/LTUuMCA6IGJhc2UpO3A9dmVjMyhwb3NfbngueHksaCk7XFxuI2Vsc2VcXG5wPXZlYzMocG9zX254Lnh5LHopO1xcbiNlbmRpZlxcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5mbG9hdCBsaWZ0PWZsb2F0KCh0K2Jhc2UpID4gMC4wKSp1X2hlaWdodF9saWZ0O2grPWxpZnQ7dmVjMyBnbG9iZV9ub3JtYWw9bm9ybWFsaXplKG1peChhX3Bvc19ub3JtYWxfMy8xNjM4NC4wLHVfdXBfZGlyLHVfem9vbV90cmFuc2l0aW9uKSk7dmVjMyBnbG9iZV9wb3M9YV9wb3NfMytnbG9iZV9ub3JtYWwqKHVfdGlsZV91cF9zY2FsZSoocC56K2xpZnQpKTt2ZWMzIG1lcmNfcG9zPW1lcmNhdG9yX3RpbGVfcG9zaXRpb24odV9pbnZfcm90X21hdHJpeCxwLnh5LHVfdGlsZV9pZCx1X21lcmNfY2VudGVyKSt1X3VwX2Rpcip1X3RpbGVfdXBfc2NhbGUqcC56O3A9bWl4X2dsb2JlX21lcmNhdG9yKGdsb2JlX3BvcyxtZXJjX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7XFxuI2VuZGlmXFxuZmxvYXQgaGlkZGVuPWZsb2F0KGNlbnRyb2lkX3Bvcy54PT0wLjAgJiYgY2VudHJvaWRfcG9zLnk9PTEuMCk7Z2xfUG9zaXRpb249bWl4KHVfbWF0cml4KnZlYzQocCwxKSxBV0FZLGhpZGRlbik7dmVjMiBwb3M9bm9ybWFsLno9PTEuMFxcbj8gcG9zX254Lnh5XFxuOiB2ZWMyKGVkZ2VkaXN0YW5jZSx6KnVfaGVpZ2h0X2ZhY3Rvcik7dl9wb3M9Z2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsdV9waXhlbF9jb29yZF9sb3dlcixkaXNwbGF5X3NpemUsdV90aWxlX3VuaXRzX3RvX3BpeGVscyxwb3MpO3ZfbGlnaHRpbmc9dmVjNCgwLjAsMC4wLDAuMCwxLjApO2Zsb2F0IE5kb3RMPTAuMDtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbk5kb3RMPWNhbGN1bGF0ZV9OZG90TChub3JtYWwpO1xcbiNlbHNlXFxuTmRvdEw9Y2xhbXAoZG90KG5vcm1hbCx1X2xpZ2h0cG9zKSwwLjAsMS4wKTtOZG90TD1taXgoKDEuMC11X2xpZ2h0aW50ZW5zaXR5KSxtYXgoKDAuNSt1X2xpZ2h0aW50ZW5zaXR5KSwxLjApLE5kb3RMKTtcXG4jZW5kaWZcXG5pZiAobm9ybWFsLnkgIT0wLjApIHtmbG9hdCByPTAuODQ7XFxuI2lmbmRlZiBMSUdIVElOR18zRF9NT0RFXFxucj1taXgoMC43LDAuOTgsMS4wLXVfbGlnaHRpbnRlbnNpdHkpO1xcbiNlbmRpZlxcbk5kb3RMKj0oXFxuKDEuMC11X3ZlcnRpY2FsX2dyYWRpZW50KSsodV92ZXJ0aWNhbF9ncmFkaWVudCpjbGFtcCgodCtiYXNlKSpwb3coaGVpZ2h0LzE1MC4wLDAuNSksciwxLjApKSk7fVxcbiNpZmRlZiBGQVVYX0FPXFxuZmxvYXQgY29uY2F2ZT1wb3Nfbngudy1mbG9vcihwb3NfbngudyowLjUpKjIuMDtmbG9hdCBzdGFydD10b3BfdXBfbnlfc3RhcnQudztmbG9hdCB5X2dyb3VuZD0xLjAtY2xhbXAodCtiYXNlLDAuMCwxLjApO2Zsb2F0IHRvcF9oZWlnaHQ9aGVpZ2h0O1xcbiNpZmRlZiBURVJSQUlOXFxudG9wX2hlaWdodD1taXgobWF4KGNfZWxlK2hlaWdodCxlbGUrYmFzZSsyLjApLGVsZStoZWlnaHQsZmxvYXQoY2VudHJvaWRfcG9zLng9PTAuMCkpLWVsZTt5X2dyb3VuZCs9eV9ncm91bmQqNS4wL21heCgzLjAsdG9wX2hlaWdodCk7XFxuI2VuZGlmXFxudl9hbz12ZWMzKG1peChjb25jYXZlLC1jb25jYXZlLHN0YXJ0KSx5X2dyb3VuZCxoLWVsZSk7TmRvdEwqPSgxLjArMC4wNSooMS4wLXRvcF91cF9ueS55KSp1X2FvWzBdKTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudG9wX2hlaWdodCs9dV9oZWlnaHRfbGlmdDtcXG4jZW5kaWZcXG5nbF9Qb3NpdGlvbi56LT0oMC4wMDAwMDA2KihtaW4odG9wX2hlaWdodCw1MDAuKSsyLjAqbWluKGJhc2UsNTAwLjApKzYwLjAqY29uY2F2ZSszLjAqc3RhcnQpKSpnbF9Qb3NpdGlvbi53O1xcbiNlbmRpZlxcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxudl9ub3JtYWw9bm9ybWFsO1xcbiNlbHNlXFxudl9saWdodGluZy5yZ2IrPWNsYW1wKE5kb3RMKnVfbGlnaHRjb2xvcixtaXgodmVjMygwLjApLHZlYzMoMC4zKSwxLjAtdV9saWdodGNvbG9yKSx2ZWMzKDEuMCkpO3ZfbGlnaHRpbmcqPXVfb3BhY2l0eTtcXG4jZW5kaWYgXFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24ocCk7XFxuI2VuZGlmXFxufScpLGdyb3VuZFNoYWRvdzpCRSgnI2luY2x1ZGUgXCJfcHJlbHVkZV9zaGFkb3cuZnJhZ21lbnQuZ2xzbFwiXFxuI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNlbmRpZlxcbnVuaWZvcm0gdmVjMyB1X2dyb3VuZF9zaGFkb3dfZmFjdG9yO3ZhcnlpbmcgdmVjNCB2X3Bvc19saWdodF92aWV3XzA7dmFyeWluZyB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMTt2YXJ5aW5nIGZsb2F0IHZfZGVwdGg7XFxuI2lmZGVmIEZPR1xcbnZhcnlpbmcgZmxvYXQgdl9mb2dfb3BhY2l0eTtcXG4jZW5kaWZcXG52b2lkIG1haW4oKSB7ZmxvYXQgbGlnaHQ9c2hhZG93ZWRfbGlnaHRfZmFjdG9yKHZfcG9zX2xpZ2h0X3ZpZXdfMCx2X3Bvc19saWdodF92aWV3XzEsdl9kZXB0aCk7dmVjMyBzaGFkb3c9bWl4KHVfZ3JvdW5kX3NoYWRvd19mYWN0b3IsdmVjMygxLjApLGxpZ2h0KTtcXG4jaWZkZWYgUkVOREVSX0NVVE9GRlxcbnNoYWRvdz1taXgodmVjMygxLjApLHNoYWRvdyxjdXRvZmZfb3BhY2l0eSh1X2N1dG9mZl9wYXJhbXMsdl9kZXB0aCkpO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5zaGFkb3c9bWl4KHNoYWRvdyx2ZWMzKDEuMCksdl9mb2dfb3BhY2l0eSk7XFxuI2VuZGlmXFxuI2lmZGVmIElORElDQVRPUl9DVVRPVVRcXG5zaGFkb3c9bWl4KHNoYWRvdyx2ZWMzKDEuMCksMS4wLWFwcGx5Q3V0b3V0KHZlYzQoMS4wKSkucik7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoc2hhZG93LDEuMCk7fScsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLnZlcnRleC5nbHNsXCJcXG51bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfbGlnaHRfbWF0cml4XzA7dW5pZm9ybSBtYXQ0IHVfbGlnaHRfbWF0cml4XzE7YXR0cmlidXRlIHZlYzIgYV9wb3M7dmFyeWluZyB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMDt2YXJ5aW5nIHZlYzQgdl9wb3NfbGlnaHRfdmlld18xO3ZhcnlpbmcgZmxvYXQgdl9kZXB0aDtcXG4jaWZkZWYgRk9HXFxudmFyeWluZyBmbG9hdCB2X2ZvZ19vcGFjaXR5O1xcbiNlbmRpZlxcbnZvaWQgbWFpbigpIHtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAuMCwxLjApO3ZfcG9zX2xpZ2h0X3ZpZXdfMD11X2xpZ2h0X21hdHJpeF8wKnZlYzQoYV9wb3MsMC4wLDEuMCk7dl9wb3NfbGlnaHRfdmlld18xPXVfbGlnaHRfbWF0cml4XzEqdmVjNChhX3BvcywwLjAsMS4wKTt2X2RlcHRoPWdsX1Bvc2l0aW9uLnc7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO3ZfZm9nX29wYWNpdHk9Zm9nKHZfZm9nX3Bvcyk7XFxuI2VuZGlmXFxufScpLGZpbGxFeHRydXNpb25Hcm91bmRFZmZlY3Q6QkUoXCJ1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfYW9fcGFzczt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfZmxvb2RfbGlnaHRfaW50ZW5zaXR5O3VuaWZvcm0gaGlnaHAgdmVjMyB1X2Zsb29kX2xpZ2h0X2NvbG9yO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9hdHRlbnVhdGlvbjt1bmlmb3JtIHNhbXBsZXIyRCB1X2ZiO3VuaWZvcm0gZmxvYXQgdV9mYl9zaXplO1xcbiNpZmRlZiBTREZfU1VCUEFTU1xcbnZhcnlpbmcgaGlnaHAgdmVjMiB2X3Bvczt2YXJ5aW5nIGhpZ2hwIHZlYzQgdl9saW5lX3NlZ21lbnQ7dmFyeWluZyBoaWdocCBmbG9hdCB2X2Zsb29kX2xpZ2h0X3JhZGl1c190aWxlO3ZhcnlpbmcgaGlnaHAgdmVjMiB2X2FvO2Zsb2F0IGxpbmVfZGYoaGlnaHAgdmVjMiBhLGhpZ2hwIHZlYzIgYixoaWdocCB2ZWMyIHApIHtoaWdocCB2ZWMyIGJhPWItYTtoaWdocCB2ZWMyIHBhPXAtYTtoaWdocCBmbG9hdCByPWNsYW1wKGRvdChwYSxiYSkvZG90KGJhLGJhKSwwLjAsMS4wKTtyZXR1cm4gbGVuZ3RoKHBhLXIqYmEpO31cXG4jaWZkZWYgRk9HXFxudmFyeWluZyBoaWdocCBmbG9hdCB2X2ZvZztcXG4jZW5kaWZcXG4jZW5kaWZcXG52b2lkIG1haW4oKSB7XFxuI2lmZGVmIENMRUFSX1NVQlBBU1NcXG52ZWM0IGNvbG9yPXZlYzQoMS4wKTtcXG4jaWZkZWYgQ0xFQVJfRlJPTV9URVhUVVJFXFxuY29sb3I9dGV4dHVyZTJEKHVfZmIsZ2xfRnJhZ0Nvb3JkLnh5L3ZlYzIodV9mYl9zaXplKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPWNvbG9yO1xcbiNlbHNlXFxuI2lmZGVmIFNERl9TVUJQQVNTXFxuaGlnaHAgZmxvYXQgZD1saW5lX2RmKHZfbGluZV9zZWdtZW50Lnh5LHZfbGluZV9zZWdtZW50Lnp3LHZfcG9zKTtoaWdocCBmbG9hdCBlZmZlY3RfcmFkaXVzPW1peCh2X2Zsb29kX2xpZ2h0X3JhZGl1c190aWxlLHZfYW8ueSx1X2FvX3Bhc3MpO2QvPWVmZmVjdF9yYWRpdXM7ZD1taW4oZCwxLjApO2Q9MS4wLXBvdygxLjAtZCx1X2F0dGVudWF0aW9uKTtoaWdocCBmbG9hdCBlZmZlY3RfaW50ZW5zaXR5PW1peCh1X2Zsb29kX2xpZ2h0X2ludGVuc2l0eSx2X2FvLngsdV9hb19wYXNzKTtoaWdocCBmbG9hdCBmb2c9MS4wO1xcbiNpZmRlZiBGT0dcXG5mb2c9dl9mb2c7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9DVVRPRkZcXG5mb2cqPXZfY3V0b2ZmX29wYWNpdHk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPXZlYzQodmVjMygwLjApLG1peCgxLjAsZCxlZmZlY3RfaW50ZW5zaXR5KnVfb3BhY2l0eSpmb2cpKTtcXG4jZWxzZVxcbnZlYzQgY29sb3I9bWl4KHZlYzQodV9mbG9vZF9saWdodF9jb2xvciwxLjApLHZlYzQodmVjMygwLjApLDEuMCksdV9hb19wYXNzKTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuY29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1jb2xvcjtIQU5ETEVfV0lSRUZSQU1FX0RFQlVHO1xcbiNlbmRpZlxcbiNlbmRpZlxcbn1cIiwnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cudmVydGV4Lmdsc2xcIlxcbmF0dHJpYnV0ZSBoaWdocCB2ZWM0IGFfcG9zX2VuZDthdHRyaWJ1dGUgaGlnaHAgZmxvYXQgYV9hbmd1bGFyX29mZnNldF9mYWN0b3I7YXR0cmlidXRlIGhpZ2hwIGZsb2F0IGFfaGlkZGVuX2J5X2xhbmRtYXJrO1xcbiNpZmRlZiBTREZfU1VCUEFTU1xcbnZhcnlpbmcgaGlnaHAgdmVjMiB2X3Bvczt2YXJ5aW5nIGhpZ2hwIHZlYzQgdl9saW5lX3NlZ21lbnQ7dmFyeWluZyBoaWdocCBmbG9hdCB2X2Zsb29kX2xpZ2h0X3JhZGl1c190aWxlO3ZhcnlpbmcgaGlnaHAgdmVjMiB2X2FvO1xcbiNpZmRlZiBGT0dcXG52YXJ5aW5nIGhpZ2hwIGZsb2F0IHZfZm9nO1xcbiNlbmRpZlxcbiNlbmRpZlxcbnVuaWZvcm0gaGlnaHAgZmxvYXQgdV9mbG9vZF9saWdodF9pbnRlbnNpdHk7dW5pZm9ybSBoaWdocCBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9hb19wYXNzO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9tZXRlcl90b190aWxlO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9lZGdlX3JhZGl1czt1bmlmb3JtIGhpZ2hwIHZlYzIgdV9hbztcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IGZsb29kX2xpZ2h0X2dyb3VuZF9yYWRpdXNcXG5jb25zdCBmbG9hdCBUQU5HRU5UX0NVVE9GRj00LjA7Y29uc3QgZmxvYXQgTk9STT0zMjc2Ny4wO3ZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCBmbG9hdCBmbG9vZF9saWdodF9ncm91bmRfcmFkaXVzXFxudmVjMiBwPWFfcG9zX2VuZC54eTt2ZWMyIHE9Zmxvb3IoYV9wb3NfZW5kLnp3KjAuNSk7dmVjMiBzdGFydF9ib3R0b209YV9wb3NfZW5kLnp3LXEqMi4wO2Zsb2F0IGZsX2dyb3VuZF9yYWRpdXM9Zmxvb2RfbGlnaHRfZ3JvdW5kX3JhZGl1cztcXG4jaWZkZWYgRk9SQ0VfQUJTX0ZMX0dST1VORF9SQURJVVNcXG5mbF9ncm91bmRfcmFkaXVzPWFicyhmbG9vZF9saWdodF9ncm91bmRfcmFkaXVzKTtcXG4jZW5kaWZcXG5mbG9hdCBmbG9vZF9yYWRpdXNfdGlsZT1mbF9ncm91bmRfcmFkaXVzKnVfbWV0ZXJfdG9fdGlsZTt2ZWMyIHY9bm9ybWFsaXplKHEtcCk7ZmxvYXQgYW9fcmFkaXVzPXVfYW8ueS8zLjU7ZmxvYXQgZWZmZWN0X3JhZGl1cz1taXgoZmxvb2RfcmFkaXVzX3RpbGUsYW9fcmFkaXVzLHVfYW9fcGFzcykrdV9lZGdlX3JhZGl1cztmbG9hdCBhbmd1bGFyX29mZnNldF9mYWN0b3I9YV9hbmd1bGFyX29mZnNldF9mYWN0b3IvTk9STSpUQU5HRU5UX0NVVE9GRjtmbG9hdCBhbmd1bGFyX29mZnNldD1hbmd1bGFyX29mZnNldF9mYWN0b3IqZWZmZWN0X3JhZGl1cztmbG9hdCB0b3A9MS4wLXN0YXJ0X2JvdHRvbS55O2Zsb2F0IHNpZGU9KDAuNS1zdGFydF9ib3R0b20ueCkqMi4wO3ZlYzIgZXh0cnVzaW9uX3BhcmFsbGVsPXYqc2lkZSptaXgoMS4wLGFuZ3VsYXJfb2Zmc2V0LHRvcCk7dmVjMiBwZXJwPXZlYzIodi55LC12LngpO3ZlYzIgZXh0cnVzaW9uX3BlcnA9cGVycCplZmZlY3RfcmFkaXVzKnRvcDt2ZWMzIHBvcz12ZWMzKG1peChxLHAsc3RhcnRfYm90dG9tLngpLDAuMCk7cG9zLnh5Kz1leHRydXNpb25fcGFyYWxsZWwrZXh0cnVzaW9uX3BlcnA7XFxuI2lmZGVmIFNERl9TVUJQQVNTXFxudl9wb3M9cG9zLnh5O3ZfbGluZV9zZWdtZW50PXZlYzQocCxxKStwZXJwLnh5eHkqdV9lZGdlX3JhZGl1czt2X2Zsb29kX2xpZ2h0X3JhZGl1c190aWxlPWZsb29kX3JhZGl1c190aWxlO3ZfYW89dmVjMih1X2FvLngsYW9fcmFkaXVzKTtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihwb3MpO3ZfZm9nPTEuMC1mb2codl9mb2dfcG9zKTtcXG4jZW5kaWZcXG4jZW5kaWZcXG5mbG9hdCBoaWRkZW5fYnlfbGFuZG1hcms9MC4wO1xcbiNpZmRlZiBIQVNfQ0VOVFJPSURcXG5oaWRkZW5fYnlfbGFuZG1hcms9YV9oaWRkZW5fYnlfbGFuZG1hcms7XFxuI2VuZGlmXFxuZmxvYXQgaXNGbG9vZGxpdD1mbG9hdChmbF9ncm91bmRfcmFkaXVzID4gMC4wICYmIHVfZmxvb2RfbGlnaHRfaW50ZW5zaXR5ID4gMC4wKTtmbG9hdCBoaWRkZW49bWl4KDEuMC1pc0Zsb29kbGl0LGlzRmxvb2RsaXQsdV9hb19wYXNzKTtoaWRkZW4rPWhpZGRlbl9ieV9sYW5kbWFyaztnbF9Qb3NpdGlvbj1taXgodV9tYXRyaXgqdmVjNChwb3MsMS4wKSxBV0FZLGZsb2F0KGhpZGRlbiA+IDAuMCkpO1xcbiNpZmRlZiBSRU5ERVJfQ1VUT0ZGXFxudl9jdXRvZmZfb3BhY2l0eT1jdXRvZmZfb3BhY2l0eSh1X2N1dG9mZl9wYXJhbXMsZ2xfUG9zaXRpb24ueik7XFxuI2VuZGlmXFxufScpLGhpbGxzaGFkZVByZXBhcmU6QkUoXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2VuZGlmXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt2YXJ5aW5nIHZlYzIgdl9wb3M7dW5pZm9ybSB2ZWMyIHVfZGltZW5zaW9uO3VuaWZvcm0gZmxvYXQgdV96b29tO3VuaWZvcm0gdmVjNCB1X3VucGFjaztmbG9hdCBnZXRFbGV2YXRpb24odmVjMiBjb29yZCkge1xcbiNpZmRlZiBURVJSQUlOX0RFTV9GTE9BVF9GT1JNQVRcXG5yZXR1cm4gdGV4dHVyZSh1X2ltYWdlLGNvb3JkKS5yLzQuMDtcXG4jZWxzZVxcbnZlYzQgZGF0YT10ZXh0dXJlMkQodV9pbWFnZSxjb29yZCkqMjU1LjA7ZGF0YS5hPS0xLjA7cmV0dXJuIGRvdChkYXRhLHVfdW5wYWNrKS80LjA7XFxuI2VuZGlmXFxufXZvaWQgbWFpbigpIHt2ZWMyIGVwc2lsb249MS4wL3VfZGltZW5zaW9uO2Zsb2F0IGE9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoLWVwc2lsb24ueCwtZXBzaWxvbi55KSk7ZmxvYXQgYj1nZXRFbGV2YXRpb24odl9wb3MrdmVjMigwLC1lcHNpbG9uLnkpKTtmbG9hdCBjPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKGVwc2lsb24ueCwtZXBzaWxvbi55KSk7ZmxvYXQgZD1nZXRFbGV2YXRpb24odl9wb3MrdmVjMigtZXBzaWxvbi54LDApKTtmbG9hdCBlPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKGVwc2lsb24ueCwwKSk7ZmxvYXQgZj1nZXRFbGV2YXRpb24odl9wb3MrdmVjMigtZXBzaWxvbi54LGVwc2lsb24ueSkpO2Zsb2F0IGc9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoMCxlcHNpbG9uLnkpKTtmbG9hdCBoPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKGVwc2lsb24ueCxlcHNpbG9uLnkpKTtmbG9hdCBleGFnZ2VyYXRpb25GYWN0b3I9dV96b29tIDwgMi4wID8gMC40IDogdV96b29tIDwgNC41ID8gMC4zNSA6IDAuMztmbG9hdCBleGFnZ2VyYXRpb249dV96b29tIDwgMTUuMCA/ICh1X3pvb20tMTUuMCkqZXhhZ2dlcmF0aW9uRmFjdG9yIDogMC4wO3ZlYzIgZGVyaXY9dmVjMihcXG4oYytlK2UraCktKGErZCtkK2YpLChmK2crZytoKS0oYStiK2IrYylcXG4pL3BvdygyLjAsZXhhZ2dlcmF0aW9uKygxOS4yNTYyLXVfem9vbSkpO2dsX0ZyYWdDb2xvcj1jbGFtcCh2ZWM0KFxcbmRlcml2LngvMi4wKzAuNSxkZXJpdi55LzIuMCswLjUsMS4wLDEuMCksMC4wLDEuMCk7fVwiLFwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X2RpbWVuc2lvbjthdHRyaWJ1dGUgdmVjMiBhX3BvczthdHRyaWJ1dGUgdmVjMiBhX3RleHR1cmVfcG9zO3ZhcnlpbmcgdmVjMiB2X3Bvczt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO2hpZ2hwIHZlYzIgZXBzaWxvbj0xLjAvdV9kaW1lbnNpb247ZmxvYXQgc2NhbGU9KHVfZGltZW5zaW9uLngtMi4wKS91X2RpbWVuc2lvbi54O3ZfcG9zPShhX3RleHR1cmVfcG9zLzgxOTIuMCkqc2NhbGUrZXBzaWxvbjt9XCIpLGhpbGxzaGFkZTpCRSgnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cuZnJhZ21lbnQuZ2xzbFwiXFxuI2luY2x1ZGUgXCJfcHJlbHVkZV9saWdodGluZy5nbHNsXCJcXG51bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3ZhcnlpbmcgdmVjMiB2X3Bvczt1bmlmb3JtIHZlYzIgdV9sYXRyYW5nZTt1bmlmb3JtIHZlYzIgdV9saWdodDt1bmlmb3JtIHZlYzQgdV9zaGFkb3c7dW5pZm9ybSB2ZWM0IHVfaGlnaGxpZ2h0O3VuaWZvcm0gdmVjNCB1X2FjY2VudDt1bmlmb3JtIGZsb2F0IHVfZW1pc3NpdmVfc3RyZW5ndGg7dm9pZCBtYWluKCkge3ZlYzQgcGl4ZWw9dGV4dHVyZTJEKHVfaW1hZ2Usdl9wb3MpO3ZlYzIgZGVyaXY9KChwaXhlbC5yZyoyLjApLTEuMCk7ZmxvYXQgc2NhbGVGYWN0b3I9Y29zKHJhZGlhbnMoKHVfbGF0cmFuZ2VbMF0tdV9sYXRyYW5nZVsxXSkqKDEuMC12X3Bvcy55KSt1X2xhdHJhbmdlWzFdKSk7ZmxvYXQgc2xvcGU9YXRhbigxLjI1Kmxlbmd0aChkZXJpdikvc2NhbGVGYWN0b3IpO2Zsb2F0IGFzcGVjdD1kZXJpdi54ICE9MC4wID8gYXRhbihkZXJpdi55LC1kZXJpdi54KSA6IFBJLzIuMCooZGVyaXYueSA+IDAuMCA/IDEuMCA6LTEuMCk7ZmxvYXQgaW50ZW5zaXR5PXVfbGlnaHQueDtmbG9hdCBhemltdXRoPXVfbGlnaHQueStQSTtmbG9hdCBiYXNlPTEuODc1LWludGVuc2l0eSoxLjc1O2Zsb2F0IG1heFZhbHVlPTAuNSpQSTtmbG9hdCBzY2FsZWRTbG9wZT1pbnRlbnNpdHkgIT0wLjUgPyAoKHBvdyhiYXNlLHNsb3BlKS0xLjApLyhwb3coYmFzZSxtYXhWYWx1ZSktMS4wKSkqbWF4VmFsdWUgOiBzbG9wZTtmbG9hdCBhY2NlbnQ9Y29zKHNjYWxlZFNsb3BlKTt2ZWM0IGFjY2VudF9jb2xvcj0oMS4wLWFjY2VudCkqdV9hY2NlbnQqY2xhbXAoaW50ZW5zaXR5KjIuMCwwLjAsMS4wKTtmbG9hdCBzaGFkZT1hYnMobW9kKChhc3BlY3QrYXppbXV0aCkvUEkrMC41LDIuMCktMS4wKTt2ZWM0IHNoYWRlX2NvbG9yPW1peCh1X3NoYWRvdyx1X2hpZ2hsaWdodCxzaGFkZSkqc2luKHNjYWxlZFNsb3BlKSpjbGFtcChpbnRlbnNpdHkqMi4wLDAuMCwxLjApO2dsX0ZyYWdDb2xvcj1hY2NlbnRfY29sb3IqKDEuMC1zaGFkZV9jb2xvci5hKStzaGFkZV9jb2xvcjtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbmdsX0ZyYWdDb2xvcj1hcHBseV9saWdodGluZ193aXRoX2VtaXNzaW9uX2dyb3VuZChnbF9GcmFnQ29sb3IsdV9lbWlzc2l2ZV9zdHJlbmd0aCk7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbmdsX0ZyYWdDb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKGdsX0ZyYWdDb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG5IQU5ETEVfV0lSRUZSQU1FX0RFQlVHO30nLCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy52ZXJ0ZXguZ2xzbFwiXFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO2F0dHJpYnV0ZSB2ZWMyIGFfdGV4dHVyZV9wb3M7dmFyeWluZyB2ZWMyIHZfcG9zO3ZvaWQgbWFpbigpIHtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7dl9wb3M9YV90ZXh0dXJlX3Bvcy84MTkyLjA7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO1xcbiNlbmRpZlxcbn0nKSxsaW5lOkJFKCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX2xpZ2h0aW5nLmdsc2xcIlxcbnVuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt1bmlmb3JtIGZsb2F0IHVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQ7dW5pZm9ybSBoaWdocCB2ZWMyIHVfdHJpbV9vZmZzZXQ7dmFyeWluZyB2ZWMyIHZfd2lkdGgyO3ZhcnlpbmcgdmVjMiB2X25vcm1hbDt2YXJ5aW5nIGZsb2F0IHZfZ2FtbWFfc2NhbGU7dmFyeWluZyBoaWdocCB2ZWM0IHZfdXY7XFxuI2lmZGVmIFJFTkRFUl9MSU5FX0RBU0hcXG51bmlmb3JtIHNhbXBsZXIyRCB1X2Rhc2hfaW1hZ2U7dmFyeWluZyB2ZWMyIHZfdGV4O1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfTElORV9HUkFESUVOVFxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfZ3JhZGllbnRfaW1hZ2U7XFxuI2VuZGlmXFxuZmxvYXQgbHVtaW5hbmNlKHZlYzMgYykge3JldHVybiAoYy5yK2MucitjLmIrYy5nK2MuZytjLmcpKjAuMTY2Nzt9dW5pZm9ybSBmbG9hdCB1X2VtaXNzaXZlX3N0cmVuZ3RoO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBmbG9vcndpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgZGFzaFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYm9yZGVyX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgYm9yZGVyX2NvbG9yXFxuZmxvYXQgbGluZWFyc3RlcChmbG9hdCBlZGdlMCxmbG9hdCBlZGdlMSxmbG9hdCB4KSB7cmV0dXJuICBjbGFtcCgoeC1lZGdlMCkvKGVkZ2UxLWVkZ2UwKSwwLjAsMS4wKTt9dm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGZsb29yd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIHZlYzQgZGFzaFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYm9yZGVyX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCB2ZWM0IGJvcmRlcl9jb2xvclxcbmZsb2F0IGRpc3Q9bGVuZ3RoKHZfbm9ybWFsKSp2X3dpZHRoMi5zO2Zsb2F0IGJsdXIyPShibHVyKzEuMC91X2RldmljZV9waXhlbF9yYXRpbykqdl9nYW1tYV9zY2FsZTtmbG9hdCBhbHBoYT1jbGFtcChtaW4oZGlzdC0odl93aWR0aDIudC1ibHVyMiksdl93aWR0aDIucy1kaXN0KS9ibHVyMiwwLjAsMS4wKTtcXG4jaWZkZWYgUkVOREVSX0xJTkVfREFTSFxcbmZsb2F0IHNkZmRpc3Q9dGV4dHVyZTJEKHVfZGFzaF9pbWFnZSx2X3RleCkuYTtmbG9hdCBzZGZnYW1tYT0xLjAvKDIuMCp1X2RldmljZV9waXhlbF9yYXRpbykvZGFzaC56O2FscGhhKj1saW5lYXJzdGVwKDAuNS1zZGZnYW1tYS9mbG9vcndpZHRoLDAuNStzZGZnYW1tYS9mbG9vcndpZHRoLHNkZmRpc3QpO1xcbiNlbmRpZlxcbmhpZ2hwIHZlYzQgb3V0X2NvbG9yO1xcbiNpZmRlZiBSRU5ERVJfTElORV9HUkFESUVOVFxcbm91dF9jb2xvcj10ZXh0dXJlMkQodV9ncmFkaWVudF9pbWFnZSx2X3V2Lnh5KTtcXG4jZWxzZVxcbm91dF9jb2xvcj1jb2xvcjtcXG4jZW5kaWZcXG5mbG9hdCB0cmltbWVkPTEuMDtcXG4jaWZkZWYgUkVOREVSX0xJTkVfVFJJTV9PRkZTRVRcXG5oaWdocCBmbG9hdCBzdGFydD12X3V2WzJdO2hpZ2hwIGZsb2F0IGVuZD12X3V2WzNdO2hpZ2hwIGZsb2F0IHRyaW1fc3RhcnQ9dV90cmltX29mZnNldFswXTtoaWdocCBmbG9hdCB0cmltX2VuZD11X3RyaW1fb2Zmc2V0WzFdO2hpZ2hwIGZsb2F0IGxpbmVfcHJvZ3Jlc3M9KHN0YXJ0Kyh2X3V2LngpKihlbmQtc3RhcnQpKTtpZiAodHJpbV9lbmQgPiB0cmltX3N0YXJ0KSB7aWYgKGxpbmVfcHJvZ3Jlc3MgPD10cmltX2VuZCAmJiBsaW5lX3Byb2dyZXNzID49dHJpbV9zdGFydCkge291dF9jb2xvcj12ZWM0KDAsMCwwLDApO3RyaW1tZWQ9MC4wO319XFxuI2VuZGlmXFxuaWYgKHVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQgIT0wLjApIHtpZiAoYWxwaGEgPCB1X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkKSB7ZGlzY2FyZDt9fVxcbiNpZmRlZiBSRU5ERVJfTElORV9CT1JERVJcXG5mbG9hdCBlZGdlQmx1cj0oYm9yZGVyX3dpZHRoKzEuMC91X2RldmljZV9waXhlbF9yYXRpbyk7ZmxvYXQgYWxwaGEyPWNsYW1wKG1pbihkaXN0LSh2X3dpZHRoMi50LWVkZ2VCbHVyKSx2X3dpZHRoMi5zLWRpc3QpL2VkZ2VCbHVyLDAuMCwxLjApO2lmIChhbHBoYTIgPCAxLikge2Zsb2F0IHNtb290aEFscGhhPXNtb290aHN0ZXAoMC42LDEuMCxhbHBoYTIpO2lmIChib3JkZXJfY29sb3IuYT09MC4wKSB7ICAgIFxcbmZsb2F0IFk9KG91dF9jb2xvci5hID4gMC4wMSkgPyBsdW1pbmFuY2Uob3V0X2NvbG9yLnJnYi9vdXRfY29sb3IuYSkgOiAxLjtmbG9hdCBhZGp1c3RtZW50PShZID4gMC4pID8gMC41L1kgOiAwLjQ1O2lmIChvdXRfY29sb3IuYSA+IDAuMjUgJiYgWSA8IDAuMjUpIHt2ZWMzIGJvcmRlckNvbG9yPShZID4gMC4pID8gb3V0X2NvbG9yLnJnYiA6IHZlYzMoMSwxLDEpKm91dF9jb2xvci5hO291dF9jb2xvci5yZ2I9b3V0X2NvbG9yLnJnYitib3JkZXJDb2xvciooYWRqdXN0bWVudCooMS4wLXNtb290aEFscGhhKSk7fSBlbHNlIHtvdXRfY29sb3IucmdiKj0oMC42ICswLjQqc21vb3RoQWxwaGEpO319IGVsc2Uge291dF9jb2xvci5yZ2I9bWl4KGJvcmRlcl9jb2xvci5yZ2IqYm9yZGVyX2NvbG9yLmEqdHJpbW1lZCxvdXRfY29sb3IucmdiLHNtb290aEFscGhhKTt9fVxcbiNlbmRpZlxcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxub3V0X2NvbG9yPWFwcGx5X2xpZ2h0aW5nX3dpdGhfZW1pc3Npb25fZ3JvdW5kKG91dF9jb2xvcix1X2VtaXNzaXZlX3N0cmVuZ3RoKTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbm91dF9jb2xvcio9KGFscGhhKm9wYWNpdHkpO1xcbiNpZmRlZiBJTkRJQ0FUT1JfQ1VUT1VUXFxub3V0X2NvbG9yPWFwcGx5Q3V0b3V0KG91dF9jb2xvcik7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvcjtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG5IQU5ETEVfV0lSRUZSQU1FX0RFQlVHO30nLCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy52ZXJ0ZXguZ2xzbFwiXFxuI2RlZmluZSBFWFRSVURFX1NDQUxFIDAuMDE1ODczMDE2XFxuYXR0cmlidXRlIHZlYzIgYV9wb3Nfbm9ybWFsO2F0dHJpYnV0ZSB2ZWM0IGFfZGF0YTtcXG4jaWYgZGVmaW5lZChSRU5ERVJfTElORV9HUkFESUVOVCkgfHwgZGVmaW5lZChSRU5ERVJfTElORV9UUklNX09GRlNFVClcXG5hdHRyaWJ1dGUgaGlnaHAgdmVjNCBhX3BhY2tlZDtcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX0xJTkVfREFTSFxcbmF0dHJpYnV0ZSBmbG9hdCBhX2xpbmVzb2ZhcjtcXG4jZW5kaWZcXG51bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQyIHVfcGl4ZWxzX3RvX3RpbGVfdW5pdHM7dW5pZm9ybSB2ZWMyIHVfdW5pdHNfdG9fcGl4ZWxzO3VuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt2YXJ5aW5nIHZlYzIgdl9ub3JtYWw7dmFyeWluZyB2ZWMyIHZfd2lkdGgyO3ZhcnlpbmcgZmxvYXQgdl9nYW1tYV9zY2FsZTt2YXJ5aW5nIGhpZ2hwIHZlYzQgdl91djtcXG4jaWZkZWYgUkVOREVSX0xJTkVfREFTSFxcbnVuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSBmbG9hdCB1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzO3ZhcnlpbmcgdmVjMiB2X3RleDtcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX0xJTkVfR1JBRElFTlRcXG51bmlmb3JtIGZsb2F0IHVfaW1hZ2VfaGVpZ2h0O1xcbiNlbmRpZlxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBmbG9vcndpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgZGFzaFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgZ2Fwd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb2Zmc2V0XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHdpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJvcmRlcl93aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IGJvcmRlcl9jb2xvclxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBmbG9vcndpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCB2ZWM0IGRhc2hcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IGdhcHdpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvZmZzZXRcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHdpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBib3JkZXJfd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIHZlYzQgYm9yZGVyX2NvbG9yXFxuZmxvYXQgQU5USUFMSUFTSU5HPTEuMC91X2RldmljZV9waXhlbF9yYXRpby8yLjA7dmVjMiBhX2V4dHJ1ZGU9YV9kYXRhLnh5LTEyOC4wO2Zsb2F0IGFfZGlyZWN0aW9uPW1vZChhX2RhdGEueiw0LjApLTEuMDt2ZWMyIHBvcz1mbG9vcihhX3Bvc19ub3JtYWwqMC41KTttZWRpdW1wIHZlYzIgbm9ybWFsPWFfcG9zX25vcm1hbC0yLjAqcG9zO25vcm1hbC55PW5vcm1hbC55KjIuMC0xLjA7dl9ub3JtYWw9bm9ybWFsO2dhcHdpZHRoPWdhcHdpZHRoLzIuMDtmbG9hdCBoYWxmd2lkdGg9d2lkdGgvMi4wO29mZnNldD0tMS4wKm9mZnNldDtmbG9hdCBpbnNldD1nYXB3aWR0aCsoZ2Fwd2lkdGggPiAwLjAgPyBBTlRJQUxJQVNJTkcgOiAwLjApO2Zsb2F0IG91dHNldD1nYXB3aWR0aCtoYWxmd2lkdGgqKGdhcHdpZHRoID4gMC4wID8gMi4wIDogMS4wKSsoaGFsZndpZHRoPT0wLjAgPyAwLjAgOiBBTlRJQUxJQVNJTkcpO21lZGl1bXAgdmVjMiBkaXN0PW91dHNldCphX2V4dHJ1ZGUqRVhUUlVERV9TQ0FMRTttZWRpdW1wIGZsb2F0IHU9MC41KmFfZGlyZWN0aW9uO21lZGl1bXAgZmxvYXQgdD0xLjAtYWJzKHUpO21lZGl1bXAgdmVjMiBvZmZzZXQyPW9mZnNldCphX2V4dHJ1ZGUqRVhUUlVERV9TQ0FMRSpub3JtYWwueSptYXQyKHQsLXUsdSx0KTt2ZWM0IHByb2plY3RlZF9leHRydWRlPXVfbWF0cml4KnZlYzQoZGlzdCp1X3BpeGVsc190b190aWxlX3VuaXRzLDAuMCwwLjApO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQocG9zK29mZnNldDIqdV9waXhlbHNfdG9fdGlsZV91bml0cywwLjAsMS4wKStwcm9qZWN0ZWRfZXh0cnVkZTtcXG4jaWZuZGVmIFJFTkRFUl9UT19URVhUVVJFXFxuZmxvYXQgZXh0cnVkZV9sZW5ndGhfd2l0aG91dF9wZXJzcGVjdGl2ZT1sZW5ndGgoZGlzdCk7ZmxvYXQgZXh0cnVkZV9sZW5ndGhfd2l0aF9wZXJzcGVjdGl2ZT1sZW5ndGgocHJvamVjdGVkX2V4dHJ1ZGUueHkvZ2xfUG9zaXRpb24udyp1X3VuaXRzX3RvX3BpeGVscyk7dl9nYW1tYV9zY2FsZT1leHRydWRlX2xlbmd0aF93aXRob3V0X3BlcnNwZWN0aXZlL2V4dHJ1ZGVfbGVuZ3RoX3dpdGhfcGVyc3BlY3RpdmU7XFxuI2Vsc2VcXG52X2dhbW1hX3NjYWxlPTEuMDtcXG4jZW5kaWZcXG4jaWYgZGVmaW5lZChSRU5ERVJfTElORV9HUkFESUVOVCkgfHwgZGVmaW5lZChSRU5ERVJfTElORV9UUklNX09GRlNFVClcXG5mbG9hdCBhX3V2X3g9YV9wYWNrZWRbMF07ZmxvYXQgYV9zcGxpdF9pbmRleD1hX3BhY2tlZFsxXTtoaWdocCBmbG9hdCBhX2NsaXBfc3RhcnQ9YV9wYWNrZWRbMl07aGlnaHAgZmxvYXQgYV9jbGlwX2VuZD1hX3BhY2tlZFszXTtcXG4jaWZkZWYgUkVOREVSX0xJTkVfR1JBRElFTlRcXG5oaWdocCBmbG9hdCB0ZXhlbF9oZWlnaHQ9MS4wL3VfaW1hZ2VfaGVpZ2h0O2hpZ2hwIGZsb2F0IGhhbGZfdGV4ZWxfaGVpZ2h0PTAuNSp0ZXhlbF9oZWlnaHQ7dl91dj12ZWM0KGFfdXZfeCxhX3NwbGl0X2luZGV4KnRleGVsX2hlaWdodC1oYWxmX3RleGVsX2hlaWdodCxhX2NsaXBfc3RhcnQsYV9jbGlwX2VuZCk7XFxuI2Vsc2VcXG52X3V2PXZlYzQoYV91dl94LDAuMCxhX2NsaXBfc3RhcnQsYV9jbGlwX2VuZCk7XFxuI2VuZGlmXFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9MSU5FX0RBU0hcXG5mbG9hdCBzY2FsZT1kYXNoLno9PTAuMCA/IDAuMCA6IHVfdGlsZV91bml0c190b19waXhlbHMvZGFzaC56O2Zsb2F0IGhlaWdodD1kYXNoLnk7dl90ZXg9dmVjMihhX2xpbmVzb2ZhcipzY2FsZS9mbG9vcndpZHRoLCgtbm9ybWFsLnkqaGVpZ2h0K2Rhc2gueCswLjUpL3VfdGV4c2l6ZS55KTtcXG4jZW5kaWZcXG52X3dpZHRoMj12ZWMyKG91dHNldCxpbnNldCk7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24ocG9zKTtcXG4jZW5kaWZcXG59JyksbGluZVBhdHRlcm46QkUoJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxudW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3VuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSBmbG9hdCB1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzO3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7dmFyeWluZyB2ZWMyIHZfbm9ybWFsO3ZhcnlpbmcgdmVjMiB2X3dpZHRoMjt2YXJ5aW5nIGZsb2F0IHZfbGluZXNvZmFyO3ZhcnlpbmcgZmxvYXQgdl9nYW1tYV9zY2FsZTt2YXJ5aW5nIGZsb2F0IHZfd2lkdGg7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVyblxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxudmVjMiBwYXR0ZXJuX3RsPXBhdHRlcm4ueHk7dmVjMiBwYXR0ZXJuX2JyPXBhdHRlcm4uenc7dmVjMiBkaXNwbGF5X3NpemU9KHBhdHRlcm5fYnItcGF0dGVybl90bCkvcGl4ZWxfcmF0aW87dmVjMiBwYXR0ZXJuX3NpemU9dmVjMihkaXNwbGF5X3NpemUueC91X3RpbGVfdW5pdHNfdG9fcGl4ZWxzLGRpc3BsYXlfc2l6ZS55KTtmbG9hdCBhc3BlY3Q9ZGlzcGxheV9zaXplLnkvdl93aWR0aDtmbG9hdCBkaXN0PWxlbmd0aCh2X25vcm1hbCkqdl93aWR0aDIucztmbG9hdCBibHVyMj0oYmx1cisxLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8pKnZfZ2FtbWFfc2NhbGU7ZmxvYXQgYWxwaGE9Y2xhbXAobWluKGRpc3QtKHZfd2lkdGgyLnQtYmx1cjIpLHZfd2lkdGgyLnMtZGlzdCkvYmx1cjIsMC4wLDEuMCk7ZmxvYXQgeD1tb2Qodl9saW5lc29mYXIvcGF0dGVybl9zaXplLngqYXNwZWN0LDEuMCk7ZmxvYXQgeT0wLjUqdl9ub3JtYWwueSswLjU7dmVjMiB0ZXhlbF9zaXplPTEuMC91X3RleHNpemU7dmVjMiBwb3M9bWl4KHBhdHRlcm5fdGwqdGV4ZWxfc2l6ZS10ZXhlbF9zaXplLHBhdHRlcm5fYnIqdGV4ZWxfc2l6ZSt0ZXhlbF9zaXplLHZlYzIoeCx5KSk7dmVjNCBjb2xvcj10ZXh0dXJlMkQodV9pbWFnZSxwb3MpO1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxuY29sb3I9YXBwbHlfbGlnaHRpbmdfZ3JvdW5kKGNvbG9yKTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxuY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChjb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG5jb2xvcio9KGFscGhhKm9wYWNpdHkpO1xcbiNpZmRlZiBJTkRJQ0FUT1JfQ1VUT1VUXFxuY29sb3I9YXBwbHlDdXRvdXQoY29sb3IpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1jb2xvcjtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG5IQU5ETEVfV0lSRUZSQU1FX0RFQlVHO30nLCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy52ZXJ0ZXguZ2xzbFwiXFxuI2RlZmluZSBzY2FsZSAwLjAxNTg3MzAxNlxcbmF0dHJpYnV0ZSB2ZWMyIGFfcG9zX25vcm1hbDthdHRyaWJ1dGUgdmVjNCBhX2RhdGE7YXR0cmlidXRlIGZsb2F0IGFfbGluZXNvZmFyO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV91bml0c190b19waXhlbHM7dW5pZm9ybSBtYXQyIHVfcGl4ZWxzX3RvX3RpbGVfdW5pdHM7dW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3ZhcnlpbmcgdmVjMiB2X25vcm1hbDt2YXJ5aW5nIHZlYzIgdl93aWR0aDI7dmFyeWluZyBmbG9hdCB2X2xpbmVzb2Zhcjt2YXJ5aW5nIGZsb2F0IHZfZ2FtbWFfc2NhbGU7dmFyeWluZyBmbG9hdCB2X3dpZHRoO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb2Zmc2V0XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IGdhcHdpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHdpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGZsb29yd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb2Zmc2V0XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGZsb29yd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVyblxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9cXG5mbG9hdCBBTlRJQUxJQVNJTkc9MS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvLzIuMDt2ZWMyIGFfZXh0cnVkZT1hX2RhdGEueHktMTI4LjA7ZmxvYXQgYV9kaXJlY3Rpb249bW9kKGFfZGF0YS56LDQuMCktMS4wO3ZlYzIgcG9zPWZsb29yKGFfcG9zX25vcm1hbCowLjUpO21lZGl1bXAgdmVjMiBub3JtYWw9YV9wb3Nfbm9ybWFsLTIuMCpwb3M7bm9ybWFsLnk9bm9ybWFsLnkqMi4wLTEuMDt2X25vcm1hbD1ub3JtYWw7Z2Fwd2lkdGg9Z2Fwd2lkdGgvMi4wO2Zsb2F0IGhhbGZ3aWR0aD13aWR0aC8yLjA7b2Zmc2V0PS0xLjAqb2Zmc2V0O2Zsb2F0IGluc2V0PWdhcHdpZHRoKyhnYXB3aWR0aCA+IDAuMCA/IEFOVElBTElBU0lORyA6IDAuMCk7ZmxvYXQgb3V0c2V0PWdhcHdpZHRoK2hhbGZ3aWR0aCooZ2Fwd2lkdGggPiAwLjAgPyAyLjAgOiAxLjApKyhoYWxmd2lkdGg9PTAuMCA/IDAuMCA6IEFOVElBTElBU0lORyk7bWVkaXVtcCB2ZWMyIGRpc3Q9b3V0c2V0KmFfZXh0cnVkZSpzY2FsZTttZWRpdW1wIGZsb2F0IHU9MC41KmFfZGlyZWN0aW9uO21lZGl1bXAgZmxvYXQgdD0xLjAtYWJzKHUpO21lZGl1bXAgdmVjMiBvZmZzZXQyPW9mZnNldCphX2V4dHJ1ZGUqc2NhbGUqbm9ybWFsLnkqbWF0Mih0LC11LHUsdCk7dmVjNCBwcm9qZWN0ZWRfZXh0cnVkZT11X21hdHJpeCp2ZWM0KGRpc3QqdV9waXhlbHNfdG9fdGlsZV91bml0cywwLjAsMC4wKTtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KHBvcytvZmZzZXQyKnVfcGl4ZWxzX3RvX3RpbGVfdW5pdHMsMC4wLDEuMCkrcHJvamVjdGVkX2V4dHJ1ZGU7XFxuI2lmbmRlZiBSRU5ERVJfVE9fVEVYVFVSRVxcbmZsb2F0IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhvdXRfcGVyc3BlY3RpdmU9bGVuZ3RoKGRpc3QpO2Zsb2F0IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhfcGVyc3BlY3RpdmU9bGVuZ3RoKHByb2plY3RlZF9leHRydWRlLnh5L2dsX1Bvc2l0aW9uLncqdV91bml0c190b19waXhlbHMpO3ZfZ2FtbWFfc2NhbGU9ZXh0cnVkZV9sZW5ndGhfd2l0aG91dF9wZXJzcGVjdGl2ZS9leHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlO1xcbiNlbHNlXFxudl9nYW1tYV9zY2FsZT0xLjA7XFxuI2VuZGlmXFxudl9saW5lc29mYXI9YV9saW5lc29mYXI7dl93aWR0aDI9dmVjMihvdXRzZXQsaW5zZXQpO3Zfd2lkdGg9Zmxvb3J3aWR0aDtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihwb3MpO1xcbiNlbmRpZlxcbn0nKSxyYXN0ZXI6QkUoJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxudW5pZm9ybSBmbG9hdCB1X2ZhZGVfdDt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlMDt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlMTt2YXJ5aW5nIHZlYzIgdl9wb3MwO3ZhcnlpbmcgdmVjMiB2X3BvczE7dW5pZm9ybSBmbG9hdCB1X2JyaWdodG5lc3NfbG93O3VuaWZvcm0gZmxvYXQgdV9icmlnaHRuZXNzX2hpZ2g7dW5pZm9ybSBmbG9hdCB1X3NhdHVyYXRpb25fZmFjdG9yO3VuaWZvcm0gZmxvYXQgdV9jb250cmFzdF9mYWN0b3I7dW5pZm9ybSB2ZWMzIHVfc3Bpbl93ZWlnaHRzO1xcbiNpZmRlZiBSQVNURVJfQ09MT1JcXG51bmlmb3JtIHNhbXBsZXIyRCB1X2NvbG9yX3JhbXA7dW5pZm9ybSBoaWdocCB2ZWMyIHVfY29sb3JpemF0aW9uX3NjYWxlO3VuaWZvcm0gaGlnaHAgdmVjNCB1X2NvbG9yaXphdGlvbl9taXg7aGlnaHAgdmVjNCBjb2xvcm1hcCAoaGlnaHAgZmxvYXQgdmFsdWUpIHtoaWdocCBmbG9hdCBzY2FsZWRfdmFsdWU9dmFsdWUqdV9jb2xvcml6YXRpb25fc2NhbGUueSt1X2NvbG9yaXphdGlvbl9zY2FsZS54O2hpZ2hwIHZlYzIgY29vcmRzPXZlYzIoc2NhbGVkX3ZhbHVlLDAuNSk7cmV0dXJuIHRleHR1cmUyRCh1X2NvbG9yX3JhbXAsY29vcmRzKTt9XFxuI2VuZGlmXFxudm9pZCBtYWluKCkge3ZlYzQgY29sb3IwPXRleHR1cmUyRCh1X2ltYWdlMCx2X3BvczApO3ZlYzQgY29sb3IxPXRleHR1cmUyRCh1X2ltYWdlMSx2X3BvczEpO3ZlYzQgY29sb3I7XFxuI2lmZGVmIFJBU1RFUl9DT0xPUlxcbmhpZ2hwIHZlYzQgZmFkZWRDb2xvcj1taXgoY29sb3IwLGNvbG9yMSx1X2ZhZGVfdCk7Y29sb3I9Y29sb3JtYXAoZG90KHZlYzQoZmFkZWRDb2xvci5yZ2IsMSksdV9jb2xvcml6YXRpb25fbWl4KSk7Y29sb3IuYSo9ZmFkZWRDb2xvci5hO2lmIChjb2xvci5hID4gMC4wKSB7Y29sb3IucmdiLz1jb2xvci5hO31cXG4jZWxzZVxcbmlmIChjb2xvcjAuYSA+IDAuMCkge2NvbG9yMC5yZ2IvPWNvbG9yMC5hO31pZiAoY29sb3IxLmEgPiAwLjApIHtjb2xvcjEucmdiLz1jb2xvcjEuYTt9Y29sb3I9bWl4KGNvbG9yMCxjb2xvcjEsdV9mYWRlX3QpO1xcbiNlbmRpZlxcbmNvbG9yLmEqPXVfb3BhY2l0eTt2ZWMzIHJnYj1jb2xvci5yZ2I7cmdiPXZlYzMoXFxuZG90KHJnYix1X3NwaW5fd2VpZ2h0cy54eXopLGRvdChyZ2IsdV9zcGluX3dlaWdodHMuenh5KSxkb3QocmdiLHVfc3Bpbl93ZWlnaHRzLnl6eCkpO2Zsb2F0IGF2ZXJhZ2U9KGNvbG9yLnIrY29sb3IuZytjb2xvci5iKS8zLjA7cmdiKz0oYXZlcmFnZS1yZ2IpKnVfc2F0dXJhdGlvbl9mYWN0b3I7cmdiPShyZ2ItMC41KSp1X2NvbnRyYXN0X2ZhY3RvciswLjU7dmVjMyB1X2hpZ2hfdmVjPXZlYzModV9icmlnaHRuZXNzX2xvdyx1X2JyaWdodG5lc3NfbG93LHVfYnJpZ2h0bmVzc19sb3cpO3ZlYzMgdV9sb3dfdmVjPXZlYzModV9icmlnaHRuZXNzX2hpZ2gsdV9icmlnaHRuZXNzX2hpZ2gsdV9icmlnaHRuZXNzX2hpZ2gpO3ZlYzMgb3V0X2NvbG9yPW1peCh1X2hpZ2hfdmVjLHVfbG93X3ZlYyxyZ2IpO1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxub3V0X2NvbG9yPWFwcGx5X2xpZ2h0aW5nX2dyb3VuZChvdXRfY29sb3IpO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHkob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj12ZWM0KG91dF9jb2xvcipjb2xvci5hLGNvbG9yLmEpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbkhBTkRMRV9XSVJFRlJBTUVfREVCVUc7fScsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLnZlcnRleC5nbHNsXCJcXG51bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfbm9ybWFsaXplX21hdHJpeDt1bmlmb3JtIG1hdDQgdV9nbG9iZV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfdGxfcGFyZW50O3VuaWZvcm0gZmxvYXQgdV9zY2FsZV9wYXJlbnQ7dW5pZm9ybSB2ZWMyIHVfcGVyc3BlY3RpdmVfdHJhbnNmb3JtO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5hdHRyaWJ1dGUgdmVjMyBhX2dsb2JlX3BvczthdHRyaWJ1dGUgdmVjMiBhX3V2O1xcbiNlbHNlXFxuYXR0cmlidXRlIHZlYzIgYV9wb3M7YXR0cmlidXRlIHZlYzIgYV90ZXh0dXJlX3BvcztcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzIgdl9wb3MwO3ZhcnlpbmcgdmVjMiB2X3BvczE7dm9pZCBtYWluKCkge3ZlYzIgdXY7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmdsX1Bvc2l0aW9uPXVfbWF0cml4KnVfZ2xvYmVfbWF0cml4KnZlYzQoYV9nbG9iZV9wb3MsMS4wKTt1dj1hX3V2O1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKCh1X25vcm1hbGl6ZV9tYXRyaXgqdmVjNChhX2dsb2JlX3BvcywxLjApKS54eXopO1xcbiNlbmRpZlxcbiNlbHNlXFxuZmxvYXQgdz0xLjArZG90KGFfdGV4dHVyZV9wb3MsdV9wZXJzcGVjdGl2ZV90cmFuc2Zvcm0pO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MqdywwLHcpO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGFfcG9zKTtcXG4jZW5kaWZcXG51dj1hX3RleHR1cmVfcG9zLzgxOTIuMDtcXG4jZW5kaWZcXG52X3BvczA9dXY7dl9wb3MxPSh2X3BvczAqdV9zY2FsZV9wYXJlbnQpK3VfdGxfcGFyZW50O30nKSxzeW1ib2xJY29uOkJFKCcjaW5jbHVkZSBcIl9wcmVsdWRlX2xpZ2h0aW5nLmdsc2xcIlxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfdGV4dHVyZTtcXG4jaWZkZWYgSUNPTl9UUkFOU0lUSU9OXFxudW5pZm9ybSBmbG9hdCB1X2ljb25fdHJhbnNpdGlvbjtcXG4jZW5kaWZcXG52YXJ5aW5nIGZsb2F0IHZfZmFkZV9vcGFjaXR5O3ZhcnlpbmcgdmVjMiB2X3RleF9hO1xcbiNpZmRlZiBJQ09OX1RSQU5TSVRJT05cXG52YXJ5aW5nIHZlYzIgdl90ZXhfYjtcXG4jZW5kaWZcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBlbWlzc2l2ZV9zdHJlbmd0aFxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGVtaXNzaXZlX3N0cmVuZ3RoXFxubG93cCBmbG9hdCBhbHBoYT1vcGFjaXR5KnZfZmFkZV9vcGFjaXR5O3ZlYzQgb3V0X2NvbG9yO1xcbiNpZmRlZiBJQ09OX1RSQU5TSVRJT05cXG52ZWM0IGE9dGV4dHVyZTJEKHVfdGV4dHVyZSx2X3RleF9hKSooMS4wLXVfaWNvbl90cmFuc2l0aW9uKTt2ZWM0IGI9dGV4dHVyZTJEKHVfdGV4dHVyZSx2X3RleF9iKSp1X2ljb25fdHJhbnNpdGlvbjtvdXRfY29sb3I9KGErYikqYWxwaGE7XFxuI2Vsc2VcXG5vdXRfY29sb3I9dGV4dHVyZTJEKHVfdGV4dHVyZSx2X3RleF9hKSphbHBoYTtcXG4jZW5kaWZcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbm91dF9jb2xvcj1hcHBseV9saWdodGluZ193aXRoX2VtaXNzaW9uX2dyb3VuZChvdXRfY29sb3IsZW1pc3NpdmVfc3RyZW5ndGgpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1vdXRfY29sb3I7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxuSEFORExFX1dJUkVGUkFNRV9ERUJVRzt9JywnI2luY2x1ZGUgXCJfcHJlbHVkZV90ZXJyYWluLnZlcnRleC5nbHNsXCJcXG5hdHRyaWJ1dGUgdmVjNCBhX3Bvc19vZmZzZXQ7YXR0cmlidXRlIHZlYzQgYV90ZXhfc2l6ZTthdHRyaWJ1dGUgdmVjNCBhX3BpeGVsb2Zmc2V0O2F0dHJpYnV0ZSB2ZWM0IGFfcHJvamVjdGVkX3BvczthdHRyaWJ1dGUgZmxvYXQgYV9mYWRlX29wYWNpdHk7XFxuI2lmZGVmIFpfT0ZGU0VUXFxuYXR0cmlidXRlIGZsb2F0IGFfel9vZmZzZXQ7XFxuI2VuZGlmXFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmF0dHJpYnV0ZSB2ZWMzIGFfZ2xvYmVfYW5jaG9yO2F0dHJpYnV0ZSB2ZWMzIGFfZ2xvYmVfbm9ybWFsO1xcbiNlbmRpZlxcbiNpZmRlZiBJQ09OX1RSQU5TSVRJT05cXG5hdHRyaWJ1dGUgdmVjMiBhX3RleGI7XFxuI2VuZGlmXFxudW5pZm9ybSBib29sIHVfaXNfc2l6ZV96b29tX2NvbnN0YW50O3VuaWZvcm0gYm9vbCB1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZV90O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9zaXplO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO3VuaWZvcm0gYm9vbCB1X3JvdGF0ZV9zeW1ib2w7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2FzcGVjdF9yYXRpbzt1bmlmb3JtIGZsb2F0IHVfZmFkZV9jaGFuZ2U7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2xhYmVsX3BsYW5lX21hdHJpeDt1bmlmb3JtIG1hdDQgdV9jb29yZF9tYXRyaXg7dW5pZm9ybSBib29sIHVfaXNfdGV4dDt1bmlmb3JtIGJvb2wgdV9waXRjaF93aXRoX21hcDt1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gdmVjMyB1X3VwX3ZlY3RvcjtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudW5pZm9ybSB2ZWMzIHVfdGlsZV9pZDt1bmlmb3JtIG1hdDQgdV9pbnZfcm90X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9tZXJjX2NlbnRlcjt1bmlmb3JtIHZlYzMgdV9jYW1lcmFfZm9yd2FyZDt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMyB1X2VjZWZfb3JpZ2luO3VuaWZvcm0gbWF0NCB1X3RpbGVfbWF0cml4O1xcbiNlbmRpZlxcbnZhcnlpbmcgdmVjMiB2X3RleF9hO1xcbiNpZmRlZiBJQ09OX1RSQU5TSVRJT05cXG52YXJ5aW5nIHZlYzIgdl90ZXhfYjtcXG4jZW5kaWZcXG52YXJ5aW5nIGZsb2F0IHZfZmFkZV9vcGFjaXR5O1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGVtaXNzaXZlX3N0cmVuZ3RoXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgZW1pc3NpdmVfc3RyZW5ndGhcXG52ZWMyIGFfcG9zPWFfcG9zX29mZnNldC54eTt2ZWMyIGFfb2Zmc2V0PWFfcG9zX29mZnNldC56dzt2ZWMyIGFfdGV4PWFfdGV4X3NpemUueHk7dmVjMiBhX3NpemU9YV90ZXhfc2l6ZS56dztmbG9hdCBhX3NpemVfbWluPWZsb29yKGFfc2l6ZVswXSowLjUpO3ZlYzIgYV9weG9mZnNldD1hX3BpeGVsb2Zmc2V0Lnh5O3ZlYzIgYV9taW5fZm9udF9zY2FsZT1hX3BpeGVsb2Zmc2V0Lnp3LzI1Ni4wO2hpZ2hwIGZsb2F0IHNlZ21lbnRfYW5nbGU9LWFfcHJvamVjdGVkX3Bvc1szXTtmbG9hdCBzaXplO2lmICghdV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7c2l6ZT1taXgoYV9zaXplX21pbixhX3NpemVbMV0sdV9zaXplX3QpLzEyOC4wO30gZWxzZSBpZiAodV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7c2l6ZT1hX3NpemVfbWluLzEyOC4wO30gZWxzZSB7c2l6ZT11X3NpemU7fXZlYzIgdGlsZV9hbmNob3I9YV9wb3M7ZmxvYXQgZT1lbGV2YXRpb24odGlsZV9hbmNob3IpO1xcbiNpZmRlZiBaX09GRlNFVFxcbmUrPWFfel9vZmZzZXQ7XFxuI2VuZGlmXFxudmVjMyBoPWVsZXZhdGlvblZlY3Rvcih0aWxlX2FuY2hvcikqZTtmbG9hdCBnbG9iZV9vY2NsdXNpb25fZmFkZTt2ZWMzIHdvcmxkX3Bvczt2ZWMzIG1lcmNhdG9yX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxubWVyY2F0b3JfcG9zPW1lcmNhdG9yX3RpbGVfcG9zaXRpb24odV9pbnZfcm90X21hdHJpeCx0aWxlX2FuY2hvcix1X3RpbGVfaWQsdV9tZXJjX2NlbnRlcik7d29ybGRfcG9zPW1peF9nbG9iZV9tZXJjYXRvcihhX2dsb2JlX2FuY2hvcitoLG1lcmNhdG9yX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7dmVjNCBlY2VmX3BvaW50PXVfdGlsZV9tYXRyaXgqdmVjNCh3b3JsZF9wb3MsMS4wKTt2ZWMzIG9yaWdpbl90b19wb2ludD1lY2VmX3BvaW50Lnh5ei11X2VjZWZfb3JpZ2luO2dsb2JlX29jY2x1c2lvbl9mYWRlPWRvdChvcmlnaW5fdG9fcG9pbnQsdV9jYW1lcmFfZm9yd2FyZCkgPj0wLjAgPyAwLjAgOiAxLjA7XFxuI2Vsc2VcXG53b3JsZF9wb3M9dmVjMyh0aWxlX2FuY2hvciwwKStoO2dsb2JlX29jY2x1c2lvbl9mYWRlPTEuMDtcXG4jZW5kaWZcXG52ZWM0IHByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KHdvcmxkX3BvcywxKTtoaWdocCBmbG9hdCBjYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlPXByb2plY3RlZF9wb2ludC53O2hpZ2hwIGZsb2F0IGRpc3RhbmNlX3JhdGlvPXVfcGl0Y2hfd2l0aF9tYXAgP1xcbmNhbWVyYV90b19hbmNob3JfZGlzdGFuY2UvdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlIDpcXG51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UvY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZTtoaWdocCBmbG9hdCBwZXJzcGVjdGl2ZV9yYXRpbz1jbGFtcChcXG4wLjUrMC41KmRpc3RhbmNlX3JhdGlvLDAuMCwxLjUpO3NpemUqPXBlcnNwZWN0aXZlX3JhdGlvO2Zsb2F0IGZvbnRfc2NhbGU9dV9pc190ZXh0ID8gc2l6ZS8yNC4wIDogc2l6ZTtoaWdocCBmbG9hdCBzeW1ib2xfcm90YXRpb249MC4wO2lmICh1X3JvdGF0ZV9zeW1ib2wpIHt2ZWM0IG9mZnNldFByb2plY3RlZF9wb2ludDtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBkaXNwbGFjZW1lbnQ9dmVjMyhhX2dsb2JlX25vcm1hbC56LDAsLWFfZ2xvYmVfbm9ybWFsLngpO29mZnNldFByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KGFfZ2xvYmVfYW5jaG9yK2Rpc3BsYWNlbWVudCwxKTtcXG4jZWxzZVxcbm9mZnNldFByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KHRpbGVfYW5jaG9yK3ZlYzIoMSwwKSwwLDEpO1xcbiNlbmRpZlxcbnZlYzIgYT1wcm9qZWN0ZWRfcG9pbnQueHkvcHJvamVjdGVkX3BvaW50Lnc7dmVjMiBiPW9mZnNldFByb2plY3RlZF9wb2ludC54eS9vZmZzZXRQcm9qZWN0ZWRfcG9pbnQudztzeW1ib2xfcm90YXRpb249YXRhbigoYi55LWEueSkvdV9hc3BlY3RfcmF0aW8sYi54LWEueCk7fXZlYzQgcHJvamVjdGVkX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBwcm9qX3Bvcz1taXhfZ2xvYmVfbWVyY2F0b3IoYV9wcm9qZWN0ZWRfcG9zLnh5eitoLG1lcmNhdG9yX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7cHJvamVjdGVkX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeCp2ZWM0KHByb2pfcG9zLDEuMCk7XFxuI2Vsc2VcXG5wcm9qZWN0ZWRfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4KnZlYzQoYV9wcm9qZWN0ZWRfcG9zLnh5LGgueiwxLjApO1xcbiNlbmRpZlxcbmhpZ2hwIGZsb2F0IGFuZ2xlX3Npbj1zaW4oc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO2hpZ2hwIGZsb2F0IGFuZ2xlX2Nvcz1jb3Moc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO21hdDIgcm90YXRpb25fbWF0cml4PW1hdDIoYW5nbGVfY29zLC0xLjAqYW5nbGVfc2luLGFuZ2xlX3NpbixhbmdsZV9jb3MpO2Zsb2F0IHo9MC4wO3ZlYzIgb2Zmc2V0PXJvdGF0aW9uX21hdHJpeCooYV9vZmZzZXQvMzIuMCptYXgoYV9taW5fZm9udF9zY2FsZSxmb250X3NjYWxlKSthX3B4b2Zmc2V0LzE2LjApO1xcbiNpZmRlZiBURVJSQUlOXFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQX1RFUlJBSU5cXG52ZWM0IHRpbGVfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4X2ludip2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eStvZmZzZXQsMC4wLDEuMCk7ej1lbGV2YXRpb24odGlsZV9wb3MueHkpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbmZsb2F0IG9jY2x1c2lvbl9mYWRlPW9jY2x1c2lvbkZhZGUocHJvamVjdGVkX3BvaW50KSpnbG9iZV9vY2NsdXNpb25fZmFkZTtmbG9hdCBwcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZT0xLjA7XFxuI2lmIGRlZmluZWQoUFJPSkVDVEVEX1BPU19PTl9WSUVXUE9SVCkgJiYgZGVmaW5lZChQUk9KRUNUSU9OX0dMT0JFX1ZJRVcpXFxucHJvamVjdGlvbl90cmFuc2l0aW9uX2ZhZGU9MS4wLXN0ZXAoRVBTSUxPTix1X3pvb21fdHJhbnNpdGlvbik7XFxuI2VuZGlmXFxudmVjMiBmYWRlX29wYWNpdHk9dW5wYWNrX29wYWNpdHkoYV9mYWRlX29wYWNpdHkpO2Zsb2F0IGZhZGVfY2hhbmdlPWZhZGVfb3BhY2l0eVsxXSA+IDAuNSA/IHVfZmFkZV9jaGFuZ2UgOi11X2ZhZGVfY2hhbmdlO2Zsb2F0IG91dF9mYWRlX29wYWNpdHk9bWF4KDAuMCxtaW4ob2NjbHVzaW9uX2ZhZGUsZmFkZV9vcGFjaXR5WzBdK2ZhZGVfY2hhbmdlKSkqcHJvamVjdGlvbl90cmFuc2l0aW9uX2ZhZGU7ZmxvYXQgYWxwaGE9b3BhY2l0eSpvdXRfZmFkZV9vcGFjaXR5O2Zsb2F0IGhpZGRlbj1mbG9hdChhbHBoYT09MC4wIHx8IHByb2plY3RlZF9wb2ludC53IDw9MC4wIHx8IG9jY2x1c2lvbl9mYWRlPT0wLjApO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIHhBeGlzPXVfcGl0Y2hfd2l0aF9tYXAgPyBub3JtYWxpemUoY3Jvc3MoYV9nbG9iZV9ub3JtYWwsdV91cF92ZWN0b3IpKSA6IHZlYzMoMSwwLDApO3ZlYzMgeUF4aXM9dV9waXRjaF93aXRoX21hcCA/IG5vcm1hbGl6ZShjcm9zcyhhX2dsb2JlX25vcm1hbCx4QXhpcykpIDogdmVjMygwLDEsMCk7Z2xfUG9zaXRpb249bWl4KHVfY29vcmRfbWF0cml4KnZlYzQocHJvamVjdGVkX3Bvcy54eXovcHJvamVjdGVkX3Bvcy53K3hBeGlzKm9mZnNldC54K3lBeGlzKm9mZnNldC55LDEuMCksQVdBWSxoaWRkZW4pO1xcbiNlbHNlXFxuZ2xfUG9zaXRpb249bWl4KHVfY29vcmRfbWF0cml4KnZlYzQocHJvamVjdGVkX3Bvcy54eS9wcm9qZWN0ZWRfcG9zLncrb2Zmc2V0LHosMS4wKSxBV0FZLGhpZGRlbik7XFxuI2VuZGlmXFxudl90ZXhfYT1hX3RleC91X3RleHNpemU7XFxuI2lmZGVmIElDT05fVFJBTlNJVElPTlxcbnZfdGV4X2I9YV90ZXhiL3VfdGV4c2l6ZTtcXG4jZW5kaWZcXG52X2ZhZGVfb3BhY2l0eT1vdXRfZmFkZV9vcGFjaXR5O30nKSxzeW1ib2xTREY6QkUoJyNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxuI2RlZmluZSBTREZfUFggOC4wXFxudW5pZm9ybSBzYW1wbGVyMkQgdV90ZXh0dXJlO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9nYW1tYV9zY2FsZTt1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dW5pZm9ybSBib29sIHVfaXNfdGV4dDt1bmlmb3JtIGJvb2wgdV9pc19oYWxvO1xcbiNpZiBfX1ZFUlNJT05fXyA+PTMwMFxcbmZsYXQgdmFyeWluZyBmbG9hdCB2X2RyYXdfaGFsbztcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzIgdl9kYXRhMDt2YXJ5aW5nIHZlYzMgdl9kYXRhMTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX2JsdXJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgZW1pc3NpdmVfc3RyZW5ndGhcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX2JsdXJcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGVtaXNzaXZlX3N0cmVuZ3RoXFxuZmxvYXQgRURHRV9HQU1NQT0wLjEwNS91X2RldmljZV9waXhlbF9yYXRpbzt2ZWMyIHRleD12X2RhdGEwLnh5O2Zsb2F0IGdhbW1hX3NjYWxlPXZfZGF0YTEueDtmbG9hdCBzaXplPXZfZGF0YTEueTtmbG9hdCBmYWRlX29wYWNpdHk9dl9kYXRhMVsyXTtmbG9hdCBmb250U2NhbGU9dV9pc190ZXh0ID8gc2l6ZS8yNC4wIDogc2l6ZTtsb3dwIHZlYzQgY29sb3I9ZmlsbF9jb2xvcjtoaWdocCBmbG9hdCBnYW1tYT1FREdFX0dBTU1BLyhmb250U2NhbGUqdV9nYW1tYV9zY2FsZSk7bG93cCBmbG9hdCBidWZmPSgyNTYuMC02NC4wKS8yNTYuMDtib29sIGRyYXdfaGFsbztcXG4jaWYgX19WRVJTSU9OX18gPj0zMDBcXG5kcmF3X2hhbG89dl9kcmF3X2hhbG8gPiAwLjA7XFxuI2Vsc2VcXG5kcmF3X2hhbG89dV9pc19oYWxvO1xcbiNlbmRpZlxcbmlmIChkcmF3X2hhbG8pIHtjb2xvcj1oYWxvX2NvbG9yO2dhbW1hPShoYWxvX2JsdXIqMS4xOS9TREZfUFgrRURHRV9HQU1NQSkvKGZvbnRTY2FsZSp1X2dhbW1hX3NjYWxlKTtidWZmPSg2LjAtaGFsb193aWR0aC9mb250U2NhbGUpL1NERl9QWDt9bG93cCBmbG9hdCBkaXN0PXRleHR1cmUyRCh1X3RleHR1cmUsdGV4KS5hO2hpZ2hwIGZsb2F0IGdhbW1hX3NjYWxlZD1nYW1tYSpnYW1tYV9zY2FsZTtoaWdocCBmbG9hdCBhbHBoYT1zbW9vdGhzdGVwKGJ1ZmYtZ2FtbWFfc2NhbGVkLGJ1ZmYrZ2FtbWFfc2NhbGVkLGRpc3QpO3ZlYzQgb3V0X2NvbG9yPWNvbG9yKihhbHBoYSpvcGFjaXR5KmZhZGVfb3BhY2l0eSk7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5vdXRfY29sb3I9YXBwbHlfbGlnaHRpbmdfd2l0aF9lbWlzc2lvbl9ncm91bmQob3V0X2NvbG9yLGVtaXNzaXZlX3N0cmVuZ3RoKTtcXG4jZW5kaWZcXG5nbF9GcmFnQ29sb3I9b3V0X2NvbG9yO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbkhBTkRMRV9XSVJFRlJBTUVfREVCVUc7fScsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfdGVycmFpbi52ZXJ0ZXguZ2xzbFwiXFxuYXR0cmlidXRlIHZlYzQgYV9wb3Nfb2Zmc2V0O2F0dHJpYnV0ZSB2ZWM0IGFfdGV4X3NpemU7YXR0cmlidXRlIHZlYzQgYV9waXhlbG9mZnNldDthdHRyaWJ1dGUgdmVjNCBhX3Byb2plY3RlZF9wb3M7YXR0cmlidXRlIGZsb2F0IGFfZmFkZV9vcGFjaXR5O1xcbiNpZmRlZiBaX09GRlNFVFxcbmF0dHJpYnV0ZSBmbG9hdCBhX3pfb2Zmc2V0O1xcbiNlbmRpZlxcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5hdHRyaWJ1dGUgdmVjMyBhX2dsb2JlX2FuY2hvcjthdHRyaWJ1dGUgdmVjMyBhX2dsb2JlX25vcm1hbDtcXG4jZW5kaWZcXG51bmlmb3JtIGJvb2wgdV9pc19zaXplX3pvb21fY29uc3RhbnQ7dW5pZm9ybSBib29sIHVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9zaXplX3Q7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3NpemU7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2xhYmVsX3BsYW5lX21hdHJpeDt1bmlmb3JtIG1hdDQgdV9jb29yZF9tYXRyaXg7dW5pZm9ybSBib29sIHVfaXNfdGV4dDt1bmlmb3JtIGJvb2wgdV9waXRjaF93aXRoX21hcDt1bmlmb3JtIGJvb2wgdV9yb3RhdGVfc3ltYm9sO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9hc3BlY3RfcmF0aW87dW5pZm9ybSBoaWdocCBmbG9hdCB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7dW5pZm9ybSBmbG9hdCB1X2ZhZGVfY2hhbmdlO3VuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSB2ZWMzIHVfdXBfdmVjdG9yO3VuaWZvcm0gYm9vbCB1X2lzX2hhbG87XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnVuaWZvcm0gdmVjMyB1X3RpbGVfaWQ7dW5pZm9ybSBtYXQ0IHVfaW52X3JvdF9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfbWVyY19jZW50ZXI7dW5pZm9ybSB2ZWMzIHVfY2FtZXJhX2ZvcndhcmQ7dW5pZm9ybSBmbG9hdCB1X3pvb21fdHJhbnNpdGlvbjt1bmlmb3JtIHZlYzMgdV9lY2VmX29yaWdpbjt1bmlmb3JtIG1hdDQgdV90aWxlX21hdHJpeDtcXG4jZW5kaWZcXG4jaWYgX19WRVJTSU9OX18gPj0zMDBcXG5mbGF0IHZhcnlpbmcgZmxvYXQgdl9kcmF3X2hhbG87XFxuI2VuZGlmXFxudmFyeWluZyB2ZWMyIHZfZGF0YTA7dmFyeWluZyB2ZWMzIHZfZGF0YTE7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGVtaXNzaXZlX3N0cmVuZ3RoXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBlbWlzc2l2ZV9zdHJlbmd0aFxcbnZlYzIgYV9wb3M9YV9wb3Nfb2Zmc2V0Lnh5O3ZlYzIgYV9vZmZzZXQ9YV9wb3Nfb2Zmc2V0Lnp3O3ZlYzIgYV90ZXg9YV90ZXhfc2l6ZS54eTt2ZWMyIGFfc2l6ZT1hX3RleF9zaXplLnp3O2Zsb2F0IGFfc2l6ZV9taW49Zmxvb3IoYV9zaXplWzBdKjAuNSk7dmVjMiBhX3B4b2Zmc2V0PWFfcGl4ZWxvZmZzZXQueHk7aGlnaHAgZmxvYXQgc2VnbWVudF9hbmdsZT0tYV9wcm9qZWN0ZWRfcG9zWzNdO2Zsb2F0IHNpemU7aWYgKCF1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtzaXplPW1peChhX3NpemVfbWluLGFfc2l6ZVsxXSx1X3NpemVfdCkvMTI4LjA7fSBlbHNlIGlmICh1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtzaXplPWFfc2l6ZV9taW4vMTI4LjA7fSBlbHNlIHtzaXplPXVfc2l6ZTt9dmVjMiB0aWxlX2FuY2hvcj1hX3BvcztmbG9hdCBlPWVsZXZhdGlvbih0aWxlX2FuY2hvcik7XFxuI2lmZGVmIFpfT0ZGU0VUXFxuZSs9YV96X29mZnNldDtcXG4jZW5kaWZcXG52ZWMzIGg9ZWxldmF0aW9uVmVjdG9yKHRpbGVfYW5jaG9yKSplO2Zsb2F0IGdsb2JlX29jY2x1c2lvbl9mYWRlO3ZlYzMgd29ybGRfcG9zO3ZlYzMgbWVyY2F0b3JfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5tZXJjYXRvcl9wb3M9bWVyY2F0b3JfdGlsZV9wb3NpdGlvbih1X2ludl9yb3RfbWF0cml4LHRpbGVfYW5jaG9yLHVfdGlsZV9pZCx1X21lcmNfY2VudGVyKTt3b3JsZF9wb3M9bWl4X2dsb2JlX21lcmNhdG9yKGFfZ2xvYmVfYW5jaG9yK2gsbWVyY2F0b3JfcG9zLHVfem9vbV90cmFuc2l0aW9uKTt2ZWM0IGVjZWZfcG9pbnQ9dV90aWxlX21hdHJpeCp2ZWM0KHdvcmxkX3BvcywxLjApO3ZlYzMgb3JpZ2luX3RvX3BvaW50PWVjZWZfcG9pbnQueHl6LXVfZWNlZl9vcmlnaW47Z2xvYmVfb2NjbHVzaW9uX2ZhZGU9ZG90KG9yaWdpbl90b19wb2ludCx1X2NhbWVyYV9mb3J3YXJkKSA+PTAuMCA/IDAuMCA6IDEuMDtcXG4jZWxzZVxcbndvcmxkX3Bvcz12ZWMzKHRpbGVfYW5jaG9yLDApK2g7Z2xvYmVfb2NjbHVzaW9uX2ZhZGU9MS4wO1xcbiNlbmRpZlxcbnZlYzQgcHJvamVjdGVkX3BvaW50PXVfbWF0cml4KnZlYzQod29ybGRfcG9zLDEpO2hpZ2hwIGZsb2F0IGNhbWVyYV90b19hbmNob3JfZGlzdGFuY2U9cHJvamVjdGVkX3BvaW50Lnc7aGlnaHAgZmxvYXQgZGlzdGFuY2VfcmF0aW89dV9waXRjaF93aXRoX21hcCA/XFxuY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZS91X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UgOlxcbnVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZS9jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlO2hpZ2hwIGZsb2F0IHBlcnNwZWN0aXZlX3JhdGlvPWNsYW1wKFxcbjAuNSswLjUqZGlzdGFuY2VfcmF0aW8sMC4wLDEuNSk7c2l6ZSo9cGVyc3BlY3RpdmVfcmF0aW87ZmxvYXQgZm9udFNjYWxlPXVfaXNfdGV4dCA/IHNpemUvMjQuMCA6IHNpemU7aGlnaHAgZmxvYXQgc3ltYm9sX3JvdGF0aW9uPTAuMDtpZiAodV9yb3RhdGVfc3ltYm9sKSB7dmVjNCBvZmZzZXRwcm9qZWN0ZWRfcG9pbnQ7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgZGlzcGxhY2VtZW50PXZlYzMoYV9nbG9iZV9ub3JtYWwueiwwLC1hX2dsb2JlX25vcm1hbC54KTtvZmZzZXRwcm9qZWN0ZWRfcG9pbnQ9dV9tYXRyaXgqdmVjNChhX2dsb2JlX2FuY2hvcitkaXNwbGFjZW1lbnQsMSk7XFxuI2Vsc2VcXG5vZmZzZXRwcm9qZWN0ZWRfcG9pbnQ9dV9tYXRyaXgqdmVjNCh0aWxlX2FuY2hvcit2ZWMyKDEsMCksMCwxKTtcXG4jZW5kaWZcXG52ZWMyIGE9cHJvamVjdGVkX3BvaW50Lnh5L3Byb2plY3RlZF9wb2ludC53O3ZlYzIgYj1vZmZzZXRwcm9qZWN0ZWRfcG9pbnQueHkvb2Zmc2V0cHJvamVjdGVkX3BvaW50Lnc7c3ltYm9sX3JvdGF0aW9uPWF0YW4oKGIueS1hLnkpL3VfYXNwZWN0X3JhdGlvLGIueC1hLngpO312ZWM0IHByb2plY3RlZF9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgcHJval9wb3M9bWl4X2dsb2JlX21lcmNhdG9yKGFfcHJvamVjdGVkX3Bvcy54eXoraCxtZXJjYXRvcl9wb3MsdV96b29tX3RyYW5zaXRpb24pO3Byb2plY3RlZF9wb3M9dV9sYWJlbF9wbGFuZV9tYXRyaXgqdmVjNChwcm9qX3BvcywxLjApO1xcbiNlbHNlXFxucHJvamVjdGVkX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeCp2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eSxoLnosMS4wKTtcXG4jZW5kaWZcXG5oaWdocCBmbG9hdCBhbmdsZV9zaW49c2luKHNlZ21lbnRfYW5nbGUrc3ltYm9sX3JvdGF0aW9uKTtoaWdocCBmbG9hdCBhbmdsZV9jb3M9Y29zKHNlZ21lbnRfYW5nbGUrc3ltYm9sX3JvdGF0aW9uKTttYXQyIHJvdGF0aW9uX21hdHJpeD1tYXQyKGFuZ2xlX2NvcywtMS4wKmFuZ2xlX3NpbixhbmdsZV9zaW4sYW5nbGVfY29zKTtmbG9hdCB6PTAuMDt2ZWMyIG9mZnNldD1yb3RhdGlvbl9tYXRyaXgqKGFfb2Zmc2V0LzMyLjAqZm9udFNjYWxlK2FfcHhvZmZzZXQpO1xcbiNpZmRlZiBURVJSQUlOXFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQX1RFUlJBSU5cXG52ZWM0IHRpbGVfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4X2ludip2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eStvZmZzZXQsMC4wLDEuMCk7ej1lbGV2YXRpb24odGlsZV9wb3MueHkpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbmZsb2F0IG9jY2x1c2lvbl9mYWRlPW9jY2x1c2lvbkZhZGUocHJvamVjdGVkX3BvaW50KSpnbG9iZV9vY2NsdXNpb25fZmFkZTtmbG9hdCBwcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZT0xLjA7XFxuI2lmIGRlZmluZWQoUFJPSkVDVEVEX1BPU19PTl9WSUVXUE9SVCkgJiYgZGVmaW5lZChQUk9KRUNUSU9OX0dMT0JFX1ZJRVcpXFxucHJvamVjdGlvbl90cmFuc2l0aW9uX2ZhZGU9MS4wLXN0ZXAoRVBTSUxPTix1X3pvb21fdHJhbnNpdGlvbik7XFxuI2VuZGlmXFxudmVjMiBmYWRlX29wYWNpdHk9dW5wYWNrX29wYWNpdHkoYV9mYWRlX29wYWNpdHkpO2Zsb2F0IGZhZGVfY2hhbmdlPWZhZGVfb3BhY2l0eVsxXSA+IDAuNSA/IHVfZmFkZV9jaGFuZ2UgOi11X2ZhZGVfY2hhbmdlO2Zsb2F0IGludGVycG9sYXRlZF9mYWRlX29wYWNpdHk9bWF4KDAuMCxtaW4ob2NjbHVzaW9uX2ZhZGUsZmFkZV9vcGFjaXR5WzBdK2ZhZGVfY2hhbmdlKSk7ZmxvYXQgb3V0X2ZhZGVfb3BhY2l0eT1pbnRlcnBvbGF0ZWRfZmFkZV9vcGFjaXR5KnByb2plY3Rpb25fdHJhbnNpdGlvbl9mYWRlO2Zsb2F0IGFscGhhPW9wYWNpdHkqb3V0X2ZhZGVfb3BhY2l0eTtmbG9hdCBoaWRkZW49ZmxvYXQoYWxwaGE9PTAuMCB8fCBwcm9qZWN0ZWRfcG9pbnQudyA8PTAuMCB8fCBvY2NsdXNpb25fZmFkZT09MC4wKTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyB4QXhpcz11X3BpdGNoX3dpdGhfbWFwID8gbm9ybWFsaXplKGNyb3NzKGFfZ2xvYmVfbm9ybWFsLHVfdXBfdmVjdG9yKSkgOiB2ZWMzKDEsMCwwKTt2ZWMzIHlBeGlzPXVfcGl0Y2hfd2l0aF9tYXAgPyBub3JtYWxpemUoY3Jvc3MoYV9nbG9iZV9ub3JtYWwseEF4aXMpKSA6IHZlYzMoMCwxLDApO2dsX1Bvc2l0aW9uPW1peCh1X2Nvb3JkX21hdHJpeCp2ZWM0KHByb2plY3RlZF9wb3MueHl6L3Byb2plY3RlZF9wb3Mudyt4QXhpcypvZmZzZXQueCt5QXhpcypvZmZzZXQueSwxLjApLEFXQVksaGlkZGVuKTtcXG4jZWxzZVxcbmdsX1Bvc2l0aW9uPW1peCh1X2Nvb3JkX21hdHJpeCp2ZWM0KHByb2plY3RlZF9wb3MueHkvcHJvamVjdGVkX3Bvcy53K29mZnNldCx6LDEuMCksQVdBWSxoaWRkZW4pO1xcbiNlbmRpZlxcbmZsb2F0IGdhbW1hX3NjYWxlPWdsX1Bvc2l0aW9uLnc7XFxuI2lmIF9fVkVSU0lPTl9fID49MzAwXFxudl9kcmF3X2hhbG89KHVfaXNfaGFsbyAmJiBmbG9hdChnbF9JbnN0YW5jZUlEKT09MC4wKSA/IDEuMCA6IDAuMDtcXG4jZW5kaWZcXG52X2RhdGEwPWFfdGV4L3VfdGV4c2l6ZTt2X2RhdGExPXZlYzMoZ2FtbWFfc2NhbGUsc2l6ZSxvdXRfZmFkZV9vcGFjaXR5KTt9Jyksc3ltYm9sVGV4dEFuZEljb246QkUoJyNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxuI2RlZmluZSBTREZfUFggOC4wXFxuI2RlZmluZSBTREYgMS4wXFxuI2RlZmluZSBJQ09OIDAuMFxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfdGV4dHVyZTt1bmlmb3JtIHNhbXBsZXIyRCB1X3RleHR1cmVfaWNvbjt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfZ2FtbWFfc2NhbGU7dW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3VuaWZvcm0gYm9vbCB1X2lzX2hhbG87XFxuI2lmIF9fVkVSU0lPTl9fID49MzAwXFxuZmxhdCB2YXJ5aW5nIGZsb2F0IHZfZHJhd19oYWxvO1xcbiNlbmRpZlxcbnZhcnlpbmcgdmVjNCB2X2RhdGEwO3ZhcnlpbmcgdmVjNCB2X2RhdGExO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGhhbG9fY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBlbWlzc2l2ZV9zdHJlbmd0aFxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGhhbG9fY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhhbG9fYmx1clxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgZW1pc3NpdmVfc3RyZW5ndGhcXG5mbG9hdCBmYWRlX29wYWNpdHk9dl9kYXRhMVsyXTtpZiAodl9kYXRhMS53PT1JQ09OKSB7dmVjMiB0ZXhfaWNvbj12X2RhdGEwLnp3O2xvd3AgZmxvYXQgYWxwaGE9b3BhY2l0eSpmYWRlX29wYWNpdHk7Z2xfRnJhZ0NvbG9yPXRleHR1cmUyRCh1X3RleHR1cmVfaWNvbix0ZXhfaWNvbikqYWxwaGE7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxucmV0dXJuO312ZWMyIHRleD12X2RhdGEwLnh5O2Zsb2F0IEVER0VfR0FNTUE9MC4xMDUvdV9kZXZpY2VfcGl4ZWxfcmF0aW87ZmxvYXQgZ2FtbWFfc2NhbGU9dl9kYXRhMS54O2Zsb2F0IHNpemU9dl9kYXRhMS55O2Zsb2F0IGZvbnRTY2FsZT1zaXplLzI0LjA7bG93cCB2ZWM0IGNvbG9yPWZpbGxfY29sb3I7aGlnaHAgZmxvYXQgZ2FtbWE9RURHRV9HQU1NQS8oZm9udFNjYWxlKnVfZ2FtbWFfc2NhbGUpO2xvd3AgZmxvYXQgYnVmZj0oMjU2LjAtNjQuMCkvMjU2LjA7Ym9vbCBkcmF3X2hhbG87XFxuI2lmIF9fVkVSU0lPTl9fID49MzAwXFxuZHJhd19oYWxvPXZfZHJhd19oYWxvID4gMC4wO1xcbiNlbHNlXFxuZHJhd19oYWxvPXVfaXNfaGFsbztcXG4jZW5kaWZcXG5pZiAoZHJhd19oYWxvKSB7Y29sb3I9aGFsb19jb2xvcjtnYW1tYT0oaGFsb19ibHVyKjEuMTkvU0RGX1BYK0VER0VfR0FNTUEpLyhmb250U2NhbGUqdV9nYW1tYV9zY2FsZSk7YnVmZj0oNi4wLWhhbG9fd2lkdGgvZm9udFNjYWxlKS9TREZfUFg7fWxvd3AgZmxvYXQgZGlzdD10ZXh0dXJlMkQodV90ZXh0dXJlLHRleCkuYTtoaWdocCBmbG9hdCBnYW1tYV9zY2FsZWQ9Z2FtbWEqZ2FtbWFfc2NhbGU7aGlnaHAgZmxvYXQgYWxwaGE9c21vb3Roc3RlcChidWZmLWdhbW1hX3NjYWxlZCxidWZmK2dhbW1hX3NjYWxlZCxkaXN0KTt2ZWM0IG91dF9jb2xvcj1jb2xvciooYWxwaGEqb3BhY2l0eSpmYWRlX29wYWNpdHkpO1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxub3V0X2NvbG9yPWFwcGx5X2xpZ2h0aW5nX3dpdGhfZW1pc3Npb25fZ3JvdW5kKG91dF9jb2xvcixlbWlzc2l2ZV9zdHJlbmd0aCk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvcjtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG5IQU5ETEVfV0lSRUZSQU1FX0RFQlVHO30nLCcjaW5jbHVkZSBcIl9wcmVsdWRlX3RlcnJhaW4udmVydGV4Lmdsc2xcIlxcbmF0dHJpYnV0ZSB2ZWM0IGFfcG9zX29mZnNldDthdHRyaWJ1dGUgdmVjNCBhX3RleF9zaXplO2F0dHJpYnV0ZSB2ZWM0IGFfcHJvamVjdGVkX3BvczthdHRyaWJ1dGUgZmxvYXQgYV9mYWRlX29wYWNpdHk7XFxuI2lmZGVmIFpfT0ZGU0VUXFxuYXR0cmlidXRlIGZsb2F0IGFfel9vZmZzZXQ7XFxuI2VuZGlmXFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmF0dHJpYnV0ZSB2ZWMzIGFfZ2xvYmVfYW5jaG9yO2F0dHJpYnV0ZSB2ZWMzIGFfZ2xvYmVfbm9ybWFsO1xcbiNlbmRpZlxcbnVuaWZvcm0gYm9vbCB1X2lzX3NpemVfem9vbV9jb25zdGFudDt1bmlmb3JtIGJvb2wgdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3NpemVfdDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZTt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfbGFiZWxfcGxhbmVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2Nvb3JkX21hdHJpeDt1bmlmb3JtIGJvb2wgdV9pc190ZXh0O3VuaWZvcm0gYm9vbCB1X3BpdGNoX3dpdGhfbWFwO3VuaWZvcm0gYm9vbCB1X3JvdGF0ZV9zeW1ib2w7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2FzcGVjdF9yYXRpbzt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTt1bmlmb3JtIGZsb2F0IHVfZmFkZV9jaGFuZ2U7dW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIHZlYzMgdV91cF92ZWN0b3I7dW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZV9pY29uO3VuaWZvcm0gYm9vbCB1X2lzX2hhbG87XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnVuaWZvcm0gdmVjMyB1X3RpbGVfaWQ7dW5pZm9ybSBtYXQ0IHVfaW52X3JvdF9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfbWVyY19jZW50ZXI7dW5pZm9ybSB2ZWMzIHVfY2FtZXJhX2ZvcndhcmQ7dW5pZm9ybSBmbG9hdCB1X3pvb21fdHJhbnNpdGlvbjt1bmlmb3JtIHZlYzMgdV9lY2VmX29yaWdpbjt1bmlmb3JtIG1hdDQgdV90aWxlX21hdHJpeDtcXG4jZW5kaWZcXG4jaWYgX19WRVJTSU9OX18gPj0zMDBcXG5mbGF0IHZhcnlpbmcgZmxvYXQgdl9kcmF3X2hhbG87XFxuI2VuZGlmXFxudmFyeWluZyB2ZWM0IHZfZGF0YTA7dmFyeWluZyB2ZWM0IHZfZGF0YTE7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGVtaXNzaXZlX3N0cmVuZ3RoXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBlbWlzc2l2ZV9zdHJlbmd0aFxcbnZlYzIgYV9wb3M9YV9wb3Nfb2Zmc2V0Lnh5O3ZlYzIgYV9vZmZzZXQ9YV9wb3Nfb2Zmc2V0Lnp3O3ZlYzIgYV90ZXg9YV90ZXhfc2l6ZS54eTt2ZWMyIGFfc2l6ZT1hX3RleF9zaXplLnp3O2Zsb2F0IGFfc2l6ZV9taW49Zmxvb3IoYV9zaXplWzBdKjAuNSk7ZmxvYXQgaXNfc2RmPWFfc2l6ZVswXS0yLjAqYV9zaXplX21pbjtoaWdocCBmbG9hdCBzZWdtZW50X2FuZ2xlPS1hX3Byb2plY3RlZF9wb3NbM107ZmxvYXQgc2l6ZTtpZiAoIXVfaXNfc2l6ZV96b29tX2NvbnN0YW50ICYmICF1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCkge3NpemU9bWl4KGFfc2l6ZV9taW4sYV9zaXplWzFdLHVfc2l6ZV90KS8xMjguMDt9IGVsc2UgaWYgKHVfaXNfc2l6ZV96b29tX2NvbnN0YW50ICYmICF1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCkge3NpemU9YV9zaXplX21pbi8xMjguMDt9IGVsc2Uge3NpemU9dV9zaXplO312ZWMyIHRpbGVfYW5jaG9yPWFfcG9zO2Zsb2F0IGU9ZWxldmF0aW9uKHRpbGVfYW5jaG9yKTtcXG4jaWZkZWYgWl9PRkZTRVRcXG5lKz1hX3pfb2Zmc2V0O1xcbiNlbmRpZlxcbnZlYzMgaD1lbGV2YXRpb25WZWN0b3IodGlsZV9hbmNob3IpKmU7ZmxvYXQgZ2xvYmVfb2NjbHVzaW9uX2ZhZGU7dmVjMyB3b3JsZF9wb3M7dmVjMyBtZXJjYXRvcl9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbm1lcmNhdG9yX3Bvcz1tZXJjYXRvcl90aWxlX3Bvc2l0aW9uKHVfaW52X3JvdF9tYXRyaXgsdGlsZV9hbmNob3IsdV90aWxlX2lkLHVfbWVyY19jZW50ZXIpO3dvcmxkX3Bvcz1taXhfZ2xvYmVfbWVyY2F0b3IoYV9nbG9iZV9hbmNob3IraCxtZXJjYXRvcl9wb3MsdV96b29tX3RyYW5zaXRpb24pO3ZlYzQgZWNlZl9wb2ludD11X3RpbGVfbWF0cml4KnZlYzQod29ybGRfcG9zLDEuMCk7dmVjMyBvcmlnaW5fdG9fcG9pbnQ9ZWNlZl9wb2ludC54eXotdV9lY2VmX29yaWdpbjtnbG9iZV9vY2NsdXNpb25fZmFkZT1kb3Qob3JpZ2luX3RvX3BvaW50LHVfY2FtZXJhX2ZvcndhcmQpID49MC4wID8gMC4wIDogMS4wO1xcbiNlbHNlXFxud29ybGRfcG9zPXZlYzModGlsZV9hbmNob3IsMCkraDtnbG9iZV9vY2NsdXNpb25fZmFkZT0xLjA7XFxuI2VuZGlmXFxudmVjNCBwcm9qZWN0ZWRfcG9pbnQ9dV9tYXRyaXgqdmVjNCh3b3JsZF9wb3MsMSk7aGlnaHAgZmxvYXQgY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZT1wcm9qZWN0ZWRfcG9pbnQudztoaWdocCBmbG9hdCBkaXN0YW5jZV9yYXRpbz11X3BpdGNoX3dpdGhfbWFwID9cXG5jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlL3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSA6XFxudV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlL2NhbWVyYV90b19hbmNob3JfZGlzdGFuY2U7aGlnaHAgZmxvYXQgcGVyc3BlY3RpdmVfcmF0aW89Y2xhbXAoXFxuMC41KzAuNSpkaXN0YW5jZV9yYXRpbywwLjAsMS41KTtzaXplKj1wZXJzcGVjdGl2ZV9yYXRpbztmbG9hdCBmb250X3NjYWxlPXNpemUvMjQuMDtoaWdocCBmbG9hdCBzeW1ib2xfcm90YXRpb249MC4wO2lmICh1X3JvdGF0ZV9zeW1ib2wpIHt2ZWM0IG9mZnNldF9wcm9qZWN0ZWRfcG9pbnQ9dV9tYXRyaXgqdmVjNChhX3Bvcyt2ZWMyKDEsMCksMCwxKTt2ZWMyIGE9cHJvamVjdGVkX3BvaW50Lnh5L3Byb2plY3RlZF9wb2ludC53O3ZlYzIgYj1vZmZzZXRfcHJvamVjdGVkX3BvaW50Lnh5L29mZnNldF9wcm9qZWN0ZWRfcG9pbnQudztzeW1ib2xfcm90YXRpb249YXRhbigoYi55LWEueSkvdV9hc3BlY3RfcmF0aW8sYi54LWEueCk7fXZlYzQgcHJvamVjdGVkX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBwcm9qX3Bvcz1taXhfZ2xvYmVfbWVyY2F0b3IoYV9wcm9qZWN0ZWRfcG9zLnh5eitoLG1lcmNhdG9yX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7cHJvamVjdGVkX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeCp2ZWM0KHByb2pfcG9zLDEuMCk7XFxuI2Vsc2VcXG5wcm9qZWN0ZWRfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4KnZlYzQoYV9wcm9qZWN0ZWRfcG9zLnh5LGgueiwxLjApO1xcbiNlbmRpZlxcbmhpZ2hwIGZsb2F0IGFuZ2xlX3Npbj1zaW4oc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO2hpZ2hwIGZsb2F0IGFuZ2xlX2Nvcz1jb3Moc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO21hdDIgcm90YXRpb25fbWF0cml4PW1hdDIoYW5nbGVfY29zLC0xLjAqYW5nbGVfc2luLGFuZ2xlX3NpbixhbmdsZV9jb3MpO2Zsb2F0IHo9MC4wO3ZlYzIgb2Zmc2V0PXJvdGF0aW9uX21hdHJpeCooYV9vZmZzZXQvMzIuMCpmb250X3NjYWxlKTtcXG4jaWZkZWYgVEVSUkFJTlxcbiNpZmRlZiBQSVRDSF9XSVRIX01BUF9URVJSQUlOXFxudmVjNCB0aWxlX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeF9pbnYqdmVjNChhX3Byb2plY3RlZF9wb3MueHkrb2Zmc2V0LDAuMCwxLjApO3o9ZWxldmF0aW9uKHRpbGVfcG9zLnh5KTtcXG4jZW5kaWZcXG4jZW5kaWZcXG5mbG9hdCBvY2NsdXNpb25fZmFkZT1vY2NsdXNpb25GYWRlKHByb2plY3RlZF9wb2ludCkqZ2xvYmVfb2NjbHVzaW9uX2ZhZGU7dmVjMiBmYWRlX29wYWNpdHk9dW5wYWNrX29wYWNpdHkoYV9mYWRlX29wYWNpdHkpO2Zsb2F0IGZhZGVfY2hhbmdlPWZhZGVfb3BhY2l0eVsxXSA+IDAuNSA/IHVfZmFkZV9jaGFuZ2UgOi11X2ZhZGVfY2hhbmdlO2Zsb2F0IGludGVycG9sYXRlZF9mYWRlX29wYWNpdHk9bWF4KDAuMCxtaW4ob2NjbHVzaW9uX2ZhZGUsZmFkZV9vcGFjaXR5WzBdK2ZhZGVfY2hhbmdlKSk7ZmxvYXQgcHJvamVjdGlvbl90cmFuc2l0aW9uX2ZhZGU9MS4wO1xcbiNpZiBkZWZpbmVkKFBST0pFQ1RFRF9QT1NfT05fVklFV1BPUlQpICYmIGRlZmluZWQoUFJPSkVDVElPTl9HTE9CRV9WSUVXKVxcbnByb2plY3Rpb25fdHJhbnNpdGlvbl9mYWRlPTEuMC1zdGVwKEVQU0lMT04sdV96b29tX3RyYW5zaXRpb24pO1xcbiNlbmRpZlxcbmZsb2F0IG91dF9mYWRlX29wYWNpdHk9aW50ZXJwb2xhdGVkX2ZhZGVfb3BhY2l0eSpwcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZTtmbG9hdCBhbHBoYT1vcGFjaXR5Km91dF9mYWRlX29wYWNpdHk7ZmxvYXQgaGlkZGVuPWZsb2F0KGFscGhhPT0wLjAgfHwgcHJvamVjdGVkX3BvaW50LncgPD0wLjAgfHwgb2NjbHVzaW9uX2ZhZGU9PTAuMCk7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgeEF4aXM9dV9waXRjaF93aXRoX21hcCA/IG5vcm1hbGl6ZShjcm9zcyhhX2dsb2JlX25vcm1hbCx1X3VwX3ZlY3RvcikpIDogdmVjMygxLDAsMCk7dmVjMyB5QXhpcz11X3BpdGNoX3dpdGhfbWFwID8gbm9ybWFsaXplKGNyb3NzKGFfZ2xvYmVfbm9ybWFsLHhBeGlzKSkgOiB2ZWMzKDAsMSwwKTtnbF9Qb3NpdGlvbj1taXgodV9jb29yZF9tYXRyaXgqdmVjNChwcm9qZWN0ZWRfcG9zLnh5ei9wcm9qZWN0ZWRfcG9zLncreEF4aXMqb2Zmc2V0LngreUF4aXMqb2Zmc2V0LnksMS4wKSxBV0FZLGhpZGRlbik7XFxuI2Vsc2VcXG5nbF9Qb3NpdGlvbj1taXgodV9jb29yZF9tYXRyaXgqdmVjNChwcm9qZWN0ZWRfcG9zLnh5L3Byb2plY3RlZF9wb3MudytvZmZzZXQseiwxLjApLEFXQVksaGlkZGVuKTtcXG4jZW5kaWZcXG5mbG9hdCBnYW1tYV9zY2FsZT1nbF9Qb3NpdGlvbi53O1xcbiNpZiBfX1ZFUlNJT05fXyA+PTMwMFxcbnZfZHJhd19oYWxvPSh1X2lzX2hhbG8gJiYgZmxvYXQoZ2xfSW5zdGFuY2VJRCk9PTAuMCkgPyAxLjAgOiAwLjA7XFxuI2VuZGlmXFxudl9kYXRhMC54eT1hX3RleC91X3RleHNpemU7dl9kYXRhMC56dz1hX3RleC91X3RleHNpemVfaWNvbjt2X2RhdGExPXZlYzQoZ2FtbWFfc2NhbGUsc2l6ZSxvdXRfZmFkZV9vcGFjaXR5LGlzX3NkZik7fScpLHRlcnJhaW5SYXN0ZXI6QkUoJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfc2hhZG93LmZyYWdtZW50Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTA7dmFyeWluZyB2ZWMyIHZfcG9zMDtcXG4jaWZkZWYgRk9HXFxudmFyeWluZyBmbG9hdCB2X2ZvZ19vcGFjaXR5O1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnZhcnlpbmcgdmVjNCB2X3Bvc19saWdodF92aWV3XzA7dmFyeWluZyB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMTt2YXJ5aW5nIGZsb2F0IHZfZGVwdGg7XFxuI2VuZGlmXFxudW5pZm9ybSB2ZWMzIHVfZ3JvdW5kX3NoYWRvd19mYWN0b3I7dm9pZCBtYWluKCkge3ZlYzQgaW1hZ2VfY29sb3I9dGV4dHVyZTJEKHVfaW1hZ2UwLHZfcG9zMCk7dmVjNCBjb2xvcjtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbmNvbnN0IHZlYzMgbm9ybWFsPXZlYzMoMC4wLDAuMCwxLjApO1xcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbmZsb2F0IGN1dG9mZk9wYWNpdHk9MS4wO1xcbiNpZmRlZiBSRU5ERVJfQ1VUT0ZGXFxuY3V0b2ZmT3BhY2l0eT1jdXRvZmZfb3BhY2l0eSh1X2N1dG9mZl9wYXJhbXMsdl9kZXB0aCk7XFxuI2VuZGlmXFxuI2lmZGVmIExJR0hUSU5HXzNEX0FMUEhBX0VNSVNTSVZFTkVTU1xcbnZlYzMgdW5saXRfYmFzZT1pbWFnZV9jb2xvci5yZ2IqKDEuMC1pbWFnZV9jb2xvci5hKTt2ZWMzIGVtaXNzaXZlX2Jhc2U9aW1hZ2VfY29sb3IucmdiKmltYWdlX2NvbG9yLmE7ZmxvYXQgbmRvdGw9dV9zaGFkb3dfZGlyZWN0aW9uLno7ZmxvYXQgb2NjbHVzaW9uPW5kb3RsIDwgMC4wID8gMS4wIDogc2hhZG93X29jY2x1c2lvbih2X3Bvc19saWdodF92aWV3XzAsdl9wb3NfbGlnaHRfdmlld18xLHZfZGVwdGgsMC4wKTtuZG90bD1tYXgoMC4wLG5kb3RsKTt2ZWMzIGxpdD1hcHBseV9saWdodGluZyh1bmxpdF9iYXNlLG5vcm1hbCxtaXgoMS4wLCgxLjAtKHVfc2hhZG93X2ludGVuc2l0eSpvY2NsdXNpb24pKSpuZG90bCxjdXRvZmZPcGFjaXR5KSk7dmVjMyBlbWlzc2l2ZT1jb21wdXRlX2VtaXNzaXZlX2RyYXBlZChlbWlzc2l2ZV9iYXNlLDEuMC11X3NoYWRvd19pbnRlbnNpdHksb2NjbHVzaW9uLHVfZ3JvdW5kX3NoYWRvd19mYWN0b3IpO2NvbG9yLnJnYj1saXQrZW1pc3NpdmU7Y29sb3IuYT0xLjA7XFxuI2Vsc2VcXG5mbG9hdCBsaWdodGluZ19mYWN0b3I9c2hhZG93ZWRfbGlnaHRfZmFjdG9yX25vcm1hbF91bmJpYXNlZChub3JtYWwsdl9wb3NfbGlnaHRfdmlld18wLHZfcG9zX2xpZ2h0X3ZpZXdfMSx2X2RlcHRoKTtjb2xvcj1hcHBseV9saWdodGluZyhpbWFnZV9jb2xvcixub3JtYWwsbWl4KDEuMCxsaWdodGluZ19mYWN0b3IsY3V0b2ZmT3BhY2l0eSkpO1xcbiNlbmRpZlxcbiNlbHNlXFxuZmxvYXQgbGlnaHRpbmdfZmFjdG9yPXVfbGlnaHRpbmdfZGlyZWN0aW9uYWxfZGlyLno7Y29sb3I9YXBwbHlfbGlnaHRpbmcoaW1hZ2VfY29sb3Isbm9ybWFsLGxpZ2h0aW5nX2ZhY3Rvcik7XFxuI2lmZGVmIExJR0hUSU5HXzNEX0FMUEhBX0VNSVNTSVZFTkVTU1xcbmNvbG9yLnJnYj1taXgoY29sb3IucmdiLGltYWdlX2NvbG9yLnJnYixpbWFnZV9jb2xvci5hKTtjb2xvci5hPTEuMDtcXG4jZW5kaWZcXG4jZW5kaWZcXG4jZWxzZVxcbmNvbG9yPWltYWdlX2NvbG9yO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG4jaWZkZWYgWkVST19FWEFHR0VSQVRJT05cXG5jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKGNvbG9yLHZfZm9nX3BvcykpO1xcbiNlbHNlXFxuY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfZnJvbV92ZXJ0KGNvbG9yLHZfZm9nX29wYWNpdHkpKTtcXG4jZW5kaWZcXG4jZW5kaWZcXG5nbF9GcmFnQ29sb3I9Y29sb3I7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxuSEFORExFX1dJUkVGUkFNRV9ERUJVRzt9JywnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cudmVydGV4Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfdGVycmFpbi52ZXJ0ZXguZ2xzbFwiXFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gZmxvYXQgdV9za2lydF9oZWlnaHQ7YXR0cmlidXRlIHZlYzIgYV9wb3M7dmFyeWluZyB2ZWMyIHZfcG9zMDtcXG4jaWZkZWYgRk9HXFxudmFyeWluZyBmbG9hdCB2X2ZvZ19vcGFjaXR5O1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnVuaWZvcm0gbWF0NCB1X2xpZ2h0X21hdHJpeF8wO3VuaWZvcm0gbWF0NCB1X2xpZ2h0X21hdHJpeF8xO3ZhcnlpbmcgdmVjNCB2X3Bvc19saWdodF92aWV3XzA7dmFyeWluZyB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMTt2YXJ5aW5nIGZsb2F0IHZfZGVwdGg7XFxuI2VuZGlmXFxudm9pZCBtYWluKCkge3ZlYzMgZGVjb21wb3NlZFBvc0FuZFNraXJ0PWRlY29tcG9zZVRvUG9zQW5kU2tpcnQoYV9wb3MpO2Zsb2F0IHNraXJ0PWRlY29tcG9zZWRQb3NBbmRTa2lydC56O3ZlYzIgZGVjb2RlZFBvcz1kZWNvbXBvc2VkUG9zQW5kU2tpcnQueHk7ZmxvYXQgZWxldmF0aW9uPWVsZXZhdGlvbihkZWNvZGVkUG9zKS1za2lydCp1X3NraXJ0X2hlaWdodDt2X3BvczA9ZGVjb2RlZFBvcy84MTkyLjA7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChkZWNvZGVkUG9zLGVsZXZhdGlvbiwxLjApO1xcbiNpZmRlZiBGT0dcXG4jaWZkZWYgWkVST19FWEFHR0VSQVRJT05cXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGRlY29kZWRQb3MpO1xcbiNlbHNlXFxudl9mb2dfb3BhY2l0eT1mb2coZm9nX3Bvc2l0aW9uKHZlYzMoZGVjb2RlZFBvcyxlbGV2YXRpb24pKSk7XFxuI2VuZGlmXFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxudmVjMyBwb3M9dmVjMyhkZWNvZGVkUG9zLGVsZXZhdGlvbik7dl9wb3NfbGlnaHRfdmlld18wPXVfbGlnaHRfbWF0cml4XzAqdmVjNChwb3MsMS4pO3ZfcG9zX2xpZ2h0X3ZpZXdfMT11X2xpZ2h0X21hdHJpeF8xKnZlYzQocG9zLDEuKTt2X2RlcHRoPWdsX1Bvc2l0aW9uLnc7XFxuI2VuZGlmXFxufScpLHRlcnJhaW5EZXB0aDpCRShcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4jZW5kaWZcXG52YXJ5aW5nIGZsb2F0IHZfZGVwdGg7dm9pZCBtYWluKCkge2dsX0ZyYWdDb2xvcj1wYWNrX2RlcHRoKHZfZGVwdGgpO31cIiwnI2luY2x1ZGUgXCJfcHJlbHVkZV90ZXJyYWluLnZlcnRleC5nbHNsXCJcXG51bmlmb3JtIG1hdDQgdV9tYXRyaXg7YXR0cmlidXRlIHZlYzIgYV9wb3M7dmFyeWluZyBmbG9hdCB2X2RlcHRoO3ZvaWQgbWFpbigpIHtmbG9hdCBlbGV2YXRpb249ZWxldmF0aW9uKGFfcG9zKTtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLGVsZXZhdGlvbiwxLjApO3ZfZGVwdGg9Z2xfUG9zaXRpb24uei9nbF9Qb3NpdGlvbi53O30nKSxza3lib3g6QkUoJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIlxcbnZhcnlpbmcgbG93cCB2ZWMzIHZfdXY7dW5pZm9ybSBsb3dwIHNhbXBsZXJDdWJlIHVfY3ViZW1hcDt1bmlmb3JtIGxvd3AgZmxvYXQgdV9vcGFjaXR5O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV90ZW1wb3JhbF9vZmZzZXQ7dW5pZm9ybSBoaWdocCB2ZWMzIHVfc3VuX2RpcmVjdGlvbjtmbG9hdCBzdW5fZGlzayhoaWdocCB2ZWMzIHJheV9kaXJlY3Rpb24saGlnaHAgdmVjMyBzdW5fZGlyZWN0aW9uKSB7aGlnaHAgZmxvYXQgY29zX2FuZ2xlPWRvdChub3JtYWxpemUocmF5X2RpcmVjdGlvbiksc3VuX2RpcmVjdGlvbik7Y29uc3QgaGlnaHAgZmxvYXQgY29zX3N1bl9hbmd1bGFyX2RpYW1ldGVyPTAuOTk5OTYxOTIzMDY7Y29uc3QgaGlnaHAgZmxvYXQgc21vb3Roc3RlcF9kZWx0YT0xZS01O3JldHVybiBzbW9vdGhzdGVwKFxcbmNvc19zdW5fYW5ndWxhcl9kaWFtZXRlci1zbW9vdGhzdGVwX2RlbHRhLGNvc19zdW5fYW5ndWxhcl9kaWFtZXRlcitzbW9vdGhzdGVwX2RlbHRhLGNvc19hbmdsZSk7fWZsb2F0IG1hcChmbG9hdCB2YWx1ZSxmbG9hdCBzdGFydCxmbG9hdCBlbmQsZmxvYXQgbmV3X3N0YXJ0LGZsb2F0IG5ld19lbmQpIHtyZXR1cm4gKCh2YWx1ZS1zdGFydCkqKG5ld19lbmQtbmV3X3N0YXJ0KSkvKGVuZC1zdGFydCkrbmV3X3N0YXJ0O312b2lkIG1haW4oKSB7dmVjMyB1dj12X3V2O2NvbnN0IGZsb2F0IHlfYmlhcz0wLjAxNTt1di55Kz15X2JpYXM7dXYueT1wb3coYWJzKHV2LnkpLDEuMC81LjApO3V2Lnk9bWFwKHV2LnksMC4wLDEuMCwtMS4wLDEuMCk7dmVjMyBza3lfY29sb3I9dGV4dHVyZUN1YmUodV9jdWJlbWFwLHV2KS5yZ2I7XFxuI2lmZGVmIEZPR1xcbnNreV9jb2xvcj1mb2dfYXBwbHlfc2t5X2dyYWRpZW50KHZfdXYueHp5LHNreV9jb2xvcik7XFxuI2VuZGlmXFxuc2t5X2NvbG9yLnJnYj1kaXRoZXIoc2t5X2NvbG9yLnJnYixnbF9GcmFnQ29vcmQueHkrdV90ZW1wb3JhbF9vZmZzZXQpO3NreV9jb2xvcis9MC4xKnN1bl9kaXNrKHZfdXYsdV9zdW5fZGlyZWN0aW9uKTtnbF9GcmFnQ29sb3I9dmVjNChza3lfY29sb3IqdV9vcGFjaXR5LHVfb3BhY2l0eSk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufScsRUUpLHNreWJveEdyYWRpZW50OkJFKCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsXCJcXG52YXJ5aW5nIGhpZ2hwIHZlYzMgdl91djt1bmlmb3JtIGxvd3Agc2FtcGxlcjJEIHVfY29sb3JfcmFtcDt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9jZW50ZXJfZGlyZWN0aW9uO3VuaWZvcm0gbG93cCBmbG9hdCB1X3JhZGl1czt1bmlmb3JtIGxvd3AgZmxvYXQgdV9vcGFjaXR5O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV90ZW1wb3JhbF9vZmZzZXQ7dm9pZCBtYWluKCkge2Zsb2F0IHByb2dyZXNzPWFjb3MoZG90KG5vcm1hbGl6ZSh2X3V2KSx1X2NlbnRlcl9kaXJlY3Rpb24pKS91X3JhZGl1czt2ZWM0IGNvbG9yPXRleHR1cmUyRCh1X2NvbG9yX3JhbXAsdmVjMihwcm9ncmVzcywwLjUpKTtcXG4jaWZkZWYgRk9HXFxuY29sb3IucmdiPWZvZ19hcHBseV9za3lfZ3JhZGllbnQodl91di54enksY29sb3IucmdiL2NvbG9yLmEpKmNvbG9yLmE7XFxuI2VuZGlmXFxuY29sb3IqPXVfb3BhY2l0eTtjb2xvci5yZ2I9ZGl0aGVyKGNvbG9yLnJnYixnbF9GcmFnQ29vcmQueHkrdV90ZW1wb3JhbF9vZmZzZXQpO2dsX0ZyYWdDb2xvcj1jb2xvcjtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59JyxFRSksc2t5Ym94Q2FwdHVyZTpCRShcIlxcbnZhcnlpbmcgaGlnaHAgdmVjMyB2X3Bvc2l0aW9uO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9zdW5faW50ZW5zaXR5O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9sdW1pbmFuY2U7dW5pZm9ybSBsb3dwIHZlYzMgdV9zdW5fZGlyZWN0aW9uO3VuaWZvcm0gaGlnaHAgdmVjNCB1X2NvbG9yX3RpbnRfcjt1bmlmb3JtIGhpZ2hwIHZlYzQgdV9jb2xvcl90aW50X207XFxuI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNlbmRpZlxcbiNkZWZpbmUgQkVUQV9SICAgICAgICAgICAgICAgICAgdmVjMyg1LjVlLTYsMTMuMGUtNiwyMi40ZS02KVxcbiNkZWZpbmUgQkVUQV9NICAgICAgICAgICAgICAgICAgdmVjMygyMWUtNiwyMWUtNiwyMWUtNilcXG4jZGVmaW5lIE1JRV9HICAgICAgICAgICAgICAgICAgIDAuNzZcXG4jZGVmaW5lIERFTlNJVFlfSEVJR0hUX1NDQUxFX1IgIDgwMDAuMFxcbiNkZWZpbmUgREVOU0lUWV9IRUlHSFRfU0NBTEVfTSAgMTIwMC4wXFxuI2RlZmluZSBQTEFORVRfUkFESVVTICAgICAgICAgICA2MzYwZTNcXG4jZGVmaW5lIEFUTU9TUEhFUkVfUkFESVVTICAgICAgIDY0MjBlM1xcbiNkZWZpbmUgU0FNUExFX1NURVBTICAgICAgICAgICAgMTBcXG4jZGVmaW5lIERFTlNJVFlfU1RFUFMgICAgICAgICAgIDRcXG5mbG9hdCByYXlfc3BoZXJlX2V4aXQodmVjMyBvcmlnLHZlYzMgZGlyLGZsb2F0IHJhZGl1cykge2Zsb2F0IGE9ZG90KGRpcixkaXIpO2Zsb2F0IGI9Mi4wKmRvdChkaXIsb3JpZyk7ZmxvYXQgYz1kb3Qob3JpZyxvcmlnKS1yYWRpdXMqcmFkaXVzO2Zsb2F0IGQ9c3FydChiKmItNC4wKmEqYyk7cmV0dXJuICgtYitkKS8oMi4wKmEpO312ZWMzIGV4dGluY3Rpb24odmVjMiBkZW5zaXR5KSB7cmV0dXJuIGV4cCgtdmVjMyhCRVRBX1IqdV9jb2xvcl90aW50X3IuYSpkZW5zaXR5LngrQkVUQV9NKnVfY29sb3JfdGludF9tLmEqZGVuc2l0eS55KSk7fXZlYzIgbG9jYWxfZGVuc2l0eSh2ZWMzIHBvaW50KSB7ZmxvYXQgaGVpZ2h0PW1heChsZW5ndGgocG9pbnQpLVBMQU5FVF9SQURJVVMsMC4wKTtmbG9hdCBleHBfcj1leHAoLWhlaWdodC9ERU5TSVRZX0hFSUdIVF9TQ0FMRV9SKTtmbG9hdCBleHBfbT1leHAoLWhlaWdodC9ERU5TSVRZX0hFSUdIVF9TQ0FMRV9NKTtyZXR1cm4gdmVjMihleHBfcixleHBfbSk7fWZsb2F0IHBoYXNlX3JheShmbG9hdCBjb3NfYW5nbGUpIHtyZXR1cm4gKDMuMC8oMTYuMCpQSSkpKigxLjArY29zX2FuZ2xlKmNvc19hbmdsZSk7fWZsb2F0IHBoYXNlX21pZShmbG9hdCBjb3NfYW5nbGUpIHtyZXR1cm4gKDMuMC8oOC4wKlBJKSkqKCgxLjAtTUlFX0cqTUlFX0cpKigxLjArY29zX2FuZ2xlKmNvc19hbmdsZSkpLygoMi4wK01JRV9HKk1JRV9HKSpwb3coMS4wK01JRV9HKk1JRV9HLTIuMCpNSUVfRypjb3NfYW5nbGUsMS41KSk7fXZlYzIgZGVuc2l0eV90b19hdG1vc3BoZXJlKHZlYzMgcG9pbnQsdmVjMyBsaWdodF9kaXIpIHtmbG9hdCByYXlfbGVuPXJheV9zcGhlcmVfZXhpdChwb2ludCxsaWdodF9kaXIsQVRNT1NQSEVSRV9SQURJVVMpO2Zsb2F0IHN0ZXBfbGVuPXJheV9sZW4vZmxvYXQoREVOU0lUWV9TVEVQUyk7dmVjMiBkZW5zaXR5X3BvaW50X3RvX2F0bW9zcGhlcmU9dmVjMigwLjApO2ZvciAoaW50IGk9MDsgaSA8IERFTlNJVFlfU1RFUFM7KytpKSB7dmVjMyBwb2ludF9vbl9yYXk9cG9pbnQrbGlnaHRfZGlyKigoZmxvYXQoaSkrMC41KSpzdGVwX2xlbik7ZGVuc2l0eV9wb2ludF90b19hdG1vc3BoZXJlKz1sb2NhbF9kZW5zaXR5KHBvaW50X29uX3JheSkqc3RlcF9sZW47O31yZXR1cm4gZGVuc2l0eV9wb2ludF90b19hdG1vc3BoZXJlO312ZWMzIGF0bW9zcGhlcmUodmVjMyByYXlfZGlyLHZlYzMgc3VuX2RpcmVjdGlvbixmbG9hdCBzdW5faW50ZW5zaXR5KSB7dmVjMiBkZW5zaXR5X29yaWdfdG9fcG9pbnQ9dmVjMigwLjApO3ZlYzMgc2NhdHRlcl9yPXZlYzMoMC4wKTt2ZWMzIHNjYXR0ZXJfbT12ZWMzKDAuMCk7dmVjMyBvcmlnaW49dmVjMygwLjAsUExBTkVUX1JBRElVUywwLjApO2Zsb2F0IHJheV9sZW49cmF5X3NwaGVyZV9leGl0KG9yaWdpbixyYXlfZGlyLEFUTU9TUEhFUkVfUkFESVVTKTtmbG9hdCBzdGVwX2xlbj1yYXlfbGVuL2Zsb2F0KFNBTVBMRV9TVEVQUyk7Zm9yIChpbnQgaT0wOyBpIDwgU0FNUExFX1NURVBTOysraSkge3ZlYzMgcG9pbnRfb25fcmF5PW9yaWdpbityYXlfZGlyKigoZmxvYXQoaSkrMC41KSpzdGVwX2xlbik7dmVjMiBkZW5zaXR5PWxvY2FsX2RlbnNpdHkocG9pbnRfb25fcmF5KSpzdGVwX2xlbjtkZW5zaXR5X29yaWdfdG9fcG9pbnQrPWRlbnNpdHk7dmVjMiBkZW5zaXR5X3BvaW50X3RvX2F0bW9zcGhlcmU9ZGVuc2l0eV90b19hdG1vc3BoZXJlKHBvaW50X29uX3JheSxzdW5fZGlyZWN0aW9uKTt2ZWMyIGRlbnNpdHlfb3JpZ190b19hdG1vc3BoZXJlPWRlbnNpdHlfb3JpZ190b19wb2ludCtkZW5zaXR5X3BvaW50X3RvX2F0bW9zcGhlcmU7dmVjMyBleHRpbmN0aW9uPWV4dGluY3Rpb24oZGVuc2l0eV9vcmlnX3RvX2F0bW9zcGhlcmUpO3NjYXR0ZXJfcis9ZGVuc2l0eS54KmV4dGluY3Rpb247c2NhdHRlcl9tKz1kZW5zaXR5LnkqZXh0aW5jdGlvbjt9ZmxvYXQgY29zX2FuZ2xlPWRvdChyYXlfZGlyLHN1bl9kaXJlY3Rpb24pO2Zsb2F0IHBoYXNlX3I9cGhhc2VfcmF5KGNvc19hbmdsZSk7ZmxvYXQgcGhhc2VfbT1waGFzZV9taWUoY29zX2FuZ2xlKTt2ZWMzIGJldGFfcj1CRVRBX1IqdV9jb2xvcl90aW50X3IucmdiKnVfY29sb3JfdGludF9yLmE7dmVjMyBiZXRhX209QkVUQV9NKnVfY29sb3JfdGludF9tLnJnYip1X2NvbG9yX3RpbnRfbS5hO3JldHVybiAoc2NhdHRlcl9yKnBoYXNlX3IqYmV0YV9yK3NjYXR0ZXJfbSpwaGFzZV9tKmJldGFfbSkqc3VuX2ludGVuc2l0eTt9Y29uc3QgZmxvYXQgQT0wLjE1O2NvbnN0IGZsb2F0IEI9MC41MDtjb25zdCBmbG9hdCBDPTAuMTA7Y29uc3QgZmxvYXQgRD0wLjIwO2NvbnN0IGZsb2F0IEU9MC4wMjtjb25zdCBmbG9hdCBGPTAuMzA7dmVjMyB1bmNoYXJ0ZWQyX3RvbmVtYXAodmVjMyB4KSB7cmV0dXJuICgoeCooQSp4K0MqQikrRCpFKS8oeCooQSp4K0IpK0QqRikpLUUvRjt9dm9pZCBtYWluKCkge3ZlYzMgcmF5X2RpcmVjdGlvbj12X3Bvc2l0aW9uO3JheV9kaXJlY3Rpb24ueT1wb3cocmF5X2RpcmVjdGlvbi55LDUuMCk7Y29uc3QgZmxvYXQgeV9iaWFzPTAuMDE1O3JheV9kaXJlY3Rpb24ueSs9eV9iaWFzO3ZlYzMgY29sb3I9YXRtb3NwaGVyZShub3JtYWxpemUocmF5X2RpcmVjdGlvbiksdV9zdW5fZGlyZWN0aW9uLHVfc3VuX2ludGVuc2l0eSk7ZmxvYXQgd2hpdGVfc2NhbGU9MS4wNzQ4NzI0Njc1NjMzODU0O2NvbG9yPXVuY2hhcnRlZDJfdG9uZW1hcCgobG9nMigyLjAvcG93KHVfbHVtaW5hbmNlLDQuMCkpKSpjb2xvcikqd2hpdGVfc2NhbGU7Z2xfRnJhZ0NvbG9yPXZlYzQoY29sb3IsMS4wKTt9XCIsXCJhdHRyaWJ1dGUgaGlnaHAgdmVjMyBhX3Bvc18zZjt1bmlmb3JtIG1hdDMgdV9tYXRyaXhfM2Y7dmFyeWluZyBoaWdocCB2ZWMzIHZfcG9zaXRpb247ZmxvYXQgbWFwKGZsb2F0IHZhbHVlLGZsb2F0IHN0YXJ0LGZsb2F0IGVuZCxmbG9hdCBuZXdfc3RhcnQsZmxvYXQgbmV3X2VuZCkge3JldHVybiAoKHZhbHVlLXN0YXJ0KSoobmV3X2VuZC1uZXdfc3RhcnQpKS8oZW5kLXN0YXJ0KStuZXdfc3RhcnQ7fXZvaWQgbWFpbigpIHt2ZWM0IHBvcz12ZWM0KHVfbWF0cml4XzNmKmFfcG9zXzNmLDEuMCk7dl9wb3NpdGlvbj1wb3MueHl6O3ZfcG9zaXRpb24ueSo9LTEuMDt2X3Bvc2l0aW9uLnk9bWFwKHZfcG9zaXRpb24ueSwtMS4wLDEuMCwwLjAsMS4wKTtnbF9Qb3NpdGlvbj12ZWM0KGFfcG9zXzNmLnh5LDAuMCwxLjApO31cIiksZ2xvYmVSYXN0ZXI6QkUoJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTA7dmFyeWluZyB2ZWMyIHZfcG9zMDtcXG4jaWZuZGVmIEZPR1xcbnVuaWZvcm0gaGlnaHAgdmVjMyB1X2ZydXN0dW1fdGw7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZnJ1c3R1bV90cjt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9mcnVzdHVtX2JyO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2ZydXN0dW1fYmw7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZ2xvYmVfcG9zO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9nbG9iZV9yYWRpdXM7dW5pZm9ybSB2ZWMyIHVfdmlld3BvcnQ7XFxuI2VuZGlmXFxudm9pZCBtYWluKCkge3ZlYzQgY29sb3I7XFxuI2lmZGVmIENVU1RPTV9BTlRJQUxJQVNJTkdcXG52ZWMyIHV2PWdsX0ZyYWdDb29yZC54eS91X3ZpZXdwb3J0O2hpZ2hwIHZlYzMgcmF5X2Rpcj1taXgoXFxubWl4KHVfZnJ1c3R1bV90bCx1X2ZydXN0dW1fdHIsdXYueCksbWl4KHVfZnJ1c3R1bV9ibCx1X2ZydXN0dW1fYnIsdXYueCksMS4wLXV2LnkpO3ZlYzMgZGlyPW5vcm1hbGl6ZShyYXlfZGlyKTt2ZWMzIGNsb3Nlc3RfcG9pbnQ9ZG90KHVfZ2xvYmVfcG9zLGRpcikqZGlyO2Zsb2F0IG5vcm1fZGlzdF9mcm9tX2NlbnRlcj0xLjAtbGVuZ3RoKGNsb3Nlc3RfcG9pbnQtdV9nbG9iZV9wb3MpL3VfZ2xvYmVfcmFkaXVzO2NvbnN0IGZsb2F0IGFudGlhbGlhc19waXhlbD0yLjA7ZmxvYXQgYW50aWFsaWFzX2ZhY3Rvcj1hbnRpYWxpYXNfcGl4ZWwqZndpZHRoKG5vcm1fZGlzdF9mcm9tX2NlbnRlcik7ZmxvYXQgYW50aWFsaWFzPXNtb290aHN0ZXAoMC4wLGFudGlhbGlhc19mYWN0b3Isbm9ybV9kaXN0X2Zyb21fY2VudGVyKTt2ZWM0IHJhc3Rlcj10ZXh0dXJlMkQodV9pbWFnZTAsdl9wb3MwKTtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbiNpZmRlZiBMSUdIVElOR18zRF9BTFBIQV9FTUlTU0lWRU5FU1NcXG5yYXN0ZXI9YXBwbHlfbGlnaHRpbmdfd2l0aF9lbWlzc2lvbl9ncm91bmQocmFzdGVyLHJhc3Rlci5hKTtjb2xvcj12ZWM0KHJhc3Rlci5yZ2IqYW50aWFsaWFzLGFudGlhbGlhcyk7XFxuI2Vsc2VcXG5yYXN0ZXI9YXBwbHlfbGlnaHRpbmdfZ3JvdW5kKHJhc3Rlcik7Y29sb3I9dmVjNChyYXN0ZXIucmdiKmFudGlhbGlhcyxyYXN0ZXIuYSphbnRpYWxpYXMpO1xcbiNlbmRpZlxcbiNlbHNlXFxuY29sb3I9dmVjNChyYXN0ZXIucmdiKmFudGlhbGlhcyxyYXN0ZXIuYSphbnRpYWxpYXMpO1xcbiNlbmRpZlxcbiNlbHNlXFxuY29sb3I9dGV4dHVyZTJEKHVfaW1hZ2UwLHZfcG9zMCk7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG4jaWZkZWYgTElHSFRJTkdfM0RfQUxQSEFfRU1JU1NJVkVORVNTXFxuY29sb3I9YXBwbHlfbGlnaHRpbmdfd2l0aF9lbWlzc2lvbl9ncm91bmQoY29sb3IsY29sb3IuYSk7Y29sb3IuYT0xLjA7XFxuI2Vsc2VcXG5jb2xvcj1hcHBseV9saWdodGluZ19ncm91bmQoY29sb3IpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKGNvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1jb2xvcjtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG5IQU5ETEVfV0lSRUZSQU1FX0RFQlVHO30nLCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy52ZXJ0ZXguZ2xzbFwiXFxuI2luY2x1ZGUgXCJfcHJlbHVkZV90ZXJyYWluLnZlcnRleC5nbHNsXCJcXG51bmlmb3JtIG1hdDQgdV9wcm9qX21hdHJpeDt1bmlmb3JtIG1hdDQgdV9ub3JtYWxpemVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2dsb2JlX21hdHJpeDt1bmlmb3JtIG1hdDQgdV9tZXJjX21hdHJpeDt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMiB1X21lcmNfY2VudGVyO3VuaWZvcm0gbWF0MyB1X2dyaWRfbWF0cml4O3VuaWZvcm0gZmxvYXQgdV9za2lydF9oZWlnaHQ7XFxuI2lmZGVmIEdMT0JFX1BPTEVTXFxuYXR0cmlidXRlIHZlYzMgYV9nbG9iZV9wb3M7YXR0cmlidXRlIHZlYzIgYV91djtcXG4jZWxzZVxcbmF0dHJpYnV0ZSB2ZWMyIGFfcG9zO1xcbiNlbmRpZlxcbnZhcnlpbmcgdmVjMiB2X3BvczA7ZmxvYXQgbWVyY2F0b3JYZnJvbUxuZyhmbG9hdCBsbmcpIHtyZXR1cm4gKDE4MC4wK2xuZykvMzYwLjA7fWZsb2F0IG1lcmNhdG9yWWZyb21MYXQoZmxvYXQgbGF0KSB7cmV0dXJuICgxODAuMC0oUkFEX1RPX0RFRypsb2codGFuKFFVQVJURVJfUEkrbGF0LzIuMCpERUdfVE9fUkFEKSkpKS8zNjAuMDt9dmVjMyBsYXRMbmdUb0VDRUYodmVjMiBsYXRMbmcpIHtsYXRMbmc9REVHX1RPX1JBRCpsYXRMbmc7ZmxvYXQgY29zTGF0PWNvcyhsYXRMbmdbMF0pO2Zsb2F0IHNpbkxhdD1zaW4obGF0TG5nWzBdKTtmbG9hdCBjb3NMbmc9Y29zKGxhdExuZ1sxXSk7ZmxvYXQgc2luTG5nPXNpbihsYXRMbmdbMV0pO2Zsb2F0IHN4PWNvc0xhdCpzaW5MbmcqR0xPQkVfUkFESVVTO2Zsb2F0IHN5PS1zaW5MYXQqR0xPQkVfUkFESVVTO2Zsb2F0IHN6PWNvc0xhdCpjb3NMbmcqR0xPQkVfUkFESVVTO3JldHVybiB2ZWMzKHN4LHN5LHN6KTt9dm9pZCBtYWluKCkge1xcbiNpZmRlZiBHTE9CRV9QT0xFU1xcbnZlYzMgZ2xvYmVfcG9zPWFfZ2xvYmVfcG9zO3ZlYzIgdXY9YV91djtcXG4jZWxzZVxcbmZsb2F0IHRpbGVzPXVfZ3JpZF9tYXRyaXhbMF1bMl07ZmxvYXQgaWR4PXVfZ3JpZF9tYXRyaXhbMV1bMl07ZmxvYXQgaWR5PXVfZ3JpZF9tYXRyaXhbMl1bMl07dmVjMyBkZWNvbXBvc2VkX3Bvc19hbmRfc2tpcnQ9ZGVjb21wb3NlVG9Qb3NBbmRTa2lydChhX3Bvcyk7dmVjMyBsYXRMbmc9dV9ncmlkX21hdHJpeCp2ZWMzKGRlY29tcG9zZWRfcG9zX2FuZF9za2lydC54eSwxLjApO2Zsb2F0IG1lcmNhdG9yWT1tZXJjYXRvcllmcm9tTGF0KGxhdExuZ1swXSk7ZmxvYXQgdXZZPW1lcmNhdG9yWSp0aWxlcy1pZHk7ZmxvYXQgbWVyY2F0b3JYPW1lcmNhdG9yWGZyb21MbmcobGF0TG5nWzFdKTtmbG9hdCB1dlg9bWVyY2F0b3JYKnRpbGVzLWlkeDt2ZWMzIGdsb2JlX3Bvcz1sYXRMbmdUb0VDRUYobGF0TG5nLnh5KTt2ZWMyIG1lcmNfcG9zPXZlYzIobWVyY2F0b3JYLG1lcmNhdG9yWSk7dmVjMiB1dj12ZWMyKHV2WCx1dlkpO1xcbiNlbmRpZlxcbnZfcG9zMD11djt2ZWMyIHRpbGVfcG9zPXV2KkVYVEVOVDt2ZWMzIGdsb2JlX2Rlcml2ZWRfdXBfdmVjdG9yPW5vcm1hbGl6ZShnbG9iZV9wb3MpKnVfdGlsZV91cF9zY2FsZTtcXG4jaWZkZWYgR0xPQkVfUE9MRVNcXG52ZWMzIHVwX3ZlY3Rvcj1nbG9iZV9kZXJpdmVkX3VwX3ZlY3RvcjtcXG4jZWxzZVxcbnZlYzMgdXBfdmVjdG9yPWVsZXZhdGlvblZlY3Rvcih0aWxlX3Bvcyk7XFxuI2VuZGlmXFxuZmxvYXQgaGVpZ2h0PWVsZXZhdGlvbih0aWxlX3Bvcyk7Z2xvYmVfcG9zKz11cF92ZWN0b3IqaGVpZ2h0O1xcbiNpZm5kZWYgR0xPQkVfUE9MRVNcXG5nbG9iZV9wb3MtPWdsb2JlX2Rlcml2ZWRfdXBfdmVjdG9yKnVfc2tpcnRfaGVpZ2h0KmRlY29tcG9zZWRfcG9zX2FuZF9za2lydC56O1xcbiNlbmRpZlxcbiNpZmRlZiBHTE9CRV9QT0xFU1xcbnZlYzQgaW50ZXJwb2xhdGVkX3Bvcz11X2dsb2JlX21hdHJpeCp2ZWM0KGdsb2JlX3BvcywxLjApO1xcbiNlbHNlXFxudmVjNCBnbG9iZV93b3JsZF9wb3M9dV9nbG9iZV9tYXRyaXgqdmVjNChnbG9iZV9wb3MsMS4wKTt2ZWM0IG1lcmNfd29ybGRfcG9zPXZlYzQoMC4wKTtpZiAodV96b29tX3RyYW5zaXRpb24gPiAwLjApIHttZXJjX3dvcmxkX3Bvcz12ZWM0KG1lcmNfcG9zLGhlaWdodC11X3NraXJ0X2hlaWdodCpkZWNvbXBvc2VkX3Bvc19hbmRfc2tpcnQueiwxLjApO21lcmNfd29ybGRfcG9zLnh5LT11X21lcmNfY2VudGVyO21lcmNfd29ybGRfcG9zLng9d3JhcChtZXJjX3dvcmxkX3Bvcy54LC0wLjUsMC41KTttZXJjX3dvcmxkX3Bvcz11X21lcmNfbWF0cml4Km1lcmNfd29ybGRfcG9zO312ZWM0IGludGVycG9sYXRlZF9wb3M9dmVjNChtaXgoZ2xvYmVfd29ybGRfcG9zLnh5eixtZXJjX3dvcmxkX3Bvcy54eXosdV96b29tX3RyYW5zaXRpb24pLDEuMCk7XFxuI2VuZGlmXFxuZ2xfUG9zaXRpb249dV9wcm9qX21hdHJpeCppbnRlcnBvbGF0ZWRfcG9zO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKCh1X25vcm1hbGl6ZV9tYXRyaXgqdmVjNChnbG9iZV9wb3MsMS4wKSkueHl6KTtcXG4jZW5kaWZcXG59JyksZ2xvYmVBdG1vc3BoZXJlOkJFKCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsXCJcXG51bmlmb3JtIGZsb2F0IHVfdHJhbnNpdGlvbjt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfZmFkZW91dF9yYW5nZTt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfdGVtcG9yYWxfb2Zmc2V0O3VuaWZvcm0gdmVjNCB1X2NvbG9yO3VuaWZvcm0gdmVjNCB1X2hpZ2hfY29sb3I7dW5pZm9ybSB2ZWM0IHVfc3BhY2VfY29sb3I7dW5pZm9ybSBmbG9hdCB1X2hvcml6b25fYW5nbGU7dmFyeWluZyBoaWdocCB2ZWMzIHZfcmF5X2Rpcjt2YXJ5aW5nIGhpZ2hwIHZlYzMgdl9ob3Jpem9uX2Rpcjt2b2lkIG1haW4oKSB7aGlnaHAgdmVjMyBkaXI9bm9ybWFsaXplKHZfcmF5X2Rpcik7ZmxvYXQgZ2xvYmVfcG9zX2RvdF9kaXI7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmdsb2JlX3Bvc19kb3RfZGlyPWRvdCh1X2dsb2JlX3BvcyxkaXIpO2hpZ2hwIHZlYzMgY2xvc2VzdF9wb2ludF9mb3J3YXJkPWFicyhnbG9iZV9wb3NfZG90X2RpcikqZGlyO2Zsb2F0IG5vcm1fZGlzdF9mcm9tX2NlbnRlcj1sZW5ndGgoY2xvc2VzdF9wb2ludF9mb3J3YXJkLXVfZ2xvYmVfcG9zKS91X2dsb2JlX3JhZGl1cztpZiAobm9ybV9kaXN0X2Zyb21fY2VudGVyIDwgMC45OCkge1xcbiNpZmRlZiBBTFBIQV9QQVNTXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMCwwLDAsMCk7cmV0dXJuO1xcbiNlbHNlXFxuI2lmZGVmIE5BVElWRVxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEsMSwxLDEpO1xcbiNlbHNlXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMCwwLDAsMSk7XFxuI2VuZGlmXFxucmV0dXJuO1xcbiNlbmRpZlxcbn1cXG4jZW5kaWZcXG5oaWdocCB2ZWMzIGhvcml6b25fZGlyPW5vcm1hbGl6ZSh2X2hvcml6b25fZGlyKTtmbG9hdCBob3Jpem9uX2FuZ2xlX21lcmNhdG9yPWRpci55IDwgaG9yaXpvbl9kaXIueSA/XFxuMC4wIDogbWF4KGFjb3MoY2xhbXAoZG90KGRpcixob3Jpem9uX2RpciksLTEuMCwxLjApKSwwLjApO2Zsb2F0IGhvcml6b25fYW5nbGU7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmhpZ2hwIHZlYzMgY2xvc2VzdF9wb2ludD1nbG9iZV9wb3NfZG90X2RpcipkaXI7aGlnaHAgZmxvYXQgY2xvc2VzdF9wb2ludF90b19jZW50ZXI9bGVuZ3RoKGNsb3Nlc3RfcG9pbnQtdV9nbG9iZV9wb3MpO2hpZ2hwIGZsb2F0IHRoZXRhPWFzaW4oY2xhbXAoY2xvc2VzdF9wb2ludF90b19jZW50ZXIvbGVuZ3RoKHVfZ2xvYmVfcG9zKSwtMS4wLDEuMCkpO2hvcml6b25fYW5nbGU9Z2xvYmVfcG9zX2RvdF9kaXIgPCAwLjAgP1xcblBJLXRoZXRhLXVfaG9yaXpvbl9hbmdsZSA6IHRoZXRhLXVfaG9yaXpvbl9hbmdsZTtmbG9hdCBhbmdsZV90PXBvdyh1X3RyYW5zaXRpb24sMTAuMCk7aG9yaXpvbl9hbmdsZT1taXgoaG9yaXpvbl9hbmdsZSxob3Jpem9uX2FuZ2xlX21lcmNhdG9yLGFuZ2xlX3QpO1xcbiNlbHNlXFxuaG9yaXpvbl9hbmdsZT1ob3Jpem9uX2FuZ2xlX21lcmNhdG9yO1xcbiNlbmRpZlxcbmhvcml6b25fYW5nbGUvPVBJO2Zsb2F0IHQ9ZXhwKC1ob3Jpem9uX2FuZ2xlL3VfZmFkZW91dF9yYW5nZSk7ZmxvYXQgYWxwaGFfMD11X2NvbG9yLmE7ZmxvYXQgYWxwaGFfMT11X2hpZ2hfY29sb3IuYTtmbG9hdCBhbHBoYV8yPXVfc3BhY2VfY29sb3IuYTt2ZWMzIGNvbG9yX3N0b3BfMD11X2NvbG9yLnJnYjt2ZWMzIGNvbG9yX3N0b3BfMT11X2hpZ2hfY29sb3IucmdiO3ZlYzMgY29sb3Jfc3RvcF8yPXVfc3BhY2VfY29sb3IucmdiO1xcbiNpZmRlZiBBTFBIQV9QQVNTXFxuZmxvYXQgYTA9bWl4KGFscGhhXzIsMS4wLGFscGhhXzEpO2Zsb2F0IGExPW1peChhMCwxLjAsYWxwaGFfMCk7ZmxvYXQgYTI9bWl4KGEwLGExLHQpO2Zsb2F0IGEgPW1peChhbHBoYV8yLGEyLHQpO2dsX0ZyYWdDb2xvcj12ZWM0KDEuMCwxLjAsMS4wLGEpO1xcbiNlbHNlXFxudmVjMyBjMD1taXgoY29sb3Jfc3RvcF8yLGNvbG9yX3N0b3BfMSxhbHBoYV8xKTt2ZWMzIGMxPW1peChjMCxjb2xvcl9zdG9wXzAsYWxwaGFfMCk7dmVjMyBjMj1taXgoYzAsYzEsdCk7dmVjMyBjPWMyO1xcbiNpZm5kZWYgTkFUSVZFXFxuYz1kaXRoZXIoYyxnbF9GcmFnQ29vcmQueHkrdV90ZW1wb3JhbF9vZmZzZXQpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj12ZWM0KGMqdCx0KTtcXG4jZW5kaWZcXG59JyxcImF0dHJpYnV0ZSB2ZWMzIGFfcG9zO2F0dHJpYnV0ZSB2ZWMyIGFfdXY7dW5pZm9ybSB2ZWMzIHVfZnJ1c3R1bV90bDt1bmlmb3JtIHZlYzMgdV9mcnVzdHVtX3RyO3VuaWZvcm0gdmVjMyB1X2ZydXN0dW1fYnI7dW5pZm9ybSB2ZWMzIHVfZnJ1c3R1bV9ibDt1bmlmb3JtIGZsb2F0IHVfaG9yaXpvbjt2YXJ5aW5nIGhpZ2hwIHZlYzMgdl9yYXlfZGlyO3ZhcnlpbmcgaGlnaHAgdmVjMyB2X2hvcml6b25fZGlyO3ZvaWQgbWFpbigpIHt2X3JheV9kaXI9bWl4KFxcbm1peCh1X2ZydXN0dW1fdGwsdV9mcnVzdHVtX3RyLGFfdXYueCksbWl4KHVfZnJ1c3R1bV9ibCx1X2ZydXN0dW1fYnIsYV91di54KSxhX3V2LnkpO3ZfaG9yaXpvbl9kaXI9bWl4KFxcbm1peCh1X2ZydXN0dW1fdGwsdV9mcnVzdHVtX2JsLHVfaG9yaXpvbiksbWl4KHVfZnJ1c3R1bV90cix1X2ZydXN0dW1fYnIsdV9ob3Jpem9uKSxhX3V2LngpO2dsX1Bvc2l0aW9uPXZlYzQoYV9wb3MsMS4wKTt9XCIpLG1vZGVsOkJFKCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX3NoYWRvdy5mcmFnbWVudC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX2xpZ2h0aW5nLmdsc2xcIlxcbnVuaWZvcm0gZmxvYXQgdV9vcGFjaXR5O3VuaWZvcm0gdmVjMyB1X2xpZ2h0Y29sb3I7dW5pZm9ybSB2ZWMzIHVfbGlnaHRwb3M7dW5pZm9ybSBmbG9hdCB1X2xpZ2h0aW50ZW5zaXR5O3VuaWZvcm0gdmVjNCB1X2Jhc2VDb2xvckZhY3Rvcjt1bmlmb3JtIHZlYzQgdV9lbWlzc2l2ZUZhY3Rvcjt1bmlmb3JtIGZsb2F0IHVfbWV0YWxsaWNGYWN0b3I7dW5pZm9ybSBmbG9hdCB1X3JvdWdobmVzc0ZhY3Rvcjt1bmlmb3JtIGZsb2F0IHVfZW1pc3NpdmVfc3RyZW5ndGg7dmFyeWluZyBoaWdocCB2ZWM0IHZfcG9zaXRpb25faGVpZ2h0O3ZhcnlpbmcgbG93cCB2ZWM0IHZfY29sb3JfbWl4O1xcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnZhcnlpbmcgdmVjNCB2X3Bvc19saWdodF92aWV3XzA7dmFyeWluZyB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMTt2YXJ5aW5nIGZsb2F0IHZfZGVwdGhfc2hhZG93cztcXG4jZW5kaWZcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lLWF0dHJpYnV0ZSBoaWdocCB2ZWMzIG5vcm1hbF8zZlxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUtYXR0cmlidXRlIGhpZ2hwIHZlYzMgY29sb3JfM2ZcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lLWF0dHJpYnV0ZSBoaWdocCB2ZWM0IGNvbG9yXzRmXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZS1hdHRyaWJ1dGUgaGlnaHAgdmVjMiB1dl8yZlxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplLWF0dHJpYnV0ZSBoaWdocCB2ZWMzIG5vcm1hbF8zZlxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplLWF0dHJpYnV0ZSBoaWdocCB2ZWMzIGNvbG9yXzNmXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUtYXR0cmlidXRlIGhpZ2hwIHZlYzQgY29sb3JfNGZcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZS1hdHRyaWJ1dGUgaGlnaHAgdmVjMiB1dl8yZlxcbiNpZmRlZiBIQVNfQVRUUklCVVRFX2FfcGJyXFxudmFyeWluZyBsb3dwIHZlYzQgdl9yb3VnaG5lc3NfbWV0YWxsaWNfZW1pc3NpdmVfYWxwaGE7dmFyeWluZyBtZWRpdW1wIHZlYzQgdl9oZWlnaHRfYmFzZWRfZW1pc3Npb25fcGFyYW1zO1xcbiNlbmRpZlxcbiNpZmRlZiBIQVNfVEVYVFVSRV91X2Jhc2VDb2xvclRleHR1cmVcXG51bmlmb3JtIHNhbXBsZXIyRCB1X2Jhc2VDb2xvclRleHR1cmU7dW5pZm9ybSBib29sIHVfYmFzZVRleHR1cmVJc0FscGhhO3VuaWZvcm0gYm9vbCB1X2FscGhhTWFzazt1bmlmb3JtIGZsb2F0IHVfYWxwaGFDdXRvZmY7XFxuI2VuZGlmXFxuI2lmZGVmIEhBU19URVhUVVJFX3VfbWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9tZXRhbGxpY1JvdWdobmVzc1RleHR1cmU7XFxuI2VuZGlmXFxuI2lmZGVmIEhBU19URVhUVVJFX3Vfb2NjbHVzaW9uVGV4dHVyZVxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfb2NjbHVzaW9uVGV4dHVyZTt1bmlmb3JtIGZsb2F0IHVfYW9JbnRlbnNpdHk7XFxuI2VuZGlmXFxuI2lmZGVmIEhBU19URVhUVVJFX3Vfbm9ybWFsVGV4dHVyZVxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfbm9ybWFsVGV4dHVyZTtcXG4jZW5kaWZcXG4jaWZkZWYgSEFTX1RFWFRVUkVfdV9lbWlzc2lvblRleHR1cmVcXG51bmlmb3JtIHNhbXBsZXIyRCB1X2VtaXNzaW9uVGV4dHVyZTtcXG4jZW5kaWZcXG4jaWZkZWYgVEVSUkFJTl9GUkFHTUVOVF9PQ0NMVVNJT05cXG52YXJ5aW5nIGhpZ2hwIGZsb2F0IHZfZGVwdGg7dW5pZm9ybSBzYW1wbGVyMkQgdV9kZXB0aFRleHR1cmU7dW5pZm9ybSB2ZWMyIHVfaW52X2RlcHRoX3NpemU7Ym9vbCBpc09jY2x1ZGVkKCkge3ZlYzIgY29vcmQ9Z2xfRnJhZ0Nvb3JkLnh5KnVfaW52X2RlcHRoX3NpemU7aGlnaHAgZmxvYXQgZGVwdGg9dW5wYWNrX2RlcHRoKHRleHR1cmUyRCh1X2RlcHRoVGV4dHVyZSxjb29yZCkpO3JldHVybiB2X2RlcHRoID4gZGVwdGgrMC4wMDA1O31cXG4jZW5kaWZcXG5jb25zdCBmbG9hdCBNX1BJPTMuMTQxNTkyNjUzNTg5NzkzO1xcbiNkZWZpbmUgc2F0dXJhdGUoX3gpIGNsYW1wKF94LDAuLDEuKVxcbmZsb2F0IGNhbGN1bGF0ZV9OZG90TCh2ZWMzIG5vcm1hbCx2ZWMzIGxpZ2h0RGlyKSB7Y29uc3QgZmxvYXQgZXh0PTAuNzA3MTA2NzgxMTg7cmV0dXJuIChjbGFtcChkb3Qobm9ybWFsLGxpZ2h0RGlyKSwtZXh0LDEuMCkrZXh0KS8oMS4wK2V4dCk7fXZlYzMgZ2V0RGlmZnVzZVNoYWRlZENvbG9yKHZlYzMgYWxiZWRvLHZlYzMgbm9ybWFsLHZlYzMgbGlnaHREaXIsdmVjMyBsaWdodENvbG9yKVxcbntcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbnZlYzMgdHJhbnNmb3JtZWRfbm9ybWFsPXZlYzMoLW5vcm1hbC54eSxub3JtYWwueik7ZmxvYXQgbGlnaHRpbmdfZmFjdG9yO1xcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbmxpZ2h0aW5nX2ZhY3Rvcj1zaGFkb3dlZF9saWdodF9mYWN0b3Jfbm9ybWFsKHRyYW5zZm9ybWVkX25vcm1hbCx2X3Bvc19saWdodF92aWV3XzAsdl9wb3NfbGlnaHRfdmlld18xLHZfZGVwdGhfc2hhZG93cyk7XFxuI2Vsc2VcXG5saWdodGluZ19mYWN0b3I9c2F0dXJhdGUoZG90KHRyYW5zZm9ybWVkX25vcm1hbCx1X2xpZ2h0aW5nX2RpcmVjdGlvbmFsX2RpcikpO1xcbiNlbmRpZlxcbnJldHVybiBhcHBseV9saWdodGluZyhhbGJlZG8sdHJhbnNmb3JtZWRfbm9ybWFsLGxpZ2h0aW5nX2ZhY3Rvcik7XFxuI2Vsc2VcXG52ZWMzIG49bm9ybWFsO2Zsb2F0IGNvbG9ydmFsdWU9KChhbGJlZG8ueCowLjIxMjYpKyhhbGJlZG8ueSowLjcxNTIpKSsoYWxiZWRvLnoqMC4wNzIyKTt2ZWMzIGM9dmVjMygwLjAzLDAuMDMsMC4wMyk7ZmxvYXQgZGlyZWN0aW9uYWw9Y2xhbXAoZG90KG4sdmVjMyhsaWdodERpcikpLDAuMCwxLjApO2RpcmVjdGlvbmFsPW1peCgxLjAtdV9saWdodGludGVuc2l0eSxtYXgoKDEuMC1jb2xvcnZhbHVlKSt1X2xpZ2h0aW50ZW5zaXR5LDEuMCksZGlyZWN0aW9uYWwpO3ZlYzMgYzM9YytjbGFtcCgoYWxiZWRvKmRpcmVjdGlvbmFsKSpsaWdodENvbG9yLG1peCh2ZWMzKDAuMCksdmVjMygwLjMpLHZlYzMoMS4wKS1saWdodENvbG9yKSx2ZWMzKDEuMCkpO3JldHVybiBjMztcXG4jZW5kaWZcXG59dmVjNCBnZXRCYXNlQ29sb3IoKSB7dmVjNCBhbGJlZG89dV9iYXNlQ29sb3JGYWN0b3I7XFxuI2lmZGVmIEhBU19BVFRSSUJVVEVfYV9jb2xvcl8zZlxcbmFsYmVkbyo9dmVjNChjb2xvcl8zZiwxLjApO1xcbiNlbmRpZlxcbiNpZmRlZiBIQVNfQVRUUklCVVRFX2FfcGJyXFxuI2Vsc2VcXG4jaWZkZWYgSEFTX0FUVFJJQlVURV9hX2NvbG9yXzRmXFxuYWxiZWRvKj1jb2xvcl80ZjtcXG4jZW5kaWZcXG4jZW5kaWZcXG4jaWYgZGVmaW5lZCAoSEFTX1RFWFRVUkVfdV9iYXNlQ29sb3JUZXh0dXJlKSAmJiBkZWZpbmVkIChIQVNfQVRUUklCVVRFX2FfdXZfMmYpXFxudmVjNCB0ZXhDb2xvcj10ZXh0dXJlMkQodV9iYXNlQ29sb3JUZXh0dXJlLHV2XzJmKTtpZih1X2FscGhhTWFzaykge2lmICh0ZXhDb2xvci53IDwgdV9hbHBoYUN1dG9mZikge2Rpc2NhcmQ7fX1cXG4jaWZkZWYgVU5QUkVNVUxUX1RFWFRVUkVfSU5fU0hBREVSXFxuaWYodGV4Q29sb3IudyA+IDAuMCkge3RleENvbG9yLnJnYi89dGV4Q29sb3Iudzt9dGV4Q29sb3Iudz0xLjA7XFxuI2VuZGlmXFxudGV4Q29sb3IucmdiPXNSR0JUb0xpbmVhcih0ZXhDb2xvci5yZ2IpO2lmKHVfYmFzZVRleHR1cmVJc0FscGhhKSB7aWYgKHRleENvbG9yLncgPCAwLjUpIHtkaXNjYXJkO31hbGJlZG8qPW1peCh2ZWM0KHRleENvbG9yLnJnYix0ZXhDb2xvci5hKSx2ZWM0KHRleENvbG9yLmEpLGZsb2F0KHVfYmFzZVRleHR1cmVJc0FscGhhKSk7fSBlbHNlIHthbGJlZG8qPXRleENvbG9yO31cXG4jZW5kaWZcXG5yZXR1cm4gdmVjNChtaXgoYWxiZWRvLnJnYix2X2NvbG9yX21peC5yZ2Isdl9jb2xvcl9taXguYSksYWxiZWRvLmEpO31oaWdocCBtYXQzIGNvdGFuZ2VudEZyYW1lKGhpZ2hwIHZlYzMgTixoaWdocCB2ZWMzIHAsaGlnaHAgdmVjMiB1diApIHtcXG4jaWZkZWYgSEFTX1RFWFRVUkVfdV9ub3JtYWxUZXh0dXJlXFxuaGlnaHAgdmVjMyBkcDE9dmVjMyhkRmR4KHAueCksZEZkeChwLnkpLGRGZHgocC56KSk7aGlnaHAgdmVjMyBkcDI9dmVjMyhkRmR5KHAueCksZEZkeShwLnkpLGRGZHkocC56KSk7aGlnaHAgdmVjMiBkdXYxPXZlYzIoZEZkeCh1di54KSxkRmR4KHV2LnkpKTtoaWdocCB2ZWMyIGR1djI9dmVjMihkRmR5KHV2LngpLGRGZHkodXYueSkpO2hpZ2hwIHZlYzMgZHAycGVycD1jcm9zcyggZHAyLE4gKTtoaWdocCB2ZWMzIGRwMXBlcnA9Y3Jvc3MoIE4sZHAxICk7aGlnaHAgdmVjMyBUPWRwMnBlcnAqZHV2MS54K2RwMXBlcnAqZHV2Mi54O2hpZ2hwIHZlYzMgQj1kcDJwZXJwKmR1djEueStkcDFwZXJwKmR1djIueTtoaWdocCBmbG9hdCBsZW5ndGhUPWRvdChULFQpO2hpZ2hwIGZsb2F0IGxlbmd0aEI9ZG90KEIsQik7aGlnaHAgZmxvYXQgbWF4TGVuZ3RoPW1heChsZW5ndGhULGxlbmd0aEIpO2hpZ2hwIGZsb2F0IGludm1heD1pbnZlcnNlc3FydCggbWF4TGVuZ3RoICk7aGlnaHAgbWF0MyByZXM9bWF0MyggVCppbnZtYXgsQippbnZtYXgsTiApO3JldHVybiByZXM7XFxuI2Vsc2VcXG5yZXR1cm4gbWF0MygxLjApO1xcbiNlbmRpZlxcbn1oaWdocCB2ZWMzIGdldE5vcm1hbCgpe2hpZ2hwIHZlYzMgbjtcXG4jaWZkZWYgSEFTX0FUVFJJQlVURV9hX25vcm1hbF8zZlxcbm49bm9ybWFsaXplKG5vcm1hbF8zZik7XFxuI2Vsc2VcXG5oaWdocCB2ZWMzIGZkeD12ZWMzKGRGZHgodl9wb3NpdGlvbl9oZWlnaHQueCksZEZkeCh2X3Bvc2l0aW9uX2hlaWdodC55KSxkRmR4KHZfcG9zaXRpb25faGVpZ2h0LnopKTtoaWdocCB2ZWMzIGZkeT12ZWMzKGRGZHkodl9wb3NpdGlvbl9oZWlnaHQueCksZEZkeSh2X3Bvc2l0aW9uX2hlaWdodC55KSxkRmR5KHZfcG9zaXRpb25faGVpZ2h0LnopKTtuPW5vcm1hbGl6ZShjcm9zcyhmZHgsZmR5KSkqLTEuMDtcXG4jZW5kaWZcXG4jaWYgZGVmaW5lZChIQVNfVEVYVFVSRV91X25vcm1hbFRleHR1cmUpICYmIGRlZmluZWQoSEFTX0FUVFJJQlVURV9hX3V2XzJmKVxcbnZlYzMgbk1hcD10ZXh0dXJlMkQoIHVfbm9ybWFsVGV4dHVyZSx1dl8yZikueHl6O25NYXA9bm9ybWFsaXplKDIuMCpuTWFwLXZlYzMoMS4wKSk7aGlnaHAgdmVjMyB2PW5vcm1hbGl6ZSgtdl9wb3NpdGlvbl9oZWlnaHQueHl6KTtoaWdocCBtYXQzIFRCTj1jb3RhbmdlbnRGcmFtZShuLHYsdXZfMmYpO249bm9ybWFsaXplKFRCTipuTWFwKTtcXG4jZW5kaWZcXG5yZXR1cm4gbjt9c3RydWN0IE1hdGVyaWFsIHtmbG9hdCBwZXJjZXB0dWFsUm91Z2huZXNzO2Zsb2F0IGFscGhhUm91Z2huZXNzO2Zsb2F0IG1ldGFsbGljO3ZlYzMgZjkwO3ZlYzQgYmFzZUNvbG9yO3ZlYzMgZGlmZnVzZUNvbG9yO3ZlYzMgc3BlY3VsYXJDb2xvcjtoaWdocCB2ZWMzIG5vcm1hbDt9O01hdGVyaWFsIGdldFBCUk1hdGVyaWFsKCkge01hdGVyaWFsIG1hdDttYXQuYmFzZUNvbG9yPWdldEJhc2VDb2xvcigpO21hdC5wZXJjZXB0dWFsUm91Z2huZXNzPXVfcm91Z2huZXNzRmFjdG9yO21hdC5tZXRhbGxpYz11X21ldGFsbGljRmFjdG9yO1xcbiNpZmRlZiBIQVNfQVRUUklCVVRFX2FfcGJyXFxubWF0LnBlcmNlcHR1YWxSb3VnaG5lc3M9dl9yb3VnaG5lc3NfbWV0YWxsaWNfZW1pc3NpdmVfYWxwaGEueDttYXQubWV0YWxsaWM9dl9yb3VnaG5lc3NfbWV0YWxsaWNfZW1pc3NpdmVfYWxwaGEueTttYXQuYmFzZUNvbG9yLncqPXZfcm91Z2huZXNzX21ldGFsbGljX2VtaXNzaXZlX2FscGhhLnc7XFxuI2VuZGlmXFxuI2lmIGRlZmluZWQoSEFTX1RFWFRVUkVfdV9tZXRhbGxpY1JvdWdobmVzc1RleHR1cmUpICYmIGRlZmluZWQoSEFTX0FUVFJJQlVURV9hX3V2XzJmKSBcXG52ZWM0IG1yU2FtcGxlPXRleHR1cmUyRCh1X21ldGFsbGljUm91Z2huZXNzVGV4dHVyZSx1dl8yZik7bWF0LnBlcmNlcHR1YWxSb3VnaG5lc3MqPW1yU2FtcGxlLmc7bWF0Lm1ldGFsbGljKj1tclNhbXBsZS5iO1xcbiNlbmRpZlxcbmNvbnN0IGZsb2F0IGNfbWluUm91Z2huZXNzPTAuMDQ7bWF0LnBlcmNlcHR1YWxSb3VnaG5lc3M9Y2xhbXAobWF0LnBlcmNlcHR1YWxSb3VnaG5lc3MsY19taW5Sb3VnaG5lc3MsMS4wKTttYXQubWV0YWxsaWM9c2F0dXJhdGUobWF0Lm1ldGFsbGljKTttYXQuYWxwaGFSb3VnaG5lc3M9bWF0LnBlcmNlcHR1YWxSb3VnaG5lc3MqbWF0LnBlcmNlcHR1YWxSb3VnaG5lc3M7Y29uc3QgdmVjMyBmMD12ZWMzKDAuMDQpO21hdC5kaWZmdXNlQ29sb3I9bWF0LmJhc2VDb2xvci5yZ2IqKHZlYzMoMS4wKS1mMCk7bWF0LmRpZmZ1c2VDb2xvcio9MS4wLW1hdC5tZXRhbGxpYzttYXQuc3BlY3VsYXJDb2xvcj1taXgoZjAsbWF0LmJhc2VDb2xvci5yZ2IsbWF0Lm1ldGFsbGljKTtoaWdocCBmbG9hdCByZWZsZWN0YW5jZT1tYXgobWF4KG1hdC5zcGVjdWxhckNvbG9yLnIsbWF0LnNwZWN1bGFyQ29sb3IuZyksbWF0LnNwZWN1bGFyQ29sb3IuYik7aGlnaHAgZmxvYXQgcmVmbGVjdGFuY2U5MD1zYXR1cmF0ZShyZWZsZWN0YW5jZSoyNS4wKTttYXQuZjkwPXZlYzMocmVmbGVjdGFuY2U5MCk7bWF0Lm5vcm1hbD1nZXROb3JtYWwoKTtyZXR1cm4gbWF0O31mbG9hdCBWX0dHWChmbG9hdCBOZG90TCxmbG9hdCBOZG90VixmbG9hdCByb3VnaG5lc3MpXFxue2Zsb2F0IGEyPXJvdWdobmVzcypyb3VnaG5lc3M7ZmxvYXQgR0dYVj1OZG90TCpzcXJ0KE5kb3RWKk5kb3RWKigxLjAtYTIpK2EyKTtmbG9hdCBHR1hMPU5kb3RWKnNxcnQoTmRvdEwqTmRvdEwqKDEuMC1hMikrYTIpO3JldHVybiAwLjUvKEdHWFYrR0dYTCk7fWZsb2F0IFZfR0dYRmFzdChmbG9hdCBOZG90TCxmbG9hdCBOZG90VixmbG9hdCByb3VnaG5lc3MpIHtmbG9hdCBhPXJvdWdobmVzcztmbG9hdCBHR1hWPU5kb3RMKihOZG90ViooMS4wLWEpK2EpO2Zsb2F0IEdHWEw9TmRvdFYqKE5kb3RMKigxLjAtYSkrYSk7cmV0dXJuIDAuNS8oR0dYVitHR1hMKTt9dmVjMyBGX1NjaGxpY2sodmVjMyBzcGVjdWxhckNvbG9yLHZlYzMgZjkwLGZsb2F0IFZkb3RIKVxcbntyZXR1cm4gc3BlY3VsYXJDb2xvcisoZjkwLXNwZWN1bGFyQ29sb3IpKnBvdyhjbGFtcCgxLjAtVmRvdEgsMC4wLDEuMCksNS4wKTt9dmVjMyBGX1NjaGxpY2tGYXN0KHZlYzMgc3BlY3VsYXJDb2xvcixmbG9hdCBWZG90SClcXG57ZmxvYXQgeD0xLjAtVmRvdEg7ZmxvYXQgeDQ9eCp4KngqeDtyZXR1cm4gc3BlY3VsYXJDb2xvcisoMS4wLXNwZWN1bGFyQ29sb3IpKng0Kng7fWZsb2F0IERfR0dYKGhpZ2hwIGZsb2F0IE5kb3RILGZsb2F0IGFscGhhUm91Z2huZXNzKVxcbntoaWdocCBmbG9hdCBhND1hbHBoYVJvdWdobmVzcyphbHBoYVJvdWdobmVzcztoaWdocCBmbG9hdCBmPShOZG90SCphNC1OZG90SCkqTmRvdEgrMS4wO3JldHVybiBhNC8oTV9QSSpmKmYpO312ZWMzIGRpZmZ1c2VCdXJsZXkoTWF0ZXJpYWwgbWF0LGZsb2F0IExkb3RILGZsb2F0IE5kb3RMLGZsb2F0IE5kb3RWKVxcbntmbG9hdCBmOTA9Mi4wKkxkb3RIKkxkb3RIKm1hdC5hbHBoYVJvdWdobmVzcy0wLjU7cmV0dXJuIChtYXQuZGlmZnVzZUNvbG9yL01fUEkpKigxLjArZjkwKnBvdygoMS4wLU5kb3RMKSw1LjApKSooMS4wK2Y5MCpwb3coKDEuMC1OZG90ViksNS4wKSk7fXZlYzMgZGlmZnVzZUxhbWJlcnRpYW4oTWF0ZXJpYWwgbWF0KVxcbntcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbnJldHVybiBtYXQuZGlmZnVzZUNvbG9yO1xcbiNlbHNlXFxucmV0dXJuIG1hdC5kaWZmdXNlQ29sb3IvTV9QSTtcXG4jZW5kaWZcXG59dmVjMyBFbnZCUkRGQXBwcm94KHZlYzMgc3BlY3VsYXJDb2xvcixmbG9hdCByb3VnaG5lc3MsaGlnaHAgZmxvYXQgTmRvdFYpXFxue3ZlYzQgYzA9dmVjNCgtMSwtMC4wMjc1LC0wLjU3MiwwLjAyMik7dmVjNCBjMT12ZWM0KDEsMC4wNDI1LDEuMDQsLTAuMDQpO2hpZ2hwIHZlYzQgcj1yb3VnaG5lc3MqYzArYzE7aGlnaHAgZmxvYXQgYTAwND1taW4oci54KnIueCxleHAyKC05LjI4Kk5kb3RWKSkqci54K3IueTt2ZWMyIEFCPXZlYzIoLTEuMDQsMS4wNCkqYTAwNCtyLnp3O3JldHVybiBzcGVjdWxhckNvbG9yKkFCLngrQUIueTt9dmVjMyBjb21wdXRlSW5kaXJlY3RMaWdodENvbnRyaWJ1dGlvbihNYXRlcmlhbCBtYXQsZmxvYXQgTmRvdFYsdmVjMyBub3JtYWwpXFxue3ZlYzMgZW52X2xpZ2h0PXZlYzMoMC42NSwwLjY1LDAuNjUpO1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxuZmxvYXQgYW1iaWVudF9mYWN0b3I9Y2FsY3VsYXRlX2FtYmllbnRfZGlyZWN0aW9uYWxfZmFjdG9yKG5vcm1hbCk7ZW52X2xpZ2h0PXVfbGlnaHRpbmdfYW1iaWVudF9jb2xvciphbWJpZW50X2ZhY3RvcjtcXG4jZW5kaWZcXG52ZWMzIGVudkJSREY9RW52QlJERkFwcHJveChtYXQuc3BlY3VsYXJDb2xvcixtYXQucGVyY2VwdHVhbFJvdWdobmVzcyxOZG90Vik7dmVjMyBpbmRpcmVjdFNwZWN1bGFyPSBlbnZCUkRGKmVudl9saWdodDt2ZWMzIGluZGlyZWN0RGlmZnVzZT1tYXQuZGlmZnVzZUNvbG9yKmVudl9saWdodDtyZXR1cm4gaW5kaXJlY3RTcGVjdWxhcitpbmRpcmVjdERpZmZ1c2U7fXZlYzMgY29tcHV0ZUxpZ2h0Q29udHJpYnV0aW9uKE1hdGVyaWFsIG1hdCx2ZWMzIGxpZ2h0UG9zaXRpb24sdmVjMyBsaWdodENvbG9yKVxcbntoaWdocCB2ZWMzIG49bWF0Lm5vcm1hbDtoaWdocCB2ZWMzIHY9bm9ybWFsaXplKC12X3Bvc2l0aW9uX2hlaWdodC54eXopO2hpZ2hwIHZlYzMgbD1ub3JtYWxpemUobGlnaHRQb3NpdGlvbik7aGlnaHAgdmVjMyBoPW5vcm1hbGl6ZSh2K2wpO2Zsb2F0IE5kb3RWPWNsYW1wKGFicyhkb3Qobix2KSksMC4wMDEsMS4wKTtmbG9hdCBOZG90TD1zYXR1cmF0ZShkb3QobixsKSk7aGlnaHAgZmxvYXQgTmRvdEg9c2F0dXJhdGUoZG90KG4saCkpO2Zsb2F0IFZkb3RIPXNhdHVyYXRlKGRvdCh2LGgpKTt2ZWMzIGY9Rl9TY2hsaWNrRmFzdChtYXQuc3BlY3VsYXJDb2xvcixWZG90SCk7ZmxvYXQgZz1WX0dHWEZhc3QoTmRvdEwsTmRvdFYsbWF0LmFscGhhUm91Z2huZXNzKTtmbG9hdCBkPURfR0dYKE5kb3RILG1hdC5hbHBoYVJvdWdobmVzcyk7dmVjMyBkaWZmdXNlVGVybT0oMS4wLWYpKmRpZmZ1c2VMYW1iZXJ0aWFuKG1hdCk7dmVjMyBzcGVjdWxhclRlcm09ZipnKmQ7dmVjMyB0cmFuc2Zvcm1lZF9ub3JtYWw9dmVjMygtbi54eSxuLnopO2Zsb2F0IGxpZ2h0aW5nX2ZhY3RvcjtcXG4jaWZkZWYgUkVOREVSX1NIQURPV1NcXG5saWdodGluZ19mYWN0b3I9c2hhZG93ZWRfbGlnaHRfZmFjdG9yX25vcm1hbCh0cmFuc2Zvcm1lZF9ub3JtYWwsdl9wb3NfbGlnaHRfdmlld18wLHZfcG9zX2xpZ2h0X3ZpZXdfMSx2X2RlcHRoX3NoYWRvd3MpO1xcbiNlbHNlXFxubGlnaHRpbmdfZmFjdG9yPU5kb3RMO1xcbiNlbmRpZlxcbnZlYzMgZGlyZWN0TGlnaHRDb2xvcj0oc3BlY3VsYXJUZXJtK2RpZmZ1c2VUZXJtKSpsaWdodGluZ19mYWN0b3IqbGlnaHRDb2xvcjt2ZWMzIGluZGlyZWN0TGlnaHRDb2xvcj1jb21wdXRlSW5kaXJlY3RMaWdodENvbnRyaWJ1dGlvbihtYXQsTmRvdFYsdHJhbnNmb3JtZWRfbm9ybWFsKTt2ZWMzIGNvbG9yPShzYXR1cmF0ZShkaXJlY3RMaWdodENvbG9yKStpbmRpcmVjdExpZ2h0Q29sb3IpO2Zsb2F0IGludGVuc2l0eUZhY3Rvcj0xLjA7XFxuI2lmICFkZWZpbmVkKExJR0hUSU5HXzNEX01PREUpXFxuY29uc3QgdmVjMyBsdW1pbm9zaXR5RmFjdG9yPXZlYzMoMC4yMTI2LDAuNzE1MiwwLjA3MjIpO2Zsb2F0IGx1bWluYW5jZT1kb3QoZGlmZnVzZVRlcm0sbHVtaW5vc2l0eUZhY3Rvcik7aW50ZW5zaXR5RmFjdG9yPW1peCgoMS4wLXVfbGlnaHRpbnRlbnNpdHkpLG1heCgoMS4wLWx1bWluYW5jZSt1X2xpZ2h0aW50ZW5zaXR5KSwxLjApLE5kb3RMKTtcXG4jZW5kaWZcXG5jb2xvcio9aW50ZW5zaXR5RmFjdG9yO3JldHVybiBjb2xvcjt9dm9pZCBtYWluKCkge1xcbiNpZmRlZiBURVJSQUlOX0ZSQUdNRU5UX09DQ0xVU0lPTlxcbmlmIChpc09jY2x1ZGVkKCkpIHtkaXNjYXJkO31cXG4jZW5kaWZcXG52ZWMzIGxpZ2h0RGlyPXVfbGlnaHRwb3M7dmVjMyBsaWdodENvbG9yPXVfbGlnaHRjb2xvcjtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbmxpZ2h0RGlyPXVfbGlnaHRpbmdfZGlyZWN0aW9uYWxfZGlyO2xpZ2h0RGlyLnh5PS1saWdodERpci54eTtsaWdodENvbG9yPXVfbGlnaHRpbmdfZGlyZWN0aW9uYWxfY29sb3I7XFxuI2VuZGlmXFxudmVjNCBmaW5hbENvbG9yO1xcbiNpZmRlZiBESUZGVVNFX1NIQURFRFxcbnZlYzMgTj1nZXROb3JtYWwoKTt2ZWMzIGRpZmZ1c2U9Z2V0RGlmZnVzZVNoYWRlZENvbG9yKGdldEJhc2VDb2xvcigpLnJnYixOLGxpZ2h0RGlyLGxpZ2h0Q29sb3IpO1xcbiNpZmRlZiBIQVNfVEVYVFVSRV91X29jY2x1c2lvblRleHR1cmVcXG5mbG9hdCBhbz0odGV4dHVyZTJEKHVfb2NjbHVzaW9uVGV4dHVyZSx1dl8yZikuci0xLjApKnVfYW9JbnRlbnNpdHkrMS4wO2RpZmZ1c2UqPWFvO1xcbiNlbmRpZlxcbmZpbmFsQ29sb3I9dmVjNChkaWZmdXNlLDEuMCkqdV9vcGFjaXR5O1xcbiNlbHNlXFxuTWF0ZXJpYWwgbWF0PWdldFBCUk1hdGVyaWFsKCk7dmVjMyBjb2xvcj1jb21wdXRlTGlnaHRDb250cmlidXRpb24obWF0LGxpZ2h0RGlyLGxpZ2h0Q29sb3IpO1xcbiNpZiBkZWZpbmVkIChIQVNfVEVYVFVSRV91X29jY2x1c2lvblRleHR1cmUpICYmIGRlZmluZWQoSEFTX0FUVFJJQlVURV9hX3V2XzJmKVxcbmZsb2F0IGFvPSh0ZXh0dXJlMkQodV9vY2NsdXNpb25UZXh0dXJlLHV2XzJmKS54LTEuMCkqdV9hb0ludGVuc2l0eSsxLjA7Y29sb3IqPWFvO1xcbiNlbmRpZlxcbnZlYzQgZW1pc3NpdmU9dV9lbWlzc2l2ZUZhY3RvcjtcXG4jaWYgZGVmaW5lZChIQVNfVEVYVFVSRV91X2VtaXNzaW9uVGV4dHVyZSkgJiYgZGVmaW5lZChIQVNfQVRUUklCVVRFX2FfdXZfMmYpXFxuZW1pc3NpdmUucmdiKj1zUkdCVG9MaW5lYXIodGV4dHVyZTJEKHVfZW1pc3Npb25UZXh0dXJlLHV2XzJmKS5yZ2IpO1xcbiNlbmRpZlxcbmNvbG9yKz1lbWlzc2l2ZS5yZ2I7ZmxvYXQgb3BhY2l0eT1tYXQuYmFzZUNvbG9yLncqdV9vcGFjaXR5O1xcbiNpZmRlZiBIQVNfQVRUUklCVVRFX2FfcGJyXFxuZmxvYXQgcmVzRW1pc3Npb249dl9yb3VnaG5lc3NfbWV0YWxsaWNfZW1pc3NpdmVfYWxwaGEuejtyZXNFbWlzc2lvbio9dl9oZWlnaHRfYmFzZWRfZW1pc3Npb25fcGFyYW1zLnordl9oZWlnaHRfYmFzZWRfZW1pc3Npb25fcGFyYW1zLncqcG93KGNsYW1wKHZfaGVpZ2h0X2Jhc2VkX2VtaXNzaW9uX3BhcmFtcy54LDAuMCwxLjApLHZfaGVpZ2h0X2Jhc2VkX2VtaXNzaW9uX3BhcmFtcy55KTtjb2xvcj1taXgoY29sb3Isdl9jb2xvcl9taXgucmdiLG1pbigxLjAscmVzRW1pc3Npb24pKTtcXG4jaWZkZWYgSEFTX0FUVFJJQlVURV9hX2NvbG9yXzRmXFxuZmxvYXQgZGlzdGFuY2U9bGVuZ3RoKHZlYzIoMS4zKm1heCgwLjAsYWJzKGNvbG9yXzRmLngpLWNvbG9yXzRmLnopLGNvbG9yXzRmLnkpKTtkaXN0YW5jZSs9IG1peCgwLjUsMC4wLGNsYW1wKHJlc0VtaXNzaW9uLTEuMCwwLjAsMS4wKSk7b3BhY2l0eSo9dl9yb3VnaG5lc3NfbWV0YWxsaWNfZW1pc3NpdmVfYWxwaGEudypzYXR1cmF0ZSgxLjAtZGlzdGFuY2UqZGlzdGFuY2UpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbmNvbG9yPW1peChjb2xvcixtYXQuYmFzZUNvbG9yLnJnYix1X2VtaXNzaXZlX3N0cmVuZ3RoKTtjb2xvcj1saW5lYXJUb3NSR0IoY29sb3IpO2NvbG9yKj1vcGFjaXR5O2ZpbmFsQ29sb3I9dmVjNChjb2xvcixvcGFjaXR5KTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxuZmluYWxDb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKGZpbmFsQ29sb3Isdl9mb2dfcG9zLHZfcG9zaXRpb25faGVpZ2h0LncpKTtcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX0NVVE9GRlxcbmZpbmFsQ29sb3IqPXZfY3V0b2ZmX29wYWNpdHk7XFxuI2VuZGlmXFxuI2lmZGVmIElORElDQVRPUl9DVVRPVVRcXG5maW5hbENvbG9yPWFwcGx5Q3V0b3V0KGZpbmFsQ29sb3IpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1maW5hbENvbG9yO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbkhBTkRMRV9XSVJFRlJBTUVfREVCVUc7fScsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLnZlcnRleC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX3NoYWRvdy52ZXJ0ZXguZ2xzbFwiXFxuYXR0cmlidXRlIHZlYzMgYV9wb3NfM2Y7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZS1hdHRyaWJ1dGUgaGlnaHAgdmVjMyBub3JtYWxfM2ZcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lLWF0dHJpYnV0ZSBoaWdocCB2ZWMyIHV2XzJmXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZS1hdHRyaWJ1dGUgaGlnaHAgdmVjMyBjb2xvcl8zZlxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUtYXR0cmlidXRlIGhpZ2hwIHZlYzQgY29sb3JfNGZcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lLWF0dHJpYnV0ZS12ZXJ0ZXgtc2hhZGVyLW9ubHkgaGlnaHAgdmVjNCBwYnJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lLWF0dHJpYnV0ZS12ZXJ0ZXgtc2hhZGVyLW9ubHkgaGlnaHAgdmVjMyBoZWlnaHRCYXNlZEVtaXNzaXZlU3RyZW5ndGhcXG51bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfbGlnaHRpbmdfbWF0cml4O3VuaWZvcm0gdmVjMyB1X2NhbWVyYV9wb3M7dW5pZm9ybSB2ZWM0IHVfY29sb3JfbWl4O1xcbiNpZmRlZiBJTlNUQU5DRURfQVJSQVlTXFxuYXR0cmlidXRlIHZlYzQgYV9ub3JtYWxfbWF0cml4MDthdHRyaWJ1dGUgdmVjNCBhX25vcm1hbF9tYXRyaXgxO2F0dHJpYnV0ZSB2ZWM0IGFfbm9ybWFsX21hdHJpeDI7YXR0cmlidXRlIHZlYzQgYV9ub3JtYWxfbWF0cml4MztcXG4jZWxzZVxcbnVuaWZvcm0gaGlnaHAgbWF0NCB1X25vcm1hbF9tYXRyaXg7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxudW5pZm9ybSBtYXQ0IHVfbGlnaHRfbWF0cml4XzA7dW5pZm9ybSBtYXQ0IHVfbGlnaHRfbWF0cml4XzE7dmFyeWluZyB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMDt2YXJ5aW5nIHZlYzQgdl9wb3NfbGlnaHRfdmlld18xO3ZhcnlpbmcgZmxvYXQgdl9kZXB0aF9zaGFkb3dzO1xcbiNlbmRpZlxcbnZhcnlpbmcgdmVjNCB2X3Bvc2l0aW9uX2hlaWdodDt2YXJ5aW5nIGxvd3AgdmVjNCB2X2NvbG9yX21peDtcXG4jaWZkZWYgVEVSUkFJTl9GUkFHTUVOVF9PQ0NMVVNJT05cXG52YXJ5aW5nIGhpZ2hwIGZsb2F0IHZfZGVwdGg7XFxuI2VuZGlmXFxuI2lmZGVmIEhBU19BVFRSSUJVVEVfYV9wYnJcXG52YXJ5aW5nIGxvd3AgdmVjNCB2X3JvdWdobmVzc19tZXRhbGxpY19lbWlzc2l2ZV9hbHBoYTt2YXJ5aW5nIG1lZGl1bXAgdmVjNCB2X2hlaWdodF9iYXNlZF9lbWlzc2lvbl9wYXJhbXM7XFxuI2VuZGlmXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplLWF0dHJpYnV0ZSBoaWdocCB2ZWMzIG5vcm1hbF8zZlxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplLWF0dHJpYnV0ZSBoaWdocCB2ZWMyIHV2XzJmXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUtYXR0cmlidXRlIGhpZ2hwIHZlYzMgY29sb3JfM2ZcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZS1hdHRyaWJ1dGUgaGlnaHAgdmVjNCBjb2xvcl80ZlxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplLWF0dHJpYnV0ZS1jdXN0b20gaGlnaHAgdmVjNCBwYnJcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZS1hdHRyaWJ1dGUtY3VzdG9tIGhpZ2hwIHZlYzMgaGVpZ2h0QmFzZWRFbWlzc2l2ZVN0cmVuZ3RoXFxuaGlnaHAgbWF0NCBub3JtYWxfbWF0cml4O1xcbiNpZmRlZiBJTlNUQU5DRURfQVJSQVlTXFxubm9ybWFsX21hdHJpeD1tYXQ0KGFfbm9ybWFsX21hdHJpeDAsYV9ub3JtYWxfbWF0cml4MSxhX25vcm1hbF9tYXRyaXgyLGFfbm9ybWFsX21hdHJpeDMpO1xcbiNlbHNlXFxubm9ybWFsX21hdHJpeD11X25vcm1hbF9tYXRyaXg7XFxuI2VuZGlmXFxudmVjMyBsb2NhbF9wb3M7bWF0MyBycztcXG4jaWZkZWYgTU9ERUxfUE9TSVRJT05fT05fR1BVXFxudmVjMyBwb3NfY29sb3I9bm9ybWFsX21hdHJpeFswXS54eXo7dmVjNCB0cmFuc2xhdGU9bm9ybWFsX21hdHJpeFsxXTt2ZWMzIHBvc19hPWZsb29yKHBvc19jb2xvcik7dmVjMyByZ2I9MS4wNSoocG9zX2NvbG9yLXBvc19hKTtmbG9hdCBjb2xvcl9taXg9cG9zX2Euei8xMDAuMDt2X2NvbG9yX21peD12ZWM0KHNSR0JUb0xpbmVhcihyZ2IpLGNvbG9yX21peCk7ZmxvYXQgbWV0ZXJfdG9fdGlsZT1ub3JtYWxfbWF0cml4WzBdLnc7dmVjNCBwb3M9dmVjNChwb3NfYS54eSx0cmFuc2xhdGUueiwxLjApO3JzWzBdLng9bm9ybWFsX21hdHJpeFsxXS53O3JzWzBdLnl6PW5vcm1hbF9tYXRyaXhbMl0ueHk7cnNbMV0ueHk9bm9ybWFsX21hdHJpeFsyXS56dztyc1sxXS56PW5vcm1hbF9tYXRyaXhbM10ueDtyc1syXS54eXo9bm9ybWFsX21hdHJpeFszXS55enc7dmVjNCBwb3Nfbm9kZT11X2xpZ2h0aW5nX21hdHJpeCp2ZWM0KGFfcG9zXzNmLDEuMCk7dmVjMyByb3RhdGVkX3Bvc19ub2RlPXJzKnBvc19ub2RlLnh5ejt2ZWMzIHBvc19tb2RlbF90aWxlPShyb3RhdGVkX3Bvc19ub2RlK3ZlYzModHJhbnNsYXRlLnh5LDAuMCkpKnZlYzMobWV0ZXJfdG9fdGlsZSxtZXRlcl90b190aWxlLDEuMCk7cG9zLnh5eis9cG9zX21vZGVsX3RpbGU7bG9jYWxfcG9zPXBvcy54eXo7Z2xfUG9zaXRpb249dV9tYXRyaXgqcG9zO3Bvcy56Kj1tZXRlcl90b190aWxlO3ZfcG9zaXRpb25faGVpZ2h0Lnh5ej1wb3MueHl6LXVfY2FtZXJhX3BvcztcXG4jZWxzZVxcbmxvY2FsX3Bvcz1hX3Bvc18zZjtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zXzNmLDEpO3ZfcG9zaXRpb25faGVpZ2h0Lnh5ej12ZWMzKHVfbGlnaHRpbmdfbWF0cml4KnZlYzQoYV9wb3NfM2YsMSkpO3ZfY29sb3JfbWl4PXZlYzQoc1JHQlRvTGluZWFyKHVfY29sb3JfbWl4LnJnYiksdV9jb2xvcl9taXguYSk7XFxuI2VuZGlmXFxudl9wb3NpdGlvbl9oZWlnaHQudz1hX3Bvc18zZi56O1xcbiNpZmRlZiBIQVNfQVRUUklCVVRFX2FfcGJyXFxudmVjNCBhbGJlZG9fYz1kZWNvZGVfY29sb3IocGJyLnh5KTt2ZWMyIGVfcl9tPXVucGFja19mbG9hdChwYnIueik7dmVjMiByX209IHVucGFja19mbG9hdChlX3JfbS55KjE2LjApO3JfbS5yPXJfbS5yKjE2LjA7dl9jb2xvcl9taXg9dmVjNChhbGJlZG9fYy5yZ2IsMS4wKTt2X3JvdWdobmVzc19tZXRhbGxpY19lbWlzc2l2ZV9hbHBoYT12ZWM0KHZlYzMocl9tLGVfcl9tLngpLzI1NS4wLGFsYmVkb19jLmEpO3Zfcm91Z2huZXNzX21ldGFsbGljX2VtaXNzaXZlX2FscGhhLnoqPTIuMDtmbG9hdCBoZWlnaHRCYXNlZFJlbGF0aXZlSW50ZXBvbGF0aW9uPWFfcG9zXzNmLnoqaGVpZ2h0QmFzZWRFbWlzc2l2ZVN0cmVuZ3RoLngraGVpZ2h0QmFzZWRFbWlzc2l2ZVN0cmVuZ3RoLnk7dl9oZWlnaHRfYmFzZWRfZW1pc3Npb25fcGFyYW1zLng9aGVpZ2h0QmFzZWRSZWxhdGl2ZUludGVwb2xhdGlvbjt2X2hlaWdodF9iYXNlZF9lbWlzc2lvbl9wYXJhbXMueT1oZWlnaHRCYXNlZEVtaXNzaXZlU3RyZW5ndGguejt2ZWMyIGVtaXNzaW9uTXVsdGlwbGllclZhbHVlcz11bnBhY2tfZmxvYXQocGJyLncpLzI1Ni4wO3ZfaGVpZ2h0X2Jhc2VkX2VtaXNzaW9uX3BhcmFtcy56PWVtaXNzaW9uTXVsdGlwbGllclZhbHVlcy54O3ZfaGVpZ2h0X2Jhc2VkX2VtaXNzaW9uX3BhcmFtcy53PWVtaXNzaW9uTXVsdGlwbGllclZhbHVlcy55LWVtaXNzaW9uTXVsdGlwbGllclZhbHVlcy54O1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGxvY2FsX3Bvcyk7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9DVVRPRkZcXG52X2N1dG9mZl9vcGFjaXR5PWN1dG9mZl9vcGFjaXR5KHVfY3V0b2ZmX3BhcmFtcyxnbF9Qb3NpdGlvbi56KTtcXG4jZW5kaWZcXG4jaWZkZWYgVEVSUkFJTl9GUkFHTUVOVF9PQ0NMVVNJT05cXG52X2RlcHRoPWdsX1Bvc2l0aW9uLnovZ2xfUG9zaXRpb24udztcXG4jZW5kaWZcXG4jaWZkZWYgSEFTX0FUVFJJQlVURV9hX25vcm1hbF8zZlxcbiNpZmRlZiBNT0RFTF9QT1NJVElPTl9PTl9HUFVcXG5mbG9hdCB4X3NxdWFyZWRfc2NhbGU9ZG90KHJzWzBdLHJzWzBdKTtmbG9hdCB5X3NxdWFyZWRfc2NhbGU9ZG90KHJzWzFdLHJzWzFdKTtmbG9hdCB6X3NxdWFyZWRfc2NhbGU9ZG90KHJzWzJdLHJzWzJdKTt2ZWMzIHNxdWFyZWRfc2NhbGU9dmVjMyh4X3NxdWFyZWRfc2NhbGUseV9zcXVhcmVkX3NjYWxlLHpfc3F1YXJlZF9zY2FsZSk7bm9ybWFsXzNmPXJzKigodV9saWdodGluZ19tYXRyaXgqdmVjNChub3JtYWxfM2YsMC4wKSkueHl6L3NxdWFyZWRfc2NhbGUpO25vcm1hbF8zZj1ub3JtYWxpemUobm9ybWFsXzNmKTtcXG4jZWxzZVxcbm5vcm1hbF8zZj12ZWMzKG5vcm1hbF9tYXRyaXgqdmVjNChub3JtYWxfM2YsMCkpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbiNpZmRlZiBIQVNfQVRUUklCVVRFX2FfcGJyXFxuI2lmZGVmIEhBU19BVFRSSUJVVEVfYV9jb2xvcl80ZlxcbnZfcm91Z2huZXNzX21ldGFsbGljX2VtaXNzaXZlX2FscGhhLnc9Y2xhbXAoY29sb3JfNGYuYSp2X3JvdWdobmVzc19tZXRhbGxpY19lbWlzc2l2ZV9hbHBoYS53Kih2X3JvdWdobmVzc19tZXRhbGxpY19lbWlzc2l2ZV9hbHBoYS56LTEuMCksMC4wLDEuMCk7XFxuI2VuZGlmXFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxudmVjMyBzaGFkb3dfcG9zPWxvY2FsX3BvcztcXG4jaWZkZWYgTk9STUFMX09GRlNFVFxcbiNpZmRlZiBIQVNfQVRUUklCVVRFX2Ffbm9ybWFsXzNmXFxuI2lmZGVmIE1PREVMX1BPU0lUSU9OX09OX0dQVVxcbnZlYzMgb2Zmc2V0PXNoYWRvd19ub3JtYWxfb2Zmc2V0KHZlYzMoLW5vcm1hbF8zZi54eSxub3JtYWxfM2YueikpO3NoYWRvd19wb3MrPW9mZnNldCpzaGFkb3dfbm9ybWFsX29mZnNldF9tdWx0aXBsaWVyMCgpO1xcbiNlbHNlXFxudmVjMyBvZmZzZXQ9c2hhZG93X25vcm1hbF9vZmZzZXRfbW9kZWwobm9ybWFsaXplKG5vcm1hbF8zZikpO3NoYWRvd19wb3MrPW9mZnNldCpzaGFkb3dfbm9ybWFsX29mZnNldF9tdWx0aXBsaWVyMCgpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbiNlbmRpZlxcbnZfcG9zX2xpZ2h0X3ZpZXdfMD11X2xpZ2h0X21hdHJpeF8wKnZlYzQoc2hhZG93X3BvcywxKTt2X3Bvc19saWdodF92aWV3XzE9dV9saWdodF9tYXRyaXhfMSp2ZWM0KHNoYWRvd19wb3MsMSk7dl9kZXB0aF9zaGFkb3dzPWdsX1Bvc2l0aW9uLnc7XFxuI2VuZGlmXFxufScpLG1vZGVsRGVwdGg6QkUoXCJ2YXJ5aW5nIGhpZ2hwIGZsb2F0IHZfZGVwdGg7dm9pZCBtYWluKCkge1xcbiNpZm5kZWYgREVQVEhfVEVYVFVSRVxcbmdsX0ZyYWdDb2xvcj1wYWNrX2RlcHRoKHZfZGVwdGgpO1xcbiNlbmRpZlxcbn1cIixcImF0dHJpYnV0ZSB2ZWMzIGFfcG9zXzNmO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt2YXJ5aW5nIGhpZ2hwIGZsb2F0IHZfZGVwdGg7XFxuI2lmZGVmIE1PREVMX1BPU0lUSU9OX09OX0dQVVxcbiNpZmRlZiBJTlNUQU5DRURfQVJSQVlTXFxuYXR0cmlidXRlIHZlYzQgYV9ub3JtYWxfbWF0cml4MDthdHRyaWJ1dGUgdmVjNCBhX25vcm1hbF9tYXRyaXgxO2F0dHJpYnV0ZSB2ZWM0IGFfbm9ybWFsX21hdHJpeDI7YXR0cmlidXRlIHZlYzQgYV9ub3JtYWxfbWF0cml4MztcXG4jZWxzZVxcbnVuaWZvcm0gaGlnaHAgbWF0NCB1X2luc3RhbmNlO1xcbiNlbmRpZlxcbnVuaWZvcm0gaGlnaHAgbWF0NCB1X25vZGVfbWF0cml4O1xcbiNlbmRpZlxcbnZvaWQgbWFpbigpIHtcXG4jaWZkZWYgTU9ERUxfUE9TSVRJT05fT05fR1BVXFxuaGlnaHAgbWF0NCBpbnN0YW5jZTtcXG4jaWZkZWYgSU5TVEFOQ0VEX0FSUkFZU1xcbmluc3RhbmNlPW1hdDQoYV9ub3JtYWxfbWF0cml4MCxhX25vcm1hbF9tYXRyaXgxLGFfbm9ybWFsX21hdHJpeDIsYV9ub3JtYWxfbWF0cml4Myk7XFxuI2Vsc2VcXG5pbnN0YW5jZT11X2luc3RhbmNlO1xcbiNlbmRpZlxcbnZlYzMgcG9zX2NvbG9yPWluc3RhbmNlWzBdLnh5ejt2ZWM0IHRyYW5zbGF0ZT1pbnN0YW5jZVsxXTt2ZWMzIHBvc19hPWZsb29yKHBvc19jb2xvcik7ZmxvYXQgbWV0ZXJfdG9fdGlsZT1pbnN0YW5jZVswXS53O3ZlYzQgcG9zPXZlYzQocG9zX2EueHksdHJhbnNsYXRlLnosMS4wKTttYXQzIHJzO3JzWzBdLng9aW5zdGFuY2VbMV0udztyc1swXS55ej1pbnN0YW5jZVsyXS54eTtyc1sxXS54eT1pbnN0YW5jZVsyXS56dztyc1sxXS56PWluc3RhbmNlWzNdLng7cnNbMl0ueHl6PWluc3RhbmNlWzNdLnl6dzt2ZWM0IHBvc19ub2RlPXVfbm9kZV9tYXRyaXgqdmVjNChhX3Bvc18zZiwxLjApO3ZlYzMgcm90YXRlZF9wb3Nfbm9kZT1ycypwb3Nfbm9kZS54eXo7dmVjMyBwb3NfbW9kZWxfdGlsZT0ocm90YXRlZF9wb3Nfbm9kZSt2ZWMzKHRyYW5zbGF0ZS54eSwwLjApKSp2ZWMzKG1ldGVyX3RvX3RpbGUsbWV0ZXJfdG9fdGlsZSwxLjApO3Bvcy54eXorPXBvc19tb2RlbF90aWxlO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnBvcztcXG4jZWxzZVxcbmdsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3NfM2YsMSk7XFxuI2VuZGlmXFxudl9kZXB0aD1nbF9Qb3NpdGlvbi56L2dsX1Bvc2l0aW9uLnc7fVwiKSxzdGFyczpCRShcInZhcnlpbmcgaGlnaHAgdmVjMiB2X3V2O3ZhcnlpbmcgbWVkaXVtcCBmbG9hdCB2X2ludGVuc2l0eTtmbG9hdCBzaGFwZUNpcmNsZShpbiB2ZWMyIHV2KVxcbntmbG9hdCBiZWdpbkZhZGU9MC42O2Zsb2F0IGxlbmd0aEZyb21DZW50ZXI9bGVuZ3RoKHZfdXYpO3JldHVybiAxLjAtY2xhbXAoKGxlbmd0aEZyb21DZW50ZXItYmVnaW5GYWRlKS8oMS4wLWJlZ2luRmFkZSksMC4wLDEuMCk7fXZvaWQgbWFpbigpIHtmbG9hdCBhbHBoYT1zaGFwZUNpcmNsZSh2X3V2KTt2ZWMzIGNvbG9yPXZlYzMoMS4wLDEuMCwxLjApO2FscGhhKj12X2ludGVuc2l0eTtnbF9GcmFnQ29sb3I9dmVjNChjb2xvciphbHBoYSxhbHBoYSk7SEFORExFX1dJUkVGUkFNRV9ERUJVRzt9XCIsXCJcXG5hdHRyaWJ1dGUgdmVjMyBhX3Bvc18zZjthdHRyaWJ1dGUgdmVjMiBhX3V2O2F0dHJpYnV0ZSBmbG9hdCBhX3NpemVfc2NhbGU7YXR0cmlidXRlIGZsb2F0IGFfZmFkZV9vcGFjaXR5O3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzMgdV91cDt1bmlmb3JtIHZlYzMgdV9yaWdodDt1bmlmb3JtIGZsb2F0IHVfaW50ZW5zaXR5X211bHRpcGxpZXI7dmFyeWluZyBoaWdocCB2ZWMyIHZfdXY7dmFyeWluZyBtZWRpdW1wIGZsb2F0IHZfaW50ZW5zaXR5O3ZvaWQgbWFpbigpIHt2X3V2PWFfdXY7dl9pbnRlbnNpdHk9YV9mYWRlX29wYWNpdHkqdV9pbnRlbnNpdHlfbXVsdGlwbGllcjt2ZWMzIHBvcz1hX3Bvc18zZjtwb3MrPWFfdXYueCp1X3JpZ2h0KmFfc2l6ZV9zY2FsZTtwb3MrPWFfdXYueSp1X3VwKmFfc2l6ZV9zY2FsZTtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KHBvcywxLjApO31cIil9O2Z1bmN0aW9uIE9FKGUsdCl7Y29uc3QgaT1lLnJlcGxhY2UoL1xccypcXC9cXC9bXlxcbl0qXFxuL2csXCJcXG5cIikuc3BsaXQoXCJcXG5cIik7Zm9yKGxldCBlIG9mIGkpaWYoZT1lLnRyaW0oKSxcIiNcIj09PWVbMF0mJmUuaW5jbHVkZXMoXCJpZlwiKSYmIWUuaW5jbHVkZXMoXCJlbmRpZlwiKSl7ZT1lLnJlcGxhY2UoXCIjXCIsXCJcIikucmVwbGFjZSgvaWZkZWZ8aWZuZGVmfGVsaWZ8aWYvZyxcIlwiKS5yZXBsYWNlKC8hfGRlZmluZWR8XFwofFxcKXxcXHxcXHx8JiYvZyxcIlwiKS5yZXBsYWNlKC9cXHMrL2csXCIgXCIpLnRyaW0oKTtjb25zdCBpPWUuc3BsaXQoXCIgXCIpO2Zvcihjb25zdCBlIG9mIGkpdC5pbmNsdWRlcyhlKXx8dC5wdXNoKGUpO319ZnVuY3Rpb24gQkUoZSx0KXtjb25zdCBpPS8jaW5jbHVkZVxccytcIihbXlwiXSspXCIvZyxyPS8jcHJhZ21hIG1hcGJveDogKFtcXHdcXC1dKykgKFtcXHddKykgKFtcXHddKykgKFtcXHddKykvZztsZXQgbj10Lm1hdGNoKC9hdHRyaWJ1dGUoXFxTKikgKGhpZ2hwIHxtZWRpdW1wIHxsb3dwICk/KFtcXHddKykgKFtcXHddKykvZyk7biYmKG49bi5maWx0ZXIoKChlLHQpPT5uLmluZGV4T2YoZSk9PT10KSkpO2NvbnN0IG89e30scz1bXSxhPVtdO2U9ZS5yZXBsYWNlKGksKChlLHQpPT4oYS5wdXNoKHQpLFwiXCIpKSksdD10LnJlcGxhY2UoaSwoKGUsdCk9PihzLnB1c2godCksXCJcIikpKTtsZXQgbD1bLi4uekVdO09FKGUsbCksT0UodCxsKTtmb3IoY29uc3QgZSBvZiBbLi4ucywuLi5hXSlERVtlXXx8Y29uc29sZS5lcnJvcihgVW5kZWZpbmVkIGluY2x1ZGU6ICR7ZX1gKSxQRVtlXXx8KFBFW2VdPVtdLE9FKERFW2VdLFBFW2VdKSksbD1bLi4ubCwuLi5QRVtlXV07cmV0dXJuIHtmcmFnbWVudFNvdXJjZTplPWUucmVwbGFjZShyLCgoZSx0LGkscixuKT0+KG9bbl09ITAsXCJkZWZpbmVcIj09PXQ/YFxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke259XFxudmFyeWluZyAke2l9ICR7cn0gJHtufTtcXG4jZWxzZVxcbnVuaWZvcm0gJHtpfSAke3J9IHVfJHtufTtcXG4jZW5kaWZcXG5gOlwiaW5pdGlhbGl6ZVwiPT09dD9gXFxuI2lmZGVmIEhBU19VTklGT1JNX3VfJHtufVxcbiAgICAke2l9ICR7cn0gJHtufSA9IHVfJHtufTtcXG4jZW5kaWZcXG5gOlwiZGVmaW5lLWF0dHJpYnV0ZVwiPT09dD9gXFxuI2lmZGVmIEhBU19BVFRSSUJVVEVfYV8ke259XFxuICAgIHZhcnlpbmcgJHtpfSAke3J9ICR7bn07XFxuI2VuZGlmXFxuYDpcImluaXRpYWxpemUtYXR0cmlidXRlXCI9PT10P1wiXCI6dm9pZCAwKSkpLHZlcnRleFNvdXJjZTp0PXQucmVwbGFjZShyLCgoZSx0LGkscixuKT0+e2NvbnN0IHM9XCJmbG9hdFwiPT09cj9cInZlYzJcIjpyLGE9bi5tYXRjaCgvY29sb3IvKT9cImNvbG9yXCI6cztyZXR1cm4gXCJkZWZpbmUtYXR0cmlidXRlLXZlcnRleC1zaGFkZXItb25seVwiPT09dD9gXFxuI2lmZGVmIEhBU19BVFRSSUJVVEVfYV8ke259XFxuYXR0cmlidXRlICR7aX0gJHtyfSBhXyR7bn07XFxuI2VuZGlmXFxuYDpvW25dP1wiZGVmaW5lXCI9PT10P2BcXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfJHtufVxcbnVuaWZvcm0gbG93cCBmbG9hdCB1XyR7bn1fdDtcXG5hdHRyaWJ1dGUgJHtpfSAke3N9IGFfJHtufTtcXG52YXJ5aW5nICR7aX0gJHtyfSAke259O1xcbiNlbHNlXFxudW5pZm9ybSAke2l9ICR7cn0gdV8ke259O1xcbiNlbmRpZlxcbmA6XCJpbml0aWFsaXplXCI9PT10P1widmVjNFwiPT09YT9gXFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7bn1cXG4gICAgJHtufSA9IGFfJHtufTtcXG4jZWxzZVxcbiAgICAke2l9ICR7cn0gJHtufSA9IHVfJHtufTtcXG4jZW5kaWZcXG5gOmBcXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfJHtufVxcbiAgICAke259ID0gdW5wYWNrX21peF8ke2F9KGFfJHtufSwgdV8ke259X3QpO1xcbiNlbHNlXFxuICAgICR7aX0gJHtyfSAke259ID0gdV8ke259O1xcbiNlbmRpZlxcbmA6XCJkZWZpbmUtYXR0cmlidXRlXCI9PT10P2BcXG4jaWZkZWYgSEFTX0FUVFJJQlVURV9hXyR7bn1cXG4gICAgYXR0cmlidXRlICR7aX0gJHtyfSBhXyR7bn07XFxuICAgIHZhcnlpbmcgJHtpfSAke3J9ICR7bn07XFxuI2VuZGlmXFxuYDpcImluaXRpYWxpemUtYXR0cmlidXRlXCI9PT10P2BcXG4jaWZkZWYgSEFTX0FUVFJJQlVURV9hXyR7bn1cXG4gICAgJHtufSA9IGFfJHtufTtcXG4jZW5kaWZcXG5gOnZvaWQgMDpcImRlZmluZVwiPT09dD9gXFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7bn1cXG51bmlmb3JtIGxvd3AgZmxvYXQgdV8ke259X3Q7XFxuYXR0cmlidXRlICR7aX0gJHtzfSBhXyR7bn07XFxuI2Vsc2VcXG51bmlmb3JtICR7aX0gJHtyfSB1XyR7bn07XFxuI2VuZGlmXFxuYDpcImRlZmluZS1pbnN0YW5jZWRcIj09PXQ/XCJtYXQ0XCI9PT1hP2BcXG4jaWZkZWYgSU5TVEFOQ0VEX0FSUkFZU1xcbmF0dHJpYnV0ZSB2ZWM0IGFfJHtufTA7XFxuYXR0cmlidXRlIHZlYzQgYV8ke259MTtcXG5hdHRyaWJ1dGUgdmVjNCBhXyR7bn0yO1xcbmF0dHJpYnV0ZSB2ZWM0IGFfJHtufTM7XFxuI2Vsc2VcXG51bmlmb3JtICR7aX0gJHtyfSB1XyR7bn07XFxuI2VuZGlmXFxuYDpgXFxuI2lmZGVmIElOU1RBTkNFRF9BUlJBWVNcXG5hdHRyaWJ1dGUgJHtpfSAke3N9IGFfJHtufTtcXG4jZWxzZVxcbnVuaWZvcm0gJHtpfSAke3J9IHVfJHtufTtcXG4jZW5kaWZcXG5gOlwiaW5pdGlhbGl6ZS1hdHRyaWJ1dGUtY3VzdG9tXCI9PT10P2BcXG4jaWZkZWYgSEFTX0FUVFJJQlVURV9hXyR7bn1cXG4gICAgJHtpfSAke3J9ICR7bn0gPSBhXyR7bn07XFxuI2VuZGlmXFxuYDpcInZlYzRcIj09PWE/YFxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke259XFxuICAgICR7aX0gJHtyfSAke259ID0gYV8ke259O1xcbiNlbHNlXFxuICAgICR7aX0gJHtyfSAke259ID0gdV8ke259O1xcbiNlbmRpZlxcbmA6YFxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke259XFxuICAgICR7aX0gJHtyfSAke259ID0gdW5wYWNrX21peF8ke2F9KGFfJHtufSwgdV8ke259X3QpO1xcbiNlbHNlXFxuICAgICR7aX0gJHtyfSAke259ID0gdV8ke259O1xcbiNlbmRpZlxcbmB9KSksc3RhdGljQXR0cmlidXRlczpuLHVzZWREZWZpbmVzOmwsdmVydGV4SW5jbHVkZXM6cyxmcmFnbWVudEluY2x1ZGVzOmF9fWNsYXNzIEZFe2NvbnN0cnVjdG9yKCl7dGhpcy5ib3VuZFByb2dyYW09bnVsbCx0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyPW51bGwsdGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVycz1bXSx0aGlzLmJvdW5kSW5kZXhCdWZmZXI9bnVsbCx0aGlzLmJvdW5kVmVydGV4T2Zmc2V0PW51bGwsdGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXJzPVtdLHRoaXMudmFvPW51bGw7fWJpbmQoZSx0LGkscixuLG8scyxhKXt0aGlzLmNvbnRleHQ9ZTtsZXQgbD10aGlzLmJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzLmxlbmd0aCE9PXIubGVuZ3RoO2ZvcihsZXQgZT0wOyFsJiZlPHIubGVuZ3RoO2UrKyl0aGlzLmJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzW2VdIT09cltlXSYmKGw9ITApO2xldCBjPXRoaXMuYm91bmREeW5hbWljVmVydGV4QnVmZmVycy5sZW5ndGghPT1zLmxlbmd0aDtmb3IobGV0IGU9MDshYyYmZTxzLmxlbmd0aDtlKyspdGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXJzW2VdIT09c1tlXSYmKGM9ITApO2lmKCF0aGlzLnZhb3x8dGhpcy5ib3VuZFByb2dyYW0hPT10fHx0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyIT09aXx8bHx8Y3x8dGhpcy5ib3VuZEluZGV4QnVmZmVyIT09bnx8dGhpcy5ib3VuZFZlcnRleE9mZnNldCE9PW8pdGhpcy5mcmVzaEJpbmQodCxpLHIsbixvLHMsYSk7ZWxzZSB7ZS5iaW5kVmVydGV4QXJyYXlPRVMuc2V0KHRoaXMudmFvKTtmb3IoY29uc3QgaSBvZiBzKWkmJihpLmJpbmQoKSxhJiZpLmluc3RhbmNlQ291bnQmJmkuc2V0VmVydGV4QXR0cmliRGl2aXNvcihlLmdsLHQsYSkpO24mJm4uZHluYW1pY0RyYXcmJm4uYmluZCgpO319ZnJlc2hCaW5kKGUsdCxpLHIsbixvLHMpe2NvbnN0IGE9ZS5udW1BdHRyaWJ1dGVzLGw9dGhpcy5jb250ZXh0LGM9bC5nbDt0aGlzLnZhbyYmdGhpcy5kZXN0cm95KCksdGhpcy52YW89bC5nbC5jcmVhdGVWZXJ0ZXhBcnJheSgpLGwuYmluZFZlcnRleEFycmF5T0VTLnNldCh0aGlzLnZhbyksdGhpcy5ib3VuZFByb2dyYW09ZSx0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyPXQsdGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVycz1pLHRoaXMuYm91bmRJbmRleEJ1ZmZlcj1yLHRoaXMuYm91bmRWZXJ0ZXhPZmZzZXQ9bix0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcnM9byx0LmVuYWJsZUF0dHJpYnV0ZXMoYyxlKSx0LmJpbmQoKSx0LnNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGMsZSxuKTtmb3IoY29uc3QgdCBvZiBpKXQuZW5hYmxlQXR0cmlidXRlcyhjLGUpLHQuYmluZCgpLHQuc2V0VmVydGV4QXR0cmliUG9pbnRlcnMoYyxlLG4pO2Zvcihjb25zdCB0IG9mIG8pdCYmKHQuZW5hYmxlQXR0cmlidXRlcyhjLGUpLHQuYmluZCgpLHQuc2V0VmVydGV4QXR0cmliUG9pbnRlcnMoYyxlLG4pLHMmJnQuaW5zdGFuY2VDb3VudCYmdC5zZXRWZXJ0ZXhBdHRyaWJEaXZpc29yKGMsZSxzKSk7ciYmci5iaW5kKCksbC5jdXJyZW50TnVtQXR0cmlidXRlcz1hO31kZXN0cm95KCl7dGhpcy52YW8mJih0aGlzLmNvbnRleHQuZ2wuZGVsZXRlVmVydGV4QXJyYXkodGhpcy52YW8pLHRoaXMudmFvPW51bGwpO319ZnVuY3Rpb24gTkUoZSx0KXtjb25zdCBpPU1hdGgucG93KDIsdC5jYW5vbmljYWwueikscj10LmNhbm9uaWNhbC55O3JldHVybiBbbmV3IGVwKDAsci9pKS50b0xuZ0xhdCgpLmxhdCxuZXcgZXAoMCwocisxKS9pKS50b0xuZ0xhdCgpLmxhdF19ZnVuY3Rpb24gVUUoZSx0LGkscixuLG8scyl7Y29uc3QgYT1lLmNvbnRleHQsbD1hLmdsLGM9aS5oaWxsc2hhZGVGQk87aWYoIWMpcmV0dXJuO2UucHJlcGFyZURyYXdUaWxlKCk7Y29uc3QgaD1lLmlzVGlsZUFmZmVjdGVkQnlGb2codCksdT1lLmdldE9yQ3JlYXRlUHJvZ3JhbShcImhpbGxzaGFkZVwiLHtvdmVycmlkZUZvZzpofSk7YS5hY3RpdmVUZXh0dXJlLnNldChsLlRFWFRVUkUwKSxsLmJpbmRUZXh0dXJlKGwuVEVYVFVSRV8yRCxjLmNvbG9yQXR0YWNobWVudC5nZXQoKSk7Y29uc3QgZD0oKGUsdCxpLHIpPT57Y29uc3Qgbj1pLnBhaW50LmdldChcImhpbGxzaGFkZS1zaGFkb3ctY29sb3JcIiksbz1pLnBhaW50LmdldChcImhpbGxzaGFkZS1oaWdobGlnaHQtY29sb3JcIikscz1pLnBhaW50LmdldChcImhpbGxzaGFkZS1hY2NlbnQtY29sb3JcIiksYT1pLnBhaW50LmdldChcImhpbGxzaGFkZS1lbWlzc2l2ZS1zdHJlbmd0aFwiKTtsZXQgbD13KGkucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1kaXJlY3Rpb25cIikpO2lmKFwidmlld3BvcnRcIj09PWkucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1hbmNob3JcIikpbC09ZS50cmFuc2Zvcm0uYW5nbGU7ZWxzZSBpZihlLnN0eWxlJiZlLnN0eWxlLmVuYWJsZTNkTGlnaHRzKCkmJmUuc3R5bGUuZGlyZWN0aW9uYWxMaWdodCl7Y29uc3QgdD1lLnN0eWxlLmRpcmVjdGlvbmFsTGlnaHQucHJvcGVydGllcy5nZXQoXCJkaXJlY3Rpb25cIik7bD13KEoodC54LHQueSx0LnopWzFdKTt9Y29uc3QgYz0hZS5vcHRpb25zLm1vdmluZztyZXR1cm4ge3VfbWF0cml4OnJ8fGUudHJhbnNmb3JtLmNhbGN1bGF0ZVByb2pNYXRyaXgodC50aWxlSUQudG9VbndyYXBwZWQoKSxjKSx1X2ltYWdlOjAsdV9sYXRyYW5nZTpORSgwLHQudGlsZUlEKSx1X2xpZ2h0OltpLnBhaW50LmdldChcImhpbGxzaGFkZS1leGFnZ2VyYXRpb25cIiksbF0sdV9zaGFkb3c6bix1X2hpZ2hsaWdodDpvLHVfZW1pc3NpdmVfc3RyZW5ndGg6YSx1X2FjY2VudDpzfX0pKGUsaSxyLGUudGVycmFpbj90LnByb2pNYXRyaXg6bnVsbCk7ZS51cGxvYWRDb21tb25Vbmlmb3JtcyhhLHUsdC50b1Vud3JhcHBlZCgpKTtjb25zdHt0aWxlQm91bmRzQnVmZmVyOnAsdGlsZUJvdW5kc0luZGV4QnVmZmVyOmYsdGlsZUJvdW5kc1NlZ21lbnRzOm19PWUuZ2V0VGlsZUJvdW5kc0J1ZmZlcnMoaSk7dS5kcmF3KGUsbC5UUklBTkdMRVMsbixvLHMsRXguZGlzYWJsZWQsZCxyLmlkLHAsZixtKTt9ZnVuY3Rpb24gVkUoZSx0LGkpe2lmKCF0Lm5lZWRzREVNVGV4dHVyZVVwbG9hZClyZXR1cm47Y29uc3Qgcj1lLmNvbnRleHQsbj1yLmdsO3IucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEuc2V0KCExKSx0LmRlbVRleHR1cmU9dC5kZW1UZXh0dXJlfHxlLmdldFRpbGVUZXh0dXJlKGkuc3RyaWRlKTtjb25zdCBvPWkuZ2V0UGl4ZWxzKCk7dC5kZW1UZXh0dXJlP3QuZGVtVGV4dHVyZS51cGRhdGUobyx7cHJlbXVsdGlwbHk6ITF9KTp0LmRlbVRleHR1cmU9bmV3IGd5KHIsbyxlLnRlcnJhaW5Vc2VGbG9hdERFTSgpP24uUjMyRjpuLlJHQkEse3ByZW11bHRpcGx5OiExfSksdC5uZWVkc0RFTVRleHR1cmVVcGxvYWQ9ITE7fWZ1bmN0aW9uIGpFKGUsdCxpKXtjb25zdCByPWUuY29udGV4dCxuPXIuZ2w7aWYoIXQuZGVtKXJldHVybjtjb25zdCBvPXQuZGVtO2lmKHIuYWN0aXZlVGV4dHVyZS5zZXQobi5URVhUVVJFMSksVkUoZSx0LG8pLCF0LmRlbVRleHR1cmUpcmV0dXJuO3QuZGVtVGV4dHVyZS5iaW5kKG4uTkVBUkVTVCxuLkNMQU1QX1RPX0VER0UpO2NvbnN0IHM9by5kaW07ci5hY3RpdmVUZXh0dXJlLnNldChuLlRFWFRVUkUwKTtsZXQgYT10LmhpbGxzaGFkZUZCTztpZighYSl7Y29uc3QgZT1uZXcgZ3kocix7d2lkdGg6cyxoZWlnaHQ6cyxkYXRhOm51bGx9LG4uUkdCQSk7ZS5iaW5kKG4uTElORUFSLG4uQ0xBTVBfVE9fRURHRSksYT10LmhpbGxzaGFkZUZCTz1yLmNyZWF0ZUZyYW1lYnVmZmVyKHMscywhMCxcInJlbmRlcmJ1ZmZlclwiKSxhLmNvbG9yQXR0YWNobWVudC5zZXQoZS50ZXh0dXJlKTt9ci5iaW5kRnJhbWVidWZmZXIuc2V0KGEuZnJhbWVidWZmZXIpLHIudmlld3BvcnQuc2V0KFswLDAscyxzXSk7Y29uc3R7dGlsZUJvdW5kc0J1ZmZlcjpsLHRpbGVCb3VuZHNJbmRleEJ1ZmZlcjpjLHRpbGVCb3VuZHNTZWdtZW50czpofT1lLmdldE1lcmNhdG9yVGlsZUJvdW5kc0J1ZmZlcnMoKSx1PVtdO2UudGVycmFpblVzZUZsb2F0REVNKCkmJnUucHVzaChcIlRFUlJBSU5fREVNX0ZMT0FUX0ZPUk1BVFwiKSxlLmdldE9yQ3JlYXRlUHJvZ3JhbShcImhpbGxzaGFkZVByZXBhcmVcIix7ZGVmaW5lczp1fSkuZHJhdyhlLG4uVFJJQU5HTEVTLGd4LmRpc2FibGVkLHh4LmRpc2FibGVkLGJ4LnVuYmxlbmRlZCxFeC5kaXNhYmxlZCwoKGUsdCk9Pntjb25zdCBpPXQuc3RyaWRlLHI9eHUuY3JlYXRlKCk7cmV0dXJuIHh1Lm9ydGhvKHIsMCxzciwtc3IsMCwwLDEpLHh1LnRyYW5zbGF0ZShyLHIsWzAsLXNyLDBdKSx7dV9tYXRyaXg6cix1X2ltYWdlOjEsdV9kaW1lbnNpb246W2ksaV0sdV96b29tOmUub3ZlcnNjYWxlZFosdV91bnBhY2s6dC51bnBhY2tWZWN0b3J9fSkodC50aWxlSUQsbyksaS5pZCxsLGMsaCksdC5uZWVkc0hpbGxzaGFkZVByZXBhcmU9ITE7fWNvbnN0IEdFPWU9Pih7dV9tYXRyaXg6bmV3IGtsKGUpLHVfaW1hZ2UwOm5ldyBJbChlKSx1X3NraXJ0X2hlaWdodDpuZXcgQ2woZSksdV9ncm91bmRfc2hhZG93X2ZhY3RvcjpuZXcgRGwoZSl9KSxxRT0oZSx0LGkpPT4oe3VfbWF0cml4OmUsdV9pbWFnZTA6MCx1X3NraXJ0X2hlaWdodDp0LHVfZ3JvdW5kX3NoYWRvd19mYWN0b3I6aX0pLFpFPShlLHQsaSxyLG4sbyxzLGEsbCxjLGgsdSxkLHAsZik9Pih7dV9wcm9qX21hdHJpeDpGbG9hdDMyQXJyYXkuZnJvbShlKSx1X2dsb2JlX21hdHJpeDp0LHVfbm9ybWFsaXplX21hdHJpeDpGbG9hdDMyQXJyYXkuZnJvbShyKSx1X21lcmNfbWF0cml4OmksdV96b29tX3RyYW5zaXRpb246bix1X21lcmNfY2VudGVyOm8sdV9pbWFnZTA6MCx1X2ZydXN0dW1fdGw6cyx1X2ZydXN0dW1fdHI6YSx1X2ZydXN0dW1fYnI6bCx1X2ZydXN0dW1fYmw6Yyx1X2dsb2JlX3BvczpoLHVfZ2xvYmVfcmFkaXVzOnUsdV92aWV3cG9ydDpkLHVfZ3JpZF9tYXRyaXg6Zj9GbG9hdDMyQXJyYXkuZnJvbShmKTpuZXcgRmxvYXQzMkFycmF5KDkpLHVfc2tpcnRfaGVpZ2h0OnB9KSwkRT0oZSx0KT0+e2lmKHQ+MCYmZS50ZXJyYWluJiZXKFwiQ3V0b2ZmIGlzIGN1cnJlbnRseSBkaXNhYmxlZCBvbiB0ZXJyYWluXCIpLHQ8PTB8fGUudGVycmFpbilyZXR1cm4ge3Nob3VsZFJlbmRlckN1dG9mZjohMSx1bmlmb3JtVmFsdWVzOnt1X2N1dG9mZl9wYXJhbXM6WzAsMCwwLDBdfX07Y29uc3QgaT1lLnRyYW5zZm9ybSxyPU1hdGgubWF4KE1hdGguYWJzKGkuX3pvb20tKGUubWluQ3V0b2ZmWm9vbS0xKSksMSksbj1pLmlzTE9ERGlzYWJsZWQoITEpP0QoNjAsNDUsaS5waXRjaCk6RCgzMCwxNSxpLnBpdGNoKSxvPWkuX2ZhclotaS5fbmVhcloscz10KmkuaGVpZ2h0LGE9KCgxLShsPW4pKSooLjc1KmkuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSkrbCooaS5fZmFyWitzKSkqcjt2YXIgbDtyZXR1cm4ge3Nob3VsZFJlbmRlckN1dG9mZjpuPDEsdW5pZm9ybVZhbHVlczp7dV9jdXRvZmZfcGFyYW1zOltpLl9uZWFyWixpLl9mYXJaLChhLWkuX25lYXJaKS9vLChhLXMtaS5fbmVhclopL29dfX19O2Z1bmN0aW9uIEhFKGUsdCl7cmV0dXJuIG51bGwhPWUmJm51bGwhPXQmJiEoIWUuaGFzRGF0YSgpfHwhdC5oYXNEYXRhKCkpJiZudWxsIT1lLmRlbVRleHR1cmUmJm51bGwhPXQuZGVtVGV4dHVyZSYmZS50aWxlSUQua2V5IT09dC50aWxlSUQua2V5fWNvbnN0IFdFPW5ldyBjbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMub3BlcmF0aW9ucz17fTt9bmV3TW9ycGhpbmcoZSx0LGkscixuKXtpZihlIGluIHRoaXMub3BlcmF0aW9ucyl7Y29uc3QgdD10aGlzLm9wZXJhdGlvbnNbZV07dC50by50aWxlSUQua2V5IT09aS50aWxlSUQua2V5JiYodC5xdWV1ZWQ9aSk7fWVsc2UgdGhpcy5vcGVyYXRpb25zW2VdPXtzdGFydFRpbWU6cixwaGFzZTowLGR1cmF0aW9uOm4sZnJvbTp0LHRvOmkscXVldWVkOm51bGx9O31nZXRNb3JwaFZhbHVlc0ZvclByb3h5KGUpe2lmKCEoZSBpbiB0aGlzLm9wZXJhdGlvbnMpKXJldHVybiBudWxsO2NvbnN0IHQ9dGhpcy5vcGVyYXRpb25zW2VdO3JldHVybiB7ZnJvbTp0LmZyb20sdG86dC50byxwaGFzZTp0LnBoYXNlfX11cGRhdGUoZSl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5vcGVyYXRpb25zKXtjb25zdCBpPXRoaXMub3BlcmF0aW9uc1t0XTtmb3IoaS5waGFzZT0oZS1pLnN0YXJ0VGltZSkvaS5kdXJhdGlvbjtpLnBoYXNlPj0xfHwhdGhpcy5fdmFsaWRPcChpKTspaWYoIXRoaXMuX25leHRPcChpLGUpKXtkZWxldGUgdGhpcy5vcGVyYXRpb25zW3RdO2JyZWFrfX19X25leHRPcChlLHQpe3JldHVybiAhIWUucXVldWVkJiYoZS5mcm9tPWUudG8sZS50bz1lLnF1ZXVlZCxlLnF1ZXVlZD1udWxsLGUucGhhc2U9MCxlLnN0YXJ0VGltZT10LCEwKX1fdmFsaWRPcChlKXtyZXR1cm4gZS5mcm9tLmhhc0RhdGEoKSYmZS50by5oYXNEYXRhKCl9fSxYRT17MDpudWxsLDE6XCJURVJSQUlOX1ZFUlRFWF9NT1JQSElOR1wifTtmdW5jdGlvbiBZRShlLHQsaSl7aWYoMD09PXQpcmV0dXJuIDA7Y29uc3Qgcj10PDEmJjUxND09PWk/LjI1L3Q6MTtyZXR1cm4gNipNYXRoLnBvdygxLjUsMjItZSkqTWF0aC5tYXgodCwxKSpyfWZ1bmN0aW9uIEtFKGUsdCl7Y29uc3QgaT0xPDxlLno7cmV0dXJuICF0JiYoMD09PWUueHx8ZS54PT09aS0xKXx8MD09PWUueXx8ZS55PT09aS0xfWNvbnN0IEpFPWU9Pih7dV9tYXRyaXg6ZX0pO2Z1bmN0aW9uIFFFKGUsdCxpLHIsbil7aWYobj4wKXtjb25zdCBvPWh0Lm5vdygpLHM9KG8tZS50aW1lQWRkZWQpL24sYT10PyhvLXQudGltZUFkZGVkKS9uOi0xLGw9aS5nZXRTb3VyY2UoKSxjPXIuY292ZXJpbmdab29tTGV2ZWwoe3RpbGVTaXplOmwudGlsZVNpemUscm91bmRab29tOmwucm91bmRab29tfSksaD0hdHx8TWF0aC5hYnModC50aWxlSUQub3ZlcnNjYWxlZFotYyk+TWF0aC5hYnMoZS50aWxlSUQub3ZlcnNjYWxlZFotYyksdT1oJiZlLnJlZnJlc2hlZFVwb25FeHBpcmF0aW9uPzE6eihoP3M6MS1hLDAsMSk7cmV0dXJuIGUucmVmcmVzaGVkVXBvbkV4cGlyYXRpb24mJnM+PTEmJihlLnJlZnJlc2hlZFVwb25FeHBpcmF0aW9uPSExKSx0P3tvcGFjaXR5OjEsbWl4OjEtdX06e29wYWNpdHk6dSxtaXg6MH19cmV0dXJuIHtvcGFjaXR5OjEsbWl4OjB9fWNsYXNzIGVNIGV4dGVuZHMgQXh7Y29uc3RydWN0b3IoZSl7Y29uc3QgdD17dHlwZTpcInJhc3Rlci1kZW1cIixtYXh6b29tOmUudHJhbnNmb3JtLm1heFpvb219LGk9bmV3IF93KFV3KCksbnVsbCkscj12VChcIm1vY2stZGVtXCIsdCxpLGUuc3R5bGUpO3N1cGVyKFwibW9jay1kZW1cIixyLCExKSxyLnNldEV2ZW50ZWRQYXJlbnQodGhpcyksdGhpcy5fc291cmNlTG9hZGVkPSEwO31fbG9hZFRpbGUoZSx0KXtlLnN0YXRlPVwibG9hZGVkXCIsdChudWxsKTt9fWNsYXNzIHRNIGV4dGVuZHMgQXh7Y29uc3RydWN0b3IoZSl7Y29uc3QgdD12VChcInByb3h5XCIse3R5cGU6XCJnZW9qc29uXCIsbWF4em9vbTplLnRyYW5zZm9ybS5tYXhab29tfSxuZXcgX3coVXcoKSxudWxsKSxlLnN0eWxlKTtzdXBlcihcInByb3h5XCIsdCwhMSksdC5zZXRFdmVudGVkUGFyZW50KHRoaXMpLHRoaXMubWFwPXRoaXMuZ2V0U291cmNlKCkubWFwPWUsdGhpcy51c2VkPXRoaXMuX3NvdXJjZUxvYWRlZD0hMCx0aGlzLnJlbmRlckNhY2hlPVtdLHRoaXMucmVuZGVyQ2FjaGVQb29sPVtdLHRoaXMucHJveHlDYWNoZWRGQk89e307fXVwZGF0ZShlLHQsaSl7aWYoZS5mcmVlemVUaWxlQ292ZXJhZ2UpcmV0dXJuO3RoaXMudHJhbnNmb3JtPWU7Y29uc3Qgcj1lLmNvdmVyaW5nVGlsZXMoe3RpbGVTaXplOnRoaXMuX3NvdXJjZS50aWxlU2l6ZSxtaW56b29tOnRoaXMuX3NvdXJjZS5taW56b29tLG1heHpvb206dGhpcy5fc291cmNlLm1heHpvb20scm91bmRab29tOnRoaXMuX3NvdXJjZS5yb3VuZFpvb20scmVwYXJzZU92ZXJzY2FsZWQ6dGhpcy5fc291cmNlLnJlcGFyc2VPdmVyc2NhbGVkfSkucmVkdWNlKCgodCxpKT0+e2lmKHRbaS5rZXldPVwiXCIsIXRoaXMuX3RpbGVzW2kua2V5XSl7Y29uc3QgdD1uZXcgSXkoaSx0aGlzLl9zb3VyY2UudGlsZVNpemUqaS5vdmVyc2NhbGVGYWN0b3IoKSxlLnRpbGVab29tKTt0LnN0YXRlPVwibG9hZGVkXCIsdGhpcy5fdGlsZXNbaS5rZXldPXQ7fXJldHVybiB0fSkse30pO2Zvcihjb25zdCBlIGluIHRoaXMuX3RpbGVzKWUgaW4gcnx8KHRoaXMuZnJlZUZCTyhlKSx0aGlzLl90aWxlc1tlXS51bmxvYWRWZWN0b3JEYXRhKCksZGVsZXRlIHRoaXMuX3RpbGVzW2VdKTt9ZnJlZUZCTyhlKXtjb25zdCB0PXRoaXMucHJveHlDYWNoZWRGQk9bZV07aWYodm9pZCAwIT09dCl7Y29uc3QgaT1PYmplY3QudmFsdWVzKHQpO3RoaXMucmVuZGVyQ2FjaGVQb29sLnB1c2goLi4uaSksZGVsZXRlIHRoaXMucHJveHlDYWNoZWRGQk9bZV07fX1kZWFsbG9jUmVuZGVyQ2FjaGUoKXt0aGlzLnJlbmRlckNhY2hlLmZvckVhY2goKGU9PmUuZmIuZGVzdHJveSgpKSksdGhpcy5yZW5kZXJDYWNoZT1bXSx0aGlzLnJlbmRlckNhY2hlUG9vbD1bXSx0aGlzLnByb3h5Q2FjaGVkRkJPPXt9O319Y2xhc3MgaU0gZXh0ZW5kcyBCdXtjb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoZS5vdmVyc2NhbGVkWixlLndyYXAsZS5jYW5vbmljYWwueixlLmNhbm9uaWNhbC54LGUuY2Fub25pY2FsLnkpLHRoaXMucHJveHlUaWxlS2V5PXQsdGhpcy5wcm9qTWF0cml4PWk7fX1jbGFzcyByTSBleHRlbmRzIEdte2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKSx0aGlzLnBhaW50ZXI9ZSx0aGlzLnRlcnJhaW5UaWxlRm9yVGlsZT17fSx0aGlzLnByZXZUZXJyYWluVGlsZUZvclRpbGU9e307Y29uc3RbaSxyLG5dPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9bmV3IFRhLGk9bmV3IFZhLHI9MTMxO3QucmVzZXJ2ZSgxNzE2MSksaS5yZXNlcnZlKDMzODAwKTtjb25zdCBuPXNyLzEyOCxvPXNyK24vMixzPW8rbjtmb3IobGV0IGU9LW47ZTxzO2UrPW4pZm9yKGxldCBpPS1uO2k8cztpKz1uKXtjb25zdCByPWk8MHx8aT5vfHxlPDB8fGU+bz8yNDU3NTowLG49eihNYXRoLnJvdW5kKGkpLDAsc3IpLHM9eihNYXRoLnJvdW5kKGUpLDAsc3IpO3QuZW1wbGFjZUJhY2sobityLHMpO31jb25zdCBhPShlLHQpPT57Y29uc3Qgbj10KnIrZTtpLmVtcGxhY2VCYWNrKG4rMSxuLG4rciksaS5lbXBsYWNlQmFjayhuK3IsbityKzEsbisxKTt9O2ZvcihsZXQgZT0xO2U8MTI5O2UrKylmb3IobGV0IHQ9MTt0PDEyOTt0KyspYSh0LGUpO3JldHVybiBbMCwxMjldLmZvckVhY2goKGU9Pntmb3IobGV0IHQ9MDt0PDEzMDt0KyspYSh0LGUpLGEoZSx0KTt9KSksW3QsaSwzMjc2OF19KCksbz1lLmNvbnRleHQ7dGhpcy5ncmlkQnVmZmVyPW8uY3JlYXRlVmVydGV4QnVmZmVyKGksUHUubWVtYmVycyksdGhpcy5ncmlkSW5kZXhCdWZmZXI9by5jcmVhdGVJbmRleEJ1ZmZlcihyKSx0aGlzLmdyaWRTZWdtZW50cz1kbC5zaW1wbGVTZWdtZW50KDAsMCxpLmxlbmd0aCxyLmxlbmd0aCksdGhpcy5ncmlkTm9Ta2lydFNlZ21lbnRzPWRsLnNpbXBsZVNlZ21lbnQoMCwwLGkubGVuZ3RoLG4pLHRoaXMucHJveHlDb29yZHM9W10sdGhpcy5wcm94aWVkQ29vcmRzPXt9LHRoaXMuX3Zpc2libGVEZW1UaWxlcz1bXSx0aGlzLl9kcmFwZWRSZW5kZXJCYXRjaGVzPVtdLHRoaXMuX3NvdXJjZVRpbGVzT3ZlcmxhcD17fSx0aGlzLnByb3h5U291cmNlQ2FjaGU9bmV3IHRNKHQubWFwKSx0aGlzLm9ydGhvTWF0cml4PXh1LmNyZWF0ZSgpLHh1Lm9ydGhvKHRoaXMub3J0aG9NYXRyaXgsXCJnbG9iZVwiPT09dGhpcy5wYWludGVyLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWU/LjAxNTowLHNyLDAsc3IsMCwxKTtjb25zdCBzPW8uZ2w7dGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlPW5ldyB4eCh7ZnVuYzpzLkdFUVVBTCxtYXNrOjI1NX0sMCwyNTUscy5LRUVQLHMuS0VFUCxzLlJFUExBQ0UpLHRoaXMuX3ByZXZpb3VzWm9vbT1lLnRyYW5zZm9ybS56b29tLHRoaXMucG9vbD1bXSx0aGlzLl9maW5kQ292ZXJpbmdUaWxlQ2FjaGU9e30sdGhpcy5fdGlsZXNEaXJ0eT17fSx0aGlzLnN0eWxlPXQsdGhpcy5fdXNlVmVydGV4TW9ycGhpbmc9ITAsdGhpcy5fZXhhZ2dlcmF0aW9uPTEsdGhpcy5fbW9ja1NvdXJjZUNhY2hlPW5ldyBlTSh0Lm1hcCksdGhpcy5fcGVuZGluZ0dyb3VuZEVmZmVjdExheWVycz1bXTt9c2V0IHN0eWxlKGUpe2Uub24oXCJkYXRhXCIsdGhpcy5fb25TdHlsZURhdGFFdmVudC5iaW5kKHRoaXMpKSx0aGlzLl9zdHlsZT1lLHRoaXMuX3N0eWxlLm1hcC5vbihcIm1vdmVlbmRcIiwoKCk9Pnt0aGlzLl9jbGVhckxpbmVMYXllcnNGcm9tUmVuZGVyQ2FjaGUoKTt9KSk7fXVwZGF0ZShlLHQsaSl7aWYoZSYmZS50ZXJyYWluKXt0aGlzLl9zdHlsZSE9PWUmJih0aGlzLnN0eWxlPWUsdGhpcy5fZXZhbHVhdGlvblpvb209dm9pZCAwKTtjb25zdCByPWUudGVycmFpbi5wcm9wZXJ0aWVzLG49MD09PWUudGVycmFpbi5kcmFwZVJlbmRlck1vZGUsbz1lLnRlcnJhaW4uaXNab29tRGVwZW5kZW50KCk7dGhpcy5fcHJldmlvdXNVcGRhdGVUaW1lc3RhbXA9dGhpcy5lbmFibGVkP3RoaXMuX3VwZGF0ZVRpbWVzdGFtcDp2b2lkIDAsdGhpcy5fdXBkYXRlVGltZXN0YW1wPWh0Lm5vdygpO2NvbnN0IHM9ZS50ZXJyYWluJiZlLnRlcnJhaW4uc2NvcGUsYT1yLmdldChcInNvdXJjZVwiKSxsPW4/dGhpcy5fbW9ja1NvdXJjZUNhY2hlOmUuZ2V0U291cmNlQ2FjaGUoYSxzKTtpZighbClyZXR1cm4gdm9pZCBXKGBDb3VsZG4ndCBmaW5kIHRlcnJhaW4gc291cmNlIFwiJHthfVwiLmApO2lmKHRoaXMuc291cmNlQ2FjaGU9bCx0aGlzLl9leGFnZ2VyYXRpb249bz90aGlzLmNhbGN1bGF0ZUV4YWdnZXJhdGlvbih0KTpyLmdldChcImV4YWdnZXJhdGlvblwiKSwhdC5wcm9qZWN0aW9uLnJlcXVpcmVzRHJhcGluZyYmbyYmMD09PXRoaXMuX2V4YWdnZXJhdGlvbilyZXR1cm4gdm9pZCB0aGlzLl9kaXNhYmxlKCk7dGhpcy5lbmFibGVkPSEwO2NvbnN0IGM9KCk9Pnt0aGlzLnNvdXJjZUNhY2hlLnVzZWQmJlcoYFJhc3RlciBERU0gc291cmNlICcke3RoaXMuc291cmNlQ2FjaGUuaWR9JyBpcyB1c2VkIGJvdGggZm9yIHRlcnJhaW4gYW5kIGFzIGxheWVyIHNvdXJjZS5cXG5UaGlzIGxlYWRzIHRvIGxvd2VyIHJlc29sdXRpb24gb2YgaGlsbHNoYWRlLiBGb3IgZnVsbCBoaWxsc2hhZGUgcmVzb2x1dGlvbiBidXQgaGlnaGVyIG1lbW9yeSBjb25zdW1wdGlvbiwgZGVmaW5lIGFub3RoZXIgcmFzdGVyIERFTSBzb3VyY2UuYCk7Y29uc3QgZT10aGlzLmdldFNjYWxlZERlbVRpbGVTaXplKCk7dGhpcy5zb3VyY2VDYWNoZS51cGRhdGUodCxlLCEwKSx0aGlzLnJlc2V0VGlsZUxvb2t1cENhY2hlKHRoaXMuc291cmNlQ2FjaGUuaWQpO307dGhpcy5zb3VyY2VDYWNoZS51c2VkRm9yVGVycmFpbnx8KHRoaXMucmVzZXRUaWxlTG9va3VwQ2FjaGUodGhpcy5zb3VyY2VDYWNoZS5pZCksdGhpcy5zb3VyY2VDYWNoZS51c2VkRm9yVGVycmFpbj0hMCxjKCksdGhpcy5faW5pdGlhbGl6aW5nPSEwKSxjKCksdC51cGRhdGVFbGV2YXRpb24oITAsaSksdGhpcy5yZXNldFRpbGVMb29rdXBDYWNoZSh0aGlzLnByb3h5U291cmNlQ2FjaGUuaWQpLHRoaXMucHJveHlTb3VyY2VDYWNoZS51cGRhdGUodCksdGhpcy5fZW1wdHlERU1UZXh0dXJlRGlydHk9ITAsdGhpcy5fcHJldmlvdXNab29tPXQuem9vbTt9ZWxzZSB0aGlzLl9kaXNhYmxlKCk7fWNhbGN1bGF0ZUV4YWdnZXJhdGlvbihlKXtjb25zdCB0PXRoaXMuX3ByZXZpb3VzQ2FtZXJhQWx0aXR1ZGUsaT1lLmdldEZyZWVDYW1lcmFPcHRpb25zKCkucG9zaXRpb24uei9lLnBpeGVsc1Blck1ldGVyKmUud29ybGRTaXplO3RoaXMuX3ByZXZpb3VzQ2FtZXJhQWx0aXR1ZGU9aTtjb25zdCByPW51bGwhPXQ/aS10Ok51bWJlci5NQVhfVkFMVUU7aWYoTWF0aC5hYnMocik8MilyZXR1cm4gdGhpcy5fZXhhZ2dlcmF0aW9uO2NvbnN0IG49ZS56b29tLG89dGhpcy5fc3R5bGUudGVycmFpbjtpZighdGhpcy5fcHJldmlvdXNVcGRhdGVUaW1lc3RhbXApcmV0dXJuIG8uZ2V0RXhhZ2dlcmF0aW9uKG4pO2xldCBzPW4tdGhpcy5fcHJldmlvdXNab29tO2NvbnN0IGE9dGhpcy5fcHJldmlvdXNVcGRhdGVUaW1lc3RhbXA7bGV0IGw9bjtudWxsIT10aGlzLl9ldmFsdWF0aW9uWm9vbSYmKGw9dGhpcy5fZXZhbHVhdGlvblpvb20sTWF0aC5hYnMobi1sKT4uNSYmKHM9LjUqKG4tbCtzKSkscypyPDAmJihsKz1zKSksdGhpcy5fZXZhbHVhdGlvblpvb209bDtjb25zdCBjPW8uZ2V0RXhhZ2dlcmF0aW9uKGwpLGg9Yz09PW8uZ2V0RXhhZ2dlcmF0aW9uKE1hdGgubWF4KDAsbC0uMSkpO2lmKGgmJk1hdGguYWJzKGMtdGhpcy5fZXhhZ2dlcmF0aW9uKTwuMDEpcmV0dXJuIGM7bGV0IHU9TWF0aC5taW4oLjEsLjAwMzc1Kih0aGlzLl91cGRhdGVUaW1lc3RhbXAtYSkpO3JldHVybiAoaHx8YzwuMXx8TWF0aC5hYnMocyk8MWUtNCkmJih1PU1hdGgubWluKC4yLDQqdSkpLFdyKHRoaXMuX2V4YWdnZXJhdGlvbixjLHUpfXJlc2V0VGlsZUxvb2t1cENhY2hlKGUpe3RoaXMuX2ZpbmRDb3ZlcmluZ1RpbGVDYWNoZVtlXT17fTt9Z2V0U2NhbGVkRGVtVGlsZVNpemUoKXtyZXR1cm4gdGhpcy5zb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS50aWxlU2l6ZS8xMjgqdGhpcy5wcm94eVNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLnRpbGVTaXplfV9vblN0eWxlRGF0YUV2ZW50KGUpe2UuY29vcmQmJlwic291cmNlXCI9PT1lLmRhdGFUeXBlP3RoaXMuX2NsZWFyUmVuZGVyQ2FjaGVGb3JUaWxlKGUuc291cmNlQ2FjaGVJZCxlLmNvb3JkKTpcInN0eWxlXCI9PT1lLmRhdGFUeXBlJiYodGhpcy5pbnZhbGlkYXRlUmVuZGVyQ2FjaGU9ITAsdGhpcy5fZXZhbHVhdGlvblpvb209dm9pZCAwLHRoaXMuX3ByZXZpb3VzVXBkYXRlVGltZXN0YW1wPXZvaWQgMCx0aGlzLl9wcmV2aW91c0NhbWVyYUFsdGl0dWRlPXZvaWQgMCk7fV9kaXNhYmxlKCl7aWYodGhpcy5lbmFibGVkJiYodGhpcy5lbmFibGVkPSExLHRoaXMuX3NoYXJlZERlcHRoU3RlbmNpbD12b2lkIDAsdGhpcy5fZXZhbHVhdGlvblpvb209dm9pZCAwLHRoaXMuX3ByZXZpb3VzVXBkYXRlVGltZXN0YW1wPXZvaWQgMCx0aGlzLnByb3h5U291cmNlQ2FjaGUuZGVhbGxvY1JlbmRlckNhY2hlKCksdGhpcy5fc3R5bGUpKWZvcihjb25zdCBlIGluIHRoaXMuX3N0eWxlLl9tZXJnZWRTb3VyY2VDYWNoZXMpdGhpcy5fc3R5bGUuX21lcmdlZFNvdXJjZUNhY2hlc1tlXS51c2VkRm9yVGVycmFpbj0hMTt9ZGVzdHJveSgpe3RoaXMuX2Rpc2FibGUoKSx0aGlzLl9lbXB0eURFTVRleHR1cmUmJnRoaXMuX2VtcHR5REVNVGV4dHVyZS5kZXN0cm95KCksdGhpcy5fZW1wdHlEZXB0aEJ1ZmZlclRleHR1cmUmJnRoaXMuX2VtcHR5RGVwdGhCdWZmZXJUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLnBvb2wuZm9yRWFjaCgoZT0+ZS5mYi5kZXN0cm95KCkpKSx0aGlzLnBvb2w9W10sdGhpcy5fZGVwdGhGQk8mJih0aGlzLl9kZXB0aEZCTy5kZXN0cm95KCksdGhpcy5fZGVwdGhGQk89dm9pZCAwLHRoaXMuX2RlcHRoVGV4dHVyZT12b2lkIDApLHRoaXMuZnJhbWVidWZmZXJDb3B5VGV4dHVyZSYmdGhpcy5mcmFtZWJ1ZmZlckNvcHlUZXh0dXJlLmRlc3Ryb3koKTt9X3NvdXJjZSgpe3JldHVybiB0aGlzLmVuYWJsZWQ/dGhpcy5zb3VyY2VDYWNoZTpudWxsfWlzVXNpbmdNb2NrU291cmNlKCl7cmV0dXJuIHRoaXMuc291cmNlQ2FjaGU9PT10aGlzLl9tb2NrU291cmNlQ2FjaGV9ZXhhZ2dlcmF0aW9uKCl7cmV0dXJuIHRoaXMuX2V4YWdnZXJhdGlvbn1nZXQgdmlzaWJsZURlbVRpbGVzKCl7cmV0dXJuIHRoaXMuX3Zpc2libGVEZW1UaWxlc31nZXQgZHJhcGVCdWZmZXJTaXplKCl7Y29uc3QgZT0yKnRoaXMucHJveHlTb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS50aWxlU2l6ZTtyZXR1cm4gW2UsZV19c2V0IHVzZVZlcnRleE1vcnBoaW5nKGUpe3RoaXMuX3VzZVZlcnRleE1vcnBoaW5nPWU7fXVwZGF0ZVRpbGVCaW5kaW5nKGUpe2lmKCF0aGlzLmVuYWJsZWQpcmV0dXJuO3RoaXMucHJldlRlcnJhaW5UaWxlRm9yVGlsZT10aGlzLnRlcnJhaW5UaWxlRm9yVGlsZTtjb25zdCB0PXRoaXMucHJveHlTb3VyY2VDYWNoZSxpPXRoaXMucGFpbnRlci50cmFuc2Zvcm07dGhpcy5faW5pdGlhbGl6aW5nJiYodGhpcy5faW5pdGlhbGl6aW5nPTA9PT1pLl9jZW50ZXJBbHRpdHVkZSYmLTE9PT10aGlzLmdldEF0UG9pbnRPclplcm8oZXAuZnJvbUxuZ0xhdChpLmNlbnRlciksLTEpLHRoaXMuX2VtcHR5REVNVGV4dHVyZURpcnR5PSF0aGlzLl9pbml0aWFsaXppbmcpO2NvbnN0IHI9dGhpcy5wcm94eUNvb3Jkcz10LmdldElkcygpLm1hcCgoZT0+e2NvbnN0IHI9dC5nZXRUaWxlQnlJRChlKS50aWxlSUQ7cmV0dXJuIHIucHJvak1hdHJpeD1pLmNhbGN1bGF0ZVByb2pNYXRyaXgoci50b1Vud3JhcHBlZCgpKSxyfSkpOyFmdW5jdGlvbihlLHQpe2NvbnN0IGk9dC50cmFuc2Zvcm0ucG9pbnRDb29yZGluYXRlKHQudHJhbnNmb3JtLmdldENhbWVyYVBvaW50KCkpLHI9bmV3IHkoaS54LGkueSk7ZS5zb3J0KCgoZSx0KT0+e2lmKHQub3ZlcnNjYWxlZFotZS5vdmVyc2NhbGVkWilyZXR1cm4gdC5vdmVyc2NhbGVkWi1lLm92ZXJzY2FsZWRaO2NvbnN0IGk9bmV3IHkoZS5jYW5vbmljYWwueCsoMTw8ZS5jYW5vbmljYWwueikqZS53cmFwLGUuY2Fub25pY2FsLnkpLG49bmV3IHkodC5jYW5vbmljYWwueCsoMTw8dC5jYW5vbmljYWwueikqdC53cmFwLHQuY2Fub25pY2FsLnkpLG89ci5tdWx0KDE8PGUuY2Fub25pY2FsLnopO3JldHVybiBvLngtPS41LG8ueS09LjUsby5kaXN0U3FyKGkpLW8uZGlzdFNxcihuKX0pKTt9KHIsdGhpcy5wYWludGVyKTtjb25zdCBuPXRoaXMucHJveHlUb1NvdXJjZXx8e307dGhpcy5wcm94eVRvU291cmNlPXt9LHIuZm9yRWFjaCgoZT0+e3RoaXMucHJveHlUb1NvdXJjZVtlLmtleV09e307fSkpLHRoaXMudGVycmFpblRpbGVGb3JUaWxlPXt9O2NvbnN0IG89dGhpcy5fc3R5bGUuX21lcmdlZFNvdXJjZUNhY2hlcztmb3IoY29uc3QgdCBpbiBvKXtjb25zdCBpPW9bdF07aWYoIWkudXNlZCljb250aW51ZTtpZihpIT09dGhpcy5zb3VyY2VDYWNoZSYmdGhpcy5yZXNldFRpbGVMb29rdXBDYWNoZShpLmlkKSx0aGlzLl9zZXR1cFByb3hpZWRDb29yZHNGb3JPcnRobyhpLGVbdF0sbiksaS51c2VkRm9yVGVycmFpbiljb250aW51ZTtjb25zdCByPWVbdF07aS5nZXRTb3VyY2UoKS5yZXBhcnNlT3ZlcnNjYWxlZCYmdGhpcy5fYXNzaWduVGVycmFpblRpbGVzKHIpO310aGlzLnByb3hpZWRDb29yZHNbdC5pZF09ci5tYXAoKGU9Pm5ldyBpTShlLGUua2V5LHRoaXMub3J0aG9NYXRyaXgpKSksdGhpcy5fYXNzaWduVGVycmFpblRpbGVzKHIpLHRoaXMuX3ByZXBhcmVERU1UZXh0dXJlcygpLHRoaXMuX3NldHVwRHJhcGVkUmVuZGVyQmF0Y2hlcygpLHRoaXMuX2luaXRGQk9Qb29sKCksdGhpcy5fc2V0dXBSZW5kZXJDYWNoZShuKSx0aGlzLnJlbmRlcmluZ1RvVGV4dHVyZT0hMTtjb25zdCBzPXt9O3RoaXMuX3Zpc2libGVEZW1UaWxlcz1bXTtmb3IoY29uc3QgZSBvZiB0aGlzLnByb3h5Q29vcmRzKXtjb25zdCB0PXRoaXMudGVycmFpblRpbGVGb3JUaWxlW2Uua2V5XTtpZighdCljb250aW51ZTtjb25zdCBpPXQudGlsZUlELmtleTtpIGluIHN8fCh0aGlzLl92aXNpYmxlRGVtVGlsZXMucHVzaCh0KSxzW2ldPWkpO319X2Fzc2lnblRlcnJhaW5UaWxlcyhlKXt0aGlzLl9pbml0aWFsaXppbmd8fGUuZm9yRWFjaCgoZT0+e2lmKHRoaXMudGVycmFpblRpbGVGb3JUaWxlW2Uua2V5XSlyZXR1cm47Y29uc3QgdD10aGlzLl9maW5kVGlsZUNvdmVyaW5nVGlsZUlEKGUsdGhpcy5zb3VyY2VDYWNoZSk7dCYmKHRoaXMudGVycmFpblRpbGVGb3JUaWxlW2Uua2V5XT10KTt9KSk7fV9wcmVwYXJlREVNVGV4dHVyZXMoKXtjb25zdCBlPXRoaXMucGFpbnRlci5jb250ZXh0LHQ9ZS5nbDtmb3IoY29uc3QgaSBpbiB0aGlzLnRlcnJhaW5UaWxlRm9yVGlsZSl7Y29uc3Qgcj10aGlzLnRlcnJhaW5UaWxlRm9yVGlsZVtpXSxuPXIuZGVtOyFufHxyLmRlbVRleHR1cmUmJiFyLm5lZWRzREVNVGV4dHVyZVVwbG9hZHx8KGUuYWN0aXZlVGV4dHVyZS5zZXQodC5URVhUVVJFMSksVkUodGhpcy5wYWludGVyLHIsbikpO319X3ByZXBhcmVEZW1UaWxlVW5pZm9ybXMoZSx0LGkscil7aWYoIXR8fG51bGw9PXQuZGVtVGV4dHVyZSlyZXR1cm4gITE7Y29uc3Qgbj1lLnRpbGVJRC5jYW5vbmljYWwsbz1NYXRoLnBvdygyLHQudGlsZUlELmNhbm9uaWNhbC56LW4ueikscz1yfHxcIlwiO3JldHVybiBpW2B1X2RlbV90bCR7c31gXT1bbi54Km8lMSxuLnkqbyUxXSxpW2B1X2RlbV9zY2FsZSR7c31gXT1vLCEwfWdldCBlbXB0eURFTVRleHR1cmUoKXtyZXR1cm4gIXRoaXMuX2VtcHR5REVNVGV4dHVyZURpcnR5JiZ0aGlzLl9lbXB0eURFTVRleHR1cmU/dGhpcy5fZW1wdHlERU1UZXh0dXJlOnRoaXMuX3VwZGF0ZUVtcHR5REVNVGV4dHVyZSgpfWdldCBlbXB0eURlcHRoQnVmZmVyVGV4dHVyZSgpe2NvbnN0IGU9dGhpcy5wYWludGVyLmNvbnRleHQsdD1lLmdsO2lmKCF0aGlzLl9lbXB0eURlcHRoQnVmZmVyVGV4dHVyZSl7Y29uc3QgaT1uZXcgJHAoe3dpZHRoOjEsaGVpZ2h0OjF9LFVpbnQ4QXJyYXkub2YoMjU1LDI1NSwyNTUsMjU1KSk7dGhpcy5fZW1wdHlEZXB0aEJ1ZmZlclRleHR1cmU9bmV3IGd5KGUsaSx0LlJHQkEse3ByZW11bHRpcGx5OiExfSk7fXJldHVybiB0aGlzLl9lbXB0eURlcHRoQnVmZmVyVGV4dHVyZX1fZ2V0TG9hZGVkQXJlYU1pbmltdW0oKXtsZXQgZT0wO2NvbnN0IHQ9dGhpcy5fdmlzaWJsZURlbVRpbGVzLnJlZHVjZSgoKHQsaSk9PntpZighaS5kZW0pcmV0dXJuIHQ7Y29uc3Qgcj1pLmRlbS50cmVlLm1pbmltdW1zWzBdO3JldHVybiByPjAmJmUrKyx0K3J9KSwwKTtyZXR1cm4gZT90L2U6MH1fdXBkYXRlRW1wdHlERU1UZXh0dXJlKCl7Y29uc3QgZT10aGlzLnBhaW50ZXIuY29udGV4dCx0PWUuZ2w7ZS5hY3RpdmVUZXh0dXJlLnNldCh0LlRFWFRVUkUyKTtjb25zdCBpPXRoaXMuX2dldExvYWRlZEFyZWFNaW5pbXVtKCksW3Isbl09KCgpPT57aWYodGhpcy5wYWludGVyLnRlcnJhaW5Vc2VGbG9hdERFTSgpKXtjb25zdCBlPW5ldyBIcCh7d2lkdGg6MSxoZWlnaHQ6MX0sbmV3IEZsb2F0MzJBcnJheShbaV0pKTtyZXR1cm4gW3QuUjMyRixlXX17Y29uc3QgZT1uZXcgJHAoe3dpZHRoOjEsaGVpZ2h0OjF9LG5ldyBVaW50OEFycmF5KGptLnBhY2soaSx0aGlzLnNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLmVuY29kaW5nKSkpO3JldHVybiBbdC5SR0JBLGVdfX0pKCk7dGhpcy5fZW1wdHlERU1UZXh0dXJlRGlydHk9ITE7bGV0IG89dGhpcy5fZW1wdHlERU1UZXh0dXJlO3JldHVybiBvP28udXBkYXRlKG4se3ByZW11bHRpcGx5OiExfSk6bz10aGlzLl9lbXB0eURFTVRleHR1cmU9bmV3IGd5KGUsbixyLHtwcmVtdWx0aXBseTohMX0pLG99c2V0dXBFbGV2YXRpb25EcmF3KGUsdCxpKXtjb25zdCByPXRoaXMucGFpbnRlci5jb250ZXh0LG49ci5nbCxvPShzPXRoaXMuc291cmNlQ2FjaGUuZ2V0U291cmNlKCkuZW5jb2Rpbmcse3VfZGVtOjIsdV9kZW1fcHJldjo0LHVfZGVtX3VucGFjazpqbS5nZXRVbnBhY2tWZWN0b3IocyksdV9kZW1fdGw6WzAsMF0sdV9kZW1fdGxfcHJldjpbMCwwXSx1X2RlbV9zY2FsZTowLHVfZGVtX3NjYWxlX3ByZXY6MCx1X2RlbV9zaXplOjAsdV9kZW1fbGVycDoxLHVfZGVwdGg6Myx1X2RlcHRoX3NpemVfaW52OlswLDBdLHVfZXhhZ2dlcmF0aW9uOjB9KTt2YXIgcztvLnVfZXhhZ2dlcmF0aW9uPXRoaXMuZXhhZ2dlcmF0aW9uKCk7bGV0IGE9bnVsbCxsPW51bGwsYz0xO2lmKGkmJmkubW9ycGhpbmcmJnRoaXMuX3VzZVZlcnRleE1vcnBoaW5nKXtjb25zdCB0PWkubW9ycGhpbmcuc3JjRGVtVGlsZSxyPWkubW9ycGhpbmcuZHN0RGVtVGlsZTtjPWkubW9ycGhpbmcucGhhc2UsdCYmciYmKHRoaXMuX3ByZXBhcmVEZW1UaWxlVW5pZm9ybXMoZSx0LG8sXCJfcHJldlwiKSYmKGw9dCksdGhpcy5fcHJlcGFyZURlbVRpbGVVbmlmb3JtcyhlLHIsbykmJihhPXIpKTt9Y29uc3QgaD1lPT5lJiZlLmRlbVRleHR1cmUmJnRoaXMucGFpbnRlci50ZXJyYWluVXNlRmxvYXRERU0oKT9uLkxJTkVBUjpuLk5FQVJFU1QsdT1lPT57by51X2RlbV9zaXplPTE9PT1lLnNpemVbMF0/MTplLnNpemVbMF0tMjt9O2lmKGwmJmEpci5hY3RpdmVUZXh0dXJlLnNldChuLlRFWFRVUkUyKSxhLmRlbVRleHR1cmUuYmluZChoKGEpLG4uQ0xBTVBfVE9fRURHRSksci5hY3RpdmVUZXh0dXJlLnNldChuLlRFWFRVUkU0KSxsLmRlbVRleHR1cmUuYmluZChoKGwpLG4uQ0xBTVBfVE9fRURHRSksYS5kZW1UZXh0dXJlJiZ1KGEuZGVtVGV4dHVyZSksby51X2RlbV9sZXJwPWM7ZWxzZSB7YT10aGlzLnRlcnJhaW5UaWxlRm9yVGlsZVtlLnRpbGVJRC5rZXldLHIuYWN0aXZlVGV4dHVyZS5zZXQobi5URVhUVVJFMik7Y29uc3QgdD10aGlzLl9wcmVwYXJlRGVtVGlsZVVuaWZvcm1zKGUsYSxvKT9hLmRlbVRleHR1cmU6dGhpcy5lbXB0eURFTVRleHR1cmU7dC5iaW5kKGgoYSksbi5DTEFNUF9UT19FREdFKSx1KHQpO31pZihyLmFjdGl2ZVRleHR1cmUuc2V0KG4uVEVYVFVSRTMpLGkmJmkudXNlRGVwdGhGb3JPY2NsdXNpb24/KHRoaXMuX2RlcHRoVGV4dHVyZSYmdGhpcy5fZGVwdGhUZXh0dXJlLmJpbmQobi5ORUFSRVNULG4uQ0xBTVBfVE9fRURHRSksdGhpcy5fZGVwdGhGQk8mJihvLnVfZGVwdGhfc2l6ZV9pbnY9WzEvdGhpcy5fZGVwdGhGQk8ud2lkdGgsMS90aGlzLl9kZXB0aEZCTy5oZWlnaHRdKSk6KHRoaXMuZW1wdHlEZXB0aEJ1ZmZlclRleHR1cmUuYmluZChuLk5FQVJFU1Qsbi5DTEFNUF9UT19FREdFKSxvLnVfZGVwdGhfc2l6ZV9pbnY9WzEsMV0pLGkmJmkudXNlTWV0ZXJUb0RlbSYmYSl7Y29uc3QgZT0oMTw8YS50aWxlSUQuY2Fub25pY2FsLnopKlpkKDEsdGhpcy5wYWludGVyLnRyYW5zZm9ybS5jZW50ZXIubGF0KSp0aGlzLnNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLnRpbGVTaXplO28udV9tZXRlcl90b19kZW09ZTt9aWYoaSYmaS5sYWJlbFBsYW5lTWF0cml4SW52JiYoby51X2xhYmVsX3BsYW5lX21hdHJpeF9pbnY9aS5sYWJlbFBsYW5lTWF0cml4SW52KSx0LnNldFRlcnJhaW5Vbmlmb3JtVmFsdWVzKHIsbyksXCJnbG9iZVwiPT09dGhpcy5wYWludGVyLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUpe2NvbnN0IG49dGhpcy5nbG9iZVVuaWZvcm1WYWx1ZXModGhpcy5wYWludGVyLnRyYW5zZm9ybSxlLnRpbGVJRC5jYW5vbmljYWwsaSYmaS51c2VEZW5vcm1hbGl6ZWRVcFZlY3RvclNjYWxlKTt0LnNldEdsb2JlVW5pZm9ybVZhbHVlcyhyLG4pO319Z2xvYmVVbmlmb3JtVmFsdWVzKGUsdCxpKXtjb25zdCByPWUucHJvamVjdGlvbjtyZXR1cm4ge3VfdGlsZV90bF91cDpyLnVwVmVjdG9yKHQsMCwwKSx1X3RpbGVfdHJfdXA6ci51cFZlY3Rvcih0LHNyLDApLHVfdGlsZV9icl91cDpyLnVwVmVjdG9yKHQsc3Isc3IpLHVfdGlsZV9ibF91cDpyLnVwVmVjdG9yKHQsMCxzciksdV90aWxlX3VwX3NjYWxlOmk/cmQoMSk6ci51cFZlY3RvclNjYWxlKHQsZS5jZW50ZXIubGF0LGUud29ybGRTaXplKS5tZXRlcnNUb1RpbGV9fXJlbmRlclRvQmFja0J1ZmZlcihlKXtjb25zdCB0PXRoaXMucGFpbnRlcixpPXRoaXMucGFpbnRlci5jb250ZXh0OzAhPT1lLmxlbmd0aCYmKGkuYmluZEZyYW1lYnVmZmVyLnNldChudWxsKSxpLnZpZXdwb3J0LnNldChbMCwwLHQud2lkdGgsdC5oZWlnaHRdKSx0LmdwdVRpbWluZ0RlZmVycmVkUmVuZGVyU3RhcnQoKSx0aGlzLnJlbmRlcmluZ1RvVGV4dHVyZT0hMSxmdW5jdGlvbihlLHQsaSxyLG4pe2lmKFwiZ2xvYmVcIj09PWUudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSkhZnVuY3Rpb24oZSx0LGkscixuKXtjb25zdCBvPWUuY29udGV4dCxzPW8uZ2w7bGV0IGEsbDtjb25zdCBjPWUudHJhbnNmb3JtLGg9QWQoZSxvLGMpLHU9KHQsaSk9PntpZihsPT09aSlyZXR1cm47Y29uc3Qgcj1bWEVbaV0sXCJQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcIl07aCYmci5wdXNoKFwiQ1VTVE9NX0FOVElBTElBU0lOR1wiKTtjb25zdCBuPWUuaXNUaWxlQWZmZWN0ZWRCeUZvZyh0KTthPWUuZ2V0T3JDcmVhdGVQcm9ncmFtKFwiZ2xvYmVSYXN0ZXJcIix7ZGVmaW5lczpyLG92ZXJyaWRlRm9nOm59KSxsPWk7fSxkPWUuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLHA9bmV3IGd4KHMuTEVRVUFMLGd4LlJlYWRXcml0ZSxlLmRlcHRoUmFuZ2VGb3IzRCk7V0UudXBkYXRlKG4pO2NvbnN0IGY9ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnBpeGVsc1Blck1ldGVyLGk9dC9aZCgxLGUuY2VudGVyLmxhdCkscj14dS5pZGVudGl0eShuZXcgRmxvYXQ2NEFycmF5KDE2KSk7cmV0dXJuIHh1LnRyYW5zbGF0ZShyLHIsW2UucG9pbnQueCxlLnBvaW50LnksMF0pLHh1LnNjYWxlKHIscixbaSxpLHRdKSxGbG9hdDMyQXJyYXkuZnJvbShyKX0oYyksbT1bR2QoYy5jZW50ZXIubG5nKSxxZChjLmNlbnRlci5sYXQpXSxfPWUuZ2xvYmVTaGFyZWRCdWZmZXJzLGc9W2Mud2lkdGgqaHQuZGV2aWNlUGl4ZWxSYXRpbyxjLmhlaWdodCpodC5kZXZpY2VQaXhlbFJhdGlvXSx5PUZsb2F0MzJBcnJheS5mcm9tKGMuZ2xvYmVNYXRyaXgpLHg9e3VzZURlbm9ybWFsaXplZFVwVmVjdG9yU2NhbGU6ITB9O3tjb25zdCBjPWUudHJhbnNmb3JtLGg9WUUoYy56b29tLHQuZXhhZ2dlcmF0aW9uKCksdC5zb3VyY2VDYWNoZS5fc291cmNlLnRpbGVTaXplKTtsPS0xO2NvbnN0IHY9cy5UUklBTkdMRVM7Zm9yKGNvbnN0IGwgb2Ygcil7Y29uc3Qgcj1pLmdldFRpbGUobCksYj14eC5kaXNhYmxlZCx3PXQucHJldlRlcnJhaW5UaWxlRm9yVGlsZVtsLmtleV0sVD10LnRlcnJhaW5UaWxlRm9yVGlsZVtsLmtleV07SEUodyxUKSYmV0UubmV3TW9ycGhpbmcobC5rZXksdyxULG4sMjUwKSxvLmFjdGl2ZVRleHR1cmUuc2V0KHMuVEVYVFVSRTApLHIudGV4dHVyZS5iaW5kKHMuTElORUFSLHMuQ0xBTVBfVE9fRURHRSk7Y29uc3QgRT1XRS5nZXRNb3JwaFZhbHVlc0ZvclByb3h5KGwua2V5KSxBPUU/MTowO0UmJlB0KHgse21vcnBoaW5nOntzcmNEZW1UaWxlOkUuZnJvbSxkc3REZW1UaWxlOkUudG8scGhhc2U6TShFLnBoYXNlKX19KTtjb25zdCBTPWRkKGwuY2Fub25pY2FsKSxJPUlkKFMuZ2V0Q2VudGVyKCkubGF0KSxDPVNkKGwuY2Fub25pY2FsLFMsSSxjLndvcmxkU2l6ZS9jLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsKSx6PXhkKGFkKGwuY2Fub25pY2FsKSksRD1aRShjLnByb2pNYXRyaXgseSxmLHosRWQoYy56b29tKSxtLGMuZnJ1c3R1bUNvcm5lcnMuVEwsYy5mcnVzdHVtQ29ybmVycy5UUixjLmZydXN0dW1Db3JuZXJzLkJSLGMuZnJ1c3R1bUNvcm5lcnMuQkwsYy5nbG9iZUNlbnRlckluVmlld1NwYWNlLGMuZ2xvYmVSYWRpdXMsZyxoLEMpO2lmKHUobCxBKSxhJiYodC5zZXR1cEVsZXZhdGlvbkRyYXcocixhLHgpLGUudXBsb2FkQ29tbW9uVW5pZm9ybXMobyxhLGwudG9VbndyYXBwZWQoKSksXykpe2NvbnN0W3QsaSxyXT1fLmdldEdyaWRCdWZmZXJzKEksMCE9PWgpO2EuZHJhdyhlLHYscCxiLGQsRXguYmFja0NDVyxELFwiZ2xvYmVfcmFzdGVyXCIsdCxpLHIpO319fWlmKF8mJihlLnJlbmRlckRlZmF1bHROb3J0aFBvbGV8fGUucmVuZGVyRGVmYXVsdFNvdXRoUG9sZSkpe2NvbnN0IG49W1wiR0xPQkVfUE9MRVNcIixcIlBST0pFQ1RJT05fR0xPQkVfVklFV1wiXTtoJiZuLnB1c2goXCJDVVNUT01fQU5USUFMSUFTSU5HXCIpLGE9ZS5nZXRPckNyZWF0ZVByb2dyYW0oXCJnbG9iZVJhc3RlclwiLHtkZWZpbmVzOm59KTtmb3IoY29uc3QgbiBvZiByKXtjb25zdHt4OnIseTpsLHo6aH09bi5jYW5vbmljYWwsdT0wPT09bCxmPWw9PT0oMTw8aCktMSxbeSx2LGIsd109Xy5nZXRQb2xlQnVmZmVycyhoLCExKTtpZih3JiYodXx8Zikpe2NvbnN0IGw9aS5nZXRUaWxlKG4pO28uYWN0aXZlVGV4dHVyZS5zZXQocy5URVhUVVJFMCksbC50ZXh0dXJlLmJpbmQocy5MSU5FQVIscy5DTEFNUF9UT19FREdFKTtsZXQgXz1NZChoLHIsYyk7Y29uc3QgVD14ZChhZChuLmNhbm9uaWNhbCkpLEU9KHQsaSk9PnQuZHJhdyhlLHMuVFJJQU5HTEVTLHAseHguZGlzYWJsZWQsZCxFeC5kaXNhYmxlZCxaRShjLnByb2pNYXRyaXgsXyxfLFQsMCxtLGMuZnJ1c3R1bUNvcm5lcnMuVEwsYy5mcnVzdHVtQ29ybmVycy5UUixjLmZydXN0dW1Db3JuZXJzLkJSLGMuZnJ1c3R1bUNvcm5lcnMuQkwsYy5nbG9iZUNlbnRlckluVmlld1NwYWNlLGMuZ2xvYmVSYWRpdXMsZywwKSxcImdsb2JlX3BvbGVfcmFzdGVyXCIsaSxiLHcpO3Quc2V0dXBFbGV2YXRpb25EcmF3KGwsYSx4KSxlLnVwbG9hZENvbW1vblVuaWZvcm1zKG8sYSxuLnRvVW53cmFwcGVkKCkpLHUmJmUucmVuZGVyRGVmYXVsdE5vcnRoUG9sZSYmRShhLHkpLGYmJmUucmVuZGVyRGVmYXVsdFNvdXRoUG9sZSYmKF89eHUuc2NhbGUoeHUuY3JlYXRlKCksXyxbMSwtMSwxXSksRShhLHYpKTt9fX19KGUsdCxpLHIsbik7ZWxzZSB7Y29uc3Qgbz1lLmNvbnRleHQscz1vLmdsO2xldCBhLGw7Y29uc3QgYz1lLnNoYWRvd1JlbmRlcmVyLGg9JEUoZSxlLmxvbmdlc3RDdXRvZmZSYW5nZSksdT10PT57aWYobD09PXQpcmV0dXJuO2NvbnN0IGk9W107aS5wdXNoKFhFW3RdKSxoLnNob3VsZFJlbmRlckN1dG9mZiYmaS5wdXNoKFwiUkVOREVSX0NVVE9GRlwiKSxhPWUuZ2V0T3JDcmVhdGVQcm9ncmFtKFwidGVycmFpblJhc3RlclwiLHtkZWZpbmVzOml9KSxsPXQ7fSxkPWUuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLHA9bmV3IGd4KHMuTEVRVUFMLGd4LlJlYWRXcml0ZSxlLmRlcHRoUmFuZ2VGb3IzRCk7V0UudXBkYXRlKG4pO2NvbnN0IGY9ZS50cmFuc2Zvcm0sbT1ZRShmLnpvb20sdC5leGFnZ2VyYXRpb24oKSx0LnNvdXJjZUNhY2hlLl9zb3VyY2UudGlsZVNpemUpO2xldCBfPVswLDAsMF07aWYoYyl7Y29uc3QgdD1lLnN0eWxlLmRpcmVjdGlvbmFsTGlnaHQsaT1lLnN0eWxlLmFtYmllbnRMaWdodDt0JiZpJiYoXz1CQSh0LGkpKTt9e2w9LTE7Y29uc3QgZz1zLlRSSUFOR0xFUyxbeSx4XT1bdC5ncmlkSW5kZXhCdWZmZXIsdC5ncmlkU2VnbWVudHNdO2Zvcihjb25zdCBsIG9mIHIpe2NvbnN0IHI9aS5nZXRUaWxlKGwpLHY9eHguZGlzYWJsZWQsYj10LnByZXZUZXJyYWluVGlsZUZvclRpbGVbbC5rZXldLHc9dC50ZXJyYWluVGlsZUZvclRpbGVbbC5rZXldO0hFKGIsdykmJldFLm5ld01vcnBoaW5nKGwua2V5LGIsdyxuLDI1MCksby5hY3RpdmVUZXh0dXJlLnNldChzLlRFWFRVUkUwKSxyLnRleHR1cmUuYmluZChzLkxJTkVBUixzLkNMQU1QX1RPX0VER0Uscy5MSU5FQVJfTUlQTUFQX05FQVJFU1QpO2NvbnN0IFQ9V0UuZ2V0TW9ycGhWYWx1ZXNGb3JQcm94eShsLmtleSksRT1UPzE6MDtsZXQgQTtUJiYoQT17bW9ycGhpbmc6e3NyY0RlbVRpbGU6VC5mcm9tLGRzdERlbVRpbGU6VC50byxwaGFzZTpNKFQucGhhc2UpfX0pO2NvbnN0IFM9cUUobC5wcm9qTWF0cml4LEtFKGwuY2Fub25pY2FsLGYucmVuZGVyV29ybGRDb3BpZXMpP20vMTA6bSxfKTtpZih1KEUpLCFhKWNvbnRpbnVlO3Quc2V0dXBFbGV2YXRpb25EcmF3KHIsYSxBKTtjb25zdCBJPWwudG9VbndyYXBwZWQoKTtjJiZjLnNldHVwU2hhZG93cyhJLGEpLGUudXBsb2FkQ29tbW9uVW5pZm9ybXMobyxhLEksbnVsbCxoKSxhLmRyYXcoZSxnLHAsdixkLEV4LmJhY2tDQ1csUyxcInRlcnJhaW5fcmFzdGVyXCIsdC5ncmlkQnVmZmVyLHkseCk7fX19fSh0LHRoaXMsdGhpcy5wcm94eVNvdXJjZUNhY2hlLGUsdGhpcy5fdXBkYXRlVGltZXN0YW1wKSx0aGlzLnJlbmRlcmluZ1RvVGV4dHVyZT0hMCx0LmdwdVRpbWluZ0RlZmVycmVkUmVuZGVyRW5kKCksZS5zcGxpY2UoMCxlLmxlbmd0aCkpO31yZW5kZXJCYXRjaChlKXtpZigwPT09dGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlcy5sZW5ndGgpcmV0dXJuIGUrMTt0aGlzLnJlbmRlcmluZ1RvVGV4dHVyZT0hMDtjb25zdCB0PXRoaXMucGFpbnRlcixpPXRoaXMucGFpbnRlci5jb250ZXh0LHI9dGhpcy5wcm94eVNvdXJjZUNhY2hlLG49dGhpcy5wcm94aWVkQ29vcmRzW3IuaWRdLG89dGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlcy5zaGlmdCgpLHM9dC5zdHlsZS5vcmRlcixhPVtdO2xldCBsPTA7Zm9yKGNvbnN0IGMgb2Ygbil7Y29uc3Qgbj1yLmdldFRpbGVCeUlEKGMucHJveHlUaWxlS2V5KSxoPXIucHJveHlDYWNoZWRGQk9bYy5rZXldP3IucHJveHlDYWNoZWRGQk9bYy5rZXldW2VdOnZvaWQgMCx1PXZvaWQgMCE9PWg/ci5yZW5kZXJDYWNoZVtoXTp0aGlzLnBvb2xbbCsrXSxkPXZvaWQgMCE9PWg7aWYobi50ZXh0dXJlPXUudGV4LGQmJiF1LmRpcnR5KXthLnB1c2gobi50aWxlSUQpO2NvbnRpbnVlfWxldCBwO2kuYmluZEZyYW1lYnVmZmVyLnNldCh1LmZiLmZyYW1lYnVmZmVyKSx0aGlzLnJlbmRlcmVkVG9UaWxlPSExLHUuZGlydHkmJihpLmNsZWFyKHtjb2xvcjpsaS50cmFuc3BhcmVudCxzdGVuY2lsOjB9KSx1LmRpcnR5PSExKTtmb3IobGV0IGU9by5zdGFydDtlPD1vLmVuZDsrK2Upe2NvbnN0IHI9dC5zdHlsZS5fbWVyZ2VkTGF5ZXJzW3NbZV1dO2lmKHIuaXNIaWRkZW4odC50cmFuc2Zvcm0uem9vbSkpY29udGludWU7Y29uc3Qgbj10LnN0eWxlLmdldExheWVyU291cmNlQ2FjaGUociksbz1uP3RoaXMucHJveHlUb1NvdXJjZVtjLmtleV1bbi5pZF06W2NdO2lmKCFvKWNvbnRpbnVlO2NvbnN0IGE9bztpLnZpZXdwb3J0LnNldChbMCwwLHUuZmIud2lkdGgsdS5mYi5oZWlnaHRdKSxwIT09KG4/bi5pZDpudWxsKSYmKHRoaXMuX3NldHVwU3RlbmNpbCh1LG8scixuKSxwPW4/bi5pZDpudWxsKSx0LnJlbmRlckxheWVyKHQsbixyLGEpO31pZigwPT09dGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlcy5sZW5ndGgpZm9yKGNvbnN0IGUgb2YgdGhpcy5fcGVuZGluZ0dyb3VuZEVmZmVjdExheWVycyl7Y29uc3Qgcj10LnN0eWxlLl9tZXJnZWRMYXllcnNbc1tlXV07aWYoci5pc0hpZGRlbih0LnRyYW5zZm9ybS56b29tKSljb250aW51ZTtjb25zdCBuPXQuc3R5bGUuZ2V0TGF5ZXJTb3VyY2VDYWNoZShyKSxvPW4/dGhpcy5wcm94eVRvU291cmNlW2Mua2V5XVtuLmlkXTpbY107aWYoIW8pY29udGludWU7Y29uc3QgYT1vO2kudmlld3BvcnQuc2V0KFswLDAsdS5mYi53aWR0aCx1LmZiLmhlaWdodF0pLHAhPT0obj9uLmlkOm51bGwpJiYodGhpcy5fc2V0dXBTdGVuY2lsKHUsbyxyLG4pLHA9bj9uLmlkOm51bGwpLHQucmVuZGVyTGF5ZXIodCxuLHIsYSk7fXRoaXMucmVuZGVyZWRUb1RpbGU/KHUuZGlydHk9ITAsYS5wdXNoKG4udGlsZUlEKSk6ZHx8LS1sLDU9PT1sJiYobD0wLHRoaXMucmVuZGVyVG9CYWNrQnVmZmVyKGEpKTt9cmV0dXJuIHRoaXMucmVuZGVyVG9CYWNrQnVmZmVyKGEpLHRoaXMucmVuZGVyaW5nVG9UZXh0dXJlPSExLGkuYmluZEZyYW1lYnVmZmVyLnNldChudWxsKSxpLnZpZXdwb3J0LnNldChbMCwwLHQud2lkdGgsdC5oZWlnaHRdKSxvLmVuZCsxfXBvc3RSZW5kZXIoKXt9aXNMYXllck9yZGVyaW5nQ29ycmVjdChlKXtjb25zdCB0PWUub3JkZXIubGVuZ3RoO2xldCBpPS0xLHI9dDtmb3IobGV0IG49MDtuPHQ7KytuKXRoaXMuX3N0eWxlLmlzTGF5ZXJEcmFwZWQoZS5fbWVyZ2VkTGF5ZXJzW2Uub3JkZXJbbl1dKT9pPU1hdGgubWF4KGksbik6cj1NYXRoLm1pbihyLG4pO3JldHVybiByPml9Z2V0TWluRWxldmF0aW9uQmVsb3dNU0woKXtsZXQgZT0wO3JldHVybiB0aGlzLl92aXNpYmxlRGVtVGlsZXMuZmlsdGVyKChlPT5lLmRlbSkpLmZvckVhY2goKHQ9PntlPU1hdGgubWluKGUsdC5kZW0udHJlZS5taW5pbXVtc1swXSk7fSkpLDA9PT1lP2U6KGUtMzApKnRoaXMuX2V4YWdnZXJhdGlvbn1yYXljYXN0KGUsdCxpKXtpZighdGhpcy5fdmlzaWJsZURlbVRpbGVzKXJldHVybiBudWxsO2NvbnN0IHI9dGhpcy5fdmlzaWJsZURlbVRpbGVzLmZpbHRlcigoZT0+ZS5kZW0pKS5tYXAoKHI9Pntjb25zdCBuPXIudGlsZUlELG89MTw8bi5vdmVyc2NhbGVkWix7eDpzLHk6YX09bi5jYW5vbmljYWwsbD1zL28sYz0ocysxKS9vLGg9YS9vLHU9KGErMSkvbztyZXR1cm4ge21pbng6bCxtaW55OmgsbWF4eDpjLG1heHk6dSx0OnIuZGVtLnRyZWUucmF5Y2FzdFJvb3QobCxoLGMsdSxlLHQsaSksdGlsZTpyfX0pKTtyLnNvcnQoKChlLHQpPT4obnVsbCE9PWUudD9lLnQ6TnVtYmVyLk1BWF9WQUxVRSktKG51bGwhPT10LnQ/dC50Ok51bWJlci5NQVhfVkFMVUUpKSk7Zm9yKGNvbnN0IG4gb2Ygcil7aWYobnVsbD09bi50KXJldHVybiBudWxsO2NvbnN0IHI9bi50aWxlLmRlbS50cmVlLnJheWNhc3Qobi5taW54LG4ubWlueSxuLm1heHgsbi5tYXh5LGUsdCxpKTtpZihudWxsIT1yKXJldHVybiByfXJldHVybiBudWxsfV9jcmVhdGVGQk8oKXtjb25zdCBlPXRoaXMucGFpbnRlci5jb250ZXh0LHQ9ZS5nbCxpPXRoaXMuZHJhcGVCdWZmZXJTaXplO2UuYWN0aXZlVGV4dHVyZS5zZXQodC5URVhUVVJFMCk7Y29uc3Qgcj1uZXcgZ3koZSx7d2lkdGg6aVswXSxoZWlnaHQ6aVsxXSxkYXRhOm51bGx9LHQuUkdCQSk7ci5iaW5kKHQuTElORUFSLHQuQ0xBTVBfVE9fRURHRSk7Y29uc3Qgbj1lLmNyZWF0ZUZyYW1lYnVmZmVyKGlbMF0saVsxXSwhMCxudWxsKTtyZXR1cm4gbi5jb2xvckF0dGFjaG1lbnQuc2V0KHIudGV4dHVyZSksbi5kZXB0aEF0dGFjaG1lbnQ9bmV3IG14KGUsbi5mcmFtZWJ1ZmZlciksdm9pZCAwPT09dGhpcy5fc2hhcmVkRGVwdGhTdGVuY2lsPyh0aGlzLl9zaGFyZWREZXB0aFN0ZW5jaWw9ZS5jcmVhdGVSZW5kZXJidWZmZXIoZS5nbC5ERVBUSF9TVEVOQ0lMLGlbMF0saVsxXSksdGhpcy5fc3RlbmNpbFJlZj0wLG4uZGVwdGhBdHRhY2htZW50LnNldCh0aGlzLl9zaGFyZWREZXB0aFN0ZW5jaWwpLGUuY2xlYXIoe3N0ZW5jaWw6MH0pKTpuLmRlcHRoQXR0YWNobWVudC5zZXQodGhpcy5fc2hhcmVkRGVwdGhTdGVuY2lsKSxlLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYyYmIWUuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljRm9yY2VPZmYmJnQudGV4UGFyYW1ldGVyZih0LlRFWFRVUkVfMkQsZS5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsZS5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWNNYXgpLHtmYjpuLHRleDpyLGRpcnR5OiExfX1faW5pdEZCT1Bvb2woKXtmb3IoO3RoaXMucG9vbC5sZW5ndGg8TWF0aC5taW4oNSx0aGlzLnByb3h5Q29vcmRzLmxlbmd0aCk7KXRoaXMucG9vbC5wdXNoKHRoaXMuX2NyZWF0ZUZCTygpKTt9X3Nob3VsZERpc2FibGVSZW5kZXJDYWNoZSgpe2lmKHRoaXMuX3N0eWxlLmhhc0xpZ2h0VHJhbnNpdGlvbnMoKSlyZXR1cm4gITA7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc3R5bGUuX21lcmdlZFNvdXJjZUNhY2hlcylpZih0aGlzLl9zdHlsZS5fbWVyZ2VkU291cmNlQ2FjaGVzW2VdLmhhc1RyYW5zaXRpb24oKSlyZXR1cm4gITA7cmV0dXJuIHRoaXMuX3N0eWxlLm9yZGVyLnNvbWUoKGU9Pntjb25zdCB0PXRoaXMuX3N0eWxlLl9tZXJnZWRMYXllcnNbZV0saT10LmlzSGlkZGVuKHRoaXMucGFpbnRlci50cmFuc2Zvcm0uem9vbSk7cmV0dXJuIFwiY3VzdG9tXCI9PT10LnR5cGU/IWkmJnQuc2hvdWxkUmVkcmFwZSgpOiFpJiZ0Lmhhc1RyYW5zaXRpb24oKX0pKX1fY2xlYXJMaW5lTGF5ZXJzRnJvbVJlbmRlckNhY2hlKCl7bGV0IGU9ITE7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fc3R5bGUuZ2V0U291cmNlcygpKWlmKHQgaW5zdGFuY2VvZiBSdyl7ZT0hMDticmVha31pZighZSlyZXR1cm47Y29uc3QgdD17fTtmb3IobGV0IGU9MDtlPHRoaXMuX3N0eWxlLm9yZGVyLmxlbmd0aDsrK2Upe2NvbnN0IGk9dGhpcy5fc3R5bGUuX21lcmdlZExheWVyc1t0aGlzLl9zdHlsZS5vcmRlcltlXV0scj10aGlzLl9zdHlsZS5nZXRMYXllclNvdXJjZUNhY2hlKGkpO2lmKHImJiF0W3IuaWRdJiYhaS5pc0hpZGRlbih0aGlzLnBhaW50ZXIudHJhbnNmb3JtLnpvb20pJiZcImxpbmVcIj09PWkudHlwZSYmaS53aWR0aEV4cHJlc3Npb24oKWluc3RhbmNlb2YgYm8pe3Rbci5pZF09ITA7Zm9yKGNvbnN0IGUgb2YgdGhpcy5wcm94eUNvb3Jkcyl7Y29uc3QgdD10aGlzLnByb3h5VG9Tb3VyY2VbZS5rZXldW3IuaWRdO2lmKHQpZm9yKGNvbnN0IGUgb2YgdCl0aGlzLl9jbGVhclJlbmRlckNhY2hlRm9yVGlsZShyLmlkLGUpO319fX1fY2xlYXJSYXN0ZXJMYXllcnNGcm9tUmVuZGVyQ2FjaGUoKXtsZXQgZT0hMTtmb3IoY29uc3QgdCBpbiB0aGlzLl9zdHlsZS5fbWVyZ2VkU291cmNlQ2FjaGVzKWlmKHRoaXMuX3N0eWxlLl9tZXJnZWRTb3VyY2VDYWNoZXNbdF0uX3NvdXJjZSBpbnN0YW5jZW9mIEx3KXtlPSEwO2JyZWFrfWlmKCFlKXJldHVybjtjb25zdCB0PXt9O2ZvcihsZXQgZT0wO2U8dGhpcy5fc3R5bGUub3JkZXIubGVuZ3RoOysrZSl7Y29uc3QgaT10aGlzLl9zdHlsZS5fbWVyZ2VkTGF5ZXJzW3RoaXMuX3N0eWxlLm9yZGVyW2VdXSxyPXRoaXMuX3N0eWxlLmdldExheWVyU291cmNlQ2FjaGUoaSk7aWYoIXJ8fHRbci5pZF0pY29udGludWU7aWYoaS5pc0hpZGRlbih0aGlzLnBhaW50ZXIudHJhbnNmb3JtLnpvb20pfHxcInJhc3RlclwiIT09aS50eXBlKWNvbnRpbnVlO2NvbnN0IG49aS5wYWludC5nZXQoXCJyYXN0ZXItZmFkZS1kdXJhdGlvblwiKTtmb3IoY29uc3QgZSBvZiB0aGlzLnByb3h5Q29vcmRzKXtjb25zdCB0PXRoaXMucHJveHlUb1NvdXJjZVtlLmtleV1bci5pZF07aWYodClmb3IoY29uc3QgZSBvZiB0KXtjb25zdCB0PVFFKHIuZ2V0VGlsZShlKSxyLmZpbmRMb2FkZWRQYXJlbnQoZSwwKSxyLHRoaXMucGFpbnRlci50cmFuc2Zvcm0sbik7KDEhPT10Lm9wYWNpdHl8fDAhPT10Lm1peCkmJnRoaXMuX2NsZWFyUmVuZGVyQ2FjaGVGb3JUaWxlKHIuaWQsZSk7fX19fV9zZXR1cERyYXBlZFJlbmRlckJhdGNoZXMoKXtjb25zdCBlPXRoaXMuX3N0eWxlLm9yZGVyLHQ9ZS5sZW5ndGg7aWYoMD09PXQpcmV0dXJuO2NvbnN0IGk9W107dGhpcy5fcGVuZGluZ0dyb3VuZEVmZmVjdExheWVycz1bXTtsZXQgcixuPTAsbz10aGlzLl9zdHlsZS5fbWVyZ2VkTGF5ZXJzW2Vbbl1dO2Zvcig7IXRoaXMuX3N0eWxlLmlzTGF5ZXJEcmFwZWQobykmJm8uaXNIaWRkZW4odGhpcy5wYWludGVyLnRyYW5zZm9ybS56b29tKSYmKytuPHQ7KW89dGhpcy5fc3R5bGUuX21lcmdlZExheWVyc1tlW25dXTtmb3IoO248dDsrK24pe2NvbnN0IHQ9dGhpcy5fc3R5bGUuX21lcmdlZExheWVyc1tlW25dXTt0LmlzSGlkZGVuKHRoaXMucGFpbnRlci50cmFuc2Zvcm0uem9vbSl8fCh0aGlzLl9zdHlsZS5pc0xheWVyRHJhcGVkKHQpP3ZvaWQgMD09PXImJihyPW4pOihcImZpbGwtZXh0cnVzaW9uXCI9PT10LnR5cGUmJnRoaXMuX3BlbmRpbmdHcm91bmRFZmZlY3RMYXllcnMucHVzaChuKSx2b2lkIDAhPT1yJiYoaS5wdXNoKHtzdGFydDpyLGVuZDpuLTF9KSxyPXZvaWQgMCkpKTt9aWYodm9pZCAwIT09ciYmaS5wdXNoKHtzdGFydDpyLGVuZDpuLTF9KSwwIT09aS5sZW5ndGgpe2NvbnN0IGU9aVtpLmxlbmd0aC0xXSx0PXRoaXMuX3BlbmRpbmdHcm91bmRFZmZlY3RMYXllcnMuZXZlcnkoKHQ9PnQ+ZS5lbmQpKTt0fHxXKFwiZmlsbC1leHRydXNpb24gd2l0aCBmbG9vZCBsaWdodGluZyBhbmQvb3IgZ3JvdW5kIGFtYmllbnQgb2NjbHVzaW9uIHNob3VsZCBiZSBtb3ZlZCB0byBiZSBvbiB0b3Agb2YgYWxsIGRyYXBlZCBsYXllcnMuXCIpO310aGlzLl9kcmFwZWRSZW5kZXJCYXRjaGVzPWk7fV9zZXR1cFJlbmRlckNhY2hlKGUpe2NvbnN0IHQ9dGhpcy5wcm94eVNvdXJjZUNhY2hlO2lmKHRoaXMuX3Nob3VsZERpc2FibGVSZW5kZXJDYWNoZSgpfHx0aGlzLmludmFsaWRhdGVSZW5kZXJDYWNoZSl7aWYodGhpcy5pbnZhbGlkYXRlUmVuZGVyQ2FjaGU9ITEsdC5yZW5kZXJDYWNoZS5sZW5ndGg+dC5yZW5kZXJDYWNoZVBvb2wubGVuZ3RoKXtjb25zdCBlPU9iamVjdC52YWx1ZXModC5wcm94eUNhY2hlZEZCTyk7dC5wcm94eUNhY2hlZEZCTz17fTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoOysraSl7Y29uc3Qgcj1PYmplY3QudmFsdWVzKGVbaV0pO3QucmVuZGVyQ2FjaGVQb29sLnB1c2goLi4ucik7fX1yZXR1cm59dGhpcy5fY2xlYXJSYXN0ZXJMYXllcnNGcm9tUmVuZGVyQ2FjaGUoKTtjb25zdCBpPXRoaXMucHJveHlDb29yZHMscj10aGlzLl90aWxlc0RpcnR5O2ZvcihsZXQgbj1pLmxlbmd0aC0xO24+PTA7bi0tKXtjb25zdCBvPWlbbl07aWYodC5nZXRUaWxlQnlJRChvLmtleSksdm9pZCAwIT09dC5wcm94eUNhY2hlZEZCT1tvLmtleV0pe2NvbnN0IGk9ZVtvLmtleV0sbj10aGlzLnByb3h5VG9Tb3VyY2Vbby5rZXldO2xldCBzPTA7Zm9yKGNvbnN0IGUgaW4gbil7Y29uc3QgdD1uW2VdLG89aVtlXTtpZighb3x8by5sZW5ndGghPT10Lmxlbmd0aHx8dC5zb21lKCgodCxpKT0+dCE9PW9baV18fHJbZV0mJnJbZV0uaGFzT3duUHJvcGVydHkodC5rZXkpKSkpe3M9LTE7YnJlYWt9KytzO31mb3IoY29uc3QgZSBpbiB0LnByb3h5Q2FjaGVkRkJPW28ua2V5XSl0LnJlbmRlckNhY2hlW3QucHJveHlDYWNoZWRGQk9bby5rZXldW2VdXS5kaXJ0eT1zPDB8fHMhPT1PYmplY3QudmFsdWVzKGkpLmxlbmd0aDt9fWNvbnN0IG49Wy4uLnRoaXMuX2RyYXBlZFJlbmRlckJhdGNoZXNdO24uc29ydCgoKGUsdCk9PnQuZW5kLXQuc3RhcnQtKGUuZW5kLWUuc3RhcnQpKSk7Zm9yKGNvbnN0IGUgb2Ygbilmb3IoY29uc3QgciBvZiBpKXtpZih0LnByb3h5Q2FjaGVkRkJPW3Iua2V5XSljb250aW51ZTtsZXQgaT10LnJlbmRlckNhY2hlUG9vbC5wb3AoKTt2b2lkIDA9PT1pJiZ0LnJlbmRlckNhY2hlLmxlbmd0aDw1MCYmKGk9dC5yZW5kZXJDYWNoZS5sZW5ndGgsdC5yZW5kZXJDYWNoZS5wdXNoKHRoaXMuX2NyZWF0ZUZCTygpKSksdm9pZCAwIT09aSYmKHQucHJveHlDYWNoZWRGQk9bci5rZXldPXt9LHQucHJveHlDYWNoZWRGQk9bci5rZXldW2Uuc3RhcnRdPWksdC5yZW5kZXJDYWNoZVtpXS5kaXJ0eT0hMCk7fXRoaXMuX3RpbGVzRGlydHk9e307fV9zZXR1cFN0ZW5jaWwoZSx0LGkscil7aWYoIXJ8fCF0aGlzLl9zb3VyY2VUaWxlc092ZXJsYXBbci5pZF0pcmV0dXJuIHZvaWQodGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlJiYodGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlPSExKSk7Y29uc3Qgbj10aGlzLnBhaW50ZXIuY29udGV4dCxvPW4uZ2w7aWYodC5sZW5ndGg8PTEpcmV0dXJuIHZvaWQodGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlPSExKTtsZXQgcztpZihpLmlzVGlsZUNsaXBwZWQoKSlzPXQubGVuZ3RoLHRoaXMuX292ZXJsYXBTdGVuY2lsTW9kZS50ZXN0PXtmdW5jOm8uRVFVQUwsbWFzazoyNTV9LHRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZT1cIkNsaXBcIjtlbHNlIHtpZighKHRbMF0ub3ZlcnNjYWxlZFo+dFt0Lmxlbmd0aC0xXS5vdmVyc2NhbGVkWikpcmV0dXJuIHZvaWQodGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlPSExKTtzPTEsdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnRlc3Q9e2Z1bmM6by5HUkVBVEVSLG1hc2s6MjU1fSx0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGU9XCJNYXNrXCI7fXRoaXMuX3N0ZW5jaWxSZWYrcz4yNTUmJihuLmNsZWFyKHtzdGVuY2lsOjB9KSx0aGlzLl9zdGVuY2lsUmVmPTApLHRoaXMuX3N0ZW5jaWxSZWYrPXMsdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnJlZj10aGlzLl9zdGVuY2lsUmVmLGkuaXNUaWxlQ2xpcHBlZCgpJiZ0aGlzLl9yZW5kZXJUaWxlQ2xpcHBpbmdNYXNrcyh0LHRoaXMuX292ZXJsYXBTdGVuY2lsTW9kZS5yZWYpO31jbGlwT3JNYXNrT3ZlcmxhcFN0ZW5jaWxUeXBlKCl7cmV0dXJuIFwiQ2xpcFwiPT09dGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlfHxcIk1hc2tcIj09PXRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZX1zdGVuY2lsTW9kZUZvclJUVE92ZXJsYXAoZSl7cmV0dXJuIHRoaXMucmVuZGVyaW5nVG9UZXh0dXJlJiZ0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGU/KFwiQ2xpcFwiPT09dGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlJiYodGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnJlZj10aGlzLnBhaW50ZXIuX3RpbGVDbGlwcGluZ01hc2tJRHNbZS5rZXldKSx0aGlzLl9vdmVybGFwU3RlbmNpbE1vZGUpOnh4LmRpc2FibGVkfV9yZW5kZXJUaWxlQ2xpcHBpbmdNYXNrcyhlLHQpe2NvbnN0IGk9dGhpcy5wYWludGVyLHI9dGhpcy5wYWludGVyLmNvbnRleHQsbj1yLmdsO2kuX3RpbGVDbGlwcGluZ01hc2tJRHM9e30sci5zZXRDb2xvck1vZGUoYnguZGlzYWJsZWQpLHIuc2V0RGVwdGhNb2RlKGd4LmRpc2FibGVkKTtjb25zdCBvPWkuZ2V0T3JDcmVhdGVQcm9ncmFtKFwiY2xpcHBpbmdNYXNrXCIpO2Zvcihjb25zdCByIG9mIGUpe2NvbnN0IGU9aS5fdGlsZUNsaXBwaW5nTWFza0lEc1tyLmtleV09LS10O28uZHJhdyhpLG4uVFJJQU5HTEVTLGd4LmRpc2FibGVkLG5ldyB4eCh7ZnVuYzpuLkFMV0FZUyxtYXNrOjB9LGUsMjU1LG4uS0VFUCxuLktFRVAsbi5SRVBMQUNFKSxieC5kaXNhYmxlZCxFeC5kaXNhYmxlZCxKRShyLnByb2pNYXRyaXgpLFwiJGNsaXBwaW5nXCIsaS50aWxlRXh0ZW50QnVmZmVyLGkucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsaS50aWxlRXh0ZW50U2VnbWVudHMpO319cG9pbnRDb29yZGluYXRlKGUpe2NvbnN0IHQ9dGhpcy5wYWludGVyLnRyYW5zZm9ybTtpZihlLng8MHx8ZS54PnQud2lkdGh8fGUueTwwfHxlLnk+dC5oZWlnaHQpcmV0dXJuIG51bGw7Y29uc3QgaT1bZS54LGUueSwxLDFdO3V1LnRyYW5zZm9ybU1hdDQoaSxpLHQucGl4ZWxNYXRyaXhJbnZlcnNlKSx1dS5zY2FsZShpLGksMS9pWzNdKSxpWzBdLz10LndvcmxkU2l6ZSxpWzFdLz10LndvcmxkU2l6ZTtjb25zdCByPXQuX2NhbWVyYS5wb3NpdGlvbixuPVpkKDEsdC5jZW50ZXIubGF0KSxvPVtyWzBdLHJbMV0sclsyXS9uLDBdLHM9TXUuc3VidHJhY3QoW10saS5zbGljZSgwLDMpLG8pO011Lm5vcm1hbGl6ZShzLHMpO2NvbnN0IGE9dGhpcy5yYXljYXN0KG8scyx0aGlzLl9leGFnZ2VyYXRpb24pO3JldHVybiBudWxsIT09YSYmYT8oTXUuc2NhbGVBbmRBZGQobyxvLHMsYSksb1szXT1vWzJdLG9bMl0qPW4sbyk6bnVsbH1kcmF3RGVwdGgoKXtjb25zdCBlPXRoaXMucGFpbnRlcix0PWUuY29udGV4dCxpPXRoaXMucHJveHlTb3VyY2VDYWNoZSxyPU1hdGguY2VpbChlLndpZHRoKSxuPU1hdGguY2VpbChlLmhlaWdodCk7aWYoIXRoaXMuX2RlcHRoRkJPfHx0aGlzLl9kZXB0aEZCTy53aWR0aD09PXImJnRoaXMuX2RlcHRoRkJPLmhlaWdodD09PW58fCh0aGlzLl9kZXB0aEZCTy5kZXN0cm95KCksdGhpcy5fZGVwdGhGQk89dm9pZCAwLHRoaXMuX2RlcHRoVGV4dHVyZT12b2lkIDApLCF0aGlzLl9kZXB0aEZCTyl7Y29uc3QgZT10LmdsLGk9dC5jcmVhdGVGcmFtZWJ1ZmZlcihyLG4sITAsXCJyZW5kZXJidWZmZXJcIik7dC5hY3RpdmVUZXh0dXJlLnNldChlLlRFWFRVUkUwKTtjb25zdCBvPW5ldyBneSh0LHt3aWR0aDpyLGhlaWdodDpuLGRhdGE6bnVsbH0sZS5SR0JBKTtvLmJpbmQoZS5ORUFSRVNULGUuQ0xBTVBfVE9fRURHRSksaS5jb2xvckF0dGFjaG1lbnQuc2V0KG8udGV4dHVyZSk7Y29uc3Qgcz10LmNyZWF0ZVJlbmRlcmJ1ZmZlcih0LmdsLkRFUFRIX0NPTVBPTkVOVDE2LHIsbik7aS5kZXB0aEF0dGFjaG1lbnQuc2V0KHMpLHRoaXMuX2RlcHRoRkJPPWksdGhpcy5fZGVwdGhUZXh0dXJlPW87fXQuYmluZEZyYW1lYnVmZmVyLnNldCh0aGlzLl9kZXB0aEZCTy5mcmFtZWJ1ZmZlciksdC52aWV3cG9ydC5zZXQoWzAsMCxyLG5dKSxmdW5jdGlvbihlLHQsaSxyKXtpZihcImdsb2JlXCI9PT1lLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUpcmV0dXJuO2NvbnN0IG49ZS5jb250ZXh0LG89bi5nbDtuLmNsZWFyKHtkZXB0aDoxfSk7Y29uc3Qgcz1lLmdldE9yQ3JlYXRlUHJvZ3JhbShcInRlcnJhaW5EZXB0aFwiKSxhPW5ldyBneChvLkxFU1MsZ3guUmVhZFdyaXRlLGUuZGVwdGhSYW5nZUZvcjNEKTtmb3IoY29uc3QgbiBvZiByKXtjb25zdCByPWkuZ2V0VGlsZShuKSxsPXFFKG4ucHJvak1hdHJpeCwwLFswLDAsMF0pO3Quc2V0dXBFbGV2YXRpb25EcmF3KHIscykscy5kcmF3KGUsby5UUklBTkdMRVMsYSx4eC5kaXNhYmxlZCxieC51bmJsZW5kZWQsRXguYmFja0NDVyxsLFwidGVycmFpbl9kZXB0aFwiLHQuZ3JpZEJ1ZmZlcix0LmdyaWRJbmRleEJ1ZmZlcix0LmdyaWROb1NraXJ0U2VnbWVudHMpO319KGUsdGhpcyxpLHRoaXMucHJveHlDb29yZHMpO31fc2V0dXBQcm94aWVkQ29vcmRzRm9yT3J0aG8oZSx0LGkpe2lmKGUuZ2V0U291cmNlKClpbnN0YW5jZW9mIHFiKXJldHVybiB0aGlzLl9zZXR1cFByb3hpZWRDb29yZHNGb3JJbWFnZVNvdXJjZShlLHQsaSk7dGhpcy5fZmluZENvdmVyaW5nVGlsZUNhY2hlW2UuaWRdPXRoaXMuX2ZpbmRDb3ZlcmluZ1RpbGVDYWNoZVtlLmlkXXx8e307Y29uc3Qgcj10aGlzLnByb3hpZWRDb29yZHNbZS5pZF09W10sbj10aGlzLnByb3h5Q29vcmRzO2ZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7dCsrKXtjb25zdCBvPW5bdF0scz10aGlzLl9maW5kVGlsZUNvdmVyaW5nVGlsZUlEKG8sZSk7aWYocyl7Y29uc3QgdD10aGlzLl9jcmVhdGVQcm94aWVkSWQobyxzLGlbby5rZXldJiZpW28ua2V5XVtlLmlkXSk7ci5wdXNoKHQpLHRoaXMucHJveHlUb1NvdXJjZVtvLmtleV1bZS5pZF09W3RdO319bGV0IG89ITE7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IHM9ZS5nZXRUaWxlKHRbbl0pO2lmKCFzfHwhcy5oYXNEYXRhKCkpY29udGludWU7Y29uc3QgYT10aGlzLl9maW5kVGlsZUNvdmVyaW5nVGlsZUlEKHMudGlsZUlELHRoaXMucHJveHlTb3VyY2VDYWNoZSk7aWYoYSYmYS50aWxlSUQuY2Fub25pY2FsLnohPT1zLnRpbGVJRC5jYW5vbmljYWwueil7Y29uc3QgdD10aGlzLnByb3h5VG9Tb3VyY2VbYS50aWxlSUQua2V5XVtlLmlkXSxuPXRoaXMuX2NyZWF0ZVByb3hpZWRJZChhLnRpbGVJRCxzLGlbYS50aWxlSUQua2V5XSYmaVthLnRpbGVJRC5rZXldW2UuaWRdKTt0P3Quc3BsaWNlKHQubGVuZ3RoLTEsMCxuKTp0aGlzLnByb3h5VG9Tb3VyY2VbYS50aWxlSUQua2V5XVtlLmlkXT1bbl0sci5wdXNoKG4pLG89ITA7fX10aGlzLl9zb3VyY2VUaWxlc092ZXJsYXBbZS5pZF09bzt9X3NldHVwUHJveGllZENvb3Jkc0ZvckltYWdlU291cmNlKGUsdCxpKXtpZighZS5nZXRTb3VyY2UoKS5sb2FkZWQoKSlyZXR1cm47Y29uc3Qgcj10aGlzLnByb3hpZWRDb29yZHNbZS5pZF09W10sbj10aGlzLnByb3h5Q29vcmRzLG89ZS5nZXRTb3VyY2UoKSxzPW8udGlsZUlEO2lmKCFzKXJldHVybjtjb25zdCBhPW5ldyB5KHMueCxzLnkpLl9kaXYoMTw8cy56KSxsPW8uY29vcmRpbmF0ZXMubWFwKGVwLmZyb21MbmdMYXQpLnJlZHVjZSgoKGUsdCk9PihlLm1pbi54PU1hdGgubWluKGUubWluLngsdC54LWEueCksZS5taW4ueT1NYXRoLm1pbihlLm1pbi55LHQueS1hLnkpLGUubWF4Lng9TWF0aC5tYXgoZS5tYXgueCx0LngtYS54KSxlLm1heC55PU1hdGgubWF4KGUubWF4LnksdC55LWEueSksZSkpLHttaW46bmV3IHkoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSxtYXg6bmV3IHkoLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUpfSksYz0oZSx0KT0+e2NvbnN0IGk9ZS53cmFwK2UuY2Fub25pY2FsLngvKDE8PGUuY2Fub25pY2FsLnopLHI9ZS5jYW5vbmljYWwueS8oMTw8ZS5jYW5vbmljYWwueiksbj1zci8oMTw8ZS5jYW5vbmljYWwueiksbz10LndyYXArdC5jYW5vbmljYWwueC8oMTw8dC5jYW5vbmljYWwueikscz10LmNhbm9uaWNhbC55LygxPDx0LmNhbm9uaWNhbC56KTtyZXR1cm4gaStuPG8rbC5taW4ueHx8aT5vK2wubWF4Lnh8fHIrbjxzK2wubWluLnl8fHI+cytsLm1heC55fTtmb3IobGV0IG89MDtvPG4ubGVuZ3RoO28rKyl7Y29uc3Qgcz1uW29dO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXtjb25zdCBvPWUuZ2V0VGlsZSh0W25dKTtpZighb3x8IW8uaGFzRGF0YSgpKWNvbnRpbnVlO2lmKGMocyxvLnRpbGVJRCkpY29udGludWU7Y29uc3QgYT10aGlzLl9jcmVhdGVQcm94aWVkSWQocyxvLGlbcy5rZXldJiZpW3Mua2V5XVtlLmlkXSksbD10aGlzLnByb3h5VG9Tb3VyY2Vbcy5rZXldW2UuaWRdO2w/bC5wdXNoKGEpOnRoaXMucHJveHlUb1NvdXJjZVtzLmtleV1bZS5pZF09W2FdLHIucHVzaChhKTt9fX1fY3JlYXRlUHJveGllZElkKGUsdCxpKXtsZXQgcj10aGlzLm9ydGhvTWF0cml4O2lmKGkpe2NvbnN0IGU9aS5maW5kKChlPT5lLmtleT09PXQudGlsZUlELmtleSkpO2lmKGUpcmV0dXJuIGV9aWYodC50aWxlSUQua2V5IT09ZS5rZXkpe2NvbnN0IGk9ZS5jYW5vbmljYWwuei10LnRpbGVJRC5jYW5vbmljYWwuejtsZXQgbixvLHM7cj14dS5jcmVhdGUoKTtjb25zdCBhPXQudGlsZUlELndyYXAtZS53cmFwPDxlLm92ZXJzY2FsZWRaO2k+MD8obj1zcj4+aSxvPW4qKCh0LnRpbGVJRC5jYW5vbmljYWwueDw8aSktZS5jYW5vbmljYWwueCthKSxzPW4qKCh0LnRpbGVJRC5jYW5vbmljYWwueTw8aSktZS5jYW5vbmljYWwueSkpOihuPXNyPDwtaSxvPXNyKih0LnRpbGVJRC5jYW5vbmljYWwueC0oZS5jYW5vbmljYWwueCthPDwtaSkpLHM9c3IqKHQudGlsZUlELmNhbm9uaWNhbC55LShlLmNhbm9uaWNhbC55PDwtaSkpKSx4dS5vcnRobyhyLDAsbiwwLG4sMCwxKSx4dS50cmFuc2xhdGUocixyLFtvLHMsMF0pO31yZXR1cm4gbmV3IGlNKHQudGlsZUlELGUua2V5LHIpfV9maW5kVGlsZUNvdmVyaW5nVGlsZUlEKGUsdCl7bGV0IGk9dC5nZXRUaWxlKGUpO2lmKGkmJmkuaGFzRGF0YSgpKXJldHVybiBpO2NvbnN0IHI9dGhpcy5fZmluZENvdmVyaW5nVGlsZUNhY2hlW3QuaWRdLG49cltlLmtleV07aWYoaT1uP3QuZ2V0VGlsZUJ5SUQobik6bnVsbCxpJiZpLmhhc0RhdGEoKXx8bnVsbD09PW4pcmV0dXJuIGk7bGV0IG89aT9pLnRpbGVJRDplLHM9by5vdmVyc2NhbGVkWjtjb25zdCBhPXQuZ2V0U291cmNlKCkubWluem9vbSxsPVtdO2lmKCFuKXtjb25zdCByPXQuZ2V0U291cmNlKCkubWF4em9vbTtpZihlLmNhbm9uaWNhbC56Pj1yKXtjb25zdCBpPWUuY2Fub25pY2FsLnotcjt0LmdldFNvdXJjZSgpLnJlcGFyc2VPdmVyc2NhbGVkPyhzPU1hdGgubWF4KGUuY2Fub25pY2FsLnorMix0LnRyYW5zZm9ybS50aWxlWm9vbSksbz1uZXcgQnUocyxlLndyYXAscixlLmNhbm9uaWNhbC54Pj5pLGUuY2Fub25pY2FsLnk+PmkpKTowIT09aSYmKHM9cixvPW5ldyBCdShzLGUud3JhcCxyLGUuY2Fub25pY2FsLng+PmksZS5jYW5vbmljYWwueT4+aSkpO31vLmtleSE9PWUua2V5JiYobC5wdXNoKG8ua2V5KSxpPXQuZ2V0VGlsZShvKSk7fWNvbnN0IGM9ZT0+e2wuZm9yRWFjaCgodD0+e3JbdF09ZTt9KSksbC5sZW5ndGg9MDt9O2ZvcihzLT0xO3M+PWEmJighaXx8IWkuaGFzRGF0YSgpKTtzLS0pe2kmJmMoaS50aWxlSUQua2V5KTtjb25zdCBlPW8uY2FsY3VsYXRlU2NhbGVkS2V5KHMpO2lmKGk9dC5nZXRUaWxlQnlJRChlKSxpJiZpLmhhc0RhdGEoKSlicmVhaztjb25zdCBuPXJbZV07aWYobnVsbD09PW4pYnJlYWs7dm9pZCAwPT09bj9sLnB1c2goZSk6aT10LmdldFRpbGVCeUlEKG4pO31yZXR1cm4gYyhpP2kudGlsZUlELmtleTpudWxsKSxpJiZpLmhhc0RhdGEoKT9pOm51bGx9ZmluZERFTVRpbGVGb3IoZSl7cmV0dXJuIHRoaXMuZW5hYmxlZD90aGlzLl9maW5kVGlsZUNvdmVyaW5nVGlsZUlEKGUsdGhpcy5zb3VyY2VDYWNoZSk6bnVsbH1wcmVwYXJlRHJhd1RpbGUoKXt0aGlzLnJlbmRlcmVkVG9UaWxlPSEwO31fY2xlYXJSZW5kZXJDYWNoZUZvclRpbGUoZSx0KXtsZXQgaT10aGlzLl90aWxlc0RpcnR5W2VdO2l8fChpPXRoaXMuX3RpbGVzRGlydHlbZV09e30pLGlbdC5rZXldPSEwO319ZnVuY3Rpb24gbk0oZSx0LGkpe2NvbnN0IHI9ZnVuY3Rpb24oZSx0LGkpe2NvbnN0IHI9TXUuZG90KHQsZSksbj1NdS5kb3QoaSxbLjIxMjYsLjcxNTIsLjA3MjJdKSxvPShlLHQsaSk9PigxLWkpKmUraSp0LHM9bygxLS4zKk1hdGgubWluKG4sMSksMSxNYXRoLm1pbihyKzEsMSkpO3JldHVybiBvKC45MiwxLE1hdGguYXNpbih6KHRbMl0sLTEsMSkpL01hdGguUEkrLjUpKnN9KGUsWzAsMCwxXSx0KSxuPVswLDAsMF07TXUuc2NhbGUobixpLnNsaWNlKDAsMykscik7Y29uc3Qgbz1bMCwwLDBdO011LnNjYWxlKG8sdC5zbGljZSgwLDMpLGVbMl0pO2NvbnN0IHM9WzAsMCwwXTtyZXR1cm4gTXUuYWRkKHMsbixvKSxhZShzKX1jb25zdCBvTT1bXCJmaWxsXCIsXCJmaWxsT3V0bGluZVwiLFwiZmlsbFBhdHRlcm5cIixcImxpbmVcIixcImxpbmVQYXR0ZXJuXCIsXCJiYWNrZ3JvdW5kXCIsXCJiYWNrZ3JvdW5kUGF0dGVyblwiLFwiaGlsbHNoYWRlXCIsXCJyYXN0ZXJcIl0sc009W1wic3RhcnNcIixcImZpbGxFeHRydXNpb25cIixcImZpbGxFeHRydXNpb25Hcm91bmRFZmZlY3RcIixcIm1vZGVsXCIsXCJzeW1ib2xTREZcIixcInN5bWJvbEljb25cIixcInN5bWJvbFRleHRBbmRJY29uXCJdO2NsYXNzIGFNe3N0YXRpYyBjYWNoZUtleShlLHQsaSxyKXtsZXQgbj1gJHt0fSR7cj9yLmNhY2hlS2V5OlwiXCJ9YDtmb3IoY29uc3QgdCBvZiBpKWUudXNlZERlZmluZXMuaW5jbHVkZXModCkmJihuKz1gLyR7dH1gKTtyZXR1cm4gbn1jb25zdHJ1Y3RvcihlLHQsaSxyLG4sbyl7Y29uc3Qgcz1lLmdsO3RoaXMucHJvZ3JhbT1zLmNyZWF0ZVByb2dyYW0oKSx0aGlzLmNvbmZpZ3VyYXRpb249cix0aGlzLm5hbWU9dCx0aGlzLmZpeGVkRGVmaW5lcz1bLi4ub107Y29uc3QgYT1mdW5jdGlvbihlKXtjb25zdCB0PVtdO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtpZihudWxsPT09ZVtpXSljb250aW51ZTtjb25zdCByPWVbaV0uc3BsaXQoXCIgXCIpO3QucHVzaChyLnBvcCgpKTt9cmV0dXJuIHR9KGkuc3RhdGljQXR0cmlidXRlcyksbD1yP3IuZ2V0QmluZGVyQXR0cmlidXRlcygpOltdLGM9YS5jb25jYXQobCk7bGV0IGg9cj9yLmRlZmluZXMoKTpbXTtoPWguY29uY2F0KG8ubWFwKChlPT5gI2RlZmluZSAke2V9YCkpKTtjb25zdCB1PVwiI3ZlcnNpb24gMzAwIGVzXFxuXCI7bGV0IGQ9dStoLmNvbmNhdChcIlxcbiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbHNlXFxuXFxuI2lmICFkZWZpbmVkKGxvd3ApXFxuI2RlZmluZSBsb3dwXFxuI2VuZGlmXFxuXFxuI2lmICFkZWZpbmVkKG1lZGl1bXApXFxuI2RlZmluZSBtZWRpdW1wXFxuI2VuZGlmXFxuXFxuI2lmICFkZWZpbmVkKGhpZ2hwKVxcbiNkZWZpbmUgaGlnaHBcXG4jZW5kaWZcXG5cXG4jZW5kaWZcIixMRSxSRS5mcmFnbWVudFNvdXJjZSkuam9pbihcIlxcblwiKTtmb3IoY29uc3QgZSBvZiBpLmZyYWdtZW50SW5jbHVkZXMpZCs9YFxcbiR7REVbZV19YDtkKz1gXFxuJHtpLmZyYWdtZW50U291cmNlfWA7bGV0IHA9dStoLmNvbmNhdChcIlxcbiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4jZWxzZVxcblxcbiNpZiAhZGVmaW5lZChsb3dwKVxcbiNkZWZpbmUgbG93cFxcbiNlbmRpZlxcblxcbiNpZiAhZGVmaW5lZChtZWRpdW1wKVxcbiNkZWZpbmUgbWVkaXVtcFxcbiNlbmRpZlxcblxcbiNpZiAhZGVmaW5lZChoaWdocClcXG4jZGVmaW5lIGhpZ2hwXFxuI2VuZGlmXFxuXFxuI2VuZGlmXCIsTEUsUkUudmVydGV4U291cmNlKS5qb2luKFwiXFxuXCIpO2Zvcihjb25zdCBlIG9mIGkudmVydGV4SW5jbHVkZXMpcCs9YFxcbiR7REVbZV19YDtwKz1gXFxuJHtpLnZlcnRleFNvdXJjZX1gO2NvbnN0IGY9cy5jcmVhdGVTaGFkZXIocy5GUkFHTUVOVF9TSEFERVIpO2lmKHMuaXNDb250ZXh0TG9zdCgpKXJldHVybiB2b2lkKHRoaXMuZmFpbGVkVG9DcmVhdGU9ITApO3Muc2hhZGVyU291cmNlKGYsZCkscy5jb21waWxlU2hhZGVyKGYpLHMuYXR0YWNoU2hhZGVyKHRoaXMucHJvZ3JhbSxmKTtjb25zdCBtPXMuY3JlYXRlU2hhZGVyKHMuVkVSVEVYX1NIQURFUik7aWYocy5pc0NvbnRleHRMb3N0KCkpdGhpcy5mYWlsZWRUb0NyZWF0ZT0hMDtlbHNlIHtzLnNoYWRlclNvdXJjZShtLHApLHMuY29tcGlsZVNoYWRlcihtKSxzLmF0dGFjaFNoYWRlcih0aGlzLnByb2dyYW0sbSksdGhpcy5hdHRyaWJ1dGVzPXt9LHRoaXMubnVtQXR0cmlidXRlcz1jLmxlbmd0aDtmb3IobGV0IGU9MDtlPHRoaXMubnVtQXR0cmlidXRlcztlKyspaWYoY1tlXSl7Y29uc3QgdD1jW2VdLnN0YXJ0c1dpdGgoXCJhX1wiKT9jW2VdOmBhXyR7Y1tlXX1gO3MuYmluZEF0dHJpYkxvY2F0aW9uKHRoaXMucHJvZ3JhbSxlLHQpLHRoaXMuYXR0cmlidXRlc1t0XT1lO31zLmxpbmtQcm9ncmFtKHRoaXMucHJvZ3JhbSkscy5kZWxldGVTaGFkZXIobSkscy5kZWxldGVTaGFkZXIoZiksdGhpcy5maXhlZFVuaWZvcm1zPW4oZSksdGhpcy5iaW5kZXJVbmlmb3Jtcz1yP3IuZ2V0VW5pZm9ybXMoZSk6W10sby5pbmNsdWRlcyhcIlRFUlJBSU5cIikmJih0aGlzLnRlcnJhaW5Vbmlmb3Jtcz0oZT0+KHt1X2RlbTpuZXcgSWwoZSksdV9kZW1fcHJldjpuZXcgSWwoZSksdV9kZW1fdW5wYWNrOm5ldyBQbChlKSx1X2RlbV90bDpuZXcgemwoZSksdV9kZW1fc2NhbGU6bmV3IENsKGUpLHVfZGVtX3RsX3ByZXY6bmV3IHpsKGUpLHVfZGVtX3NjYWxlX3ByZXY6bmV3IENsKGUpLHVfZGVtX3NpemU6bmV3IENsKGUpLHVfZGVtX2xlcnA6bmV3IENsKGUpLHVfZXhhZ2dlcmF0aW9uOm5ldyBDbChlKSx1X2RlcHRoOm5ldyBJbChlKSx1X2RlcHRoX3NpemVfaW52Om5ldyB6bChlKSx1X21ldGVyX3RvX2RlbTpuZXcgQ2woZSksdV9sYWJlbF9wbGFuZV9tYXRyaXhfaW52Om5ldyBrbChlKX0pKShlKSksby5pbmNsdWRlcyhcIkdMT0JFXCIpJiYodGhpcy5nbG9iZVVuaWZvcm1zPShlPT4oe3VfdGlsZV90bF91cDpuZXcgRGwoZSksdV90aWxlX3RyX3VwOm5ldyBEbChlKSx1X3RpbGVfYnJfdXA6bmV3IERsKGUpLHVfdGlsZV9ibF91cDpuZXcgRGwoZSksdV90aWxlX3VwX3NjYWxlOm5ldyBDbChlKX0pKShlKSksby5pbmNsdWRlcyhcIkZPR1wiKSYmKHRoaXMuZm9nVW5pZm9ybXM9KGU9Pih7dV9mb2dfbWF0cml4Om5ldyBrbChlKSx1X2ZvZ19yYW5nZTpuZXcgemwoZSksdV9mb2dfY29sb3I6bmV3IFBsKGUpLHVfZm9nX2hvcml6b25fYmxlbmQ6bmV3IENsKGUpLHVfZm9nX3ZlcnRpY2FsX2xpbWl0Om5ldyB6bChlKSx1X2ZvZ190ZW1wb3JhbF9vZmZzZXQ6bmV3IENsKGUpLHVfZnJ1c3R1bV90bDpuZXcgRGwoZSksdV9mcnVzdHVtX3RyOm5ldyBEbChlKSx1X2ZydXN0dW1fYnI6bmV3IERsKGUpLHVfZnJ1c3R1bV9ibDpuZXcgRGwoZSksdV9nbG9iZV9wb3M6bmV3IERsKGUpLHVfZ2xvYmVfcmFkaXVzOm5ldyBDbChlKSx1X2dsb2JlX3RyYW5zaXRpb246bmV3IENsKGUpLHVfaXNfZ2xvYmU6bmV3IElsKGUpLHVfdmlld3BvcnQ6bmV3IHpsKGUpfSkpKGUpKSxvLmluY2x1ZGVzKFwiUkVOREVSX0NVVE9GRlwiKSYmKHRoaXMuY3V0b2ZmVW5pZm9ybXM9KGU9Pih7dV9jdXRvZmZfcGFyYW1zOm5ldyBQbChlKX0pKShlKSksby5pbmNsdWRlcyhcIkxJR0hUSU5HXzNEX01PREVcIikmJih0aGlzLmxpZ2h0c1VuaWZvcm1zPShlPT4oe3VfbGlnaHRpbmdfYW1iaWVudF9jb2xvcjpuZXcgRGwoZSksdV9saWdodGluZ19kaXJlY3Rpb25hbF9kaXI6bmV3IERsKGUpLHVfbGlnaHRpbmdfZGlyZWN0aW9uYWxfY29sb3I6bmV3IERsKGUpLHVfZ3JvdW5kX3JhZGlhbmNlOm5ldyBEbChlKX0pKShlKSksby5pbmNsdWRlcyhcIlJFTkRFUl9TSEFET1dTXCIpJiYodGhpcy5zaGFkb3dVbmlmb3Jtcz0oZT0+KHt1X2xpZ2h0X21hdHJpeF8wOm5ldyBrbChlKSx1X2xpZ2h0X21hdHJpeF8xOm5ldyBrbChlKSx1X2ZhZGVfcmFuZ2U6bmV3IHpsKGUpLHVfc2hhZG93X25vcm1hbF9vZmZzZXQ6bmV3IERsKGUpLHVfc2hhZG93X2ludGVuc2l0eTpuZXcgQ2woZSksdV9zaGFkb3dfdGV4ZWxfc2l6ZTpuZXcgQ2woZSksdV9zaGFkb3dfbWFwX3Jlc29sdXRpb246bmV3IENsKGUpLHVfc2hhZG93X2RpcmVjdGlvbjpuZXcgRGwoZSksdV9zaGFkb3dfYmlhczpuZXcgRGwoZSksdV9zaGFkb3dtYXBfMDpuZXcgSWwoZSksdV9zaGFkb3dtYXBfMTpuZXcgSWwoZSl9KSkoZSkpO319c2V0VGVycmFpblVuaWZvcm1WYWx1ZXMoZSx0KXtpZighdGhpcy50ZXJyYWluVW5pZm9ybXMpcmV0dXJuO2NvbnN0IGk9dGhpcy50ZXJyYWluVW5pZm9ybXM7aWYoIXRoaXMuZmFpbGVkVG9DcmVhdGUpe2UucHJvZ3JhbS5zZXQodGhpcy5wcm9ncmFtKTtmb3IoY29uc3QgZSBpbiB0KWlbZV0mJmlbZV0uc2V0KHRoaXMucHJvZ3JhbSxlLHRbZV0pO319c2V0R2xvYmVVbmlmb3JtVmFsdWVzKGUsdCl7aWYoIXRoaXMuZ2xvYmVVbmlmb3JtcylyZXR1cm47Y29uc3QgaT10aGlzLmdsb2JlVW5pZm9ybXM7aWYoIXRoaXMuZmFpbGVkVG9DcmVhdGUpe2UucHJvZ3JhbS5zZXQodGhpcy5wcm9ncmFtKTtmb3IoY29uc3QgZSBpbiB0KWlbZV0mJmlbZV0uc2V0KHRoaXMucHJvZ3JhbSxlLHRbZV0pO319c2V0Rm9nVW5pZm9ybVZhbHVlcyhlLHQpe2lmKCF0aGlzLmZvZ1VuaWZvcm1zKXJldHVybjtjb25zdCBpPXRoaXMuZm9nVW5pZm9ybXM7aWYoIXRoaXMuZmFpbGVkVG9DcmVhdGUpe2UucHJvZ3JhbS5zZXQodGhpcy5wcm9ncmFtKTtmb3IoY29uc3QgZSBpbiB0KWlbZV0uc2V0KHRoaXMucHJvZ3JhbSxlLHRbZV0pO319c2V0Q3V0b2ZmVW5pZm9ybVZhbHVlcyhlLHQpe2lmKCF0aGlzLmN1dG9mZlVuaWZvcm1zKXJldHVybjtjb25zdCBpPXRoaXMuY3V0b2ZmVW5pZm9ybXM7aWYoIXRoaXMuZmFpbGVkVG9DcmVhdGUpe2UucHJvZ3JhbS5zZXQodGhpcy5wcm9ncmFtKTtmb3IoY29uc3QgZSBpbiB0KWlbZV0uc2V0KHRoaXMucHJvZ3JhbSxlLHRbZV0pO319c2V0TGlnaHRzVW5pZm9ybVZhbHVlcyhlLHQpe2lmKCF0aGlzLmxpZ2h0c1VuaWZvcm1zKXJldHVybjtjb25zdCBpPXRoaXMubGlnaHRzVW5pZm9ybXM7aWYoIXRoaXMuZmFpbGVkVG9DcmVhdGUpe2UucHJvZ3JhbS5zZXQodGhpcy5wcm9ncmFtKTtmb3IoY29uc3QgZSBpbiB0KWlbZV0uc2V0KHRoaXMucHJvZ3JhbSxlLHRbZV0pO319c2V0U2hhZG93VW5pZm9ybVZhbHVlcyhlLHQpe2lmKHRoaXMuZmFpbGVkVG9DcmVhdGV8fCF0aGlzLnNoYWRvd1VuaWZvcm1zKXJldHVybjtjb25zdCBpPXRoaXMuc2hhZG93VW5pZm9ybXM7ZS5wcm9ncmFtLnNldCh0aGlzLnByb2dyYW0pO2Zvcihjb25zdCBlIGluIHQpaVtlXS5zZXQodGhpcy5wcm9ncmFtLGUsdFtlXSk7fV9kcmF3RGVidWdXaXJlZnJhbWUoZSx0LGkscixuLG8scyxhLGwsYyl7Y29uc3QgaD1lLm9wdGlvbnMud2lyZWZyYW1lO2lmKCExPT09aC50ZXJyYWluJiYhMT09PWgubGF5ZXJzMkQmJiExPT09aC5sYXllcnMzRClyZXR1cm47Y29uc3QgdT1lLmNvbnRleHQ7aWYoISgoKT0+ISghaC50ZXJyYWlufHxcInRlcnJhaW5SYXN0ZXJcIiE9PXRoaXMubmFtZSYmXCJnbG9iZVJhc3RlclwiIT09dGhpcy5uYW1lKXx8ISghaC5sYXllcnMyRHx8ZS5fdGVycmFpbiYmZS5fdGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmV8fCFvTS5pbmNsdWRlcyh0aGlzLm5hbWUpKXx8ISghaC5sYXllcnMzRHx8IXNNLmluY2x1ZGVzKHRoaXMubmFtZSkpKSgpKXJldHVybjtjb25zdCBkPXUuZ2wscD1lLndpcmVmcmFtZURlYnVnQ2FjaGUuZ2V0TGluZXNGcm9tVHJpYW5nbGVzQnVmZmVyKGUuZnJhbWVDb3VudGVyLG4sdSk7aWYoIXApcmV0dXJuO2NvbnN0IGY9Wy4uLnRoaXMuZml4ZWREZWZpbmVzXTtmLnB1c2goXCJERUJVR19XSVJFRlJBTUVcIik7Y29uc3QgbT1lLmdldE9yQ3JlYXRlUHJvZ3JhbSh0aGlzLm5hbWUse2NvbmZpZzp0aGlzLmNvbmZpZ3VyYXRpb24sZGVmaW5lczpmfSk7dS5wcm9ncmFtLnNldChtLnByb2dyYW0pO2NvbnN0IF89KGUsdCxpKT0+e2lmKHRbZV0mJmlbZV0pZm9yKGNvbnN0IHIgaW4gdFtlXSlpW2VdW3JdJiZpW2VdW3JdLnNldChpLnByb2dyYW0scix0W2VdW3JdLmN1cnJlbnQpO307bCYmbC5zZXRVbmlmb3JtcyhtLnByb2dyYW0sdSxtLmJpbmRlclVuaWZvcm1zLHMse3pvb206YX0pLF8oXCJmaXhlZFVuaWZvcm1zXCIsdGhpcyxtKSxfKFwidGVycmFpblVuaWZvcm1zXCIsdGhpcyxtKSxfKFwiZ2xvYmVVbmlmb3Jtc1wiLHRoaXMsbSksXyhcImZvZ1VuaWZvcm1zXCIsdGhpcyxtKSxfKFwibGlnaHRzVW5pZm9ybXNcIix0aGlzLG0pLF8oXCJzaGFkb3dVbmlmb3Jtc1wiLHRoaXMsbSkscC5iaW5kKCksdS5zZXRDb2xvck1vZGUobmV3IGJ4KFtkLk9ORSxkLk9ORV9NSU5VU19TUkNfQUxQSEEsZC5aRVJPLGQuT05FXSxsaS50cmFuc3BhcmVudCxbITAsITAsITAsITFdKSksdS5zZXREZXB0aE1vZGUobmV3IGd4KHQuZnVuYz09PWQuTEVTUz9kLkxFUVVBTDp0LmZ1bmMsZ3guUmVhZE9ubHksdC5yYW5nZSkpLHUuc2V0U3RlbmNpbE1vZGUoeHguZGlzYWJsZWQpO2NvbnN0IGc9MypvLnByaW1pdGl2ZUxlbmd0aCoyLHk9MypvLnByaW1pdGl2ZU9mZnNldCoyKjI7YyYmYz4xP2QuZHJhd0VsZW1lbnRzSW5zdGFuY2VkKGQuTElORVMsZyxkLlVOU0lHTkVEX1NIT1JULHksYyk6ZC5kcmF3RWxlbWVudHMoZC5MSU5FUyxnLGQuVU5TSUdORURfU0hPUlQseSksbi5iaW5kKCksdS5wcm9ncmFtLnNldCh0aGlzLnByb2dyYW0pLHUuc2V0RGVwdGhNb2RlKHQpLHUuc2V0U3RlbmNpbE1vZGUoaSksdS5zZXRDb2xvck1vZGUocik7fWRyYXcoZSx0LGkscixuLG8scyxhLGwsYyxoLHUsZCxwLGYsbSl7Y29uc3QgXz1lLmNvbnRleHQsZz1fLmdsO2lmKHRoaXMuZmFpbGVkVG9DcmVhdGUpcmV0dXJuO18ucHJvZ3JhbS5zZXQodGhpcy5wcm9ncmFtKSxfLnNldERlcHRoTW9kZShpKSxfLnNldFN0ZW5jaWxNb2RlKHIpLF8uc2V0Q29sb3JNb2RlKG4pLF8uc2V0Q3VsbEZhY2Uobyk7Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXModGhpcy5maXhlZFVuaWZvcm1zKSl0aGlzLmZpeGVkVW5pZm9ybXNbZV0uc2V0KHRoaXMucHJvZ3JhbSxlLHNbZV0pO3AmJnAuc2V0VW5pZm9ybXModGhpcy5wcm9ncmFtLF8sdGhpcy5iaW5kZXJVbmlmb3Jtcyx1LHt6b29tOmR9KTtjb25zdCB5PXtbZy5MSU5FU106MixbZy5UUklBTkdMRVNdOjMsW2cuTElORV9TVFJJUF06MX1bdF0seD1tJiZtPjA/MTp2b2lkIDA7Zm9yKGNvbnN0IG8gb2YgaC5nZXQoKSl7Y29uc3Qgcz1vLnZhb3N8fChvLnZhb3M9e30pOyhzW2FdfHwoc1thXT1uZXcgRkUpKS5iaW5kKF8sdGhpcyxsLHA/cC5nZXRQYWludFZlcnRleEJ1ZmZlcnMoKTpbXSxjLG8udmVydGV4T2Zmc2V0LGZ8fFtdLHgpLG0mJm0+MT9nLmRyYXdFbGVtZW50c0luc3RhbmNlZCh0LG8ucHJpbWl0aXZlTGVuZ3RoKnksZy5VTlNJR05FRF9TSE9SVCxvLnByaW1pdGl2ZU9mZnNldCp5KjIsbSk6Zy5kcmF3RWxlbWVudHModCxvLnByaW1pdGl2ZUxlbmd0aCp5LGcuVU5TSUdORURfU0hPUlQsby5wcmltaXRpdmVPZmZzZXQqeSoyKSx0PT09Zy5UUklBTkdMRVMmJnRoaXMuX2RyYXdEZWJ1Z1dpcmVmcmFtZShlLGkscixuLGMsbyx1LGQscCxtKTt9fX1mdW5jdGlvbiBsTShlLHQpe2NvbnN0IGk9TWF0aC5wb3coMix0LnRpbGVJRC5vdmVyc2NhbGVkWikscj10LnRpbGVTaXplKk1hdGgucG93KDIsZS50cmFuc2Zvcm0udGlsZVpvb20pL2ksbj1yKih0LnRpbGVJRC5jYW5vbmljYWwueCt0LnRpbGVJRC53cmFwKmkpLG89cip0LnRpbGVJRC5jYW5vbmljYWwueTtyZXR1cm4ge3VfaW1hZ2U6MCx1X3RleHNpemU6dC5pbWFnZUF0bGFzVGV4dHVyZS5zaXplLHVfdGlsZV91bml0c190b19waXhlbHM6MS9YeCh0LDEsZS50cmFuc2Zvcm0udGlsZVpvb20pLHVfcGl4ZWxfY29vcmRfdXBwZXI6W24+PjE2LG8+PjE2XSx1X3BpeGVsX2Nvb3JkX2xvd2VyOls2NTUzNSZuLDY1NTM1Jm9dfX1jb25zdCBjTT14dS5jcmVhdGUoKSxoTT0oZSx0LGkscixuLG8scyxhLGwsYyxoLHUsZCxwLGYpPT57Y29uc3QgbT10LnN0eWxlLmxpZ2h0LF89bS5wcm9wZXJ0aWVzLmdldChcInBvc2l0aW9uXCIpLGc9W18ueCxfLnksXy56XSx5PWd1LmNyZWF0ZSgpO1widmlld3BvcnRcIj09PW0ucHJvcGVydGllcy5nZXQoXCJhbmNob3JcIikmJihndS5mcm9tUm90YXRpb24oeSwtdC50cmFuc2Zvcm0uYW5nbGUpLE11LnRyYW5zZm9ybU1hdDMoZyxnLHkpKTtjb25zdCB4PW0ucHJvcGVydGllcy5nZXQoXCJjb2xvclwiKSx2PXQudHJhbnNmb3JtLGI9e3VfbWF0cml4OmUsdV9saWdodHBvczpnLHVfbGlnaHRpbnRlbnNpdHk6bS5wcm9wZXJ0aWVzLmdldChcImludGVuc2l0eVwiKSx1X2xpZ2h0Y29sb3I6W3gucix4LmcseC5iXSx1X3ZlcnRpY2FsX2dyYWRpZW50OitpLHVfb3BhY2l0eTpyLHVfdGlsZV9pZDpbMCwwLDBdLHVfem9vbV90cmFuc2l0aW9uOjAsdV9pbnZfcm90X21hdHJpeDpjTSx1X21lcmNfY2VudGVyOlswLDBdLHVfdXBfZGlyOlswLDAsMF0sdV9oZWlnaHRfbGlmdDowLHVfYW86bix1X2VkZ2VfcmFkaXVzOm8sdV9mbG9vZF9saWdodF9jb2xvcjp1LHVfdmVydGljYWxfc2NhbGU6ZCx1X2Zsb29kX2xpZ2h0X2ludGVuc2l0eTpwLHVfZ3JvdW5kX3NoYWRvd19mYWN0b3I6Zn07cmV0dXJuIFwiZ2xvYmVcIj09PXYucHJvamVjdGlvbi5uYW1lJiYoYi51X3RpbGVfaWQ9W3MuY2Fub25pY2FsLngscy5jYW5vbmljYWwueSwxPDxzLmNhbm9uaWNhbC56XSxiLnVfem9vbV90cmFuc2l0aW9uPWwsYi51X2ludl9yb3RfbWF0cml4PWgsYi51X21lcmNfY2VudGVyPWMsYi51X3VwX2Rpcj12LnByb2plY3Rpb24udXBWZWN0b3IobmV3IGt1KDAsMCwwKSxjWzBdKnNyLGNbMV0qc3IpLGIudV9oZWlnaHRfbGlmdD1hKSxifSx1TT0oZSx0LGkpPT4oe3VfbWF0cml4OmUsdV9lZGdlX3JhZGl1czp0LHVfdmVydGljYWxfc2NhbGU6aX0pLGRNPShlLHQsaSxyLG4sbyxzLGEsbCxjLGgsdSxkLHApPT57Y29uc3QgZj1oTShlLHQsaSxyLG4sbyxzLGwsYyxoLHUsZCxwLDEsWzAsMCwwXSksbT17dV9oZWlnaHRfZmFjdG9yOi1NYXRoLnBvdygyLHMub3ZlcnNjYWxlZFopL2EudGlsZVNpemUvOH07cmV0dXJuIGsoZixsTSh0LGEpLG0pfSxwTT0oZSx0KT0+KHt1X21hdHJpeDplLHVfZW1pc3NpdmVfc3RyZW5ndGg6dH0pLGZNPShlLHQsaSxyKT0+ayhwTShlLHQpLGxNKGkscikpLG1NPShlLHQsaSk9Pih7dV9tYXRyaXg6ZSx1X3dvcmxkOmksdV9lbWlzc2l2ZV9zdHJlbmd0aDp0fSksX009KGUsdCxpLHIsbik9PmsoZk0oZSx0LGkscikse3Vfd29ybGQ6bn0pLGdNPShlLHQsaSxyKT0+e2NvbnN0IG49c3IvaS50aWxlU2l6ZTtyZXR1cm4ge3VfbWF0cml4OmUsdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOnQuZ2V0Q2FtZXJhVG9DZW50ZXJEaXN0YW5jZShyKSx1X2V4dHJ1ZGVfc2NhbGU6W3QucGl4ZWxzVG9HTFVuaXRzWzBdL24sdC5waXhlbHNUb0dMVW5pdHNbMV0vbl19fSx5TT0oZSx0LGk9MSk9Pih7dV9tYXRyaXg6ZSx1X2NvbG9yOnQsdV9vdmVybGF5OjAsdV9vdmVybGF5X3NjYWxlOml9KSx4TT14dS5jcmVhdGUoKSx2TT0oZSx0LGkscixuLG8scyk9Pntjb25zdCBhPWUudHJhbnNmb3JtLGw9XCJnbG9iZVwiPT09YS5wcm9qZWN0aW9uLm5hbWUsYz1sP3dkKGEuem9vbSx0LmNhbm9uaWNhbCkqYS5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbDpYeChpLDEsbyksaD17dV9tYXRyaXg6dC5wcm9qTWF0cml4LHVfZXh0cnVkZV9zY2FsZTpjLHVfaW50ZW5zaXR5OnMsdV9pbnZfcm90X21hdHJpeDp4TSx1X21lcmNfY2VudGVyOlswLDBdLHVfdGlsZV9pZDpbMCwwLDBdLHVfem9vbV90cmFuc2l0aW9uOjAsdV91cF9kaXI6WzAsMCwwXX07aWYobCl7aC51X2ludl9yb3RfbWF0cml4PXIsaC51X21lcmNfY2VudGVyPW4saC51X3RpbGVfaWQ9W3QuY2Fub25pY2FsLngsdC5jYW5vbmljYWwueSwxPDx0LmNhbm9uaWNhbC56XSxoLnVfem9vbV90cmFuc2l0aW9uPUVkKGEuem9vbSk7Y29uc3QgZT1uWzBdKnNyLGk9blsxXSpzcjtoLnVfdXBfZGlyPWEucHJvamVjdGlvbi51cFZlY3RvcihuZXcga3UoMCwwLDApLGUsaSk7fXJldHVybiBofSxiTT0oZSx0LGkscixuLG8scyxhLGwsYyxoKT0+e3JldHVybiB7dV9tYXRyaXg6ZSx1X25vcm1hbGl6ZV9tYXRyaXg6dCx1X2dsb2JlX21hdHJpeDppLHVfdGxfcGFyZW50OnIsdV9zY2FsZV9wYXJlbnQ6bix1X2ZhZGVfdDpvLm1peCx1X29wYWNpdHk6by5vcGFjaXR5KnMucGFpbnQuZ2V0KFwicmFzdGVyLW9wYWNpdHlcIiksdV9pbWFnZTA6MCx1X2ltYWdlMToxLHVfYnJpZ2h0bmVzc19sb3c6cy5wYWludC5nZXQoXCJyYXN0ZXItYnJpZ2h0bmVzcy1taW5cIiksdV9icmlnaHRuZXNzX2hpZ2g6cy5wYWludC5nZXQoXCJyYXN0ZXItYnJpZ2h0bmVzcy1tYXhcIiksdV9zYXR1cmF0aW9uX2ZhY3RvcjooZD1zLnBhaW50LmdldChcInJhc3Rlci1zYXR1cmF0aW9uXCIpLGQ+MD8xLTEvKDEuMDAxLWQpOi1kKSx1X2NvbnRyYXN0X2ZhY3RvcjoodT1zLnBhaW50LmdldChcInJhc3Rlci1jb250cmFzdFwiKSx1PjA/MS8oMS11KToxK3UpLHVfc3Bpbl93ZWlnaHRzOndNKHMucGFpbnQuZ2V0KFwicmFzdGVyLWh1ZS1yb3RhdGVcIikpLHVfcGVyc3BlY3RpdmVfdHJhbnNmb3JtOmEsdV9jb2xvcml6YXRpb25fbWl4OmMsdV9jb2xvcml6YXRpb25fc2NhbGU6VE0oaCksdV9jb2xvcl9yYW1wOmx9O3ZhciB1LGQ7fTtmdW5jdGlvbiB3TShlKXtlKj1NYXRoLlBJLzE4MDtjb25zdCB0PU1hdGguc2luKGUpLGk9TWF0aC5jb3MoZSk7cmV0dXJuIFsoMippKzEpLzMsKC1NYXRoLnNxcnQoMykqdC1pKzEpLzMsKE1hdGguc3FydCgzKSp0LWkrMSkvM119ZnVuY3Rpb24gVE0oW2UsdF0pe2lmKGU9PT10KXJldHVybiBbZSx0XTtjb25zdCBpPSh0K2UpLzIscj0odC1lKS8yKjI1Ni8yNTU7cmV0dXJuIFstKGU9aS1yKS8oKHQ9aStyKS1lKSwxLyh0LWUpXX1jb25zdCBFTT14dS5jcmVhdGUoKSxNTT0oZSx0LGkscixuLG8scyxhLGwsYyxoLHUsZCxwLGYsbSxfKT0+e2NvbnN0IGc9bi50cmFuc2Zvcm0seT17dV9pc19zaXplX3pvb21fY29uc3RhbnQ6KyhcImNvbnN0YW50XCI9PT1lfHxcInNvdXJjZVwiPT09ZSksdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ6KyhcImNvbnN0YW50XCI9PT1lfHxcImNhbWVyYVwiPT09ZSksdV9zaXplX3Q6dD90LnVTaXplVDowLHVfc2l6ZTp0P3QudVNpemU6MCx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6Zy5nZXRDYW1lcmFUb0NlbnRlckRpc3RhbmNlKG0pLHVfcm90YXRlX3N5bWJvbDoraSx1X2FzcGVjdF9yYXRpbzpnLndpZHRoL2cuaGVpZ2h0LHVfZmFkZV9jaGFuZ2U6bi5vcHRpb25zLmZhZGVEdXJhdGlvbj9uLnN5bWJvbEZhZGVDaGFuZ2U6MSx1X21hdHJpeDpvLHVfbGFiZWxfcGxhbmVfbWF0cml4OnMsdV9jb29yZF9tYXRyaXg6YSx1X2lzX3RleHQ6K2wsdV9waXRjaF93aXRoX21hcDorcix1X3RleHNpemU6Yyx1X3RleHR1cmU6MCx1X3RpbGVfaWQ6WzAsMCwwXSx1X3pvb21fdHJhbnNpdGlvbjowLHVfaW52X3JvdF9tYXRyaXg6RU0sdV9tZXJjX2NlbnRlcjpbMCwwXSx1X2NhbWVyYV9mb3J3YXJkOlswLDAsMF0sdV9lY2VmX29yaWdpbjpbMCwwLDBdLHVfdGlsZV9tYXRyaXg6RU0sdV91cF92ZWN0b3I6WzAsLTEsMF0sdV9pY29uX3RyYW5zaXRpb246X3x8MH07cmV0dXJuIFwiZ2xvYmVcIj09PW0ubmFtZSYmKHkudV90aWxlX2lkPVtoLmNhbm9uaWNhbC54LGguY2Fub25pY2FsLnksMTw8aC5jYW5vbmljYWwuel0seS51X3pvb21fdHJhbnNpdGlvbj11LHkudV9pbnZfcm90X21hdHJpeD1wLHkudV9tZXJjX2NlbnRlcj1kLHkudV9jYW1lcmFfZm9yd2FyZD1nLl9jYW1lcmEuZm9yd2FyZCgpLHkudV9lY2VmX29yaWdpbj1mdW5jdGlvbihlLHQpe2NvbnN0IGk9WzAsMCwwXSxyPXhkKGFkKHQuY2Fub25pY2FsKSk7cmV0dXJuIE11LnRyYW5zZm9ybU1hdDQoaSxpLHIpLE11LnRyYW5zZm9ybU1hdDQoaSxpLGUpLGl9KGcuZ2xvYmVNYXRyaXgsaC50b1Vud3JhcHBlZCgpKSx5LnVfdGlsZV9tYXRyaXg9RmxvYXQzMkFycmF5LmZyb20oZy5nbG9iZU1hdHJpeCkseS51X3VwX3ZlY3Rvcj1mKSx5fSxBTT0oZSx0LGkscixuLG8scyxhLGwsYyxoLHUsZCxwLGYsbSxfKT0+ayhNTShlLHQsaSxyLG4sbyxzLGEsbCxjLHUsZCxwLGYsbSxfKSx7dV9nYW1tYV9zY2FsZTpyP24udHJhbnNmb3JtLmdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UoXykqTWF0aC5jb3Mobi50ZXJyYWluPzA6bi50cmFuc2Zvcm0uX3BpdGNoKToxLHVfZGV2aWNlX3BpeGVsX3JhdGlvOmh0LmRldmljZVBpeGVsUmF0aW8sdV9pc19oYWxvOitoLHVuZGVmaW5lZDp2b2lkIDB9KSxTTT0oZSx0LGkscixuLG8scyxhLGwsYyxoLHUsZCxwLGYsbSk9PmsoQU0oZSx0LGkscixuLG8scyxhLCEwLGwsITAsaCx1LGQscCxmLG0pLHt1X3RleHNpemVfaWNvbjpjLHVfdGV4dHVyZV9pY29uOjF9KSxJTT0oZSx0LGkscik9Pih7dV9tYXRyaXg6ZSx1X2VtaXNzaXZlX3N0cmVuZ3RoOnQsdV9vcGFjaXR5OmksdV9jb2xvcjpyfSksQ009KGUsdCxpLHIsbixvLHMpPT5rKGZ1bmN0aW9uKGUsdCxpLHIpe2NvbnN0IG49aS5pbWFnZU1hbmFnZXIuZ2V0UGF0dGVybihlLnRvU3RyaW5nKCksdCkse3dpZHRoOm8saGVpZ2h0OnN9PWkuaW1hZ2VNYW5hZ2VyLmdldFBpeGVsU2l6ZSh0KSxhPU1hdGgucG93KDIsci50aWxlSUQub3ZlcnNjYWxlZFopLGw9ci50aWxlU2l6ZSpNYXRoLnBvdygyLGkudHJhbnNmb3JtLnRpbGVab29tKS9hLGM9bCooci50aWxlSUQuY2Fub25pY2FsLngrci50aWxlSUQud3JhcCphKSxoPWwqci50aWxlSUQuY2Fub25pY2FsLnk7cmV0dXJuIHt1X2ltYWdlOjAsdV9wYXR0ZXJuX3RsOm4udGwsdV9wYXR0ZXJuX2JyOm4uYnIsdV90ZXhzaXplOltvLHNdLHVfcGF0dGVybl9zaXplOm4uZGlzcGxheVNpemUsdV90aWxlX3VuaXRzX3RvX3BpeGVsczoxL1h4KHIsMSxpLnRyYW5zZm9ybS50aWxlWm9vbSksdV9waXhlbF9jb29yZF91cHBlcjpbYz4+MTYsaD4+MTZdLHVfcGl4ZWxfY29vcmRfbG93ZXI6WzY1NTM1JmMsNjU1MzUmaF19fShuLG8scixzKSx7dV9tYXRyaXg6ZSx1X2VtaXNzaXZlX3N0cmVuZ3RoOnQsdV9vcGFjaXR5Oml9KSx6TT17QmFzZUNvbG9yOjUsTWV0YWxsaWNSb3VnaG5lc3M6NixOb3JtYWw6NyxPY2NsdXNpb246OCxFbWlzc2lvbjo5LFNoYWRvd01hcDA6MTB9LERNPShlLHQsaSxyLG4sbyxzLGEsbCxjLGgsdT1bMCwwLDBdKT0+e2NvbnN0IGQ9ci5zdHlsZS5saWdodCxwPWQucHJvcGVydGllcy5nZXQoXCJwb3NpdGlvblwiKSxmPVstcC54LC1wLnkscC56XSxtPWd1LmNyZWF0ZSgpO1widmlld3BvcnRcIj09PWQucHJvcGVydGllcy5nZXQoXCJhbmNob3JcIikmJihndS5mcm9tUm90YXRpb24obSwtci50cmFuc2Zvcm0uYW5nbGUpLE11LnRyYW5zZm9ybU1hdDMoZixmLG0pKTtjb25zdCBfPVwiTUFTS1wiPT09Yy5hbHBoYU1vZGUsZz1kLnByb3BlcnRpZXMuZ2V0KFwiY29sb3JcIikseT1oLnBhaW50LmdldChcIm1vZGVsLWFtYmllbnQtb2NjbHVzaW9uLWludGVuc2l0eVwiKSx4PWgucGFpbnQuZ2V0KFwibW9kZWwtY29sb3JcIikuY29uc3RhbnRPcihsaS53aGl0ZSksdj1oLnBhaW50LmdldChcIm1vZGVsLWNvbG9yLW1peC1pbnRlbnNpdHlcIikuY29uc3RhbnRPcigwKTtyZXR1cm4ge3VfbWF0cml4OmUsdV9saWdodGluZ19tYXRyaXg6dCx1X25vcm1hbF9tYXRyaXg6aSx1X2xpZ2h0cG9zOmYsdV9saWdodGludGVuc2l0eTpkLnByb3BlcnRpZXMuZ2V0KFwiaW50ZW5zaXR5XCIpLHVfbGlnaHRjb2xvcjpbZy5yLGcuZyxnLmJdLHVfY2FtZXJhX3Bvczp1LHVfb3BhY2l0eTpuLHVfYmFzZVRleHR1cmVJc0FscGhhOjAsdV9hbHBoYU1hc2s6K18sdV9hbHBoYUN1dG9mZjpjLmFscGhhQ3V0b2ZmLHVfYmFzZUNvbG9yRmFjdG9yOltvLnIsby5nLG8uYixvLmFdLHVfZW1pc3NpdmVGYWN0b3I6W3NbMF0sc1sxXSxzWzJdLDFdLHVfbWV0YWxsaWNGYWN0b3I6YSx1X3JvdWdobmVzc0ZhY3RvcjpsLHVfYmFzZUNvbG9yVGV4dHVyZTp6TS5CYXNlQ29sb3IsdV9tZXRhbGxpY1JvdWdobmVzc1RleHR1cmU6ek0uTWV0YWxsaWNSb3VnaG5lc3MsdV9ub3JtYWxUZXh0dXJlOnpNLk5vcm1hbCx1X29jY2x1c2lvblRleHR1cmU6ek0uT2NjbHVzaW9uLHVfZW1pc3Npb25UZXh0dXJlOnpNLkVtaXNzaW9uLHVfY29sb3JfbWl4Olt4LnIseC5nLHguYix2XSx1X2FvSW50ZW5zaXR5Onl9fSxQTT1uZXcgRmxvYXQzMkFycmF5KDE2KSxSTT0oZSx0PVBNLGk9UE0pPT4oe3VfbWF0cml4OmUsdV9pbnN0YW5jZTp0LHVfbm9kZV9tYXRyaXg6aX0pLExNPXtmaWxsRXh0cnVzaW9uOmU9Pih7dV9tYXRyaXg6bmV3IGtsKGUpLHVfbGlnaHRwb3M6bmV3IERsKGUpLHVfbGlnaHRpbnRlbnNpdHk6bmV3IENsKGUpLHVfbGlnaHRjb2xvcjpuZXcgRGwoZSksdV92ZXJ0aWNhbF9ncmFkaWVudDpuZXcgQ2woZSksdV9vcGFjaXR5Om5ldyBDbChlKSx1X2VkZ2VfcmFkaXVzOm5ldyBDbChlKSx1X2FvOm5ldyB6bChlKSx1X3RpbGVfaWQ6bmV3IERsKGUpLHVfem9vbV90cmFuc2l0aW9uOm5ldyBDbChlKSx1X2ludl9yb3RfbWF0cml4Om5ldyBrbChlKSx1X21lcmNfY2VudGVyOm5ldyB6bChlKSx1X3VwX2RpcjpuZXcgRGwoZSksdV9oZWlnaHRfbGlmdDpuZXcgQ2woZSksdV9mbG9vZF9saWdodF9jb2xvcjpuZXcgRGwoZSksdV92ZXJ0aWNhbF9zY2FsZTpuZXcgQ2woZSksdV9mbG9vZF9saWdodF9pbnRlbnNpdHk6bmV3IENsKGUpLHVfZ3JvdW5kX3NoYWRvd19mYWN0b3I6bmV3IERsKGUpfSksZmlsbEV4dHJ1c2lvbkRlcHRoOmU9Pih7dV9tYXRyaXg6bmV3IGtsKGUpLHVfZWRnZV9yYWRpdXM6bmV3IENsKGUpLHVfdmVydGljYWxfc2NhbGU6bmV3IENsKGUpfSksZmlsbEV4dHJ1c2lvblBhdHRlcm46ZT0+KHt1X21hdHJpeDpuZXcga2woZSksdV9saWdodHBvczpuZXcgRGwoZSksdV9saWdodGludGVuc2l0eTpuZXcgQ2woZSksdV9saWdodGNvbG9yOm5ldyBEbChlKSx1X3ZlcnRpY2FsX2dyYWRpZW50Om5ldyBDbChlKSx1X2hlaWdodF9mYWN0b3I6bmV3IENsKGUpLHVfZWRnZV9yYWRpdXM6bmV3IENsKGUpLHVfYW86bmV3IHpsKGUpLHVfdGlsZV9pZDpuZXcgRGwoZSksdV96b29tX3RyYW5zaXRpb246bmV3IENsKGUpLHVfaW52X3JvdF9tYXRyaXg6bmV3IGtsKGUpLHVfbWVyY19jZW50ZXI6bmV3IHpsKGUpLHVfdXBfZGlyOm5ldyBEbChlKSx1X2hlaWdodF9saWZ0Om5ldyBDbChlKSx1X2ltYWdlOm5ldyBJbChlKSx1X3RleHNpemU6bmV3IHpsKGUpLHVfcGl4ZWxfY29vcmRfdXBwZXI6bmV3IHpsKGUpLHVfcGl4ZWxfY29vcmRfbG93ZXI6bmV3IHpsKGUpLHVfdGlsZV91bml0c190b19waXhlbHM6bmV3IENsKGUpLHVfb3BhY2l0eTpuZXcgQ2woZSl9KSxmaWxsRXh0cnVzaW9uR3JvdW5kRWZmZWN0OmU9Pih7dV9tYXRyaXg6bmV3IGtsKGUpLHVfb3BhY2l0eTpuZXcgQ2woZSksdV9hb19wYXNzOm5ldyBDbChlKSx1X21ldGVyX3RvX3RpbGU6bmV3IENsKGUpLHVfYW86bmV3IHpsKGUpLHVfZmxvb2RfbGlnaHRfaW50ZW5zaXR5Om5ldyBDbChlKSx1X2Zsb29kX2xpZ2h0X2NvbG9yOm5ldyBEbChlKSx1X2F0dGVudWF0aW9uOm5ldyBDbChlKSx1X2VkZ2VfcmFkaXVzOm5ldyBDbChlKSx1X2ZiOm5ldyBJbChlKSx1X2ZiX3NpemU6bmV3IENsKGUpfSksZmlsbDplPT4oe3VfbWF0cml4Om5ldyBrbChlKSx1X2VtaXNzaXZlX3N0cmVuZ3RoOm5ldyBDbChlKX0pLGZpbGxQYXR0ZXJuOmU9Pih7dV9tYXRyaXg6bmV3IGtsKGUpLHVfZW1pc3NpdmVfc3RyZW5ndGg6bmV3IENsKGUpLHVfaW1hZ2U6bmV3IElsKGUpLHVfdGV4c2l6ZTpuZXcgemwoZSksdV9waXhlbF9jb29yZF91cHBlcjpuZXcgemwoZSksdV9waXhlbF9jb29yZF9sb3dlcjpuZXcgemwoZSksdV90aWxlX3VuaXRzX3RvX3BpeGVsczpuZXcgQ2woZSl9KSxmaWxsT3V0bGluZTplPT4oe3VfbWF0cml4Om5ldyBrbChlKSx1X2VtaXNzaXZlX3N0cmVuZ3RoOm5ldyBDbChlKSx1X3dvcmxkOm5ldyB6bChlKX0pLGZpbGxPdXRsaW5lUGF0dGVybjplPT4oe3VfbWF0cml4Om5ldyBrbChlKSx1X2VtaXNzaXZlX3N0cmVuZ3RoOm5ldyBDbChlKSx1X3dvcmxkOm5ldyB6bChlKSx1X2ltYWdlOm5ldyBJbChlKSx1X3RleHNpemU6bmV3IHpsKGUpLHVfcGl4ZWxfY29vcmRfdXBwZXI6bmV3IHpsKGUpLHVfcGl4ZWxfY29vcmRfbG93ZXI6bmV3IHpsKGUpLHVfdGlsZV91bml0c190b19waXhlbHM6bmV3IENsKGUpfSksY2lyY2xlOmU9Pih7dV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOm5ldyBDbChlKSx1X2V4dHJ1ZGVfc2NhbGU6bmV3IE5sKGUpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyBDbChlKSx1X21hdHJpeDpuZXcga2woZSksdV9pbnZfcm90X21hdHJpeDpuZXcga2woZSksdV9tZXJjX2NlbnRlcjpuZXcgemwoZSksdV90aWxlX2lkOm5ldyBEbChlKSx1X3pvb21fdHJhbnNpdGlvbjpuZXcgQ2woZSksdV91cF9kaXI6bmV3IERsKGUpLHVfZW1pc3NpdmVfc3RyZW5ndGg6bmV3IENsKGUpfSksY29sbGlzaW9uQm94OmU9Pih7dV9tYXRyaXg6bmV3IGtsKGUpLHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpuZXcgQ2woZSksdV9leHRydWRlX3NjYWxlOm5ldyB6bChlKX0pLGNvbGxpc2lvbkNpcmNsZTplPT4oe3VfbWF0cml4Om5ldyBrbChlKSx1X2ludl9tYXRyaXg6bmV3IGtsKGUpLHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpuZXcgQ2woZSksdV92aWV3cG9ydF9zaXplOm5ldyB6bChlKX0pLGRlYnVnOmU9Pih7dV9jb2xvcjpuZXcgUmwoZSksdV9tYXRyaXg6bmV3IGtsKGUpLHVfb3ZlcmxheTpuZXcgSWwoZSksdV9vdmVybGF5X3NjYWxlOm5ldyBDbChlKX0pLGNsaXBwaW5nTWFzazplPT4oe3VfbWF0cml4Om5ldyBrbChlKX0pLGhlYXRtYXA6ZT0+KHt1X2V4dHJ1ZGVfc2NhbGU6bmV3IENsKGUpLHVfaW50ZW5zaXR5Om5ldyBDbChlKSx1X21hdHJpeDpuZXcga2woZSksdV9pbnZfcm90X21hdHJpeDpuZXcga2woZSksdV9tZXJjX2NlbnRlcjpuZXcgemwoZSksdV90aWxlX2lkOm5ldyBEbChlKSx1X3pvb21fdHJhbnNpdGlvbjpuZXcgQ2woZSksdV91cF9kaXI6bmV3IERsKGUpfSksaGVhdG1hcFRleHR1cmU6ZT0+KHt1X2ltYWdlOm5ldyBJbChlKSx1X2NvbG9yX3JhbXA6bmV3IElsKGUpLHVfb3BhY2l0eTpuZXcgQ2woZSl9KSxoaWxsc2hhZGU6ZT0+KHt1X21hdHJpeDpuZXcga2woZSksdV9pbWFnZTpuZXcgSWwoZSksdV9sYXRyYW5nZTpuZXcgemwoZSksdV9saWdodDpuZXcgemwoZSksdV9zaGFkb3c6bmV3IFJsKGUpLHVfaGlnaGxpZ2h0Om5ldyBSbChlKSx1X2VtaXNzaXZlX3N0cmVuZ3RoOm5ldyBDbChlKSx1X2FjY2VudDpuZXcgUmwoZSl9KSxoaWxsc2hhZGVQcmVwYXJlOmU9Pih7dV9tYXRyaXg6bmV3IGtsKGUpLHVfaW1hZ2U6bmV3IElsKGUpLHVfZGltZW5zaW9uOm5ldyB6bChlKSx1X3pvb206bmV3IENsKGUpLHVfdW5wYWNrOm5ldyBQbChlKX0pLGxpbmU6ZT0+KHt1X21hdHJpeDpuZXcga2woZSksdV9waXhlbHNfdG9fdGlsZV91bml0czpuZXcgTmwoZSksdV9kZXZpY2VfcGl4ZWxfcmF0aW86bmV3IENsKGUpLHVfdW5pdHNfdG9fcGl4ZWxzOm5ldyB6bChlKSx1X2Rhc2hfaW1hZ2U6bmV3IElsKGUpLHVfZ3JhZGllbnRfaW1hZ2U6bmV3IElsKGUpLHVfaW1hZ2VfaGVpZ2h0Om5ldyBDbChlKSx1X3RleHNpemU6bmV3IHpsKGUpLHVfdGlsZV91bml0c190b19waXhlbHM6bmV3IENsKGUpLHVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQ6bmV3IENsKGUpLHVfdHJpbV9vZmZzZXQ6bmV3IHpsKGUpLHVfZW1pc3NpdmVfc3RyZW5ndGg6bmV3IENsKGUpfSksbGluZVBhdHRlcm46ZT0+KHt1X21hdHJpeDpuZXcga2woZSksdV90ZXhzaXplOm5ldyB6bChlKSx1X3BpeGVsc190b190aWxlX3VuaXRzOm5ldyBObChlKSx1X2RldmljZV9waXhlbF9yYXRpbzpuZXcgQ2woZSksdV9pbWFnZTpuZXcgSWwoZSksdV91bml0c190b19waXhlbHM6bmV3IHpsKGUpLHVfdGlsZV91bml0c190b19waXhlbHM6bmV3IENsKGUpLHVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQ6bmV3IENsKGUpfSkscmFzdGVyOmU9Pih7dV9tYXRyaXg6bmV3IGtsKGUpLHVfbm9ybWFsaXplX21hdHJpeDpuZXcga2woZSksdV9nbG9iZV9tYXRyaXg6bmV3IGtsKGUpLHVfdGxfcGFyZW50Om5ldyB6bChlKSx1X3NjYWxlX3BhcmVudDpuZXcgQ2woZSksdV9mYWRlX3Q6bmV3IENsKGUpLHVfb3BhY2l0eTpuZXcgQ2woZSksdV9pbWFnZTA6bmV3IElsKGUpLHVfaW1hZ2UxOm5ldyBJbChlKSx1X2JyaWdodG5lc3NfbG93Om5ldyBDbChlKSx1X2JyaWdodG5lc3NfaGlnaDpuZXcgQ2woZSksdV9zYXR1cmF0aW9uX2ZhY3RvcjpuZXcgQ2woZSksdV9jb250cmFzdF9mYWN0b3I6bmV3IENsKGUpLHVfc3Bpbl93ZWlnaHRzOm5ldyBEbChlKSx1X3BlcnNwZWN0aXZlX3RyYW5zZm9ybTpuZXcgemwoZSksdV9jb2xvcml6YXRpb25fbWl4Om5ldyBQbChlKSx1X2NvbG9yaXphdGlvbl9zY2FsZTpuZXcgemwoZSksdV9jb2xvcl9yYW1wOm5ldyBJbChlKX0pLHN5bWJvbEljb246ZT0+KHt1X2lzX3NpemVfem9vbV9jb25zdGFudDpuZXcgSWwoZSksdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ6bmV3IElsKGUpLHVfc2l6ZV90Om5ldyBDbChlKSx1X3NpemU6bmV3IENsKGUpLHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpuZXcgQ2woZSksdV9yb3RhdGVfc3ltYm9sOm5ldyBJbChlKSx1X2FzcGVjdF9yYXRpbzpuZXcgQ2woZSksdV9mYWRlX2NoYW5nZTpuZXcgQ2woZSksdV9tYXRyaXg6bmV3IGtsKGUpLHVfbGFiZWxfcGxhbmVfbWF0cml4Om5ldyBrbChlKSx1X2Nvb3JkX21hdHJpeDpuZXcga2woZSksdV9pc190ZXh0Om5ldyBJbChlKSx1X3BpdGNoX3dpdGhfbWFwOm5ldyBJbChlKSx1X3RleHNpemU6bmV3IHpsKGUpLHVfdGlsZV9pZDpuZXcgRGwoZSksdV96b29tX3RyYW5zaXRpb246bmV3IENsKGUpLHVfaW52X3JvdF9tYXRyaXg6bmV3IGtsKGUpLHVfbWVyY19jZW50ZXI6bmV3IHpsKGUpLHVfY2FtZXJhX2ZvcndhcmQ6bmV3IERsKGUpLHVfdGlsZV9tYXRyaXg6bmV3IGtsKGUpLHVfdXBfdmVjdG9yOm5ldyBEbChlKSx1X2VjZWZfb3JpZ2luOm5ldyBEbChlKSx1X3RleHR1cmU6bmV3IElsKGUpLHVfaWNvbl90cmFuc2l0aW9uOm5ldyBDbChlKX0pLHN5bWJvbFNERjplPT4oe3VfaXNfc2l6ZV96b29tX2NvbnN0YW50Om5ldyBJbChlKSx1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDpuZXcgSWwoZSksdV9zaXplX3Q6bmV3IENsKGUpLHVfc2l6ZTpuZXcgQ2woZSksdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOm5ldyBDbChlKSx1X3JvdGF0ZV9zeW1ib2w6bmV3IElsKGUpLHVfYXNwZWN0X3JhdGlvOm5ldyBDbChlKSx1X2ZhZGVfY2hhbmdlOm5ldyBDbChlKSx1X21hdHJpeDpuZXcga2woZSksdV9sYWJlbF9wbGFuZV9tYXRyaXg6bmV3IGtsKGUpLHVfY29vcmRfbWF0cml4Om5ldyBrbChlKSx1X2lzX3RleHQ6bmV3IElsKGUpLHVfcGl0Y2hfd2l0aF9tYXA6bmV3IElsKGUpLHVfdGV4c2l6ZTpuZXcgemwoZSksdV90ZXh0dXJlOm5ldyBJbChlKSx1X2dhbW1hX3NjYWxlOm5ldyBDbChlKSx1X2RldmljZV9waXhlbF9yYXRpbzpuZXcgQ2woZSksdV90aWxlX2lkOm5ldyBEbChlKSx1X3pvb21fdHJhbnNpdGlvbjpuZXcgQ2woZSksdV9pbnZfcm90X21hdHJpeDpuZXcga2woZSksdV9tZXJjX2NlbnRlcjpuZXcgemwoZSksdV9jYW1lcmFfZm9yd2FyZDpuZXcgRGwoZSksdV90aWxlX21hdHJpeDpuZXcga2woZSksdV91cF92ZWN0b3I6bmV3IERsKGUpLHVfZWNlZl9vcmlnaW46bmV3IERsKGUpLHVfaXNfaGFsbzpuZXcgSWwoZSl9KSxzeW1ib2xUZXh0QW5kSWNvbjplPT4oe3VfaXNfc2l6ZV96b29tX2NvbnN0YW50Om5ldyBJbChlKSx1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDpuZXcgSWwoZSksdV9zaXplX3Q6bmV3IENsKGUpLHVfc2l6ZTpuZXcgQ2woZSksdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOm5ldyBDbChlKSx1X3JvdGF0ZV9zeW1ib2w6bmV3IElsKGUpLHVfYXNwZWN0X3JhdGlvOm5ldyBDbChlKSx1X2ZhZGVfY2hhbmdlOm5ldyBDbChlKSx1X21hdHJpeDpuZXcga2woZSksdV9sYWJlbF9wbGFuZV9tYXRyaXg6bmV3IGtsKGUpLHVfY29vcmRfbWF0cml4Om5ldyBrbChlKSx1X2lzX3RleHQ6bmV3IElsKGUpLHVfcGl0Y2hfd2l0aF9tYXA6bmV3IElsKGUpLHVfdGV4c2l6ZTpuZXcgemwoZSksdV90ZXhzaXplX2ljb246bmV3IHpsKGUpLHVfdGV4dHVyZTpuZXcgSWwoZSksdV90ZXh0dXJlX2ljb246bmV3IElsKGUpLHVfZ2FtbWFfc2NhbGU6bmV3IENsKGUpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyBDbChlKSx1X2lzX2hhbG86bmV3IElsKGUpfSksYmFja2dyb3VuZDplPT4oe3VfbWF0cml4Om5ldyBrbChlKSx1X2VtaXNzaXZlX3N0cmVuZ3RoOm5ldyBDbChlKSx1X29wYWNpdHk6bmV3IENsKGUpLHVfY29sb3I6bmV3IFJsKGUpfSksYmFja2dyb3VuZFBhdHRlcm46ZT0+KHt1X21hdHJpeDpuZXcga2woZSksdV9lbWlzc2l2ZV9zdHJlbmd0aDpuZXcgQ2woZSksdV9vcGFjaXR5Om5ldyBDbChlKSx1X2ltYWdlOm5ldyBJbChlKSx1X3BhdHRlcm5fdGw6bmV3IHpsKGUpLHVfcGF0dGVybl9icjpuZXcgemwoZSksdV90ZXhzaXplOm5ldyB6bChlKSx1X3BhdHRlcm5fc2l6ZTpuZXcgemwoZSksdV9waXhlbF9jb29yZF91cHBlcjpuZXcgemwoZSksdV9waXhlbF9jb29yZF9sb3dlcjpuZXcgemwoZSksdV90aWxlX3VuaXRzX3RvX3BpeGVsczpuZXcgQ2woZSl9KSx0ZXJyYWluUmFzdGVyOkdFLHRlcnJhaW5EZXB0aDpHRSxza3lib3g6ZT0+KHt1X21hdHJpeDpuZXcga2woZSksdV9zdW5fZGlyZWN0aW9uOm5ldyBEbChlKSx1X2N1YmVtYXA6bmV3IElsKGUpLHVfb3BhY2l0eTpuZXcgQ2woZSksdV90ZW1wb3JhbF9vZmZzZXQ6bmV3IENsKGUpfSksc2t5Ym94R3JhZGllbnQ6ZT0+KHt1X21hdHJpeDpuZXcga2woZSksdV9jb2xvcl9yYW1wOm5ldyBJbChlKSx1X2NlbnRlcl9kaXJlY3Rpb246bmV3IERsKGUpLHVfcmFkaXVzOm5ldyBDbChlKSx1X29wYWNpdHk6bmV3IENsKGUpLHVfdGVtcG9yYWxfb2Zmc2V0Om5ldyBDbChlKX0pLHNreWJveENhcHR1cmU6ZT0+KHt1X21hdHJpeF8zZjpuZXcgQmwoZSksdV9zdW5fZGlyZWN0aW9uOm5ldyBEbChlKSx1X3N1bl9pbnRlbnNpdHk6bmV3IENsKGUpLHVfY29sb3JfdGludF9yOm5ldyBQbChlKSx1X2NvbG9yX3RpbnRfbTpuZXcgUGwoZSksdV9sdW1pbmFuY2U6bmV3IENsKGUpfSksZ2xvYmVSYXN0ZXI6ZT0+KHt1X3Byb2pfbWF0cml4Om5ldyBrbChlKSx1X2dsb2JlX21hdHJpeDpuZXcga2woZSksdV9ub3JtYWxpemVfbWF0cml4Om5ldyBrbChlKSx1X21lcmNfbWF0cml4Om5ldyBrbChlKSx1X3pvb21fdHJhbnNpdGlvbjpuZXcgQ2woZSksdV9tZXJjX2NlbnRlcjpuZXcgemwoZSksdV9pbWFnZTA6bmV3IElsKGUpLHVfZ3JpZF9tYXRyaXg6bmV3IEJsKGUpLHVfc2tpcnRfaGVpZ2h0Om5ldyBDbChlKSx1X2ZydXN0dW1fdGw6bmV3IERsKGUpLHVfZnJ1c3R1bV90cjpuZXcgRGwoZSksdV9mcnVzdHVtX2JyOm5ldyBEbChlKSx1X2ZydXN0dW1fYmw6bmV3IERsKGUpLHVfZ2xvYmVfcG9zOm5ldyBEbChlKSx1X2dsb2JlX3JhZGl1czpuZXcgQ2woZSksdV92aWV3cG9ydDpuZXcgemwoZSl9KSxnbG9iZUF0bW9zcGhlcmU6ZT0+KHt1X2ZydXN0dW1fdGw6bmV3IERsKGUpLHVfZnJ1c3R1bV90cjpuZXcgRGwoZSksdV9mcnVzdHVtX2JyOm5ldyBEbChlKSx1X2ZydXN0dW1fYmw6bmV3IERsKGUpLHVfaG9yaXpvbjpuZXcgQ2woZSksdV90cmFuc2l0aW9uOm5ldyBDbChlKSx1X2ZhZGVvdXRfcmFuZ2U6bmV3IENsKGUpLHVfY29sb3I6bmV3IFBsKGUpLHVfaGlnaF9jb2xvcjpuZXcgUGwoZSksdV9zcGFjZV9jb2xvcjpuZXcgUGwoZSksdV90ZW1wb3JhbF9vZmZzZXQ6bmV3IENsKGUpLHVfaG9yaXpvbl9hbmdsZTpuZXcgQ2woZSl9KSxtb2RlbDplPT4oe3VfbWF0cml4Om5ldyBrbChlKSx1X2xpZ2h0aW5nX21hdHJpeDpuZXcga2woZSksdV9ub3JtYWxfbWF0cml4Om5ldyBrbChlKSx1X2xpZ2h0cG9zOm5ldyBEbChlKSx1X2xpZ2h0aW50ZW5zaXR5Om5ldyBDbChlKSx1X2xpZ2h0Y29sb3I6bmV3IERsKGUpLHVfY2FtZXJhX3BvczpuZXcgRGwoZSksdV9vcGFjaXR5Om5ldyBDbChlKSx1X2Jhc2VDb2xvckZhY3RvcjpuZXcgUGwoZSksdV9lbWlzc2l2ZUZhY3RvcjpuZXcgUGwoZSksdV9tZXRhbGxpY0ZhY3RvcjpuZXcgQ2woZSksdV9yb3VnaG5lc3NGYWN0b3I6bmV3IENsKGUpLHVfYmFzZVRleHR1cmVJc0FscGhhOm5ldyBJbChlKSx1X2FscGhhTWFzazpuZXcgSWwoZSksdV9hbHBoYUN1dG9mZjpuZXcgQ2woZSksdV9iYXNlQ29sb3JUZXh0dXJlOm5ldyBJbChlKSx1X21ldGFsbGljUm91Z2huZXNzVGV4dHVyZTpuZXcgSWwoZSksdV9ub3JtYWxUZXh0dXJlOm5ldyBJbChlKSx1X29jY2x1c2lvblRleHR1cmU6bmV3IElsKGUpLHVfZW1pc3Npb25UZXh0dXJlOm5ldyBJbChlKSx1X2NvbG9yX21peDpuZXcgUGwoZSksdV9hb0ludGVuc2l0eTpuZXcgQ2woZSl9KSxtb2RlbERlcHRoOmU9Pih7dV9tYXRyaXg6bmV3IGtsKGUpLHVfaW5zdGFuY2U6bmV3IGtsKGUpLHVfbm9kZV9tYXRyaXg6bmV3IGtsKGUpfSksZ3JvdW5kU2hhZG93OmU9Pih7dV9tYXRyaXg6bmV3IGtsKGUpLHVfZ3JvdW5kX3NoYWRvd19mYWN0b3I6bmV3IERsKGUpfSksc3RhcnM6ZT0+KHt1X21hdHJpeDpuZXcga2woZSksdV91cDpuZXcgRGwoZSksdV9yaWdodDpuZXcgRGwoZSksdV9pbnRlbnNpdHlfbXVsdGlwbGllcjpuZXcgQ2woZSl9KX07bGV0IGtNO2Z1bmN0aW9uIE9NKGUsdCxpLHIsbixvLHMpe2NvbnN0IGE9ZS5jb250ZXh0LGw9YS5nbCxjPWUudHJhbnNmb3JtLGg9ZS5nZXRPckNyZWF0ZVByb2dyYW0oXCJjb2xsaXNpb25Cb3hcIiksdT1bXTtsZXQgZD0wLHA9MDtmb3IobGV0IGE9MDthPHIubGVuZ3RoO2ErKyl7Y29uc3QgZj1yW2FdLG09dC5nZXRUaWxlKGYpLF89bS5nZXRCdWNrZXQoaSk7aWYoIV8pY29udGludWU7Y29uc3QgZz1qVChmLF8sYyk7bGV0IHk9ZzswPT09blswXSYmMD09PW5bMV18fCh5PWUudHJhbnNsYXRlUG9zTWF0cml4KGcsbSxuLG8pKTtjb25zdCB4PXM/Xy50ZXh0Q29sbGlzaW9uQm94Ol8uaWNvbkNvbGxpc2lvbkJveCx2PV8uY29sbGlzaW9uQ2lyY2xlQXJyYXk7aWYodi5sZW5ndGg+MCl7Y29uc3QgZT14dS5jcmVhdGUoKSx0PXk7eHUubXVsKGUsXy5wbGFjZW1lbnRJbnZQcm9qTWF0cml4LGMuZ2xDb29yZE1hdHJpeCkseHUubXVsKGUsZSxfLnBsYWNlbWVudFZpZXdwb3J0TWF0cml4KSx1LnB1c2goe2NpcmNsZUFycmF5OnYsY2lyY2xlT2Zmc2V0OnAsdHJhbnNmb3JtOnQsaW52VHJhbnNmb3JtOmUscHJvamVjdGlvbjpfLmdldFByb2plY3Rpb24oKX0pLGQrPXYubGVuZ3RoLzQscD1kO314JiYoZS50ZXJyYWluJiZlLnRlcnJhaW4uc2V0dXBFbGV2YXRpb25EcmF3KG0saCksaC5kcmF3KGUsbC5MSU5FUyxneC5kaXNhYmxlZCx4eC5kaXNhYmxlZCxlLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxFeC5kaXNhYmxlZCxnTSh5LGMsbSxfLmdldFByb2plY3Rpb24oKSksaS5pZCx4LmxheW91dFZlcnRleEJ1ZmZlcix4LmluZGV4QnVmZmVyLHguc2VnbWVudHMsbnVsbCxjLnpvb20sbnVsbCxbeC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIseC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHRdKSk7fWlmKCFzfHwhdS5sZW5ndGgpcmV0dXJuO2NvbnN0IGY9ZS5nZXRPckNyZWF0ZVByb2dyYW0oXCJjb2xsaXNpb25DaXJjbGVcIiksbT1uZXcgRmE7bS5yZXNpemUoNCpkKSxtLl90cmltKCk7bGV0IF89MDtmb3IoY29uc3QgZSBvZiB1KWZvcihsZXQgdD0wO3Q8ZS5jaXJjbGVBcnJheS5sZW5ndGgvNDt0Kyspe2NvbnN0IGk9NCp0LHI9ZS5jaXJjbGVBcnJheVtpKzBdLG49ZS5jaXJjbGVBcnJheVtpKzFdLG89ZS5jaXJjbGVBcnJheVtpKzJdLHM9ZS5jaXJjbGVBcnJheVtpKzNdO20uZW1wbGFjZShfKysscixuLG8scywwKSxtLmVtcGxhY2UoXysrLHIsbixvLHMsMSksbS5lbXBsYWNlKF8rKyxyLG4sbyxzLDIpLG0uZW1wbGFjZShfKysscixuLG8scywzKTt9KCFrTXx8a00ubGVuZ3RoPDIqZCkmJihrTT1mdW5jdGlvbihlKXtjb25zdCB0PTIqZSxpPW5ldyBWYTtpLnJlc2l6ZSh0KSxpLl90cmltKCk7Zm9yKGxldCBlPTA7ZTx0O2UrKyl7Y29uc3QgdD02KmU7aS51aW50MTZbdCswXT00KmUrMCxpLnVpbnQxNlt0KzFdPTQqZSsxLGkudWludDE2W3QrMl09NCplKzIsaS51aW50MTZbdCszXT00KmUrMixpLnVpbnQxNlt0KzRdPTQqZSszLGkudWludDE2W3QrNV09NCplKzA7fXJldHVybiBpfShkKSk7Y29uc3QgZz1hLmNyZWF0ZUluZGV4QnVmZmVyKGtNLCEwKSx5PWEuY3JlYXRlVmVydGV4QnVmZmVyKG0saV8ubWVtYmVycywhMCk7Zm9yKGNvbnN0IHQgb2YgdSl7Y29uc3Qgcj17dV9tYXRyaXg6dC50cmFuc2Zvcm0sdV9pbnZfbWF0cml4OnQuaW52VHJhbnNmb3JtLHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTooeD1jKS5nZXRDYW1lcmFUb0NlbnRlckRpc3RhbmNlKHQucHJvamVjdGlvbiksdV92aWV3cG9ydF9zaXplOlt4LndpZHRoLHguaGVpZ2h0XX07Zi5kcmF3KGUsbC5UUklBTkdMRVMsZ3guZGlzYWJsZWQseHguZGlzYWJsZWQsZS5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksRXguZGlzYWJsZWQscixpLmlkLHksZyxkbC5zaW1wbGVTZWdtZW50KDAsMip0LmNpcmNsZU9mZnNldCx0LmNpcmNsZUFycmF5Lmxlbmd0aCx0LmNpcmNsZUFycmF5Lmxlbmd0aC8yKSxudWxsLGMuem9vbSk7fXZhciB4O3kuZGVzdHJveSgpLGcuZGVzdHJveSgpO31jb25zdCBCTT14dS5jcmVhdGUoKTtmdW5jdGlvbiBGTSh7d2lkdGg6ZSxoZWlnaHQ6dCxhbmNob3I6aSx0ZXh0T2Zmc2V0OnIsdGV4dFNjYWxlOm59LG8pe2NvbnN0e2hvcml6b250YWxBbGlnbjpzLHZlcnRpY2FsQWxpZ246YX09TF8oaSksbD0tKHMtLjUpKmUsYz0tKGEtLjUpKnQsaD11ZyhpLHIpO3JldHVybiBuZXcgeSgobC9uK2hbMF0pKm8sKGMvbitoWzFdKSpvKX1mdW5jdGlvbiBOTShlLHQsaSxyLG4sbyxzLGEsbCxjLGgpe2NvbnN0IHU9ZS50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LGQ9ZS50ZXh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSxwPWUuaWNvbi5keW5hbWljTGF5b3V0VmVydGV4QXJyYXksZj17fSxtPWUuZ2V0UHJvamVjdGlvbigpLF89R1QoYSxtLG8pLGc9by5lbGV2YXRpb24seT1tLnVwVmVjdG9yU2NhbGUoYS5jYW5vbmljYWwsby5jZW50ZXIubGF0LG8ud29ybGRTaXplKS5tZXRlcnNUb1RpbGU7ZC5jbGVhcigpO2ZvcihsZXQgcD0wO3A8dS5sZW5ndGg7cCsrKXtjb25zdCB4PXUuZ2V0KHApLHt0aWxlQW5jaG9yWDp2LHRpbGVBbmNob3JZOmIsbnVtR2x5cGhzOnd9PXgsVD14LmhpZGRlbnx8IXguY3Jvc3NUaWxlSUR8fGUuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmIXgucGxhY2VkT3JpZW50YXRpb24/bnVsbDpyW3guY3Jvc3NUaWxlSURdO2lmKFQpe2xldCByPTAsdT0wLHA9MDtpZihnKXtjb25zdCBlPWc/Zy5nZXRBdFRpbGVPZmZzZXQoYSx2LGIpOjAsW3QsaSxuXT1tLnVwVmVjdG9yKGEuY2Fub25pY2FsLHYsYik7cj1lKnQqeSx1PWUqaSp5LHA9ZSpuKnk7fWxldFtFLE0sQSxTXT10dih4LnByb2plY3RlZEFuY2hvclgrcix4LnByb2plY3RlZEFuY2hvclkrdSx4LnByb2plY3RlZEFuY2hvclorcCxpP186cyk7Y29uc3QgST1pdihvLmdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UobSksUyk7bGV0IEM9bi5ldmFsdWF0ZVNpemVGb3JGZWF0dXJlKGUudGV4dFNpemVEYXRhLGMseCkqSS9yXztpJiYoQyo9ZS50aWxlUGl4ZWxSYXRpby9sKTtjb25zdCB6PUZNKFQsQyk7aT8oKHt4OkUseTpNLHo6QX09bS5wcm9qZWN0VGlsZVBvaW50KHYrei54LGIrei55LGEuY2Fub25pY2FsKSksW0UsTSxBXT10dihFK3IsTSt1LEErcCxzKSk6KHQmJnouX3JvdGF0ZSgtby5hbmdsZSksRSs9ei54LE0rPXoueSxBPTApO2NvbnN0IEQ9ZS5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZ4LnBsYWNlZE9yaWVudGF0aW9uPT09d18udmVydGljYWw/TWF0aC5QSS8yOjA7Zm9yKGxldCBlPTA7ZTx3O2UrKylueShkLEUsTSxBLEQpO2gmJnguYXNzb2NpYXRlZEljb25JbmRleD49MCYmKGZbeC5hc3NvY2lhdGVkSWNvbkluZGV4XT17eDpFLHk6TSx6OkEsYW5nbGU6RH0pO31lbHNlIHV2KHcsZCk7fWlmKGgpe3AuY2xlYXIoKTtjb25zdCB0PWUuaWNvbi5wbGFjZWRTeW1ib2xBcnJheTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl7Y29uc3QgaT10LmdldChlKSx7bnVtR2x5cGhzOnJ9PWksbj1mW2VdO2lmKGkuaGlkZGVufHwhbil1dihyLHApO2Vsc2Uge2NvbnN0e3g6ZSx5OnQsejppLGFuZ2xlOm99PW47Zm9yKGxldCBuPTA7bjxyO24rKylueShwLGUsdCxpLG8pO319ZS5pY29uLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShwKTt9ZS50ZXh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShkKTt9ZnVuY3Rpb24gVU0oZSx0LGkpe3JldHVybiBpLmljb25zSW5UZXh0JiZ0P1wic3ltYm9sVGV4dEFuZEljb25cIjplP1wic3ltYm9sU0RGXCI6XCJzeW1ib2xJY29uXCJ9ZnVuY3Rpb24gVk0oZSx0LGkscixuLG8scyxhLGwsYyxoLHUpe2NvbnN0IGQ9ZS5jb250ZXh0LHA9ZC5nbCxmPWUudHJhbnNmb3JtLG09XCJtYXBcIj09PWEsXz1cIm1hcFwiPT09bCxnPW0mJlwicG9pbnRcIiE9PWkubGF5b3V0LmdldChcInN5bWJvbC1wbGFjZW1lbnRcIikseT1tJiYhXyYmIWcseD12b2lkIDAhPT1pLmxheW91dC5nZXQoXCJzeW1ib2wtc29ydC1rZXlcIikuY29uc3RhbnRPcigxKTtsZXQgdj0hMTtjb25zdCBiPWUuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxneC5SZWFkT25seSksdz1bR2QoZi5jZW50ZXIubG5nKSxxZChmLmNlbnRlci5sYXQpXSxUPWkubGF5b3V0LmdldChcInRleHQtdmFyaWFibGUtYW5jaG9yXCIpLEU9XCJnbG9iZVwiPT09Zi5wcm9qZWN0aW9uLm5hbWUsTT1bXSxBPVswLC0xLDBdO2xldCBTPUE7IUUmJiFmLm1lcmNhdG9yRnJvbVRyYW5zaXRpb258fG18fChTPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5fY2FtZXJhLmdldFdvcmxkVG9DYW1lcmEoZS53b3JsZFNpemUsMSksaT14dS5tdWx0aXBseShbXSx0LGUuZ2xvYmVNYXRyaXgpO3h1LmludmVydChpLGkpO2NvbnN0IHI9WzAsMCwwXSxuPVswLDEsMCwwXTtyZXR1cm4gdXUudHJhbnNmb3JtTWF0NChuLG4saSksclswXT1uWzBdLHJbMV09blsxXSxyWzJdPW5bMl0sTXUubm9ybWFsaXplKHIscikscn0oZikpO2Zvcihjb25zdCBhIG9mIHIpe2NvbnN0IHI9dC5nZXRUaWxlKGEpLGw9ci5nZXRCdWNrZXQoaSk7aWYoIWwpY29udGludWU7aWYoXCJtZXJjYXRvclwiPT09bC5wcm9qZWN0aW9uLm5hbWUmJkUpY29udGludWU7Y29uc3QgaD1uP2wudGV4dDpsLmljb247aWYoIWh8fGwuZnVsbHlDbGlwcGVkfHwhaC5zZWdtZW50cy5nZXQoKS5sZW5ndGgpY29udGludWU7Y29uc3QgdT1oLnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQoaS5pZCksZD1ufHxsLnNkZkljb25zLGI9bj9sLnRleHRTaXplRGF0YTpsLmljb25TaXplRGF0YSxJPV98fDAhPT1mLnBpdGNoLEM9YV8oYixmLnpvb20pO2xldCB6LEQsUCxSLEw9WzAsMF0saz1udWxsO2lmKG4pRD1yLmdseXBoQXRsYXNUZXh0dXJlLFA9cC5MSU5FQVIsej1yLmdseXBoQXRsYXNUZXh0dXJlLnNpemUsbC5pY29uc0luVGV4dCYmKEw9ci5pbWFnZUF0bGFzVGV4dHVyZS5zaXplLGs9ci5pbWFnZUF0bGFzVGV4dHVyZSxSPUl8fGUub3B0aW9ucy5yb3RhdGluZ3x8ZS5vcHRpb25zLnpvb21pbmd8fFwiY29tcG9zaXRlXCI9PT1iLmtpbmR8fFwiY2FtZXJhXCI9PT1iLmtpbmQ/cC5MSU5FQVI6cC5ORUFSRVNUKTtlbHNlIHtjb25zdCB0PTEhPT1pLmxheW91dC5nZXQoXCJpY29uLXNpemVcIikuY29uc3RhbnRPcigwKXx8bC5pY29uc05lZWRMaW5lYXI7RD1yLmltYWdlQXRsYXNUZXh0dXJlLFA9ZHx8ZS5vcHRpb25zLnJvdGF0aW5nfHxlLm9wdGlvbnMuem9vbWluZ3x8dHx8ST9wLkxJTkVBUjpwLk5FQVJFU1Qsej1yLmltYWdlQXRsYXNUZXh0dXJlLnNpemU7fWNvbnN0IE89XCJnbG9iZVwiPT09bC5wcm9qZWN0aW9uLm5hbWUsQj1PP1M6QSxGPU8/RWQoZi56b29tKTowLE49R1QoYSxsLmdldFByb2plY3Rpb24oKSxmKSxVPWYuY2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgociksVj1KeChOLHIudGlsZUlELmNhbm9uaWNhbCxfLG0sZixsLmdldFByb2plY3Rpb24oKSxVKSxqPWUudGVycmFpbiYmXyYmZz94dS5pbnZlcnQoeHUuY3JlYXRlKCksVik6Qk0sRz1ldihOLHIudGlsZUlELmNhbm9uaWNhbCxfLG0sZixsLmdldFByb2plY3Rpb24oKSxVKSxxPVQmJmwuaGFzVGV4dERhdGEoKSxaPWwuaGFzSWNvblRleHRGaXQoKSYmcSYmbC5oYXNJY29uRGF0YSgpO2lmKGcpe2NvbnN0IHQ9Zi5lbGV2YXRpb24saT10P3QuZ2V0QXRUaWxlT2Zmc2V0RnVuYyhhLGYuY2VudGVyLmxhdCxmLndvcmxkU2l6ZSxsLmdldFByb2plY3Rpb24oKSk6bnVsbCxvPVF4KE4sci50aWxlSUQuY2Fub25pY2FsLF8sbSxmLGwuZ2V0UHJvamVjdGlvbigpLFUpO252KGwsTixlLG4sbyxHLF8sYyxpLGEpO31jb25zdCAkPWd8fG4mJlR8fFosSD1lLnRyYW5zbGF0ZVBvc01hdHJpeChOLHIsbyxzKSxXPSQ/Qk06VixYPWUudHJhbnNsYXRlUG9zTWF0cml4KEcscixvLHMsITApLFk9bC5nZXRQcm9qZWN0aW9uKCkuY3JlYXRlSW52ZXJzaW9uTWF0cml4KGYsYS5jYW5vbmljYWwpLEs9aS5wYWludC5nZXQoXCJpY29uLWltYWdlLWNyb3NzLWZhZGVcIikuY29uc3RhbnRPcigwKSxKPVtdO2UudGVycmFpblJlbmRlck1vZGVFbGV2YXRlZCgpJiZfJiZKLnB1c2goXCJQSVRDSF9XSVRIX01BUF9URVJSQUlOXCIpLE8mJihKLnB1c2goXCJQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcIiksJCYmSi5wdXNoKFwiUFJPSkVDVEVEX1BPU19PTl9WSUVXUE9SVFwiKSksSz4wJiZKLnB1c2goXCJJQ09OX1RSQU5TSVRJT05cIiksaC56T2Zmc2V0VmVydGV4QnVmZmVyJiZKLnB1c2goXCJaX09GRlNFVFwiKTtjb25zdCBRPWQmJjAhPT1pLnBhaW50LmdldChuP1widGV4dC1oYWxvLXdpZHRoXCI6XCJpY29uLWhhbG8td2lkdGhcIikuY29uc3RhbnRPcigxKTtsZXQgZWU7ZWU9ZD9sLmljb25zSW5UZXh0P1NNKGIua2luZCxDLHksXyxlLEgsVyxYLHosTCxhLEYsdyxZLEIsbC5nZXRQcm9qZWN0aW9uKCkpOkFNKGIua2luZCxDLHksXyxlLEgsVyxYLG4seiwhMCxhLEYsdyxZLEIsbC5nZXRQcm9qZWN0aW9uKCkpOk1NKGIua2luZCxDLHksXyxlLEgsVyxYLG4seixhLEYsdyxZLEIsbC5nZXRQcm9qZWN0aW9uKCksSyk7Y29uc3QgdGU9e3Byb2dyYW06ZS5nZXRPckNyZWF0ZVByb2dyYW0oVU0oZCxuLGwpLHtjb25maWc6dSxkZWZpbmVzOkp9KSxidWZmZXJzOmgsdW5pZm9ybVZhbHVlczplZSxhdGxhc1RleHR1cmU6RCxhdGxhc1RleHR1cmVJY29uOmssYXRsYXNJbnRlcnBvbGF0aW9uOlAsYXRsYXNJbnRlcnBvbGF0aW9uSWNvbjpSLGlzU0RGOmQsaGFzSGFsbzpRLHRpbGU6cixsYWJlbFBsYW5lTWF0cml4SW52Omp9O2lmKHgmJmwuY2FuT3ZlcmxhcCl7dj0hMDtjb25zdCBlPWguc2VnbWVudHMuZ2V0KCk7Zm9yKGNvbnN0IHQgb2YgZSlNLnB1c2goe3NlZ21lbnRzOm5ldyBkbChbdF0pLHNvcnRLZXk6dC5zb3J0S2V5LHN0YXRlOnRlfSk7fWVsc2UgTS5wdXNoKHtzZWdtZW50czpoLnNlZ21lbnRzLHNvcnRLZXk6MCxzdGF0ZTp0ZX0pO312JiZNLnNvcnQoKChlLHQpPT5lLnNvcnRLZXktdC5zb3J0S2V5KSk7Zm9yKGNvbnN0IHQgb2YgTSl7Y29uc3Qgcj10LnN0YXRlO2lmKGUudGVycmFpbiYmZS50ZXJyYWluLnNldHVwRWxldmF0aW9uRHJhdyhyLnRpbGUsci5wcm9ncmFtLHt1c2VEZXB0aEZvck9jY2x1c2lvbjpmLmRlcHRoT2NjbHVzaW9uRm9yU3ltYm9sc0FuZENpcmNsZXMsbGFiZWxQbGFuZU1hdHJpeEludjpyLmxhYmVsUGxhbmVNYXRyaXhJbnZ9KSxkLmFjdGl2ZVRleHR1cmUuc2V0KHAuVEVYVFVSRTApLHIuYXRsYXNUZXh0dXJlLmJpbmQoci5hdGxhc0ludGVycG9sYXRpb24scC5DTEFNUF9UT19FREdFKSxyLmF0bGFzVGV4dHVyZUljb24mJihkLmFjdGl2ZVRleHR1cmUuc2V0KHAuVEVYVFVSRTEpLHIuYXRsYXNUZXh0dXJlSWNvbiYmci5hdGxhc1RleHR1cmVJY29uLmJpbmQoci5hdGxhc0ludGVycG9sYXRpb25JY29uLHAuQ0xBTVBfVE9fRURHRSkpLGUudXBsb2FkQ29tbW9uTGlnaHRVbmlmb3JtcyhlLmNvbnRleHQsci5wcm9ncmFtKSxyLmhhc0hhbG8pe2NvbnN0IG49ci51bmlmb3JtVmFsdWVzO24udV9pc19oYWxvPTEsak0oci5idWZmZXJzLHQuc2VnbWVudHMsaSxlLHIucHJvZ3JhbSxiLGgsdSxuLDIpLG4udV9pc19oYWxvPTA7fWVsc2Uge2lmKHIuaXNTREYpe2NvbnN0IG49ci51bmlmb3JtVmFsdWVzO3IuaGFzSGFsbyYmKG4udV9pc19oYWxvPTEsak0oci5idWZmZXJzLHQuc2VnbWVudHMsaSxlLHIucHJvZ3JhbSxiLGgsdSxuLDEpKSxuLnVfaXNfaGFsbz0wO31qTShyLmJ1ZmZlcnMsdC5zZWdtZW50cyxpLGUsci5wcm9ncmFtLGIsaCx1LHIudW5pZm9ybVZhbHVlcywxKTt9fX1mdW5jdGlvbiBqTShlLHQsaSxyLG4sbyxzLGEsbCxjKXtjb25zdCBoPVtlLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIsZS5vcGFjaXR5VmVydGV4QnVmZmVyLGUuaWNvblRyYW5zaXRpb25pbmdWZXJ0ZXhCdWZmZXIsZS5nbG9iZUV4dFZlcnRleEJ1ZmZlcixlLnpPZmZzZXRWZXJ0ZXhCdWZmZXJdO24uZHJhdyhyLHIuY29udGV4dC5nbC5UUklBTkdMRVMsbyxzLGEsRXguZGlzYWJsZWQsbCxpLmlkLGUubGF5b3V0VmVydGV4QnVmZmVyLGUuaW5kZXhCdWZmZXIsdCxpLnBhaW50LHIudHJhbnNmb3JtLnpvb20sZS5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGkuaWQpLGgsYyk7fWZ1bmN0aW9uIEdNKGUsdCxpLHIsbixvLHMpe2NvbnN0IGE9ZS5jb250ZXh0LmdsLGw9aS5wYWludC5nZXQoXCJmaWxsLXBhdHRlcm5cIiksYz1sJiZsLmNvbnN0YW50T3IoMSk7bGV0IGgsdSxkLHAsZjtzPyh1PWMmJiFpLmdldFBhaW50UHJvcGVydHkoXCJmaWxsLW91dGxpbmUtY29sb3JcIik/XCJmaWxsT3V0bGluZVBhdHRlcm5cIjpcImZpbGxPdXRsaW5lXCIsaD1hLkxJTkVTKToodT1jP1wiZmlsbFBhdHRlcm5cIjpcImZpbGxcIixoPWEuVFJJQU5HTEVTKTtmb3IoY29uc3QgbSBvZiByKXtjb25zdCByPXQuZ2V0VGlsZShtKTtpZihjJiYhci5wYXR0ZXJuc0xvYWRlZCgpKWNvbnRpbnVlO2NvbnN0IF89ci5nZXRCdWNrZXQoaSk7aWYoIV8pY29udGludWU7ZS5wcmVwYXJlRHJhd1RpbGUoKTtjb25zdCBnPV8ucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChpLmlkKSx5PWUuaXNUaWxlQWZmZWN0ZWRCeUZvZyhtKSx4PWUuZ2V0T3JDcmVhdGVQcm9ncmFtKHUse2NvbmZpZzpnLG92ZXJyaWRlRm9nOnl9KTtjJiYoZS5jb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGEuVEVYVFVSRTApLHIuaW1hZ2VBdGxhc1RleHR1cmUuYmluZChhLkxJTkVBUixhLkNMQU1QX1RPX0VER0UpLGcudXBkYXRlUGFpbnRCdWZmZXJzKCkpO2NvbnN0IHY9bC5jb25zdGFudE9yKG51bGwpO2lmKHYmJnIuaW1hZ2VBdGxhcyl7Y29uc3QgZT1yLmltYWdlQXRsYXMucGF0dGVyblBvc2l0aW9uc1t2LnRvU3RyaW5nKCldO2UmJmcuc2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKGUpO31jb25zdCBiPWUudHJhbnNsYXRlUG9zTWF0cml4KG0ucHJvak1hdHJpeCxyLGkucGFpbnQuZ2V0KFwiZmlsbC10cmFuc2xhdGVcIiksaS5wYWludC5nZXQoXCJmaWxsLXRyYW5zbGF0ZS1hbmNob3JcIikpLHc9aS5wYWludC5nZXQoXCJmaWxsLWVtaXNzaXZlLXN0cmVuZ3RoXCIpO2lmKHMpe3A9Xy5pbmRleEJ1ZmZlcjIsZj1fLnNlZ21lbnRzMjtjb25zdCB0PWUudGVycmFpbiYmZS50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZT9lLnRlcnJhaW4uZHJhcGVCdWZmZXJTaXplOlthLmRyYXdpbmdCdWZmZXJXaWR0aCxhLmRyYXdpbmdCdWZmZXJIZWlnaHRdO2Q9XCJmaWxsT3V0bGluZVBhdHRlcm5cIj09PXUmJmM/X00oYix3LGUscix0KTptTShiLHcsdCk7fWVsc2UgcD1fLmluZGV4QnVmZmVyLGY9Xy5zZWdtZW50cyxkPWM/Zk0oYix3LGUscik6cE0oYix3KTtlLnVwbG9hZENvbW1vblVuaWZvcm1zKGUuY29udGV4dCx4LG0udG9VbndyYXBwZWQoKSkseC5kcmF3KGUsaCxuLGUuc3RlbmNpbE1vZGVGb3JDbGlwcGluZyhtKSxvLEV4LmRpc2FibGVkLGQsaS5pZCxfLmxheW91dFZlcnRleEJ1ZmZlcixwLGYsaS5wYWludCxlLnRyYW5zZm9ybS56b29tLGcsdm9pZCAwKTt9fWZ1bmN0aW9uIHFNKGUsdCxpLHIsbixvLHMsYSl7Y29uc3QgbD1lLmNvbnRleHQsYz1sLmdsLGg9ZS50cmFuc2Zvcm0sdT1pLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIiksZD11LmNvbnN0YW50T3IoMSkscD1pLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLW9wYWNpdHlcIiksZj1lLnN0eWxlLmVuYWJsZTNkTGlnaHRzKCksbT1pLnBhaW50LmdldChmJiYhZD9cImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLXdhbGwtcmFkaXVzXCI6XCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1yYWRpdXNcIiksXz1baS5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1pbnRlbnNpdHlcIiksbV0sZz1pLmxheW91dC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1lZGdlLXJhZGl1c1wiKSx5PWc+MCYmIWkucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tcm91bmRlZC1yb29mXCIpLHg9eT8wOmcsdj1cImdsb2JlXCI9PT1oLnByb2plY3Rpb24ubmFtZT92YigpOjAsYj1cImdsb2JlXCI9PT1oLnByb2plY3Rpb24ubmFtZSx3PWI/RWQoaC56b29tKTowLFQ9W0dkKGguY2VudGVyLmxuZykscWQoaC5jZW50ZXIubGF0KV0sRT1pLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWZsb29kLWxpZ2h0LWNvbG9yXCIpLnRvQXJyYXkwMSgpLnNsaWNlKDAsMyksTT1pLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWZsb29kLWxpZ2h0LWludGVuc2l0eVwiKSxBPWkucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tdmVydGljYWwtc2NhbGVcIiksUz0kRShlLGkucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tY3V0b2ZmLWZhZGUtcmFuZ2VcIikpLEk9W107bGV0IEM7YiYmSS5wdXNoKFwiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCIpLF9bMF0+MCYmSS5wdXNoKFwiRkFVWF9BT1wiKSx5JiZJLnB1c2goXCJaRVJPX1JPT0ZfUkFESVVTXCIpLGEmJkkucHVzaChcIkhBU19DRU5UUk9JRFwiKSxNPjAmJkkucHVzaChcIkZMT09EX0xJR0hUXCIpLFMuc2hvdWxkUmVuZGVyQ3V0b2ZmJiZJLnB1c2goXCJSRU5ERVJfQ1VUT0ZGXCIpO2NvbnN0IHo9XCJzaGFkb3dcIj09PWUucmVuZGVyUGFzcyxEPWUuc2hhZG93UmVuZGVyZXIsUD16JiYhIUQ7ZS5zaGFkb3dSZW5kZXJlciYmKGUuc2hhZG93UmVuZGVyZXIudXNlTm9ybWFsT2Zmc2V0PSEwKTtsZXQgUj1bMCwwLDBdO2lmKEQpe2NvbnN0IHQ9ZS5zdHlsZS5kaXJlY3Rpb25hbExpZ2h0LGk9ZS5zdHlsZS5hbWJpZW50TGlnaHQ7dCYmaSYmKFI9QkEodCxpKSksQz1JLmNvbmNhdChbXCJTSEFET1dTX1NJTkdMRV9DQVNDQURFXCJdKTt9Y29uc3QgTD1QP1wiZmlsbEV4dHJ1c2lvbkRlcHRoXCI6ZD9cImZpbGxFeHRydXNpb25QYXR0ZXJuXCI6XCJmaWxsRXh0cnVzaW9uXCI7Zm9yKGNvbnN0IGYgb2Ygcil7Y29uc3Qgcj10LmdldFRpbGUoZiksbT1yLmdldEJ1Y2tldChpKTtpZighbXx8bS5wcm9qZWN0aW9uLm5hbWUhPT1oLnByb2plY3Rpb24ubmFtZSljb250aW51ZTtsZXQgZz0hMTtEJiYoZz0wPT09RC5nZXRNYXhDYXNjYWRlRm9yVGlsZShmLnRvVW53cmFwcGVkKCkpKTtjb25zdCB5PWUuaXNUaWxlQWZmZWN0ZWRCeUZvZyhmKSxQPW0ucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChpLmlkKSxrPWUuZ2V0T3JDcmVhdGVQcm9ncmFtKEwse2NvbmZpZzpQLGRlZmluZXM6Zz9DOkksb3ZlcnJpZGVGb2c6eX0pO2lmKGUudGVycmFpbil7Y29uc3QgdD1lLnRlcnJhaW47ZS5zdHlsZS50ZXJyYWluU2V0Rm9yRHJhcGluZ09ubHkoKSx0LnNldHVwRWxldmF0aW9uRHJhdyhyLGsse3VzZU1ldGVyVG9EZW06ITB9KTt9aWYoIW0uY2VudHJvaWRWZXJ0ZXhCdWZmZXIpe2NvbnN0IGU9ay5hdHRyaWJ1dGVzLmFfY2VudHJvaWRfcG9zO3ZvaWQgMCE9PWUmJmMudmVydGV4QXR0cmliMmYoZSwwLDApO30heiYmRCYmRC5zZXR1cFNoYWRvd3Moci50aWxlSUQudG9VbndyYXBwZWQoKSxrLFwidmVjdG9yLXRpbGVcIixyLnRpbGVJRC5vdmVyc2NhbGVkWiksZCYmKGUuY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChjLlRFWFRVUkUwKSxyLmltYWdlQXRsYXNUZXh0dXJlLmJpbmQoYy5MSU5FQVIsYy5DTEFNUF9UT19FREdFKSxQLnVwZGF0ZVBhaW50QnVmZmVycygpKTtjb25zdCBPPXUuY29uc3RhbnRPcihudWxsKTtpZihPJiZyLmltYWdlQXRsYXMpe2NvbnN0IGU9ci5pbWFnZUF0bGFzLnBhdHRlcm5Qb3NpdGlvbnNbTy50b1N0cmluZygpXTtlJiZQLnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyhlKTt9Y29uc3QgQj1pLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXZlcnRpY2FsLWdyYWRpZW50XCIpO2xldCBGO2lmKHomJkQpe2lmKFlNKHIudGlsZUlELG0sZSkpY29udGludWU7Y29uc3QgdD1ELmNhbGN1bGF0ZVNoYWRvd1Bhc3NNYXRyaXhGcm9tVGlsZShyLnRpbGVJRC50b1Vud3JhcHBlZCgpKTtGPXVNKHQseCxBKTt9ZWxzZSB7Y29uc3QgdD1lLnRyYW5zbGF0ZVBvc01hdHJpeChmLnByb2pNYXRyaXgscixpLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZVwiKSxpLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZS1hbmNob3JcIikpLG49aC5wcm9qZWN0aW9uLmNyZWF0ZUludmVyc2lvbk1hdHJpeChoLGYuY2Fub25pY2FsKTtGPWQ/ZE0odCxlLEIscCxfLHgsZixyLHYsdyxULG4sRSxBKTpoTSh0LGUsQixwLF8seCxmLHYsdyxULG4sRSxBLE0sUik7fWUudXBsb2FkQ29tbW9uVW5pZm9ybXMobCxrLGYudG9VbndyYXBwZWQoKSxudWxsLFMpO2NvbnN0IE49W107KGUudGVycmFpbnx8YSkmJk4ucHVzaChtLmNlbnRyb2lkVmVydGV4QnVmZmVyKSxiJiZOLnB1c2gobS5sYXlvdXRWZXJ0ZXhFeHRCdWZmZXIpLGsuZHJhdyhlLGwuZ2wuVFJJQU5HTEVTLG4sbyxzLEV4LmJhY2tDQ1csRixpLmlkLG0ubGF5b3V0VmVydGV4QnVmZmVyLG0uaW5kZXhCdWZmZXIsbS5zZWdtZW50cyxpLnBhaW50LGUudHJhbnNmb3JtLnpvb20sUCxOKTt9ZS5zaGFkb3dSZW5kZXJlciYmKGUuc2hhZG93UmVuZGVyZXIudXNlTm9ybWFsT2Zmc2V0PSExKTt9ZnVuY3Rpb24gWk0oZSx0LGkscixuLG8scyxhLGwsYyxoLHUsZCxwLGYsbSxfLGcseSl7Y29uc3QgeD1lLmNvbnRleHQsdj14LmdsLGI9ZS50cmFuc2Zvcm0sdz1lLnRyYW5zZm9ybS56b29tLFQ9W10sRT0kRShlLGkucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tY3V0b2ZmLWZhZGUtcmFuZ2VcIikpO1wiY2xlYXJcIj09PWM/KFQucHVzaChcIkNMRUFSX1NVQlBBU1NcIikseSYmKFQucHVzaChcIkNMRUFSX0ZST01fVEVYVFVSRVwiKSx4LmFjdGl2ZVRleHR1cmUuc2V0KHYuVEVYVFVSRTApLHkuYmluZCh2LkxJTkVBUix2LkNMQU1QX1RPX0VER0UpKSk6XCJzZGZcIj09PWMmJlQucHVzaChcIlNERl9TVUJQQVNTXCIpLF8mJlQucHVzaChcIkhBU19DRU5UUk9JRFwiKSxFLnNob3VsZFJlbmRlckN1dG9mZiYmVC5wdXNoKFwiUkVOREVSX0NVVE9GRlwiKTtjb25zdCBNPWkubGF5b3V0LmdldChcImZpbGwtZXh0cnVzaW9uLWVkZ2UtcmFkaXVzXCIpLEE9KHQscixjLGcsdik9Pntjb25zdCBiPXIucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChpLmlkKSxBPWUuaXNUaWxlQWZmZWN0ZWRCeUZvZyh0KSxTPWUuZ2V0T3JDcmVhdGVQcm9ncmFtKFwiZmlsbEV4dHJ1c2lvbkdyb3VuZEVmZmVjdFwiLHtjb25maWc6YixkZWZpbmVzOlQsb3ZlcnJpZGVGb2c6QX0pLEk9KChlLHQsaSxyLG4sbyxzLGEsbCxjLGgpPT4oe3VfbWF0cml4OnQsdV9vcGFjaXR5OmksdV9hb19wYXNzOnI/MTowLHVfbWV0ZXJfdG9fdGlsZTpuLHVfYW86byx1X2Zsb29kX2xpZ2h0X2ludGVuc2l0eTpzLHVfZmxvb2RfbGlnaHRfY29sb3I6YSx1X2F0dGVudWF0aW9uOmwsdV9lZGdlX3JhZGl1czpjLHVfZmI6MCx1X2ZiX3NpemU6aH0pKSgwLGcsaCxsLHYsW3UsZCp2XSxwLGYsbSx3Pj0xNz8wOk0qdix5P3kuc2l6ZVswXTowKSxDPVtdO18mJkMucHVzaChyLmhpZGRlbkJ5TGFuZG1hcmtWZXJ0ZXhCdWZmZXIpLGUudXBsb2FkQ29tbW9uVW5pZm9ybXMoeCxTLHQudG9VbndyYXBwZWQoKSxudWxsLEUpLFMuZHJhdyhlLHguZ2wuVFJJQU5HTEVTLG4sbyxzLGEsSSxpLmlkLHIudmVydGV4QnVmZmVyLHIuaW5kZXhCdWZmZXIsYyxpLnBhaW50LHcsYixDKTt9O2Zvcihjb25zdCBuIG9mIHIpe2NvbnN0IHI9dC5nZXRUaWxlKG4pLG89ci5nZXRCdWNrZXQoaSk7aWYoIW98fG8ucHJvamVjdGlvbi5uYW1lIT09Yi5wcm9qZWN0aW9uLm5hbWV8fCFvLmdyb3VuZEVmZmVjdHx8by5ncm91bmRFZmZlY3QmJiFvLmdyb3VuZEVmZmVjdC5oYXNEYXRhKCkpY29udGludWU7Y29uc3Qgcz1vLmdyb3VuZEVmZmVjdCxhPTEvby50aWxlVG9NZXRlcjt7Y29uc3QgdD1lLnRyYW5zbGF0ZVBvc01hdHJpeChuLnByb2pNYXRyaXgscixpLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZVwiKSxpLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZS1hbmNob3JcIikpLG89cy5nZXREZWZhdWx0U2VnbWVudCgpO0EobixzLG8sdCxhKTt9aWYoZylmb3IobGV0IG89MDtvPDQ7bysrKXtjb25zdCBzPU51W29dKG4pLGw9dC5nZXRUaWxlKHMpO2lmKCFsKWNvbnRpbnVlO2NvbnN0IGM9bC5nZXRCdWNrZXQoaSk7aWYoIWN8fGMucHJvamVjdGlvbi5uYW1lIT09Yi5wcm9qZWN0aW9uLm5hbWV8fCFjLmdyb3VuZEVmZmVjdHx8Yy5ncm91bmRFZmZlY3QmJiFjLmdyb3VuZEVmZmVjdC5oYXNEYXRhKCkpY29udGludWU7Y29uc3QgaD1jLmdyb3VuZEVmZmVjdDtsZXQgdSxkOzA9PT1vPyh1PVstc3IsMCwwXSxkPTEpOjE9PT1vPyh1PVtzciwwLDBdLGQ9MCk6Mj09PW8/KHU9WzAsLXNyLDBdLGQ9Myk6KHU9WzAsc3IsMF0sZD0yKTtjb25zdCBwPWgucmVnaW9uU2VnbWVudHNbZF07aWYoIXApY29udGludWU7Y29uc3QgZj1uZXcgRmxvYXQzMkFycmF5KDE2KTt4dS50cmFuc2xhdGUoZixuLnByb2pNYXRyaXgsdSksQShuLGgscCxlLnRyYW5zbGF0ZVBvc01hdHJpeChmLHIsaS5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIiksaS5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yXCIpKSxhKTt9fX1mdW5jdGlvbiAkTShlLHQsaSxyLG4sbyxzKXswPT09ci5jZW50cm9pZFZlcnRleEFycmF5Lmxlbmd0aCYmci5jcmVhdGVDZW50cm9pZHNCdWZmZXIoKTtjb25zdCBhPW8/by5maW5kREVNVGlsZUZvcihpKTpudWxsO2lmKCEoYSYmYS5kZW18fHMpKXJldHVybjtjb25zdCBsPWU9Pntjb25zdCBpPXQuZ2V0U291cmNlKCkubWluem9vbSxyPWU9Pntjb25zdCBpPXQuZ2V0VGlsZUJ5SUQoZSk7aWYoaSYmaS5oYXNEYXRhKCkpcmV0dXJuIGkuZ2V0QnVja2V0KG4pfSxvPVswLC0xLDFdO2Zvcihjb25zdCB0IG9mIG8pe2lmKGUub3ZlcnNjYWxlZFordDxpKWNvbnRpbnVlO2NvbnN0IG49cihlLmNhbGN1bGF0ZVNjYWxlZEtleShlLm92ZXJzY2FsZWRaK3QpKTtpZihuKXJldHVybiBufX0sYz1bMCwwLDBdLGg9KGUsdCk9PihjWzBdPU1hdGgubWluKGUubWluLnksdC5taW4ueSksY1sxXT1NYXRoLm1heChlLm1heC55LHQubWF4LnkpLGNbMl09c3ItdC5taW4ueD5lLm1heC54P3QubWluLngtc3I6ZS5tYXgueCxjKSx1PShlLHQpPT4oY1swXT1NYXRoLm1pbihlLm1pbi54LHQubWluLngpLGNbMV09TWF0aC5tYXgoZS5tYXgueCx0Lm1heC54KSxjWzJdPXNyLXQubWluLnk+ZS5tYXgueT90Lm1pbi55LXNyOmUubWF4LnksYyksZD1bKGUsdCk9PmgoZSx0KSwoZSx0KT0+aCh0LGUpLChlLHQpPT51KGUsdCksKGUsdCk9PnUodCxlKV0scD0oZSx0LHIsbixzLGwsYyk9PntpZighbylyZXR1cm4gMDtjb25zdCBoPVtbbD9yOmUsbD9lOnIsMF0sW2w/cjp0LGw/dDpyLDBdXSx1PWM8MD9zcitjOmMsZD1bbD91OihlK3QpLzIsbD8oZSt0KS8yOnUsMF07cmV0dXJuIDA9PT1yJiZjPDB8fDAhPT1yJiZjPjA/by5nZXRGb3JUaWxlUG9pbnRzKHMsW2RdLCEwLG4pOmgucHVzaChkKSxvLmdldEZvclRpbGVQb2ludHMoaSxoLCEwLGEpLE1hdGgubWF4KGhbMF1bMl0saFsxXVsyXSxkWzJdKS9vLmV4YWdnZXJhdGlvbigpfTtmb3IobGV0IGU9MDtlPDQ7ZSsrKXtjb25zdCB0PXIuYm9yZGVyRmVhdHVyZUluZGljZXNbZV07aWYoMD09PXQubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IG49TnVbZV0oaSksYT1sKG4pO2lmKCEoYSYmYSBpbnN0YW5jZW9mIGRiKSljb250aW51ZTtpZihyLmJvcmRlckRvbmVXaXRoTmVpZ2hib3JaW2VdPT09YS5jYW5vbmljYWwueiljb250aW51ZTswPT09YS5jZW50cm9pZFZlcnRleEFycmF5Lmxlbmd0aCYmYS5jcmVhdGVDZW50cm9pZHNCdWZmZXIoKTtjb25zdCBjPW8/by5maW5kREVNVGlsZUZvcihuKTpudWxsO2lmKCEoYyYmYy5kZW18fHMpKWNvbnRpbnVlO2NvbnN0IGg9KGU8Mj8xOjUpLWUsdT1hLmJvcmRlckRvbmVXaXRoTmVpZ2hib3JaW2hdIT09ci5jYW5vbmljYWwueixnPWEuYm9yZGVyRmVhdHVyZUluZGljZXNbaF07bGV0IHg9MDtpZihyLmNhbm9uaWNhbC56IT09YS5jYW5vbmljYWwueil7Zm9yKGNvbnN0IGUgb2YgdClyLnNob3dDZW50cm9pZChyLmZlYXR1cmVzT25Cb3JkZXJbZV0pO2lmKHUpZm9yKGNvbnN0IGUgb2YgZylhLnNob3dDZW50cm9pZChhLmZlYXR1cmVzT25Cb3JkZXJbZV0pO3IuYm9yZGVyRG9uZVdpdGhOZWlnaGJvclpbZV09YS5jYW5vbmljYWwueixhLmJvcmRlckRvbmVXaXRoTmVpZ2hib3JaW2hdPXIuY2Fub25pY2FsLno7fWZvcihjb25zdCBpIG9mIHQpe2NvbnN0IHQ9ci5mZWF0dXJlc09uQm9yZGVyW2ldLG89ci5jZW50cm9pZERhdGFbdC5jZW50cm9pZERhdGFJbmRleF0sbD10LmJvcmRlcnNbZV07bGV0IHU7Zm9yKDt4PGcubGVuZ3RoOyl7dT1hLmZlYXR1cmVzT25Cb3JkZXJbZ1t4XV07Y29uc3QgZT11LmJvcmRlcnNbaF07aWYoZVsxXT5sWzBdKzN8fGVbMF0+bFswXS0zKWJyZWFrO2Euc2hvd0NlbnRyb2lkKHUpLHgrKzt9aWYodSYmeDxnLmxlbmd0aCl7Y29uc3QgaT14O2xldCB2PTA7Zm9yKDshKHUuYm9yZGVyc1toXVswXT5sWzFdLTMpJiYodisrLCsreCE9PWcubGVuZ3RoKTspdT1hLmZlYXR1cmVzT25Cb3JkZXJbZ1t4XV07aWYodT1hLmZlYXR1cmVzT25Cb3JkZXJbZ1tpXV0sdj4xKXtjb25zdCBlPXUuYm9yZGVyc1toXTtNYXRoLmFicyhsWzBdLWVbMF0pPDMmJk1hdGguYWJzKGxbMV0tZVsxXSk8MyYmKHY9MSx4PWkrMSk7fWVsc2UgaWYoMD09PXYpe3Iuc2hvd0NlbnRyb2lkKHQpO2NvbnRpbnVlfWNvbnN0IGI9YS5jZW50cm9pZERhdGFbdS5jZW50cm9pZERhdGFJbmRleF07cyYmMT09PXYmJigoKG09bykuZmxhZ3N8KF89YikuZmxhZ3MpJnRiPyhtLmZsYWdzfD10YixfLmZsYWdzfD10Yik6KG0uZmxhZ3MmPTIxNDc0ODM2NDcsXy5mbGFncyY9MjE0NzQ4MzY0NykpO2xldCB3PW5ldyB5KDAsMCk7aWYodj4xKXg9aTtlbHNlIGlmKGMmJmMuZGVtJiYhKHQuaW50ZXJzZWN0c0NvdW50KCk+MXx8dS5pbnRlcnNlY3RzQ291bnQoKT4xKSl7Y29uc3QgdD1kW2VdKG8sYiksaT1lJTI/c3ItMTowO2Y9cCh0WzBdLE1hdGgubWluKHNyLTEsdFsxXSksaSxjLG4sZTwyLHRbMl0pLHc9bmV3IHkoTWF0aC5jZWlsKDcqKGYrNDUwKSksMCk7fW8uY2VudHJvaWRYWT1iLmNlbnRyb2lkWFk9dyxyLndyaXRlQ2VudHJvaWRUb0J1ZmZlcihvKSxhLndyaXRlQ2VudHJvaWRUb0J1ZmZlcihiKTt9ZWxzZSByLnNob3dDZW50cm9pZCh0KTt9ci5ib3JkZXJEb25lV2l0aE5laWdoYm9yWltlXT1hLmNhbm9uaWNhbC56LGEuYm9yZGVyRG9uZVdpdGhOZWlnaGJvclpbaF09ci5jYW5vbmljYWwuejt9dmFyIGYsbSxfOyhyLm5lZWRzQ2VudHJvaWRVcGRhdGV8fCFyLmNlbnRyb2lkVmVydGV4QnVmZmVyJiYwIT09ci5jZW50cm9pZFZlcnRleEFycmF5Lmxlbmd0aCkmJnIudXBsb2FkQ2VudHJvaWQoZSk7fWNvbnN0IEhNPVsxLDAsMF0sV009WzAsMSwwXSxYTT1bMCwwLDFdO2Z1bmN0aW9uIFlNKGUsdCxpKXtjb25zdCByPWkudHJhbnNmb3JtLG49aS5zaGFkb3dSZW5kZXJlcjtpZighbilyZXR1cm4gITA7Y29uc3Qgbz1lLnRvVW53cmFwcGVkKCkscz1yLnRpbGVTaXplKm4uX2Nhc2NhZGVzW2kuY3VycmVudFNoYWRvd0Nhc2NhZGVdLnNjYWxlO2xldCBhPXQubWF4SGVpZ2h0O2lmKHIuZWxldmF0aW9uKXtjb25zdCB0PXIuZWxldmF0aW9uLmdldE1pbk1heEZvclRpbGUoZSk7dCYmKGErPXQubWF4KTt9Y29uc3QgbD1bLi4ubi5zaGFkb3dEaXJlY3Rpb25dO2xbMl09LWxbMl07Y29uc3QgYz1uLmNvbXB1dGVTaW1wbGlmaWVkVGlsZVNoYWRvd1ZvbHVtZShvLGEscyxsKTtpZighYylyZXR1cm4gITE7Y29uc3QgaD1bSE0sV00sWE0sbCxbbFswXSwwLGxbMl1dLFswLGxbMV0sbFsyXV1dLHU9XCJnbG9iZVwiPT09ci5wcm9qZWN0aW9uLm5hbWUsZD1yLnNjYWxlWm9vbShzKSxwPSR1LmZyb21JbnZQcm9qZWN0aW9uTWF0cml4KHIuaW52UHJvak1hdHJpeCxyLndvcmxkU2l6ZSxkLCF1KSxmPW4uZ2V0Q3VycmVudENhc2NhZGVGcnVzdHVtKCk7cmV0dXJuIDA9PT1wLmludGVyc2VjdHNQcmVjaXNlKGMudmVydGljZXMsYy5wbGFuZXMsaCl8fDA9PT1mLmludGVyc2VjdHNQcmVjaXNlKGMudmVydGljZXMsYy5wbGFuZXMsaCl9Y29uc3QgS009bmV3IGxpKDEsMCwwLDEpLEpNPW5ldyBsaSgwLDEsMCwxKSxRTT1uZXcgbGkoMCwwLDEsMSksZUE9bmV3IGxpKDEsMCwxLDEpLHRBPW5ldyBsaSgwLDEsMSwxKTtmdW5jdGlvbiBpQShlLHQsaSl7Y29uc3Qgcj1lLmNvbnRleHQsbj1lLnRyYW5zZm9ybSxvPXIuZ2wscz1cImdsb2JlXCI9PT1uLnByb2plY3Rpb24ubmFtZSxhPXM/W1wiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCJdOltdO2xldCBsPWkucHJvak1hdHJpeDtpZihzJiZFZChuLnpvb20pPjApe2NvbnN0IGU9dmQoY2QoaS5jYW5vbmljYWwsbikpO2w9eHUubXVsdGlwbHkobmV3IEZsb2F0MzJBcnJheSgxNiksbi5nbG9iZU1hdHJpeCxlKSx4dS5tdWx0aXBseShsLG4ucHJvak1hdHJpeCxsKTt9Y29uc3QgYz1lLmdldE9yQ3JlYXRlUHJvZ3JhbShcImRlYnVnXCIse2RlZmluZXM6YX0pLGg9dC5nZXRUaWxlQnlJRChpLmtleSk7ZS50ZXJyYWluJiZlLnRlcnJhaW4uc2V0dXBFbGV2YXRpb25EcmF3KGgsYyk7Y29uc3QgdT1neC5kaXNhYmxlZCxkPXh4LmRpc2FibGVkLHA9ZS5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksZj1cIiRkZWJ1Z1wiO3IuYWN0aXZlVGV4dHVyZS5zZXQoby5URVhUVVJFMCksZS5lbXB0eVRleHR1cmUuYmluZChvLkxJTkVBUixvLkNMQU1QX1RPX0VER0UpLHM/aC5fbWFrZUdsb2JlVGlsZURlYnVnQnVmZmVycyhlLmNvbnRleHQsbik6aC5fbWFrZURlYnVnVGlsZUJvdW5kc0J1ZmZlcnMoZS5jb250ZXh0LG4ucHJvamVjdGlvbik7Y29uc3QgbT1oLl90aWxlRGVidWdCdWZmZXJ8fGUuZGVidWdCdWZmZXIsXz1oLl90aWxlRGVidWdJbmRleEJ1ZmZlcnx8ZS5kZWJ1Z0luZGV4QnVmZmVyLGc9aC5fdGlsZURlYnVnU2VnbWVudHN8fGUuZGVidWdTZWdtZW50cztjLmRyYXcoZSxvLkxJTkVfU1RSSVAsdSxkLHAsRXguZGlzYWJsZWQseU0obCxsaS5yZWQpLGYsbSxfLGcsbnVsbCxudWxsLG51bGwsW2guX2dsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyXSk7Y29uc3QgeT1oLmxhdGVzdFJhd1RpbGVEYXRhLHg9TWF0aC5mbG9vcigoeSYmeS5ieXRlTGVuZ3RofHwwKS8xMDI0KSx2PXQuZ2V0VGlsZShpKS50aWxlU2l6ZSxiPTUxMi9NYXRoLm1pbih2LDUxMikqKGkub3ZlcnNjYWxlZFovbi56b29tKSouNTtsZXQgdz1pLmNhbm9uaWNhbC50b1N0cmluZygpO2kub3ZlcnNjYWxlZFohPT1pLmNhbm9uaWNhbC56JiYodys9YCA9PiAke2kub3ZlcnNjYWxlZFp9YCksdys9YCAke3h9a2JgLGZ1bmN0aW9uKGUsdCl7ZS5pbml0RGVidWdPdmVybGF5Q2FudmFzKCk7Y29uc3QgaT1lLmRlYnVnT3ZlcmxheUNhbnZhcyxyPWUuY29udGV4dC5nbCxuPWUuZGVidWdPdmVybGF5Q2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtuLmNsZWFyUmVjdCgwLDAsaS53aWR0aCxpLmhlaWdodCksbi5zaGFkb3dDb2xvcj1cIndoaXRlXCIsbi5zaGFkb3dCbHVyPTIsbi5saW5lV2lkdGg9MS41LG4uc3Ryb2tlU3R5bGU9XCJ3aGl0ZVwiLG4udGV4dEJhc2VsaW5lPVwidG9wXCIsbi5mb250PVwiYm9sZCAzNnB4IE9wZW4gU2Fucywgc2Fucy1zZXJpZlwiLG4uZmlsbFRleHQodCw1LDUpLG4uc3Ryb2tlVGV4dCh0LDUsNSksZS5kZWJ1Z092ZXJsYXlUZXh0dXJlLnVwZGF0ZShpKSxlLmRlYnVnT3ZlcmxheVRleHR1cmUuYmluZChyLkxJTkVBUixyLkNMQU1QX1RPX0VER0UpO30oZSx3KTtjb25zdCBUPWguX3RpbGVEZWJ1Z1RleHRCdWZmZXJ8fGUuZGVidWdCdWZmZXIsRT1oLl90aWxlRGVidWdUZXh0SW5kZXhCdWZmZXJ8fGUucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsTT1oLl90aWxlRGVidWdUZXh0U2VnbWVudHN8fGUuZGVidWdTZWdtZW50cztjLmRyYXcoZSxvLlRSSUFOR0xFUyx1LGQsYnguYWxwaGFCbGVuZGVkLEV4LmRpc2FibGVkLHlNKGwsbGkudHJhbnNwYXJlbnQsYiksZixULEUsTSxudWxsLG51bGwsbnVsbCxbaC5fZ2xvYmVUaWxlRGVidWdUZXh0QnVmZmVyXSk7fWZ1bmN0aW9uIHJBKGUsdCxpLHIpe29BKGUsMCx0K2kvMixlLnRyYW5zZm9ybS53aWR0aCxpLHIpO31mdW5jdGlvbiBuQShlLHQsaSxyKXtvQShlLHQtaS8yLDAsaSxlLnRyYW5zZm9ybS5oZWlnaHQscik7fWZ1bmN0aW9uIG9BKGUsdCxpLHIsbixvKXtjb25zdCBzPWUuY29udGV4dCxhPXMuZ2w7YS5lbmFibGUoYS5TQ0lTU09SX1RFU1QpLGEuc2Npc3Nvcih0Kmh0LmRldmljZVBpeGVsUmF0aW8saSpodC5kZXZpY2VQaXhlbFJhdGlvLHIqaHQuZGV2aWNlUGl4ZWxSYXRpbyxuKmh0LmRldmljZVBpeGVsUmF0aW8pLHMuY2xlYXIoe2NvbG9yOm99KSxhLmRpc2FibGUoYS5TQ0lTU09SX1RFU1QpO31jb25zdCBzQT1iYShbe25hbWU6XCJhX3Bvc18zZlwiLGNvbXBvbmVudHM6Myx0eXBlOlwiRmxvYXQzMlwifV0pLHttZW1iZXJzOmFBfT1zQTtmdW5jdGlvbiBsQShlLHQsaSxyKXtlLmVtcGxhY2VCYWNrKHQsaSxyKTt9Y2xhc3MgY0F7Y29uc3RydWN0b3IoZSl7dGhpcy52ZXJ0ZXhBcnJheT1uZXcgVWEsdGhpcy5pbmRpY2VzPW5ldyBWYSxsQSh0aGlzLnZlcnRleEFycmF5LC0xLC0xLDEpLGxBKHRoaXMudmVydGV4QXJyYXksMSwtMSwxKSxsQSh0aGlzLnZlcnRleEFycmF5LC0xLDEsMSksbEEodGhpcy52ZXJ0ZXhBcnJheSwxLDEsMSksbEEodGhpcy52ZXJ0ZXhBcnJheSwtMSwtMSwtMSksbEEodGhpcy52ZXJ0ZXhBcnJheSwxLC0xLC0xKSxsQSh0aGlzLnZlcnRleEFycmF5LC0xLDEsLTEpLGxBKHRoaXMudmVydGV4QXJyYXksMSwxLC0xKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soNSwxLDMpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjaygzLDcsNSksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDYsMiwwKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soMCw0LDYpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjaygyLDYsNyksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDcsMywyKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soNSw0LDApLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjaygwLDEsNSksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDAsMiwzKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soMywxLDApLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjayg3LDYsNCksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDQsNSw3KSx0aGlzLnZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLnZlcnRleEFycmF5LGFBKSx0aGlzLmluZGV4QnVmZmVyPWUuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRpY2VzKSx0aGlzLnNlZ21lbnQ9ZGwuc2ltcGxlU2VnbWVudCgwLDAsMzYsMTIpO319ZnVuY3Rpb24gaEEoZSx0LGkscixuLG8pe2NvbnN0IHM9ZS5jb250ZXh0LmdsLGE9dC5wYWludC5nZXQoXCJza3ktYXRtb3NwaGVyZS1jb2xvclwiKSxsPXQucGFpbnQuZ2V0KFwic2t5LWF0bW9zcGhlcmUtaGFsby1jb2xvclwiKSxjPXQucGFpbnQuZ2V0KFwic2t5LWF0bW9zcGhlcmUtc3VuLWludGVuc2l0eVwiKSxoPSgoZSx0LGkscixuKT0+KHt1X21hdHJpeF8zZjplLHVfc3VuX2RpcmVjdGlvbjp0LHVfc3VuX2ludGVuc2l0eTppLHVfY29sb3JfdGludF9yOltyLnIsci5nLHIuYixyLmFdLHVfY29sb3JfdGludF9tOltuLnIsbi5nLG4uYixuLmFdLHVfbHVtaW5hbmNlOjVlLTV9KSkoZ3UuZnJvbU1hdDQoZ3UuY3JlYXRlKCksciksbixjLGEsbCk7cy5mcmFtZWJ1ZmZlclRleHR1cmUyRChzLkZSQU1FQlVGRkVSLHMuQ09MT1JfQVRUQUNITUVOVDAscy5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grbyx0LnNreWJveFRleHR1cmUsMCksaS5kcmF3KGUscy5UUklBTkdMRVMsZ3guZGlzYWJsZWQseHguZGlzYWJsZWQsYngudW5ibGVuZGVkLEV4LmZyb250Q1csaCxcInNreWJveENhcHR1cmVcIix0LnNreWJveEdlb21ldHJ5LnZlcnRleEJ1ZmZlcix0LnNreWJveEdlb21ldHJ5LmluZGV4QnVmZmVyLHQuc2t5Ym94R2VvbWV0cnkuc2VnbWVudCk7fWNvbnN0IHVBPWJhKFt7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwiYV9wb3NcIixjb21wb25lbnRzOjN9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJhX3V2XCIsY29tcG9uZW50czoyfV0pO2NsYXNzIGRBe2NvbnN0cnVjdG9yKGUpe2NvbnN0IHQ9bmV3IFphO3QuZW1wbGFjZUJhY2soLTEsMSwxLDAsMCksdC5lbXBsYWNlQmFjaygxLDEsMSwxLDApLHQuZW1wbGFjZUJhY2soMSwtMSwxLDEsMSksdC5lbXBsYWNlQmFjaygtMSwtMSwxLDAsMSk7Y29uc3QgaT1uZXcgVmE7aS5lbXBsYWNlQmFjaygwLDEsMiksaS5lbXBsYWNlQmFjaygyLDMsMCksdGhpcy52ZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodCx1QS5tZW1iZXJzKSx0aGlzLmluZGV4QnVmZmVyPWUuY3JlYXRlSW5kZXhCdWZmZXIoaSksdGhpcy5zZWdtZW50cz1kbC5zaW1wbGVTZWdtZW50KDAsMCw0LDIpO31kZXN0cm95KCl7dGhpcy52ZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMuZGVzdHJveSgpO319Y29uc3QgcEE9YmEoW3t0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJhX3Bvc18zZlwiLGNvbXBvbmVudHM6M30se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcImFfdXZcIixjb21wb25lbnRzOjJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJhX3NpemVfc2NhbGVcIixjb21wb25lbnRzOjF9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJhX2ZhZGVfb3BhY2l0eVwiLGNvbXBvbmVudHM6MX1dKTtjbGFzcyBmQXtjb25zdHJ1Y3Rvcigpe3RoaXMuY29sb3JNb2RlQWxwaGFCbGVuZGVkV3JpdGVSR0I9bmV3IGJ4KFsxLHZ4LDEsdnhdLGxpLnRyYW5zcGFyZW50LFshMCwhMCwhMCwhMV0pLHRoaXMuY29sb3JNb2RlV3JpdGVBbHBoYT1uZXcgYngoWzEsMCwxLDBdLGxpLnRyYW5zcGFyZW50LFshMSwhMSwhMSwhMF0pO311cGRhdGUoZSl7Y29uc3QgdD1lLmNvbnRleHQ7aWYoIXRoaXMuYXRtb3NwaGVyZUJ1ZmZlcil7dGhpcy5hdG1vc3BoZXJlQnVmZmVyPW5ldyBkQSh0KTtjb25zdCBlPTEwMCxpPTIwMCxyPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9JG4oMzApLGk9W107Zm9yKGxldCBlPTA7ZTwxNmUzOysrZSl7Y29uc3QgZT0yKk1hdGguUEkqdCgpLHI9TWF0aC5hY29zKDEtMip0KCkpLS41Kk1hdGguUEk7aS5wdXNoKE11LmZyb21WYWx1ZXMoTWF0aC5jb3MocikqTWF0aC5jb3MoZSksTWF0aC5jb3MocikqTWF0aC5zaW4oZSksTWF0aC5zaW4ocikpKTt9cmV0dXJuIGl9KCksbj0kbigzMDApLG89bmV3ICRhLHM9bmV3IFZhO2xldCBhPTA7Zm9yKGxldCB0PTA7dDxyLmxlbmd0aDsrK3Qpe2NvbnN0IGw9TXUuc2NhbGUoW10sclt0XSwyMDApLGM9TWF0aC5tYXgoMCwxKy4wMSplKigxKm4oKS0uNSkpLGg9TWF0aC5tYXgoMCwxKy4wMSppKigxKm4oKS0uNSkpO28uZW1wbGFjZUJhY2sobFswXSxsWzFdLGxbMl0sLTEsLTEsYyxoKSxvLmVtcGxhY2VCYWNrKGxbMF0sbFsxXSxsWzJdLDEsLTEsYyxoKSxvLmVtcGxhY2VCYWNrKGxbMF0sbFsxXSxsWzJdLDEsMSxjLGgpLG8uZW1wbGFjZUJhY2sobFswXSxsWzFdLGxbMl0sLTEsMSxjLGgpLHMuZW1wbGFjZUJhY2soYSswLGErMSxhKzIpLHMuZW1wbGFjZUJhY2soYSswLGErMixhKzMpLGErPTQ7fXRoaXMuc3RhcnNWeD10LmNyZWF0ZVZlcnRleEJ1ZmZlcihvLHBBLm1lbWJlcnMpLHRoaXMuc3RhcnNJZHg9dC5jcmVhdGVJbmRleEJ1ZmZlcihzKSx0aGlzLnN0YXJzU2VnbWVudHM9ZGwuc2ltcGxlU2VnbWVudCgwLDAsby5sZW5ndGgscy5sZW5ndGgpO319ZGVzdHJveSgpe3RoaXMuYXRtb3NwaGVyZUJ1ZmZlciYmdGhpcy5hdG1vc3BoZXJlQnVmZmVyLmRlc3Ryb3koKSx0aGlzLnN0YXJzVngmJnRoaXMuc3RhcnNWeC5kZXN0cm95KCksdGhpcy5zdGFyc0lkeCYmdGhpcy5zdGFyc0lkeC5kZXN0cm95KCk7fWRyYXdBdG1vc3BoZXJlR2xvdyhlLHQpe2NvbnN0IGk9ZS5jb250ZXh0LHI9aS5nbCxuPWUudHJhbnNmb3JtLG89bmV3IGd4KHIuTEVRVUFMLGd4LlJlYWRPbmx5LFswLDFdKSxzPUVkKG4uem9vbSksYT10LnByb3BlcnRpZXMuZ2V0KFwiY29sb3JcIikudG9BcnJheTAxKCksbD10LnByb3BlcnRpZXMuZ2V0KFwiaGlnaC1jb2xvclwiKS50b0FycmF5MDEoKSxjPXQucHJvcGVydGllcy5nZXQoXCJzcGFjZS1jb2xvclwiKS50b0FycmF5MDFQcmVtdWx0aXBsaWVkQWxwaGEoKSxoPTVlLTQsdT16KCh0LnByb3BlcnRpZXMuZ2V0KFwiaG9yaXpvbi1ibGVuZFwiKS0wKS8xKi4yNDk1K2gsNWUtNCwuMjUpLGQ9QWQoZSxpLG4pJiZ1PT09aD9uLndvcmxkU2l6ZS8oMipNYXRoLlBJKjEuMDI1KS0xOm4uZ2xvYmVSYWRpdXMscD1lLmZyYW1lQ291bnRlci8xZTMlMSxmPU11Lmxlbmd0aChuLmdsb2JlQ2VudGVySW5WaWV3U3BhY2UpLG09TWF0aC5zcXJ0KE1hdGgucG93KGYsMiktTWF0aC5wb3coZCwyKSksXz1NYXRoLmFjb3MobS9mKSxnPXQ9Pntjb25zdCBoPVwiZ2xvYmVcIj09PW4ucHJvamVjdGlvbi5uYW1lP1tcIlBST0pFQ1RJT05fR0xPQkVfVklFV1wiLFwiRk9HXCJdOltcIkZPR1wiXTt0JiZoLnB1c2goXCJBTFBIQV9QQVNTXCIpO2NvbnN0IGQ9ZS5nZXRPckNyZWF0ZVByb2dyYW0oXCJnbG9iZUF0bW9zcGhlcmVcIix7ZGVmaW5lczpofSksZj0oKGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1KT0+KHt1X2ZydXN0dW1fdGw6ZSx1X2ZydXN0dW1fdHI6dCx1X2ZydXN0dW1fYnI6aSx1X2ZydXN0dW1fYmw6cix1X2hvcml6b246bix1X3RyYW5zaXRpb246byx1X2ZhZGVvdXRfcmFuZ2U6cyx1X2NvbG9yOmEsdV9oaWdoX2NvbG9yOmwsdV9zcGFjZV9jb2xvcjpjLHVfdGVtcG9yYWxfb2Zmc2V0OmgsdV9ob3Jpem9uX2FuZ2xlOnV9KSkobi5mcnVzdHVtQ29ybmVycy5UTCxuLmZydXN0dW1Db3JuZXJzLlRSLG4uZnJ1c3R1bUNvcm5lcnMuQlIsbi5mcnVzdHVtQ29ybmVycy5CTCxuLmZydXN0dW1Db3JuZXJzLmhvcml6b24scyx1LGEsbCxjLHAsXyk7ZS51cGxvYWRDb21tb25Vbmlmb3JtcyhpLGQpO2NvbnN0IG09dGhpcy5hdG1vc3BoZXJlQnVmZmVyO20mJmQuZHJhdyhlLHIuVFJJQU5HTEVTLG8seHguZGlzYWJsZWQsdD90aGlzLmNvbG9yTW9kZVdyaXRlQWxwaGE6dGhpcy5jb2xvck1vZGVBbHBoYUJsZW5kZWRXcml0ZVJHQixFeC5iYWNrQ1csZix0P1wiYXRtb3NwaGVyZV9nbG93X2FscGhhXCI6XCJhdG1vc3BoZXJlX2dsb3dcIixtLnZlcnRleEJ1ZmZlcixtLmluZGV4QnVmZmVyLG0uc2VnbWVudHMpO307ZyghMSksZyghMCk7fWRyYXdTdGFycyhlLHQpe2NvbnN0IGk9eih0LnByb3BlcnRpZXMuZ2V0KFwic3Rhci1pbnRlbnNpdHlcIiksMCwxKTtpZigwPT09aSlyZXR1cm47Y29uc3Qgcj1lLmNvbnRleHQsbj1yLmdsLG89ZS50cmFuc2Zvcm0scz1lLmdldE9yQ3JlYXRlUHJvZ3JhbShcInN0YXJzXCIpLGE9YnUuaWRlbnRpdHkoW10pO2J1LnJvdGF0ZVgoYSxhLC1vLl9waXRjaCksYnUucm90YXRlWihhLGEsLW8uYW5nbGUpLGJ1LnJvdGF0ZVgoYSxhLHcoby5fY2VudGVyLmxhdCkpLGJ1LnJvdGF0ZVkoYSxhLC13KG8uX2NlbnRlci5sbmcpKTtjb25zdCBsPXh1LmZyb21RdWF0KG5ldyBGbG9hdDMyQXJyYXkoMTYpLGEpLGM9eHUubXVsdGlwbHkoW10sby5zdGFyc1Byb2pNYXRyaXgsbCksaD1ndS5mcm9tTWF0NChbXSxsKSx1PWd1LmludmVydChbXSxoKSxkPVswLDEsMF07TXUudHJhbnNmb3JtTWF0MyhkLGQsdSksTXUuc2NhbGUoZCxkLC4xNSk7Y29uc3QgcD1bMSwwLDBdO011LnRyYW5zZm9ybU1hdDMocCxwLHUpLE11LnNjYWxlKHAscCwuMTUpO2NvbnN0IGY9KChlLHQsaSxyKT0+KHt1X21hdHJpeDpGbG9hdDMyQXJyYXkuZnJvbShlKSx1X3VwOnQsdV9yaWdodDppLHVfaW50ZW5zaXR5X211bHRpcGxpZXI6cn0pKShjLGQscCxpKTtlLnVwbG9hZENvbW1vblVuaWZvcm1zKHIscyksdGhpcy5zdGFyc1Z4JiZ0aGlzLnN0YXJzSWR4JiZzLmRyYXcoZSxuLlRSSUFOR0xFUyxneC5kaXNhYmxlZCx4eC5kaXNhYmxlZCx0aGlzLmNvbG9yTW9kZUFscGhhQmxlbmRlZFdyaXRlUkdCLEV4LmRpc2FibGVkLGYsXCJhdG1vc3BoZXJlX3N0YXJzXCIsdGhpcy5zdGFyc1Z4LHRoaXMuc3RhcnNJZHgsdGhpcy5zdGFyc1NlZ21lbnRzKTt9fWZ1bmN0aW9uIG1BKGUsdCl7Y29uc3QgaT1bLi4uZV0scj10LmNhbWVyYVdvcmxkU2l6ZUZvckZvZy90LndvcmxkU2l6ZSxuPXh1LmlkZW50aXR5KFtdKTtyZXR1cm4geHUuc2NhbGUobixuLFtyLHIsMV0pLHh1Lm11bHRpcGx5KGksbixpKSx4dS5tdWx0aXBseShpLHQud29ybGRUb0ZvZ01hdHJpeCxpKSxpfWZ1bmN0aW9uIF9BKGUsdCxpLHIpe2NvbnN0IG49aS5tYXRlcmlhbCxvPXIuY29udGV4dCx7YmFzZUNvbG9yVGV4dHVyZTpzLG1ldGFsbGljUm91Z2huZXNzVGV4dHVyZTphfT1uLnBick1ldGFsbGljUm91Z2huZXNzLHtub3JtYWxUZXh0dXJlOmwsb2NjbHVzaW9uVGV4dHVyZTpjLGVtaXNzaW9uVGV4dHVyZTpofT1uO2Z1bmN0aW9uIHUodCxpLHIpe2lmKHQmJihlLnB1c2goaSksby5hY3RpdmVUZXh0dXJlLnNldChvLmdsLlRFWFRVUkUwK3IpLHQuZ2Z4VGV4dHVyZSkpe2NvbnN0e21pbkZpbHRlcjplLG1hZ0ZpbHRlcjppLHdyYXBTOnIsd3JhcFQ6bn09dC5zYW1wbGVyO3QuZ2Z4VGV4dHVyZS5iaW5kRXh0cmFQYXJhbShlLGkscixuKTt9fXUocyxcIkhBU19URVhUVVJFX3VfYmFzZUNvbG9yVGV4dHVyZVwiLHpNLkJhc2VDb2xvciksdShhLFwiSEFTX1RFWFRVUkVfdV9tZXRhbGxpY1JvdWdobmVzc1RleHR1cmVcIix6TS5NZXRhbGxpY1JvdWdobmVzcyksdShsLFwiSEFTX1RFWFRVUkVfdV9ub3JtYWxUZXh0dXJlXCIsek0uTm9ybWFsKSx1KGMsXCJIQVNfVEVYVFVSRV91X29jY2x1c2lvblRleHR1cmVcIix6TS5PY2NsdXNpb24pLHUoaCxcIkhBU19URVhUVVJFX3VfZW1pc3Npb25UZXh0dXJlXCIsek0uRW1pc3Npb24pLGkudGV4Y29vcmRCdWZmZXImJihlLnB1c2goXCJIQVNfQVRUUklCVVRFX2FfdXZfMmZcIiksdC5wdXNoKGkudGV4Y29vcmRCdWZmZXIpKSxpLmNvbG9yQnVmZmVyJiYoZS5wdXNoKDEyPT09aS5jb2xvckJ1ZmZlci5pdGVtU2l6ZT9cIkhBU19BVFRSSUJVVEVfYV9jb2xvcl8zZlwiOlwiSEFTX0FUVFJJQlVURV9hX2NvbG9yXzRmXCIpLHQucHVzaChpLmNvbG9yQnVmZmVyKSksaS5ub3JtYWxCdWZmZXImJihlLnB1c2goXCJIQVNfQVRUUklCVVRFX2Ffbm9ybWFsXzNmXCIpLHQucHVzaChpLm5vcm1hbEJ1ZmZlcikpLGkucGJyQnVmZmVyJiYoZS5wdXNoKFwiSEFTX0FUVFJJQlVURV9hX3BiclwiKSxlLnB1c2goXCJIQVNfQVRUUklCVVRFX2FfaGVpZ2h0QmFzZWRFbWlzc2l2ZVN0cmVuZ3RoXCIpLHQucHVzaChpLnBickJ1ZmZlcikpLFwiT1BBUVVFXCIhPT1uLmFscGhhTW9kZSYmXCJNQVNLXCIhPT1uLmFscGhhTW9kZXx8ZS5wdXNoKFwiVU5QUkVNVUxUX1RFWFRVUkVfSU5fU0hBREVSXCIpLG4uZGVmaW5lZHx8ZS5wdXNoKFwiRElGRlVTRV9TSEFERURcIiksZS5wdXNoKFwiVVNFX1NUQU5EQVJEX0RFUklWQVRJVkVTXCIpO31mdW5jdGlvbiBnQShlLHQsaSxyLG4sbyl7Y29uc3Qgcz1pLnBhaW50LmdldChcIm1vZGVsLW9wYWNpdHlcIiksYT10LmNvbnRleHQsbD1uZXcgZ3godC5jb250ZXh0LmdsLkxFUVVBTCxneC5SZWFkV3JpdGUsdC5kZXB0aFJhbmdlRm9yM0QpLGM9dC50cmFuc2Zvcm0saD1lLm1lc2gsdT1oLm1hdGVyaWFsLGQ9dS5wYnJNZXRhbGxpY1JvdWdobmVzcyxwPXQuc3R5bGUuZm9nO2xldCBmO2Y9XCJwaXhlbHNcIj09PXQudHJhbnNmb3JtLnByb2plY3Rpb24uekF4aXNVbml0P1suLi5lLm5vZGVNb2RlbE1hdHJpeF06eHUubXVsdGlwbHkoW10sci56U2NhbGVNYXRyaXgsZS5ub2RlTW9kZWxNYXRyaXgpLHh1Lm11bHRpcGx5KGYsci5uZWdDYW1lcmFQb3NNYXRyaXgsZik7Y29uc3QgbT14dS5pbnZlcnQoW10sZik7eHUudHJhbnNwb3NlKG0sbSk7Y29uc3QgXz1ETShuZXcgRmxvYXQzMkFycmF5KGUud29ybGRWaWV3UHJvamVjdGlvbiksbmV3IEZsb2F0MzJBcnJheShmKSxuZXcgRmxvYXQzMkFycmF5KG0pLHQscyxkLmJhc2VDb2xvckZhY3Rvcix1LmVtaXNzaXZlRmFjdG9yLGQubWV0YWxsaWNGYWN0b3IsZC5yb3VnaG5lc3NGYWN0b3IsdSxpKSxnPXtkZWZpbmVzOltdfSx5PVtdO19BKGcuZGVmaW5lcyx5LGgsdCk7Y29uc3QgeD10LnNoYWRvd1JlbmRlcmVyO3gmJih4LnVzZU5vcm1hbE9mZnNldD0hMSk7bGV0IHY9bnVsbDtpZihwKXtjb25zdCBpPW1BKGUubm9kZU1vZGVsTWF0cml4LHQudHJhbnNmb3JtKTtpZih2PW5ldyBGbG9hdDMyQXJyYXkoaSksXCJnbG9iZVwiIT09Yy5wcm9qZWN0aW9uLm5hbWUpe2NvbnN0IGU9aC5hYWJiLm1pbix0PWguYWFiYi5tYXgsW3Isbl09cC5nZXRPcGFjaXR5Rm9yQm91bmRzKGksZVswXSxlWzFdLHRbMF0sdFsxXSk7Zy5vdmVycmlkZUZvZz1yPj1zd3x8bj49c3c7fX1jb25zdCBiPSRFKHQsaS5wYWludC5nZXQoXCJtb2RlbC1jdXRvZmYtZmFkZS1yYW5nZVwiKSk7Yi5zaG91bGRSZW5kZXJDdXRvZmYmJmcuZGVmaW5lcy5wdXNoKFwiUkVOREVSX0NVVE9GRlwiKTtjb25zdCB3PXQuZ2V0T3JDcmVhdGVQcm9ncmFtKFwibW9kZWxcIixnKTt0LnVwbG9hZENvbW1vblVuaWZvcm1zKGEsdyxudWxsLHYsYiksXCJzaGFkb3dcIiE9PXQucmVuZGVyUGFzcyYmeCYmeC5zZXR1cFNoYWRvd3NGcm9tTWF0cml4KGUubm9kZU1vZGVsTWF0cml4LHcpLHcuZHJhdyh0LGEuZ2wuVFJJQU5HTEVTLGwsbixvLGgubWF0ZXJpYWwuZG91YmxlU2lkZWQ/RXguZGlzYWJsZWQ6RXguYmFja0NDVyxfLGkuaWQsaC52ZXJ0ZXhCdWZmZXIsaC5pbmRleEJ1ZmZlcixoLnNlZ21lbnRzLGkucGFpbnQsdC50cmFuc2Zvcm0uem9vbSx2b2lkIDAseSk7fWZ1bmN0aW9uIHlBKGUsdCxpLHIsbixvLHMpe2xldCBhO2E9XCJnbG9iZVwiPT09ZS5wcm9qZWN0aW9uLm5hbWU/eXYoaSxlKTpbLi4uaV0seHUubXVsdGlwbHkoYSxhLHQubWF0cml4KTtjb25zdCBsPXh1Lm11bHRpcGx5KFtdLHIsYSk7aWYodC5tZXNoZXMpZm9yKGNvbnN0IGUgb2YgdC5tZXNoZXMpe2lmKFwiQkxFTkRcIiE9PWUubWF0ZXJpYWwuYWxwaGFNb2RlKXtzLnB1c2goe21lc2g6ZSxkZXB0aDowLG1vZGVsSW5kZXg6bix3b3JsZFZpZXdQcm9qZWN0aW9uOmwsbm9kZU1vZGVsTWF0cml4OmF9KTtjb250aW51ZX1jb25zdCB0PU11LnRyYW5zZm9ybU1hdDQoW10sZS5jZW50cm9pZCxsKTt0WzJdPjAmJm8ucHVzaCh7bWVzaDplLGRlcHRoOnRbMl0sbW9kZWxJbmRleDpuLHdvcmxkVmlld1Byb2plY3Rpb246bCxub2RlTW9kZWxNYXRyaXg6YX0pO31pZih0LmNoaWxkcmVuKWZvcihjb25zdCBhIG9mIHQuY2hpbGRyZW4peUEoZSxhLGkscixuLG8scyk7fWZ1bmN0aW9uIHhBKGUsdCxpLHIpe2NvbnN0IG49aS5zaGFkb3dSZW5kZXJlcjtpZighbilyZXR1cm47Y29uc3Qgbz1uLmdldFNoYWRvd1Bhc3NEZXB0aE1vZGUoKSxzPW4uZ2V0U2hhZG93UGFzc0NvbG9yTW9kZSgpLGE9bi5jYWxjdWxhdGVTaGFkb3dQYXNzTWF0cml4RnJvbU1hdHJpeCh0KSxsPVJNKGEpO2kuZ2V0T3JDcmVhdGVQcm9ncmFtKFwibW9kZWxEZXB0aFwiLHtkZWZpbmVzOltcIkRFUFRIX1RFWFRVUkVcIl19KS5kcmF3KGksaS5jb250ZXh0LmdsLlRSSUFOR0xFUyxvLHh4LmRpc2FibGVkLHMsRXguYmFja0NDVyxsLHIuaWQsZS52ZXJ0ZXhCdWZmZXIsZS5pbmRleEJ1ZmZlcixlLnNlZ21lbnRzLHIucGFpbnQsaS50cmFuc2Zvcm0uem9vbSx2b2lkIDAsdm9pZCAwKTt9ZnVuY3Rpb24gdkEoZSx0LGkpe2NvbnN0IHI9dC51cGRhdGVab29tQmFzZWRQYWludFByb3BlcnRpZXMoKSxuPWZ1bmN0aW9uKGUsdCxpKXtsZXQgcixuLG8scz1lLnRlcnJhaW4/ZS50ZXJyYWluLmV4YWdnZXJhdGlvbigpOjA7aWYoZS50ZXJyYWluJiZzPjApe2NvbnN0IHQ9ZS50ZXJyYWluLG49dC5maW5kREVNVGlsZUZvcihpKTtuJiZuLmRlbT9yPXFtLmNyZWF0ZSh0LGksbik6cz0wO31pZigwPT09cyYmKHQudGVycmFpbkVsZXZhdGlvbk1pbj0wLHQudGVycmFpbkVsZXZhdGlvbk1heD0wKSxzPT09dC52YWxpZEZvckV4YWdnZXJhdGlvbiYmKDA9PT1zfHxyJiZyLl9kZW1UaWxlJiZyLl9kZW1UaWxlLnRpbGVJRD09PXQudmFsaWRGb3JERU1UaWxlLmlkJiZyLl9kZW0uX3RpbWVzdGFtcD09PXQudmFsaWRGb3JERU1UaWxlLnRpbWVzdGFtcCkpcmV0dXJuICExO2Zvcihjb25zdCBlIGluIHQuaW5zdGFuY2VzUGVyTW9kZWwpe2NvbnN0IGk9dC5pbnN0YW5jZXNQZXJNb2RlbFtlXTtmb3IobGV0IGU9MDtlPGkuaW5zdGFuY2VkRGF0YUFycmF5Lmxlbmd0aDsrK2Upe2NvbnN0IGE9KHI/cypyLmdldEVsZXZhdGlvbkF0KDB8aS5pbnN0YW5jZWREYXRhQXJyYXkuZmxvYXQzMlsxNiplXSwwfGkuaW5zdGFuY2VkRGF0YUFycmF5LmZsb2F0MzJbMTYqZSsxXSwhMCwhMCk6MCkraS5pbnN0YW5jZXNFdmFsdWF0ZWRFbGV2YXRpb25bZV07aS5pbnN0YW5jZWREYXRhQXJyYXkuZmxvYXQzMlsxNiplKzZdPWEsbj1uP01hdGgubWluKHQudGVycmFpbkVsZXZhdGlvbk1pbixhKTphLG89bz9NYXRoLm1heCh0LnRlcnJhaW5FbGV2YXRpb25NYXgsYSk6YTt9fXJldHVybiB0LnRlcnJhaW5FbGV2YXRpb25NaW49bnx8MCx0LnRlcnJhaW5FbGV2YXRpb25NYXg9b3x8MCx0LnZhbGlkRm9yRXhhZ2dlcmF0aW9uPXMsdC52YWxpZEZvckRFTVRpbGU9ciYmci5fZGVtVGlsZT97aWQ6ci5fZGVtVGlsZS50aWxlSUQsdGltZXN0YW1wOnIuX2RlbS5fdGltZXN0YW1wfTp7aWQ6dm9pZCAwLHRpbWVzdGFtcDowfSwhMH0oZSx0LGkpOyhyfHxuKSYmKHQudXBsb2FkZWQ9ITEsdC51cGxvYWQoZS5jb250ZXh0KSk7fWNvbnN0IGJBPXtzaGFkb3dVbmlmb3Jtc0luaXRpYWxpemVkOiExLHVzZVNpbmdsZVNoYWRvd0Nhc2NhZGU6ITEsdGlsZU1hdHJpeDpuZXcgRmxvYXQ2NEFycmF5KDE2KSxzaGFkb3dUaWxlTWF0cml4Om5ldyBGbG9hdDMyQXJyYXkoMTYpLGFhYmI6bmV3IEh1KFswLDAsMF0sW3NyLHNyLDBdKX07ZnVuY3Rpb24gd0EoZSx0KXtjb25zdCBpPTE8PGUuY2Fub25pY2FsLnoscj10LmdldEZyZWVDYW1lcmFPcHRpb25zKCkucG9zaXRpb24sbj10LmVsZXZhdGlvbixvPWUuY2Fub25pY2FsLngvaSxzPShlLmNhbm9uaWNhbC54KzEpL2ksYT1lLmNhbm9uaWNhbC55L2ksbD0oZS5jYW5vbmljYWwueSsxKS9pO2xldCBjPXQuX2NlbnRlckFsdGl0dWRlO2lmKG4pe2NvbnN0IHQ9bi5nZXRNaW5NYXhGb3JUaWxlKGUpO3QmJnQubWF4PmMmJihjPXQubWF4KTt9Y29uc3QgaD16KHIueCxvLHMpLXIueCx1PXooci55LGEsbCktci55LGQ9WmQoYyx0LmNlbnRlci5sYXQpLXIuejtyZXR1cm4gdC5fem9vbUZyb21NZXJjYXRvclooTWF0aC5zcXJ0KGgqaCt1KnUrZCpkKSl9ZnVuY3Rpb24gVEEoZSx0LGkscixuLG8scyl7Y29uc3QgYT1lLmNvbnRleHQsbD1cInNoYWRvd1wiPT09ZS5yZW5kZXJQYXNzLGM9ZS5zaGFkb3dSZW5kZXJlcixoPWwmJmM/Yy5nZXRTaGFkb3dQYXNzRGVwdGhNb2RlKCk6bmV3IGd4KGEuZ2wuTEVRVUFMLGd4LlJlYWRXcml0ZSxlLmRlcHRoUmFuZ2VGb3IzRCksdT1lLmlzVGlsZUFmZmVjdGVkQnlGb2cobyk7aWYoaS5tZXNoZXMpZm9yKGNvbnN0IGQgb2YgaS5tZXNoZXMpe2NvbnN0IHA9W1wiTU9ERUxfUE9TSVRJT05fT05fR1BVXCJdLGY9W107bGV0IG0sXyxnO3IuaW5zdGFuY2VkRGF0YUFycmF5Lmxlbmd0aD4yMCYmcC5wdXNoKFwiSU5TVEFOQ0VEX0FSUkFZU1wiKTtjb25zdCB5PSRFKGUsdC5wYWludC5nZXQoXCJtb2RlbC1jdXRvZmYtZmFkZS1yYW5nZVwiKSk7aWYoeS5zaG91bGRSZW5kZXJDdXRvZmYmJnAucHVzaChcIlJFTkRFUl9DVVRPRkZcIiksbCYmYyltPWUuZ2V0T3JDcmVhdGVQcm9ncmFtKFwibW9kZWxEZXB0aFwiLHtkZWZpbmVzOnB9KSxfPVJNKHMuc2hhZG93VGlsZU1hdHJpeCxzLnNoYWRvd1RpbGVNYXRyaXgsRmxvYXQzMkFycmF5LmZyb20oaS5tYXRyaXgpKSxnPWMuZ2V0U2hhZG93UGFzc0NvbG9yTW9kZSgpO2Vsc2Uge19BKHAsZixkLGUpLG09ZS5nZXRPckNyZWF0ZVByb2dyYW0oXCJtb2RlbFwiLHtkZWZpbmVzOnAsb3ZlcnJpZGVGb2c6dX0pO2NvbnN0IHI9ZC5tYXRlcmlhbCxsPXIucGJyTWV0YWxsaWNSb3VnaG5lc3MsaD10LnBhaW50LmdldChcIm1vZGVsLW9wYWNpdHlcIik7Xz1ETShvLnByb2pNYXRyaXgsRmxvYXQzMkFycmF5LmZyb20oaS5tYXRyaXgpLG5ldyBGbG9hdDMyQXJyYXkoMTYpLGUsaCxsLmJhc2VDb2xvckZhY3RvcixyLmVtaXNzaXZlRmFjdG9yLGwubWV0YWxsaWNGYWN0b3IsbC5yb3VnaG5lc3NGYWN0b3Iscix0LG4pLGMmJihzLnNoYWRvd1VuaWZvcm1zSW5pdGlhbGl6ZWQ/bS5zZXRTaGFkb3dVbmlmb3JtVmFsdWVzKGEsYy5nZXRTaGFkb3dVbmlmb3JtVmFsdWVzKCkpOihjLnNldHVwU2hhZG93cyhvLnRvVW53cmFwcGVkKCksbSxcIm1vZGVsLXRpbGVcIixvLm92ZXJzY2FsZWRaKSxzLnNoYWRvd1VuaWZvcm1zSW5pdGlhbGl6ZWQ9ITApKSxnPXkuc2hvdWxkUmVuZGVyQ3V0b2ZmfHxoPDF8fFwiT1BBUVVFXCIhPT1yLmFscGhhTW9kZT9ieC5hbHBoYUJsZW5kZWQ6YngudW5ibGVuZGVkO31lLnVwbG9hZENvbW1vblVuaWZvcm1zKGEsbSxvLnRvVW53cmFwcGVkKCksbnVsbCx5KTtjb25zdCB4PWQubWF0ZXJpYWwuZG91YmxlU2lkZWQ/RXguZGlzYWJsZWQ6RXguYmFja0NDVztpZihyLmluc3RhbmNlZERhdGFBcnJheS5sZW5ndGg+MjApZi5wdXNoKHIuaW5zdGFuY2VkRGF0YUJ1ZmZlciksbS5kcmF3KGUsYS5nbC5UUklBTkdMRVMsaCx4eC5kaXNhYmxlZCxnLHgsXyx0LmlkLGQudmVydGV4QnVmZmVyLGQuaW5kZXhCdWZmZXIsZC5zZWdtZW50cyx0LnBhaW50LGUudHJhbnNmb3JtLnpvb20sdm9pZCAwLGYsci5pbnN0YW5jZWREYXRhQXJyYXkubGVuZ3RoKTtlbHNlIHtjb25zdCBpPWw/XCJ1X2luc3RhbmNlXCI6XCJ1X25vcm1hbF9tYXRyaXhcIjtmb3IobGV0IG49MDtuPHIuaW5zdGFuY2VkRGF0YUFycmF5Lmxlbmd0aDsrK24pX1tpXT1uZXcgRmxvYXQzMkFycmF5KHIuaW5zdGFuY2VkRGF0YUFycmF5LmFycmF5QnVmZmVyLDY0Km4sMTYpLG0uZHJhdyhlLGEuZ2wuVFJJQU5HTEVTLGgseHguZGlzYWJsZWQsZyx4LF8sdC5pZCxkLnZlcnRleEJ1ZmZlcixkLmluZGV4QnVmZmVyLGQuc2VnbWVudHMsdC5wYWludCxlLnRyYW5zZm9ybS56b29tLHZvaWQgMCxmKTt9fWlmKGkuY2hpbGRyZW4pZm9yKGNvbnN0IGEgb2YgaS5jaGlsZHJlbilUQShlLHQsYSxyLG4sbyxzKTt9Y29uc3QgRUE9WzEsLTEsMV07ZnVuY3Rpb24gTUEoZSx0LGkscil7aWYoIWkubW9kZWxNYW5hZ2VyKXJldHVybiAhMDtjb25zdCBuPWkubW9kZWxNYW5hZ2VyO2lmKCFpLnNoYWRvd1JlbmRlcmVyKXJldHVybiAhMDtjb25zdCBvPWkuc2hhZG93UmVuZGVyZXIscz10LmFhYmI7bGV0IGE9ITAsbD1lLm1heEhlaWdodDtpZigwPT09bCl7bGV0IHQ9MDtmb3IoY29uc3QgaSBpbiBlLmluc3RhbmNlc1Blck1vZGVsKXtjb25zdCBlPW4uZ2V0TW9kZWwoaSxyKTtlP3Q9TWF0aC5tYXgodCxNYXRoLm1heChNYXRoLm1heChlLmFhYmIubWF4WzBdLGUuYWFiYi5tYXhbMV0pLGUuYWFiYi5tYXhbMl0pKTphPSExO31sPWUubWF4U2NhbGUqdCoxLjQxK2UubWF4VmVydGljYWxPZmZzZXQsYSYmKGUubWF4SGVpZ2h0PWwpO31zLm1heFsyXT1sLHMubWluWzJdKz1lLnRlcnJhaW5FbGV2YXRpb25NaW4scy5tYXhbMl0rPWUudGVycmFpbkVsZXZhdGlvbk1heCxNdS50cmFuc2Zvcm1NYXQ0KHMubWluLHMubWluLHQudGlsZU1hdHJpeCksTXUudHJhbnNmb3JtTWF0NChzLm1heCxzLm1heCx0LnRpbGVNYXRyaXgpO2NvbnN0IGM9cy5pbnRlcnNlY3RzKG8uZ2V0Q3VycmVudENhc2NhZGVGcnVzdHVtKCkpO3JldHVybiAwPT09aS5jdXJyZW50U2hhZG93Q2FzY2FkZSYmKGUuaXNJbnNpZGVGaXJzdFNoYWRvd01hcEZydXN0dW09Mj09PWMpLDA9PT1jfWNsYXNzIEFBe31jbGFzcyBTQXtjb25zdHJ1Y3Rvcigpe3RoaXMuX3N0b3JhZ2U9bmV3IE1hcDt9Z2V0TGluZXNGcm9tVHJpYW5nbGVzQnVmZmVyKGUsdCxpKXt7Y29uc3QgaT10aGlzLl9zdG9yYWdlLmdldCh0LmlkKTtpZihpKXJldHVybiBpLmxhc3RVc2VkRnJhbWVJZHg9ZSxpLmJ1Zn1jb25zdCByPWkuZ2wsbj1yLmdldEJ1ZmZlclBhcmFtZXRlcihyLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHIuQlVGRkVSX1NJWkUpLG89bmV3IEFycmF5QnVmZmVyKG4pLHM9bmV3IEludDE2QXJyYXkobyk7ci5nZXRCdWZmZXJTdWJEYXRhKHIuRUxFTUVOVF9BUlJBWV9CVUZGRVIsMCxuZXcgSW50MTZBcnJheShvKSk7Y29uc3QgYT1uZXcga2E7Zm9yKGxldCBlPTA7ZTxuLzI7ZSs9Myl7Y29uc3QgdD1zW2VdLGk9c1tlKzFdLHI9c1tlKzJdO2EuZW1wbGFjZUJhY2sodCxpKSxhLmVtcGxhY2VCYWNrKGksciksYS5lbXBsYWNlQmFjayhyLHQpO31jb25zdCBsPWkuYmluZFZlcnRleEFycmF5T0VTLmN1cnJlbnQsYz1uZXcgQUE7cmV0dXJuIGMuYnVmPW5ldyB6eShpLGEpLGMubGFzdFVzZWRGcmFtZUlkeD1lLHRoaXMuX3N0b3JhZ2Uuc2V0KHQuaWQsYyksaS5iaW5kVmVydGV4QXJyYXlPRVMuc2V0KGwpLGMuYnVmfXVwZGF0ZShlKXtmb3IoY29uc3RbdCxpXW9mIHRoaXMuX3N0b3JhZ2UpZS1pLmxhc3RVc2VkRnJhbWVJZHg+MzAmJihpLmJ1Zi5kZXN0cm95KCksdGhpcy5fc3RvcmFnZS5kZWxldGUodCkpO31kZXN0cm95KCl7Zm9yKGNvbnN0W2UsdF1vZiB0aGlzLl9zdG9yYWdlKXQuYnVmLmRlc3Ryb3koKSx0aGlzLl9zdG9yYWdlLmRlbGV0ZShlKTt9fWNvbnN0IElBPXtzeW1ib2w6ZnVuY3Rpb24oZSx0LGkscixuKXtpZihcInRyYW5zbHVjZW50XCIhPT1lLnJlbmRlclBhc3MpcmV0dXJuO2NvbnN0IG89eHguZGlzYWJsZWQscz1lLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKTtpLmxheW91dC5nZXQoXCJ0ZXh0LXZhcmlhYmxlLWFuY2hvclwiKSYmZnVuY3Rpb24oZSx0LGkscixuLG8scyl7Y29uc3QgYT10LnRyYW5zZm9ybSxsPVwibWFwXCI9PT1uLGM9XCJtYXBcIj09PW87Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT1yLmdldFRpbGUodCksbj1lLmdldEJ1Y2tldChpKTtpZighbnx8IW4udGV4dHx8IW4udGV4dC5zZWdtZW50cy5nZXQoKS5sZW5ndGgpY29udGludWU7Y29uc3Qgbz1hXyhuLnRleHRTaXplRGF0YSxhLnpvb20pLGg9R1QodCxuLmdldFByb2plY3Rpb24oKSxhKSx1PWEuY2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgoZSksZD1KeChoLGUudGlsZUlELmNhbm9uaWNhbCxjLGwsYSxuLmdldFByb2plY3Rpb24oKSx1KSxwPW4uaGFzSWNvblRleHRGaXQoKSYmbi5oYXNJY29uRGF0YSgpO2lmKG8pe2NvbnN0IGk9TWF0aC5wb3coMixhLnpvb20tZS50aWxlSUQub3ZlcnNjYWxlZFopO05NKG4sbCxjLHMsbF8sYSxkLHQsaSxvLHApO319fShyLGUsaSx0LGkubGF5b3V0LmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpLGkubGF5b3V0LmdldChcInRleHQtcGl0Y2gtYWxpZ25tZW50XCIpLG4pLDAhPT1pLnBhaW50LmdldChcImljb24tb3BhY2l0eVwiKS5jb25zdGFudE9yKDEpJiZWTShlLHQsaSxyLCExLGkucGFpbnQuZ2V0KFwiaWNvbi10cmFuc2xhdGVcIiksaS5wYWludC5nZXQoXCJpY29uLXRyYW5zbGF0ZS1hbmNob3JcIiksaS5sYXlvdXQuZ2V0KFwiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIiksaS5sYXlvdXQuZ2V0KFwiaWNvbi1waXRjaC1hbGlnbm1lbnRcIiksaS5sYXlvdXQuZ2V0KFwiaWNvbi1rZWVwLXVwcmlnaHRcIiksbyxzKSwwIT09aS5wYWludC5nZXQoXCJ0ZXh0LW9wYWNpdHlcIikuY29uc3RhbnRPcigxKSYmVk0oZSx0LGksciwhMCxpLnBhaW50LmdldChcInRleHQtdHJhbnNsYXRlXCIpLGkucGFpbnQuZ2V0KFwidGV4dC10cmFuc2xhdGUtYW5jaG9yXCIpLGkubGF5b3V0LmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpLGkubGF5b3V0LmdldChcInRleHQtcGl0Y2gtYWxpZ25tZW50XCIpLGkubGF5b3V0LmdldChcInRleHQta2VlcC11cHJpZ2h0XCIpLG8scyksdC5tYXAuc2hvd0NvbGxpc2lvbkJveGVzJiYoT00oZSx0LGkscixpLnBhaW50LmdldChcInRleHQtdHJhbnNsYXRlXCIpLGkucGFpbnQuZ2V0KFwidGV4dC10cmFuc2xhdGUtYW5jaG9yXCIpLCEwKSxPTShlLHQsaSxyLGkucGFpbnQuZ2V0KFwiaWNvbi10cmFuc2xhdGVcIiksaS5wYWludC5nZXQoXCJpY29uLXRyYW5zbGF0ZS1hbmNob3JcIiksITEpKTt9LGNpcmNsZTpmdW5jdGlvbihlLHQsaSxyKXtpZihcInRyYW5zbHVjZW50XCIhPT1lLnJlbmRlclBhc3MpcmV0dXJuO2NvbnN0IG49aS5wYWludC5nZXQoXCJjaXJjbGUtb3BhY2l0eVwiKSxvPWkucGFpbnQuZ2V0KFwiY2lyY2xlLXN0cm9rZS13aWR0aFwiKSxzPWkucGFpbnQuZ2V0KFwiY2lyY2xlLXN0cm9rZS1vcGFjaXR5XCIpLGE9dm9pZCAwIT09aS5sYXlvdXQuZ2V0KFwiY2lyY2xlLXNvcnQta2V5XCIpLmNvbnN0YW50T3IoMSksbD1pLnBhaW50LmdldChcImNpcmNsZS1lbWlzc2l2ZS1zdHJlbmd0aFwiKTtpZigwPT09bi5jb25zdGFudE9yKDEpJiYoMD09PW8uY29uc3RhbnRPcigxKXx8MD09PXMuY29uc3RhbnRPcigxKSkpcmV0dXJuO2NvbnN0IGM9ZS5jb250ZXh0LGg9Yy5nbCx1PWUudHJhbnNmb3JtLGQ9ZS5kZXB0aE1vZGVGb3JTdWJsYXllcigwLGd4LlJlYWRPbmx5KSxwPXh4LmRpc2FibGVkLGY9ZS5jb2xvck1vZGVGb3JEcmFwYWJsZUxheWVyUmVuZGVyUGFzcyhsKSxtPVwiZ2xvYmVcIj09PXUucHJvamVjdGlvbi5uYW1lLF89W0dkKHUuY2VudGVyLmxuZykscWQodS5jZW50ZXIubGF0KV0sZz1bXTtmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rKyl7Y29uc3Qgbz1yW25dLHM9dC5nZXRUaWxlKG8pLGw9cy5nZXRCdWNrZXQoaSk7aWYoIWx8fGwucHJvamVjdGlvbi5uYW1lIT09dS5wcm9qZWN0aW9uLm5hbWUpY29udGludWU7Y29uc3QgYz1sLnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQoaS5pZCksaD1rcChpKSxkPWUuaXNUaWxlQWZmZWN0ZWRCeUZvZyhvKTttJiZoLnB1c2goXCJQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcIik7Y29uc3QgcD1lLmdldE9yQ3JlYXRlUHJvZ3JhbShcImNpcmNsZVwiLHtjb25maWc6YyxkZWZpbmVzOmgsb3ZlcnJpZGVGb2c6ZH0pLGY9bC5sYXlvdXRWZXJ0ZXhCdWZmZXIseT1sLmdsb2JlRXh0VmVydGV4QnVmZmVyLHg9bC5pbmRleEJ1ZmZlcix2PXUucHJvamVjdGlvbi5jcmVhdGVJbnZlcnNpb25NYXRyaXgodSxvLmNhbm9uaWNhbCksYj17cHJvZ3JhbUNvbmZpZ3VyYXRpb246Yyxwcm9ncmFtOnAsbGF5b3V0VmVydGV4QnVmZmVyOmYsZ2xvYmVFeHRWZXJ0ZXhCdWZmZXI6eSxpbmRleEJ1ZmZlcjp4LHVuaWZvcm1WYWx1ZXM6THAoZSxvLHMsdixfLGkpLHRpbGU6c307aWYoYSl7Y29uc3QgZT1sLnNlZ21lbnRzLmdldCgpO2Zvcihjb25zdCB0IG9mIGUpZy5wdXNoKHtzZWdtZW50czpuZXcgZGwoW3RdKSxzb3J0S2V5OnQuc29ydEtleSxzdGF0ZTpifSk7fWVsc2UgZy5wdXNoKHtzZWdtZW50czpsLnNlZ21lbnRzLHNvcnRLZXk6MCxzdGF0ZTpifSk7fWEmJmcuc29ydCgoKGUsdCk9PmUuc29ydEtleS10LnNvcnRLZXkpKTtjb25zdCB5PXt1c2VEZXB0aEZvck9jY2x1c2lvbjp1LmRlcHRoT2NjbHVzaW9uRm9yU3ltYm9sc0FuZENpcmNsZXN9O2Zvcihjb25zdCB0IG9mIGcpe2NvbnN0e3Byb2dyYW1Db25maWd1cmF0aW9uOnIscHJvZ3JhbTpuLGxheW91dFZlcnRleEJ1ZmZlcjpvLGdsb2JlRXh0VmVydGV4QnVmZmVyOnMsaW5kZXhCdWZmZXI6YSx1bmlmb3JtVmFsdWVzOmwsdGlsZTptfT10LnN0YXRlLF89dC5zZWdtZW50cztlLnRlcnJhaW4mJmUudGVycmFpbi5zZXR1cEVsZXZhdGlvbkRyYXcobSxuLHkpLGUudXBsb2FkQ29tbW9uVW5pZm9ybXMoYyxuLG0udGlsZUlELnRvVW53cmFwcGVkKCkpLG4uZHJhdyhlLGguVFJJQU5HTEVTLGQscCxmLEV4LmRpc2FibGVkLGwsaS5pZCxvLGEsXyxpLnBhaW50LHUuem9vbSxyLFtzXSk7fX0saGVhdG1hcDpmdW5jdGlvbihlLHQsaSxyKXtpZigwIT09aS5wYWludC5nZXQoXCJoZWF0bWFwLW9wYWNpdHlcIikpaWYoXCJvZmZzY3JlZW5cIj09PWUucmVuZGVyUGFzcyl7Y29uc3Qgbj1lLmNvbnRleHQsbz1uLmdsLHM9eHguZGlzYWJsZWQsYT1uZXcgYngoW28uT05FLG8uT05FLG8uT05FLG8uT05FXSxsaS50cmFuc3BhcmVudCxbITAsITAsITAsITBdKTshZnVuY3Rpb24oZSx0LGkscil7Y29uc3Qgbj1lLmdsLG89dC53aWR0aCpyLHM9dC5oZWlnaHQqcjtlLmFjdGl2ZVRleHR1cmUuc2V0KG4uVEVYVFVSRTEpLGUudmlld3BvcnQuc2V0KFswLDAsbyxzXSk7bGV0IGE9aS5oZWF0bWFwRmJvO2lmKCFhfHxhJiYoYS53aWR0aCE9PW98fGEuaGVpZ2h0IT09cykpe2EmJmEuZGVzdHJveSgpO2NvbnN0IHQ9bi5jcmVhdGVUZXh0dXJlKCk7bi5iaW5kVGV4dHVyZShuLlRFWFRVUkVfMkQsdCksbi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfV1JBUF9TLG4uQ0xBTVBfVE9fRURHRSksbi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfV1JBUF9ULG4uQ0xBTVBfVE9fRURHRSksbi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfTUlOX0ZJTFRFUixuLkxJTkVBUiksbi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfTUFHX0ZJTFRFUixuLkxJTkVBUiksYT1pLmhlYXRtYXBGYm89ZS5jcmVhdGVGcmFtZWJ1ZmZlcihvLHMsITAsbnVsbCksZnVuY3Rpb24oZSx0LGkscixuLG8pe2NvbnN0IHM9ZS5nbDtzLnRleEltYWdlMkQocy5URVhUVVJFXzJELDAsZS5leHRSZW5kZXJUb1RleHR1cmVIYWxmRmxvYXQ/cy5SR0JBMTZGOnMuUkdCQSxuLG8sMCxzLlJHQkEsZS5leHRSZW5kZXJUb1RleHR1cmVIYWxmRmxvYXQ/cy5IQUxGX0ZMT0FUOnMuVU5TSUdORURfQllURSxudWxsKSxyLmNvbG9yQXR0YWNobWVudC5zZXQoaSk7fShlLDAsdCxhLG8scyk7fWVsc2Ugbi5iaW5kVGV4dHVyZShuLlRFWFRVUkVfMkQsYS5jb2xvckF0dGFjaG1lbnQuZ2V0KCkpLGUuYmluZEZyYW1lYnVmZmVyLnNldChhLmZyYW1lYnVmZmVyKTt9KG4sZSxpLFwiZ2xvYmVcIj09PWUudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZT8uNTouMjUpLG4uY2xlYXIoe2NvbG9yOmxpLnRyYW5zcGFyZW50fSk7Y29uc3QgbD1lLnRyYW5zZm9ybSxjPVwiZ2xvYmVcIj09PWwucHJvamVjdGlvbi5uYW1lLGg9Yz9bXCJQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcIl06W10sdT1jP0V4LmZyb250Q0NXOkV4LmRpc2FibGVkLGQ9W0dkKGwuY2VudGVyLmxuZykscWQobC5jZW50ZXIubGF0KV07Zm9yKGxldCBwPTA7cDxyLmxlbmd0aDtwKyspe2NvbnN0IGY9cltwXTtpZih0Lmhhc1JlbmRlcmFibGVQYXJlbnQoZikpY29udGludWU7Y29uc3QgbT10LmdldFRpbGUoZiksXz1tLmdldEJ1Y2tldChpKTtpZighX3x8Xy5wcm9qZWN0aW9uLm5hbWUhPT1sLnByb2plY3Rpb24ubmFtZSljb250aW51ZTtjb25zdCBnPWUuaXNUaWxlQWZmZWN0ZWRCeUZvZyhmKSx5PV8ucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChpLmlkKSx4PWUuZ2V0T3JDcmVhdGVQcm9ncmFtKFwiaGVhdG1hcFwiLHtjb25maWc6eSxkZWZpbmVzOmgsb3ZlcnJpZGVGb2c6Z30pLHt6b29tOnZ9PWUudHJhbnNmb3JtO2UudGVycmFpbiYmZS50ZXJyYWluLnNldHVwRWxldmF0aW9uRHJhdyhtLHgpLGUudXBsb2FkQ29tbW9uVW5pZm9ybXMobix4LGYudG9VbndyYXBwZWQoKSk7Y29uc3QgYj1sLnByb2plY3Rpb24uY3JlYXRlSW52ZXJzaW9uTWF0cml4KGwsZi5jYW5vbmljYWwpO3guZHJhdyhlLG8uVFJJQU5HTEVTLGd4LmRpc2FibGVkLHMsYSx1LHZNKGUsZixtLGIsZCx2LGkucGFpbnQuZ2V0KFwiaGVhdG1hcC1pbnRlbnNpdHlcIikpLGkuaWQsXy5sYXlvdXRWZXJ0ZXhCdWZmZXIsXy5pbmRleEJ1ZmZlcixfLnNlZ21lbnRzLGkucGFpbnQsZS50cmFuc2Zvcm0uem9vbSx5LGM/W18uZ2xvYmVFeHRWZXJ0ZXhCdWZmZXJdOm51bGwpO31uLnZpZXdwb3J0LnNldChbMCwwLGUud2lkdGgsZS5oZWlnaHRdKTt9ZWxzZSBcInRyYW5zbHVjZW50XCI9PT1lLnJlbmRlclBhc3MmJihlLmNvbnRleHQuc2V0Q29sb3JNb2RlKGUuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKSxmdW5jdGlvbihlLHQpe2NvbnN0IGk9ZS5jb250ZXh0LHI9aS5nbCxuPXQuaGVhdG1hcEZibztpZighbilyZXR1cm47aS5hY3RpdmVUZXh0dXJlLnNldChyLlRFWFRVUkUwKSxyLmJpbmRUZXh0dXJlKHIuVEVYVFVSRV8yRCxuLmNvbG9yQXR0YWNobWVudC5nZXQoKSksaS5hY3RpdmVUZXh0dXJlLnNldChyLlRFWFRVUkUxKTtsZXQgbz10LmNvbG9yUmFtcFRleHR1cmU7b3x8KG89dC5jb2xvclJhbXBUZXh0dXJlPW5ldyBneShpLHQuY29sb3JSYW1wLHIuUkdCQSkpLG8uYmluZChyLkxJTkVBUixyLkNMQU1QX1RPX0VER0UpLGUuZ2V0T3JDcmVhdGVQcm9ncmFtKFwiaGVhdG1hcFRleHR1cmVcIikuZHJhdyhlLHIuVFJJQU5HTEVTLGd4LmRpc2FibGVkLHh4LmRpc2FibGVkLGUuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLEV4LmRpc2FibGVkLCgoZSx0LGkscik9Pih7dV9pbWFnZTowLHVfY29sb3JfcmFtcDoxLHVfb3BhY2l0eTp0LnBhaW50LmdldChcImhlYXRtYXAtb3BhY2l0eVwiKX0pKSgwLHQpLHQuaWQsZS52aWV3cG9ydEJ1ZmZlcixlLnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLGUudmlld3BvcnRTZWdtZW50cyx0LnBhaW50LGUudHJhbnNmb3JtLnpvb20pO30oZSxpKSk7fSxsaW5lOmZ1bmN0aW9uKGUsdCxpLHIpe2lmKFwidHJhbnNsdWNlbnRcIiE9PWUucmVuZGVyUGFzcylyZXR1cm47Y29uc3Qgbj1pLnBhaW50LmdldChcImxpbmUtb3BhY2l0eVwiKSxvPWkucGFpbnQuZ2V0KFwibGluZS13aWR0aFwiKTtpZigwPT09bi5jb25zdGFudE9yKDEpfHwwPT09by5jb25zdGFudE9yKDEpKXJldHVybjtjb25zdCBzPWkucGFpbnQuZ2V0KFwibGluZS1lbWlzc2l2ZS1zdHJlbmd0aFwiKSxhPWUuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxneC5SZWFkT25seSksbD1lLmNvbG9yTW9kZUZvckRyYXBhYmxlTGF5ZXJSZW5kZXJQYXNzKHMpLGM9ZS50ZXJyYWluJiZlLnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlPzE6aHQuZGV2aWNlUGl4ZWxSYXRpbyxoPWkucGFpbnQuZ2V0KFwibGluZS1kYXNoYXJyYXlcIiksdT1oLmNvbnN0YW50T3IoMSksZD1pLmxheW91dC5nZXQoXCJsaW5lLWNhcFwiKSxwPWkucGFpbnQuZ2V0KFwibGluZS1wYXR0ZXJuXCIpLGY9cC5jb25zdGFudE9yKDEpLG09aS5wYWludC5nZXQoXCJsaW5lLXBhdHRlcm5cIikuY29uc3RhbnRPcigxKSxfPTEhPT1pLnBhaW50LmdldChcImxpbmUtb3BhY2l0eVwiKS5jb25zdGFudE9yKDEpO2xldCBnPSFtJiZfO2NvbnN0IHk9aS5wYWludC5nZXQoXCJsaW5lLWdyYWRpZW50XCIpLHg9Zj9cImxpbmVQYXR0ZXJuXCI6XCJsaW5lXCIsdj1lLmNvbnRleHQsYj12LmdsLHc9a2IoaSk7ZS50ZXJyYWluJiZlLnRlcnJhaW4uY2xpcE9yTWFza092ZXJsYXBTdGVuY2lsVHlwZSgpJiYoZz0hMSk7Zm9yKGNvbnN0IG4gb2Ygcil7Y29uc3Qgcj10LmdldFRpbGUobik7aWYoZiYmIXIucGF0dGVybnNMb2FkZWQoKSljb250aW51ZTtjb25zdCBvPXIuZ2V0QnVja2V0KGkpO2lmKCFvKWNvbnRpbnVlO2UucHJlcGFyZURyYXdUaWxlKCk7Y29uc3Qgcz1vLnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQoaS5pZCksbT1lLmlzVGlsZUFmZmVjdGVkQnlGb2cobiksXz1lLmdldE9yQ3JlYXRlUHJvZ3JhbSh4LHtjb25maWc6cyxkZWZpbmVzOncsb3ZlcnJpZGVGb2c6bX0pLFQ9cC5jb25zdGFudE9yKG51bGwpO2lmKFQmJnIuaW1hZ2VBdGxhcyl7Y29uc3QgZT1yLmltYWdlQXRsYXMucGF0dGVyblBvc2l0aW9uc1tULnRvU3RyaW5nKCldO2UmJnMuc2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKGUpO31jb25zdCBFPWguY29uc3RhbnRPcihudWxsKSxNPWQuY29uc3RhbnRPcihudWxsKTtpZighZiYmRSYmTSYmci5saW5lQXRsYXMpe2NvbnN0IGU9ci5saW5lQXRsYXMuZ2V0RGFzaChFLE0pO2UmJnMuc2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKGUpO31sZXRbQSxTXT1pLnBhaW50LmdldChcImxpbmUtdHJpbS1vZmZzZXRcIik7aWYoXCJyb3VuZFwiPT09TXx8XCJzcXVhcmVcIj09PU0pe2NvbnN0IGU9MTtBIT09UyYmKDA9PT1BJiYoQS09ZSksMT09PVMmJihTKz1lKSk7fWNvbnN0IEk9ZS50ZXJyYWluP24ucHJvak1hdHJpeDpudWxsLEM9Zj9QYihlLHIsaSxJLGMpOkRiKGUscixpLEksby5saW5lQ2xpcHNBcnJheS5sZW5ndGgsYyxbQSxTXSk7aWYoeSl7Y29uc3Qgcj1vLmdyYWRpZW50c1tpLmlkXTtsZXQgcz1yLnRleHR1cmU7aWYoaS5ncmFkaWVudFZlcnNpb24hPT1yLnZlcnNpb24pe2xldCBhPTI1NjtpZihpLnN0ZXBJbnRlcnBvbGFudCl7Y29uc3QgaT10LmdldFNvdXJjZSgpLm1heHpvb20scj1uLmNhbm9uaWNhbC56PT09aT9NYXRoLmNlaWwoMTw8ZS50cmFuc2Zvcm0ubWF4Wm9vbS1uLmNhbm9uaWNhbC56KToxO2E9eihVKG8ubWF4TGluZUxlbmd0aC9zcioxMDI0KnIpLDI1Nix2Lm1heFRleHR1cmVTaXplKTt9ci5ncmFkaWVudD1ZcCh7ZXhwcmVzc2lvbjppLmdyYWRpZW50RXhwcmVzc2lvbigpLGV2YWx1YXRpb25LZXk6XCJsaW5lUHJvZ3Jlc3NcIixyZXNvbHV0aW9uOmEsaW1hZ2U6ci5ncmFkaWVudHx8dm9pZCAwLGNsaXBzOm8ubGluZUNsaXBzQXJyYXl9KSxyLnRleHR1cmU/ci50ZXh0dXJlLnVwZGF0ZShyLmdyYWRpZW50KTpyLnRleHR1cmU9bmV3IGd5KHYsci5ncmFkaWVudCxiLlJHQkEpLHIudmVyc2lvbj1pLmdyYWRpZW50VmVyc2lvbixzPXIudGV4dHVyZTt9di5hY3RpdmVUZXh0dXJlLnNldChiLlRFWFRVUkUxKSxzLmJpbmQoaS5zdGVwSW50ZXJwb2xhbnQ/Yi5ORUFSRVNUOmIuTElORUFSLGIuQ0xBTVBfVE9fRURHRSk7fXUmJih2LmFjdGl2ZVRleHR1cmUuc2V0KGIuVEVYVFVSRTApLHIubGluZUF0bGFzVGV4dHVyZS5iaW5kKGIuTElORUFSLGIuUkVQRUFUKSxzLnVwZGF0ZVBhaW50QnVmZmVycygpKSxmJiYodi5hY3RpdmVUZXh0dXJlLnNldChiLlRFWFRVUkUwKSxyLmltYWdlQXRsYXNUZXh0dXJlLmJpbmQoYi5MSU5FQVIsYi5DTEFNUF9UT19FREdFKSxzLnVwZGF0ZVBhaW50QnVmZmVycygpKSxlLnVwbG9hZENvbW1vblVuaWZvcm1zKHYsXyxuLnRvVW53cmFwcGVkKCkpO2NvbnN0IEQ9dD0+e18uZHJhdyhlLGIuVFJJQU5HTEVTLGEsdCxsLEV4LmRpc2FibGVkLEMsaS5pZCxvLmxheW91dFZlcnRleEJ1ZmZlcixvLmluZGV4QnVmZmVyLG8uc2VnbWVudHMsaS5wYWludCxlLnRyYW5zZm9ybS56b29tLHMsW28ubGF5b3V0VmVydGV4QnVmZmVyMl0pO307aWYoZyl7Y29uc3QgdD1lLnN0ZW5jaWxNb2RlRm9yQ2xpcHBpbmcobikucmVmOzA9PT10JiZlLnRlcnJhaW4mJnYuY2xlYXIoe3N0ZW5jaWw6MH0pO2NvbnN0IGk9e2Z1bmM6Yi5FUVVBTCxtYXNrOjI1NX07Qy51X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkPS44LEQobmV3IHh4KGksdCwyNTUsYi5LRUVQLGIuS0VFUCxiLklOVkVSVCkpLEMudV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZD0wLEQobmV3IHh4KGksdCwyNTUsYi5LRUVQLGIuS0VFUCxiLktFRVApKTt9ZWxzZSBEKGUuc3RlbmNpbE1vZGVGb3JDbGlwcGluZyhuKSk7fWcmJihlLnJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKSxlLnRlcnJhaW4mJnYuY2xlYXIoe3N0ZW5jaWw6MH0pKTt9LGZpbGw6ZnVuY3Rpb24oZSx0LGkscil7Y29uc3Qgbj1pLnBhaW50LmdldChcImZpbGwtY29sb3JcIiksbz1pLnBhaW50LmdldChcImZpbGwtb3BhY2l0eVwiKTtpZigwPT09by5jb25zdGFudE9yKDEpKXJldHVybjtjb25zdCBzPWkucGFpbnQuZ2V0KFwiZmlsbC1lbWlzc2l2ZS1zdHJlbmd0aFwiKSxhPWUuY29sb3JNb2RlRm9yRHJhcGFibGVMYXllclJlbmRlclBhc3MocyksbD1pLnBhaW50LmdldChcImZpbGwtcGF0dGVyblwiKSxjPWUub3BhcXVlUGFzc0VuYWJsZWRGb3JMYXllcigpJiYhbC5jb25zdGFudE9yKDEpJiYxPT09bi5jb25zdGFudE9yKGxpLnRyYW5zcGFyZW50KS5hJiYxPT09by5jb25zdGFudE9yKDApP1wib3BhcXVlXCI6XCJ0cmFuc2x1Y2VudFwiO2lmKGUucmVuZGVyUGFzcz09PWMpe2NvbnN0IG49ZS5kZXB0aE1vZGVGb3JTdWJsYXllcigxLFwib3BhcXVlXCI9PT1lLnJlbmRlclBhc3M/Z3guUmVhZFdyaXRlOmd4LlJlYWRPbmx5KTtHTShlLHQsaSxyLG4sYSwhMSk7fWlmKFwidHJhbnNsdWNlbnRcIj09PWUucmVuZGVyUGFzcyYmaS5wYWludC5nZXQoXCJmaWxsLWFudGlhbGlhc1wiKSl7Y29uc3Qgbj1lLmRlcHRoTW9kZUZvclN1YmxheWVyKGkuZ2V0UGFpbnRQcm9wZXJ0eShcImZpbGwtb3V0bGluZS1jb2xvclwiKT8yOjAsZ3guUmVhZE9ubHkpO0dNKGUsdCxpLHIsbixhLCEwKTt9fSxcImZpbGwtZXh0cnVzaW9uXCI6ZnVuY3Rpb24oZSx0LGkscil7Y29uc3Qgbj1pLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLW9wYWNpdHlcIiksbz1lLmNvbnRleHQscz1vLmdsLGE9ZS50ZXJyYWluLGw9YSYmYS5yZW5kZXJpbmdUb1RleHR1cmUsYz1pLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWN1dG9mZi1mYWRlLXJhbmdlXCIpO2lmKDA9PT1uKXJldHVybjtjb25zdCBoPWUuY29uZmxhdGlvbkFjdGl2ZSYmZS5sYXllclVzZWRJbkNvbmZsYXRpb24oaSx0LmdldFNvdXJjZSgpKTtpZihoJiZmdW5jdGlvbihlLHQsaSxyKXtmb3IoY29uc3QgbiBvZiByKXtjb25zdCByPXQuZ2V0VGlsZShuKS5nZXRCdWNrZXQoaSk7ciYmKHIudXBkYXRlUmVwbGFjZW1lbnQobixlLnJlcGxhY2VtZW50U291cmNlKSxyLnVwbG9hZENlbnRyb2lkKGUuY29udGV4dCkpO319KGUsdCxpLHIpLGF8fGgpZm9yKGNvbnN0IG4gb2Ygcil7Y29uc3Qgcj10LmdldFRpbGUobikuZ2V0QnVja2V0KGkpO3ImJiRNKGUuY29udGV4dCx0LG4scixpLGEsaCk7fWlmKFwic2hhZG93XCI9PT1lLnJlbmRlclBhc3MmJmUuc2hhZG93UmVuZGVyZXIpe2NvbnN0IG89ZS5zaGFkb3dSZW5kZXJlcjtpZihhJiZuPC42NSYmaS5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW1wiZmlsbC1leHRydXNpb24tb3BhY2l0eVwiXS52YWx1ZS5leHByZXNzaW9uIGluc3RhbmNlb2YgYm8pcmV0dXJuO2NvbnN0IHM9by5nZXRTaGFkb3dQYXNzRGVwdGhNb2RlKCksbD1vLmdldFNoYWRvd1Bhc3NDb2xvck1vZGUoKTtxTShlLHQsaSxyLHMseHguZGlzYWJsZWQsbCxoKTt9ZWxzZSBpZihcInRyYW5zbHVjZW50XCI9PT1lLnJlbmRlclBhc3Mpe2NvbnN0IHU9IWkucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tcGF0dGVyblwiKS5jb25zdGFudE9yKDEpO2lmKCFsKXtjb25zdCBvPW5ldyBneChlLmNvbnRleHQuZ2wuTEVRVUFMLGd4LlJlYWRXcml0ZSxlLmRlcHRoUmFuZ2VGb3IzRCk7MD09PWMmJjE9PT1uJiZ1P3FNKGUsdCxpLHIsbyx4eC5kaXNhYmxlZCxieC51bmJsZW5kZWQsaCk6KHFNKGUsdCxpLHIsbyx4eC5kaXNhYmxlZCxieC5kaXNhYmxlZCxoKSxxTShlLHQsaSxyLG8sZS5zdGVuY2lsTW9kZUZvcjNEKCksZS5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksaCksZS5yZXNldFN0ZW5jaWxDbGlwcGluZ01hc2tzKCkpO31pZihlLnN0eWxlLmVuYWJsZTNkTGlnaHRzKCkmJnUmJighYSYmXCJnbG9iZVwiIT09ZS50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lfHxsKSl7Y29uc3Qgbj1pLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLW9wYWNpdHlcIiksYz1pLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLWludGVuc2l0eVwiKSx1PWkucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tZ3JvdW5kLXJhZGl1c1wiKSxkPWkucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtaW50ZW5zaXR5XCIpLHA9aS5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1mbG9vZC1saWdodC1jb2xvclwiKS50b0FycmF5MDEoKS5zbGljZSgwLDMpLGY9Yz4wJiZ1PjAsbT1kPjAsXz0oZSx0LGkpPT4oMS1pKSplK2kqdCxnPW89Pntjb25zdCBhPWUuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMSxneC5SZWFkT25seSxzLkxFUVVBTCwhMCksbD1pLnBhaW50LmdldChvP1wiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tZ3JvdW5kLWF0dGVudWF0aW9uXCI6XCJmaWxsLWV4dHJ1c2lvbi1mbG9vZC1saWdodC1ncm91bmQtYXR0ZW51YXRpb25cIiksZj1fKC4xLDMsbCksbT1lLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3I7aWYoIW0pe2NvbnN0IGw9bmV3IHh4KHtmdW5jOnMuQUxXQVlTLG1hc2s6MjU1fSwyNTUsMjU1LHMuS0VFUCxzLktFRVAscy5SRVBMQUNFKSxtPW5ldyBieChbcy5PTkUscy5PTkUscy5PTkUscy5PTkVdLGxpLnRyYW5zcGFyZW50LFshMSwhMSwhMSwhMF0scy5NSU4pO1pNKGUsdCxpLHIsYSxsLG0sRXguZGlzYWJsZWQsbyxcInNkZlwiLG4sYyx1LGQscCxmLGgsITEpO317Y29uc3QgbD1tP3h4LmRpc2FibGVkOm5ldyB4eCh7ZnVuYzpzLkVRVUFMLG1hc2s6MjU1fSwyNTUsMjU1LHMuS0VFUCxzLkRFQ1Iscy5ERUNSKSxfPW0/ZS5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk6bmV3IGJ4KFtzLk9ORV9NSU5VU19EU1RfQUxQSEEscy5EU1RfQUxQSEEscy5PTkUscy5PTkVdLGxpLnRyYW5zcGFyZW50LFshMCwhMCwhMCwhMF0pO1pNKGUsdCxpLHIsYSxsLF8sRXguZGlzYWJsZWQsbyxcImNvbG9yXCIsbixjLHUsZCxwLGYsaCwhMSk7fX07aWYobCl7Y29uc3QgbD0obyxhLGwpPT57Y29uc3QgZj1lLmRlcHRoTW9kZUZvclN1YmxheWVyKDEsZ3guUmVhZE9ubHkscy5MRVFVQUwsITEpLG09aS5wYWludC5nZXQobz9cImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLWdyb3VuZC1hdHRlbnVhdGlvblwiOlwiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtZ3JvdW5kLWF0dGVudWF0aW9uXCIpLGc9XyguMSwzLG0pO3tjb25zdCBsPW5ldyBieChbcy5PTkUscy5PTkUscy5PTkUscy5PTkVdLGxpLnRyYW5zcGFyZW50LFshMSwhMSwhMSwhMF0pO1pNKGUsdCxpLHIsZix4eC5kaXNhYmxlZCxsLEV4LmRpc2FibGVkLG8sXCJjbGVhclwiLG4sYyx1LGQscCxnLGgsYSk7fXtjb25zdCBsPW5ldyB4eCh7ZnVuYzpzLkFMV0FZUyxtYXNrOjI1NX0sMjU1LDI1NSxzLktFRVAscy5LRUVQLHMuUkVQTEFDRSksbT1uZXcgYngoW3MuT05FLHMuT05FLHMuT05FLHMuT05FXSxsaS50cmFuc3BhcmVudCxbITEsITEsITEsITBdLHMuTUlOKTtaTShlLHQsaSxyLGYsbCxtLEV4LmRpc2FibGVkLG8sXCJzZGZcIixuLGMsdSxkLHAsZyxoLGEpO317Y29uc3QgbD1vP3MuWkVSTzpzLk9ORV9NSU5VU19EU1RfQUxQSEEsbT1uZXcgeHgoe2Z1bmM6cy5FUVVBTCxtYXNrOjI1NX0sMjU1LDI1NSxzLktFRVAscy5ERUNSLHMuREVDUiksXz1uZXcgYngoW2wscy5EU1RfQUxQSEEscy5PTkVfTUlOVVNfRFNUX0FMUEhBLHMuWkVST10sbGkudHJhbnNwYXJlbnQsWyEwLCEwLCEwLCEwXSk7Wk0oZSx0LGkscixmLG0sXyxFeC5kaXNhYmxlZCxvLFwiY29sb3JcIixuLGMsdSxkLHAsZyxoLGEpO317Y29uc3QgbT1uZXcgYngoW3MuT05FLHMuT05FLHMuT05FLG8/cy5aRVJPOnMuT05FXSxsaS50cmFuc3BhcmVudCxbITEsITEsITEsITBdLG8/cy5GVU5DX0FERDpzLk1BWCk7Wk0oZSx0LGkscixmLHh4LmRpc2FibGVkLG0sRXguZGlzYWJsZWQsbyxcImNsZWFyXCIsbixjLHUsZCxwLGcsaCxhLGwpO319O2lmKGZ8fG0pe2xldCB0O2lmKGUucHJlcGFyZURyYXdUaWxlKCksYSl7Y29uc3QgZT1hLmRyYXBlQnVmZmVyU2l6ZVswXSxpPWEuZHJhcGVCdWZmZXJTaXplWzFdO3Q9YS5mcmFtZWJ1ZmZlckNvcHlUZXh0dXJlLHQmJighdHx8dC5zaXplWzBdPT09ZSYmdC5zaXplWzFdPT09aSl8fCh0JiZ0LmRlc3Ryb3koKSx0PWEuZnJhbWVidWZmZXJDb3B5VGV4dHVyZT1uZXcgZ3kobyxuZXcgJHAoe3dpZHRoOmUsaGVpZ2h0Oml9KSxzLlJHQkEpKSx0LmJpbmQocy5MSU5FQVIscy5DTEFNUF9UT19FREdFKSxzLmNvcHlUZXhJbWFnZTJEKHMuVEVYVFVSRV8yRCwwLHMuUkdCQSwwLDAsZSxpLDApO31mJiZsKCEwLCExLHQpLG0mJmwoITEsITAsdCk7fX1lbHNlIGYmJmcoITApLG0mJmcoITEpO319fSxoaWxsc2hhZGU6ZnVuY3Rpb24oZSx0LGkscil7aWYoXCJvZmZzY3JlZW5cIiE9PWUucmVuZGVyUGFzcyYmXCJ0cmFuc2x1Y2VudFwiIT09ZS5yZW5kZXJQYXNzKXJldHVybjtjb25zdCBuPWUuY29udGV4dCxvPWUudGVycmFpbiYmZS50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZSxbcyxhXT1cInRyYW5zbHVjZW50XCIhPT1lLnJlbmRlclBhc3N8fG8/W3t9LHJdOmUuc3RlbmNpbENvbmZpZ0Zvck92ZXJsYXAocik7Zm9yKGNvbnN0IHIgb2YgYSl7Y29uc3Qgbj10LmdldFRpbGUocik7aWYobi5uZWVkc0hpbGxzaGFkZVByZXBhcmUmJlwib2Zmc2NyZWVuXCI9PT1lLnJlbmRlclBhc3MpakUoZSxuLGkpO2Vsc2UgaWYoXCJ0cmFuc2x1Y2VudFwiPT09ZS5yZW5kZXJQYXNzKXtjb25zdCB0PWUuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxneC5SZWFkT25seSksYT1pLnBhaW50LmdldChcImhpbGxzaGFkZS1lbWlzc2l2ZS1zdHJlbmd0aFwiKSxsPWUuY29sb3JNb2RlRm9yRHJhcGFibGVMYXllclJlbmRlclBhc3MoYSksYz1vJiZlLnRlcnJhaW4/ZS50ZXJyYWluLnN0ZW5jaWxNb2RlRm9yUlRUT3ZlcmxhcChyKTpzW3Iub3ZlcnNjYWxlZFpdO1VFKGUscixuLGksdCxjLGwpO319bi52aWV3cG9ydC5zZXQoWzAsMCxlLndpZHRoLGUuaGVpZ2h0XSksZS5yZXNldFN0ZW5jaWxDbGlwcGluZ01hc2tzKCk7fSxyYXN0ZXI6ZnVuY3Rpb24oZSx0LGkscixuLG8pe2lmKFwidHJhbnNsdWNlbnRcIiE9PWUucmVuZGVyUGFzcylyZXR1cm47aWYoMD09PWkucGFpbnQuZ2V0KFwicmFzdGVyLW9wYWNpdHlcIikpcmV0dXJuO2NvbnN0IHM9ZS5jb250ZXh0LGE9cy5nbCxsPXQuZ2V0U291cmNlKCksYz1mdW5jdGlvbihlLHQsaSl7Y29uc3Qgcj1bXTtsZXQgbixvO2lmKGUucGFpbnQuZ2V0KFwicmFzdGVyLWNvbG9yXCIpKXtyLnB1c2goXCJSQVNURVJfQ09MT1JcIiksbj1lLnBhaW50LmdldChcInJhc3Rlci1jb2xvci1taXhcIiksbz1lLnBhaW50LmdldChcInJhc3Rlci1jb2xvci1yYW5nZVwiKSx0LmFjdGl2ZVRleHR1cmUuc2V0KGkuVEVYVFVSRTIpO2xldCBzPWUuY29sb3JSYW1wVGV4dHVyZTtzfHwocz1lLmNvbG9yUmFtcFRleHR1cmU9bmV3IGd5KHQsZS5jb2xvclJhbXAsaS5SR0JBKSkscy5iaW5kKGkuTElORUFSLGkuQ0xBTVBfVE9fRURHRSk7fXJldHVybiB7bWl4Om4scmFuZ2U6byxkZWZpbmVzOnJ9fShpLHMsYSksaD1jLmRlZmluZXM7bGV0IHU9ITE7aWYobCBpbnN0YW5jZW9mIHFiJiYhci5sZW5ndGgpe2lmKFwiZ2xvYmVcIiE9PWUudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSlyZXR1cm47aWYobC5vbk5vcnRoUG9sZSl1PSEwLGgucHVzaChcIlBST0pFQ1RJT05fR0xPQkVfVklFV1wiKTtlbHNlIHtpZighbC5vblNvdXRoUG9sZSlyZXR1cm47dT0hMCxoLnB1c2goXCJQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcIik7fX1jb25zdCBkPWUuY29sb3JNb2RlRm9yRHJhcGFibGVMYXllclJlbmRlclBhc3MoKSxwPWUudGVycmFpbiYmZS50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZSxmPSFlLm9wdGlvbnMubW92aW5nLG09XCJuZWFyZXN0XCI9PT1pLnBhaW50LmdldChcInJhc3Rlci1yZXNhbXBsaW5nXCIpP2EuTkVBUkVTVDphLkxJTkVBUjtpZih1KXtjb25zdCByPXQuZ2V0U291cmNlKCk7aWYoIShyIGluc3RhbmNlb2YgcWIpKXJldHVybjtjb25zdCBuPXIudGV4dHVyZTtpZighbilyZXR1cm47Y29uc3Qgbz1lLmdsb2JlU2hhcmVkQnVmZmVycztpZighbylyZXR1cm47Y29uc3QgbD1uZXcgZ3goYS5MRVFVQUwsZ3guUmVhZFdyaXRlLGUuZGVwdGhSYW5nZUZvcjNEKSxoPUZsb2F0MzJBcnJheS5mcm9tKGUudHJhbnNmb3JtLnByb2pNYXRyaXgpO2xldCB1PU1kKDAsMCxlLnRyYW5zZm9ybSk7Y29uc3QgcD1GbG9hdDMyQXJyYXkuZnJvbSh4ZChhZChuZXcga3UoMCwwLDApKSkpLGY9e29wYWNpdHk6MSxtaXg6MH07ZS50ZXJyYWluJiZlLnRlcnJhaW4ucHJlcGFyZURyYXdUaWxlKCkscy5hY3RpdmVUZXh0dXJlLnNldChhLlRFWFRVUkUwKSxuLmJpbmQobSxhLkNMQU1QX1RPX0VER0UpLHMuYWN0aXZlVGV4dHVyZS5zZXQoYS5URVhUVVJFMSksbi5iaW5kKG0sYS5DTEFNUF9UT19FREdFKSxuLnVzZU1pcG1hcCYmcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMmJmUudHJhbnNmb3JtLnBpdGNoPjIwJiZhLnRleFBhcmFtZXRlcmYoYS5URVhUVVJFXzJELHMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljLlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhULHMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljTWF4KTtjb25zdFtfLGcseSx4XT1vLmdldFBvbGVCdWZmZXJzKDAsITApO2xldCB2O3Iub25Ob3J0aFBvbGU/KHY9XyxlLnJlbmRlckRlZmF1bHROb3J0aFBvbGU9ITEpOih1PXh1LnNjYWxlKHh1LmNyZWF0ZSgpLHUsWzEsLTEsMV0pLHY9ZyxlLnJlbmRlckRlZmF1bHRTb3V0aFBvbGU9ITEpO2NvbnN0IGI9Yk0oaCxwLHUsWzAsMF0sMSxmLGksci5wZXJzcGVjdGl2ZVRyYW5zZm9ybXx8WzAsMF0sMixjLm1peHx8WzAsMCwwLDBdLGMucmFuZ2V8fFswLDBdKSx3PWUuZ2V0T3JDcmVhdGVQcm9ncmFtKFwicmFzdGVyXCIse2RlZmluZXM6Yy5kZWZpbmVzfSk7cmV0dXJuIGUudXBsb2FkQ29tbW9uVW5pZm9ybXMocyx3LG51bGwpLHZvaWQgdy5kcmF3KGUsYS5UUklBTkdMRVMsbCx4eC5kaXNhYmxlZCxkLEV4LmRpc2FibGVkLGIsaS5pZCx2LHkseCl9aWYoIXIubGVuZ3RoKXJldHVybjtjb25zdFtfLGddPWwgaW5zdGFuY2VvZiBxYnx8cD9be30scl06ZS5zdGVuY2lsQ29uZmlnRm9yT3ZlcmxhcChyKSx5PWdbZy5sZW5ndGgtMV0ub3ZlcnNjYWxlZFo7Zm9yKGNvbnN0IHIgb2YgZyl7Y29uc3Qgbj1wP2d4LmRpc2FibGVkOmUuZGVwdGhNb2RlRm9yU3VibGF5ZXIoci5vdmVyc2NhbGVkWi15LDE9PT1pLnBhaW50LmdldChcInJhc3Rlci1vcGFjaXR5XCIpP2d4LlJlYWRXcml0ZTpneC5SZWFkT25seSxhLkxFU1MpLGg9ci50b1Vud3JhcHBlZCgpLHU9dC5nZXRUaWxlKHIpO2lmKHAmJighdXx8IXUuaGFzRGF0YSgpKSljb250aW51ZTtpZighdS50ZXh0dXJlKWNvbnRpbnVlO2NvbnN0IGc9cD9yLnByb2pNYXRyaXg6ZS50cmFuc2Zvcm0uY2FsY3VsYXRlUHJvak1hdHJpeChoLGYpLHg9ZS50ZXJyYWluJiZwP2UudGVycmFpbi5zdGVuY2lsTW9kZUZvclJUVE92ZXJsYXAocik6X1tyLm92ZXJzY2FsZWRaXSx2PW8/MDppLnBhaW50LmdldChcInJhc3Rlci1mYWRlLWR1cmF0aW9uXCIpO3UucmVnaXN0ZXJGYWRlRHVyYXRpb24odik7Y29uc3QgYj10LmZpbmRMb2FkZWRQYXJlbnQociwwKSx3PVFFKHUsYix0LGUudHJhbnNmb3JtLHYpO2xldCBULEU7ZS50ZXJyYWluJiZlLnRlcnJhaW4ucHJlcGFyZURyYXdUaWxlKCkscy5hY3RpdmVUZXh0dXJlLnNldChhLlRFWFRVUkUwKSx1LnRleHR1cmUuYmluZChtLGEuQ0xBTVBfVE9fRURHRSkscy5hY3RpdmVUZXh0dXJlLnNldChhLlRFWFRVUkUxKSxiPyhiLnRleHR1cmUuYmluZChtLGEuQ0xBTVBfVE9fRURHRSksVD1NYXRoLnBvdygyLGIudGlsZUlELm92ZXJzY2FsZWRaLXUudGlsZUlELm92ZXJzY2FsZWRaKSxFPVt1LnRpbGVJRC5jYW5vbmljYWwueCpUJTEsdS50aWxlSUQuY2Fub25pY2FsLnkqVCUxXSk6dS50ZXh0dXJlLmJpbmQobSxhLkNMQU1QX1RPX0VER0UpLHUudGV4dHVyZS51c2VNaXBtYXAmJnMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljJiZlLnRyYW5zZm9ybS5waXRjaD4yMCYmYS50ZXhQYXJhbWV0ZXJmKGEuVEVYVFVSRV8yRCxzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYy5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCxzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heCk7Y29uc3QgTT1sIGluc3RhbmNlb2YgcWI/bC5wZXJzcGVjdGl2ZVRyYW5zZm9ybTpbMCwwXSxBPW5ldyBGbG9hdDMyQXJyYXkoMTYpLFM9Yk0oZyxBLEEsRXx8WzAsMF0sVHx8MSx3LGksTSwyLGMubWl4fHxbMCwwLDAsMF0sYy5yYW5nZXx8WzAsMF0pLEk9ZS5pc1RpbGVBZmZlY3RlZEJ5Rm9nKHIpLEM9ZS5nZXRPckNyZWF0ZVByb2dyYW0oXCJyYXN0ZXJcIix7ZGVmaW5lczpjLmRlZmluZXMsb3ZlcnJpZGVGb2c6SX0pO2lmKGUudXBsb2FkQ29tbW9uVW5pZm9ybXMocyxDLGgpLGwgaW5zdGFuY2VvZiBxYilsLmJvdW5kc0J1ZmZlciYmbC5ib3VuZHNTZWdtZW50cyYmQy5kcmF3KGUsYS5UUklBTkdMRVMsbix4eC5kaXNhYmxlZCxkLEV4LmRpc2FibGVkLFMsaS5pZCxsLmJvdW5kc0J1ZmZlcixlLnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLGwuYm91bmRzU2VnbWVudHMpO2Vsc2Uge2NvbnN0e3RpbGVCb3VuZHNCdWZmZXI6dCx0aWxlQm91bmRzSW5kZXhCdWZmZXI6cix0aWxlQm91bmRzU2VnbWVudHM6b309ZS5nZXRUaWxlQm91bmRzQnVmZmVycyh1KTtDLmRyYXcoZSxhLlRSSUFOR0xFUyxuLHgsZCxFeC5kaXNhYmxlZCxTLGkuaWQsdCxyLG8pO319ZS5yZXNldFN0ZW5jaWxDbGlwcGluZ01hc2tzKCk7fSxiYWNrZ3JvdW5kOmZ1bmN0aW9uKGUsdCxpLHIpe2NvbnN0IG49aS5wYWludC5nZXQoXCJiYWNrZ3JvdW5kLWNvbG9yXCIpLG89aS5wYWludC5nZXQoXCJiYWNrZ3JvdW5kLW9wYWNpdHlcIikscz1pLnBhaW50LmdldChcImJhY2tncm91bmQtZW1pc3NpdmUtc3RyZW5ndGhcIik7aWYoMD09PW8pcmV0dXJuO2NvbnN0IGE9ZS5jb250ZXh0LGw9YS5nbCxjPWUudHJhbnNmb3JtLGg9Yy50aWxlU2l6ZSx1PWkucGFpbnQuZ2V0KFwiYmFja2dyb3VuZC1wYXR0ZXJuXCIpO2lmKGUuaXNQYXR0ZXJuTWlzc2luZyh1LGkuc2NvcGUpKXJldHVybjtjb25zdCBkPSF1JiYxPT09bi5hJiYxPT09byYmZS5vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyKCk/XCJvcGFxdWVcIjpcInRyYW5zbHVjZW50XCI7aWYoZS5yZW5kZXJQYXNzIT09ZClyZXR1cm47Y29uc3QgcD14eC5kaXNhYmxlZCxmPWUuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxcIm9wYXF1ZVwiPT09ZD9neC5SZWFkV3JpdGU6Z3guUmVhZE9ubHkpLG09ZS5jb2xvck1vZGVGb3JEcmFwYWJsZUxheWVyUmVuZGVyUGFzcyhzKSxfPXU/XCJiYWNrZ3JvdW5kUGF0dGVyblwiOlwiYmFja2dyb3VuZFwiO2xldCBnLHk9cjt5fHwoZz1lLmdldEJhY2tncm91bmRUaWxlcygpLHk9T2JqZWN0LnZhbHVlcyhnKS5tYXAoKGU9PmUudGlsZUlEKSkpLHUmJihhLmFjdGl2ZVRleHR1cmUuc2V0KGwuVEVYVFVSRTApLGUuaW1hZ2VNYW5hZ2VyLmJpbmQoZS5jb250ZXh0LGkuc2NvcGUpKTtmb3IoY29uc3QgZCBvZiB5KXtjb25zdCB5PWUuaXNUaWxlQWZmZWN0ZWRCeUZvZyhkKSx4PWUuZ2V0T3JDcmVhdGVQcm9ncmFtKF8se292ZXJyaWRlRm9nOnl9KSx2PWQudG9VbndyYXBwZWQoKSxiPXI/ZC5wcm9qTWF0cml4OmUudHJhbnNmb3JtLmNhbGN1bGF0ZVByb2pNYXRyaXgodik7ZS5wcmVwYXJlRHJhd1RpbGUoKTtjb25zdCB3PXQ/dC5nZXRUaWxlKGQpOmc/Z1tkLmtleV06bmV3IEl5KGQsaCxjLnpvb20sZSksVD11P0NNKGIscyxvLGUsdSxpLnNjb3BlLHt0aWxlSUQ6ZCx0aWxlU2l6ZTpofSk6SU0oYixzLG8sbik7ZS51cGxvYWRDb21tb25Vbmlmb3JtcyhhLHgsdik7Y29uc3R7dGlsZUJvdW5kc0J1ZmZlcjpFLHRpbGVCb3VuZHNJbmRleEJ1ZmZlcjpNLHRpbGVCb3VuZHNTZWdtZW50czpBfT1lLmdldFRpbGVCb3VuZHNCdWZmZXJzKHcpO3guZHJhdyhlLGwuVFJJQU5HTEVTLGYscCxtLEV4LmRpc2FibGVkLFQsaS5pZCxFLE0sQSk7fX0sc2t5OmZ1bmN0aW9uKGUsdCxpKXtjb25zdCByPWUuX2F0bW9zcGhlcmU/RWQoZS50cmFuc2Zvcm0uem9vbSk6MSxuPWkucGFpbnQuZ2V0KFwic2t5LW9wYWNpdHlcIikqcjtpZigwPT09bilyZXR1cm47Y29uc3Qgbz1lLmNvbnRleHQscz1pLnBhaW50LmdldChcInNreS10eXBlXCIpLGE9bmV3IGd4KG8uZ2wuTEVRVUFMLGd4LlJlYWRPbmx5LFswLDFdKSxsPWUuZnJhbWVDb3VudGVyLzFlMyUxO1wiYXRtb3NwaGVyZVwiPT09cz9cIm9mZnNjcmVlblwiPT09ZS5yZW5kZXJQYXNzP2kubmVlZHNTa3lib3hDYXB0dXJlKGUpJiYoZnVuY3Rpb24oZSx0LGkscil7Y29uc3Qgbj1lLmNvbnRleHQsbz1uLmdsO2xldCBzPXQuc2t5Ym94RmJvO2lmKCFzKXtzPXQuc2t5Ym94RmJvPW4uY3JlYXRlRnJhbWVidWZmZXIoMzIsMzIsITAsbnVsbCksdC5za3lib3hHZW9tZXRyeT1uZXcgY0EobiksdC5za3lib3hUZXh0dXJlPW4uZ2wuY3JlYXRlVGV4dHVyZSgpLG8uYmluZFRleHR1cmUoby5URVhUVVJFX0NVQkVfTUFQLHQuc2t5Ym94VGV4dHVyZSksby50ZXhQYXJhbWV0ZXJpKG8uVEVYVFVSRV9DVUJFX01BUCxvLlRFWFRVUkVfV1JBUF9TLG8uQ0xBTVBfVE9fRURHRSksby50ZXhQYXJhbWV0ZXJpKG8uVEVYVFVSRV9DVUJFX01BUCxvLlRFWFRVUkVfV1JBUF9ULG8uQ0xBTVBfVE9fRURHRSksby50ZXhQYXJhbWV0ZXJpKG8uVEVYVFVSRV9DVUJFX01BUCxvLlRFWFRVUkVfTUlOX0ZJTFRFUixvLkxJTkVBUiksby50ZXhQYXJhbWV0ZXJpKG8uVEVYVFVSRV9DVUJFX01BUCxvLlRFWFRVUkVfTUFHX0ZJTFRFUixvLkxJTkVBUik7Zm9yKGxldCBlPTA7ZTw2OysrZSlvLnRleEltYWdlMkQoby5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grZSwwLG8uUkdCQSwzMiwzMiwwLG8uUkdCQSxvLlVOU0lHTkVEX0JZVEUsbnVsbCk7fW4uYmluZEZyYW1lYnVmZmVyLnNldChzLmZyYW1lYnVmZmVyKSxuLnZpZXdwb3J0LnNldChbMCwwLDMyLDMyXSk7Y29uc3QgYT10LmdldENlbnRlcihlLCEwKSxsPWUuZ2V0T3JDcmVhdGVQcm9ncmFtKFwic2t5Ym94Q2FwdHVyZVwiKSxjPW5ldyBGbG9hdDY0QXJyYXkoMTYpO3h1LmlkZW50aXR5KGMpLHh1LnJvdGF0ZVkoYyxjLC41Ki1NYXRoLlBJKSxoQShlLHQsbCxjLGEsMCkseHUuaWRlbnRpdHkoYykseHUucm90YXRlWShjLGMsLjUqTWF0aC5QSSksaEEoZSx0LGwsYyxhLDEpLHh1LmlkZW50aXR5KGMpLHh1LnJvdGF0ZVgoYyxjLC41Ki1NYXRoLlBJKSxoQShlLHQsbCxjLGEsMikseHUuaWRlbnRpdHkoYykseHUucm90YXRlWChjLGMsLjUqTWF0aC5QSSksaEEoZSx0LGwsYyxhLDMpLHh1LmlkZW50aXR5KGMpLGhBKGUsdCxsLGMsYSw0KSx4dS5pZGVudGl0eShjKSx4dS5yb3RhdGVZKGMsYyxNYXRoLlBJKSxoQShlLHQsbCxjLGEsNSksbi52aWV3cG9ydC5zZXQoWzAsMCxlLndpZHRoLGUuaGVpZ2h0XSk7fShlLGkpLGkubWFya1NreWJveFZhbGlkKGUpKTpcInNreVwiPT09ZS5yZW5kZXJQYXNzJiZmdW5jdGlvbihlLHQsaSxyLG4pe2NvbnN0IG89ZS5jb250ZXh0LHM9by5nbCxhPWUudHJhbnNmb3JtLGw9ZS5nZXRPckNyZWF0ZVByb2dyYW0oXCJza3lib3hcIik7by5hY3RpdmVUZXh0dXJlLnNldChzLlRFWFRVUkUwKSxzLmJpbmRUZXh0dXJlKHMuVEVYVFVSRV9DVUJFX01BUCx0LnNreWJveFRleHR1cmUpO2NvbnN0IGM9KChlLHQsaSxyLG4pPT4oe3VfbWF0cml4OmUsdV9zdW5fZGlyZWN0aW9uOnQsdV9jdWJlbWFwOjAsdV9vcGFjaXR5OnIsdV90ZW1wb3JhbF9vZmZzZXQ6bn0pKShhLnNreWJveE1hdHJpeCx0LmdldENlbnRlcihlLCExKSwwLHIsbik7ZS51cGxvYWRDb21tb25Vbmlmb3JtcyhvLGwpLGwuZHJhdyhlLHMuVFJJQU5HTEVTLGkseHguZGlzYWJsZWQsZS5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksRXguYmFja0NXLGMsXCJza3lib3hcIix0LnNreWJveEdlb21ldHJ5LnZlcnRleEJ1ZmZlcix0LnNreWJveEdlb21ldHJ5LmluZGV4QnVmZmVyLHQuc2t5Ym94R2VvbWV0cnkuc2VnbWVudCk7fShlLGksYSxuLGwpOlwiZ3JhZGllbnRcIj09PXMmJlwic2t5XCI9PT1lLnJlbmRlclBhc3MmJmZ1bmN0aW9uKGUsdCxpLHIsbil7Y29uc3Qgbz1lLmNvbnRleHQscz1vLmdsLGE9ZS50cmFuc2Zvcm0sbD1lLmdldE9yQ3JlYXRlUHJvZ3JhbShcInNreWJveEdyYWRpZW50XCIpO3Quc2t5Ym94R2VvbWV0cnl8fCh0LnNreWJveEdlb21ldHJ5PW5ldyBjQShvKSksby5hY3RpdmVUZXh0dXJlLnNldChzLlRFWFRVUkUwKTtsZXQgYz10LmNvbG9yUmFtcFRleHR1cmU7Y3x8KGM9dC5jb2xvclJhbXBUZXh0dXJlPW5ldyBneShvLHQuY29sb3JSYW1wLHMuUkdCQSkpLGMuYmluZChzLkxJTkVBUixzLkNMQU1QX1RPX0VER0UpO2NvbnN0IGg9KChlLHQsaSxyLG4pPT4oe3VfbWF0cml4OmUsdV9jb2xvcl9yYW1wOjAsdV9jZW50ZXJfZGlyZWN0aW9uOnQsdV9yYWRpdXM6dyhpKSx1X29wYWNpdHk6cix1X3RlbXBvcmFsX29mZnNldDpufSkpKGEuc2t5Ym94TWF0cml4LHQuZ2V0Q2VudGVyKGUsITEpLHQucGFpbnQuZ2V0KFwic2t5LWdyYWRpZW50LXJhZGl1c1wiKSxyLG4pO2UudXBsb2FkQ29tbW9uVW5pZm9ybXMobyxsKSxsLmRyYXcoZSxzLlRSSUFOR0xFUyxpLHh4LmRpc2FibGVkLGUuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLEV4LmJhY2tDVyxoLFwic2t5Ym94R3JhZGllbnRcIix0LnNreWJveEdlb21ldHJ5LnZlcnRleEJ1ZmZlcix0LnNreWJveEdlb21ldHJ5LmluZGV4QnVmZmVyLHQuc2t5Ym94R2VvbWV0cnkuc2VnbWVudCk7fShlLGksYSxuLGwpO30sZGVidWc6ZnVuY3Rpb24oZSx0LGkpe2ZvcihsZXQgcj0wO3I8aS5sZW5ndGg7cisrKWlBKGUsdCxpW3JdKTt9LGN1c3RvbTpmdW5jdGlvbihlLHQsaSxyKXtjb25zdCBuPWUuY29udGV4dCxvPWkuaW1wbGVtZW50YXRpb247aWYoIWUudHJhbnNmb3JtLnByb2plY3Rpb24udW5zdXBwb3J0ZWRMYXllcnN8fCFlLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnVuc3VwcG9ydGVkTGF5ZXJzLmluY2x1ZGVzKFwiY3VzdG9tXCIpfHxlLnRlcnJhaW4mJihlLnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlfHxcIm9mZnNjcmVlblwiPT09ZS5yZW5kZXJQYXNzKSYmaS5pc0xheWVyRHJhcGVkKHQpKXtpZihcIm9mZnNjcmVlblwiPT09ZS5yZW5kZXJQYXNzKXtjb25zdCB0PW8ucHJlcmVuZGVyO2lmKHQpe2lmKGUuc2V0Q3VzdG9tTGF5ZXJEZWZhdWx0cygpLG4uc2V0Q29sb3JNb2RlKGUuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKSxcImdsb2JlXCI9PT1lLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUpe2NvbnN0IGk9ZS50cmFuc2Zvcm0ucG9pbnRNZXJjO3QuY2FsbChvLG4uZ2wsZS50cmFuc2Zvcm0uY3VzdG9tTGF5ZXJNYXRyaXgoKSxlLnRyYW5zZm9ybS5nZXRQcm9qZWN0aW9uKCksZS50cmFuc2Zvcm0uZ2xvYmVUb01lcmNhdG9yTWF0cml4KCksRWQoZS50cmFuc2Zvcm0uem9vbSksW2kueCxpLnldLGUudHJhbnNmb3JtLnBpeGVsc1Blck1ldGVyUmF0aW8pO31lbHNlIHQuY2FsbChvLG4uZ2wsZS50cmFuc2Zvcm0uY3VzdG9tTGF5ZXJNYXRyaXgoKSk7bi5zZXREaXJ0eSgpLGUuc2V0QmFzZVN0YXRlKCk7fX1lbHNlIGlmKFwidHJhbnNsdWNlbnRcIj09PWUucmVuZGVyUGFzcyl7aWYoZS50ZXJyYWluJiZlLnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlKXtjb25zdCB0PW8ucmVuZGVyVG9UaWxlO2lmKHQpe2NvbnN0IGk9clswXS5jYW5vbmljYWwscz1uZXcgZXAoaS54K3JbMF0ud3JhcCooMTw8aS56KSxpLnksaS56KTtuLnNldERlcHRoTW9kZShneC5kaXNhYmxlZCksbi5zZXRTdGVuY2lsTW9kZSh4eC5kaXNhYmxlZCksbi5zZXRDb2xvck1vZGUoZS5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpLGUuc2V0Q3VzdG9tTGF5ZXJEZWZhdWx0cygpLHQuY2FsbChvLG4uZ2wscyksbi5zZXREaXJ0eSgpLGUuc2V0QmFzZVN0YXRlKCk7fXJldHVybn1lLnNldEN1c3RvbUxheWVyRGVmYXVsdHMoKSxuLnNldENvbG9yTW9kZShlLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSksbi5zZXRTdGVuY2lsTW9kZSh4eC5kaXNhYmxlZCk7Y29uc3QgdD1cIjNkXCI9PT1vLnJlbmRlcmluZ01vZGU/bmV3IGd4KGUuY29udGV4dC5nbC5MRVFVQUwsZ3guUmVhZFdyaXRlLGUuZGVwdGhSYW5nZUZvcjNEKTplLmRlcHRoTW9kZUZvclN1YmxheWVyKDAsZ3guUmVhZE9ubHkpO2lmKG4uc2V0RGVwdGhNb2RlKHQpLFwiZ2xvYmVcIj09PWUudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSl7Y29uc3QgdD1lLnRyYW5zZm9ybS5wb2ludE1lcmM7by5yZW5kZXIobi5nbCxlLnRyYW5zZm9ybS5jdXN0b21MYXllck1hdHJpeCgpLGUudHJhbnNmb3JtLmdldFByb2plY3Rpb24oKSxlLnRyYW5zZm9ybS5nbG9iZVRvTWVyY2F0b3JNYXRyaXgoKSxFZChlLnRyYW5zZm9ybS56b29tKSxbdC54LHQueV0sZS50cmFuc2Zvcm0ucGl4ZWxzUGVyTWV0ZXJSYXRpbyk7fWVsc2Ugby5yZW5kZXIobi5nbCxlLnRyYW5zZm9ybS5jdXN0b21MYXllck1hdHJpeCgpKTtuLnNldERpcnR5KCksZS5zZXRCYXNlU3RhdGUoKSxuLmJpbmRGcmFtZWJ1ZmZlci5zZXQobnVsbCk7fX1lbHNlIFcoXCJDdXN0b20gbGF5ZXJzIGFyZSBub3QgeWV0IHN1cHBvcnRlZCB3aXRoIHRoaXMgcHJvamVjdGlvbi4gVXNlIG1lcmNhdG9yIG9yIGdsb2JlIHRvIGVuYWJsZSB1c2FnZSBvZiBjdXN0b20gbGF5ZXJzLlwiKTt9LG1vZGVsOmZ1bmN0aW9uKGUsdCxpLHIpe2lmKFwib3BhcXVlXCI9PT1lLnJlbmRlclBhc3MpcmV0dXJuO2NvbnN0IG49aS5wYWludC5nZXQoXCJtb2RlbC1vcGFjaXR5XCIpO2lmKDA9PT1uKXJldHVybjtjb25zdCBvPWkucGFpbnQuZ2V0KFwibW9kZWwtY2FzdC1zaGFkb3dzXCIpO2lmKFwic2hhZG93XCI9PT1lLnJlbmRlclBhc3Mpe2lmKCFvKXJldHVybjtpZihlLnRlcnJhaW4mJm48LjY1JiZpLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbXCJtb2RlbC1vcGFjaXR5XCJdLnZhbHVlLmV4cHJlc3Npb24gaW5zdGFuY2VvZiBibylyZXR1cm59Y29uc3Qgcz1lLnNoYWRvd1JlbmRlcmVyLGE9aS5wYWludC5nZXQoXCJtb2RlbC1yZWNlaXZlLXNoYWRvd3NcIik7cyYmKHMudXNlTm9ybWFsT2Zmc2V0PSEwLGF8fChzLmVuYWJsZWQ9ITEpKTtjb25zdCBsPSgpPT57cyYmKHMudXNlTm9ybWFsT2Zmc2V0PSEwLGF8fChzLmVuYWJsZWQ9ITApKTt9LGM9dC5nZXRTb3VyY2UoKTtpZihcImxpZ2h0LWJlYW1cIj09PWUucmVuZGVyUGFzcyYmXCJiYXRjaGVkLW1vZGVsXCIhPT1jLnR5cGUpcmV0dXJuO2lmKFwidmVjdG9yXCI9PT1jLnR5cGV8fFwiZ2VvanNvblwiPT09Yy50eXBlKXJldHVybiBmdW5jdGlvbihlLHQsaSxyKXtjb25zdCBuPWUudHJhbnNmb3JtO2lmKFwibWVyY2F0b3JcIiE9PW4ucHJvamVjdGlvbi5uYW1lKXJldHVybiB2b2lkIFcoYERyYXdpbmcgM0QgbW9kZWxzIGZvciAke24ucHJvamVjdGlvbi5uYW1lfSBwcm9qZWN0aW9uIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWRgKTtjb25zdCBvPW4uZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKS5wb3NpdGlvbjtpZighZS5tb2RlbE1hbmFnZXIpcmV0dXJuO2NvbnN0IHM9ZS5tb2RlbE1hbmFnZXIsYT1lLnNoYWRvd1JlbmRlcmVyO2lmKCFpLl91bmV2YWx1YXRlZExheW91dC5fdmFsdWVzLmhhc093blByb3BlcnR5KFwibW9kZWwtaWRcIikpcmV0dXJuO2NvbnN0IGw9aS5fdW5ldmFsdWF0ZWRMYXlvdXQuX3ZhbHVlc1tcIm1vZGVsLWlkXCJdLGM9ey4uLmkubGF5b3V0LmdldChcIm1vZGVsLWlkXCIpLnBhcmFtZXRlcnN9O2Zvcihjb25zdCBoIG9mIHIpe2NvbnN0IHI9dC5nZXRUaWxlKGgpLmdldEJ1Y2tldChpKTtpZighcnx8ci5wcm9qZWN0aW9uLm5hbWUhPT1uLnByb2plY3Rpb24ubmFtZSljb250aW51ZTtjb25zdCB1PXdBKGgsbik7Yy56b29tPXU7Y29uc3QgZD1sLnBvc3NpYmx5RXZhbHVhdGUoYyk7aWYodkEoZSxyLGgpLGJBLnNoYWRvd1VuaWZvcm1zSW5pdGlhbGl6ZWQ9ITEsYkEudXNlU2luZ2xlU2hhZG93Q2FzY2FkZT0hIWEmJjA9PT1hLmdldE1heENhc2NhZGVGb3JUaWxlKGgudG9VbndyYXBwZWQoKSksXCJzaGFkb3dcIj09PWUucmVuZGVyUGFzcyYmYSl7aWYoMT09PWUuY3VycmVudFNoYWRvd0Nhc2NhZGUmJnIuaXNJbnNpZGVGaXJzdFNoYWRvd01hcEZydXN0dW0pY29udGludWU7Y29uc3QgdD1uLmNhbGN1bGF0ZVBvc01hdHJpeChoLnRvVW53cmFwcGVkKCksbi53b3JsZFNpemUpO2lmKGJBLnRpbGVNYXRyaXguc2V0KHQpLGJBLnNoYWRvd1RpbGVNYXRyaXg9RmxvYXQzMkFycmF5LmZyb20oYS5jYWxjdWxhdGVTaGFkb3dQYXNzTWF0cml4RnJvbU1hdHJpeCh0KSksYkEuYWFiYi5taW4uZmlsbCgwKSxiQS5hYWJiLm1heFswXT1iQS5hYWJiLm1heFsxXT1zcixiQS5hYWJiLm1heFsyXT0wLE1BKHIsYkEsZSxpLnNjb3BlKSljb250aW51ZX1jb25zdCBwPTE8PGguY2Fub25pY2FsLnosZj1bKChvLngtaC53cmFwKSpwLWguY2Fub25pY2FsLngpKnNyLChvLnkqcC1oLmNhbm9uaWNhbC55KSpzcixvLnoqcCpzcl07Zm9yKGxldCB0IGluIHIuaW5zdGFuY2VzUGVyTW9kZWwpe2NvbnN0IG49ci5pbnN0YW5jZXNQZXJNb2RlbFt0XTtuLmZlYXR1cmVzLmxlbmd0aD4wJiYodD1kLmV2YWx1YXRlKG4uZmVhdHVyZXNbMF0uZmVhdHVyZSx7fSkpO2NvbnN0IG89cy5nZXRNb2RlbCh0LGkuc2NvcGUpO2lmKG8mJm8udXBsb2FkZWQpZm9yKGNvbnN0IHQgb2Ygby5ub2RlcylUQShlLGksdCxuLGYsaCxiQSk7fX19KGUsdCxpLHIpLHZvaWQgbCgpO2lmKCFjLmxvYWRlZCgpKXJldHVybjtpZihcImJhdGNoZWQtbW9kZWxcIj09PWMudHlwZSlyZXR1cm4gZnVuY3Rpb24oZSx0LGkscil7Y29uc3Qgbj1lLmNvbnRleHQsbz1lLnRyYW5zZm9ybSxzPWUuc3R5bGUuZm9nLGE9ZS5zaGFkb3dSZW5kZXJlcjtpZihcIm1lcmNhdG9yXCIhPT1vLnByb2plY3Rpb24ubmFtZSlyZXR1cm4gdm9pZCBXKGBEcmF3aW5nIDNEIGxhbmRtYXJrIG1vZGVscyBmb3IgJHtvLnByb2plY3Rpb24ubmFtZX0gcHJvamVjdGlvbiBpcyBub3QgeWV0IGltcGxlbWVudGVkYCk7Y29uc3QgbD1lLnRyYW5zZm9ybS5nZXRGcmVlQ2FtZXJhT3B0aW9ucygpLnBvc2l0aW9uLGM9TXUuc2NhbGUoW10sW2wueCxsLnksbC56XSxlLnRyYW5zZm9ybS53b3JsZFNpemUpO011Lm5lZ2F0ZShjLGMpO2NvbnN0IGg9eHUuaWRlbnRpdHkoW10pLHU9S2Qoby5jZW50ZXIubGF0LG8uem9vbSksZD14dS5mcm9tU2NhbGluZyhbXSxbMSwxLDEvdV0pO3h1LnRyYW5zbGF0ZShoLGgsYyk7Y29uc3QgcD1pLnBhaW50LmdldChcIm1vZGVsLW9wYWNpdHlcIiksZj1uZXcgZ3gobi5nbC5MRVFVQUwsZ3guUmVhZFdyaXRlLGUuZGVwdGhSYW5nZUZvcjNEKSxtPW5ldyBneChuLmdsLkxFUVVBTCxneC5SZWFkT25seSxlLmRlcHRoUmFuZ2VGb3IzRCksXz1mdW5jdGlvbihsLGMpe2Zvcihjb25zdCB1IG9mIHIpe2NvbnN0IHI9dC5nZXRUaWxlKHUpLmdldEJ1Y2tldChpKTtpZighcnx8IXIudXBsb2FkZWQpY29udGludWU7bGV0IF89ITE7YSYmKF89MD09PWEuZ2V0TWF4Q2FzY2FkZUZvclRpbGUodS50b1Vud3JhcHBlZCgpKSk7Y29uc3QgZz1vLmNhbGN1bGF0ZVBvc01hdHJpeCh1LnRvVW53cmFwcGVkKCksby53b3JsZFNpemUpLHk9ci5tb2RlbFRyYWl0cztmb3IoY29uc3QgdCBvZiByLmdldE5vZGVzSW5mbygpKXtpZih0LmhpZGRlbkJ5UmVwbGFjZW1lbnQpY29udGludWU7aWYoIXQubm9kZS5tZXNoZXMpY29udGludWU7Y29uc3Qgcj10Lm5vZGUseD1cImxpZ2h0LWJlYW1cIj09PWUucmVuZGVyUGFzcyx2PVsuLi5nXSxiPXQuZXZhbHVhdGVkU2NhbGU7bGV0IHc9MDtlLnRlcnJhaW4mJnIuZWxldmF0aW9uJiYodz1yLmVsZXZhdGlvbiplLnRlcnJhaW4uZXhhZ2dlcmF0aW9uKCkpLHh1LnRyYW5zbGF0ZSh2LHYsWyhyLmFuY2hvcj9yLmFuY2hvclswXTowKSooYlswXS0xKSwoci5hbmNob3I/ci5hbmNob3JbMV06MCkqKGJbMV0tMSksd10pLGIhPT12diYmeHUuc2NhbGUodix2LGIpLHh1Lm11bHRpcGx5KHYsdixyLm1hdHJpeCk7Y29uc3QgVD14dS5tdWx0aXBseShbXSxkLHYpO3h1Lm11bHRpcGx5KFQsaCxUKTtjb25zdCBFPXh1LmludmVydChbXSxUKTt4dS50cmFuc3Bvc2UoRSxFKSx4dS5zY2FsZShFLEUsRUEpO2NvbnN0IE09eHUubXVsdGlwbHkoW10sby5wcm9qTWF0cml4LHYpO2ZvcihsZXQgaD0wO2g8ci5tZXNoZXMubGVuZ3RoOysraCl7Y29uc3QgZD1yLm1lc2hlc1toXSxnPWg9PT1yLmxpZ2h0TWVzaEluZGV4O2lmKGcpe2lmKCF4JiYhZS50ZXJyYWluJiZlLnNoYWRvd1JlbmRlcmVyKXtlLmN1cnJlbnRMYXllcjxlLmZpcnN0TGlnaHRCZWFtTGF5ZXImJihlLmZpcnN0TGlnaHRCZWFtTGF5ZXI9ZS5jdXJyZW50TGF5ZXIpO2NvbnRpbnVlfX1lbHNlIGlmKHgpY29udGludWU7Y29uc3QgYj17ZGVmaW5lczpbXX0sdz1bXTtfQShiLmRlZmluZXMsdyxkLGUpLDQmeXx8Yi5kZWZpbmVzLnB1c2goXCJESUZGVVNFX1NIQURFRFwiKSxfJiZiLmRlZmluZXMucHVzaChcIlNIQURPV1NfU0lOR0xFX0NBU0NBREVcIik7Y29uc3QgQT1cInNoYWRvd1wiPT09ZS5yZW5kZXJQYXNzO2lmKEEpe3hBKGQsdixlLGkpO2NvbnRpbnVlfWxldCBTPW51bGw7aWYocyl7Y29uc3QgdD1tQSh2LGUudHJhbnNmb3JtKTtpZihTPW5ldyBGbG9hdDMyQXJyYXkodCksXCJnbG9iZVwiIT09by5wcm9qZWN0aW9uLm5hbWUpe2NvbnN0IGU9ZC5hYWJiLm1pbixpPWQuYWFiYi5tYXgsW3Isbl09cy5nZXRPcGFjaXR5Rm9yQm91bmRzKHQsZVswXSxlWzFdLGlbMF0saVsxXSk7Yi5vdmVycmlkZUZvZz1yPj1zd3x8bj49c3c7fX1jb25zdCBJPWUuZ2V0T3JDcmVhdGVQcm9ncmFtKFwibW9kZWxcIixiKTshQSYmYSYmKGEudXNlTm9ybWFsT2Zmc2V0PSEhZC5ub3JtYWxCdWZmZXIsYS5zZXR1cFNoYWRvd3NGcm9tTWF0cml4KHYsSSxhLnVzZU5vcm1hbE9mZnNldCkpLGUudXBsb2FkQ29tbW9uVW5pZm9ybXMobixJLHUudG9VbndyYXBwZWQoKSxTKTtjb25zdCBDPWQubWF0ZXJpYWwsej1DLnBick1ldGFsbGljUm91Z2huZXNzO3oubWV0YWxsaWNGYWN0b3I9Ljksei5yb3VnaG5lc3NGYWN0b3I9LjU7Y29uc3QgRD1ETShuZXcgRmxvYXQzMkFycmF5KE0pLG5ldyBGbG9hdDMyQXJyYXkoVCksbmV3IEZsb2F0MzJBcnJheShFKSxlLHAsei5iYXNlQ29sb3JGYWN0b3IsQy5lbWlzc2l2ZUZhY3Rvcix6Lm1ldGFsbGljRmFjdG9yLHoucm91Z2huZXNzRmFjdG9yLEMsaSk7SS5kcmF3KGUsbi5nbC5UUklBTkdMRVMsYyYmIWc/ZjptLHh4LmRpc2FibGVkLGw/Z3x8cDwxfHx0Lmhhc1RyYW5zbHVjZW50UGFydHM/YnguYWxwaGFCbGVuZGVkOmJ4LnVuYmxlbmRlZDpieC5kaXNhYmxlZCxFeC5iYWNrQ0NXLEQsaS5pZCxkLnZlcnRleEJ1ZmZlcixkLmluZGV4QnVmZmVyLGQuc2VnbWVudHMsaS5wYWludCxlLnRyYW5zZm9ybS56b29tLHZvaWQgMCx3KTt9fX19OygoZnVuY3Rpb24oZSx0LGkscil7Y29uc3Qgbj1lLnRlcnJhaW4/ZS50ZXJyYWluLmV4YWdnZXJhdGlvbigpOjAsbz1lLnRyYW5zZm9ybS56b29tO2Zvcihjb25zdCBzIG9mIHIpe2NvbnN0IHI9dC5nZXRUaWxlKHMpLmdldEJ1Y2tldChpKTtyJiYoZS5jb25mbGF0aW9uQWN0aXZlJiZyLnVwZGF0ZVJlcGxhY2VtZW50KHMsZS5yZXBsYWNlbWVudFNvdXJjZSksci5ldmFsdWF0ZVNjYWxlKGUsaSksZS50ZXJyYWluJiZuPjAmJnIuZWxldmF0aW9uVXBkYXRlKGUudGVycmFpbixuLHMsaS5zb3VyY2UpLHIubmVlZHNSZUV2YWx1YXRpb24oZSxvLGkpJiZyLmV2YWx1YXRlKGkpKTt9fSkpKGUsdCxpLHIpLDE9PT1wP18oITAsITApOihfKCExLCEwKSxfKCEwLCExKSk7fShlLHQsaSxyKSx2b2lkIGwoKTtjb25zdCBoPWMuZ2V0TW9kZWxzKCksdT1bXSxkPWUudHJhbnNmb3JtLmdldEZyZWVDYW1lcmFPcHRpb25zKCkucG9zaXRpb24scD1NdS5zY2FsZShbXSxbZC54LGQueSxkLnpdLGUudHJhbnNmb3JtLndvcmxkU2l6ZSk7TXUubmVnYXRlKHAscCk7Y29uc3QgZj1bXSxtPVtdO2xldCBfPTA7Zm9yKGNvbnN0IHQgb2YgaCl7Y29uc3Qgcj1pLnBhaW50LmdldChcIm1vZGVsLXJvdGF0aW9uXCIpLmNvbnN0YW50T3IobnVsbCksbj1pLnBhaW50LmdldChcIm1vZGVsLXNjYWxlXCIpLmNvbnN0YW50T3IobnVsbCksbz1pLnBhaW50LmdldChcIm1vZGVsLXRyYW5zbGF0aW9uXCIpLmNvbnN0YW50T3IobnVsbCk7dC5jb21wdXRlTW9kZWxNYXRyaXgoZSxyLG4sbywhMCwhMCwhMSk7Y29uc3Qgcz14dS5pZGVudGl0eShbXSksYT1LZCh0LnBvc2l0aW9uLmxhdCxlLnRyYW5zZm9ybS56b29tKSxsPXh1LmZyb21TY2FsaW5nKFtdLFsxLDEsMS9hXSk7eHUudHJhbnNsYXRlKHMscyxwKSx1LnB1c2goe3pTY2FsZU1hdHJpeDpsLG5lZ0NhbWVyYVBvc01hdHJpeDpzfSk7Zm9yKGNvbnN0IGkgb2YgdC5ub2Rlcyl5QShlLnRyYW5zZm9ybSxpLHQubWF0cml4LGUudHJhbnNmb3JtLnByb2pNYXRyaXgsXyxmLG0pO18rKzt9aWYoZi5zb3J0KCgoZSx0KT0+dC5kZXB0aC1lLmRlcHRoKSksXCJzaGFkb3dcIiE9PWUucmVuZGVyUGFzcyl7aWYoMT09PW4pZm9yKGNvbnN0IHQgb2YgbSlnQSh0LGUsaSx1W3QubW9kZWxJbmRleF0seHguZGlzYWJsZWQsZS5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpO2Vsc2Uge2Zvcihjb25zdCB0IG9mIG0pZ0EodCxlLGksdVt0Lm1vZGVsSW5kZXhdLHh4LmRpc2FibGVkLGJ4LmRpc2FibGVkKTtmb3IoY29uc3QgdCBvZiBtKWdBKHQsZSxpLHVbdC5tb2RlbEluZGV4XSxlLnN0ZW5jaWxNb2RlRm9yM0QoKSxlLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSk7ZS5yZXNldFN0ZW5jaWxDbGlwcGluZ01hc2tzKCk7fWZvcihjb25zdCB0IG9mIGYpZ0EodCxlLGksdVt0Lm1vZGVsSW5kZXhdLHh4LmRpc2FibGVkLGUuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKTtsKCk7fWVsc2Uge2Zvcihjb25zdCB0IG9mIG0peEEodC5tZXNoLHQubm9kZU1vZGVsTWF0cml4LGUsaSk7Zm9yKGNvbnN0IHQgb2YgZil4QSh0Lm1lc2gsdC5ub2RlTW9kZWxNYXRyaXgsZSxpKTtsKCk7fX19LENBPXttb2RlbFVwbG9hZDpmdW5jdGlvbihlLHQsaSl7Y29uc3Qgcj10LmdldFNvdXJjZSgpO2lmKCFyLmxvYWRlZCgpKXJldHVybjtpZihcInZlY3RvclwiPT09ci50eXBlfHxcImdlb2pzb25cIj09PXIudHlwZSlyZXR1cm4gdm9pZChlLm1vZGVsTWFuYWdlciYmZS5tb2RlbE1hbmFnZXIudXBsb2FkKGUsaSkpO2lmKFwiYmF0Y2hlZC1tb2RlbFwiPT09ci50eXBlKXJldHVybjtjb25zdCBuPXIuZ2V0TW9kZWxzKCk7Zm9yKGNvbnN0IHQgb2Ygbil0LnVwbG9hZChlLmNvbnRleHQpO319O2NsYXNzIHpBe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5jb250ZXh0PW5ldyBNeChlKSx0aGlzLnRyYW5zZm9ybT10LHRoaXMuX3RpbGVUZXh0dXJlcz17fSx0aGlzLmZyYW1lQ29waWVzPVtdLHRoaXMubG9hZFRpbWVTdGFtcHM9W10sdGhpcy5zZXR1cCgpLHRoaXMubnVtU3VibGF5ZXJzPUF4Lm1heFVuZGVyem9vbWluZytBeC5tYXhPdmVyem9vbWluZysxLHRoaXMuZGVwdGhFcHNpbG9uPTEvTWF0aC5wb3coMiwxNiksdGhpcy5kZWZlcnJlZFJlbmRlckdwdVRpbWVRdWVyaWVzPVtdLHRoaXMuZ3B1VGltZXJzPXt9LHRoaXMuZnJhbWVDb3VudGVyPTAsdGhpcy5fYmFja2dyb3VuZFRpbGVzPXt9LHRoaXMuY29uZmxhdGlvbkFjdGl2ZT0hMSx0aGlzLnJlcGxhY2VtZW50U291cmNlPW5ldyBWdix0aGlzLmxvbmdlc3RDdXRvZmZSYW5nZT0wLHRoaXMubWluQ3V0b2ZmWm9vbT0wLHRoaXMuX2ZvZ1Zpc2libGU9ITEsdGhpcy5fY2FjaGVkVGlsZUZvZ09wYWNpdGllcz17fSx0aGlzLl9zaGFkb3dSZW5kZXJlcj1uZXcgTEEodGhpcyksdGhpcy5fd2lyZWZyYW1lRGVidWdDYWNoZT1uZXcgU0EsdGhpcy5yZW5kZXJEZWZhdWx0Tm9ydGhQb2xlPSEwLHRoaXMucmVuZGVyRGVmYXVsdFNvdXRoUG9sZT0hMDt9dXBkYXRlVGVycmFpbihlLHQpe2NvbnN0IGk9ISFlJiYhIWUudGVycmFpbiYmdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c1RlcnJhaW47aWYoIShpfHx0aGlzLl90ZXJyYWluJiZ0aGlzLl90ZXJyYWluLmVuYWJsZWQpKXJldHVybjt0aGlzLl90ZXJyYWlufHwodGhpcy5fdGVycmFpbj1uZXcgck0odGhpcyxlKSk7Y29uc3Qgcj10aGlzLl90ZXJyYWluO3RoaXMudHJhbnNmb3JtLmVsZXZhdGlvbj1pP3I6bnVsbCxyLnVwZGF0ZShlLHRoaXMudHJhbnNmb3JtLHQpLHRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbiYmIXIuZW5hYmxlZCYmKHRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbj1udWxsKTt9X3VwZGF0ZUZvZyhlKXtjb25zdCB0PWUuZm9nO2lmKCF0fHxcImdsb2JlXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWV8fHQuZ2V0T3BhY2l0eSh0aGlzLnRyYW5zZm9ybS5waXRjaCk8MXx8dC5wcm9wZXJ0aWVzLmdldChcImhvcml6b24tYmxlbmRcIik8LjAzKXJldHVybiB2b2lkKHRoaXMudHJhbnNmb3JtLmZvZ0N1bGxEaXN0U3E9bnVsbCk7Y29uc3RbaSxyXT10LmdldEZvdkFkanVzdGVkUmFuZ2UodGhpcy50cmFuc2Zvcm0uX2Zvdik7aWYoaT5yKXJldHVybiB2b2lkKHRoaXMudHJhbnNmb3JtLmZvZ0N1bGxEaXN0U3E9bnVsbCk7Y29uc3Qgbj1pKy43OCooci1pKTt0aGlzLnRyYW5zZm9ybS5mb2dDdWxsRGlzdFNxPW4qbjt9Z2V0IHRlcnJhaW4oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uX3RlcnJhaW5FbmFibGVkKCkmJnRoaXMuX3RlcnJhaW4mJnRoaXMuX3RlcnJhaW4uZW5hYmxlZD90aGlzLl90ZXJyYWluOm51bGx9Z2V0IHNoYWRvd1JlbmRlcmVyKCl7cmV0dXJuIHRoaXMuX3NoYWRvd1JlbmRlcmVyJiZ0aGlzLl9zaGFkb3dSZW5kZXJlci5lbmFibGVkP3RoaXMuX3NoYWRvd1JlbmRlcmVyOm51bGx9Z2V0IHdpcmVmcmFtZURlYnVnQ2FjaGUoKXtyZXR1cm4gdGhpcy5fd2lyZWZyYW1lRGVidWdDYWNoZX1yZXNpemUoZSx0KXtpZih0aGlzLndpZHRoPWUqaHQuZGV2aWNlUGl4ZWxSYXRpbyx0aGlzLmhlaWdodD10Kmh0LmRldmljZVBpeGVsUmF0aW8sdGhpcy5jb250ZXh0LnZpZXdwb3J0LnNldChbMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHRdKSx0aGlzLnN0eWxlKWZvcihjb25zdCBlIG9mIHRoaXMuc3R5bGUub3JkZXIpdGhpcy5zdHlsZS5fbWVyZ2VkTGF5ZXJzW2VdLnJlc2l6ZSgpO31zZXR1cCgpe2NvbnN0IGU9dGhpcy5jb250ZXh0LGk9bmV3IFRhO2kuZW1wbGFjZUJhY2soMCwwKSxpLmVtcGxhY2VCYWNrKHNyLDApLGkuZW1wbGFjZUJhY2soMCxzciksaS5lbXBsYWNlQmFjayhzcixzciksdGhpcy50aWxlRXh0ZW50QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKGksUHUubWVtYmVycyksdGhpcy50aWxlRXh0ZW50U2VnbWVudHM9ZGwuc2ltcGxlU2VnbWVudCgwLDAsNCwyKTtjb25zdCByPW5ldyBUYTtyLmVtcGxhY2VCYWNrKDAsMCksci5lbXBsYWNlQmFjayhzciwwKSxyLmVtcGxhY2VCYWNrKDAsc3IpLHIuZW1wbGFjZUJhY2soc3Isc3IpLHRoaXMuZGVidWdCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIocixQdS5tZW1iZXJzKSx0aGlzLmRlYnVnU2VnbWVudHM9ZGwuc2ltcGxlU2VnbWVudCgwLDAsNCw1KTtjb25zdCBuPW5ldyBUYTtuLmVtcGxhY2VCYWNrKC0xLC0xKSxuLmVtcGxhY2VCYWNrKDEsLTEpLG4uZW1wbGFjZUJhY2soLTEsMSksbi5lbXBsYWNlQmFjaygxLDEpLHRoaXMudmlld3BvcnRCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIobixQdS5tZW1iZXJzKSx0aGlzLnZpZXdwb3J0U2VnbWVudHM9ZGwuc2ltcGxlU2VnbWVudCgwLDAsNCwyKTtjb25zdCBvPW5ldyBNYTtvLmVtcGxhY2VCYWNrKDAsMCwwLDApLG8uZW1wbGFjZUJhY2soc3IsMCxzciwwKSxvLmVtcGxhY2VCYWNrKDAsc3IsMCxzciksby5lbXBsYWNlQmFjayhzcixzcixzcixzciksdGhpcy5tZXJjYXRvckJvdW5kc0J1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihvLEF5Lm1lbWJlcnMpLHRoaXMubWVyY2F0b3JCb3VuZHNTZWdtZW50cz1kbC5zaW1wbGVTZWdtZW50KDAsMCw0LDIpO2NvbnN0IHM9bmV3IFZhO3MuZW1wbGFjZUJhY2soMCwxLDIpLHMuZW1wbGFjZUJhY2soMiwxLDMpLHRoaXMucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcihzKTtjb25zdCBhPW5ldyBXYTtmb3IoY29uc3QgZSBvZiBbMCwxLDMsMiwwXSlhLmVtcGxhY2VCYWNrKGUpO3RoaXMuZGVidWdJbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKGEpLHRoaXMuZW1wdHlUZXh0dXJlPW5ldyBneShlLG5ldyAkcCh7d2lkdGg6MSxoZWlnaHQ6MX0sVWludDhBcnJheS5vZigwLDAsMCwwKSksZS5nbC5SR0JBKSx0aGlzLmlkZW50aXR5TWF0PXh1LmNyZWF0ZSgpO2NvbnN0IGw9dGhpcy5jb250ZXh0LmdsO3RoaXMuc3RlbmNpbENsZWFyTW9kZT1uZXcgeHgoe2Z1bmM6bC5BTFdBWVMsbWFzazowfSwwLDI1NSxsLlpFUk8sbC5aRVJPLGwuWkVSTyksdGhpcy5sb2FkVGltZVN0YW1wcy5wdXNoKHQucGVyZm9ybWFuY2Uubm93KCkpO31nZXRNZXJjYXRvclRpbGVCb3VuZHNCdWZmZXJzKCl7cmV0dXJuIHt0aWxlQm91bmRzQnVmZmVyOnRoaXMubWVyY2F0b3JCb3VuZHNCdWZmZXIsdGlsZUJvdW5kc0luZGV4QnVmZmVyOnRoaXMucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsdGlsZUJvdW5kc1NlZ21lbnRzOnRoaXMubWVyY2F0b3JCb3VuZHNTZWdtZW50c319Z2V0VGlsZUJvdW5kc0J1ZmZlcnMoZSl7cmV0dXJuIGUuX21ha2VUaWxlQm91bmRzQnVmZmVycyh0aGlzLmNvbnRleHQsdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbiksZS5fdGlsZUJvdW5kc0J1ZmZlcj97dGlsZUJvdW5kc0J1ZmZlcjplLl90aWxlQm91bmRzQnVmZmVyLHRpbGVCb3VuZHNJbmRleEJ1ZmZlcjplLl90aWxlQm91bmRzSW5kZXhCdWZmZXIsdGlsZUJvdW5kc1NlZ21lbnRzOmUuX3RpbGVCb3VuZHNTZWdtZW50c306dGhpcy5nZXRNZXJjYXRvclRpbGVCb3VuZHNCdWZmZXJzKCl9Y2xlYXJTdGVuY2lsKCl7Y29uc3QgZT10aGlzLmNvbnRleHQuZ2w7dGhpcy5uZXh0U3RlbmNpbElEPTEsdGhpcy5jdXJyZW50U3RlbmNpbFNvdXJjZT12b2lkIDAsdGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEcz17fSx0aGlzLmdldE9yQ3JlYXRlUHJvZ3JhbShcImNsaXBwaW5nTWFza1wiKS5kcmF3KHRoaXMsZS5UUklBTkdMRVMsZ3guZGlzYWJsZWQsdGhpcy5zdGVuY2lsQ2xlYXJNb2RlLGJ4LmRpc2FibGVkLEV4LmRpc2FibGVkLEpFKHRoaXMuaWRlbnRpdHlNYXQpLFwiJGNsaXBwaW5nXCIsdGhpcy52aWV3cG9ydEJ1ZmZlcix0aGlzLnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLHRoaXMudmlld3BvcnRTZWdtZW50cyk7fXJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKXt0aGlzLnRlcnJhaW58fCh0aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPXZvaWQgMCx0aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzPXt9KTt9X3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKGUsdCxpKXtpZighdHx8dGhpcy5jdXJyZW50U3RlbmNpbFNvdXJjZT09PXQuaWR8fCFlLmlzVGlsZUNsaXBwZWQoKXx8IWl8fDA9PT1pLmxlbmd0aClyZXR1cm47aWYodGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEcyYmIXRoaXMudGVycmFpbil7bGV0IGU9ITE7Zm9yKGNvbnN0IHQgb2YgaSlpZih2b2lkIDA9PT10aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzW3Qua2V5XSl7ZT0hMDticmVha31pZighZSlyZXR1cm59dGhpcy5jdXJyZW50U3RlbmNpbFNvdXJjZT10LmlkO2NvbnN0IHI9dGhpcy5jb250ZXh0LG49ci5nbDt0aGlzLm5leHRTdGVuY2lsSUQraS5sZW5ndGg+MjU2JiZ0aGlzLmNsZWFyU3RlbmNpbCgpLHIuc2V0Q29sb3JNb2RlKGJ4LmRpc2FibGVkKSxyLnNldERlcHRoTW9kZShneC5kaXNhYmxlZCk7Y29uc3Qgbz10aGlzLmdldE9yQ3JlYXRlUHJvZ3JhbShcImNsaXBwaW5nTWFza1wiKTt0aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzPXt9O2Zvcihjb25zdCBlIG9mIGkpe2NvbnN0IGk9dC5nZXRUaWxlKGUpLHI9dGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEc1tlLmtleV09dGhpcy5uZXh0U3RlbmNpbElEKysse3RpbGVCb3VuZHNCdWZmZXI6cyx0aWxlQm91bmRzSW5kZXhCdWZmZXI6YSx0aWxlQm91bmRzU2VnbWVudHM6bH09dGhpcy5nZXRUaWxlQm91bmRzQnVmZmVycyhpKTtvLmRyYXcodGhpcyxuLlRSSUFOR0xFUyxneC5kaXNhYmxlZCxuZXcgeHgoe2Z1bmM6bi5BTFdBWVMsbWFzazowfSxyLDI1NSxuLktFRVAsbi5LRUVQLG4uUkVQTEFDRSksYnguZGlzYWJsZWQsRXguZGlzYWJsZWQsSkUoZS5wcm9qTWF0cml4KSxcIiRjbGlwcGluZ1wiLHMsYSxsKTt9fXN0ZW5jaWxNb2RlRm9yM0QoKXt0aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPXZvaWQgMCx0aGlzLm5leHRTdGVuY2lsSUQrMT4yNTYmJnRoaXMuY2xlYXJTdGVuY2lsKCk7Y29uc3QgZT10aGlzLm5leHRTdGVuY2lsSUQrKyx0PXRoaXMuY29udGV4dC5nbDtyZXR1cm4gbmV3IHh4KHtmdW5jOnQuTk9URVFVQUwsbWFzazoyNTV9LGUsMjU1LHQuS0VFUCx0LktFRVAsdC5SRVBMQUNFKX1zdGVuY2lsTW9kZUZvckNsaXBwaW5nKGUpe2lmKHRoaXMudGVycmFpbilyZXR1cm4gdGhpcy50ZXJyYWluLnN0ZW5jaWxNb2RlRm9yUlRUT3ZlcmxhcChlKTtjb25zdCB0PXRoaXMuY29udGV4dC5nbDtyZXR1cm4gbmV3IHh4KHtmdW5jOnQuRVFVQUwsbWFzazoyNTV9LHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHNbZS5rZXldLDAsdC5LRUVQLHQuS0VFUCx0LlJFUExBQ0UpfXN0ZW5jaWxDb25maWdGb3JPdmVybGFwKGUpe2NvbnN0IHQ9dGhpcy5jb250ZXh0LmdsLGk9ZS5zb3J0KCgoZSx0KT0+dC5vdmVyc2NhbGVkWi1lLm92ZXJzY2FsZWRaKSkscj1pW2kubGVuZ3RoLTFdLm92ZXJzY2FsZWRaLG49aVswXS5vdmVyc2NhbGVkWi1yKzE7aWYobj4xKXt0aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPXZvaWQgMCx0aGlzLm5leHRTdGVuY2lsSUQrbj4yNTYmJnRoaXMuY2xlYXJTdGVuY2lsKCk7Y29uc3QgZT17fTtmb3IobGV0IGk9MDtpPG47aSsrKWVbaStyXT1uZXcgeHgoe2Z1bmM6dC5HRVFVQUwsbWFzazoyNTV9LGkrdGhpcy5uZXh0U3RlbmNpbElELDI1NSx0LktFRVAsdC5LRUVQLHQuUkVQTEFDRSk7cmV0dXJuIHRoaXMubmV4dFN0ZW5jaWxJRCs9bixbZSxpXX1yZXR1cm4gW3tbcl06eHguZGlzYWJsZWR9LGldfWNvbG9yTW9kZUZvclJlbmRlclBhc3MoKXtjb25zdCBlPXRoaXMuY29udGV4dC5nbDtpZih0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3Ipe2NvbnN0IHQ9MS84O3JldHVybiBuZXcgYngoW2UuQ09OU1RBTlRfQ09MT1IsZS5PTkUsZS5DT05TVEFOVF9DT0xPUixlLk9ORV0sbmV3IGxpKHQsdCx0LDApLFshMCwhMCwhMCwhMF0pfXJldHVybiBcIm9wYXF1ZVwiPT09dGhpcy5yZW5kZXJQYXNzP2J4LnVuYmxlbmRlZDpieC5hbHBoYUJsZW5kZWR9Y29sb3JNb2RlRm9yRHJhcGFibGVMYXllclJlbmRlclBhc3MoZSl7Y29uc3QgdD10aGlzLmNvbnRleHQuZ2w7cmV0dXJuICgoKT0+dGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5lbmFibGUzZExpZ2h0cygpJiZ0aGlzLnRlcnJhaW4mJnRoaXMudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmUpKCkmJlwidHJhbnNsdWNlbnRcIj09PXRoaXMucmVuZGVyUGFzcz9uZXcgYngoW3QuT05FLHQuT05FX01JTlVTX1NSQ19BTFBIQSx0LkNPTlNUQU5UX0FMUEhBLHQuT05FX01JTlVTX1NSQ19BTFBIQV0sbmV3IGxpKDAsMCwwLHZvaWQgMD09PWU/MDplKSxbITAsITAsITAsITBdKTp0aGlzLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKX1kZXB0aE1vZGVGb3JTdWJsYXllcihlLHQsaSxyPSExKXtpZighdGhpcy5vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyKCkmJiFyKXJldHVybiBneC5kaXNhYmxlZDtjb25zdCBuPTEtKCgxK3RoaXMuY3VycmVudExheWVyKSp0aGlzLm51bVN1YmxheWVycytlKSp0aGlzLmRlcHRoRXBzaWxvbjtyZXR1cm4gbmV3IGd4KGl8fHRoaXMuY29udGV4dC5nbC5MRVFVQUwsdCxbbixuXSl9b3BhcXVlUGFzc0VuYWJsZWRGb3JMYXllcigpe3JldHVybiB0aGlzLmN1cnJlbnRMYXllcjx0aGlzLm9wYXF1ZVBhc3NDdXRvZmZ9cmVuZGVyKGUsaSl7dGhpcy5fd2lyZWZyYW1lRGVidWdDYWNoZS51cGRhdGUodGhpcy5mcmFtZUNvdW50ZXIpLHRoaXMuc3R5bGU9ZSx0aGlzLm9wdGlvbnM9aTtjb25zdCByPXRoaXMuc3R5bGUuX21lcmdlZExheWVycyxuPXRoaXMuc3R5bGUub3JkZXIsbz1uLm1hcCgoZT0+cltlXSkpLHM9dGhpcy5zdHlsZS5fbWVyZ2VkU291cmNlQ2FjaGVzO3RoaXMuaW1hZ2VNYW5hZ2VyPWUuaW1hZ2VNYW5hZ2VyLHRoaXMubW9kZWxNYW5hZ2VyPWUubW9kZWxNYW5hZ2VyLHRoaXMuc3ltYm9sRmFkZUNoYW5nZT1lLnBsYWNlbWVudC5zeW1ib2xGYWRlQ2hhbmdlKGh0Lm5vdygpKSx0aGlzLmltYWdlTWFuYWdlci5iZWdpbkZyYW1lKCk7bGV0IGE9MCxsPSExO2Zvcihjb25zdCBlIGluIHMpe2NvbnN0IHQ9c1tlXTt0LnVzZWQmJih0LnByZXBhcmUodGhpcy5jb250ZXh0KSx0LmdldFNvdXJjZSgpLnVzZWRJbkNvbmZsYXRpb24mJisrYSk7fWNvbnN0IGM9e30saD17fSx1PXt9LGQ9e30scD17fTtmb3IoY29uc3QgZSBpbiBzKXtjb25zdCB0PXNbZV07Y1tlXT10LmdldFZpc2libGVDb29yZGluYXRlcygpLGhbZV09Y1tlXS5zbGljZSgpLnJldmVyc2UoKSx1W2VdPXQuZ2V0VmlzaWJsZUNvb3JkaW5hdGVzKCEwKS5yZXZlcnNlKCksZFtlXT10LmdldFNoYWRvd0Nhc3RlckNvb3JkaW5hdGVzKCkscFtlXT10LnNvcnRDb29yZGluYXRlc0J5RGlzdGFuY2UoY1tlXSk7fWNvbnN0IGY9ZT0+e2NvbnN0IHQ9dGhpcy5zdHlsZS5nZXRMYXllclNvdXJjZUNhY2hlKGUpO3JldHVybiB0JiZ0LnVzZWQ/dC5nZXRTb3VyY2UoKTpudWxsfTtpZihhKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IG9mIG8pdGhpcy5sYXllclVzZWRJbkNvbmZsYXRpb24odCxmKHQpKSYmZS5wdXNoKHQpO2lmKGUmJmUubGVuZ3RoPjEpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IGkgb2YgZSl7Y29uc3QgZT10aGlzLnN0eWxlLmdldExheWVyU291cmNlQ2FjaGUoaSk7ZSYmZS51c2VkJiZlLmdldFNvdXJjZSgpLnVzZWRJbkNvbmZsYXRpb24mJnQucHVzaCh7bGF5ZXI6aS5mcWlkLGNhY2hlOmV9KTt9dGhpcy5yZXBsYWNlbWVudFNvdXJjZS5zZXRTb3VyY2VzKHQpLGw9ITA7fX1sfHx0aGlzLnJlcGxhY2VtZW50U291cmNlLmNsZWFyKCksdGhpcy5jb25mbGF0aW9uQWN0aXZlPWwsdGhpcy5taW5DdXRvZmZab29tPTAsdGhpcy5sb25nZXN0Q3V0b2ZmUmFuZ2U9MDtmb3IoY29uc3QgZSBvZiBvKXtjb25zdCB0PWUuY3V0b2ZmUmFuZ2UoKTtpZih0aGlzLmxvbmdlc3RDdXRvZmZSYW5nZT1NYXRoLm1heCh0LHRoaXMubG9uZ2VzdEN1dG9mZlJhbmdlKSx0PjApe2NvbnN0IHQ9ZihlKTt0JiYodGhpcy5taW5DdXRvZmZab29tPU1hdGgubWF4KHQubWluem9vbSx0aGlzLm1pbkN1dG9mZlpvb20pKSxlLm1pbnpvb20mJih0aGlzLm1pbkN1dG9mZlpvb209TWF0aC5tYXgoZS5taW56b29tLHRoaXMubWluQ3V0b2ZmWm9vbSkpO319dGhpcy5vcGFxdWVQYXNzQ3V0b2ZmPTEvMDtmb3IobGV0IGU9MDtlPG8ubGVuZ3RoO2UrKylpZihvW2VdLmlzM0QoKSl7dGhpcy5vcGFxdWVQYXNzQ3V0b2ZmPWU7YnJlYWt9Y29uc3QgbT10aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLmZvZzttPyh0aGlzLl9mb2dWaXNpYmxlPTAhPT1tLmdldE9wYWNpdHkodGhpcy50cmFuc2Zvcm0ucGl0Y2gpLHRoaXMuX2ZvZ1Zpc2libGUmJlwiZ2xvYmVcIiE9PXRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSYmKHRoaXMuX2ZvZ1Zpc2libGU9bS5pc1Zpc2libGVPbkZydXN0dW0odGhpcy50cmFuc2Zvcm0uY2FtZXJhRnJ1c3R1bSkpKTp0aGlzLl9mb2dWaXNpYmxlPSExLHRoaXMuX2NhY2hlZFRpbGVGb2dPcGFjaXRpZXM9e30sdGhpcy50ZXJyYWluJiYodGhpcy50ZXJyYWluLnVwZGF0ZVRpbGVCaW5kaW5nKHUpLHRoaXMub3BhcXVlUGFzc0N1dG9mZj0wKTtjb25zdCBfPXRoaXMuX3NoYWRvd1JlbmRlcmVyO2lmKF8pe18udXBkYXRlU2hhZG93UGFyYW1ldGVycyh0aGlzLnRyYW5zZm9ybSx0aGlzLnN0eWxlLmRpcmVjdGlvbmFsTGlnaHQpO2Zvcihjb25zdCBlIGluIHMpZm9yKGNvbnN0IHQgb2YgY1tlXSl7bGV0IGU9e21pbjowLG1heDowfTt0aGlzLnRlcnJhaW4mJihlPXRoaXMudGVycmFpbi5nZXRNaW5NYXhGb3JUaWxlKHQpfHxlKSxfLmFkZFNoYWRvd1JlY2VpdmVyKHQudG9VbndyYXBwZWQoKSxlLm1pbixlLm1heCk7fX1cImdsb2JlXCIhPT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWV8fHRoaXMuZ2xvYmVTaGFyZWRCdWZmZXJzfHwodGhpcy5nbG9iZVNoYXJlZEJ1ZmZlcnM9bmV3IGtkKHRoaXMuY29udGV4dCkpO2Zvcihjb25zdCB0IG9mIG8pe2lmKHQuaXNIaWRkZW4odGhpcy50cmFuc2Zvcm0uem9vbSkpY29udGludWU7Y29uc3QgaT1lLmdldExheWVyU291cmNlQ2FjaGUodCk7dGhpcy51cGxvYWRMYXllcih0aGlzLHQsaSk7fWlmKHRoaXMuc3R5bGUuZm9nJiZ0aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nPyh0aGlzLl9hdG1vc3BoZXJlfHwodGhpcy5fYXRtb3NwaGVyZT1uZXcgZkEpLHRoaXMuX2F0bW9zcGhlcmUudXBkYXRlKHRoaXMpKTp0aGlzLl9hdG1vc3BoZXJlJiYodGhpcy5fYXRtb3NwaGVyZS5kZXN0cm95KCksdGhpcy5fYXRtb3NwaGVyZT12b2lkIDApLCFZZS5oYXModGhpcy5jb250ZXh0LmdsKSlyZXR1cm47dGhpcy5yZW5kZXJQYXNzPVwib2Zmc2NyZWVuXCI7Zm9yKGNvbnN0IHQgb2Ygbyl7Y29uc3QgaT1lLmdldExheWVyU291cmNlQ2FjaGUodCk7aWYoIXQuaGFzT2Zmc2NyZWVuUGFzcygpfHx0LmlzSGlkZGVuKHRoaXMudHJhbnNmb3JtLnpvb20pKWNvbnRpbnVlO2NvbnN0IHI9aT9oW2kuaWRdOnZvaWQgMDsoXCJjdXN0b21cIj09PXQudHlwZXx8XCJyYXN0ZXJcIj09PXQudHlwZXx8dC5pc1NreSgpfHxyJiZyLmxlbmd0aCkmJnRoaXMucmVuZGVyTGF5ZXIodGhpcyxpLHQscik7fXRoaXMuZGVwdGhSYW5nZUZvcjNEPVswLDEtKG8ubGVuZ3RoKzIpKnRoaXMubnVtU3VibGF5ZXJzKnRoaXMuZGVwdGhFcHNpbG9uXTtjb25zdCBnPXRoaXMudGVycmFpbjtnJiYodGhpcy5zdHlsZS5oYXNTeW1ib2xMYXllcnMoKXx8dGhpcy5zdHlsZS5oYXNDaXJjbGVMYXllcnMoKSkmJiF0aGlzLnRyYW5zZm9ybS5pc09ydGhvZ3JhcGhpYyYmZy5kcmF3RGVwdGgoKSx0aGlzLl9zaGFkb3dSZW5kZXJlciYmKHRoaXMucmVuZGVyUGFzcz1cInNoYWRvd1wiLHRoaXMuX3NoYWRvd1JlbmRlcmVyLmRyYXdTaGFkb3dQYXNzKHRoaXMuc3R5bGUsZCkpLHRoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KG51bGwpLHRoaXMuY29udGV4dC52aWV3cG9ydC5zZXQoWzAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0XSk7Y29uc3QgeT1cImdsb2JlXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWV8fHRoaXMudHJhbnNmb3JtLmlzSG9yaXpvblZpc2libGUoKSx4PSgoKT0+e2lmKGkuc2hvd092ZXJkcmF3SW5zcGVjdG9yKXJldHVybiBsaS5ibGFjaztpZih0aGlzLnN0eWxlLmZvZyYmdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZvZyYmIXkpe2NvbnN0IGU9dGhpcy5zdHlsZS5mb2cucHJvcGVydGllcy5nZXQoXCJjb2xvclwiKS50b0FycmF5MDEoKTtyZXR1cm4gbmV3IGxpKC4uLmUpfWlmKHRoaXMuc3R5bGUuZm9nJiZ0aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nJiZ5KXtjb25zdCBlPXRoaXMuc3R5bGUuZm9nLnByb3BlcnRpZXMuZ2V0KFwic3BhY2UtY29sb3JcIikudG9BcnJheTAxKCk7cmV0dXJuIG5ldyBsaSguLi5lKX1yZXR1cm4gbGkudHJhbnNwYXJlbnR9KSgpO2lmKHRoaXMuY29udGV4dC5jbGVhcih7Y29sb3I6eCxkZXB0aDoxfSksdGhpcy5jbGVhclN0ZW5jaWwoKSx0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3I9aS5zaG93T3ZlcmRyYXdJbnNwZWN0b3IsdGhpcy5yZW5kZXJQYXNzPVwib3BhcXVlXCIsdGhpcy5zdHlsZS5mb2cmJnRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24uc3VwcG9ydHNGb2cmJnRoaXMuX2F0bW9zcGhlcmUmJiF0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3ImJnkmJnRoaXMuX2F0bW9zcGhlcmUuZHJhd1N0YXJzKHRoaXMsdGhpcy5zdHlsZS5mb2cpLCF0aGlzLnRlcnJhaW4pZm9yKHRoaXMuY3VycmVudExheWVyPW4ubGVuZ3RoLTE7dGhpcy5jdXJyZW50TGF5ZXI+PTA7dGhpcy5jdXJyZW50TGF5ZXItLSl7Y29uc3QgdD1vW3RoaXMuY3VycmVudExheWVyXSxpPWUuZ2V0TGF5ZXJTb3VyY2VDYWNoZSh0KTtpZih0LmlzU2t5KCkpY29udGludWU7Y29uc3Qgcj1pPyh0LmlzM0QoKT9wOmgpW2kuaWRdOnZvaWQgMDt0aGlzLl9yZW5kZXJUaWxlQ2xpcHBpbmdNYXNrcyh0LGksciksdGhpcy5yZW5kZXJMYXllcih0aGlzLGksdCxyKTt9aWYodGhpcy5zdHlsZS5mb2cmJnRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24uc3VwcG9ydHNGb2cmJnRoaXMuX2F0bW9zcGhlcmUmJiF0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3ImJnkmJnRoaXMuX2F0bW9zcGhlcmUuZHJhd0F0bW9zcGhlcmVHbG93KHRoaXMsdGhpcy5zdHlsZS5mb2cpLHRoaXMucmVuZGVyUGFzcz1cInNreVwiLCghdGhpcy5fYXRtb3NwaGVyZXx8RWQodGhpcy50cmFuc2Zvcm0uem9vbSk+MCkmJihcImdsb2JlXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWV8fHRoaXMudHJhbnNmb3JtLmlzSG9yaXpvblZpc2libGUoKSkpZm9yKHRoaXMuY3VycmVudExheWVyPTA7dGhpcy5jdXJyZW50TGF5ZXI8bi5sZW5ndGg7dGhpcy5jdXJyZW50TGF5ZXIrKyl7Y29uc3QgdD1vW3RoaXMuY3VycmVudExheWVyXSxpPWUuZ2V0TGF5ZXJTb3VyY2VDYWNoZSh0KTt0LmlzU2t5KCkmJnRoaXMucmVuZGVyTGF5ZXIodGhpcyxpLHQsaT9oW2kuaWRdOnZvaWQgMCk7fXRoaXMucmVuZGVyUGFzcz1cInRyYW5zbHVjZW50XCIsdGhpcy5jdXJyZW50TGF5ZXI9MCx0aGlzLmZpcnN0TGlnaHRCZWFtTGF5ZXI9TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7bGV0IHY9MDtmb3IoXyYmKHY9Xy5nZXRTaGFkb3dDYXN0aW5nTGF5ZXJDb3VudCgpKTt0aGlzLmN1cnJlbnRMYXllcjxuLmxlbmd0aDspe2NvbnN0IHQ9b1t0aGlzLmN1cnJlbnRMYXllcl0saT1lLmdldExheWVyU291cmNlQ2FjaGUodCk7aWYodC5pc1NreSgpKXsrK3RoaXMuY3VycmVudExheWVyO2NvbnRpbnVlfWlmKGcmJnRoaXMuc3R5bGUuaXNMYXllckRyYXBlZCh0KSl7aWYodC5pc0hpZGRlbih0aGlzLnRyYW5zZm9ybS56b29tKSl7Kyt0aGlzLmN1cnJlbnRMYXllcjtjb250aW51ZX10aGlzLmN1cnJlbnRMYXllcj1nLnJlbmRlckJhdGNoKHRoaXMuY3VycmVudExheWVyKTtjb250aW51ZX1sZXQgcjtpZihpJiYocj0oXCJzeW1ib2xcIj09PXQudHlwZT91OnQuaXMzRCgpP3A6aClbaS5pZF0pLHRoaXMuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKHQsaSxpP2NbaS5pZF06dm9pZCAwKSx0aGlzLnJlbmRlckxheWVyKHRoaXMsaSx0LHIpLCFnJiZfJiZ2PjAmJnQuaGFzU2hhZG93UGFzcygpJiYwPT0tLXYmJihfLmRyYXdHcm91bmRTaGFkb3dzKCksdGhpcy5maXJzdExpZ2h0QmVhbUxheWVyPD10aGlzLmN1cnJlbnRMYXllcikpe2NvbnN0IHQ9dGhpcy5jdXJyZW50TGF5ZXI7Zm9yKHRoaXMucmVuZGVyUGFzcz1cImxpZ2h0LWJlYW1cIix0aGlzLmN1cnJlbnRMYXllcj10aGlzLmZpcnN0TGlnaHRCZWFtTGF5ZXI7dGhpcy5jdXJyZW50TGF5ZXI8PXQ7dGhpcy5jdXJyZW50TGF5ZXIrKyl7Y29uc3QgdD1vW3RoaXMuY3VycmVudExheWVyXTtpZighdC5oYXNMaWdodEJlYW1QYXNzKCkpY29udGludWU7Y29uc3QgaT1lLmdldExheWVyU291cmNlQ2FjaGUodCk7dGhpcy5yZW5kZXJMYXllcih0aGlzLGksdCxpP2hbaS5pZF06dm9pZCAwKTt9dGhpcy5jdXJyZW50TGF5ZXI9dCx0aGlzLnJlbmRlclBhc3M9XCJ0cmFuc2x1Y2VudFwiO30rK3RoaXMuY3VycmVudExheWVyO31pZih0aGlzLnRlcnJhaW4mJnRoaXMudGVycmFpbi5wb3N0UmVuZGVyKCksdGhpcy5vcHRpb25zLnNob3dUaWxlQm91bmRhcmllc3x8dGhpcy5vcHRpb25zLnNob3dRdWVyeUdlb21ldHJ5fHx0aGlzLm9wdGlvbnMuc2hvd1RpbGVBQUJCcyl7bGV0IHQ9bnVsbDtvLmZvckVhY2goKGk9Pntjb25zdCByPWUuZ2V0TGF5ZXJTb3VyY2VDYWNoZShpKTtyJiYhaS5pc0hpZGRlbih0aGlzLnRyYW5zZm9ybS56b29tKSYmci5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoKS5sZW5ndGgmJighdHx8dC5nZXRTb3VyY2UoKS5tYXh6b29tPHIuZ2V0U291cmNlKCkubWF4em9vbSkmJih0PXIpO30pKSx0JiZ0aGlzLm9wdGlvbnMuc2hvd1RpbGVCb3VuZGFyaWVzJiZJQS5kZWJ1Zyh0aGlzLHQsdC5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoKSk7fXRoaXMub3B0aW9ucy5zaG93UGFkZGluZyYmZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnRyYW5zZm9ybS5wYWRkaW5nO3JBKGUsZS50cmFuc2Zvcm0uaGVpZ2h0LSh0LnRvcHx8MCksMyxLTSksckEoZSx0LmJvdHRvbXx8MCwzLEpNKSxuQShlLHQubGVmdHx8MCwzLFFNKSxuQShlLGUudHJhbnNmb3JtLndpZHRoLSh0LnJpZ2h0fHwwKSwzLGVBKTtjb25zdCBpPWUudHJhbnNmb3JtLmNlbnRlclBvaW50OyFmdW5jdGlvbihlLHQsaSxyKXtvQShlLHQtMSxpLTEwLDIsMjAsciksb0EoZSx0LTEwLGktMSwyMCwyLHIpO30oZSxpLngsZS50cmFuc2Zvcm0uaGVpZ2h0LWkueSx0QSk7fSh0aGlzKSx0aGlzLmNvbnRleHQuc2V0RGVmYXVsdCgpLHRoaXMuZnJhbWVDb3VudGVyPSh0aGlzLmZyYW1lQ291bnRlcisxKSVOdW1iZXIuTUFYX1NBRkVfSU5URUdFUix0aGlzLnRpbGVMb2FkZWQmJnRoaXMub3B0aW9ucy5zcGVlZEluZGV4VGltaW5nJiYodGhpcy5sb2FkVGltZVN0YW1wcy5wdXNoKHQucGVyZm9ybWFuY2Uubm93KCkpLHRoaXMuc2F2ZUNhbnZhc0NvcHkoKSksbHx8KHRoaXMuY29uZmxhdGlvbkFjdGl2ZT0hMSk7fXVwbG9hZExheWVyKGUsdCxpKXt0aGlzLmdwdVRpbWluZ1N0YXJ0KHQpLCghZS50cmFuc2Zvcm0ucHJvamVjdGlvbi51bnN1cHBvcnRlZExheWVyc3x8IWUudHJhbnNmb3JtLnByb2plY3Rpb24udW5zdXBwb3J0ZWRMYXllcnMuaW5jbHVkZXModC50eXBlKXx8ZS50ZXJyYWluJiZcImN1c3RvbVwiPT09dC50eXBlKSYmQ0FbYCR7dC50eXBlfVVwbG9hZGBdJiZDQVtgJHt0LnR5cGV9VXBsb2FkYF0oZSxpLHQuc2NvcGUpLHRoaXMuZ3B1VGltaW5nRW5kKCk7fXJlbmRlckxheWVyKGUsdCxpLHIpe2kuaXNIaWRkZW4odGhpcy50cmFuc2Zvcm0uem9vbSl8fChcImJhY2tncm91bmRcIj09PWkudHlwZXx8XCJza3lcIj09PWkudHlwZXx8XCJjdXN0b21cIj09PWkudHlwZXx8XCJtb2RlbFwiPT09aS50eXBlfHxcInJhc3RlclwiPT09aS50eXBlfHxyJiZyLmxlbmd0aCkmJih0aGlzLmlkPWkuaWQsdGhpcy5ncHVUaW1pbmdTdGFydChpKSwoIWUudHJhbnNmb3JtLnByb2plY3Rpb24udW5zdXBwb3J0ZWRMYXllcnN8fCFlLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnVuc3VwcG9ydGVkTGF5ZXJzLmluY2x1ZGVzKGkudHlwZSl8fGUudGVycmFpbiYmXCJjdXN0b21cIj09PWkudHlwZSkmJklBW2kudHlwZV0oZSx0LGkscix0aGlzLnN0eWxlLnBsYWNlbWVudC52YXJpYWJsZU9mZnNldHMsdGhpcy5vcHRpb25zLmlzSW5pdGlhbExvYWQpLHRoaXMuZ3B1VGltaW5nRW5kKCkpO31ncHVUaW1pbmdTdGFydChlKXtpZighdGhpcy5vcHRpb25zLmdwdVRpbWluZylyZXR1cm47Y29uc3QgdD10aGlzLmNvbnRleHQuZXh0VGltZXJRdWVyeSxpPXRoaXMuY29udGV4dC5nbDtsZXQgcj10aGlzLmdwdVRpbWVyc1tlLmlkXTtyfHwocj10aGlzLmdwdVRpbWVyc1tlLmlkXT17Y2FsbHM6MCxjcHVUaW1lOjAscXVlcnk6aS5jcmVhdGVRdWVyeSgpfSksci5jYWxscysrLGkuYmVnaW5RdWVyeSh0LlRJTUVfRUxBUFNFRF9FWFQsci5xdWVyeSk7fWdwdVRpbWluZ0RlZmVycmVkUmVuZGVyU3RhcnQoKXtpZih0aGlzLm9wdGlvbnMuZ3B1VGltaW5nRGVmZXJyZWRSZW5kZXIpe2NvbnN0IGU9dGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnksdD10aGlzLmNvbnRleHQuZ2wsaT10LmNyZWF0ZVF1ZXJ5KCk7dGhpcy5kZWZlcnJlZFJlbmRlckdwdVRpbWVRdWVyaWVzLnB1c2goaSksdC5iZWdpblF1ZXJ5KGUuVElNRV9FTEFQU0VEX0VYVCxpKTt9fWdwdVRpbWluZ0RlZmVycmVkUmVuZGVyRW5kKCl7dGhpcy5vcHRpb25zLmdwdVRpbWluZ0RlZmVycmVkUmVuZGVyJiZ0aGlzLmNvbnRleHQuZ2wuZW5kUXVlcnkodGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnkuVElNRV9FTEFQU0VEX0VYVCk7fWdwdVRpbWluZ0VuZCgpe3RoaXMub3B0aW9ucy5ncHVUaW1pbmcmJnRoaXMuY29udGV4dC5nbC5lbmRRdWVyeSh0aGlzLmNvbnRleHQuZXh0VGltZXJRdWVyeS5USU1FX0VMQVBTRURfRVhUKTt9Y29sbGVjdEdwdVRpbWVycygpe2NvbnN0IGU9dGhpcy5ncHVUaW1lcnM7cmV0dXJuIHRoaXMuZ3B1VGltZXJzPXt9LGV9Y29sbGVjdERlZmVycmVkUmVuZGVyR3B1UXVlcmllcygpe2NvbnN0IGU9dGhpcy5kZWZlcnJlZFJlbmRlckdwdVRpbWVRdWVyaWVzO3JldHVybiB0aGlzLmRlZmVycmVkUmVuZGVyR3B1VGltZVF1ZXJpZXM9W10sZX1xdWVyeUdwdVRpbWVycyhlKXtjb25zdCB0PXt9O2Zvcihjb25zdCBpIGluIGUpe2NvbnN0IHI9ZVtpXSxuPXRoaXMuY29udGV4dC5leHRUaW1lclF1ZXJ5LG89bi5nZXRRdWVyeVBhcmFtZXRlcihyLnF1ZXJ5LHRoaXMuY29udGV4dC5nbC5RVUVSWV9SRVNVTFQpLzFlNjtuLmRlbGV0ZVF1ZXJ5RVhUKHIucXVlcnkpLHRbaV09bzt9cmV0dXJuIHR9cXVlcnlHcHVUaW1lRGVmZXJyZWRSZW5kZXIoZSl7aWYoIXRoaXMub3B0aW9ucy5ncHVUaW1pbmdEZWZlcnJlZFJlbmRlcilyZXR1cm4gMDtjb25zdCB0PXRoaXMuY29udGV4dC5leHRUaW1lclF1ZXJ5LGk9dGhpcy5jb250ZXh0LmdsO2xldCByPTA7Zm9yKGNvbnN0IG4gb2YgZSlyKz10LmdldFF1ZXJ5UGFyYW1ldGVyKG4saS5RVUVSWV9SRVNVTFQpLzFlNix0LmRlbGV0ZVF1ZXJ5RVhUKG4pO3JldHVybiByfXRyYW5zbGF0ZVBvc01hdHJpeChlLHQsaSxyLG4pe2lmKCFpWzBdJiYhaVsxXSlyZXR1cm4gZTtjb25zdCBvPW4/XCJtYXBcIj09PXI/dGhpcy50cmFuc2Zvcm0uYW5nbGU6MDpcInZpZXdwb3J0XCI9PT1yPy10aGlzLnRyYW5zZm9ybS5hbmdsZTowO2lmKG8pe2NvbnN0IGU9TWF0aC5zaW4obyksdD1NYXRoLmNvcyhvKTtpPVtpWzBdKnQtaVsxXSplLGlbMF0qZStpWzFdKnRdO31jb25zdCBzPVtuP2lbMF06WHgodCxpWzBdLHRoaXMudHJhbnNmb3JtLnpvb20pLG4/aVsxXTpYeCh0LGlbMV0sdGhpcy50cmFuc2Zvcm0uem9vbSksMF0sYT1uZXcgRmxvYXQzMkFycmF5KDE2KTtyZXR1cm4geHUudHJhbnNsYXRlKGEsZSxzKSxhfXNhdmVUaWxlVGV4dHVyZShlKXtjb25zdCB0PXRoaXMuX3RpbGVUZXh0dXJlc1tlLnNpemVbMF1dO3Q/dC5wdXNoKGUpOnRoaXMuX3RpbGVUZXh0dXJlc1tlLnNpemVbMF1dPVtlXTt9Z2V0VGlsZVRleHR1cmUoZSl7Y29uc3QgdD10aGlzLl90aWxlVGV4dHVyZXNbZV07cmV0dXJuIHQmJnQubGVuZ3RoPjA/dC5wb3AoKTpudWxsfWlzUGF0dGVybk1pc3NpbmcoZSx0KXtyZXR1cm4gbnVsbD09PWV8fHZvaWQgMCE9PWUmJiF0aGlzLmltYWdlTWFuYWdlci5nZXRQYXR0ZXJuKGUudG9TdHJpbmcoKSx0KX10ZXJyYWluUmVuZGVyTW9kZUVsZXZhdGVkKCl7cmV0dXJuIHRoaXMuc3R5bGUmJiEhdGhpcy5zdHlsZS5nZXRUZXJyYWluKCkmJiEhdGhpcy50ZXJyYWluJiYhdGhpcy50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZX10ZXJyYWluVXNlRmxvYXRERU0oKXtyZXR1cm4gbnVsbCE9dGhpcy5jb250ZXh0LmV4dFRleHR1cmVGbG9hdExpbmVhcn1jdXJyZW50R2xvYmFsRGVmaW5lcyhlLHQsaSl7Y29uc3Qgcj12b2lkIDA9PT1pP3RoaXMudGVycmFpbiYmdGhpcy50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZTppLG49dGhpcy50ZXJyYWluJiYwPT09dGhpcy50ZXJyYWluLmV4YWdnZXJhdGlvbigpLG89W107cmV0dXJuIHRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuZW5hYmxlM2RMaWdodHMoKSYmKFwiZ2xvYmVSYXN0ZXJcIj09PWV8fFwidGVycmFpblJhc3RlclwiPT09ZT8oby5wdXNoKFwiTElHSFRJTkdfM0RfTU9ERVwiKSxvLnB1c2goXCJMSUdIVElOR18zRF9BTFBIQV9FTUlTU0lWRU5FU1NcIikpOnJ8fG8ucHVzaChcIkxJR0hUSU5HXzNEX01PREVcIikpLFwic2hhZG93XCI9PT10aGlzLnJlbmRlclBhc3M/dGhpcy5fc2hhZG93TWFwRGVidWd8fG8ucHVzaChcIkRFUFRIX1RFWFRVUkVcIik6dGhpcy5zaGFkb3dSZW5kZXJlciYmKHRoaXMuc2hhZG93UmVuZGVyZXIudXNlTm9ybWFsT2Zmc2V0P28ucHVzaChcIlJFTkRFUl9TSEFET1dTXCIsXCJERVBUSF9URVhUVVJFXCIsXCJOT1JNQUxfT0ZGU0VUXCIpOm8ucHVzaChcIlJFTkRFUl9TSEFET1dTXCIsXCJERVBUSF9URVhUVVJFXCIpKSx0aGlzLnRlcnJhaW5SZW5kZXJNb2RlRWxldmF0ZWQoKSYmKG8ucHVzaChcIlRFUlJBSU5cIiksdGhpcy50ZXJyYWluVXNlRmxvYXRERU0oKSYmby5wdXNoKFwiVEVSUkFJTl9ERU1fRkxPQVRfRk9STUFUXCIpLG4mJm8ucHVzaChcIlpFUk9fRVhBR0dFUkFUSU9OXCIpKSxcImdsb2JlXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUmJm8ucHVzaChcIkdMT0JFXCIpLCF0aGlzLl9mb2dWaXNpYmxlfHxyfHx2b2lkIDAhPT10JiYhdHx8by5wdXNoKFwiRk9HXCIsXCJGT0dfRElUSEVSSU5HXCIpLHImJm8ucHVzaChcIlJFTkRFUl9UT19URVhUVVJFXCIpLHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvciYmby5wdXNoKFwiT1ZFUkRSQVdfSU5TUEVDVE9SXCIpLG99Z2V0T3JDcmVhdGVQcm9ncmFtKGUsdCl7dGhpcy5jYWNoZT10aGlzLmNhY2hlfHx7fTtjb25zdCBpPXQmJnQuZGVmaW5lc3x8W10scj10JiZ0LmNvbmZpZyxuPXRoaXMuY3VycmVudEdsb2JhbERlZmluZXMoZSx0JiZ0Lm92ZXJyaWRlRm9nLHQmJnQub3ZlcnJpZGVSdHQpLmNvbmNhdChpKSxvPWFNLmNhY2hlS2V5KGtFW2VdLGUsbixyKTtyZXR1cm4gdGhpcy5jYWNoZVtvXXx8KHRoaXMuY2FjaGVbb109bmV3IGFNKHRoaXMuY29udGV4dCxlLGtFW2VdLHIsTE1bZV0sbikpLHRoaXMuY2FjaGVbb119c2V0Q3VzdG9tTGF5ZXJEZWZhdWx0cygpe3RoaXMuY29udGV4dC51bmJpbmRWQU8oKSx0aGlzLmNvbnRleHQuY3VsbEZhY2Uuc2V0RGVmYXVsdCgpLHRoaXMuY29udGV4dC5mcm9udEZhY2Uuc2V0RGVmYXVsdCgpLHRoaXMuY29udGV4dC5jdWxsRmFjZVNpZGUuc2V0RGVmYXVsdCgpLHRoaXMuY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldERlZmF1bHQoKSx0aGlzLmNvbnRleHQucGl4ZWxTdG9yZVVucGFjay5zZXREZWZhdWx0KCksdGhpcy5jb250ZXh0LnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLnNldERlZmF1bHQoKSx0aGlzLmNvbnRleHQucGl4ZWxTdG9yZVVucGFja0ZsaXBZLnNldERlZmF1bHQoKTt9c2V0QmFzZVN0YXRlKCl7Y29uc3QgZT10aGlzLmNvbnRleHQuZ2w7dGhpcy5jb250ZXh0LmN1bGxGYWNlLnNldCghMSksdGhpcy5jb250ZXh0LnZpZXdwb3J0LnNldChbMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHRdKSx0aGlzLmNvbnRleHQuYmxlbmRFcXVhdGlvbi5zZXQoZS5GVU5DX0FERCk7fWluaXREZWJ1Z092ZXJsYXlDYW52YXMoKXtudWxsPT10aGlzLmRlYnVnT3ZlcmxheUNhbnZhcyYmKHRoaXMuZGVidWdPdmVybGF5Q2FudmFzPXQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSx0aGlzLmRlYnVnT3ZlcmxheUNhbnZhcy53aWR0aD01MTIsdGhpcy5kZWJ1Z092ZXJsYXlDYW52YXMuaGVpZ2h0PTUxMix0aGlzLmRlYnVnT3ZlcmxheVRleHR1cmU9bmV3IGd5KHRoaXMuY29udGV4dCx0aGlzLmRlYnVnT3ZlcmxheUNhbnZhcyx0aGlzLmNvbnRleHQuZ2wuUkdCQSkpO31kZXN0cm95KCl7dGhpcy5fdGVycmFpbiYmdGhpcy5fdGVycmFpbi5kZXN0cm95KCksdGhpcy5fYXRtb3NwaGVyZSYmKHRoaXMuX2F0bW9zcGhlcmUuZGVzdHJveSgpLHRoaXMuX2F0bW9zcGhlcmU9dm9pZCAwKSx0aGlzLmdsb2JlU2hhcmVkQnVmZmVycyYmdGhpcy5nbG9iZVNoYXJlZEJ1ZmZlcnMuZGVzdHJveSgpLHRoaXMuZW1wdHlUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLmRlYnVnT3ZlcmxheVRleHR1cmUmJnRoaXMuZGVidWdPdmVybGF5VGV4dHVyZS5kZXN0cm95KCksdGhpcy5fd2lyZWZyYW1lRGVidWdDYWNoZS5kZXN0cm95KCk7fXByZXBhcmVEcmF3VGlsZSgpe3RoaXMudGVycmFpbiYmdGhpcy50ZXJyYWluLnByZXBhcmVEcmF3VGlsZSgpO311cGxvYWRDb21tb25MaWdodFVuaWZvcm1zKGUsdCl7aWYodGhpcy5zdHlsZS5lbmFibGUzZExpZ2h0cygpKXtjb25zdCBpPXRoaXMuc3R5bGUuZGlyZWN0aW9uYWxMaWdodCxyPXRoaXMuc3R5bGUuYW1iaWVudExpZ2h0O2lmKGkmJnIpe2NvbnN0IG49KChlLHQpPT57Y29uc3QgaT1lLnByb3BlcnRpZXMuZ2V0KFwiZGlyZWN0aW9uXCIpLHI9ZS5wcm9wZXJ0aWVzLmdldChcImNvbG9yXCIpLnRvQXJyYXkwMSgpLG49ZS5wcm9wZXJ0aWVzLmdldChcImludGVuc2l0eVwiKSxvPXQucHJvcGVydGllcy5nZXQoXCJjb2xvclwiKS50b0FycmF5MDEoKSxzPXQucHJvcGVydGllcy5nZXQoXCJpbnRlbnNpdHlcIiksYT1baS54LGkueSxpLnpdLGw9c2UobyxzKSxjPXNlKHIsbik7cmV0dXJuIHt1X2xpZ2h0aW5nX2FtYmllbnRfY29sb3I6bCx1X2xpZ2h0aW5nX2RpcmVjdGlvbmFsX2RpcjphLHVfbGlnaHRpbmdfZGlyZWN0aW9uYWxfY29sb3I6Yyx1X2dyb3VuZF9yYWRpYW5jZTpuTShhLGMsbCl9fSkoaSxyKTt0LnNldExpZ2h0c1VuaWZvcm1WYWx1ZXMoZSxuKTt9fX11cGxvYWRDb21tb25Vbmlmb3JtcyhlLHQsaSxyLG4pe2lmKHRoaXMudXBsb2FkQ29tbW9uTGlnaHRVbmlmb3JtcyhlLHQpLHRoaXMudGVycmFpbiYmdGhpcy50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZSlyZXR1cm47Y29uc3Qgbz10aGlzLnN0eWxlLmZvZztpZihvKXtjb25zdCBuPW8uZ2V0T3BhY2l0eSh0aGlzLnRyYW5zZm9ybS5waXRjaCkscz0oKGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1KT0+e2NvbnN0IGQ9ZS50cmFuc2Zvcm0scD10LnByb3BlcnRpZXMuZ2V0KFwiY29sb3JcIikudG9BcnJheTAxKCk7cFszXT1yO2NvbnN0IGY9ZS5mcmFtZUNvdW50ZXIvMWUzJTEsW20sX109dC5wcm9wZXJ0aWVzLmdldChcInZlcnRpY2FsLXJhbmdlXCIpO3JldHVybiB7dV9mb2dfbWF0cml4Omk/ZC5jYWxjdWxhdGVGb2dUaWxlTWF0cml4KGkpOnV8fGUuaWRlbnRpdHlNYXQsdV9mb2dfcmFuZ2U6dC5nZXRGb3ZBZGp1c3RlZFJhbmdlKGQuX2ZvdiksdV9mb2dfY29sb3I6cCx1X2ZvZ19ob3Jpem9uX2JsZW5kOnQucHJvcGVydGllcy5nZXQoXCJob3Jpem9uLWJsZW5kXCIpLHVfZm9nX3ZlcnRpY2FsX2xpbWl0OltNYXRoLm1pbihtLF8pLF9dLHVfZm9nX3RlbXBvcmFsX29mZnNldDpmLHVfZnJ1c3R1bV90bDpuLHVfZnJ1c3R1bV90cjpvLHVfZnJ1c3R1bV9icjpzLHVfZnJ1c3R1bV9ibDphLHVfZ2xvYmVfcG9zOmwsdV9nbG9iZV9yYWRpdXM6Yyx1X3ZpZXdwb3J0OmgsdV9nbG9iZV90cmFuc2l0aW9uOkVkKGQuem9vbSksdV9pc19nbG9iZTorKFwiZ2xvYmVcIj09PWQucHJvamVjdGlvbi5uYW1lKX19KSh0aGlzLG8saSxuLHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLlRMLHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLlRSLHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLkJSLHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLkJMLHRoaXMudHJhbnNmb3JtLmdsb2JlQ2VudGVySW5WaWV3U3BhY2UsdGhpcy50cmFuc2Zvcm0uZ2xvYmVSYWRpdXMsW3RoaXMudHJhbnNmb3JtLndpZHRoKmh0LmRldmljZVBpeGVsUmF0aW8sdGhpcy50cmFuc2Zvcm0uaGVpZ2h0Kmh0LmRldmljZVBpeGVsUmF0aW9dLHIpO3Quc2V0Rm9nVW5pZm9ybVZhbHVlcyhlLHMpO31uJiZ0LnNldEN1dG9mZlVuaWZvcm1WYWx1ZXMoZSxuLnVuaWZvcm1WYWx1ZXMpO31zZXRUaWxlTG9hZGVkRmxhZyhlKXt0aGlzLnRpbGVMb2FkZWQ9ZTt9c2F2ZUNhbnZhc0NvcHkoKXtjb25zdCBlPXRoaXMuY2FudmFzQ29weSgpO2UmJih0aGlzLmZyYW1lQ29waWVzLnB1c2goZSksdGhpcy50aWxlTG9hZGVkPSExKTt9Y2FudmFzQ29weSgpe2NvbnN0IGU9dGhpcy5jb250ZXh0LmdsLHQ9ZS5jcmVhdGVUZXh0dXJlKCk7cmV0dXJuIGUuYmluZFRleHR1cmUoZS5URVhUVVJFXzJELHQpLGUuY29weVRleEltYWdlMkQoZS5URVhUVVJFXzJELDAsZS5SR0JBLDAsMCxlLmRyYXdpbmdCdWZmZXJXaWR0aCxlLmRyYXdpbmdCdWZmZXJIZWlnaHQsMCksdH1nZXRDYW52YXNDb3BpZXNBbmRUaW1lc3RhbXBzKCl7cmV0dXJuIHtjYW52YXNDb3BpZXM6dGhpcy5mcmFtZUNvcGllcyx0aW1lU3RhbXBzOnRoaXMubG9hZFRpbWVTdGFtcHN9fWF2ZXJhZ2VFbGV2YXRpb25OZWVkc0Vhc2luZygpe2lmKCF0aGlzLnRyYW5zZm9ybS5fZWxldmF0aW9uKXJldHVybiAhMTtjb25zdCBlPXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuZm9nO3JldHVybiAhIWUmJjAhPT1lLmdldE9wYWNpdHkodGhpcy50cmFuc2Zvcm0ucGl0Y2gpfWdldEJhY2tncm91bmRUaWxlcygpe2NvbnN0IGU9dGhpcy5fYmFja2dyb3VuZFRpbGVzLHQ9dGhpcy5fYmFja2dyb3VuZFRpbGVzPXt9LGk9dGhpcy50cmFuc2Zvcm0uY292ZXJpbmdUaWxlcyh7dGlsZVNpemU6NTEyfSk7Zm9yKGNvbnN0IHIgb2YgaSl0W3Iua2V5XT1lW3Iua2V5XXx8bmV3IEl5KHIsNTEyLHRoaXMudHJhbnNmb3JtLnRpbGVab29tLHRoaXMpO3JldHVybiB0fWNsZWFyQmFja2dyb3VuZFRpbGVzKCl7dGhpcy5fYmFja2dyb3VuZFRpbGVzPXt9O31sYXllclVzZWRJbkNvbmZsYXRpb24oZSx0KXtyZXR1cm4gISghZS5pczNEKCl8fGUubWluem9vbSYmZS5taW56b29tPnRoaXMudHJhbnNmb3JtLnpvb218fFwiYnVpbGRpbmdcIiE9PWUuc291cmNlTGF5ZXImJighdHx8XCJiYXRjaGVkLW1vZGVsXCIhPT10LnR5cGUpKX1pc1RpbGVBZmZlY3RlZEJ5Rm9nKGUpe2lmKCF0aGlzLnN0eWxlfHwhdGhpcy5zdHlsZS5mb2cpcmV0dXJuICExO2lmKFwiZ2xvYmVcIj09PXRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSlyZXR1cm4gITA7bGV0IHQ9dGhpcy5fY2FjaGVkVGlsZUZvZ09wYWNpdGllc1tlLmtleV07cmV0dXJuIHR8fCh0aGlzLl9jYWNoZWRUaWxlRm9nT3BhY2l0aWVzW2Uua2V5XT10PXRoaXMuc3R5bGUuZm9nLmdldE9wYWNpdHlGb3JUaWxlKGUpKSx0WzBdPj1zd3x8dFsxXT49c3d9fWNvbnN0IERBPTIwNDg7Y2xhc3MgUEF7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmFhYmI9ZSx0aGlzLmxhc3RDYXNjYWRlPXQ7fX1jbGFzcyBSQXthZGQoZSx0KXtjb25zdCBpPXRoaXMucmVjZWl2ZXJzW2Uua2V5XTt2b2lkIDAhPT1pPyhpLmFhYmIubWluWzBdPU1hdGgubWluKGkuYWFiYi5taW5bMF0sdC5taW5bMF0pLGkuYWFiYi5taW5bMV09TWF0aC5taW4oaS5hYWJiLm1pblsxXSx0Lm1pblsxXSksaS5hYWJiLm1pblsyXT1NYXRoLm1pbihpLmFhYmIubWluWzJdLHQubWluWzJdKSxpLmFhYmIubWF4WzBdPU1hdGgubWF4KGkuYWFiYi5tYXhbMF0sdC5tYXhbMF0pLGkuYWFiYi5tYXhbMV09TWF0aC5tYXgoaS5hYWJiLm1heFsxXSx0Lm1heFsxXSksaS5hYWJiLm1heFsyXT1NYXRoLm1heChpLmFhYmIubWF4WzJdLHQubWF4WzJdKSk6dGhpcy5yZWNlaXZlcnNbZS5rZXldPW5ldyBQQSh0LG51bGwpO31jbGVhcigpe3RoaXMucmVjZWl2ZXJzPXt9O31nZXQoZSl7cmV0dXJuIHRoaXMucmVjZWl2ZXJzW2Uua2V5XX1jb21wdXRlUmVxdWlyZWRDYXNjYWRlcyhlLHQsaSl7Y29uc3Qgcj1IdS5mcm9tUG9pbnRzKGUucG9pbnRzKTtsZXQgbj0wO2Zvcihjb25zdCBlIGluIHRoaXMucmVjZWl2ZXJzKXtjb25zdCBvPXRoaXMucmVjZWl2ZXJzW2VdO2lmKCFvKWNvbnRpbnVlO2lmKCFyLmludGVyc2VjdHNBYWJiKG8uYWFiYikpY29udGludWU7by5hYWJiLm1pbj1yLmNsb3Nlc3RQb2ludChvLmFhYmIubWluKSxvLmFhYmIubWF4PXIuY2xvc2VzdFBvaW50KG8uYWFiYi5tYXgpO2NvbnN0IHM9by5hYWJiLmdldENvcm5lcnMoKTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKyl7bGV0IHI9ITA7Zm9yKGNvbnN0IG4gb2Ygcyl7Y29uc3Qgbz1bblswXSp0LG5bMV0qdCxuWzJdXTtpZihNdS50cmFuc2Zvcm1NYXQ0KG8sbyxpW2VdLm1hdHJpeCksb1swXTwtMXx8b1swXT4xfHxvWzFdPC0xfHxvWzFdPjEpe3I9ITE7YnJlYWt9fWlmKG8ubGFzdENhc2NhZGU9ZSxuPU1hdGgubWF4KG4sZSkscilicmVha319cmV0dXJuIG4rMX19Y2xhc3MgTEF7Y29uc3RydWN0b3IoZSl7dGhpcy5wYWludGVyPWUsdGhpcy5fZW5hYmxlZD0hMSx0aGlzLl9zaGFkb3dMYXllckNvdW50PTAsdGhpcy5fbnVtQ2FzY2FkZXNUb1JlbmRlcj0wLHRoaXMuX2Nhc2NhZGVzPVtdLHRoaXMuX2dyb3VuZFNoYWRvd1RpbGVzPVtdLHRoaXMuX3JlY2VpdmVycz1uZXcgUkEsdGhpcy5fZGVwdGhNb2RlPW5ldyBneChlLmNvbnRleHQuZ2wuTEVRVUFMLGd4LlJlYWRXcml0ZSxbMCwxXSksdGhpcy5fdW5pZm9ybVZhbHVlcz17dV9saWdodF9tYXRyaXhfMDpuZXcgRmxvYXQzMkFycmF5KDE2KSx1X2xpZ2h0X21hdHJpeF8xOm5ldyBGbG9hdDMyQXJyYXkoMTYpLHVfc2hhZG93X2ludGVuc2l0eTowLHVfZmFkZV9yYW5nZTpbMCwwXSx1X3NoYWRvd19ub3JtYWxfb2Zmc2V0OlsxLDEsMV0sdV9zaGFkb3dfdGV4ZWxfc2l6ZToxLHVfc2hhZG93X21hcF9yZXNvbHV0aW9uOjEsdV9zaGFkb3dfZGlyZWN0aW9uOlswLDAsMV0sdV9zaGFkb3dfYmlhczpbMzZlLTUsLjAwMTIsLjAxMl0sdV9zaGFkb3dtYXBfMDowLHVfc2hhZG93bWFwXzE6MH0sdGhpcy51c2VOb3JtYWxPZmZzZXQ9ITE7fWRlc3Ryb3koKXtmb3IoY29uc3QgZSBvZiB0aGlzLl9jYXNjYWRlcyllLnRleHR1cmUuZGVzdHJveSgpLGUuZnJhbWVidWZmZXIuZGVzdHJveSgpO3RoaXMuX2Nhc2NhZGVzPVtdO311cGRhdGVTaGFkb3dQYXJhbWV0ZXJzKGUsdCl7Y29uc3QgaT10aGlzLnBhaW50ZXI7aWYodGhpcy5fZW5hYmxlZD0hMSx0aGlzLl9zaGFkb3dMYXllckNvdW50PTAsdGhpcy5fcmVjZWl2ZXJzLmNsZWFyKCksIXR8fCF0LnByb3BlcnRpZXMpcmV0dXJuO2NvbnN0IHI9dC5wcm9wZXJ0aWVzLmdldChcInNoYWRvdy1pbnRlbnNpdHlcIik7aWYoIXQuc2hhZG93c0VuYWJsZWQoKXx8cjw9MClyZXR1cm47aWYodGhpcy5fc2hhZG93TGF5ZXJDb3VudD1pLnN0eWxlLm9yZGVyLnJlZHVjZSgoKHQscik9Pntjb25zdCBuPWkuc3R5bGUuX21lcmdlZExheWVyc1tyXTtyZXR1cm4gdCsobi5oYXNTaGFkb3dQYXNzKCkmJiFuLmlzSGlkZGVuKGUuem9vbSk/MTowKX0pLDApLHRoaXMuX2VuYWJsZWQ9dGhpcy5fc2hhZG93TGF5ZXJDb3VudD4wLCF0aGlzLl9lbmFibGVkKXJldHVybjtjb25zdCBuPWkuY29udGV4dCxvPURBLHM9REE7aWYoMD09PXRoaXMuX2Nhc2NhZGVzLmxlbmd0aClmb3IobGV0IGU9MDtlPDI7KytlKXtjb25zdCBlPWkuX3NoYWRvd01hcERlYnVnLHQ9bi5nbCxyPW4uY3JlYXRlRnJhbWVidWZmZXIobyxzLGUsXCJ0ZXh0dXJlXCIpLGE9bmV3IGd5KG4se3dpZHRoOm8saGVpZ2h0OnMsZGF0YTpudWxsfSx0LkRFUFRIX0NPTVBPTkVOVCk7aWYoci5kZXB0aEF0dGFjaG1lbnQuc2V0KGEudGV4dHVyZSksZSl7Y29uc3QgZT1uZXcgZ3kobix7d2lkdGg6byxoZWlnaHQ6cyxkYXRhOm51bGx9LHQuUkdCQSk7ci5jb2xvckF0dGFjaG1lbnQuc2V0KGUudGV4dHVyZSk7fXRoaXMuX2Nhc2NhZGVzLnB1c2goe2ZyYW1lYnVmZmVyOnIsdGV4dHVyZTphLG1hdHJpeDpbXSxmYXI6MCxib3VuZGluZ1NwaGVyZVJhZGl1czowLGZydXN0dW06bmV3ICR1LHNjYWxlOjB9KTt9dGhpcy5zaGFkb3dEaXJlY3Rpb249T0EodCk7bGV0IGE9MDtpZihlLmVsZXZhdGlvbil7Y29uc3QgdD1lLmVsZXZhdGlvbixpPVsxZTQsLTFlNF07dC52aXNpYmxlRGVtVGlsZXMuZmlsdGVyKChlPT5lLmRlbSkpLmZvckVhY2goKGU9Pntjb25zdCB0PWUuZGVtLnRyZWU7aVswXT1NYXRoLm1pbihpWzBdLHQubWluaW11bXNbMF0pLGlbMV09TWF0aC5tYXgoaVsxXSx0Lm1heGltdW1zWzBdKTt9KSksMWU0IT09aVswXSYmKGE9KGlbMV0taVswXSkqdC5leGFnZ2VyYXRpb24oKSk7fWNvbnN0IGw9MS41KmUuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSxjPTMqbCxoPW5ldyBGbG9hdDY0QXJyYXkoMTYpO2ZvcihsZXQgdD0wO3Q8MjsrK3Qpe2NvbnN0IGk9dGhpcy5fY2FzY2FkZXNbdF07bGV0IHI9ZS5oZWlnaHQvNTAsbj0xOzA9PT10P249bDoocj1sLG49Yyk7Y29uc3RbbyxzXT1GQShlLHRoaXMuc2hhZG93RGlyZWN0aW9uLHIsbixEQSxhKTtpLnNjYWxlPWUuc2NhbGUsaS5tYXRyaXg9byxpLmJvdW5kaW5nU3BoZXJlUmFkaXVzPXMseHUuaW52ZXJ0KGgsaS5tYXRyaXgpLGkuZnJ1c3R1bT0kdS5mcm9tSW52UHJvamVjdGlvbk1hdHJpeChoLDEsMCwhMCksaS5mYXI9bjt9dGhpcy5fdW5pZm9ybVZhbHVlcy51X2ZhZGVfcmFuZ2U9Wy43NSp0aGlzLl9jYXNjYWRlc1sxXS5mYXIsdGhpcy5fY2FzY2FkZXNbMV0uZmFyXSx0aGlzLl91bmlmb3JtVmFsdWVzLnVfc2hhZG93X2ludGVuc2l0eT1yLHRoaXMuX3VuaWZvcm1WYWx1ZXMudV9zaGFkb3dfZGlyZWN0aW9uPVt0aGlzLnNoYWRvd0RpcmVjdGlvblswXSx0aGlzLnNoYWRvd0RpcmVjdGlvblsxXSx0aGlzLnNoYWRvd0RpcmVjdGlvblsyXV0sdGhpcy5fdW5pZm9ybVZhbHVlcy51X3NoYWRvd190ZXhlbF9zaXplPS4wMDA0ODgyODEyNSx0aGlzLl91bmlmb3JtVmFsdWVzLnVfc2hhZG93X21hcF9yZXNvbHV0aW9uPURBLHRoaXMuX3VuaWZvcm1WYWx1ZXMudV9zaGFkb3dtYXBfMD16TS5TaGFkb3dNYXAwLHRoaXMuX3VuaWZvcm1WYWx1ZXMudV9zaGFkb3dtYXBfMT16TS5TaGFkb3dNYXAwKzEsdGhpcy5fZ3JvdW5kU2hhZG93VGlsZXM9aS50cmFuc2Zvcm0uY292ZXJpbmdUaWxlcyh7dGlsZVNpemU6NTEyLHJlbmRlcldvcmxkQ29waWVzOiEwfSk7Y29uc3QgdT1pLnRyYW5zZm9ybS5lbGV2YXRpb247Zm9yKGNvbnN0IGUgb2YgdGhpcy5fZ3JvdW5kU2hhZG93VGlsZXMpe2xldCB0PXttaW46MCxtYXg6MH07aWYodSl7Y29uc3QgaT11LmdldE1pbk1heEZvclRpbGUoZSk7aSYmKHQ9aSk7fXRoaXMuYWRkU2hhZG93UmVjZWl2ZXIoZS50b1Vud3JhcHBlZCgpLHQubWluLHQubWF4KTt9fWdldCBlbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9c2V0IGVuYWJsZWQoZSl7dGhpcy5fZW5hYmxlZD1lO31kcmF3U2hhZG93UGFzcyhlLHQpe2lmKCF0aGlzLl9lbmFibGVkKXJldHVybjtjb25zdCBpPXRoaXMucGFpbnRlcixyPWkuY29udGV4dDt0aGlzLl9udW1DYXNjYWRlc1RvUmVuZGVyPXRoaXMuX3JlY2VpdmVycy5jb21wdXRlUmVxdWlyZWRDYXNjYWRlcyhpLnRyYW5zZm9ybS5nZXRGcnVzdHVtKDApLGkudHJhbnNmb3JtLndvcmxkU2l6ZSx0aGlzLl9jYXNjYWRlcyksci52aWV3cG9ydC5zZXQoWzAsMCxEQSxEQV0pO2ZvcihsZXQgbj0wO248dGhpcy5fbnVtQ2FzY2FkZXNUb1JlbmRlcjsrK24pe2kuY3VycmVudFNoYWRvd0Nhc2NhZGU9bixyLmJpbmRGcmFtZWJ1ZmZlci5zZXQodGhpcy5fY2FzY2FkZXNbbl0uZnJhbWVidWZmZXIuZnJhbWVidWZmZXIpLHIuY2xlYXIoe2NvbG9yOmxpLndoaXRlLGRlcHRoOjF9KTtmb3IoY29uc3QgciBvZiBlLm9yZGVyKXtjb25zdCBuPWUuX21lcmdlZExheWVyc1tyXTtpZighbi5oYXNTaGFkb3dQYXNzKCl8fG4uaXNIaWRkZW4oaS50cmFuc2Zvcm0uem9vbSkpY29udGludWU7Y29uc3Qgbz1lLmdldExheWVyU291cmNlQ2FjaGUobikscz1vP3Rbby5pZF06dm9pZCAwOyhcIm1vZGVsXCI9PT1uLnR5cGV8fHMmJnMubGVuZ3RoKSYmaS5yZW5kZXJMYXllcihpLG8sbixzKTt9fWkuY3VycmVudFNoYWRvd0Nhc2NhZGU9MDt9ZHJhd0dyb3VuZFNoYWRvd3MoKXtpZighdGhpcy5fZW5hYmxlZClyZXR1cm47Y29uc3QgZT10aGlzLnBhaW50ZXIsdD1lLnN0eWxlLGk9ZS5jb250ZXh0LHI9dC5kaXJlY3Rpb25hbExpZ2h0LG49dC5hbWJpZW50TGlnaHQ7aWYoIXJ8fCFuKXJldHVybjtjb25zdCBvPVtdLHM9JEUoZSxlLmxvbmdlc3RDdXRvZmZSYW5nZSk7cy5zaG91bGRSZW5kZXJDdXRvZmYmJm8ucHVzaChcIlJFTkRFUl9DVVRPRkZcIik7Y29uc3QgYT1CQShyLG4pLGw9bmV3IGd4KGkuZ2wuTEVRVUFMLGd4LlJlYWRPbmx5LGUuZGVwdGhSYW5nZUZvcjNEKTtmb3IoY29uc3QgdCBvZiB0aGlzLl9ncm91bmRTaGFkb3dUaWxlcyl7Y29uc3Qgcj10LnRvVW53cmFwcGVkKCksbj1lLmlzVGlsZUFmZmVjdGVkQnlGb2codCksYz1lLmdldE9yQ3JlYXRlUHJvZ3JhbShcImdyb3VuZFNoYWRvd1wiLHtkZWZpbmVzOm8sb3ZlcnJpZGVGb2c6bn0pO3RoaXMuc2V0dXBTaGFkb3dzKHIsYyksZS51cGxvYWRDb21tb25Vbmlmb3JtcyhpLGMscixudWxsLHMpO2NvbnN0IGg9e3VfbWF0cml4OmUudHJhbnNmb3JtLmNhbGN1bGF0ZVByb2pNYXRyaXgociksdV9ncm91bmRfc2hhZG93X2ZhY3RvcjphfTtjLmRyYXcoZSxpLmdsLlRSSUFOR0xFUyxsLHh4LmRpc2FibGVkLGJ4Lm11bHRpcGx5LEV4LmRpc2FibGVkLGgsXCJncm91bmRfc2hhZG93XCIsZS50aWxlRXh0ZW50QnVmZmVyLGUucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsZS50aWxlRXh0ZW50U2VnbWVudHMse30sZS50cmFuc2Zvcm0uem9vbSxudWxsLG51bGwpO319Z2V0U2hhZG93UGFzc0NvbG9yTW9kZSgpe3JldHVybiB0aGlzLnBhaW50ZXIuX3NoYWRvd01hcERlYnVnP2J4LnVuYmxlbmRlZDpieC5kaXNhYmxlZH1nZXRTaGFkb3dQYXNzRGVwdGhNb2RlKCl7cmV0dXJuIHRoaXMuX2RlcHRoTW9kZX1nZXRTaGFkb3dDYXN0aW5nTGF5ZXJDb3VudCgpe3JldHVybiB0aGlzLl9zaGFkb3dMYXllckNvdW50fWNhbGN1bGF0ZVNoYWRvd1Bhc3NNYXRyaXhGcm9tVGlsZShlKXtjb25zdCB0PXRoaXMucGFpbnRlci50cmFuc2Zvcm0saT10LmNhbGN1bGF0ZVBvc01hdHJpeChlLHQud29ybGRTaXplKTtyZXR1cm4geHUubXVsdGlwbHkoaSx0aGlzLl9jYXNjYWRlc1t0aGlzLnBhaW50ZXIuY3VycmVudFNoYWRvd0Nhc2NhZGVdLm1hdHJpeCxpKSxGbG9hdDMyQXJyYXkuZnJvbShpKX1jYWxjdWxhdGVTaGFkb3dQYXNzTWF0cml4RnJvbU1hdHJpeChlKXtyZXR1cm4geHUubXVsdGlwbHkoZSx0aGlzLl9jYXNjYWRlc1t0aGlzLnBhaW50ZXIuY3VycmVudFNoYWRvd0Nhc2NhZGVdLm1hdHJpeCxlKSxGbG9hdDMyQXJyYXkuZnJvbShlKX1zZXR1cFNoYWRvd3MoZSx0LGkscj0wKXtpZighdGhpcy5fZW5hYmxlZClyZXR1cm47Y29uc3Qgbj10aGlzLnBhaW50ZXIudHJhbnNmb3JtLG89dGhpcy5wYWludGVyLmNvbnRleHQscz1vLmdsLGE9dGhpcy5fdW5pZm9ybVZhbHVlcyxsPW5ldyBGbG9hdDY0QXJyYXkoMTYpLGM9bi5jYWxjdWxhdGVQb3NNYXRyaXgoZSxuLndvcmxkU2l6ZSk7Zm9yKGxldCBlPTA7ZTwyO2UrKyl4dS5tdWx0aXBseShsLHRoaXMuX2Nhc2NhZGVzW2VdLm1hdHJpeCxjKSxhWzA9PT1lP1widV9saWdodF9tYXRyaXhfMFwiOlwidV9saWdodF9tYXRyaXhfMVwiXT1GbG9hdDMyQXJyYXkuZnJvbShsKSxvLmFjdGl2ZVRleHR1cmUuc2V0KHMuVEVYVFVSRTArek0uU2hhZG93TWFwMCtlKSx0aGlzLl9jYXNjYWRlc1tlXS50ZXh0dXJlLmJpbmQocy5ORUFSRVNULHMuQ0xBTVBfVE9fRURHRSk7aWYodGhpcy51c2VOb3JtYWxPZmZzZXQ9ISFpLHRoaXMudXNlTm9ybWFsT2Zmc2V0KXtjb25zdCB0PVFkKGUuY2Fub25pY2FsKSxvPTIvbi50aWxlU2l6ZSpzci9EQSxzPW8qdGhpcy5fY2FzY2FkZXNbMF0uYm91bmRpbmdTcGhlcmVSYWRpdXMsbD1vKnRoaXMuX2Nhc2NhZGVzWzFdLmJvdW5kaW5nU3BoZXJlUmFkaXVzLGM9KFwidmVjdG9yLXRpbGVcIj09PWk/MTozKS9NYXRoLnBvdygyLHItZS5jYW5vbmljYWwuei0oMS1uLnpvb20rTWF0aC5mbG9vcihuLnpvb20pKSk7YS51X3NoYWRvd19ub3JtYWxfb2Zmc2V0PVt0LHMqYyxsKmNdLGEudV9zaGFkb3dfYmlhcz1bNmUtNSwuMDAxMiwuMDEyXTt9ZWxzZSBhLnVfc2hhZG93X2JpYXM9WzM2ZS01LC4wMDEyLC4wMTJdO3Quc2V0U2hhZG93VW5pZm9ybVZhbHVlcyhvLGEpO31zZXR1cFNoYWRvd3NGcm9tTWF0cml4KGUsdCxpPSExKXtpZighdGhpcy5fZW5hYmxlZClyZXR1cm47Y29uc3Qgcj10aGlzLnBhaW50ZXIuY29udGV4dCxuPXIuZ2wsbz10aGlzLl91bmlmb3JtVmFsdWVzLHM9bmV3IEZsb2F0NjRBcnJheSgxNik7Zm9yKGxldCB0PTA7dDwyO3QrKyl4dS5tdWx0aXBseShzLHRoaXMuX2Nhc2NhZGVzW3RdLm1hdHJpeCxlKSxvWzA9PT10P1widV9saWdodF9tYXRyaXhfMFwiOlwidV9saWdodF9tYXRyaXhfMVwiXT1GbG9hdDMyQXJyYXkuZnJvbShzKSxyLmFjdGl2ZVRleHR1cmUuc2V0KG4uVEVYVFVSRTArek0uU2hhZG93TWFwMCt0KSx0aGlzLl9jYXNjYWRlc1t0XS50ZXh0dXJlLmJpbmQobi5ORUFSRVNULG4uQ0xBTVBfVE9fRURHRSk7aWYodGhpcy51c2VOb3JtYWxPZmZzZXQ9aSxpKXtjb25zdCBlPTU7by51X3NoYWRvd19ub3JtYWxfb2Zmc2V0PVsxLGUsZV0sby51X3NoYWRvd19iaWFzPVs2ZS01LC4wMDEyLC4wMTJdO31lbHNlIG8udV9zaGFkb3dfYmlhcz1bMzZlLTUsLjAwMTIsLjAxMl07dC5zZXRTaGFkb3dVbmlmb3JtVmFsdWVzKHIsbyk7fWdldFNoYWRvd1VuaWZvcm1WYWx1ZXMoKXtyZXR1cm4gdGhpcy5fdW5pZm9ybVZhbHVlc31nZXRDdXJyZW50Q2FzY2FkZUZydXN0dW0oKXtyZXR1cm4gdGhpcy5fY2FzY2FkZXNbdGhpcy5wYWludGVyLmN1cnJlbnRTaGFkb3dDYXNjYWRlXS5mcnVzdHVtfWNvbXB1dGVTaW1wbGlmaWVkVGlsZVNoYWRvd1ZvbHVtZShlLHQsaSxyKXtpZihyWzJdPj0wKXJldHVybiB7fTtjb25zdCBuPWZ1bmN0aW9uKGUsdCxpKXtjb25zdCByPWkvKDE8PGUuY2Fub25pY2FsLnopO3JldHVybiBuZXcgSHUoW2UuY2Fub25pY2FsLngqcitlLndyYXAqaSxlLmNhbm9uaWNhbC55KnIrZS53cmFwKmksMF0sWyhlLmNhbm9uaWNhbC54KzEpKnIrZS53cmFwKmksKGUuY2Fub25pY2FsLnkrMSkqcitlLndyYXAqaSx0XSl9KGUsdCxpKS5nZXRDb3JuZXJzKCksbz10Ly1yWzJdO3JbMF08MD8oTXUuYWRkKG5bMF0sblswXSxbclswXSpvLDAsMF0pLE11LmFkZChuWzNdLG5bM10sW3JbMF0qbywwLDBdKSk6clswXT4wJiYoTXUuYWRkKG5bMV0sblsxXSxbclswXSpvLDAsMF0pLE11LmFkZChuWzJdLG5bMl0sW3JbMF0qbywwLDBdKSksclsxXTwwPyhNdS5hZGQoblswXSxuWzBdLFswLHJbMV0qbywwXSksTXUuYWRkKG5bMV0sblsxXSxbMCxyWzFdKm8sMF0pKTpyWzFdPjAmJihNdS5hZGQoblsyXSxuWzJdLFswLHJbMV0qbywwXSksTXUuYWRkKG5bM10sblszXSxbMCxyWzFdKm8sMF0pKTtjb25zdCBzPXt9O3JldHVybiBzLnZlcnRpY2VzPW4scy5wbGFuZXM9W2tBKG5bMV0sblswXSxuWzRdKSxrQShuWzJdLG5bMV0sbls1XSksa0EoblszXSxuWzJdLG5bNl0pLGtBKG5bMF0sblszXSxuWzddKV0sc31hZGRTaGFkb3dSZWNlaXZlcihlLHQsaSl7dGhpcy5fcmVjZWl2ZXJzLmFkZChlLEh1LmZyb21UaWxlSWRBbmRIZWlnaHQoZSx0LGkpKTt9Z2V0TWF4Q2FzY2FkZUZvclRpbGUoZSl7Y29uc3QgdD10aGlzLl9yZWNlaXZlcnMuZ2V0KGUpO3JldHVybiB0JiZ0Lmxhc3RDYXNjYWRlP3QubGFzdENhc2NhZGU6MH19ZnVuY3Rpb24ga0EoZSx0LGkpe2NvbnN0IHI9TXUuc3ViKFtdLGksdCksbj1NdS5zdWIoW10sZSx0KSxvPU11LmNyb3NzKFtdLHIsbikscz1NdS5sZW5ndGgobyk7cmV0dXJuIDA9PT1zP1swLDAsMSwwXTooTXUuc2NhbGUobyxvLDEvcyksW29bMF0sb1sxXSxvWzJdLC1NdS5kb3Qobyx0KV0pfWZ1bmN0aW9uIE9BKGUpe2NvbnN0IHQ9ZS5wcm9wZXJ0aWVzLmdldChcImRpcmVjdGlvblwiKSxpPUoodC54LHQueSx0LnopO2lbMl09eihpWzJdLDAsNzUpO2NvbnN0IHI9SyhbaVswXSxpWzFdLGlbMl1dKTtyZXR1cm4gTXUuZnJvbVZhbHVlcyhyLngsci55LHIueil9ZnVuY3Rpb24gQkEoZSx0KXtjb25zdCBpPWUucHJvcGVydGllcy5nZXQoXCJjb2xvclwiKSxyPWUucHJvcGVydGllcy5nZXQoXCJpbnRlbnNpdHlcIiksbj1lLnByb3BlcnRpZXMuZ2V0KFwiZGlyZWN0aW9uXCIpLG89W24ueCxuLnksbi56XSxzPXQucHJvcGVydGllcy5nZXQoXCJjb2xvclwiKSxhPXQucHJvcGVydGllcy5nZXQoXCJpbnRlbnNpdHlcIiksbD1NYXRoLm1heChNdS5kb3QoWzAsMCwxXSxvKSwwKSxjPVswLDAsMF07TXUuc2NhbGUoYyxzLnRvQXJyYXkwMUxpbmVhcigpLnNsaWNlKDAsMyksYSk7Y29uc3QgaD1bMCwwLDBdO3JldHVybiBNdS5zY2FsZShoLGkudG9BcnJheTAxTGluZWFyKCkuc2xpY2UoMCwzKSxsKnIpLGFlKFtjWzBdPjA/Y1swXS8oY1swXStoWzBdKTowLGNbMV0+MD9jWzFdLyhjWzFdK2hbMV0pOjAsY1syXT4wP2NbMl0vKGNbMl0raFsyXSk6MF0pfWZ1bmN0aW9uIEZBKGUsdCxpLHIsbixvKXtjb25zdCBzPWUuem9vbSxhPWUuc2NhbGUsbD1lLndvcmxkU2l6ZSxjPTEvbCxoPWUuYXNwZWN0LHU9TWF0aC5zcXJ0KDEraCpoKSpNYXRoLnRhbiguNSplLmZvdlgpLGQ9dSp1LHA9ci1pLGY9citpO2xldCBtLF87ZD5wL2Y/KG09cixfPXIqdSk6KG09LjUqZiooMStkKSxfPS41Kk1hdGguc3FydChwKnArMioocipyK2kqaSkqZCtmKmYqZCpkKSk7Y29uc3QgZz1lLnByb2plY3Rpb24ucGl4ZWxzUGVyTWV0ZXIoZS5jZW50ZXIubGF0LGwpLHk9ZS5fY2FtZXJhLmdldENhbWVyYVRvV29ybGRNZXJjYXRvcigpLHg9WzAsMCwtbSpjXTtNdS50cmFuc2Zvcm1NYXQ0KHgseCx5KTtsZXQgdj1fKmM7Y29uc3QgYj1lLl9lZGdlSW5zZXRzO2lmKCEoMD09PWIubGVmdCYmMD09PWIudG9wJiYwPT09Yi5yaWdodCYmMD09PWIuYm90dG9tfHxiLmxlZnQ9PT1iLnJpZ2h0JiZiLnRvcD09PWIuYm90dG9tKSl7Y29uc3QgdD1lLl9jYW1lcmEuZ2V0V29ybGRUb0NhbWVyYShlLndvcmxkU2l6ZSxcIm1ldGVyc1wiPT09ZS5wcm9qZWN0aW9uLnpBeGlzVW5pdD9nOjEpLG49ZS5fY2FtZXJhLmdldENhbWVyYVRvQ2xpcFBlcnNwZWN0aXZlKGUuX2ZvdixlLndpZHRoL2UuaGVpZ2h0LGkscik7bls4XT0yKi1lLmNlbnRlck9mZnNldC54L2Uud2lkdGgsbls5XT0yKmUuY2VudGVyT2Zmc2V0LnkvZS5oZWlnaHQ7Y29uc3Qgbz1uZXcgRmxvYXQ2NEFycmF5KDE2KTt4dS5tdWwobyxuLHQpO2NvbnN0IGM9bmV3IEZsb2F0NjRBcnJheSgxNik7eHUuaW52ZXJ0KGMsbyk7Y29uc3QgaD0kdS5mcm9tSW52UHJvamVjdGlvbk1hdHJpeChjLGwscywhMCk7Zm9yKGNvbnN0IHQgb2YgaC5wb2ludHMpe2NvbnN0IGk9KCh3PXQpWzBdLz1hLHdbMV0vPWEsd1syXT1aZCh3WzJdLGUuX2NlbnRlci5sYXQpLHcpO3Y9TWF0aC5tYXgodixNdS5sZW4oTXUuc3VidHJhY3QoW10seCxpKSkpO319dmFyIHc7dio9bi8obi0xKTtjb25zdCBUPU1hdGguYWNvcyh0WzJdKSxFPU1hdGguYXRhbjIoLXRbMF0sLXRbMV0pLE09bmV3IGp4O00ucG9zaXRpb249eCxNLnNldFBpdGNoQmVhcmluZyhULEUpO2NvbnN0IEE9TS5nZXRXb3JsZFRvQ2FtZXJhKGwsZyksUz12KmwsST1NYXRoLm1pbihlLl9tZXJjYXRvclpmcm9tWm9vbSgxNykqbCotMiwtMipTKSxDPU0uZ2V0Q2FtZXJhVG9DbGlwT3J0aG9ncmFwaGljKC1TLFMsLVMsUyxJLChTK28qZykvdFsyXSksej1uZXcgRmxvYXQ2NEFycmF5KDE2KTt4dS5tdWx0aXBseSh6LEMsQSk7Y29uc3QgRD1NdS5mcm9tVmFsdWVzKE1hdGguZmxvb3IoMWU2KnhbMF0pLzFlNipsLE1hdGguZmxvb3IoMWU2KnhbMV0pLzFlNipsLDApLFA9LjUqbixSPVswLDAsMF07TXUudHJhbnNmb3JtTWF0NChSLEQseiksTXUuc2NhbGUoUixSLFApO2NvbnN0IEw9W01hdGguZmxvb3IoUlswXSksTWF0aC5mbG9vcihSWzFdKSxNYXRoLmZsb29yKFJbMl0pXSxrPVswLDAsMF07TXUuc3ViKGssUixMKSxNdS5zY2FsZShrLGssLTEvUCk7Y29uc3QgTz1uZXcgRmxvYXQ2NEFycmF5KDE2KTtyZXR1cm4geHUuaWRlbnRpdHkoTykseHUudHJhbnNsYXRlKE8sTyxrKSx4dS5tdWx0aXBseSh6LE8seiksW3osU119Y2xhc3MgTkEgZXh0ZW5kcyBJdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMucmVxdWVzdE1hbmFnZXI9ZSx0aGlzLm1vZGVscz17XCJcIjp7fX0sdGhpcy5udW1Nb2RlbHNMb2FkaW5nPXt9O31sb2FkTW9kZWwoZSx0KXtyZXR1cm4gYVQodGhpcy5yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KHQseWUuTW9kZWwpLnVybCkudGhlbigodD0+e2lmKCF0KXJldHVybjtjb25zdCBpPV9UKHQpLHI9bmV3IGJ2KGUsdm9pZCAwLHZvaWQgMCxpKTtyZXR1cm4gci5jb21wdXRlQm91bmRzQW5kQXBwbHlQYXJlbnQoKSxyfSkpLmNhdGNoKChpPT57dGhpcy5maXJlKG5ldyBTdChuZXcgRXJyb3IoYENvdWxkIG5vdCBsb2FkIG1vZGVsICR7ZX0gZnJvbSAke3R9OiAke2kubWVzc2FnZX1gKSkpO30pKX1sb2FkKGUsdCl7dGhpcy5tb2RlbHNbdF18fCh0aGlzLm1vZGVsc1t0XT17fSk7Y29uc3QgaT1PYmplY3Qua2V5cyhlKTt0aGlzLm51bU1vZGVsc0xvYWRpbmdbdF09KHRoaXMubnVtTW9kZWxzTG9hZGluZ1t0XXx8MCkraS5sZW5ndGg7Y29uc3Qgcj1bXTtmb3IoY29uc3QgdCBvZiBpKXIucHVzaCh0aGlzLmxvYWRNb2RlbCh0LGVbdF0pKTtQcm9taXNlLmFsbFNldHRsZWQocikudGhlbigoZT0+e2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXtjb25zdHtzdGF0dXM6bix2YWx1ZTpvfT1lW3JdO1wiZnVsZmlsbGVkXCI9PT1uJiZvJiYodGhpcy5tb2RlbHNbdF1baVtyXV09byk7fXRoaXMubnVtTW9kZWxzTG9hZGluZ1t0XS09aS5sZW5ndGgsdGhpcy5maXJlKG5ldyBBdChcImRhdGFcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpO30pKS5jYXRjaCgoZT0+e3RoaXMuZmlyZShuZXcgU3QobmV3IEVycm9yKGBDb3VsZCBub3QgbG9hZCBtb2RlbHM6ICR7ZS5tZXNzYWdlfWApKSk7fSkpO31pc0xvYWRlZCgpe2Zvcihjb25zdCBlIGluIHRoaXMubnVtTW9kZWxzTG9hZGluZylpZih0aGlzLm51bU1vZGVsc0xvYWRpbmdbZV0+MClyZXR1cm4gITE7cmV0dXJuICEwfWhhc01vZGVsKGUsdCl7cmV0dXJuICEhdGhpcy5nZXRNb2RlbChlLHQpfWdldE1vZGVsKGUsdCl7cmV0dXJuIHRoaXMubW9kZWxzW3RdfHwodGhpcy5tb2RlbHNbdF09e30pLHRoaXMubW9kZWxzW3RdW2VdfWFkZE1vZGVsKGUsdCxpKXt0aGlzLm1vZGVsc1tpXXx8KHRoaXMubW9kZWxzW2ldPXt9KSx0aGlzLmhhc01vZGVsKGUsaSkmJnRoaXMucmVtb3ZlTW9kZWwoZSxpKSx0aGlzLmxvYWQoe1tlXTp0aGlzLnJlcXVlc3RNYW5hZ2VyLm5vcm1hbGl6ZU1vZGVsVVJMKHQpfSxpKTt9YWRkTW9kZWxzKGUsdCl7Y29uc3QgaT17fTtmb3IoY29uc3QgdCBpbiBlKWlbdF09dGhpcy5yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVNb2RlbFVSTChlW3RdKTt0aGlzLmxvYWQoaSx0KTt9cmVtb3ZlTW9kZWwoZSx0KXt0aGlzLm1vZGVsc1t0XXx8KHRoaXMubW9kZWxzW3RdPXt9KTtjb25zdCBpPXRoaXMubW9kZWxzW3RdW2VdO2RlbGV0ZSB0aGlzLm1vZGVsc1t0XVtlXSxpLmRlc3Ryb3koKTt9bGlzdE1vZGVscyhlKXtyZXR1cm4gdGhpcy5tb2RlbHNbZV18fCh0aGlzLm1vZGVsc1tlXT17fSksT2JqZWN0LmtleXModGhpcy5tb2RlbHNbZV0pfXVwbG9hZChlLHQpe3RoaXMubW9kZWxzW3RdfHwodGhpcy5tb2RlbHNbdF09e30pO2Zvcihjb25zdCBpIGluIHRoaXMubW9kZWxzW3RdKXRoaXMubW9kZWxzW3RdW2ldLnVwbG9hZChlLmNvbnRleHQpO319Y29uc3QgVUE9KGUsdCk9PndzKGUsdCYmdC5maWx0ZXIoKGU9Plwic291cmNlLmNhbnZhc1wiIT09ZS5pZGVudGlmaWVyKSkpLFZBPU8oQ1QsW1wiYWRkTGF5ZXJcIixcInJlbW92ZUxheWVyXCIsXCJzZXRMaWdodHNcIixcInNldFBhaW50UHJvcGVydHlcIixcInNldExheW91dFByb3BlcnR5XCIsXCJzZXRTbG90XCIsXCJzZXRGaWx0ZXJcIixcImFkZFNvdXJjZVwiLFwicmVtb3ZlU291cmNlXCIsXCJzZXRMYXllclpvb21SYW5nZVwiLFwic2V0TGlnaHRcIixcInNldFRyYW5zaXRpb25cIixcInNldEdlb0pTT05Tb3VyY2VEYXRhXCIsXCJzZXRUZXJyYWluXCIsXCJzZXRGb2dcIixcInNldFByb2plY3Rpb25cIixcInNldENhbWVyYVwiLFwiYWRkSW1wb3J0XCIsXCJyZW1vdmVJbXBvcnRcIixcInNldEltcG9ydFVybFwiLFwic2V0SW1wb3J0RGF0YVwiLFwic2V0SW1wb3J0Q29uZmlnXCJdKSxqQT1PKENULFtcInNldENlbnRlclwiLFwic2V0Wm9vbVwiLFwic2V0QmVhcmluZ1wiLFwic2V0UGl0Y2hcIl0pLEdBPXt2ZXJzaW9uOjgsbGF5ZXJzOltdLHNvdXJjZXM6e319LHFBPXtkdXJhdGlvbjozMDAsZGVsYXk6MH0sWkE9bmV3IFNldChbXCJmaWxsXCIsXCJsaW5lXCIsXCJiYWNrZ3JvdW5kXCIsXCJoaWxsc2hhZGVcIixcInJhc3RlclwiXSk7Y2xhc3MgJEEgZXh0ZW5kcyBJdHtjb25zdHJ1Y3RvcihlLHQ9e30pe3N1cGVyKCksdGhpcy5tYXA9ZSx0aGlzLnNjb3BlPXQuc2NvcGV8fFwiXCIsdGhpcy5mcmFnbWVudHM9W10sdGhpcy5pbXBvcnREZXB0aD10LmltcG9ydERlcHRofHwwLHRoaXMuaW1wb3J0c0NhY2hlPXQuaW1wb3J0c0NhY2hlfHxuZXcgTWFwLHRoaXMucmVzb2x2ZWRJbXBvcnRzPXQucmVzb2x2ZWRJbXBvcnRzfHxuZXcgU2V0LHRoaXMudHJhbnNpdGlvbj1rKHt9LHFBKSx0aGlzLl9idWlsZGluZ0luZGV4PW5ldyBNVCh0aGlzKSx0aGlzLmNyb3NzVGlsZVN5bWJvbEluZGV4PW5ldyB3RSx0aGlzLl9tZXJnZWRPcmRlcj1bXSx0aGlzLl9kcmFwZWRGaXJzdE9yZGVyPVtdLHRoaXMuX21lcmdlZExheWVycz17fSx0aGlzLl9tZXJnZWRTb3VyY2VDYWNoZXM9e30sdGhpcy5fbWVyZ2VkT3RoZXJTb3VyY2VDYWNoZXM9e30sdGhpcy5fbWVyZ2VkU3ltYm9sU291cmNlQ2FjaGVzPXt9LHRoaXMuX2hhczNETGF5ZXJzPSExLHRoaXMuX2hhc0NpcmNsZUxheWVycz0hMSx0aGlzLl9oYXNTeW1ib2xMYXllcnM9ITEsdGhpcy5fY2hhbmdlcz10LnN0eWxlQ2hhbmdlc3x8bmV3IGdhLHRoaXMuZGlzcGF0Y2hlcj10LmRpc3BhdGNoZXI/dC5kaXNwYXRjaGVyOm5ldyBfdyhVdygpLHRoaXMpLHQuaW1hZ2VNYW5hZ2VyP3RoaXMuaW1hZ2VNYW5hZ2VyPXQuaW1hZ2VNYW5hZ2VyOih0aGlzLmltYWdlTWFuYWdlcj1uZXcgUWIsdGhpcy5pbWFnZU1hbmFnZXIuc2V0RXZlbnRlZFBhcmVudCh0aGlzKSksdGhpcy5pbWFnZU1hbmFnZXIuY3JlYXRlU2NvcGUodGhpcy5zY29wZSksdGhpcy5nbHlwaE1hbmFnZXI9dC5nbHlwaE1hbmFnZXI/dC5nbHlwaE1hbmFnZXI6bmV3IEtfKGUuX3JlcXVlc3RNYW5hZ2VyLHQubG9jYWxGb250RmFtaWx5PzI6dC5sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk/MTowLHQubG9jYWxGb250RmFtaWx5fHx0LmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSksdC5tb2RlbE1hbmFnZXI/dGhpcy5tb2RlbE1hbmFnZXI9dC5tb2RlbE1hbmFnZXI6KHRoaXMubW9kZWxNYW5hZ2VyPW5ldyBOQShlLl9yZXF1ZXN0TWFuYWdlciksdGhpcy5tb2RlbE1hbmFnZXIuc2V0RXZlbnRlZFBhcmVudCh0aGlzKSksdGhpcy5fbGF5ZXJzPXt9LHRoaXMuX3NlcmlhbGl6ZWRMYXllcnM9e30sdGhpcy5fc291cmNlQ2FjaGVzPXt9LHRoaXMuX290aGVyU291cmNlQ2FjaGVzPXt9LHRoaXMuX3N5bWJvbFNvdXJjZUNhY2hlcz17fSx0aGlzLl9sb2FkZWQ9ITEsdGhpcy5fcHJlY29tcGlsZURvbmU9ITEsdGhpcy5fc2hvdWxkUHJlY29tcGlsZT0hMSx0aGlzLl9hdmFpbGFibGVJbWFnZXM9W10sdGhpcy5fb3JkZXI9W10sdGhpcy5fbWFya2Vyc05lZWRVcGRhdGU9ITEsdGhpcy5vcHRpb25zPW5ldyBNYXAsdGhpcy5fY29uZmlnRGVwZW5kZW50TGF5ZXJzPW5ldyBTZXQsdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInNldFJlZmVycmVyXCIsdmUoKSk7Y29uc3QgaT10aGlzO3RoaXMuX3J0bFRleHRQbHVnaW5DYWxsYmFjaz0kQS5yZWdpc3RlckZvclBsdWdpblN0YXRlQ2hhbmdlKChlPT57aS5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInN5bmNSVExQbHVnaW5TdGF0ZVwiLHtwbHVnaW5TdGF0dXM6ZS5wbHVnaW5TdGF0dXMscGx1Z2luVVJMOmUucGx1Z2luVVJMfSwoKGUsdCk9PntpZihXcyhlKSx0JiZ0LmV2ZXJ5KChlPT5lKSkpZm9yKGNvbnN0IGUgaW4gaS5fc291cmNlQ2FjaGVzKXtjb25zdCB0PWkuX3NvdXJjZUNhY2hlc1tlXSxyPXQuZ2V0U291cmNlKCkudHlwZTtcInZlY3RvclwiIT09ciYmXCJnZW9qc29uXCIhPT1yfHx0LnJlbG9hZCgpO319KSk7fSkpLHRoaXMub24oXCJkYXRhXCIsKGU9PntpZihcInNvdXJjZVwiIT09ZS5kYXRhVHlwZXx8XCJtZXRhZGF0YVwiIT09ZS5zb3VyY2VEYXRhVHlwZSlyZXR1cm47Y29uc3QgdD10aGlzLmdldE93blNvdXJjZShlLnNvdXJjZUlkKTtpZih0JiZ0LnZlY3RvckxheWVySWRzKWZvcihjb25zdCBlIGluIHRoaXMuX2xheWVycyl7Y29uc3QgaT10aGlzLl9sYXllcnNbZV07aS5zb3VyY2U9PT10LmlkJiZ0aGlzLl92YWxpZGF0ZUxheWVyKGkpO319KSk7fWxvYWRVUkwoZSx0PXt9KXt0aGlzLmZpcmUobmV3IEF0KFwiZGF0YWxvYWRpbmdcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpO2NvbnN0IGk9XCJib29sZWFuXCI9PXR5cGVvZiB0LnZhbGlkYXRlP3QudmFsaWRhdGU6IURlKGUpO2U9dGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLm5vcm1hbGl6ZVN0eWxlVVJMKGUsdC5hY2Nlc3NUb2tlbiksdGhpcy5yZXNvbHZlZEltcG9ydHMuYWRkKGUpO2NvbnN0IHI9dGhpcy5pbXBvcnRzQ2FjaGUuZ2V0KGUpO2lmKHIpcmV0dXJuIHRoaXMuX2xvYWQocixpKTtjb25zdCBuPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KGUseWUuU3R5bGUpO3RoaXMuX3JlcXVlc3Q9d2UobiwoKHQscik9PntpZih0aGlzLl9yZXF1ZXN0PW51bGwsdCl0aGlzLmZpcmUobmV3IFN0KHQpKTtlbHNlIGlmKHIpcmV0dXJuIHRoaXMuaW1wb3J0c0NhY2hlLnNldChlLHIpLHRoaXMuX2xvYWQocixpKX0pKTt9bG9hZEpTT04oZSx0PXt9KXt0aGlzLmZpcmUobmV3IEF0KFwiZGF0YWxvYWRpbmdcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpLHRoaXMuX3JlcXVlc3Q9aHQuZnJhbWUoKCgpPT57dGhpcy5fcmVxdWVzdD1udWxsLHRoaXMuX2xvYWQoZSwhMSE9PXQudmFsaWRhdGUpO30pKTt9bG9hZEVtcHR5KCl7dGhpcy5maXJlKG5ldyBBdChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pKSx0aGlzLl9sb2FkKEdBLCExKTt9X2xvYWRJbXBvcnRzKGUsdCl7aWYodGhpcy5pbXBvcnREZXB0aD49NClyZXR1cm4gVyhcIlN0eWxlIGRvZXNuJ3Qgc3VwcG9ydCBuZXN0aW5nIGRlZXBlciB0aGFuIDVcIiksdGhpcy5fcmVsb2FkSW1wb3J0cygpO2NvbnN0IGk9W107Zm9yKGNvbnN0IHIgb2YgZSl7Y29uc3QgZT10aGlzLl9jcmVhdGVGcmFnbWVudFN0eWxlKHIpLG49bmV3IFByb21pc2UoKHQ9PmUub24oXCJzdHlsZS5pbXBvcnQubG9hZFwiLHQpKSk7aWYoaS5wdXNoKG4pLHRoaXMucmVzb2x2ZWRJbXBvcnRzLmhhcyhyLnVybCkpe2UubG9hZEVtcHR5KCk7Y29udGludWV9Y29uc3Qgbz1yLmRhdGF8fHRoaXMuaW1wb3J0c0NhY2hlLmdldChyLnVybCk7bz9lLmxvYWRKU09OKG8se3ZhbGlkYXRlOnR9KTpyLnVybD9lLmxvYWRVUkwoci51cmwse3ZhbGlkYXRlOnR9KTplLmxvYWRFbXB0eSgpLHRoaXMuZnJhZ21lbnRzLnB1c2goe3N0eWxlOmUsaWQ6ci5pZCxjb25maWc6ci5jb25maWd9KTt9UHJvbWlzZS5hbGwoaSkudGhlbigoKCk9PnRoaXMuX3JlbG9hZEltcG9ydHMoKSkpO31fY3JlYXRlRnJhZ21lbnRTdHlsZShlKXtjb25zdCB0PXRoaXMuc2NvcGU/cGEoZS5pZCx0aGlzLnNjb3BlKTplLmlkLGk9bmV3ICRBKHRoaXMubWFwLHtzY29wZTp0LHN0eWxlQ2hhbmdlczp0aGlzLl9jaGFuZ2VzLGltcG9ydERlcHRoOnRoaXMuaW1wb3J0RGVwdGgrMSxpbXBvcnRzQ2FjaGU6dGhpcy5pbXBvcnRzQ2FjaGUscmVzb2x2ZWRJbXBvcnRzOm5ldyBTZXQodGhpcy5yZXNvbHZlZEltcG9ydHMpLGRpc3BhdGNoZXI6dGhpcy5kaXNwYXRjaGVyLGltYWdlTWFuYWdlcjp0aGlzLmltYWdlTWFuYWdlcixnbHlwaE1hbmFnZXI6dGhpcy5nbHlwaE1hbmFnZXIsbW9kZWxNYW5hZ2VyOnRoaXMubW9kZWxNYW5hZ2VyfSk7cmV0dXJuIGkuc2V0RXZlbnRlZFBhcmVudCh0aGlzLm1hcCx7c3R5bGU6aX0pLGkuc2V0Q29uZmlnKGUuY29uZmlnKSxpfV9yZWxvYWRJbXBvcnRzKCl7dGhpcy5tZXJnZUFsbCgpLHRoaXMuX3VwZGF0ZU1hcFByb2plY3Rpb24oKSx0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwic2V0TGF5ZXJzXCIse2xheWVyczp0aGlzLl9zZXJpYWxpemVMYXllcnModGhpcy5fb3JkZXIpLHNjb3BlOnRoaXMuc2NvcGUsb3B0aW9uczp0aGlzLm9wdGlvbnN9KTtjb25zdCBlPXRoaXMuaXNSb290U3R5bGUoKTt0aGlzLl9zaG91bGRQcmVjb21waWxlPWUsdGhpcy5maXJlKG5ldyBBdChcImRhdGFcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpLHRoaXMuZmlyZShuZXcgQXQoZT9cInN0eWxlLmxvYWRcIjpcInN0eWxlLmltcG9ydC5sb2FkXCIpKTt9X2xvYWQoZSx0KXtjb25zdCBpPWUuc2NoZW1hO2lmKHRoaXMuaXNSb290U3R5bGUoKSYmKGUuZnJhZ21lbnR8fGkmJiExIT09ZS5mcmFnbWVudCkpe2NvbnN0IGk9ayh7fSxHQSx7aW1wb3J0czpbe2lkOlwiYmFzZW1hcFwiLGRhdGE6ZSx1cmw6XCJcIn1dfSk7cmV0dXJuIHZvaWQgdGhpcy5fbG9hZChpLHQpfWlmKHRoaXMudXBkYXRlU2NoZW1hKGkpLHQmJlVBKHRoaXMsaHMoZSkpKXJldHVybjt0aGlzLl9sb2FkZWQ9ITAsdGhpcy5zdHlsZXNoZWV0PSQoZSk7Zm9yKGNvbnN0IHQgaW4gZS5zb3VyY2VzKXRoaXMuYWRkU291cmNlKHQsZS5zb3VyY2VzW3RdLHt2YWxpZGF0ZTohMX0pO3RoaXMuX2NoYW5nZXMuY2hhbmdlZD0hMSxlLnNwcml0ZT90aGlzLl9sb2FkU3ByaXRlKGUuc3ByaXRlKToodGhpcy5pbWFnZU1hbmFnZXIuc2V0TG9hZGVkKCEwLHRoaXMuc2NvcGUpLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzcHJpdGVMb2FkZWRcIix7c2NvcGU6dGhpcy5zY29wZSxpc0xvYWRlZDohMH0pKSx0aGlzLmdseXBoTWFuYWdlci5zZXRVUkwoZS5nbHlwaHMsdGhpcy5zY29wZSk7Y29uc3Qgcj1JVCh0aGlzLnN0eWxlc2hlZXQubGF5ZXJzKTtpZih0aGlzLl9vcmRlcj1yLm1hcCgoZT0+ZS5pZCkpLHRoaXMuc3R5bGVzaGVldC5saWdodCYmVyhcIlRoZSBgbGlnaHRgIHJvb3QgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgcHJlZmVyIHVzaW5nIGBsaWdodHNgIHdpdGggYGZsYXRgIGxpZ2h0IHR5cGUgaW5zdGVhZC5cIiksdGhpcy5zdHlsZXNoZWV0LmxpZ2h0cylpZigxPT09dGhpcy5zdHlsZXNoZWV0LmxpZ2h0cy5sZW5ndGgmJlwiZmxhdFwiPT09dGhpcy5zdHlsZXNoZWV0LmxpZ2h0c1swXS50eXBlKXtjb25zdCBlPXRoaXMuc3R5bGVzaGVldC5saWdodHNbMF07dGhpcy5saWdodD1uZXcgdHcoZS5wcm9wZXJ0aWVzLGUuaWQpO31lbHNlIHRoaXMuc2V0TGlnaHRzKHRoaXMuc3R5bGVzaGVldC5saWdodHMpO3RoaXMubGlnaHR8fCh0aGlzLmxpZ2h0PW5ldyB0dyh0aGlzLnN0eWxlc2hlZXQubGlnaHQpKSx0aGlzLl9sYXllcnM9e30sdGhpcy5fc2VyaWFsaXplZExheWVycz17fTtmb3IoY29uc3QgZSBvZiByKXtjb25zdCB0PUtiKGUsdGhpcy5vcHRpb25zKTt0LnNldFNjb3BlKHRoaXMuc2NvcGUpLHQuaXNDb25maWdEZXBlbmRlbnQmJnRoaXMuX2NvbmZpZ0RlcGVuZGVudExheWVycy5hZGQodC5mcWlkKSx0LnNldEV2ZW50ZWRQYXJlbnQodGhpcyx7bGF5ZXI6e2lkOnQuaWR9fSksdGhpcy5fbGF5ZXJzW3QuaWRdPXQsdGhpcy5fbGF5ZXJzW3QuaWRdPXQsdGhpcy5fc2VyaWFsaXplZExheWVyc1t0LmlkXT10LnNlcmlhbGl6ZSgpO2NvbnN0IGk9dGhpcy5nZXRPd25MYXllclNvdXJjZUNhY2hlKHQpLHI9ISF0aGlzLmRpcmVjdGlvbmFsTGlnaHQmJnRoaXMuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3dzRW5hYmxlZCgpO2kmJnQuY2FuQ2FzdFNoYWRvd3MoKSYmciYmKGkuY2FzdHNTaGFkb3dzPSEwKTt9dGhpcy5zdHlsZXNoZWV0Lm1vZGVscyYmdGhpcy5tb2RlbE1hbmFnZXIuYWRkTW9kZWxzKHRoaXMuc3R5bGVzaGVldC5tb2RlbHMsdGhpcy5zY29wZSk7Y29uc3Qgbj10aGlzLnN0eWxlc2hlZXQudGVycmFpbjtpZihuJiYhdGhpcy50ZXJyYWluU2V0Rm9yRHJhcGluZ09ubHkoKSYmdGhpcy5fY3JlYXRlVGVycmFpbihuLDEpLHRoaXMuc3R5bGVzaGVldC5mb2cmJnRoaXMuX2NyZWF0ZUZvZyh0aGlzLnN0eWxlc2hlZXQuZm9nKSx0aGlzLnN0eWxlc2hlZXQudHJhbnNpdGlvbiYmdGhpcy5zZXRUcmFuc2l0aW9uKHRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uKSx0aGlzLm1lcmdlQWxsKCksdGhpcy5fdXBkYXRlTWFwUHJvamVjdGlvbigpLHRoaXMubWFwLl90cmlnZ2VyQ2FtZXJhVXBkYXRlKHRoaXMuY2FtZXJhKSx0aGlzLmZpcmUobmV3IEF0KFwiZGF0YVwiLHtkYXRhVHlwZTpcInN0eWxlXCJ9KSksZS5pbXBvcnRzKXRoaXMuX2xvYWRJbXBvcnRzKGUuaW1wb3J0cyx0KTtlbHNlIHt0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwic2V0TGF5ZXJzXCIse2xheWVyczp0aGlzLl9zZXJpYWxpemVMYXllcnModGhpcy5fb3JkZXIpLHNjb3BlOnRoaXMuc2NvcGUsb3B0aW9uczp0aGlzLm9wdGlvbnN9KTtjb25zdCBlPXRoaXMuaXNSb290U3R5bGUoKTt0aGlzLl9zaG91bGRQcmVjb21waWxlPWUsdGhpcy5maXJlKG5ldyBBdChlP1wic3R5bGUubG9hZFwiOlwic3R5bGUuaW1wb3J0LmxvYWRcIikpO319aXNSb290U3R5bGUoKXtyZXR1cm4gMD09PXRoaXMuaW1wb3J0RGVwdGh9bWVyZ2VBbGwoKXtsZXQgZSx0LGkscixuLG8scyxhO3RoaXMuZm9yRWFjaEZyYWdtZW50U3R5bGUoKGw9PntpZihsLnN0eWxlc2hlZXQpe2lmKG51bGwhPWwubGlnaHQmJihlPWwubGlnaHQpLGwuc3R5bGVzaGVldC5saWdodHMpZm9yKGNvbnN0IGUgb2YgbC5zdHlsZXNoZWV0LmxpZ2h0cylcImFtYmllbnRcIj09PWUudHlwZSYmbnVsbCE9bC5hbWJpZW50TGlnaHQmJih0PWwuYW1iaWVudExpZ2h0KSxcImRpcmVjdGlvbmFsXCI9PT1lLnR5cGUmJm51bGwhPWwuZGlyZWN0aW9uYWxMaWdodCYmKGk9bC5kaXJlY3Rpb25hbExpZ2h0KTsobC5zdHlsZXNoZWV0LnRlcnJhaW58fGwuc3R5bGVzaGVldC5wcm9qZWN0aW9uJiZcImdsb2JlXCI9PT1sLnN0eWxlc2hlZXQucHJvamVjdGlvbi5uYW1lKSYmbnVsbCE9bC50ZXJyYWluJiYoIXJ8fHImJjA9PT1yLmRyYXBlUmVuZGVyTW9kZXx8MT09PWwudGVycmFpbi5kcmFwZVJlbmRlck1vZGUpJiYocj1sLnRlcnJhaW4pLGwuc3R5bGVzaGVldC5mb2cmJm51bGwhPWwuZm9nJiYobj1sLmZvZyksbnVsbCE9bC5zdHlsZXNoZWV0LmNhbWVyYSYmKGE9bC5zdHlsZXNoZWV0LmNhbWVyYSksbnVsbCE9bC5zdHlsZXNoZWV0LnByb2plY3Rpb24mJihvPWwuc3R5bGVzaGVldC5wcm9qZWN0aW9uKSxudWxsIT1sLnN0eWxlc2hlZXQudHJhbnNpdGlvbiYmKHM9bC5zdHlsZXNoZWV0LnRyYW5zaXRpb24pO319KSksdGhpcy5saWdodD1lLHRoaXMuYW1iaWVudExpZ2h0PXQsdGhpcy5kaXJlY3Rpb25hbExpZ2h0PWksdGhpcy50ZXJyYWluPXIsdGhpcy5mb2c9bix0aGlzLmNhbWVyYT1hfHx7XCJjYW1lcmEtcHJvamVjdGlvblwiOlwicGVyc3BlY3RpdmVcIn0sdGhpcy5wcm9qZWN0aW9uPW98fHtuYW1lOlwibWVyY2F0b3JcIn0sdGhpcy50cmFuc2l0aW9uPWsoe30scUEscyksdGhpcy5tZXJnZVNvdXJjZXMoKSx0aGlzLm1lcmdlTGF5ZXJzKCk7fWZvckVhY2hGcmFnbWVudFN0eWxlKGUpe2NvbnN0IHQ9aT0+e2Zvcihjb25zdCBlIG9mIGkuZnJhZ21lbnRzKXQoZS5zdHlsZSk7ZShpKTt9O3QodGhpcyk7fW1lcmdlVGVycmFpbigpe2xldCBlO3RoaXMuZm9yRWFjaEZyYWdtZW50U3R5bGUoKHQ9PntudWxsIT10LnRlcnJhaW4mJighZXx8ZSYmMD09PWUuZHJhcGVSZW5kZXJNb2RlfHwxPT09dC50ZXJyYWluLmRyYXBlUmVuZGVyTW9kZSkmJihlPXQudGVycmFpbik7fSkpLHRoaXMudGVycmFpbj1lO31tZXJnZVByb2plY3Rpb24oKXtsZXQgZTt0aGlzLmZvckVhY2hGcmFnbWVudFN0eWxlKCh0PT57bnVsbCE9dC5zdHlsZXNoZWV0LnByb2plY3Rpb24mJihlPXQuc3R5bGVzaGVldC5wcm9qZWN0aW9uKTt9KSksdGhpcy5wcm9qZWN0aW9uPWV8fHtuYW1lOlwibWVyY2F0b3JcIn07fW1lcmdlU291cmNlcygpe2NvbnN0IGU9e30sdD17fSxpPXt9O3RoaXMuZm9yRWFjaEZyYWdtZW50U3R5bGUoKHI9Pntmb3IoY29uc3QgdCBpbiByLl9zb3VyY2VDYWNoZXMpe2NvbnN0IGk9cGEodCxyLnNjb3BlKTtlW2ldPXIuX3NvdXJjZUNhY2hlc1t0XTt9Zm9yKGNvbnN0IGUgaW4gci5fb3RoZXJTb3VyY2VDYWNoZXMpe2NvbnN0IGk9cGEoZSxyLnNjb3BlKTt0W2ldPXIuX290aGVyU291cmNlQ2FjaGVzW2VdO31mb3IoY29uc3QgZSBpbiByLl9zeW1ib2xTb3VyY2VDYWNoZXMpe2NvbnN0IHQ9cGEoZSxyLnNjb3BlKTtpW3RdPXIuX3N5bWJvbFNvdXJjZUNhY2hlc1tlXTt9fSkpLHRoaXMuX21lcmdlZFNvdXJjZUNhY2hlcz1lLHRoaXMuX21lcmdlZE90aGVyU291cmNlQ2FjaGVzPXQsdGhpcy5fbWVyZ2VkU3ltYm9sU291cmNlQ2FjaGVzPWk7fW1lcmdlTGF5ZXJzKCl7Y29uc3QgZT17fSx0PVtdLGk9e307dGhpcy5faGFzM0RMYXllcnM9ITEsdGhpcy5faGFzQ2lyY2xlTGF5ZXJzPSExLHRoaXMuX2hhc1N5bWJvbExheWVycz0hMSx0aGlzLmZvckVhY2hGcmFnbWVudFN0eWxlKChpPT57Zm9yKGNvbnN0IHIgb2YgaS5fb3JkZXIpe2NvbnN0IG49aS5fbGF5ZXJzW3JdO2lmKFwic2xvdFwiPT09bi50eXBlKXtjb25zdCB0PWZhKHIpO2lmKGVbdF0pY29udGludWU7ZVt0XT1bXTt9bi5zbG90JiZlW24uc2xvdF0/ZVtuLnNsb3RdLnB1c2gobik6dC5wdXNoKG4pO319KSksdGhpcy5fbWVyZ2VkT3JkZXI9W107Y29uc3Qgcj0odD1bXSk9Pntmb3IoY29uc3QgbiBvZiB0KWlmKFwic2xvdFwiPT09bi50eXBlKXtjb25zdCB0PWZhKG4uaWQpO2VbdF0mJnIoZVt0XSk7fWVsc2Uge2NvbnN0IGU9cGEobi5pZCxuLnNjb3BlKTt0aGlzLl9tZXJnZWRPcmRlci5wdXNoKGUpLGlbZV09bixuLmlzM0QoKSYmKHRoaXMuX2hhczNETGF5ZXJzPSEwKSxcImNpcmNsZVwiPT09bi50eXBlJiYodGhpcy5faGFzQ2lyY2xlTGF5ZXJzPSEwKSxcInN5bWJvbFwiPT09bi50eXBlJiYodGhpcy5faGFzU3ltYm9sTGF5ZXJzPSEwKTt9fTtyKHQpLHRoaXMuX21lcmdlZExheWVycz1pLHRoaXMudXBkYXRlRHJhcGVGaXJzdExheWVycygpLHRoaXMuX2J1aWxkaW5nSW5kZXgucHJvY2Vzc0xheWVyc0NoYW5nZWQoKTt9dGVycmFpblNldEZvckRyYXBpbmdPbmx5KCl7cmV0dXJuICEhdGhpcy50ZXJyYWluJiYwPT09dGhpcy50ZXJyYWluLmRyYXBlUmVuZGVyTW9kZX1nZXRDYW1lcmEoKXtyZXR1cm4gdGhpcy5zdHlsZXNoZWV0LmNhbWVyYX1zZXRDYW1lcmEoZSl7cmV0dXJuIHRoaXMuc3R5bGVzaGVldC5jYW1lcmE9ayh7fSx0aGlzLnN0eWxlc2hlZXQuY2FtZXJhLGUpLHRoaXMuY2FtZXJhPXRoaXMuc3R5bGVzaGVldC5jYW1lcmEsdGhpc31zZXRQcm9qZWN0aW9uKGUpe2U/dGhpcy5zdHlsZXNoZWV0LnByb2plY3Rpb249ZTpkZWxldGUgdGhpcy5zdHlsZXNoZWV0LnByb2plY3Rpb24sdGhpcy5tZXJnZVByb2plY3Rpb24oKSx0aGlzLl91cGRhdGVNYXBQcm9qZWN0aW9uKCk7fWFwcGx5UHJvamVjdGlvblVwZGF0ZSgpe3RoaXMuX2xvYWRlZCYmKHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzZXRQcm9qZWN0aW9uXCIsdGhpcy5tYXAudHJhbnNmb3JtLnByb2plY3Rpb25PcHRpb25zKSx0aGlzLm1hcC50cmFuc2Zvcm0ucHJvamVjdGlvbi5yZXF1aXJlc0RyYXBpbmc/dGhpcy5nZXRUZXJyYWluKCl8fHRoaXMuc3R5bGVzaGVldC50ZXJyYWlufHx0aGlzLnNldFRlcnJhaW5Gb3JEcmFwaW5nKCk6dGhpcy50ZXJyYWluU2V0Rm9yRHJhcGluZ09ubHkoKSYmdGhpcy5zZXRUZXJyYWluKG51bGwpKTt9X3VwZGF0ZU1hcFByb2plY3Rpb24oKXt0aGlzLmlzUm9vdFN0eWxlKCkmJih0aGlzLm1hcC5fdXNlRXhwbGljaXRQcm9qZWN0aW9uP3RoaXMuYXBwbHlQcm9qZWN0aW9uVXBkYXRlKCk6dGhpcy5tYXAuX3ByaW9yaXRpemVBbmRVcGRhdGVQcm9qZWN0aW9uKG51bGwsdGhpcy5wcm9qZWN0aW9uKSk7fV9sb2FkU3ByaXRlKGUpe3RoaXMuX3Nwcml0ZVJlcXVlc3Q9ZnVuY3Rpb24oZSx0LGkpe2xldCByLG4sbztjb25zdCBzPWh0LmRldmljZVBpeGVsUmF0aW8+MT9cIkAyeFwiOlwiXCI7bGV0IGE9d2UodC50cmFuc2Zvcm1SZXF1ZXN0KHQubm9ybWFsaXplU3ByaXRlVVJMKGUscyxcIi5qc29uXCIpLHllLlNwcml0ZUpTT04pLCgoZSx0KT0+e2E9bnVsbCxvfHwobz1lLHI9dCxjKCkpO30pKSxsPUllKHQudHJhbnNmb3JtUmVxdWVzdCh0Lm5vcm1hbGl6ZVNwcml0ZVVSTChlLHMsXCIucG5nXCIpLHllLlNwcml0ZUltYWdlKSwoKGUsdCk9PntsPW51bGwsb3x8KG89ZSxuPXQsYygpKTt9KSk7ZnVuY3Rpb24gYygpe2lmKG8paShvKTtlbHNlIGlmKHImJm4pe2NvbnN0IGU9aHQuZ2V0SW1hZ2VEYXRhKG4pLHQ9e307Zm9yKGNvbnN0IGkgaW4gcil7Y29uc3R7d2lkdGg6bixoZWlnaHQ6byx4OnMseTphLHNkZjpsLHBpeGVsUmF0aW86YyxzdHJldGNoWDpoLHN0cmV0Y2hZOnUsY29udGVudDpkfT1yW2ldLHA9bmV3ICRwKHt3aWR0aDpuLGhlaWdodDpvfSk7JHAuY29weShlLHAse3g6cyx5OmF9LHt4OjAseTowfSx7d2lkdGg6bixoZWlnaHQ6b30pLHRbaV09e2RhdGE6cCxwaXhlbFJhdGlvOmMsc2RmOmwsc3RyZXRjaFg6aCxzdHJldGNoWTp1LGNvbnRlbnQ6ZH07fWkobnVsbCx0KTt9fXJldHVybiB7Y2FuY2VsKCl7YSYmKGEuY2FuY2VsKCksYT1udWxsKSxsJiYobC5jYW5jZWwoKSxsPW51bGwpO319fShlLHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlciwoKGUsdCk9PntpZih0aGlzLl9zcHJpdGVSZXF1ZXN0PW51bGwsZSl0aGlzLmZpcmUobmV3IFN0KGUpKTtlbHNlIGlmKHQpZm9yKGNvbnN0IGUgaW4gdCl0aGlzLmltYWdlTWFuYWdlci5hZGRJbWFnZShlLHRoaXMuc2NvcGUsdFtlXSk7dGhpcy5pbWFnZU1hbmFnZXIuc2V0TG9hZGVkKCEwLHRoaXMuc2NvcGUpLHRoaXMuX2F2YWlsYWJsZUltYWdlcz10aGlzLmltYWdlTWFuYWdlci5saXN0SW1hZ2VzKHRoaXMuc2NvcGUpLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzZXRJbWFnZXNcIix7c2NvcGU6dGhpcy5zY29wZSxpbWFnZXM6dGhpcy5fYXZhaWxhYmxlSW1hZ2VzfSksdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInNwcml0ZUxvYWRlZFwiLHtzY29wZTp0aGlzLnNjb3BlLGlzTG9hZGVkOiEwfSksdGhpcy5maXJlKG5ldyBBdChcImRhdGFcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpO30pKTt9X3ZhbGlkYXRlTGF5ZXIoZSl7Y29uc3QgdD10aGlzLmdldE93blNvdXJjZShlLnNvdXJjZSk7aWYoIXQpcmV0dXJuO2NvbnN0IGk9ZS5zb3VyY2VMYXllcjtpJiYoXCJnZW9qc29uXCI9PT10LnR5cGV8fHQudmVjdG9yTGF5ZXJJZHMmJi0xPT09dC52ZWN0b3JMYXllcklkcy5pbmRleE9mKGkpKSYmdGhpcy5maXJlKG5ldyBTdChuZXcgRXJyb3IoYFNvdXJjZSBsYXllciBcIiR7aX1cIiBkb2VzIG5vdCBleGlzdCBvbiBzb3VyY2UgXCIke3QuaWR9XCIgYXMgc3BlY2lmaWVkIGJ5IHN0eWxlIGxheWVyIFwiJHtlLmlkfVwiYCkpKTt9bG9hZGVkKCl7aWYoIXRoaXMuX2xvYWRlZClyZXR1cm4gITE7aWYoT2JqZWN0LmtleXModGhpcy5fY2hhbmdlcy51cGRhdGVkU291cmNlQ2FjaGVzKS5sZW5ndGgpcmV0dXJuICExO2Zvcihjb25zdCBlIGluIHRoaXMuX3NvdXJjZUNhY2hlcylpZighdGhpcy5fc291cmNlQ2FjaGVzW2VdLmxvYWRlZCgpKXJldHVybiAhMTtpZighdGhpcy5pbWFnZU1hbmFnZXIuaXNMb2FkZWQoKSlyZXR1cm4gITE7aWYoIXRoaXMubW9kZWxNYW5hZ2VyLmlzTG9hZGVkKCkpcmV0dXJuICExO2Zvcihjb25zdHtzdHlsZTplfW9mIHRoaXMuZnJhZ21lbnRzKWlmKCFlLmxvYWRlZCgpKXJldHVybiAhMTtyZXR1cm4gITB9X3NlcmlhbGl6ZUltcG9ydHMoKXtpZih0aGlzLnN0eWxlc2hlZXQuaW1wb3J0cylyZXR1cm4gdGhpcy5zdHlsZXNoZWV0LmltcG9ydHMubWFwKCgoZSx0KT0+e2NvbnN0IGk9dGhpcy5mcmFnbWVudHNbdF07cmV0dXJuIGkmJmkuc3R5bGUmJihlLmRhdGE9aS5zdHlsZS5zZXJpYWxpemUoKSksZX0pKX1fc2VyaWFsaXplU291cmNlcygpe2NvbnN0IGU9e307Zm9yKGNvbnN0IHQgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXtjb25zdCBpPXRoaXMuX3NvdXJjZUNhY2hlc1t0XS5nZXRTb3VyY2UoKTtlW2kuaWRdfHwoZVtpLmlkXT1pLnNlcmlhbGl6ZSgpKTt9cmV0dXJuIGV9X3NlcmlhbGl6ZUxheWVycyhlKXtjb25zdCB0PVtdO2Zvcihjb25zdCBpIG9mIGUpe2NvbnN0IGU9dGhpcy5fbGF5ZXJzW2ldO2UmJlwiY3VzdG9tXCIhPT1lLnR5cGUmJnQucHVzaChlLnNlcmlhbGl6ZSgpKTt9cmV0dXJuIHR9aGFzTGlnaHRUcmFuc2l0aW9ucygpe3JldHVybiAhKCF0aGlzLmxpZ2h0fHwhdGhpcy5saWdodC5oYXNUcmFuc2l0aW9uKCkpfHwhKCF0aGlzLmFtYmllbnRMaWdodHx8IXRoaXMuYW1iaWVudExpZ2h0Lmhhc1RyYW5zaXRpb24oKSl8fCEoIXRoaXMuZGlyZWN0aW9uYWxMaWdodHx8IXRoaXMuZGlyZWN0aW9uYWxMaWdodC5oYXNUcmFuc2l0aW9uKCkpfWhhc0ZvZ1RyYW5zaXRpb24oKXtyZXR1cm4gISF0aGlzLmZvZyYmdGhpcy5mb2cuaGFzVHJhbnNpdGlvbigpfWhhc1RyYW5zaXRpb25zKCl7aWYodGhpcy5oYXNMaWdodFRyYW5zaXRpb25zKCkpcmV0dXJuICEwO2lmKHRoaXMuaGFzRm9nVHJhbnNpdGlvbigpKXJldHVybiAhMDtmb3IoY29uc3QgZSBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpaWYodGhpcy5fc291cmNlQ2FjaGVzW2VdLmhhc1RyYW5zaXRpb24oKSlyZXR1cm4gITA7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fbGF5ZXJzKWlmKHRoaXMuX2xheWVyc1tlXS5oYXNUcmFuc2l0aW9uKCkpcmV0dXJuICEwO3JldHVybiAhMX1nZXQgb3JkZXIoKXtyZXR1cm4gdGhpcy50ZXJyYWluP3RoaXMuX2RyYXBlZEZpcnN0T3JkZXI6dGhpcy5fbWVyZ2VkT3JkZXJ9aXNMYXllckRyYXBlZChlKXtyZXR1cm4gISF0aGlzLnRlcnJhaW4mJihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmlzTGF5ZXJEcmFwZWQ/ZS5pc0xheWVyRHJhcGVkKHRoaXMuZ2V0TGF5ZXJTb3VyY2VDYWNoZShlKSk6WkEuaGFzKGUudHlwZSkpfV9jaGVja0xvYWRlZCgpe2lmKCF0aGlzLl9sb2FkZWQpdGhyb3cgbmV3IEVycm9yKFwiU3R5bGUgaXMgbm90IGRvbmUgbG9hZGluZ1wiKX1fY2hlY2tMYXllcihlKXtjb25zdCB0PXRoaXMuZ2V0T3duTGF5ZXIoZSk7aWYodClyZXR1cm4gdDt0aGlzLmZpcmUobmV3IFN0KG5ldyBFcnJvcihgVGhlIGxheWVyICcke2V9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUuYCkpKTt9X2NoZWNrU291cmNlKGUpe2NvbnN0IHQ9dGhpcy5nZXRPd25Tb3VyY2UoZSk7aWYodClyZXR1cm4gdDt0aGlzLmZpcmUobmV3IFN0KG5ldyBFcnJvcihgVGhlIHNvdXJjZSAnJHtlfScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlLmApKSk7fXVwZGF0ZShlKXtpZighdGhpcy5fbG9hZGVkKXJldHVybjt0aGlzLmFtYmllbnRMaWdodCYmdGhpcy5hbWJpZW50TGlnaHQucmVjYWxjdWxhdGUoZSksdGhpcy5kaXJlY3Rpb25hbExpZ2h0JiZ0aGlzLmRpcmVjdGlvbmFsTGlnaHQucmVjYWxjdWxhdGUoZSk7Y29uc3QgdD10aGlzLmNhbGN1bGF0ZUxpZ2h0c0JyaWdodG5lc3MoKTtlLmJyaWdodG5lc3M9dHx8MCx0IT09dGhpcy5fYnJpZ2h0bmVzcyYmKHRoaXMuX2JyaWdodG5lc3M9dCx0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwic2V0QnJpZ2h0bmVzc1wiLHQpKTtjb25zdCBpPXRoaXMuX2NoYW5nZXMuY2hhbmdlZDtpZih0aGlzLl9jaGFuZ2VzLmNoYW5nZWQpe2NvbnN0IHQ9dGhpcy5fY2hhbmdlcy5nZXRMYXllclVwZGF0ZXNCeVNjb3BlKCk7Zm9yKGNvbnN0IGUgaW4gdCl7Y29uc3R7dXBkYXRlZElkczppLHJlbW92ZWRJZHM6cn09dFtlXTsoaXx8cikmJnRoaXMuX3VwZGF0ZVdvcmtlckxheWVycyhlLGkscik7fXRoaXMudXBkYXRlU291cmNlQ2FjaGVzKCksdGhpcy5fdXBkYXRlVGlsZXNGb3JDaGFuZ2VkSW1hZ2VzKCksdGhpcy51cGRhdGVMYXllcnMoZSksdGhpcy5saWdodCYmdGhpcy5saWdodC51cGRhdGVUcmFuc2l0aW9ucyhlKSx0aGlzLmFtYmllbnRMaWdodCYmdGhpcy5hbWJpZW50TGlnaHQudXBkYXRlVHJhbnNpdGlvbnMoZSksdGhpcy5kaXJlY3Rpb25hbExpZ2h0JiZ0aGlzLmRpcmVjdGlvbmFsTGlnaHQudXBkYXRlVHJhbnNpdGlvbnMoZSksdGhpcy5mb2cmJnRoaXMuZm9nLnVwZGF0ZVRyYW5zaXRpb25zKGUpLHRoaXMuX2NoYW5nZXMucmVzZXQoKTt9Y29uc3Qgcj17fTtmb3IoY29uc3QgZSBpbiB0aGlzLl9tZXJnZWRTb3VyY2VDYWNoZXMpe2NvbnN0IHQ9dGhpcy5fbWVyZ2VkU291cmNlQ2FjaGVzW2VdO3JbZV09dC51c2VkLHQudXNlZD0hMTt9Zm9yKGNvbnN0IHQgb2YgdGhpcy5fbWVyZ2VkT3JkZXIpe2NvbnN0IGk9dGhpcy5fbWVyZ2VkTGF5ZXJzW3RdO2lmKGkucmVjYWxjdWxhdGUoZSx0aGlzLl9hdmFpbGFibGVJbWFnZXMpLCFpLmlzSGlkZGVuKGUuem9vbSkpe2NvbnN0IGU9dGhpcy5nZXRPd25MYXllclNvdXJjZUNhY2hlKGkpO2UmJihlLnVzZWQ9ITApO31pZighdGhpcy5fcHJlY29tcGlsZURvbmUmJnRoaXMuX3Nob3VsZFByZWNvbXBpbGUpZm9yKGxldCB0PWkubWluem9vbXx8MDt0PChpLm1heHpvb218fDI1LjUpO3QrKyl7Y29uc3QgdD10aGlzLm1hcC5wYWludGVyO2lmKHQpe2NvbnN0IHI9aS5nZXRQcm9ncmFtSWRzKCk7aWYoIXIpY29udGludWU7Zm9yKGNvbnN0IG4gb2Ygcil7Y29uc3Qgcj1pLmdldERlZmF1bHRQcm9ncmFtUGFyYW1zKG4sZS56b29tKTtyJiYodC5zdHlsZT10aGlzLHRoaXMuZm9nJiYodC5fZm9nVmlzaWJsZT0hMCxyLm92ZXJyaWRlRm9nPSEwLHQuZ2V0T3JDcmVhdGVQcm9ncmFtKG4scikpLHQuX2ZvZ1Zpc2libGU9ITEsci5vdmVycmlkZUZvZz0hMSx0LmdldE9yQ3JlYXRlUHJvZ3JhbShuLHIpLCh0aGlzLnN0eWxlc2hlZXQudGVycmFpbnx8dGhpcy5zdHlsZXNoZWV0LnByb2plY3Rpb24mJlwiZ2xvYmVcIj09PXRoaXMuc3R5bGVzaGVldC5wcm9qZWN0aW9uLm5hbWUpJiYoci5vdmVycmlkZVJ0dD0hMCx0LmdldE9yQ3JlYXRlUHJvZ3JhbShuLHIpKSk7fX19fXRoaXMuX3Nob3VsZFByZWNvbXBpbGUmJih0aGlzLl9wcmVjb21waWxlRG9uZT0hMCk7Zm9yKGNvbnN0IGUgaW4gcil7Y29uc3QgdD10aGlzLl9tZXJnZWRTb3VyY2VDYWNoZXNbZV07cltlXSE9PXQudXNlZCYmdC5nZXRTb3VyY2UoKS5maXJlKG5ldyBBdChcImRhdGFcIix7c291cmNlRGF0YVR5cGU6XCJ2aXNpYmlsaXR5XCIsZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VJZDp0LmdldFNvdXJjZSgpLmlkfSkpO310aGlzLmxpZ2h0JiZ0aGlzLmxpZ2h0LnJlY2FsY3VsYXRlKGUpLHRoaXMudGVycmFpbiYmdGhpcy50ZXJyYWluLnJlY2FsY3VsYXRlKGUpLHRoaXMuZm9nJiZ0aGlzLmZvZy5yZWNhbGN1bGF0ZShlKSx0aGlzLno9ZS56b29tLHRoaXMuX21hcmtlcnNOZWVkVXBkYXRlJiYodGhpcy5fdXBkYXRlTWFya2Vyc09wYWNpdHkoKSx0aGlzLl9tYXJrZXJzTmVlZFVwZGF0ZT0hMSksaSYmdGhpcy5maXJlKG5ldyBBdChcImRhdGFcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpO2Zvcihjb25zdHtzdHlsZTp0fW9mIHRoaXMuZnJhZ21lbnRzKXQudXBkYXRlKGUpO31fdXBkYXRlVGlsZXNGb3JDaGFuZ2VkSW1hZ2VzKCl7Y29uc3QgZT1BcnJheS5mcm9tKHRoaXMuX2NoYW5nZXMuY2hhbmdlZEltYWdlcy5rZXlzKCkpO2lmKGUubGVuZ3RoKXtmb3IoY29uc3QgdCBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpdGhpcy5fc291cmNlQ2FjaGVzW3RdLnJlbG9hZFRpbGVzRm9yRGVwZW5kZW5jaWVzKFtcImljb25zXCIsXCJwYXR0ZXJuc1wiXSxlKTt0aGlzLl9jaGFuZ2VzLmNoYW5nZWRJbWFnZXMuY2xlYXIoKTt9fV91cGRhdGVXb3JrZXJMYXllcnMoZSx0LGkpe2NvbnN0IHI9dGhpcy5nZXRGcmFnbWVudFN0eWxlKGUpO3RoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJ1cGRhdGVMYXllcnNcIix7bGF5ZXJzOnQ/ci5fc2VyaWFsaXplTGF5ZXJzKHQpOltdLHNjb3BlOmUscmVtb3ZlZElkczppfHxbXSxvcHRpb25zOnIub3B0aW9uc30pO31zZXRTdGF0ZShlKXtpZih0aGlzLl9jaGVja0xvYWRlZCgpLFVBKHRoaXMsaHMoZSkpKXJldHVybiAhMTsoZT0kKGUpKS5sYXllcnM9SVQoZS5sYXllcnMpO2NvbnN0IHQ9ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm4gW3tjb21tYW5kOkNULnNldFN0eWxlLGFyZ3M6W3RdfV07bGV0IGk9W107dHJ5e2lmKCF4KGUudmVyc2lvbix0LnZlcnNpb24pKXJldHVybiBbe2NvbW1hbmQ6Q1Quc2V0U3R5bGUsYXJnczpbdF19XTt4KGUuY2VudGVyLHQuY2VudGVyKXx8aS5wdXNoKHtjb21tYW5kOkNULnNldENlbnRlcixhcmdzOlt0LmNlbnRlcl19KSx4KGUuem9vbSx0Lnpvb20pfHxpLnB1c2goe2NvbW1hbmQ6Q1Quc2V0Wm9vbSxhcmdzOlt0Lnpvb21dfSkseChlLmJlYXJpbmcsdC5iZWFyaW5nKXx8aS5wdXNoKHtjb21tYW5kOkNULnNldEJlYXJpbmcsYXJnczpbdC5iZWFyaW5nXX0pLHgoZS5waXRjaCx0LnBpdGNoKXx8aS5wdXNoKHtjb21tYW5kOkNULnNldFBpdGNoLGFyZ3M6W3QucGl0Y2hdfSkseChlLnNwcml0ZSx0LnNwcml0ZSl8fGkucHVzaCh7Y29tbWFuZDpDVC5zZXRTcHJpdGUsYXJnczpbdC5zcHJpdGVdfSkseChlLmdseXBocyx0LmdseXBocyl8fGkucHVzaCh7Y29tbWFuZDpDVC5zZXRHbHlwaHMsYXJnczpbdC5nbHlwaHNdfSkseChlLnRyYW5zaXRpb24sdC50cmFuc2l0aW9uKXx8aS5wdXNoKHtjb21tYW5kOkNULnNldFRyYW5zaXRpb24sYXJnczpbdC50cmFuc2l0aW9uXX0pLHgoZS5saWdodCx0LmxpZ2h0KXx8aS5wdXNoKHtjb21tYW5kOkNULnNldExpZ2h0LGFyZ3M6W3QubGlnaHRdfSkseChlLmZvZyx0LmZvZyl8fGkucHVzaCh7Y29tbWFuZDpDVC5zZXRGb2csYXJnczpbdC5mb2ddfSkseChlLnByb2plY3Rpb24sdC5wcm9qZWN0aW9uKXx8aS5wdXNoKHtjb21tYW5kOkNULnNldFByb2plY3Rpb24sYXJnczpbdC5wcm9qZWN0aW9uXX0pLHgoZS5saWdodHMsdC5saWdodHMpfHxpLnB1c2goe2NvbW1hbmQ6Q1Quc2V0TGlnaHRzLGFyZ3M6W3QubGlnaHRzXX0pLHgoZS5jYW1lcmEsdC5jYW1lcmEpfHxpLnB1c2goe2NvbW1hbmQ6Q1Quc2V0Q2FtZXJhLGFyZ3M6W3QuY2FtZXJhXX0pO2NvbnN0IHI9e30sbj1bXTshZnVuY3Rpb24oZSx0LGkscil7bGV0IG47Zm9yKG4gaW4gdD10fHx7fSxlPWV8fHt9KWUuaGFzT3duUHJvcGVydHkobikmJih0Lmhhc093blByb3BlcnR5KG4pfHxEVChuLGkscikpO2ZvcihuIGluIHQpe2lmKCF0Lmhhc093blByb3BlcnR5KG4pKWNvbnRpbnVlO2NvbnN0IG89dFtuXTtlLmhhc093blByb3BlcnR5KG4pP3goZVtuXSxvKXx8KFwiZ2VvanNvblwiPT09ZVtuXS50eXBlJiZcImdlb2pzb25cIj09PW8udHlwZSYmUlQoZSx0LG4pP2kucHVzaCh7Y29tbWFuZDpDVC5zZXRHZW9KU09OU291cmNlRGF0YSxhcmdzOltuLG8uZGF0YV19KTpQVChuLHQsaSxyKSk6elQobix0LGkpO319KGUuc291cmNlcyx0LnNvdXJjZXMsbixyKTtjb25zdCBvPVtdO2UubGF5ZXJzJiZlLmxheWVycy5mb3JFYWNoKChlPT57ZS5zb3VyY2UmJnJbZS5zb3VyY2VdP2kucHVzaCh7Y29tbWFuZDpDVC5yZW1vdmVMYXllcixhcmdzOltlLmlkXX0pOm8ucHVzaChlKTt9KSk7bGV0IHM9ZS50ZXJyYWluO3MmJnJbcy5zb3VyY2VdJiYoaS5wdXNoKHtjb21tYW5kOkNULnNldFRlcnJhaW4sYXJnczpbdm9pZCAwXX0pLHM9dm9pZCAwKSxpPWkuY29uY2F0KG4pLHgocyx0LnRlcnJhaW4pfHxpLnB1c2goe2NvbW1hbmQ6Q1Quc2V0VGVycmFpbixhcmdzOlt0LnRlcnJhaW5dfSksZnVuY3Rpb24oZSx0LGkpe3Q9dHx8W107Y29uc3Qgcj0oZT1lfHxbXSkubWFwKGtUKSxuPXQubWFwKGtUKSxvPWUucmVkdWNlKE9ULHt9KSxzPXQucmVkdWNlKE9ULHt9KSxhPXIuc2xpY2UoKSxsPU9iamVjdC5jcmVhdGUobnVsbCk7bGV0IGMsaCx1LGQscCxmLG07Zm9yKGM9MCxoPTA7YzxyLmxlbmd0aDtjKyspdT1yW2NdLHMuaGFzT3duUHJvcGVydHkodSk/aCsrOihpLnB1c2goe2NvbW1hbmQ6Q1QucmVtb3ZlTGF5ZXIsYXJnczpbdV19KSxhLnNwbGljZShhLmluZGV4T2YodSxoKSwxKSk7Zm9yKGM9MCxoPTA7YzxuLmxlbmd0aDtjKyspdT1uW24ubGVuZ3RoLTEtY10sYVthLmxlbmd0aC0xLWNdIT09dSYmKG8uaGFzT3duUHJvcGVydHkodSk/KGkucHVzaCh7Y29tbWFuZDpDVC5yZW1vdmVMYXllcixhcmdzOlt1XX0pLGEuc3BsaWNlKGEubGFzdEluZGV4T2YodSxhLmxlbmd0aC1oKSwxKSk6aCsrLGY9YVthLmxlbmd0aC1jXSxpLnB1c2goe2NvbW1hbmQ6Q1QuYWRkTGF5ZXIsYXJnczpbc1t1XSxmXX0pLGEuc3BsaWNlKGEubGVuZ3RoLWMsMCx1KSxsW3VdPSEwKTtmb3IoYz0wO2M8bi5sZW5ndGg7YysrKWlmKHU9bltjXSxkPW9bdV0scD1zW3VdLCFsW3VdJiYheChkLHApKWlmKHgoZC5zb3VyY2UscC5zb3VyY2UpJiZ4KGRbXCJzb3VyY2UtbGF5ZXJcIl0scFtcInNvdXJjZS1sYXllclwiXSkmJngoZC50eXBlLHAudHlwZSkpe2ZvcihtIGluIExUKGQubGF5b3V0LHAubGF5b3V0LGksdSxudWxsLENULnNldExheW91dFByb3BlcnR5KSxMVChkLnBhaW50LHAucGFpbnQsaSx1LG51bGwsQ1Quc2V0UGFpbnRQcm9wZXJ0eSkseChkLnNsb3QscC5zbG90KXx8aS5wdXNoKHtjb21tYW5kOkNULnNldFNsb3QsYXJnczpbdSxwLnNsb3RdfSkseChkLmZpbHRlcixwLmZpbHRlcil8fGkucHVzaCh7Y29tbWFuZDpDVC5zZXRGaWx0ZXIsYXJnczpbdSxwLmZpbHRlcl19KSx4KGQubWluem9vbSxwLm1pbnpvb20pJiZ4KGQubWF4em9vbSxwLm1heHpvb20pfHxpLnB1c2goe2NvbW1hbmQ6Q1Quc2V0TGF5ZXJab29tUmFuZ2UsYXJnczpbdSxwLm1pbnpvb20scC5tYXh6b29tXX0pLGQpZC5oYXNPd25Qcm9wZXJ0eShtKSYmXCJsYXlvdXRcIiE9PW0mJlwicGFpbnRcIiE9PW0mJlwiZmlsdGVyXCIhPT1tJiZcIm1ldGFkYXRhXCIhPT1tJiZcIm1pbnpvb21cIiE9PW0mJlwibWF4em9vbVwiIT09bSYmXCJzbG90XCIhPT1tJiYoMD09PW0uaW5kZXhPZihcInBhaW50LlwiKT9MVChkW21dLHBbbV0saSx1LG0uc2xpY2UoNiksQ1Quc2V0UGFpbnRQcm9wZXJ0eSk6eChkW21dLHBbbV0pfHxpLnB1c2goe2NvbW1hbmQ6Q1Quc2V0TGF5ZXJQcm9wZXJ0eSxhcmdzOlt1LG0scFttXV19KSk7Zm9yKG0gaW4gcClwLmhhc093blByb3BlcnR5KG0pJiYhZC5oYXNPd25Qcm9wZXJ0eShtKSYmXCJsYXlvdXRcIiE9PW0mJlwicGFpbnRcIiE9PW0mJlwiZmlsdGVyXCIhPT1tJiZcIm1ldGFkYXRhXCIhPT1tJiZcIm1pbnpvb21cIiE9PW0mJlwibWF4em9vbVwiIT09bSYmXCJzbG90XCIhPT1tJiYoMD09PW0uaW5kZXhPZihcInBhaW50LlwiKT9MVChkW21dLHBbbV0saSx1LG0uc2xpY2UoNiksQ1Quc2V0UGFpbnRQcm9wZXJ0eSk6eChkW21dLHBbbV0pfHxpLnB1c2goe2NvbW1hbmQ6Q1Quc2V0TGF5ZXJQcm9wZXJ0eSxhcmdzOlt1LG0scFttXV19KSk7fWVsc2UgaS5wdXNoKHtjb21tYW5kOkNULnJlbW92ZUxheWVyLGFyZ3M6W3VdfSksZj1hW2EubGFzdEluZGV4T2YodSkrMV0saS5wdXNoKHtjb21tYW5kOkNULmFkZExheWVyLGFyZ3M6W3AsZl19KTt9KG8sdC5sYXllcnMsaSksZnVuY3Rpb24oZT1bXSx0PVtdLGkpe3Q9dHx8W107Y29uc3Qgcj0oZT1lfHxbXSkubWFwKGtUKSxuPXQubWFwKGtUKSxvPWUucmVkdWNlKE9ULHt9KSxzPXQucmVkdWNlKE9ULHt9KSxhPXIuc2xpY2UoKTtsZXQgbCxjLGgsdTtmb3IobD0wLGM9MDtsPHIubGVuZ3RoO2wrKyloPXJbbF0scy5oYXNPd25Qcm9wZXJ0eShoKT9jKys6KGkucHVzaCh7Y29tbWFuZDpDVC5yZW1vdmVJbXBvcnQsYXJnczpbaF19KSxhLnNwbGljZShhLmluZGV4T2YoaCxjKSwxKSk7Zm9yKGw9MCxjPTA7bDxuLmxlbmd0aDtsKyspaD1uW24ubGVuZ3RoLTEtbF0sYVthLmxlbmd0aC0xLWxdIT09aCYmKG8uaGFzT3duUHJvcGVydHkoaCk/KGkucHVzaCh7Y29tbWFuZDpDVC5yZW1vdmVJbXBvcnQsYXJnczpbaF19KSxhLnNwbGljZShhLmxhc3RJbmRleE9mKGgsYS5sZW5ndGgtYyksMSkpOmMrKyx1PWFbYS5sZW5ndGgtbF0saS5wdXNoKHtjb21tYW5kOkNULmFkZEltcG9ydCxhcmdzOltzW2hdLHVdfSksYS5zcGxpY2UoYS5sZW5ndGgtbCwwLGgpKTtmb3IoY29uc3QgZSBvZiB0KXtjb25zdCB0PW9bZS5pZF07aWYoIXR8fHgodCxlKSljb250aW51ZTt4KHQuY29uZmlnLGUuY29uZmlnKXx8aS5wdXNoKHtjb21tYW5kOkNULnNldEltcG9ydENvbmZpZyxhcmdzOltlLmlkLGUuY29uZmlnXX0pLHgodC51cmwsZS51cmwpfHxpLnB1c2goe2NvbW1hbmQ6Q1Quc2V0SW1wb3J0VXJsLGFyZ3M6W2UuaWQsZS51cmxdfSk7Y29uc3Qgcj1lLmRhdGE7eCh0JiZ0LmRhdGEscil8fGkucHVzaCh7Y29tbWFuZDpDVC5zZXRJbXBvcnREYXRhLGFyZ3M6W2UuaWQscl19KTt9fShlLmltcG9ydHMsdC5pbXBvcnRzLGkpO31jYXRjaChlKXtjb25zb2xlLndhcm4oXCJVbmFibGUgdG8gY29tcHV0ZSBzdHlsZSBkaWZmOlwiLGUpLGk9W3tjb21tYW5kOkNULnNldFN0eWxlLGFyZ3M6W3RdfV07fXJldHVybiBpfSh0aGlzLnNlcmlhbGl6ZSgpLGUpLmZpbHRlcigoZT0+IShlLmNvbW1hbmQgaW4gakEpKSk7aWYoMD09PXQubGVuZ3RoKXJldHVybiAhMTtjb25zdCBpPXQuZmlsdGVyKChlPT4hKGUuY29tbWFuZCBpbiBWQSkpKTtpZihpLmxlbmd0aD4wKXRocm93IG5ldyBFcnJvcihgVW5pbXBsZW1lbnRlZDogJHtpLm1hcCgoZT0+ZS5jb21tYW5kKSkuam9pbihcIiwgXCIpfS5gKTtyZXR1cm4gdC5mb3JFYWNoKChlPT57dGhpc1tlLmNvbW1hbmRdLmFwcGx5KHRoaXMsZS5hcmdzKTt9KSksdGhpcy5zdHlsZXNoZWV0PWUsdGhpcy5tZXJnZUFsbCgpLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzZXRMYXllcnNcIix7bGF5ZXJzOnRoaXMuX3NlcmlhbGl6ZUxheWVycyh0aGlzLl9vcmRlciksc2NvcGU6dGhpcy5zY29wZSxvcHRpb25zOnRoaXMub3B0aW9uc30pLCEwfWFkZEltYWdlKGUsdCl7cmV0dXJuIHRoaXMuZ2V0SW1hZ2UoZSk/dGhpcy5maXJlKG5ldyBTdChuZXcgRXJyb3IoXCJBbiBpbWFnZSB3aXRoIHRoaXMgbmFtZSBhbHJlYWR5IGV4aXN0cy5cIikpKToodGhpcy5pbWFnZU1hbmFnZXIuYWRkSW1hZ2UoZSx0aGlzLnNjb3BlLHQpLHRoaXMuX2FmdGVySW1hZ2VVcGRhdGVkKGUpLHRoaXMpfXVwZGF0ZUltYWdlKGUsdCl7dGhpcy5pbWFnZU1hbmFnZXIudXBkYXRlSW1hZ2UoZSx0aGlzLnNjb3BlLHQpO31nZXRJbWFnZShlKXtyZXR1cm4gdGhpcy5pbWFnZU1hbmFnZXIuZ2V0SW1hZ2UoZSx0aGlzLnNjb3BlKX1yZW1vdmVJbWFnZShlKXtyZXR1cm4gdGhpcy5nZXRJbWFnZShlKT8odGhpcy5pbWFnZU1hbmFnZXIucmVtb3ZlSW1hZ2UoZSx0aGlzLnNjb3BlKSx0aGlzLl9hZnRlckltYWdlVXBkYXRlZChlKSx0aGlzKTp0aGlzLmZpcmUobmV3IFN0KG5ldyBFcnJvcihcIk5vIGltYWdlIHdpdGggdGhpcyBuYW1lIGV4aXN0cy5cIikpKX1fYWZ0ZXJJbWFnZVVwZGF0ZWQoZSl7dGhpcy5fYXZhaWxhYmxlSW1hZ2VzPXRoaXMuaW1hZ2VNYW5hZ2VyLmxpc3RJbWFnZXModGhpcy5zY29wZSksdGhpcy5fY2hhbmdlcy5jaGFuZ2VkSW1hZ2VzLmFkZChlKSx0aGlzLl9jaGFuZ2VzLmNoYW5nZWQ9ITAsdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInNldEltYWdlc1wiLHtzY29wZTp0aGlzLnNjb3BlLGltYWdlczp0aGlzLl9hdmFpbGFibGVJbWFnZXN9KSx0aGlzLmZpcmUobmV3IEF0KFwiZGF0YVwiLHtkYXRhVHlwZTpcInN0eWxlXCJ9KSk7fWxpc3RJbWFnZXMoKXtyZXR1cm4gdGhpcy5fY2hlY2tMb2FkZWQoKSx0aGlzLl9hdmFpbGFibGVJbWFnZXMuc2xpY2UoKX1hZGRNb2RlbChlLHQsaT17fSl7cmV0dXJuIHRoaXMuX2NoZWNrTG9hZGVkKCksdGhpcy5fdmFsaWRhdGUodnMsYG1vZGVscy4ke2V9YCx0LG51bGwsaSl8fCh0aGlzLm1vZGVsTWFuYWdlci5hZGRNb2RlbChlLHQsdGhpcy5zY29wZSksdGhpcy5fY2hhbmdlcy5jaGFuZ2VkPSEwKSx0aGlzfWhhc01vZGVsKGUpe3JldHVybiB0aGlzLm1vZGVsTWFuYWdlci5oYXNNb2RlbChlLHRoaXMuc2NvcGUpfXJlbW92ZU1vZGVsKGUpe3JldHVybiB0aGlzLmhhc01vZGVsKGUpPyh0aGlzLm1vZGVsTWFuYWdlci5yZW1vdmVNb2RlbChlLHRoaXMuc2NvcGUpLHRoaXMpOnRoaXMuZmlyZShuZXcgU3QobmV3IEVycm9yKFwiTm8gbW9kZWwgd2l0aCB0aGlzIElEIGV4aXN0cy5cIikpKX1saXN0TW9kZWxzKCl7cmV0dXJuIHRoaXMuX2NoZWNrTG9hZGVkKCksdGhpcy5tb2RlbE1hbmFnZXIubGlzdE1vZGVscyh0aGlzLnNjb3BlKX1hZGRTb3VyY2UoZSx0LGk9e30pe2lmKHRoaXMuX2NoZWNrTG9hZGVkKCksdm9pZCAwIT09dGhpcy5nZXRPd25Tb3VyY2UoZSkpdGhyb3cgbmV3IEVycm9yKGBUaGVyZSBpcyBhbHJlYWR5IGEgc291cmNlIHdpdGggSUQgXCIke2V9XCIuYCk7aWYoIXQudHlwZSl0aHJvdyBuZXcgRXJyb3IoYFRoZSB0eXBlIHByb3BlcnR5IG11c3QgYmUgZGVmaW5lZCwgYnV0IG9ubHkgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIHdlcmUgZ2l2ZW46ICR7T2JqZWN0LmtleXModCkuam9pbihcIiwgXCIpfS5gKTtpZihbXCJ2ZWN0b3JcIixcInJhc3RlclwiLFwiZ2VvanNvblwiLFwidmlkZW9cIixcImltYWdlXCJdLmluZGV4T2YodC50eXBlKT49MCYmdGhpcy5fdmFsaWRhdGUodXMsYHNvdXJjZXMuJHtlfWAsdCxudWxsLGkpKXJldHVybjt0aGlzLm1hcCYmdGhpcy5tYXAuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyYmKHQuY29sbGVjdFJlc291cmNlVGltaW5nPSEwKTtjb25zdCByPXZUKGUsdCx0aGlzLmRpc3BhdGNoZXIsdGhpcyk7ci5zY29wZT10aGlzLnNjb3BlLHIuc2V0RXZlbnRlZFBhcmVudCh0aGlzLCgoKT0+KHtpc1NvdXJjZUxvYWRlZDp0aGlzLl9pc1NvdXJjZUNhY2hlTG9hZGVkKHIuaWQpLHNvdXJjZTpyLnNlcmlhbGl6ZSgpLHNvdXJjZUlkOnIuaWR9KSkpO2NvbnN0IG49ZT0+e2NvbnN0IHQ9KGU/XCJzeW1ib2w6XCI6XCJvdGhlcjpcIikrci5pZCxpPXBhKHQsdGhpcy5zY29wZSksbj10aGlzLl9zb3VyY2VDYWNoZXNbdF09bmV3IEF4KGkscixlKTsoZT90aGlzLl9zeW1ib2xTb3VyY2VDYWNoZXM6dGhpcy5fb3RoZXJTb3VyY2VDYWNoZXMpW3IuaWRdPW4sbi5vbkFkZCh0aGlzLm1hcCk7fTtuKCExKSxcInZlY3RvclwiIT09dC50eXBlJiZcImdlb2pzb25cIiE9PXQudHlwZXx8bighMCksci5vbkFkZCYmci5vbkFkZCh0aGlzLm1hcCksdGhpcy5tZXJnZVNvdXJjZXMoKSx0aGlzLl9jaGFuZ2VzLmNoYW5nZWQ9ITA7fXJlbW92ZVNvdXJjZShlKXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IHQ9dGhpcy5nZXRPd25Tb3VyY2UoZSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiVGhlcmUgaXMgbm8gc291cmNlIHdpdGggdGhpcyBJRFwiKTtmb3IoY29uc3QgdCBpbiB0aGlzLl9sYXllcnMpaWYodGhpcy5fbGF5ZXJzW3RdLnNvdXJjZT09PWUpcmV0dXJuIHRoaXMuZmlyZShuZXcgU3QobmV3IEVycm9yKGBTb3VyY2UgXCIke2V9XCIgY2Fubm90IGJlIHJlbW92ZWQgd2hpbGUgbGF5ZXIgXCIke3R9XCIgaXMgdXNpbmcgaXQuYCkpKTtpZih0aGlzLnRlcnJhaW4mJnRoaXMudGVycmFpbi5nZXQoKS5zb3VyY2U9PT1lKXJldHVybiB0aGlzLmZpcmUobmV3IFN0KG5ldyBFcnJvcihgU291cmNlIFwiJHtlfVwiIGNhbm5vdCBiZSByZW1vdmVkIHdoaWxlIHRlcnJhaW4gaXMgdXNpbmcgaXQuYCkpKTtjb25zdCBpPXRoaXMuZ2V0T3duU291cmNlQ2FjaGVzKGUpO2Zvcihjb25zdCBlIG9mIGkpe2NvbnN0IHQ9ZmEoZS5pZCk7ZGVsZXRlIHRoaXMuX3NvdXJjZUNhY2hlc1t0XSxkZWxldGUgdGhpcy5fY2hhbmdlcy51cGRhdGVkU291cmNlQ2FjaGVzW2UuaWRdLGUuZmlyZShuZXcgQXQoXCJkYXRhXCIse3NvdXJjZURhdGFUeXBlOlwibWV0YWRhdGFcIixkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZUlkOmUuZ2V0U291cmNlKCkuaWR9KSksZS5zZXRFdmVudGVkUGFyZW50KG51bGwpLGUuY2xlYXJUaWxlcygpO31yZXR1cm4gZGVsZXRlIHRoaXMuX290aGVyU291cmNlQ2FjaGVzW2VdLGRlbGV0ZSB0aGlzLl9zeW1ib2xTb3VyY2VDYWNoZXNbZV0sdGhpcy5tZXJnZVNvdXJjZXMoKSx0LnNldEV2ZW50ZWRQYXJlbnQobnVsbCksdC5vblJlbW92ZSYmdC5vblJlbW92ZSh0aGlzLm1hcCksdGhpcy5fY2hhbmdlcy5jaGFuZ2VkPSEwLHRoaXN9c2V0R2VvSlNPTlNvdXJjZURhdGEoZSx0KXt0aGlzLl9jaGVja0xvYWRlZCgpLHRoaXMuZ2V0T3duU291cmNlKGUpLnNldERhdGEodCksdGhpcy5fY2hhbmdlcy5jaGFuZ2VkPSEwO31nZXRPd25Tb3VyY2UoZSl7Y29uc3QgdD10aGlzLmdldE93blNvdXJjZUNhY2hlKGUpO3JldHVybiB0JiZ0LmdldFNvdXJjZSgpfWdldE93blNvdXJjZXMoKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IGluIHRoaXMuX290aGVyU291cmNlQ2FjaGVzKXtjb25zdCBpPXRoaXMuZ2V0T3duU291cmNlQ2FjaGUodCk7aSYmZS5wdXNoKGkuZ2V0U291cmNlKCkpO31yZXR1cm4gZX1zZXRMaWdodHMoZSl7aWYodGhpcy5fY2hlY2tMb2FkZWQoKSwhZSlyZXR1cm4gZGVsZXRlIHRoaXMuYW1iaWVudExpZ2h0LHZvaWQgZGVsZXRlIHRoaXMuZGlyZWN0aW9uYWxMaWdodDtjb25zdCB0PXRoaXMuX2dldFRyYW5zaXRpb25QYXJhbWV0ZXJzKCk7Zm9yKGNvbnN0IGkgb2YgZSl7aWYodGhpcy5fdmFsaWRhdGUocHMsXCJsaWdodHNcIixpKSlyZXR1cm47c3dpdGNoKGkudHlwZSl7Y2FzZVwiYW1iaWVudFwiOmlmKHRoaXMuYW1iaWVudExpZ2h0KXtjb25zdCBlPXRoaXMuYW1iaWVudExpZ2h0O2Uuc2V0KGkpLGUudXBkYXRlVHJhbnNpdGlvbnModCk7fWVsc2UgdGhpcy5hbWJpZW50TGlnaHQ9bmV3IGd3KGkseXcsdGhpcy5zY29wZSx0aGlzLm9wdGlvbnMpO2JyZWFrO2Nhc2VcImRpcmVjdGlvbmFsXCI6aWYodGhpcy5kaXJlY3Rpb25hbExpZ2h0KXtjb25zdCBlPXRoaXMuZGlyZWN0aW9uYWxMaWdodDtlLnNldChpKSxlLnVwZGF0ZVRyYW5zaXRpb25zKHQpO31lbHNlIHRoaXMuZGlyZWN0aW9uYWxMaWdodD1uZXcgZ3coaSx4dyx0aGlzLnNjb3BlLHRoaXMub3B0aW9ucyk7fX1jb25zdCBpPW5ldyBlYSh0aGlzLnp8fDAsdCk7dGhpcy5hbWJpZW50TGlnaHQmJnRoaXMuYW1iaWVudExpZ2h0LnJlY2FsY3VsYXRlKGkpLHRoaXMuZGlyZWN0aW9uYWxMaWdodCYmdGhpcy5kaXJlY3Rpb25hbExpZ2h0LnJlY2FsY3VsYXRlKGkpLHRoaXMuX2JyaWdodG5lc3M9dGhpcy5jYWxjdWxhdGVMaWdodHNCcmlnaHRuZXNzKCksdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInNldEJyaWdodG5lc3NcIix0aGlzLl9icmlnaHRuZXNzKTt9Y2FsY3VsYXRlTGlnaHRzQnJpZ2h0bmVzcygpe2NvbnN0IGU9dGhpcy5kaXJlY3Rpb25hbExpZ2h0LHQ9dGhpcy5hbWJpZW50TGlnaHQ7aWYoIWV8fCF0KXJldHVybjtjb25zdCBpPWU9Pi4yMTI2KihlWzBdPD0uMDM5Mjg/ZVswXS8xMi45MjpNYXRoLnBvdygoZVswXSsuMDU1KS8xLjA1NSwyLjQpKSsuNzE1MiooZVsxXTw9LjAzOTI4P2VbMV0vMTIuOTI6TWF0aC5wb3coKGVbMV0rLjA1NSkvMS4wNTUsMi40KSkrLjA3MjIqKGVbMl08PS4wMzkyOD9lWzJdLzEyLjkyOk1hdGgucG93KChlWzJdKy4wNTUpLzEuMDU1LDIuNCkpLHI9ZS5wcm9wZXJ0aWVzLmdldChcImNvbG9yXCIpLnRvQXJyYXkwMSgpLG49ZS5wcm9wZXJ0aWVzLmdldChcImludGVuc2l0eVwiKSxvPWUucHJvcGVydGllcy5nZXQoXCJkaXJlY3Rpb25cIikscz0xLUooby54LG8ueSxvLnopWzJdLzkwLGE9aShyKSpuKnMsbD10LnByb3BlcnRpZXMuZ2V0KFwiY29sb3JcIikudG9BcnJheTAxKCksYz10LnByb3BlcnRpZXMuZ2V0KFwiaW50ZW5zaXR5XCIpO3JldHVybiAoYStpKGwpKmMpLzJ9Z2V0QnJpZ2h0bmVzcygpe3JldHVybiB0aGlzLl9icmlnaHRuZXNzfWdldExpZ2h0cygpe2lmKCF0aGlzLmVuYWJsZTNkTGlnaHRzKCkpcmV0dXJuIG51bGw7Y29uc3QgZT1bXTtyZXR1cm4gdGhpcy5kaXJlY3Rpb25hbExpZ2h0JiZlLnB1c2godGhpcy5kaXJlY3Rpb25hbExpZ2h0LmdldCgpKSx0aGlzLmFtYmllbnRMaWdodCYmZS5wdXNoKHRoaXMuYW1iaWVudExpZ2h0LmdldCgpKSxlfWVuYWJsZTNkTGlnaHRzKCl7cmV0dXJuICEhdGhpcy5hbWJpZW50TGlnaHQmJiEhdGhpcy5kaXJlY3Rpb25hbExpZ2h0fWdldEZyYWdtZW50U3R5bGUoZSl7aWYoIWUpcmV0dXJuIHRoaXM7Y29uc3QgdD10aGlzLmZyYWdtZW50cy5maW5kKCgoe2lkOnR9KT0+dD09PWUpKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoYFN0eWxlIGltcG9ydCBub3QgZm91bmQ6ICR7ZX1gKTtyZXR1cm4gdC5zdHlsZX1zZXRDb25maWdQcm9wZXJ0eShlLHQsaSl7Y29uc3Qgcj14byhpKTtpZihcInN1Y2Nlc3NcIiE9PXIucmVzdWx0KXJldHVybiB2b2lkIFVBKHRoaXMsci52YWx1ZSk7Y29uc3Qgbj1yLnZhbHVlLmV4cHJlc3Npb24sbz10aGlzLmdldEZyYWdtZW50U3R5bGUoZSk7by5vcHRpb25zLnNldCh0LG4pLG8udXBkYXRlQ29uZmlnRGVwZW5kZW5jaWVzKCk7fXNldENvbmZpZyhlLHQpe2lmKHRoaXMub3B0aW9ucy5jbGVhcigpLGUpe2Zvcihjb25zdCB0IGluIGUpe2NvbnN0IGk9eG8oZVt0XSk7XCJzdWNjZXNzXCI9PT1pLnJlc3VsdCYmdGhpcy5vcHRpb25zLnNldCh0LGkudmFsdWUuZXhwcmVzc2lvbik7fXRoaXMudXBkYXRlU2NoZW1hKHQpO319dXBkYXRlU2NoZW1hKGUpe2lmKGUpZm9yKGNvbnN0IHQgaW4gZSl7aWYodGhpcy5vcHRpb25zLmhhcyh0KSljb250aW51ZTtjb25zdCBpPXhvKGVbdF0uZGVmYXVsdCk7XCJzdWNjZXNzXCI9PT1pLnJlc3VsdCYmdGhpcy5vcHRpb25zLnNldCh0LGkudmFsdWUuZXhwcmVzc2lvbik7fX11cGRhdGVDb25maWdEZXBlbmRlbmNpZXMoKXtmb3IoY29uc3QgZSBvZiB0aGlzLl9jb25maWdEZXBlbmRlbnRMYXllcnMpe2NvbnN0IHQ9dGhpcy5nZXRMYXllcihlKTt0JiYodC5wb3NzaWJseUV2YWx1YXRlVmlzaWJpbGl0eSgpLHRoaXMuX3VwZGF0ZUxheWVyKHQpKTt9dGhpcy5hbWJpZW50TGlnaHQmJnRoaXMuYW1iaWVudExpZ2h0LnNjb3BlPT09dGhpcy5zY29wZSYmdGhpcy5hbWJpZW50TGlnaHQudXBkYXRlQ29uZmlnKHRoaXMub3B0aW9ucyksdGhpcy5kaXJlY3Rpb25hbExpZ2h0JiZ0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2NvcGU9PT10aGlzLnNjb3BlJiZ0aGlzLmRpcmVjdGlvbmFsTGlnaHQudXBkYXRlQ29uZmlnKHRoaXMub3B0aW9ucyksdGhpcy5fY2hhbmdlcy5jaGFuZ2VkPSEwO31hZGRMYXllcihlLHQsaT17fSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCByPWUuaWQ7aWYodGhpcy5fbGF5ZXJzW3JdKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgU3QobmV3IEVycm9yKGBMYXllciB3aXRoIGlkIFwiJHtyfVwiIGFscmVhZHkgZXhpc3RzIG9uIHRoaXMgbWFwYCkpKTtsZXQgbjtpZihcImN1c3RvbVwiPT09ZS50eXBlKXtpZihVQSh0aGlzLGZ1bmN0aW9uKGUpe2NvbnN0IHQ9W10saT1lLmlkO3JldHVybiB2b2lkIDA9PT1pJiZ0LnB1c2goe21lc3NhZ2U6YGxheWVycy4ke2l9OiBtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwiaWRcImB9KSx2b2lkIDA9PT1lLnJlbmRlciYmdC5wdXNoKHttZXNzYWdlOmBsYXllcnMuJHtpfTogbWlzc2luZyByZXF1aXJlZCBtZXRob2QgXCJyZW5kZXJcImB9KSxlLnJlbmRlcmluZ01vZGUmJlwiMmRcIiE9PWUucmVuZGVyaW5nTW9kZSYmXCIzZFwiIT09ZS5yZW5kZXJpbmdNb2RlJiZ0LnB1c2goe21lc3NhZ2U6YGxheWVycy4ke2l9OiBwcm9wZXJ0eSBcInJlbmRlcmluZ01vZGVcIiBtdXN0IGJlIGVpdGhlciBcIjJkXCIgb3IgXCIzZFwiYH0pLHR9KGUpKSlyZXR1cm47bj1LYihlLHRoaXMub3B0aW9ucyk7fWVsc2Uge2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlLnNvdXJjZSYmKHRoaXMuYWRkU291cmNlKHIsZS5zb3VyY2UpLGU9ayhlPSQoZSkse3NvdXJjZTpyfSkpLHRoaXMuX3ZhbGlkYXRlKF9zLGBsYXllcnMuJHtyfWAsZSx7YXJyYXlJbmRleDotMX0saSkpcmV0dXJuO249S2IoZSx0aGlzLm9wdGlvbnMpLHRoaXMuX3ZhbGlkYXRlTGF5ZXIobiksbi5zZXRFdmVudGVkUGFyZW50KHRoaXMse2xheWVyOntpZDpyfX0pLHRoaXMuX3NlcmlhbGl6ZWRMYXllcnNbbi5pZF09bi5zZXJpYWxpemUoKTt9bi5pc0NvbmZpZ0RlcGVuZGVudCYmdGhpcy5fY29uZmlnRGVwZW5kZW50TGF5ZXJzLmFkZChuLmZxaWQpLG4uc2V0U2NvcGUodGhpcy5zY29wZSk7Y29uc3Qgbz10P3RoaXMuX29yZGVyLmluZGV4T2YodCk6dGhpcy5fb3JkZXIubGVuZ3RoO2lmKHQmJi0xPT09bylyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IFN0KG5ldyBFcnJvcihgTGF5ZXIgd2l0aCBpZCBcIiR7dH1cIiBkb2VzIG5vdCBleGlzdCBvbiB0aGlzIG1hcC5gKSkpO3RoaXMuX29yZGVyLnNwbGljZShvLDAsciksdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQ9ITAsdGhpcy5fbGF5ZXJzW3JdPW47Y29uc3Qgcz10aGlzLmdldE93bkxheWVyU291cmNlQ2FjaGUobiksYT0hIXRoaXMuZGlyZWN0aW9uYWxMaWdodCYmdGhpcy5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvd3NFbmFibGVkKCk7cyYmbi5jYW5DYXN0U2hhZG93cygpJiZhJiYocy5jYXN0c1NoYWRvd3M9ITApO2NvbnN0IGw9dGhpcy5fY2hhbmdlcy5nZXRSZW1vdmVkTGF5ZXIobik7aWYobCYmbi5zb3VyY2UmJnMmJlwiY3VzdG9tXCIhPT1uLnR5cGUpe3RoaXMuX2NoYW5nZXMuZGlzY2FyZExheWVyUmVtb3ZhbChuKTtjb25zdCBlPXBhKG4uc291cmNlLG4uc2NvcGUpO2wudHlwZSE9PW4udHlwZT90aGlzLl9jaGFuZ2VzLnVwZGF0ZWRTb3VyY2VDYWNoZXNbZV09XCJjbGVhclwiOih0aGlzLl9jaGFuZ2VzLnVwZGF0ZWRTb3VyY2VDYWNoZXNbZV09XCJyZWxvYWRcIixzLnBhdXNlKCkpO310aGlzLl91cGRhdGVMYXllcihuKSxuLm9uQWRkJiZuLm9uQWRkKHRoaXMubWFwKSxuLnNjb3BlPXRoaXMuc2NvcGUsdGhpcy5tZXJnZUxheWVycygpO31tb3ZlTGF5ZXIoZSx0KXtpZih0aGlzLl9jaGVja0xvYWRlZCgpLHRoaXMuX2NoYW5nZXMuY2hhbmdlZD0hMCwhdGhpcy5fY2hlY2tMYXllcihlKSlyZXR1cm47aWYoZT09PXQpcmV0dXJuO2NvbnN0IGk9dGhpcy5fb3JkZXIuaW5kZXhPZihlKTt0aGlzLl9vcmRlci5zcGxpY2UoaSwxKTtjb25zdCByPXQ/dGhpcy5fb3JkZXIuaW5kZXhPZih0KTp0aGlzLl9vcmRlci5sZW5ndGg7dCYmLTE9PT1yP3RoaXMuZmlyZShuZXcgU3QobmV3IEVycm9yKGBMYXllciB3aXRoIGlkIFwiJHt0fVwiIGRvZXMgbm90IGV4aXN0IG9uIHRoaXMgbWFwLmApKSk6KHRoaXMuX29yZGVyLnNwbGljZShyLDAsZSksdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQ9ITAsdGhpcy5tZXJnZUxheWVycygpKTt9cmVtb3ZlTGF5ZXIoZSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCB0PXRoaXMuX2NoZWNrTGF5ZXIoZSk7aWYoIXQpcmV0dXJuO3Quc2V0RXZlbnRlZFBhcmVudChudWxsKTtjb25zdCBpPXRoaXMuX29yZGVyLmluZGV4T2YoZSk7dGhpcy5fb3JkZXIuc3BsaWNlKGksMSksZGVsZXRlIHRoaXMuX2xheWVyc1tlXSxkZWxldGUgdGhpcy5fc2VyaWFsaXplZExheWVyc1tlXSx0aGlzLl9jaGFuZ2VzLmNoYW5nZWQ9ITAsdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQ9ITAsdGhpcy5fY29uZmlnRGVwZW5kZW50TGF5ZXJzLmRlbGV0ZSh0LmZxaWQpLHRoaXMuX2NoYW5nZXMucmVtb3ZlTGF5ZXIodCk7Y29uc3Qgcj10aGlzLmdldE93bkxheWVyU291cmNlQ2FjaGUodCk7aWYociYmci5jYXN0c1NoYWRvd3Mpe2xldCBlPSExO2Zvcihjb25zdCBpIGluIHRoaXMuX2xheWVycylpZih0aGlzLl9sYXllcnNbaV0uc291cmNlPT09dC5zb3VyY2UmJnRoaXMuX2xheWVyc1tpXS5jYW5DYXN0U2hhZG93cygpKXtlPSEwO2JyZWFrfXIuY2FzdHNTaGFkb3dzPWU7fXQub25SZW1vdmUmJnQub25SZW1vdmUodGhpcy5tYXApLHRoaXMubWVyZ2VMYXllcnMoKTt9Z2V0T3duTGF5ZXIoZSl7cmV0dXJuIHRoaXMuX2xheWVyc1tlXX1oYXNMYXllcihlKXtyZXR1cm4gZSBpbiB0aGlzLl9tZXJnZWRMYXllcnN9aGFzTGF5ZXJUeXBlKGUpe2Zvcihjb25zdCB0IGluIHRoaXMuX2xheWVycylpZih0aGlzLl9sYXllcnNbdF0udHlwZT09PWUpcmV0dXJuICEwO3JldHVybiAhMX1zZXRMYXllclpvb21SYW5nZShlLHQsaSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCByPXRoaXMuX2NoZWNrTGF5ZXIoZSk7ciYmKHIubWluem9vbT09PXQmJnIubWF4em9vbT09PWl8fChudWxsIT10JiYoci5taW56b29tPXQpLG51bGwhPWkmJihyLm1heHpvb209aSksdGhpcy5fdXBkYXRlTGF5ZXIocikpKTt9c2V0U2xvdChlLHQpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3QgaT10aGlzLl9jaGVja0xheWVyKGUpO2kmJmkuc2xvdCE9PXQmJihpLnNsb3Q9dCx0aGlzLl91cGRhdGVMYXllcihpKSk7fXNldEZpbHRlcihlLHQsaT17fSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCByPXRoaXMuX2NoZWNrTGF5ZXIoZSk7aWYociYmIXgoci5maWx0ZXIsdCkpcmV0dXJuIG51bGw9PXQ/KHIuZmlsdGVyPXZvaWQgMCx2b2lkIHRoaXMuX3VwZGF0ZUxheWVyKHIpKTp2b2lkKHRoaXMuX3ZhbGlkYXRlKGdzLGBsYXllcnMuJHtyLmlkfS5maWx0ZXJgLHQse2xheWVyVHlwZTpyLnR5cGV9LGkpfHwoci5maWx0ZXI9JCh0KSx0aGlzLl91cGRhdGVMYXllcihyKSkpfWdldEZpbHRlcihlKXtjb25zdCB0PXRoaXMuX2NoZWNrTGF5ZXIoZSk7aWYodClyZXR1cm4gJCh0LmZpbHRlcil9c2V0TGF5b3V0UHJvcGVydHkoZSx0LGkscj17fSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBuPXRoaXMuX2NoZWNrTGF5ZXIoZSk7biYmKHgobi5nZXRMYXlvdXRQcm9wZXJ0eSh0KSxpKXx8KG4uc2V0TGF5b3V0UHJvcGVydHkodCxpLHIpLG4uaXNDb25maWdEZXBlbmRlbnQmJnRoaXMuX2NvbmZpZ0RlcGVuZGVudExheWVycy5hZGQobi5mcWlkKSx0aGlzLl91cGRhdGVMYXllcihuKSkpO31nZXRMYXlvdXRQcm9wZXJ0eShlLHQpe2NvbnN0IGk9dGhpcy5fY2hlY2tMYXllcihlKTtpZihpKXJldHVybiBpLmdldExheW91dFByb3BlcnR5KHQpfXNldFBhaW50UHJvcGVydHkoZSx0LGkscj17fSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBuPXRoaXMuX2NoZWNrTGF5ZXIoZSk7aWYoIW4pcmV0dXJuO2lmKHgobi5nZXRQYWludFByb3BlcnR5KHQpLGkpKXJldHVybjtjb25zdCBvPW4uc2V0UGFpbnRQcm9wZXJ0eSh0LGkscik7bi5pc0NvbmZpZ0RlcGVuZGVudCYmdGhpcy5fY29uZmlnRGVwZW5kZW50TGF5ZXJzLmFkZChuLmZxaWQpLG8mJnRoaXMuX3VwZGF0ZUxheWVyKG4pLHRoaXMuX2NoYW5nZXMuY2hhbmdlZD0hMCx0aGlzLl9jaGFuZ2VzLnVwZGF0ZWRQYWludFByb3BzLmFkZChuLmZxaWQpO31nZXRQYWludFByb3BlcnR5KGUsdCl7Y29uc3QgaT10aGlzLl9jaGVja0xheWVyKGUpO2lmKGkpcmV0dXJuIGkuZ2V0UGFpbnRQcm9wZXJ0eSh0KX1zZXRGZWF0dXJlU3RhdGUoZSx0KXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IGk9ZS5zb3VyY2Uscj1lLnNvdXJjZUxheWVyLG49dGhpcy5fY2hlY2tTb3VyY2UoaSk7aWYoIW4pcmV0dXJuO2NvbnN0IG89bi50eXBlO2lmKFwiZ2VvanNvblwiPT09byYmcilyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IFN0KG5ldyBFcnJvcihcIkdlb0pTT04gc291cmNlcyBjYW5ub3QgaGF2ZSBhIHNvdXJjZUxheWVyIHBhcmFtZXRlci5cIikpKTtpZihcInZlY3RvclwiPT09byYmIXIpcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBTdChuZXcgRXJyb3IoXCJUaGUgc291cmNlTGF5ZXIgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQgZm9yIHZlY3RvciBzb3VyY2UgdHlwZXMuXCIpKSk7dm9pZCAwPT09ZS5pZCYmdGhpcy5maXJlKG5ldyBTdChuZXcgRXJyb3IoXCJUaGUgZmVhdHVyZSBpZCBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZC5cIikpKTtjb25zdCBzPXRoaXMuZ2V0T3duU291cmNlQ2FjaGVzKGkpO2Zvcihjb25zdCBpIG9mIHMpaS5zZXRGZWF0dXJlU3RhdGUocixlLmlkLHQpO31yZW1vdmVGZWF0dXJlU3RhdGUoZSx0KXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IGk9ZS5zb3VyY2Uscj10aGlzLl9jaGVja1NvdXJjZShpKTtpZighcilyZXR1cm47Y29uc3Qgbj1yLnR5cGUsbz1cInZlY3RvclwiPT09bj9lLnNvdXJjZUxheWVyOnZvaWQgMDtpZihcInZlY3RvclwiPT09biYmIW8pcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBTdChuZXcgRXJyb3IoXCJUaGUgc291cmNlTGF5ZXIgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQgZm9yIHZlY3RvciBzb3VyY2UgdHlwZXMuXCIpKSk7aWYodCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUuaWQmJlwibnVtYmVyXCIhPXR5cGVvZiBlLmlkKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgU3QobmV3IEVycm9yKFwiQSBmZWF0dXJlIGlkIGlzIHJlcXVpcmVkIHRvIHJlbW92ZSBpdHMgc3BlY2lmaWMgc3RhdGUgcHJvcGVydHkuXCIpKSk7Y29uc3Qgcz10aGlzLmdldE93blNvdXJjZUNhY2hlcyhpKTtmb3IoY29uc3QgaSBvZiBzKWkucmVtb3ZlRmVhdHVyZVN0YXRlKG8sZS5pZCx0KTt9Z2V0RmVhdHVyZVN0YXRlKGUpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3QgdD1lLnNvdXJjZSxpPWUuc291cmNlTGF5ZXIscj10aGlzLl9jaGVja1NvdXJjZSh0KTtpZihyKXtpZihcInZlY3RvclwiIT09ci50eXBlfHxpKXJldHVybiB2b2lkIDA9PT1lLmlkJiZ0aGlzLmZpcmUobmV3IFN0KG5ldyBFcnJvcihcIlRoZSBmZWF0dXJlIGlkIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkLlwiKSkpLHRoaXMuZ2V0T3duU291cmNlQ2FjaGVzKHQpWzBdLmdldEZlYXR1cmVTdGF0ZShpLGUuaWQpO3RoaXMuZmlyZShuZXcgU3QobmV3IEVycm9yKFwiVGhlIHNvdXJjZUxheWVyIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIGZvciB2ZWN0b3Igc291cmNlIHR5cGVzLlwiKSkpO319c2V0VHJhbnNpdGlvbihlKXtyZXR1cm4gdGhpcy5zdHlsZXNoZWV0LnRyYW5zaXRpb249ayh7fSx0aGlzLnN0eWxlc2hlZXQudHJhbnNpdGlvbixlKSx0aGlzLnRyYW5zaXRpb249dGhpcy5zdHlsZXNoZWV0LnRyYW5zaXRpb24sdGhpc31nZXRUcmFuc2l0aW9uKCl7cmV0dXJuIGsoe30sdGhpcy5zdHlsZXNoZWV0LnRyYW5zaXRpb24pfXNlcmlhbGl6ZSgpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3QgZT10aGlzLmdldFRlcnJhaW4oKSx0PWUmJnRoaXMudGVycmFpbiYmdGhpcy50ZXJyYWluLnNjb3BlPT09dGhpcy5zY29wZT9lOnZvaWQgMDtyZXR1cm4gWih7dmVyc2lvbjp0aGlzLnN0eWxlc2hlZXQudmVyc2lvbixuYW1lOnRoaXMuc3R5bGVzaGVldC5uYW1lLG1ldGFkYXRhOnRoaXMuc3R5bGVzaGVldC5tZXRhZGF0YSxpbXBvcnRzOnRoaXMuX3NlcmlhbGl6ZUltcG9ydHMoKSxzY2hlbWE6dGhpcy5zdHlsZXNoZWV0LnNjaGVtYSxjYW1lcmE6dGhpcy5zdHlsZXNoZWV0LmNhbWVyYSxsaWdodDp0aGlzLnN0eWxlc2hlZXQubGlnaHQsbGlnaHRzOnRoaXMuc3R5bGVzaGVldC5saWdodHMsdGVycmFpbjp0LGZvZzp0aGlzLnN0eWxlc2hlZXQuZm9nLGNlbnRlcjp0aGlzLnN0eWxlc2hlZXQuY2VudGVyLHpvb206dGhpcy5zdHlsZXNoZWV0Lnpvb20sYmVhcmluZzp0aGlzLnN0eWxlc2hlZXQuYmVhcmluZyxwaXRjaDp0aGlzLnN0eWxlc2hlZXQucGl0Y2gsc3ByaXRlOnRoaXMuc3R5bGVzaGVldC5zcHJpdGUsZ2x5cGhzOnRoaXMuc3R5bGVzaGVldC5nbHlwaHMsdHJhbnNpdGlvbjp0aGlzLnN0eWxlc2hlZXQudHJhbnNpdGlvbixwcm9qZWN0aW9uOnRoaXMuc3R5bGVzaGVldC5wcm9qZWN0aW9uLHNvdXJjZXM6dGhpcy5fc2VyaWFsaXplU291cmNlcygpLGxheWVyczp0aGlzLl9zZXJpYWxpemVMYXllcnModGhpcy5fb3JkZXIpfSwoZT0+dm9pZCAwIT09ZSkpfV91cGRhdGVMYXllcihlKXt0aGlzLl9jaGFuZ2VzLnVwZGF0ZUxheWVyKGUpO2NvbnN0IHQ9dGhpcy5nZXRMYXllclNvdXJjZUNhY2hlKGUpLGk9cGEoZS5zb3VyY2UsZS5zY29wZSk7ZS5zb3VyY2UmJiF0aGlzLl9jaGFuZ2VzLnVwZGF0ZWRTb3VyY2VDYWNoZXNbaV0mJnQmJlwicmFzdGVyXCIhPT10LmdldFNvdXJjZSgpLnR5cGUmJih0aGlzLl9jaGFuZ2VzLnVwZGF0ZWRTb3VyY2VDYWNoZXNbaV09XCJyZWxvYWRcIix0LnBhdXNlKCkpLHRoaXMuX2NoYW5nZXMuY2hhbmdlZD0hMCxlLmludmFsaWRhdGVDb21waWxlZEZpbHRlcigpO31fZmxhdHRlbkFuZFNvcnRSZW5kZXJlZEZlYXR1cmVzKGUpe2NvbnN0IHQ9ZT0+XCJmaWxsLWV4dHJ1c2lvblwiPT09dGhpcy5fbWVyZ2VkTGF5ZXJzW2VdLnR5cGUsaT10aGlzLm9yZGVyLHI9e30sbj1bXTtmb3IobGV0IG89aS5sZW5ndGgtMTtvPj0wO28tLSl7Y29uc3Qgcz1pW29dO2lmKHQocykpe3Jbc109bztmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPXRbc107aWYoZSlmb3IoY29uc3QgdCBvZiBlKW4ucHVzaCh0KTt9fX1uLnNvcnQoKChlLHQpPT50LmludGVyc2VjdGlvblotZS5pbnRlcnNlY3Rpb25aKSk7Y29uc3Qgbz1bXTtmb3IobGV0IHM9aS5sZW5ndGgtMTtzPj0wO3MtLSl7Y29uc3QgYT1pW3NdO2lmKHQoYSkpZm9yKGxldCBlPW4ubGVuZ3RoLTE7ZT49MDtlLS0pe2NvbnN0IHQ9bltlXS5mZWF0dXJlO2lmKHJbdC5sYXllci5pZF08cylicmVhaztvLnB1c2godCksbi5wb3AoKTt9ZWxzZSBmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPXRbYV07aWYoZSlmb3IoY29uc3QgdCBvZiBlKW8ucHVzaCh0LmZlYXR1cmUpO319cmV0dXJuIG99cXVlcnlSZW5kZXJlZEZlYXR1cmVzKGUsdCxpKXt0JiZ0LmZpbHRlciYmdGhpcy5fdmFsaWRhdGUoZ3MsXCJxdWVyeVJlbmRlcmVkRmVhdHVyZXMuZmlsdGVyXCIsdC5maWx0ZXIsbnVsbCx0KSx0LnNjb3BlPXRoaXMuc2NvcGUsdC5hdmFpbGFibGVJbWFnZXM9dGhpcy5fYXZhaWxhYmxlSW1hZ2VzLHQuc2VyaWFsaXplZExheWVycz10aGlzLl9zZXJpYWxpemVkTGF5ZXJzO2NvbnN0IHI9e307aWYodCYmdC5sYXllcnMpe2lmKCFBcnJheS5pc0FycmF5KHQubGF5ZXJzKSlyZXR1cm4gdGhpcy5maXJlKG5ldyBTdChuZXcgRXJyb3IoXCJwYXJhbWV0ZXJzLmxheWVycyBtdXN0IGJlIGFuIEFycmF5LlwiKSkpLFtdO2Zvcihjb25zdCBlIG9mIHQubGF5ZXJzKXtjb25zdCB0PXRoaXMuX21lcmdlZExheWVyc1tlXTtpZighdClyZXR1cm4gdGhpcy5maXJlKG5ldyBTdChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHtlfScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgcXVlcmllZCBmb3IgZmVhdHVyZXMuYCkpKSxbXTtyW3Quc291cmNlXT0hMDt9fWNvbnN0IG49W10sbz10LnNlcmlhbGl6ZWRMYXllcnN8fHt9LHM9dCYmdC5sYXllcnM/dC5sYXllcnMuc29tZSgoZT0+e2NvbnN0IHQ9dGhpcy5nZXRMYXllcihlKTtyZXR1cm4gdCYmdC5pczNEKCl9KSk6dGhpcy5oYXMzRExheWVycygpLGE9dncuY3JlYXRlRnJvbVNjcmVlblBvaW50cyhlLGkpO2Zvcihjb25zdCBlIGluIHRoaXMuX21lcmdlZFNvdXJjZUNhY2hlcyl7Y29uc3QgbD10aGlzLl9tZXJnZWRTb3VyY2VDYWNoZXNbZV0uZ2V0U291cmNlKCk7aWYoIWx8fGwuc2NvcGUhPT10LnNjb3BlKWNvbnRpbnVlO2NvbnN0IGM9dGhpcy5fbWVyZ2VkU291cmNlQ2FjaGVzW2VdLmdldFNvdXJjZSgpLmlkO3QubGF5ZXJzJiYhcltjXXx8bi5wdXNoKHdUKHRoaXMuX21lcmdlZFNvdXJjZUNhY2hlc1tlXSx0aGlzLl9tZXJnZWRMYXllcnMsbyxhLHQsaSxzLCEhdGhpcy5tYXAuX3Nob3dRdWVyeUdlb21ldHJ5KSk7fXJldHVybiB0aGlzLnBsYWNlbWVudCYmbi5wdXNoKGZ1bmN0aW9uKGUsdCxpLHIsbixvLHMpe2NvbnN0IGE9e30sbD1vLnF1ZXJ5UmVuZGVyZWRTeW1ib2xzKHIpLGM9W107Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXMobCkubWFwKE51bWJlcikpYy5wdXNoKHNbZV0pO2Muc29ydChFVCk7Zm9yKGNvbnN0IGkgb2YgYyl7Y29uc3Qgcj1pLmZlYXR1cmVJbmRleC5sb29rdXBTeW1ib2xGZWF0dXJlcyhsW2kuYnVja2V0SW5zdGFuY2VJZF0sdCxpLmJ1Y2tldEluZGV4LGkuc291cmNlTGF5ZXJJbmRleCxuLmZpbHRlcixuLmxheWVycyxuLmF2YWlsYWJsZUltYWdlcyxlKTtmb3IoY29uc3QgZSBpbiByKXtjb25zdCB0PWFbZV09YVtlXXx8W10sbj1yW2VdO24uc29ydCgoKGUsdCk9Pntjb25zdCByPWkuZmVhdHVyZVNvcnRPcmRlcjtpZihyKXtjb25zdCBpPXIuaW5kZXhPZihlLmZlYXR1cmVJbmRleCk7cmV0dXJuIHIuaW5kZXhPZih0LmZlYXR1cmVJbmRleCktaX1yZXR1cm4gdC5mZWF0dXJlSW5kZXgtZS5mZWF0dXJlSW5kZXh9KSk7Zm9yKGNvbnN0IGUgb2Ygbil0LnB1c2goZSk7fX1mb3IoY29uc3QgdCBpbiBhKWFbdF0uZm9yRWFjaCgocj0+e2NvbnN0IG49ci5mZWF0dXJlLG89aShlW3RdKTtpZighbylyZXR1cm47Y29uc3Qgcz1vLmdldEZlYXR1cmVTdGF0ZShuLmxheWVyW1wic291cmNlLWxheWVyXCJdLG4uaWQpO24uc291cmNlPW4ubGF5ZXIuc291cmNlLG4ubGF5ZXJbXCJzb3VyY2UtbGF5ZXJcIl0mJihuLnNvdXJjZUxheWVyPW4ubGF5ZXJbXCJzb3VyY2UtbGF5ZXJcIl0pLG4uc3RhdGU9czt9KSk7cmV0dXJuIGF9KHRoaXMuX21lcmdlZExheWVycyxvLHRoaXMuZ2V0TGF5ZXJTb3VyY2VDYWNoZS5iaW5kKHRoaXMpLGEuc2NyZWVuR2VvbWV0cnksdCx0aGlzLnBsYWNlbWVudC5jb2xsaXNpb25JbmRleCx0aGlzLnBsYWNlbWVudC5yZXRhaW5lZFF1ZXJ5RGF0YSkpLHRoaXMuX2ZsYXR0ZW5BbmRTb3J0UmVuZGVyZWRGZWF0dXJlcyhuKX1xdWVyeVNvdXJjZUZlYXR1cmVzKGUsdCl7dCYmdC5maWx0ZXImJnRoaXMuX3ZhbGlkYXRlKGdzLFwicXVlcnlTb3VyY2VGZWF0dXJlcy5maWx0ZXJcIix0LmZpbHRlcixudWxsLHQpO2NvbnN0IGk9dGhpcy5nZXRPd25Tb3VyY2VDYWNoZXMoZSk7bGV0IHI9W107Zm9yKGNvbnN0IGUgb2YgaSlyPXIuY29uY2F0KFRUKGUsdCkpO3JldHVybiByfWFkZFNvdXJjZVR5cGUoZSx0LGkpe3JldHVybiAkQS5nZXRTb3VyY2VUeXBlKGUpP2kobmV3IEVycm9yKGBBIHNvdXJjZSB0eXBlIGNhbGxlZCBcIiR7ZX1cIiBhbHJlYWR5IGV4aXN0cy5gKSk6KCRBLnNldFNvdXJjZVR5cGUoZSx0KSx0LndvcmtlclNvdXJjZVVSTD92b2lkIHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJsb2FkV29ya2VyU291cmNlXCIse25hbWU6ZSx1cmw6dC53b3JrZXJTb3VyY2VVUkx9LGkpOmkobnVsbCxudWxsKSl9Z2V0RmxhdExpZ2h0KCl7cmV0dXJuIHRoaXMubGlnaHQuZ2V0TGlnaHQoKX1zZXRGbGF0TGlnaHQoZSx0LGk9e30pe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3Qgcj10aGlzLmxpZ2h0LmdldExpZ2h0KCk7bGV0IG49ITE7Zm9yKGNvbnN0IHQgaW4gZSlpZigheChlW3RdLHJbdF0pKXtuPSEwO2JyZWFrfWlmKCFuKXJldHVybjtjb25zdCBvPXRoaXMuX2dldFRyYW5zaXRpb25QYXJhbWV0ZXJzKCk7dGhpcy5saWdodC5zZXRMaWdodChlLHQsaSksdGhpcy5saWdodC51cGRhdGVUcmFuc2l0aW9ucyhvKTt9Z2V0VGVycmFpbigpe3JldHVybiB0aGlzLnRlcnJhaW4mJjE9PT10aGlzLnRlcnJhaW4uZHJhcGVSZW5kZXJNb2RlP3RoaXMudGVycmFpbi5nZXQoKTpudWxsfXNldFRlcnJhaW5Gb3JEcmFwaW5nKCl7dGhpcy5zZXRUZXJyYWluKHtzb3VyY2U6XCJcIixleGFnZ2VyYXRpb246MH0sMCk7fXNldFRlcnJhaW4oZSx0PTEpe2lmKHRoaXMuX2NoZWNrTG9hZGVkKCksIWUpcmV0dXJuIGRlbGV0ZSB0aGlzLnRlcnJhaW4sZGVsZXRlIHRoaXMuc3R5bGVzaGVldC50ZXJyYWluLHRoaXMuX2ZvcmNlM0RMYXllclVwZGF0ZSgpLHZvaWQodGhpcy5fbWFya2Vyc05lZWRVcGRhdGU9ITApO2xldCBpPWU7aWYoMT09PXQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBpLnNvdXJjZSl7Y29uc3QgZT1cInRlcnJhaW4tZGVtLXNyY1wiO3RoaXMuYWRkU291cmNlKGUsaS5zb3VyY2UpLGk9JChpKSxpPWsoaSx7c291cmNlOmV9KTt9aWYodGhpcy5fdmFsaWRhdGUoZnMsXCJ0ZXJyYWluXCIsaSkpcmV0dXJufWlmKCF0aGlzLnRlcnJhaW58fHRoaXMudGVycmFpbiYmdCE9PXRoaXMudGVycmFpbi5kcmFwZVJlbmRlck1vZGUpe2lmKCFpKXJldHVybjt0aGlzLl9jcmVhdGVUZXJyYWluKGksdCksdGhpcy5maXJlKG5ldyBBdChcImRhdGFcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpO31lbHNlIHtjb25zdCB0PXRoaXMudGVycmFpbixyPXQuZ2V0KCk7Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXMoQ3QudGVycmFpbikpIWkuaGFzT3duUHJvcGVydHkoZSkmJkN0LnRlcnJhaW5bZV0uZGVmYXVsdCYmKGlbZV09Q3QudGVycmFpbltlXS5kZWZhdWx0KTtmb3IoY29uc3QgaSBpbiBlKWlmKCF4KGVbaV0scltpXSkpe3Quc2V0KGUpLHRoaXMuc3R5bGVzaGVldC50ZXJyYWluPWU7Y29uc3QgaT10aGlzLl9nZXRUcmFuc2l0aW9uUGFyYW1ldGVycyh7ZHVyYXRpb246MH0pO3QudXBkYXRlVHJhbnNpdGlvbnMoaSksdGhpcy5maXJlKG5ldyBBdChcImRhdGFcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpO2JyZWFrfX10aGlzLm1lcmdlVGVycmFpbigpLHRoaXMudXBkYXRlRHJhcGVGaXJzdExheWVycygpLHRoaXMuX21hcmtlcnNOZWVkVXBkYXRlPSEwO31fY3JlYXRlRm9nKGUpe2NvbnN0IHQ9dGhpcy5mb2c9bmV3IGR3KGUsdGhpcy5tYXAudHJhbnNmb3JtKTt0aGlzLnN0eWxlc2hlZXQuZm9nPXQuZ2V0KCk7Y29uc3QgaT10aGlzLl9nZXRUcmFuc2l0aW9uUGFyYW1ldGVycyh7ZHVyYXRpb246MH0pO3QudXBkYXRlVHJhbnNpdGlvbnMoaSk7fV91cGRhdGVNYXJrZXJzT3BhY2l0eSgpezAhPT10aGlzLm1hcC5fbWFya2Vycy5sZW5ndGgmJnRoaXMubWFwLl9yZXF1ZXN0RG9tVGFzaygoKCk9Pntmb3IoY29uc3QgZSBvZiB0aGlzLm1hcC5fbWFya2VycyllLl9ldmFsdWF0ZU9wYWNpdHkoKTt9KSk7fWdldEZvZygpe3JldHVybiB0aGlzLmZvZz90aGlzLmZvZy5nZXQoKTpudWxsfXNldEZvZyhlKXtpZih0aGlzLl9jaGVja0xvYWRlZCgpLCFlKXJldHVybiBkZWxldGUgdGhpcy5mb2csZGVsZXRlIHRoaXMuc3R5bGVzaGVldC5mb2csdm9pZCh0aGlzLl9tYXJrZXJzTmVlZFVwZGF0ZT0hMCk7aWYodGhpcy5mb2cpe2NvbnN0IHQ9dGhpcy5mb2c7aWYoIXgodC5nZXQoKSxlKSl7dC5zZXQoZSksdGhpcy5zdHlsZXNoZWV0LmZvZz10LmdldCgpO2NvbnN0IGk9dGhpcy5fZ2V0VHJhbnNpdGlvblBhcmFtZXRlcnMoe2R1cmF0aW9uOjB9KTt0LnVwZGF0ZVRyYW5zaXRpb25zKGkpO319ZWxzZSB0aGlzLl9jcmVhdGVGb2coZSk7dGhpcy5fbWFya2Vyc05lZWRVcGRhdGU9ITA7fV9nZXRUcmFuc2l0aW9uUGFyYW1ldGVycyhlKXtyZXR1cm4ge25vdzpodC5ub3coKSx0cmFuc2l0aW9uOmsodGhpcy50cmFuc2l0aW9uLGUpfX11cGRhdGVEcmFwZUZpcnN0TGF5ZXJzKCl7aWYoIXRoaXMudGVycmFpbilyZXR1cm47Y29uc3QgZT1bXSx0PVtdO2Zvcihjb25zdCBpIGluIHRoaXMuX21lcmdlZExheWVycyl0aGlzLmlzTGF5ZXJEcmFwZWQodGhpcy5fbWVyZ2VkTGF5ZXJzW2ldKT9lLnB1c2goaSk6dC5wdXNoKGkpO3RoaXMuX2RyYXBlZEZpcnN0T3JkZXI9W10sdGhpcy5fZHJhcGVkRmlyc3RPcmRlci5wdXNoKC4uLmUpLHRoaXMuX2RyYXBlZEZpcnN0T3JkZXIucHVzaCguLi50KTt9X2NyZWF0ZVRlcnJhaW4oZSx0KXtjb25zdCBpPXRoaXMudGVycmFpbj1uZXcgcncoZSx0KTtpLnNldFNjb3BlKHRoaXMuc2NvcGUpLHRoaXMuc3R5bGVzaGVldC50ZXJyYWluPWUsdGhpcy5tZXJnZVRlcnJhaW4oKSx0aGlzLnVwZGF0ZURyYXBlRmlyc3RMYXllcnMoKSx0aGlzLl9mb3JjZTNETGF5ZXJVcGRhdGUoKTtjb25zdCByPXRoaXMuX2dldFRyYW5zaXRpb25QYXJhbWV0ZXJzKHtkdXJhdGlvbjowfSk7aS51cGRhdGVUcmFuc2l0aW9ucyhyKTt9X2ZvcmNlM0RMYXllclVwZGF0ZSgpe2Zvcihjb25zdCBlIGluIHRoaXMuX2xheWVycyl7Y29uc3QgdD10aGlzLl9sYXllcnNbZV07XCJmaWxsLWV4dHJ1c2lvblwiPT09dC50eXBlJiZ0aGlzLl91cGRhdGVMYXllcih0KTt9fV9mb3JjZVN5bWJvbExheWVyVXBkYXRlKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fbGF5ZXJzKXtjb25zdCB0PXRoaXMuX2xheWVyc1tlXTtcInN5bWJvbFwiPT09dC50eXBlJiZ0aGlzLl91cGRhdGVMYXllcih0KTt9fV92YWxpZGF0ZShlLHQsaSxyLG49e30pe2lmKG4mJiExPT09bi52YWxpZGF0ZSlyZXR1cm4gITE7Y29uc3Qgbz1rKHt9LHRoaXMuc2VyaWFsaXplKCkpO3JldHVybiBVQSh0aGlzLGUuY2FsbChocyxrKHtrZXk6dCxzdHlsZTpvLHZhbHVlOmksc3R5bGVTcGVjOkN0fSxyKSkpfV9yZW1vdmUoKXt0aGlzLl9yZXF1ZXN0JiYodGhpcy5fcmVxdWVzdC5jYW5jZWwoKSx0aGlzLl9yZXF1ZXN0PW51bGwpLHRoaXMuX3Nwcml0ZVJlcXVlc3QmJih0aGlzLl9zcHJpdGVSZXF1ZXN0LmNhbmNlbCgpLHRoaXMuX3Nwcml0ZVJlcXVlc3Q9bnVsbCksWXMub2ZmKFwicGx1Z2luU3RhdGVDaGFuZ2VcIix0aGlzLl9ydGxUZXh0UGx1Z2luQ2FsbGJhY2spO2Zvcihjb25zdCBlIGluIHRoaXMuX21lcmdlZExheWVycyl0aGlzLl9tZXJnZWRMYXllcnNbZV0uc2V0RXZlbnRlZFBhcmVudChudWxsKTtmb3IoY29uc3QgZSBpbiB0aGlzLl9tZXJnZWRTb3VyY2VDYWNoZXMpdGhpcy5fbWVyZ2VkU291cmNlQ2FjaGVzW2VdLmNsZWFyVGlsZXMoKSx0aGlzLl9tZXJnZWRTb3VyY2VDYWNoZXNbZV0uc2V0RXZlbnRlZFBhcmVudChudWxsKTt0aGlzLnNldEV2ZW50ZWRQYXJlbnQobnVsbCksZGVsZXRlIHRoaXMuZm9nLGRlbGV0ZSB0aGlzLnRlcnJhaW4sZGVsZXRlIHRoaXMuYW1iaWVudExpZ2h0LGRlbGV0ZSB0aGlzLmRpcmVjdGlvbmFsTGlnaHQsdGhpcy5pc1Jvb3RTdHlsZSgpJiYodGhpcy5pbWFnZU1hbmFnZXIuc2V0RXZlbnRlZFBhcmVudChudWxsKSx0aGlzLm1vZGVsTWFuYWdlci5zZXRFdmVudGVkUGFyZW50KG51bGwpLHRoaXMuZGlzcGF0Y2hlci5yZW1vdmUoKSk7fWNsZWFyU291cmNlKGUpe2NvbnN0IHQ9dGhpcy5nZXRTb3VyY2VDYWNoZXMoZSk7Zm9yKGNvbnN0IGUgb2YgdCllLmNsZWFyVGlsZXMoKTt9Y2xlYXJTb3VyY2VzKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fbWVyZ2VkU291cmNlQ2FjaGVzKXRoaXMuX21lcmdlZFNvdXJjZUNhY2hlc1tlXS5jbGVhclRpbGVzKCk7fXJlbG9hZFNvdXJjZShlKXtjb25zdCB0PXRoaXMuZ2V0U291cmNlQ2FjaGVzKGUpO2Zvcihjb25zdCBlIG9mIHQpZS5yZXN1bWUoKSxlLnJlbG9hZCgpO311cGRhdGVTb3VyY2VzKGUpe2xldCB0O3RoaXMuZGlyZWN0aW9uYWxMaWdodCYmKHQ9T0EodGhpcy5kaXJlY3Rpb25hbExpZ2h0KSk7Zm9yKGNvbnN0IGkgaW4gdGhpcy5fbWVyZ2VkU291cmNlQ2FjaGVzKXRoaXMuX21lcmdlZFNvdXJjZUNhY2hlc1tpXS51cGRhdGUoZSx2b2lkIDAsdm9pZCAwLHQpO31fZ2VuZXJhdGVDb2xsaXNpb25Cb3hlcygpe2Zvcihjb25zdCBlIGluIHRoaXMuX3NvdXJjZUNhY2hlcyl7Y29uc3QgdD10aGlzLl9zb3VyY2VDYWNoZXNbZV07dC5yZXN1bWUoKSx0LnJlbG9hZCgpO319X3VwZGF0ZVBsYWNlbWVudChlLHQsaSxyLG49ITEpe2xldCBvPSExLHM9ITE7Y29uc3QgYT17fSxsPXt9O2Zvcihjb25zdCB0IG9mIHRoaXMuX21lcmdlZE9yZGVyKXtjb25zdCBpPXRoaXMuX21lcmdlZExheWVyc1t0XTtpZihcInN5bWJvbFwiIT09aS50eXBlKWNvbnRpbnVlO2NvbnN0IHI9cGEoaS5zb3VyY2UsaS5zY29wZSk7bGV0IG49YVtyXTtpZighbil7Y29uc3QgZT10aGlzLmdldExheWVyU291cmNlQ2FjaGUoaSk7aWYoIWUpY29udGludWU7Y29uc3QgdD1lLmdldFJlbmRlcmFibGVJZHMoITApLm1hcCgodD0+ZS5nZXRUaWxlQnlJRCh0KSkpO2xbcl09dC5zbGljZSgpLG49YVtyXT10LnNvcnQoKChlLHQpPT50LnRpbGVJRC5vdmVyc2NhbGVkWi1lLnRpbGVJRC5vdmVyc2NhbGVkWnx8KGUudGlsZUlELmlzTGVzc1RoYW4odC50aWxlSUQpPy0xOjEpKSk7fWNvbnN0IHM9dGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleC5hZGRMYXllcihpLG4sZS5jZW50ZXIubG5nLGUucHJvamVjdGlvbik7bz1vfHxzO31pZih0aGlzLmNyb3NzVGlsZVN5bWJvbEluZGV4LnBydW5lVW51c2VkTGF5ZXJzKHRoaXMuX21lcmdlZE9yZGVyKSxuPW58fHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkfHwwPT09aSx0aGlzLl9sYXllck9yZGVyQ2hhbmdlZCYmdGhpcy5maXJlKG5ldyBBdChcIm5ld29yZGVyXCIpKSwobnx8IXRoaXMucGF1c2VhYmxlUGxhY2VtZW50fHx0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKSYmIXRoaXMucGxhY2VtZW50LnN0aWxsUmVjZW50KGh0Lm5vdygpLGUuem9vbSkpJiYodGhpcy5wYXVzZWFibGVQbGFjZW1lbnQ9bmV3IGhFKGUsdGhpcy5fbWVyZ2VkT3JkZXIsbix0LGkscix0aGlzLnBsYWNlbWVudCx0aGlzLmZvZyYmZS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nP3RoaXMuZm9nLnN0YXRlOm51bGwsdGhpcy5fYnVpbGRpbmdJbmRleCksdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQ9ITEpLHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmlzRG9uZSgpP3RoaXMucGxhY2VtZW50LnNldFN0YWxlKCk6KHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmNvbnRpbnVlUGxhY2VtZW50KHRoaXMuX21lcmdlZE9yZGVyLHRoaXMuX21lcmdlZExheWVycyxhLGwpLHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmlzRG9uZSgpJiYodGhpcy5wbGFjZW1lbnQ9dGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuY29tbWl0KGh0Lm5vdygpKSxzPSEwKSxvJiZ0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5wbGFjZW1lbnQuc2V0U3RhbGUoKSksc3x8bylmb3IoY29uc3QgZSBvZiB0aGlzLl9tZXJnZWRPcmRlcil7Y29uc3QgdD10aGlzLl9tZXJnZWRMYXllcnNbZV07XCJzeW1ib2xcIj09PXQudHlwZSYmdGhpcy5wbGFjZW1lbnQudXBkYXRlTGF5ZXJPcGFjaXRpZXModCxhW3BhKHQuc291cmNlLHQuc2NvcGUpXSk7fXJldHVybiAhdGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuaXNEb25lKCl8fHRoaXMucGxhY2VtZW50Lmhhc1RyYW5zaXRpb25zKGh0Lm5vdygpKX1fcmVsZWFzZVN5bWJvbEZhZGVUaWxlcygpe2Zvcihjb25zdCBlIGluIHRoaXMuX3NvdXJjZUNhY2hlcyl0aGlzLl9zb3VyY2VDYWNoZXNbZV0ucmVsZWFzZVN5bWJvbEZhZGVUaWxlcygpO31hZGRJbXBvcnQoZSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCB0PXRoaXMuc3R5bGVzaGVldC5pbXBvcnRzPXRoaXMuc3R5bGVzaGVldC5pbXBvcnRzfHxbXSxpPXQuZmluZEluZGV4KCgoe2lkOnR9KT0+dD09PWUuaWQpKTtyZXR1cm4gLTEhPT1pP3RoaXMuZmlyZShuZXcgU3QobmV3IEVycm9yKGBJbXBvcnQgd2l0aCBpZCAnJHtlLmlkfScgYWxyZWFkeSBleGlzdHMgaW4gdGhlIG1hcCdzIHN0eWxlLmApKSk6KHQucHVzaChlKSx0aGlzLl9sb2FkSW1wb3J0cyhbZV0sITApLHRoaXMpfXNldEltcG9ydFVybChlLHQpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3QgaT10aGlzLnN0eWxlc2hlZXQuaW1wb3J0c3x8W10scj10aGlzLmdldEltcG9ydEluZGV4KGUpO2lmKC0xPT09cilyZXR1cm4gdGhpcztpW3JdLnVybD10O2NvbnN0IG49dGhpcy5mcmFnbWVudHNbcl07bi5zdHlsZT10aGlzLl9jcmVhdGVGcmFnbWVudFN0eWxlKHtpZDplLHVybDp0fSk7Y29uc3Qgbz1uZXcgUHJvbWlzZSgoZT0+bi5zdHlsZS5vbihcInN0eWxlLmltcG9ydC5sb2FkXCIsZSkpKTtyZXR1cm4gbi5zdHlsZS5sb2FkVVJMKHQpLG8udGhlbigoKCk9PnRoaXMuX3JlbG9hZEltcG9ydHMoKSkpLHRoaXN9c2V0SW1wb3J0RGF0YShlLHQpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3QgaT10aGlzLmdldEltcG9ydEluZGV4KGUpLHI9dGhpcy5zdHlsZXNoZWV0LmltcG9ydHN8fFtdO3JldHVybiAtMT09PWk/dGhpczp0Pyh0aGlzLmZyYWdtZW50c1tpXS5zdHlsZS5zZXRTdGF0ZSh0KSx0aGlzLl9yZWxvYWRJbXBvcnRzKCksdGhpcyk6KGRlbGV0ZSByW2ldLmRhdGEsdGhpcy5zZXRJbXBvcnRVcmwoZSxyW2ldLnVybCkpfXNldEltcG9ydENvbmZpZyhlLHQpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3QgaT10aGlzLmdldEltcG9ydEluZGV4KGUpLHI9dGhpcy5zdHlsZXNoZWV0LmltcG9ydHN8fFtdO2lmKC0xPT09aSlyZXR1cm4gdGhpczt0P3JbaV0uY29uZmlnPXQ6ZGVsZXRlIHJbaV0uY29uZmlnO2NvbnN0IG49dGhpcy5mcmFnbWVudHNbaV0sbz1uLnN0eWxlLnN0eWxlc2hlZXQmJm4uc3R5bGUuc3R5bGVzaGVldC5zY2hlbWE7cmV0dXJuIG4uY29uZmlnPXQsbi5zdHlsZS5zZXRDb25maWcodCxvKSxuLnN0eWxlLnVwZGF0ZUNvbmZpZ0RlcGVuZGVuY2llcygpLHRoaXN9cmVtb3ZlSW1wb3J0KGUpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3QgdD10aGlzLnN0eWxlc2hlZXQuaW1wb3J0c3x8W10saT10aGlzLmdldEltcG9ydEluZGV4KGUpO3JldHVybiAtMT09PWl8fCh0LnNwbGljZShpLDEpLHRoaXMuZnJhZ21lbnRzW2ldLnN0eWxlLl9yZW1vdmUoKSx0aGlzLmZyYWdtZW50cy5zcGxpY2UoaSwxKSx0aGlzLl9yZWxvYWRJbXBvcnRzKCkpLHRoaXN9Z2V0SW1wb3J0SW5kZXgoZSl7Y29uc3QgdD0odGhpcy5zdHlsZXNoZWV0LmltcG9ydHN8fFtdKS5maW5kSW5kZXgoKHQ9PnQuaWQ9PT1lKSk7cmV0dXJuIC0xPT09dCYmdGhpcy5maXJlKG5ldyBTdChuZXcgRXJyb3IoYEltcG9ydCAnJHtlfScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgdXBkYXRlZC5gKSkpLHR9Z2V0TGF5ZXIoZSl7cmV0dXJuIHRoaXMuX21lcmdlZExheWVyc1tlXX1nZXRTb3VyY2VzKCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgdCBpbiB0aGlzLl9tZXJnZWRPdGhlclNvdXJjZUNhY2hlcyl7Y29uc3QgaT10aGlzLl9tZXJnZWRPdGhlclNvdXJjZUNhY2hlc1t0XTtpJiZlLnB1c2goaS5nZXRTb3VyY2UoKSk7fXJldHVybiBlfWdldFNvdXJjZShlLHQpe2NvbnN0IGk9dGhpcy5nZXRTb3VyY2VDYWNoZShlLHQpO3JldHVybiBpJiZpLmdldFNvdXJjZSgpfWdldExheWVyU291cmNlKGUpe2NvbnN0IHQ9dGhpcy5nZXRMYXllclNvdXJjZUNhY2hlKGUpO3JldHVybiB0JiZ0LmdldFNvdXJjZSgpfWdldFNvdXJjZUNhY2hlKGUsdCl7Y29uc3QgaT1wYShlLHQpO3JldHVybiB0aGlzLl9tZXJnZWRPdGhlclNvdXJjZUNhY2hlc1tpXX1nZXRMYXllclNvdXJjZUNhY2hlKGUpe2NvbnN0IHQ9cGEoZS5zb3VyY2UsZS5zY29wZSk7cmV0dXJuIFwic3ltYm9sXCI9PT1lLnR5cGU/dGhpcy5fbWVyZ2VkU3ltYm9sU291cmNlQ2FjaGVzW3RdOnRoaXMuX21lcmdlZE90aGVyU291cmNlQ2FjaGVzW3RdfWdldFNvdXJjZUNhY2hlcyhlKXtjb25zdCB0PVtdO3JldHVybiB0aGlzLl9tZXJnZWRPdGhlclNvdXJjZUNhY2hlc1tlXSYmdC5wdXNoKHRoaXMuX21lcmdlZE90aGVyU291cmNlQ2FjaGVzW2VdKSx0aGlzLl9tZXJnZWRTeW1ib2xTb3VyY2VDYWNoZXNbZV0mJnQucHVzaCh0aGlzLl9tZXJnZWRTeW1ib2xTb3VyY2VDYWNoZXNbZV0pLHR9dXBkYXRlU291cmNlQ2FjaGVzKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fY2hhbmdlcy51cGRhdGVkU291cmNlQ2FjaGVzKXtjb25zdCB0PXRoaXMuX2NoYW5nZXMudXBkYXRlZFNvdXJjZUNhY2hlc1tlXTtcInJlbG9hZFwiPT09dD90aGlzLnJlbG9hZFNvdXJjZShlKTpcImNsZWFyXCI9PT10JiZ0aGlzLmNsZWFyU291cmNlKGUpO319dXBkYXRlTGF5ZXJzKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2NoYW5nZXMudXBkYXRlZFBhaW50UHJvcHMpe2NvbnN0IGk9dGhpcy5nZXRMYXllcih0KTtpJiZpLnVwZGF0ZVRyYW5zaXRpb25zKGUpO319Z2V0SW1hZ2VzKGUsdCxpKXt0aGlzLmltYWdlTWFuYWdlci5nZXRJbWFnZXModC5pY29ucyx0LnNjb3BlLGkpLHRoaXMuX3VwZGF0ZVRpbGVzRm9yQ2hhbmdlZEltYWdlcygpO2NvbnN0IHI9ZT0+e2UmJmUuc2V0RGVwZW5kZW5jaWVzKHQudGlsZUlELmtleSx0LnR5cGUsdC5pY29ucyk7fTtyKHRoaXMuX290aGVyU291cmNlQ2FjaGVzW3Quc291cmNlXSkscih0aGlzLl9zeW1ib2xTb3VyY2VDYWNoZXNbdC5zb3VyY2VdKTt9Z2V0R2x5cGhzKGUsdCxpKXt0aGlzLmdseXBoTWFuYWdlci5nZXRHbHlwaHModC5zdGFja3MsdC5zY29wZSxpKTt9Z2V0UmVzb3VyY2UoZSx0LGkpe3JldHVybiBiZSh0LGkpfWdldE93blNvdXJjZUNhY2hlKGUpe3JldHVybiB0aGlzLl9vdGhlclNvdXJjZUNhY2hlc1tlXX1nZXRPd25MYXllclNvdXJjZUNhY2hlKGUpe3JldHVybiBcInN5bWJvbFwiPT09ZS50eXBlP3RoaXMuX3N5bWJvbFNvdXJjZUNhY2hlc1tlLnNvdXJjZV06dGhpcy5fb3RoZXJTb3VyY2VDYWNoZXNbZS5zb3VyY2VdfWdldE93blNvdXJjZUNhY2hlcyhlKXtjb25zdCB0PVtdO3JldHVybiB0aGlzLl9vdGhlclNvdXJjZUNhY2hlc1tlXSYmdC5wdXNoKHRoaXMuX290aGVyU291cmNlQ2FjaGVzW2VdKSx0aGlzLl9zeW1ib2xTb3VyY2VDYWNoZXNbZV0mJnQucHVzaCh0aGlzLl9zeW1ib2xTb3VyY2VDYWNoZXNbZV0pLHR9X2lzU291cmNlQ2FjaGVMb2FkZWQoZSl7Y29uc3QgdD10aGlzLmdldE93blNvdXJjZUNhY2hlcyhlKTtyZXR1cm4gMD09PXQubGVuZ3RoPyh0aGlzLmZpcmUobmV3IFN0KG5ldyBFcnJvcihgVGhlcmUgaXMgbm8gc291cmNlIHdpdGggSUQgJyR7ZX0nYCkpKSwhMSk6dC5ldmVyeSgoZT0+ZS5sb2FkZWQoKSkpfWhhczNETGF5ZXJzKCl7cmV0dXJuIHRoaXMuX2hhczNETGF5ZXJzfWhhc1N5bWJvbExheWVycygpe3JldHVybiB0aGlzLl9oYXNTeW1ib2xMYXllcnN9aGFzQ2lyY2xlTGF5ZXJzKCl7cmV0dXJuIHRoaXMuX2hhc0NpcmNsZUxheWVyc31fY2xlYXJXb3JrZXJDYWNoZXMoKXt0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwiY2xlYXJDYWNoZXNcIik7fWRlc3Ryb3koKXt0aGlzLl9jbGVhcldvcmtlckNhY2hlcygpLHRoaXMudGVycmFpblNldEZvckRyYXBpbmdPbmx5KCkmJihkZWxldGUgdGhpcy50ZXJyYWluLGRlbGV0ZSB0aGlzLnN0eWxlc2hlZXQudGVycmFpbik7fX1mdW5jdGlvbiBIQShlLHQpe2xldCBpPSExLHI9bnVsbDtjb25zdCBuPSgpPT57cj1udWxsLGkmJihlKCkscj1zZXRUaW1lb3V0KG4sdCksaT0hMSk7fTtyZXR1cm4gKCk9PihpPSEwLHJ8fG4oKSxyKX0kQS5nZXRTb3VyY2VUeXBlPWZ1bmN0aW9uKGUpe3JldHVybiB4VFtlXX0sJEEuc2V0U291cmNlVHlwZT1mdW5jdGlvbihlLHQpe3hUW2VdPXQ7fSwkQS5yZWdpc3RlckZvclBsdWdpblN0YXRlQ2hhbmdlPWZ1bmN0aW9uKGUpe3JldHVybiBlKHtwbHVnaW5TdGF0dXM6JHMscGx1Z2luVVJMOkhzfSksWXMub24oXCJwbHVnaW5TdGF0ZUNoYW5nZVwiLGUpLGV9O2NsYXNzIFdBe2NvbnN0cnVjdG9yKGUpe3RoaXMuX2hhc2hOYW1lPWUmJmVuY29kZVVSSUNvbXBvbmVudChlKSxqKFtcIl9nZXRDdXJyZW50SGFzaFwiLFwiX29uSGFzaENoYW5nZVwiLFwiX3VwZGF0ZUhhc2hcIl0sdGhpcyksdGhpcy5fdXBkYXRlSGFzaD1IQSh0aGlzLl91cGRhdGVIYXNoVW50aHJvdHRsZWQuYmluZCh0aGlzKSwzMDApO31hZGRUbyhlKXtyZXR1cm4gdGhpcy5fbWFwPWUsdC5hZGRFdmVudExpc3RlbmVyKFwiaGFzaGNoYW5nZVwiLHRoaXMuX29uSGFzaENoYW5nZSwhMSksZS5vbihcIm1vdmVlbmRcIix0aGlzLl91cGRhdGVIYXNoKSx0aGlzfXJlbW92ZSgpe3JldHVybiB0aGlzLl9tYXA/KHRoaXMuX21hcC5vZmYoXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlSGFzaCksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiaGFzaGNoYW5nZVwiLHRoaXMuX29uSGFzaENoYW5nZSwhMSksY2xlYXJUaW1lb3V0KHRoaXMuX3VwZGF0ZUhhc2goKSksdGhpcy5fbWFwPXZvaWQgMCx0aGlzKTp0aGlzfWdldEhhc2hTdHJpbmcoKXtjb25zdCBlPXRoaXMuX21hcDtpZighZSlyZXR1cm4gXCJcIjtjb25zdCBpPVhBKGUpO2lmKHRoaXMuX2hhc2hOYW1lKXtjb25zdCBlPXRoaXMuX2hhc2hOYW1lO2xldCByPSExO2NvbnN0IG49dC5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpLnNwbGl0KFwiJlwiKS5tYXAoKHQ9Pntjb25zdCBuPXQuc3BsaXQoXCI9XCIpWzBdO3JldHVybiBuPT09ZT8ocj0hMCxgJHtufT0ke2l9YCk6dH0pKS5maWx0ZXIoKGU9PmUpKTtyZXR1cm4gcnx8bi5wdXNoKGAke2V9PSR7aX1gKSxgIyR7bi5qb2luKFwiJlwiKX1gfXJldHVybiBgIyR7aX1gfV9nZXRDdXJyZW50SGFzaCgpe2NvbnN0IGU9dC5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoXCIjXCIsXCJcIik7aWYodGhpcy5faGFzaE5hbWUpe2xldCB0O3JldHVybiBlLnNwbGl0KFwiJlwiKS5tYXAoKGU9PmUuc3BsaXQoXCI9XCIpKSkuZm9yRWFjaCgoZT0+e2VbMF09PT10aGlzLl9oYXNoTmFtZSYmKHQ9ZSk7fSkpLCh0JiZ0WzFdfHxcIlwiKS5zcGxpdChcIi9cIil9cmV0dXJuIGUuc3BsaXQoXCIvXCIpfV9vbkhhc2hDaGFuZ2UoKXtjb25zdCBlPXRoaXMuX21hcDtpZighZSlyZXR1cm4gITE7Y29uc3QgdD10aGlzLl9nZXRDdXJyZW50SGFzaCgpO2lmKHQubGVuZ3RoPj0zJiYhdC5zb21lKChlPT5pc05hTihlKSkpKXtjb25zdCBpPWUuZHJhZ1JvdGF0ZS5pc0VuYWJsZWQoKSYmZS50b3VjaFpvb21Sb3RhdGUuaXNFbmFibGVkKCk/Kyh0WzNdfHwwKTplLmdldEJlYXJpbmcoKTtyZXR1cm4gZS5qdW1wVG8oe2NlbnRlcjpbK3RbMl0sK3RbMV1dLHpvb206K3RbMF0sYmVhcmluZzppLHBpdGNoOisodFs0XXx8MCl9KSwhMH1yZXR1cm4gITF9X3VwZGF0ZUhhc2hVbnRocm90dGxlZCgpe2NvbnN0IGU9dC5sb2NhdGlvbi5ocmVmLnJlcGxhY2UoLygjLispPyQvLHRoaXMuZ2V0SGFzaFN0cmluZygpKTt0Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHQuaGlzdG9yeS5zdGF0ZSxudWxsLGUpO319ZnVuY3Rpb24gWEEoZSx0KXtjb25zdCBpPWUuZ2V0Q2VudGVyKCkscj1NYXRoLnJvdW5kKDEwMCplLmdldFpvb20oKSkvMTAwLG49TWF0aC5jZWlsKChyKk1hdGguTE4yK01hdGgubG9nKDUxMi8zNjAvLjUpKS9NYXRoLkxOMTApLG89TWF0aC5wb3coMTAsbikscz1NYXRoLnJvdW5kKGkubG5nKm8pL28sYT1NYXRoLnJvdW5kKGkubGF0Km8pL28sbD1lLmdldEJlYXJpbmcoKSxjPWUuZ2V0UGl0Y2goKTtsZXQgaD10P2AvJHtzfS8ke2F9LyR7cn1gOmAke3J9LyR7YX0vJHtzfWA7cmV0dXJuIChsfHxjKSYmKGgrPVwiL1wiK01hdGgucm91bmQoMTAqbCkvMTApLGMmJihoKz1gLyR7TWF0aC5yb3VuZChjKX1gKSxofWNvbnN0IFlBPXtsaW5lYXJpdHk6LjMsZWFzaW5nOkkoMCwwLC4zLDEpfSxLQT1rKHtkZWNlbGVyYXRpb246MjUwMCxtYXhTcGVlZDoxNDAwfSxZQSksSkE9ayh7ZGVjZWxlcmF0aW9uOjIwLG1heFNwZWVkOjE0MDB9LFlBKSxRQT1rKHtkZWNlbGVyYXRpb246MWUzLG1heFNwZWVkOjM2MH0sWUEpLGVTPWsoe2RlY2VsZXJhdGlvbjoxZTMsbWF4U3BlZWQ6OTB9LFlBKTtjbGFzcyB0U3tjb25zdHJ1Y3RvcihlKXt0aGlzLl9tYXA9ZSx0aGlzLmNsZWFyKCk7fWNsZWFyKCl7dGhpcy5faW5lcnRpYUJ1ZmZlcj1bXTt9cmVjb3JkKGUpe3RoaXMuX2RyYWluSW5lcnRpYUJ1ZmZlcigpLHRoaXMuX2luZXJ0aWFCdWZmZXIucHVzaCh7dGltZTpodC5ub3coKSxzZXR0aW5nczplfSk7fV9kcmFpbkluZXJ0aWFCdWZmZXIoKXtjb25zdCBlPXRoaXMuX2luZXJ0aWFCdWZmZXIsdD1odC5ub3coKTtmb3IoO2UubGVuZ3RoPjAmJnQtZVswXS50aW1lPjE2MDspZS5zaGlmdCgpO31fb25Nb3ZlRW5kKGUpe2lmKHRoaXMuX21hcC5fcHJlZmVyc1JlZHVjZWRNb3Rpb24oKSlyZXR1cm47aWYodGhpcy5fZHJhaW5JbmVydGlhQnVmZmVyKCksdGhpcy5faW5lcnRpYUJ1ZmZlci5sZW5ndGg8MilyZXR1cm47Y29uc3QgdD17em9vbTowLGJlYXJpbmc6MCxwaXRjaDowLHBhbjpuZXcgeSgwLDApLHBpbmNoQXJvdW5kOnZvaWQgMCxhcm91bmQ6dm9pZCAwfTtmb3IoY29uc3R7c2V0dGluZ3M6ZX1vZiB0aGlzLl9pbmVydGlhQnVmZmVyKXQuem9vbSs9ZS56b29tRGVsdGF8fDAsdC5iZWFyaW5nKz1lLmJlYXJpbmdEZWx0YXx8MCx0LnBpdGNoKz1lLnBpdGNoRGVsdGF8fDAsZS5wYW5EZWx0YSYmdC5wYW4uX2FkZChlLnBhbkRlbHRhKSxlLmFyb3VuZCYmKHQuYXJvdW5kPWUuYXJvdW5kKSxlLnBpbmNoQXJvdW5kJiYodC5waW5jaEFyb3VuZD1lLnBpbmNoQXJvdW5kKTtjb25zdCBpPXRoaXMuX2luZXJ0aWFCdWZmZXJbdGhpcy5faW5lcnRpYUJ1ZmZlci5sZW5ndGgtMV0udGltZS10aGlzLl9pbmVydGlhQnVmZmVyWzBdLnRpbWUscj17fTtpZih0LnBhbi5tYWcoKSl7Y29uc3Qgbj1yUyh0LnBhbi5tYWcoKSxpLGsoe30sS0EsZXx8e30pKTtyLm9mZnNldD10LnBhbi5tdWx0KG4uYW1vdW50L3QucGFuLm1hZygpKSxyLmNlbnRlcj10aGlzLl9tYXAudHJhbnNmb3JtLmNlbnRlcixpUyhyLG4pO31pZih0Lnpvb20pe2NvbnN0IGU9clModC56b29tLGksSkEpO3Iuem9vbT10aGlzLl9tYXAudHJhbnNmb3JtLnpvb20rZS5hbW91bnQsaVMocixlKTt9aWYodC5iZWFyaW5nKXtjb25zdCBlPXJTKHQuYmVhcmluZyxpLFFBKTtyLmJlYXJpbmc9dGhpcy5fbWFwLnRyYW5zZm9ybS5iZWFyaW5nK3ooZS5hbW91bnQsLTE3OSwxNzkpLGlTKHIsZSk7fWlmKHQucGl0Y2gpe2NvbnN0IGU9clModC5waXRjaCxpLGVTKTtyLnBpdGNoPXRoaXMuX21hcC50cmFuc2Zvcm0ucGl0Y2grZS5hbW91bnQsaVMocixlKTt9aWYoci56b29tfHxyLmJlYXJpbmcpe2NvbnN0IGU9dm9pZCAwPT09dC5waW5jaEFyb3VuZD90LmFyb3VuZDp0LnBpbmNoQXJvdW5kO3IuYXJvdW5kPWU/dGhpcy5fbWFwLnVucHJvamVjdChlKTp0aGlzLl9tYXAuZ2V0Q2VudGVyKCk7fXJldHVybiB0aGlzLmNsZWFyKCksci5ub01vdmVTdGFydD0hMCxyfX1mdW5jdGlvbiBpUyhlLHQpeyghZS5kdXJhdGlvbnx8ZS5kdXJhdGlvbjx0LmR1cmF0aW9uKSYmKGUuZHVyYXRpb249dC5kdXJhdGlvbixlLmVhc2luZz10LmVhc2luZyk7fWZ1bmN0aW9uIHJTKGUsdCxpKXtjb25zdHttYXhTcGVlZDpyLGxpbmVhcml0eTpuLGRlY2VsZXJhdGlvbjpvfT1pLHM9eihlKm4vKHQvMWUzKSwtcixyKSxhPU1hdGguYWJzKHMpLyhvKm4pO3JldHVybiB7ZWFzaW5nOmkuZWFzaW5nLGR1cmF0aW9uOjFlMyphLGFtb3VudDpzKihhLzIpfX1jbGFzcyBuUyBleHRlbmRzIEF0e3ByZXZlbnREZWZhdWx0KCl7dGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMDt9Z2V0IGRlZmF1bHRQcmV2ZW50ZWQoKXtyZXR1cm4gdGhpcy5fZGVmYXVsdFByZXZlbnRlZH1jb25zdHJ1Y3RvcihlLHQsaSxyPXt9KXtjb25zdCBuPXZ0KHQuZ2V0Q2FudmFzQ29udGFpbmVyKCksaSk7c3VwZXIoZSxrKHtwb2ludDpuLGxuZ0xhdDp0LnVucHJvamVjdChuKSxvcmlnaW5hbEV2ZW50Oml9LHIpKSx0aGlzLl9kZWZhdWx0UHJldmVudGVkPSExLHRoaXMudGFyZ2V0PXQ7fX1jbGFzcyBvUyBleHRlbmRzIEF0e3ByZXZlbnREZWZhdWx0KCl7dGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMDt9Z2V0IGRlZmF1bHRQcmV2ZW50ZWQoKXtyZXR1cm4gdGhpcy5fZGVmYXVsdFByZXZlbnRlZH1jb25zdHJ1Y3RvcihlLHQsaSl7Y29uc3Qgcj1cInRvdWNoZW5kXCI9PT1lP2kuY2hhbmdlZFRvdWNoZXM6aS50b3VjaGVzLG49YnQodC5nZXRDYW52YXNDb250YWluZXIoKSxyKSxvPW4ubWFwKChlPT50LnVucHJvamVjdChlKSkpLHM9bi5yZWR1Y2UoKChlLHQsaSxyKT0+ZS5hZGQodC5kaXYoci5sZW5ndGgpKSksbmV3IHkoMCwwKSk7c3VwZXIoZSx7cG9pbnRzOm4scG9pbnQ6cyxsbmdMYXRzOm8sbG5nTGF0OnQudW5wcm9qZWN0KHMpLG9yaWdpbmFsRXZlbnQ6aX0pLHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITE7fX1jbGFzcyBzUyBleHRlbmRzIEF0e3ByZXZlbnREZWZhdWx0KCl7dGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMDt9Z2V0IGRlZmF1bHRQcmV2ZW50ZWQoKXtyZXR1cm4gdGhpcy5fZGVmYXVsdFByZXZlbnRlZH1jb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoZSx7b3JpZ2luYWxFdmVudDppfSksdGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMTt9fWNsYXNzIGFTe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fbWFwPWUsdGhpcy5fY2xpY2tUb2xlcmFuY2U9dC5jbGlja1RvbGVyYW5jZTt9cmVzZXQoKXt0aGlzLl9tb3VzZWRvd25Qb3M9dm9pZCAwO313aGVlbChlKXtyZXR1cm4gdGhpcy5fZmlyZVByZXZlbnRhYmxlKG5ldyBzUyhlLnR5cGUsdGhpcy5fbWFwLGUpKX1tb3VzZWRvd24oZSx0KXtyZXR1cm4gdGhpcy5fbW91c2Vkb3duUG9zPXQsdGhpcy5fZmlyZVByZXZlbnRhYmxlKG5ldyBuUyhlLnR5cGUsdGhpcy5fbWFwLGUpKX1tb3VzZXVwKGUpe3RoaXMuX21hcC5maXJlKG5ldyBuUyhlLnR5cGUsdGhpcy5fbWFwLGUpKTt9cHJlY2xpY2soZSl7Y29uc3QgdD1rKHt9LGUpO3QudHlwZT1cInByZWNsaWNrXCIsdGhpcy5fbWFwLmZpcmUobmV3IG5TKHQudHlwZSx0aGlzLl9tYXAsdCkpO31jbGljayhlLHQpe3RoaXMuX21vdXNlZG93blBvcyYmdGhpcy5fbW91c2Vkb3duUG9zLmRpc3QodCk+PXRoaXMuX2NsaWNrVG9sZXJhbmNlfHwodGhpcy5wcmVjbGljayhlKSx0aGlzLl9tYXAuZmlyZShuZXcgblMoZS50eXBlLHRoaXMuX21hcCxlKSkpO31kYmxjbGljayhlKXtyZXR1cm4gdGhpcy5fZmlyZVByZXZlbnRhYmxlKG5ldyBuUyhlLnR5cGUsdGhpcy5fbWFwLGUpKX1tb3VzZW92ZXIoZSl7dGhpcy5fbWFwLmZpcmUobmV3IG5TKGUudHlwZSx0aGlzLl9tYXAsZSkpO31tb3VzZW91dChlKXt0aGlzLl9tYXAuZmlyZShuZXcgblMoZS50eXBlLHRoaXMuX21hcCxlKSk7fXRvdWNoc3RhcnQoZSl7cmV0dXJuIHRoaXMuX2ZpcmVQcmV2ZW50YWJsZShuZXcgb1MoZS50eXBlLHRoaXMuX21hcCxlKSl9dG91Y2htb3ZlKGUpe3RoaXMuX21hcC5maXJlKG5ldyBvUyhlLnR5cGUsdGhpcy5fbWFwLGUpKTt9dG91Y2hlbmQoZSl7dGhpcy5fbWFwLmZpcmUobmV3IG9TKGUudHlwZSx0aGlzLl9tYXAsZSkpO310b3VjaGNhbmNlbChlKXt0aGlzLl9tYXAuZmlyZShuZXcgb1MoZS50eXBlLHRoaXMuX21hcCxlKSk7fV9maXJlUHJldmVudGFibGUoZSl7aWYodGhpcy5fbWFwLmZpcmUoZSksZS5kZWZhdWx0UHJldmVudGVkKXJldHVybiB7fX1pc0VuYWJsZWQoKXtyZXR1cm4gITB9aXNBY3RpdmUoKXtyZXR1cm4gITF9ZW5hYmxlKCl7fWRpc2FibGUoKXt9fWNsYXNzIGxTe2NvbnN0cnVjdG9yKGUpe3RoaXMuX21hcD1lO31yZXNldCgpe3RoaXMuX2RlbGF5Q29udGV4dE1lbnU9ITEsdGhpcy5fY29udGV4dE1lbnVFdmVudD12b2lkIDA7fW1vdXNlbW92ZShlKXt0aGlzLl9tYXAuZmlyZShuZXcgblMoZS50eXBlLHRoaXMuX21hcCxlKSk7fW1vdXNlZG93bigpe3RoaXMuX2RlbGF5Q29udGV4dE1lbnU9ITA7fW1vdXNldXAoKXt0aGlzLl9kZWxheUNvbnRleHRNZW51PSExLHRoaXMuX2NvbnRleHRNZW51RXZlbnQmJih0aGlzLl9tYXAuZmlyZShuZXcgblMoXCJjb250ZXh0bWVudVwiLHRoaXMuX21hcCx0aGlzLl9jb250ZXh0TWVudUV2ZW50KSksZGVsZXRlIHRoaXMuX2NvbnRleHRNZW51RXZlbnQpO31jb250ZXh0bWVudShlKXt0aGlzLl9kZWxheUNvbnRleHRNZW51P3RoaXMuX2NvbnRleHRNZW51RXZlbnQ9ZTp0aGlzLl9tYXAuZmlyZShuZXcgblMoZS50eXBlLHRoaXMuX21hcCxlKSksdGhpcy5fbWFwLmxpc3RlbnMoXCJjb250ZXh0bWVudVwiKSYmZS5wcmV2ZW50RGVmYXVsdCgpO31pc0VuYWJsZWQoKXtyZXR1cm4gITB9aXNBY3RpdmUoKXtyZXR1cm4gITF9ZW5hYmxlKCl7fWRpc2FibGUoKXt9fWNsYXNzIGNTe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fbWFwPWUsdGhpcy5fZWw9ZS5nZXRDYW52YXNDb250YWluZXIoKSx0aGlzLl9jb250YWluZXI9ZS5nZXRDb250YWluZXIoKSx0aGlzLl9jbGlja1RvbGVyYW5jZT10LmNsaWNrVG9sZXJhbmNlfHwxO31pc0VuYWJsZWQoKXtyZXR1cm4gISF0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuICEhdGhpcy5fYWN0aXZlfWVuYWJsZSgpe3RoaXMuaXNFbmFibGVkKCl8fCh0aGlzLl9lbmFibGVkPSEwKTt9ZGlzYWJsZSgpe3RoaXMuaXNFbmFibGVkKCkmJih0aGlzLl9lbmFibGVkPSExKTt9bW91c2Vkb3duKGUsdCl7dGhpcy5pc0VuYWJsZWQoKSYmZS5zaGlmdEtleSYmMD09PWUuYnV0dG9uJiYoX3QoKSx0aGlzLl9zdGFydFBvcz10aGlzLl9sYXN0UG9zPXQsdGhpcy5fYWN0aXZlPSEwKTt9bW91c2Vtb3ZlV2luZG93KGUsdCl7aWYoIXRoaXMuX2FjdGl2ZSlyZXR1cm47Y29uc3QgaT10LHI9dGhpcy5fc3RhcnRQb3Msbj10aGlzLl9sYXN0UG9zO2lmKCFyfHwhbnx8bi5lcXVhbHMoaSl8fCF0aGlzLl9ib3gmJmkuZGlzdChyKTx0aGlzLl9jbGlja1RvbGVyYW5jZSlyZXR1cm47dGhpcy5fbGFzdFBvcz1pLHRoaXMuX2JveHx8KHRoaXMuX2JveD11dChcImRpdlwiLFwibWFwYm94Z2wtYm94em9vbVwiLHRoaXMuX2NvbnRhaW5lciksdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jcm9zc2hhaXJcIiksdGhpcy5fZmlyZUV2ZW50KFwiYm94em9vbXN0YXJ0XCIsZSkpO2NvbnN0IG89TWF0aC5taW4oci54LGkueCkscz1NYXRoLm1heChyLngsaS54KSxhPU1hdGgubWluKHIueSxpLnkpLGw9TWF0aC5tYXgoci55LGkueSk7dGhpcy5fbWFwLl9yZXF1ZXN0RG9tVGFzaygoKCk9Pnt0aGlzLl9ib3gmJih0aGlzLl9ib3guc3R5bGUudHJhbnNmb3JtPWB0cmFuc2xhdGUoJHtvfXB4LCR7YX1weClgLHRoaXMuX2JveC5zdHlsZS53aWR0aD1zLW8rXCJweFwiLHRoaXMuX2JveC5zdHlsZS5oZWlnaHQ9bC1hK1wicHhcIik7fSkpO31tb3VzZXVwV2luZG93KGUsdCl7aWYoIXRoaXMuX2FjdGl2ZSlyZXR1cm47Y29uc3QgaT10aGlzLl9zdGFydFBvcyxyPXQ7aWYoaSYmMD09PWUuYnV0dG9uKXtpZih0aGlzLnJlc2V0KCkseHQoKSxpLnghPT1yLnh8fGkueSE9PXIueSlyZXR1cm4gdGhpcy5fbWFwLmZpcmUobmV3IEF0KFwiYm94em9vbWVuZFwiLHtvcmlnaW5hbEV2ZW50OmV9KSkse2NhbWVyYUFuaW1hdGlvbjplPT5lLmZpdFNjcmVlbkNvb3JkaW5hdGVzKGkscix0aGlzLl9tYXAuZ2V0QmVhcmluZygpLHtsaW5lYXI6ITF9KX07dGhpcy5fZmlyZUV2ZW50KFwiYm94em9vbWNhbmNlbFwiLGUpO319a2V5ZG93bihlKXt0aGlzLl9hY3RpdmUmJjI3PT09ZS5rZXlDb2RlJiYodGhpcy5yZXNldCgpLHRoaXMuX2ZpcmVFdmVudChcImJveHpvb21jYW5jZWxcIixlKSk7fWJsdXIoKXt0aGlzLnJlc2V0KCk7fXJlc2V0KCl7dGhpcy5fYWN0aXZlPSExLHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3Jvc3NoYWlyXCIpLHRoaXMuX2JveCYmKHRoaXMuX2JveC5yZW1vdmUoKSx0aGlzLl9ib3g9bnVsbCksZ3QoKSxkZWxldGUgdGhpcy5fc3RhcnRQb3MsZGVsZXRlIHRoaXMuX2xhc3RQb3M7fV9maXJlRXZlbnQoZSx0KXtyZXR1cm4gdGhpcy5fbWFwLmZpcmUobmV3IEF0KGUse29yaWdpbmFsRXZlbnQ6dH0pKX19ZnVuY3Rpb24gaFMoZSx0KXtjb25zdCBpPXt9O2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKWlbZVtyXS5pZGVudGlmaWVyXT10W3JdO3JldHVybiBpfWNsYXNzIHVTe2NvbnN0cnVjdG9yKGUpe3RoaXMucmVzZXQoKSx0aGlzLm51bVRvdWNoZXM9ZS5udW1Ub3VjaGVzO31yZXNldCgpe3RoaXMuY2VudHJvaWQ9dm9pZCAwLHRoaXMuc3RhcnRUaW1lPTAsdGhpcy50b3VjaGVzPXt9LHRoaXMuYWJvcnRlZD0hMTt9dG91Y2hzdGFydChlLHQsaSl7KHRoaXMuY2VudHJvaWR8fGkubGVuZ3RoPnRoaXMubnVtVG91Y2hlcykmJih0aGlzLmFib3J0ZWQ9ITApLHRoaXMuYWJvcnRlZHx8KDA9PT10aGlzLnN0YXJ0VGltZSYmKHRoaXMuc3RhcnRUaW1lPWUudGltZVN0YW1wKSxpLmxlbmd0aD09PXRoaXMubnVtVG91Y2hlcyYmKHRoaXMuY2VudHJvaWQ9ZnVuY3Rpb24oZSl7Y29uc3QgdD1uZXcgeSgwLDApO2Zvcihjb25zdCBpIG9mIGUpdC5fYWRkKGkpO3JldHVybiB0LmRpdihlLmxlbmd0aCl9KHQpLHRoaXMudG91Y2hlcz1oUyhpLHQpKSk7fXRvdWNobW92ZShlLHQsaSl7aWYodGhpcy5hYm9ydGVkfHwhdGhpcy5jZW50cm9pZClyZXR1cm47Y29uc3Qgcj1oUyhpLHQpO2Zvcihjb25zdCBlIGluIHRoaXMudG91Y2hlcyl7Y29uc3QgdD1yW2VdOyghdHx8dC5kaXN0KHRoaXMudG91Y2hlc1tlXSk+MzApJiYodGhpcy5hYm9ydGVkPSEwKTt9fXRvdWNoZW5kKGUsdCxpKXtpZigoIXRoaXMuY2VudHJvaWR8fGUudGltZVN0YW1wLXRoaXMuc3RhcnRUaW1lPjUwMCkmJih0aGlzLmFib3J0ZWQ9ITApLDA9PT1pLmxlbmd0aCl7Y29uc3QgZT0hdGhpcy5hYm9ydGVkJiZ0aGlzLmNlbnRyb2lkO2lmKHRoaXMucmVzZXQoKSxlKXJldHVybiBlfX19Y2xhc3MgZFN7Y29uc3RydWN0b3IoZSl7dGhpcy5zaW5nbGVUYXA9bmV3IHVTKGUpLHRoaXMubnVtVGFwcz1lLm51bVRhcHMsdGhpcy5yZXNldCgpO31yZXNldCgpe3RoaXMubGFzdFRpbWU9MS8wLHRoaXMubGFzdFRhcD12b2lkIDAsdGhpcy5jb3VudD0wLHRoaXMuc2luZ2xlVGFwLnJlc2V0KCk7fXRvdWNoc3RhcnQoZSx0LGkpe3RoaXMuc2luZ2xlVGFwLnRvdWNoc3RhcnQoZSx0LGkpO310b3VjaG1vdmUoZSx0LGkpe3RoaXMuc2luZ2xlVGFwLnRvdWNobW92ZShlLHQsaSk7fXRvdWNoZW5kKGUsdCxpKXtjb25zdCByPXRoaXMuc2luZ2xlVGFwLnRvdWNoZW5kKGUsdCxpKTtpZihyKXtjb25zdCB0PWUudGltZVN0YW1wLXRoaXMubGFzdFRpbWU8NTAwLGk9IXRoaXMubGFzdFRhcHx8dGhpcy5sYXN0VGFwLmRpc3Qocik8MzA7aWYodCYmaXx8dGhpcy5yZXNldCgpLHRoaXMuY291bnQrKyx0aGlzLmxhc3RUaW1lPWUudGltZVN0YW1wLHRoaXMubGFzdFRhcD1yLHRoaXMuY291bnQ9PT10aGlzLm51bVRhcHMpcmV0dXJuIHRoaXMucmVzZXQoKSxyfX19Y2xhc3MgcFN7Y29uc3RydWN0b3IoKXt0aGlzLl96b29tSW49bmV3IGRTKHtudW1Ub3VjaGVzOjEsbnVtVGFwczoyfSksdGhpcy5fem9vbU91dD1uZXcgZFMoe251bVRvdWNoZXM6MixudW1UYXBzOjF9KSx0aGlzLnJlc2V0KCk7fXJlc2V0KCl7dGhpcy5fYWN0aXZlPSExLHRoaXMuX3pvb21Jbi5yZXNldCgpLHRoaXMuX3pvb21PdXQucmVzZXQoKTt9dG91Y2hzdGFydChlLHQsaSl7dGhpcy5fem9vbUluLnRvdWNoc3RhcnQoZSx0LGkpLHRoaXMuX3pvb21PdXQudG91Y2hzdGFydChlLHQsaSk7fXRvdWNobW92ZShlLHQsaSl7dGhpcy5fem9vbUluLnRvdWNobW92ZShlLHQsaSksdGhpcy5fem9vbU91dC50b3VjaG1vdmUoZSx0LGkpO310b3VjaGVuZChlLHQsaSl7Y29uc3Qgcj10aGlzLl96b29tSW4udG91Y2hlbmQoZSx0LGkpLG49dGhpcy5fem9vbU91dC50b3VjaGVuZChlLHQsaSk7cmV0dXJuIHI/KHRoaXMuX2FjdGl2ZT0hMCxlLnByZXZlbnREZWZhdWx0KCksc2V0VGltZW91dCgoKCk9PnRoaXMucmVzZXQoKSksMCkse2NhbWVyYUFuaW1hdGlvbjp0PT50LmVhc2VUbyh7ZHVyYXRpb246MzAwLHpvb206dC5nZXRab29tKCkrMSxhcm91bmQ6dC51bnByb2plY3Qocil9LHtvcmlnaW5hbEV2ZW50OmV9KX0pOm4/KHRoaXMuX2FjdGl2ZT0hMCxlLnByZXZlbnREZWZhdWx0KCksc2V0VGltZW91dCgoKCk9PnRoaXMucmVzZXQoKSksMCkse2NhbWVyYUFuaW1hdGlvbjp0PT50LmVhc2VUbyh7ZHVyYXRpb246MzAwLHpvb206dC5nZXRab29tKCktMSxhcm91bmQ6dC51bnByb2plY3Qobil9LHtvcmlnaW5hbEV2ZW50OmV9KX0pOnZvaWQgMH10b3VjaGNhbmNlbCgpe3RoaXMucmVzZXQoKTt9ZW5hYmxlKCl7dGhpcy5fZW5hYmxlZD0hMDt9ZGlzYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5yZXNldCgpO31pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9hY3RpdmV9fWNvbnN0IGZTPXswOjEsMjoyfTtjbGFzcyBtU3tjb25zdHJ1Y3RvcihlKXt0aGlzLnJlc2V0KCksdGhpcy5fY2xpY2tUb2xlcmFuY2U9ZS5jbGlja1RvbGVyYW5jZXx8MTt9Ymx1cigpe3RoaXMucmVzZXQoKTt9cmVzZXQoKXt0aGlzLl9hY3RpdmU9ITEsdGhpcy5fbW92ZWQ9ITEsdGhpcy5fbGFzdFBvaW50PXZvaWQgMCx0aGlzLl9ldmVudEJ1dHRvbj12b2lkIDA7fV9jb3JyZWN0QnV0dG9uKGUsdCl7cmV0dXJuICExfV9tb3ZlKGUsdCl7cmV0dXJuIHt9fW1vdXNlZG93bihlLHQpe2lmKHRoaXMuX2xhc3RQb2ludClyZXR1cm47Y29uc3QgaT13dChlKTt0aGlzLl9jb3JyZWN0QnV0dG9uKGUsaSkmJih0aGlzLl9sYXN0UG9pbnQ9dCx0aGlzLl9ldmVudEJ1dHRvbj1pKTt9bW91c2Vtb3ZlV2luZG93KGUsdCl7Y29uc3QgaT10aGlzLl9sYXN0UG9pbnQ7aWYoaSlpZihlLnByZXZlbnREZWZhdWx0KCksbnVsbCE9dGhpcy5fZXZlbnRCdXR0b24mJmZ1bmN0aW9uKGUsdCl7Y29uc3QgaT1mU1t0XTtyZXR1cm4gdm9pZCAwPT09ZS5idXR0b25zfHwoZS5idXR0b25zJmkpIT09aX0oZSx0aGlzLl9ldmVudEJ1dHRvbikpdGhpcy5yZXNldCgpO2Vsc2UgaWYodGhpcy5fbW92ZWR8fCEodC5kaXN0KGkpPHRoaXMuX2NsaWNrVG9sZXJhbmNlKSlyZXR1cm4gdGhpcy5fbW92ZWQ9ITAsdGhpcy5fbGFzdFBvaW50PXQsdGhpcy5fbW92ZShpLHQpfW1vdXNldXBXaW5kb3coZSl7dGhpcy5fbGFzdFBvaW50JiZ3dChlKT09PXRoaXMuX2V2ZW50QnV0dG9uJiYodGhpcy5fbW92ZWQmJnh0KCksdGhpcy5yZXNldCgpKTt9ZW5hYmxlKCl7dGhpcy5fZW5hYmxlZD0hMDt9ZGlzYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5yZXNldCgpO31pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9hY3RpdmV9fWNsYXNzIF9TIGV4dGVuZHMgbVN7bW91c2Vkb3duKGUsdCl7c3VwZXIubW91c2Vkb3duKGUsdCksdGhpcy5fbGFzdFBvaW50JiYodGhpcy5fYWN0aXZlPSEwKTt9X2NvcnJlY3RCdXR0b24oZSx0KXtyZXR1cm4gMD09PXQmJiFlLmN0cmxLZXl9X21vdmUoZSx0KXtyZXR1cm4ge2Fyb3VuZDp0LHBhbkRlbHRhOnQuc3ViKGUpfX19Y2xhc3MgZ1MgZXh0ZW5kcyBtU3tfY29ycmVjdEJ1dHRvbihlLHQpe3JldHVybiAwPT09dCYmZS5jdHJsS2V5fHwyPT09dH1fbW92ZShlLHQpe2NvbnN0IGk9LjgqKHQueC1lLngpO2lmKGkpcmV0dXJuIHRoaXMuX2FjdGl2ZT0hMCx7YmVhcmluZ0RlbHRhOml9fWNvbnRleHRtZW51KGUpe2UucHJldmVudERlZmF1bHQoKTt9fWNsYXNzIHlTIGV4dGVuZHMgbVN7X2NvcnJlY3RCdXR0b24oZSx0KXtyZXR1cm4gMD09PXQmJmUuY3RybEtleXx8Mj09PXR9X21vdmUoZSx0KXtjb25zdCBpPS0uNSoodC55LWUueSk7aWYoaSlyZXR1cm4gdGhpcy5fYWN0aXZlPSEwLHtwaXRjaERlbHRhOml9fWNvbnRleHRtZW51KGUpe2UucHJldmVudERlZmF1bHQoKTt9fWNsYXNzIHhTe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fbWFwPWUsdGhpcy5fZWw9ZS5nZXRDYW52YXNDb250YWluZXIoKSx0aGlzLl9taW5Ub3VjaGVzPTEsdGhpcy5fY2xpY2tUb2xlcmFuY2U9dC5jbGlja1RvbGVyYW5jZXx8MSx0aGlzLnJlc2V0KCksaihbXCJfYWRkVG91Y2hQYW5CbG9ja2VyXCIsXCJfc2hvd1RvdWNoUGFuQmxvY2tlckFsZXJ0XCJdLHRoaXMpO31yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMSx0aGlzLl90b3VjaGVzPXt9LHRoaXMuX3N1bT1uZXcgeSgwLDApO310b3VjaHN0YXJ0KGUsdCxpKXtyZXR1cm4gdGhpcy5fY2FsY3VsYXRlVHJhbnNmb3JtKGUsdCxpKX10b3VjaG1vdmUoZSx0LGkpe2lmKHRoaXMuX2FjdGl2ZSYmIShpLmxlbmd0aDx0aGlzLl9taW5Ub3VjaGVzKSl7aWYodGhpcy5fbWFwLl9jb29wZXJhdGl2ZUdlc3R1cmVzJiYhdGhpcy5fbWFwLmlzTW92aW5nKCkpe2lmKDE9PT1pLmxlbmd0aCYmIWllKCkpcmV0dXJuIHZvaWQgdGhpcy5fc2hvd1RvdWNoUGFuQmxvY2tlckFsZXJ0KCk7XCJoaWRkZW5cIiE9PXRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkmJih0aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsY2xlYXJUaW1lb3V0KHRoaXMuX2FsZXJ0VGltZXIpKTt9cmV0dXJuIGUuY2FuY2VsYWJsZSYmZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2NhbGN1bGF0ZVRyYW5zZm9ybShlLHQsaSl9fXRvdWNoZW5kKGUsdCxpKXt0aGlzLl9jYWxjdWxhdGVUcmFuc2Zvcm0oZSx0LGkpLHRoaXMuX2FjdGl2ZSYmaS5sZW5ndGg8dGhpcy5fbWluVG91Y2hlcyYmdGhpcy5yZXNldCgpO310b3VjaGNhbmNlbCgpe3RoaXMucmVzZXQoKTt9X2NhbGN1bGF0ZVRyYW5zZm9ybShlLHQsaSl7aS5sZW5ndGg+MCYmKHRoaXMuX2FjdGl2ZT0hMCk7Y29uc3Qgcj1oUyhpLHQpLG49bmV3IHkoMCwwKSxvPW5ldyB5KDAsMCk7bGV0IHM9MDtmb3IoY29uc3QgZSBpbiByKXtjb25zdCB0PXJbZV0saT10aGlzLl90b3VjaGVzW2VdO2kmJihuLl9hZGQodCksby5fYWRkKHQuc3ViKGkpKSxzKysscltlXT10KTt9aWYodGhpcy5fdG91Y2hlcz1yLHM8dGhpcy5fbWluVG91Y2hlc3x8IW8ubWFnKCkpcmV0dXJuO2NvbnN0IGE9by5kaXYocyk7cmV0dXJuIHRoaXMuX3N1bS5fYWRkKGEpLHRoaXMuX3N1bS5tYWcoKTx0aGlzLl9jbGlja1RvbGVyYW5jZT92b2lkIDA6e2Fyb3VuZDpuLmRpdihzKSxwYW5EZWx0YTphfX1lbmFibGUoKXt0aGlzLl9lbmFibGVkPSEwLHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcyYmKHRoaXMuX2FkZFRvdWNoUGFuQmxvY2tlcigpLHRoaXMuX2VsLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlci1vdmVycmlkZVwiLFwibWFwYm94Z2wtc2Nyb2xsYWJsZS1wYWdlXCIpKTt9ZGlzYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5fbWFwLl9jb29wZXJhdGl2ZUdlc3R1cmVzJiYoY2xlYXJUaW1lb3V0KHRoaXMuX2FsZXJ0VGltZXIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX2VsLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlci1vdmVycmlkZVwiLFwibWFwYm94Z2wtc2Nyb2xsYWJsZS1wYWdlXCIpKSx0aGlzLnJlc2V0KCk7fWlzRW5hYmxlZCgpe3JldHVybiAhIXRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4gISF0aGlzLl9hY3RpdmV9X2FkZFRvdWNoUGFuQmxvY2tlcigpe3RoaXMuX21hcCYmIXRoaXMuX2FsZXJ0Q29udGFpbmVyJiYodGhpcy5fYWxlcnRDb250YWluZXI9dXQoXCJkaXZcIixcIm1hcGJveGdsLXRvdWNoLXBhbi1ibG9ja2VyXCIsdGhpcy5fbWFwLl9jb250YWluZXIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnRleHRDb250ZW50PXRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoXCJUb3VjaFBhbkJsb2NrZXIuTWVzc2FnZVwiKSx0aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS5mb250U2l6ZT1gJHtNYXRoLm1heCgxMCxNYXRoLm1pbigyNCxNYXRoLmZsb29yKC4wNSp0aGlzLl9lbC5jbGllbnRXaWR0aCkpKX1weGApO31fc2hvd1RvdWNoUGFuQmxvY2tlckFsZXJ0KCl7dGhpcy5fYWxlcnRDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eT1cInZpc2libGVcIix0aGlzLl9hbGVydENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXItc2hvd1wiKSx0aGlzLl9hbGVydENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJhbGVydFwiKSxjbGVhclRpbWVvdXQodGhpcy5fYWxlcnRUaW1lciksdGhpcy5fYWxlcnRUaW1lcj1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuX2FsZXJ0Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlci1zaG93XCIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnNldEF0dHJpYnV0ZShcInJvbGVcIixcIm51bGxcIik7fSksNTAwKTt9fWNsYXNzIHZTe2NvbnN0cnVjdG9yKCl7dGhpcy5yZXNldCgpO31yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMSx0aGlzLl9maXJzdFR3b1RvdWNoZXM9dm9pZCAwO31fc3RhcnQoZSl7fV9tb3ZlKGUsdCxpKXtyZXR1cm4ge319dG91Y2hzdGFydChlLHQsaSl7dGhpcy5fZmlyc3RUd29Ub3VjaGVzfHxpLmxlbmd0aDwyfHwodGhpcy5fZmlyc3RUd29Ub3VjaGVzPVtpWzBdLmlkZW50aWZpZXIsaVsxXS5pZGVudGlmaWVyXSx0aGlzLl9zdGFydChbdFswXSx0WzFdXSkpO310b3VjaG1vdmUoZSx0LGkpe2NvbnN0IHI9dGhpcy5fZmlyc3RUd29Ub3VjaGVzO2lmKCFyKXJldHVybjtlLnByZXZlbnREZWZhdWx0KCk7Y29uc3RbbixvXT1yLHM9YlMoaSx0LG4pLGE9YlMoaSx0LG8pO2lmKCFzfHwhYSlyZXR1cm47Y29uc3QgbD10aGlzLl9hcm91bmRDZW50ZXI/bnVsbDpzLmFkZChhKS5kaXYoMik7cmV0dXJuIHRoaXMuX21vdmUoW3MsYV0sbCxlKX10b3VjaGVuZChlLHQsaSl7aWYoIXRoaXMuX2ZpcnN0VHdvVG91Y2hlcylyZXR1cm47Y29uc3RbcixuXT10aGlzLl9maXJzdFR3b1RvdWNoZXMsbz1iUyhpLHQscikscz1iUyhpLHQsbik7byYmc3x8KHRoaXMuX2FjdGl2ZSYmeHQoKSx0aGlzLnJlc2V0KCkpO310b3VjaGNhbmNlbCgpe3RoaXMucmVzZXQoKTt9ZW5hYmxlKGUpe3RoaXMuX2VuYWJsZWQ9ITAsdGhpcy5fYXJvdW5kQ2VudGVyPSEhZSYmXCJjZW50ZXJcIj09PWUuYXJvdW5kO31kaXNhYmxlKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLnJlc2V0KCk7fWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX19ZnVuY3Rpb24gYlMoZSx0LGkpe2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl0uaWRlbnRpZmllcj09PWkpcmV0dXJuIHRbcl19ZnVuY3Rpb24gd1MoZSx0KXtyZXR1cm4gTWF0aC5sb2coZS90KS9NYXRoLkxOMn1jbGFzcyBUUyBleHRlbmRzIHZTe3Jlc2V0KCl7c3VwZXIucmVzZXQoKSx0aGlzLl9kaXN0YW5jZT0wLHRoaXMuX3N0YXJ0RGlzdGFuY2U9MDt9X3N0YXJ0KGUpe3RoaXMuX3N0YXJ0RGlzdGFuY2U9dGhpcy5fZGlzdGFuY2U9ZVswXS5kaXN0KGVbMV0pO31fbW92ZShlLHQpe2NvbnN0IGk9dGhpcy5fZGlzdGFuY2U7aWYodGhpcy5fZGlzdGFuY2U9ZVswXS5kaXN0KGVbMV0pLHRoaXMuX2FjdGl2ZXx8IShNYXRoLmFicyh3Uyh0aGlzLl9kaXN0YW5jZSx0aGlzLl9zdGFydERpc3RhbmNlKSk8LjEpKXJldHVybiB0aGlzLl9hY3RpdmU9ITAse3pvb21EZWx0YTp3Uyh0aGlzLl9kaXN0YW5jZSxpKSxwaW5jaEFyb3VuZDp0fX19ZnVuY3Rpb24gRVMoZSx0KXtyZXR1cm4gMTgwKmUuYW5nbGVXaXRoKHQpL01hdGguUEl9Y2xhc3MgTVMgZXh0ZW5kcyB2U3tyZXNldCgpe3N1cGVyLnJlc2V0KCksdGhpcy5fbWluRGlhbWV0ZXI9MCx0aGlzLl9zdGFydFZlY3Rvcj12b2lkIDAsdGhpcy5fdmVjdG9yPXZvaWQgMDt9X3N0YXJ0KGUpe3RoaXMuX3N0YXJ0VmVjdG9yPXRoaXMuX3ZlY3Rvcj1lWzBdLnN1YihlWzFdKSx0aGlzLl9taW5EaWFtZXRlcj1lWzBdLmRpc3QoZVsxXSk7fV9tb3ZlKGUsdCl7Y29uc3QgaT10aGlzLl92ZWN0b3I7aWYodGhpcy5fdmVjdG9yPWVbMF0uc3ViKGVbMV0pLGkmJih0aGlzLl9hY3RpdmV8fCF0aGlzLl9pc0JlbG93VGhyZXNob2xkKHRoaXMuX3ZlY3RvcikpKXJldHVybiB0aGlzLl9hY3RpdmU9ITAse2JlYXJpbmdEZWx0YTpFUyh0aGlzLl92ZWN0b3IsaSkscGluY2hBcm91bmQ6dH19X2lzQmVsb3dUaHJlc2hvbGQoZSl7dGhpcy5fbWluRGlhbWV0ZXI9TWF0aC5taW4odGhpcy5fbWluRGlhbWV0ZXIsZS5tYWcoKSk7Y29uc3QgdD0yNS8oTWF0aC5QSSp0aGlzLl9taW5EaWFtZXRlcikqMzYwLGk9dGhpcy5fc3RhcnRWZWN0b3I7aWYoIWkpcmV0dXJuICExO2NvbnN0IHI9RVMoZSxpKTtyZXR1cm4gTWF0aC5hYnMocik8dH19ZnVuY3Rpb24gQVMoZSl7cmV0dXJuIE1hdGguYWJzKGUueSk+TWF0aC5hYnMoZS54KX1jbGFzcyBTUyBleHRlbmRzIHZTe2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5fbWFwPWU7fXJlc2V0KCl7c3VwZXIucmVzZXQoKSx0aGlzLl92YWxpZD12b2lkIDAsdGhpcy5fZmlyc3RNb3ZlPXZvaWQgMCx0aGlzLl9sYXN0UG9pbnRzPXZvaWQgMDt9X3N0YXJ0KGUpe3RoaXMuX2xhc3RQb2ludHM9ZSxBUyhlWzBdLnN1YihlWzFdKSkmJih0aGlzLl92YWxpZD0hMSk7fV9tb3ZlKGUsdCxpKXtjb25zdCByPXRoaXMuX2xhc3RQb2ludHM7aWYoIXIpcmV0dXJuO2NvbnN0IG49ZVswXS5zdWIoclswXSksbz1lWzFdLnN1YihyWzFdKTtyZXR1cm4gdGhpcy5fbWFwLl9jb29wZXJhdGl2ZUdlc3R1cmVzJiYhaWUoKSYmaS50b3VjaGVzLmxlbmd0aDwzfHwodGhpcy5fdmFsaWQ9dGhpcy5nZXN0dXJlQmVnaW5zVmVydGljYWxseShuLG8saS50aW1lU3RhbXApLCF0aGlzLl92YWxpZCk/dm9pZCAwOih0aGlzLl9sYXN0UG9pbnRzPWUsdGhpcy5fYWN0aXZlPSEwLHtwaXRjaERlbHRhOihuLnkrby55KS8yKi0uNX0pfWdlc3R1cmVCZWdpbnNWZXJ0aWNhbGx5KGUsdCxpKXtpZih2b2lkIDAhPT10aGlzLl92YWxpZClyZXR1cm4gdGhpcy5fdmFsaWQ7Y29uc3Qgcj1lLm1hZygpPj0yLG49dC5tYWcoKT49MjtpZighciYmIW4pcmV0dXJuO2lmKCFyfHwhbilyZXR1cm4gbnVsbD09dGhpcy5fZmlyc3RNb3ZlJiYodGhpcy5fZmlyc3RNb3ZlPWkpLGktdGhpcy5fZmlyc3RNb3ZlPDEwMCYmdm9pZCAwO2NvbnN0IG89ZS55PjA9PXQueT4wO3JldHVybiBBUyhlKSYmQVModCkmJm99fWNvbnN0IElTPXtwYW5TdGVwOjEwMCxiZWFyaW5nU3RlcDoxNSxwaXRjaFN0ZXA6MTB9O2NsYXNzIENTe2NvbnN0cnVjdG9yKCl7Y29uc3QgZT1JUzt0aGlzLl9wYW5TdGVwPWUucGFuU3RlcCx0aGlzLl9iZWFyaW5nU3RlcD1lLmJlYXJpbmdTdGVwLHRoaXMuX3BpdGNoU3RlcD1lLnBpdGNoU3RlcCx0aGlzLl9yb3RhdGlvbkRpc2FibGVkPSExO31ibHVyKCl7dGhpcy5yZXNldCgpO31yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMTt9a2V5ZG93bihlKXtpZihlLmFsdEtleXx8ZS5jdHJsS2V5fHxlLm1ldGFLZXkpcmV0dXJuO2xldCB0PTAsaT0wLHI9MCxuPTAsbz0wO3N3aXRjaChlLmtleUNvZGUpe2Nhc2UgNjE6Y2FzZSAxMDc6Y2FzZSAxNzE6Y2FzZSAxODc6dD0xO2JyZWFrO2Nhc2UgMTg5OmNhc2UgMTA5OmNhc2UgMTczOnQ9LTE7YnJlYWs7Y2FzZSAzNzplLnNoaWZ0S2V5P2k9LTE6KGUucHJldmVudERlZmF1bHQoKSxuPS0xKTticmVhaztjYXNlIDM5OmUuc2hpZnRLZXk/aT0xOihlLnByZXZlbnREZWZhdWx0KCksbj0xKTticmVhaztjYXNlIDM4OmUuc2hpZnRLZXk/cj0xOihlLnByZXZlbnREZWZhdWx0KCksbz0tMSk7YnJlYWs7Y2FzZSA0MDplLnNoaWZ0S2V5P3I9LTE6KGUucHJldmVudERlZmF1bHQoKSxvPTEpO2JyZWFrO2RlZmF1bHQ6cmV0dXJufXJldHVybiB0aGlzLl9yb3RhdGlvbkRpc2FibGVkJiYoaT0wLHI9MCkse2NhbWVyYUFuaW1hdGlvbjpzPT57Y29uc3QgYT1zLmdldFpvb20oKTtzLmVhc2VUbyh7ZHVyYXRpb246MzAwLGVhc2VJZDpcImtleWJvYXJkSGFuZGxlclwiLGVhc2luZzp6Uyx6b29tOnQ/TWF0aC5yb3VuZChhKSt0KihlLnNoaWZ0S2V5PzI6MSk6YSxiZWFyaW5nOnMuZ2V0QmVhcmluZygpK2kqdGhpcy5fYmVhcmluZ1N0ZXAscGl0Y2g6cy5nZXRQaXRjaCgpK3IqdGhpcy5fcGl0Y2hTdGVwLG9mZnNldDpbLW4qdGhpcy5fcGFuU3RlcCwtbyp0aGlzLl9wYW5TdGVwXSxjZW50ZXI6cy5nZXRDZW50ZXIoKX0se29yaWdpbmFsRXZlbnQ6ZX0pO319fWVuYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITA7fWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMucmVzZXQoKTt9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fYWN0aXZlfWRpc2FibGVSb3RhdGlvbigpe3RoaXMuX3JvdGF0aW9uRGlzYWJsZWQ9ITA7fWVuYWJsZVJvdGF0aW9uKCl7dGhpcy5fcm90YXRpb25EaXNhYmxlZD0hMTt9fWZ1bmN0aW9uIHpTKGUpe3JldHVybiBlKigyLWUpfWNvbnN0IERTPTQuMDAwMjQ0MTQwNjI1O2NsYXNzIFBTe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fbWFwPWUsdGhpcy5fZWw9ZS5nZXRDYW52YXNDb250YWluZXIoKSx0aGlzLl9oYW5kbGVyPXQsdGhpcy5fZGVsdGE9MCx0aGlzLl9sYXN0RGVsdGE9MCx0aGlzLl9kZWZhdWx0Wm9vbVJhdGU9LjAxLHRoaXMuX3doZWVsWm9vbVJhdGU9LjAwMjIyMjIyMjIyMjIyMjIyMjIsaihbXCJfb25UaW1lb3V0XCIsXCJfYWRkU2Nyb2xsWm9vbUJsb2NrZXJcIixcIl9zaG93QmxvY2tlckFsZXJ0XCJdLHRoaXMpO31zZXRab29tUmF0ZShlKXt0aGlzLl9kZWZhdWx0Wm9vbVJhdGU9ZTt9c2V0V2hlZWxab29tUmF0ZShlKXt0aGlzLl93aGVlbFpvb21SYXRlPWU7fWlzRW5hYmxlZCgpe3JldHVybiAhIXRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fYWN0aXZlfHx2b2lkIDAhPT10aGlzLl9maW5pc2hUaW1lb3V0fWlzWm9vbWluZygpe3JldHVybiAhIXRoaXMuX3pvb21pbmd9ZW5hYmxlKGUpe3RoaXMuaXNFbmFibGVkKCl8fCh0aGlzLl9lbmFibGVkPSEwLHRoaXMuX2Fyb3VuZENlbnRlcj0hIWUmJlwiY2VudGVyXCI9PT1lLmFyb3VuZCx0aGlzLl9tYXAuX2Nvb3BlcmF0aXZlR2VzdHVyZXMmJnRoaXMuX2FkZFNjcm9sbFpvb21CbG9ja2VyKCkpO31kaXNhYmxlKCl7dGhpcy5pc0VuYWJsZWQoKSYmKHRoaXMuX2VuYWJsZWQ9ITEsdGhpcy5fbWFwLl9jb29wZXJhdGl2ZUdlc3R1cmVzJiYoY2xlYXJUaW1lb3V0KHRoaXMuX2FsZXJ0VGltZXIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnJlbW92ZSgpKSk7fXdoZWVsKGUpe2lmKCF0aGlzLmlzRW5hYmxlZCgpKXJldHVybjtpZih0aGlzLl9tYXAuX2Nvb3BlcmF0aXZlR2VzdHVyZXMpe2lmKCEoZS5jdHJsS2V5fHxlLm1ldGFLZXl8fHRoaXMuaXNab29taW5nKCl8fGllKCkpKXJldHVybiB2b2lkIHRoaXMuX3Nob3dCbG9ja2VyQWxlcnQoKTtcImhpZGRlblwiIT09dGhpcy5fYWxlcnRDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSYmKHRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIixjbGVhclRpbWVvdXQodGhpcy5fYWxlcnRUaW1lcikpO31sZXQgaT1lLmRlbHRhTW9kZT09PXQuV2hlZWxFdmVudC5ET01fREVMVEFfTElORT80MCplLmRlbHRhWTplLmRlbHRhWTtjb25zdCByPWh0Lm5vdygpLG49ci0odGhpcy5fbGFzdFdoZWVsRXZlbnRUaW1lfHwwKTt0aGlzLl9sYXN0V2hlZWxFdmVudFRpbWU9ciwwIT09aSYmaSVEUz09MD90aGlzLl90eXBlPVwid2hlZWxcIjowIT09aSYmTWF0aC5hYnMoaSk8ND90aGlzLl90eXBlPVwidHJhY2twYWRcIjpuPjQwMD8odGhpcy5fdHlwZT1udWxsLHRoaXMuX2xhc3RWYWx1ZT1pLHRoaXMuX3RpbWVvdXQ9c2V0VGltZW91dCh0aGlzLl9vblRpbWVvdXQsNDAsZSkpOnRoaXMuX3R5cGV8fCh0aGlzLl90eXBlPU1hdGguYWJzKG4qaSk8MjAwP1widHJhY2twYWRcIjpcIndoZWVsXCIsdGhpcy5fdGltZW91dCYmKGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KSx0aGlzLl90aW1lb3V0PW51bGwsaSs9dGhpcy5fbGFzdFZhbHVlKSksZS5zaGlmdEtleSYmaSYmKGkvPTQpLHRoaXMuX3R5cGUmJih0aGlzLl9sYXN0V2hlZWxFdmVudD1lLHRoaXMuX2RlbHRhLT1pLHRoaXMuX2FjdGl2ZXx8dGhpcy5fc3RhcnQoZSkpLGUucHJldmVudERlZmF1bHQoKTt9X29uVGltZW91dChlKXt0aGlzLl90eXBlPVwid2hlZWxcIix0aGlzLl9kZWx0YS09dGhpcy5fbGFzdFZhbHVlLHRoaXMuX2FjdGl2ZXx8dGhpcy5fc3RhcnQoZSk7fV9zdGFydChlKXtpZighdGhpcy5fZGVsdGEpcmV0dXJuO3RoaXMuX2ZyYW1lSWQmJih0aGlzLl9mcmFtZUlkPW51bGwpLHRoaXMuX2FjdGl2ZT0hMCx0aGlzLmlzWm9vbWluZygpfHwodGhpcy5fem9vbWluZz0hMCksdGhpcy5fZmluaXNoVGltZW91dCYmKGNsZWFyVGltZW91dCh0aGlzLl9maW5pc2hUaW1lb3V0KSxkZWxldGUgdGhpcy5fZmluaXNoVGltZW91dCk7Y29uc3QgdD12dCh0aGlzLl9lbCxlKTt0aGlzLl9hcm91bmRQb2ludD10aGlzLl9hcm91bmRDZW50ZXI/dGhpcy5fbWFwLnRyYW5zZm9ybS5jZW50ZXJQb2ludDp0LHRoaXMuX2Fyb3VuZENvb3JkPXRoaXMuX21hcC50cmFuc2Zvcm0ucG9pbnRDb29yZGluYXRlM0QodGhpcy5fYXJvdW5kUG9pbnQpLHRoaXMuX3RhcmdldFpvb209dm9pZCAwLHRoaXMuX2ZyYW1lSWR8fCh0aGlzLl9mcmFtZUlkPSEwLHRoaXMuX2hhbmRsZXIuX3RyaWdnZXJSZW5kZXJGcmFtZSgpKTt9cmVuZGVyRnJhbWUoKXtpZighdGhpcy5fZnJhbWVJZClyZXR1cm47aWYodGhpcy5fZnJhbWVJZD1udWxsLCF0aGlzLmlzQWN0aXZlKCkpcmV0dXJuO2NvbnN0IGU9dGhpcy5fbWFwLnRyYW5zZm9ybTtcIndoZWVsXCI9PT10aGlzLl90eXBlJiZlLnByb2plY3Rpb24ud3JhcCYmKGUuX2NlbnRlci5sbmc+PTE4MHx8ZS5fY2VudGVyLmxuZzw9LTE4MCkmJih0aGlzLl9wcmV2RWFzZT1udWxsLHRoaXMuX2Vhc2luZz1udWxsLHRoaXMuX2xhc3RXaGVlbEV2ZW50PW51bGwsdGhpcy5fbGFzdFdoZWVsRXZlbnRUaW1lPTApO2NvbnN0IHQ9KCk9PmUuX3RlcnJhaW5FbmFibGVkKCkmJnRoaXMuX2Fyb3VuZENvb3JkP2UuY29tcHV0ZVpvb21SZWxhdGl2ZVRvKHRoaXMuX2Fyb3VuZENvb3JkKTplLnpvb207aWYoMCE9PXRoaXMuX2RlbHRhKXtjb25zdCBpPVwid2hlZWxcIj09PXRoaXMuX3R5cGUmJk1hdGguYWJzKHRoaXMuX2RlbHRhKT5EUz90aGlzLl93aGVlbFpvb21SYXRlOnRoaXMuX2RlZmF1bHRab29tUmF0ZTtsZXQgcj0yLygxK01hdGguZXhwKC1NYXRoLmFicyh0aGlzLl9kZWx0YSppKSkpO3RoaXMuX2RlbHRhPDAmJjAhPT1yJiYocj0xL3IpO2NvbnN0IG49dCgpLG89TWF0aC5wb3coMixuKSxzPVwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLl90YXJnZXRab29tP2Uuem9vbVNjYWxlKHRoaXMuX3RhcmdldFpvb20pOm87dGhpcy5fdGFyZ2V0Wm9vbT1NYXRoLm1pbihlLm1heFpvb20sTWF0aC5tYXgoZS5taW5ab29tLGUuc2NhbGVab29tKHMqcikpKSxcIndoZWVsXCI9PT10aGlzLl90eXBlJiYodGhpcy5fc3RhcnRab29tPW4sdGhpcy5fZWFzaW5nPXRoaXMuX3Ntb290aE91dEVhc2luZygyMDApKSx0aGlzLl9sYXN0RGVsdGE9dGhpcy5fZGVsdGEsdGhpcy5fZGVsdGE9MDt9Y29uc3QgaT1cIm51bWJlclwiPT10eXBlb2YgdGhpcy5fdGFyZ2V0Wm9vbT90aGlzLl90YXJnZXRab29tOnQoKSxyPXRoaXMuX3N0YXJ0Wm9vbSxuPXRoaXMuX2Vhc2luZztsZXQgbyxzPSExO2lmKFwid2hlZWxcIj09PXRoaXMuX3R5cGUmJnImJm4pe2NvbnN0IGU9TWF0aC5taW4oKGh0Lm5vdygpLXRoaXMuX2xhc3RXaGVlbEV2ZW50VGltZSkvMjAwLDEpO289V3IocixpLG4oZSkpLGU8MT90aGlzLl9mcmFtZUlkfHwodGhpcy5fZnJhbWVJZD0hMCk6cz0hMDt9ZWxzZSBvPWkscz0hMDt0aGlzLl9hY3RpdmU9ITAscyYmKHRoaXMuX2FjdGl2ZT0hMSx0aGlzLl9maW5pc2hUaW1lb3V0PXNldFRpbWVvdXQoKCgpPT57dGhpcy5fem9vbWluZz0hMSx0aGlzLl9oYW5kbGVyLl90cmlnZ2VyUmVuZGVyRnJhbWUoKSxkZWxldGUgdGhpcy5fdGFyZ2V0Wm9vbSxkZWxldGUgdGhpcy5fZmluaXNoVGltZW91dDt9KSwyMDApKTtsZXQgYT1vLXQoKTtyZXR1cm4gYSp0aGlzLl9sYXN0RGVsdGE8MCYmKGE9MCkse25vSW5lcnRpYTohMCxuZWVkc1JlbmRlckZyYW1lOiFzLHpvb21EZWx0YTphLGFyb3VuZDp0aGlzLl9hcm91bmRQb2ludCxhcm91bmRDb29yZDp0aGlzLl9hcm91bmRDb29yZCxvcmlnaW5hbEV2ZW50OnRoaXMuX2xhc3RXaGVlbEV2ZW50fX1fc21vb3RoT3V0RWFzaW5nKGUpe2xldCB0PUM7aWYodGhpcy5fcHJldkVhc2Upe2NvbnN0IGU9dGhpcy5fcHJldkVhc2UsaT0oaHQubm93KCktZS5zdGFydCkvZS5kdXJhdGlvbixyPWUuZWFzaW5nKGkrLjAxKS1lLmVhc2luZyhpKSxuPS4yNy9NYXRoLnNxcnQocipyKzFlLTQpKi4wMTt0PUkobixNYXRoLnNxcnQoLjA3MjktbipuKSwuMjUsMSk7fXJldHVybiB0aGlzLl9wcmV2RWFzZT17c3RhcnQ6aHQubm93KCksZHVyYXRpb246ZSxlYXNpbmc6dH0sdH1ibHVyKCl7dGhpcy5yZXNldCgpO31yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMTt9X2FkZFNjcm9sbFpvb21CbG9ja2VyKCl7dGhpcy5fbWFwJiYhdGhpcy5fYWxlcnRDb250YWluZXImJih0aGlzLl9hbGVydENvbnRhaW5lcj11dChcImRpdlwiLFwibWFwYm94Z2wtc2Nyb2xsLXpvb20tYmxvY2tlclwiLHRoaXMuX21hcC5fY29udGFpbmVyKSx0aGlzLl9hbGVydENvbnRhaW5lci50ZXh0Q29udGVudD0vKE1hY3xpUGFkKS9pLnRlc3QodC5uYXZpZ2F0b3IudXNlckFnZW50KT90aGlzLl9tYXAuX2dldFVJU3RyaW5nKFwiU2Nyb2xsWm9vbUJsb2NrZXIuQ21kTWVzc2FnZVwiKTp0aGlzLl9tYXAuX2dldFVJU3RyaW5nKFwiU2Nyb2xsWm9vbUJsb2NrZXIuQ3RybE1lc3NhZ2VcIiksdGhpcy5fYWxlcnRDb250YWluZXIuc3R5bGUuZm9udFNpemU9YCR7TWF0aC5tYXgoMTAsTWF0aC5taW4oMjQsTWF0aC5mbG9vciguMDUqdGhpcy5fZWwuY2xpZW50V2lkdGgpKSl9cHhgKTt9X3Nob3dCbG9ja2VyQWxlcnQoKXt0aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5PVwidmlzaWJsZVwiLHRoaXMuX2FsZXJ0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1zY3JvbGwtem9vbS1ibG9ja2VyLXNob3dcIiksdGhpcy5fYWxlcnRDb250YWluZXIuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwiYWxlcnRcIiksY2xlYXJUaW1lb3V0KHRoaXMuX2FsZXJ0VGltZXIpLHRoaXMuX2FsZXJ0VGltZXI9c2V0VGltZW91dCgoKCk9Pnt0aGlzLl9hbGVydENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtc2Nyb2xsLXpvb20tYmxvY2tlci1zaG93XCIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnNldEF0dHJpYnV0ZShcInJvbGVcIixcIm51bGxcIik7fSksMjAwKTt9fWNsYXNzIFJTe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fY2xpY2tab29tPWUsdGhpcy5fdGFwWm9vbT10O31lbmFibGUoKXt0aGlzLl9jbGlja1pvb20uZW5hYmxlKCksdGhpcy5fdGFwWm9vbS5lbmFibGUoKTt9ZGlzYWJsZSgpe3RoaXMuX2NsaWNrWm9vbS5kaXNhYmxlKCksdGhpcy5fdGFwWm9vbS5kaXNhYmxlKCk7fWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9jbGlja1pvb20uaXNFbmFibGVkKCkmJnRoaXMuX3RhcFpvb20uaXNFbmFibGVkKCl9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fY2xpY2tab29tLmlzQWN0aXZlKCl8fHRoaXMuX3RhcFpvb20uaXNBY3RpdmUoKX19Y2xhc3MgTFN7Y29uc3RydWN0b3IoKXt0aGlzLnJlc2V0KCk7fXJlc2V0KCl7dGhpcy5fYWN0aXZlPSExO31ibHVyKCl7dGhpcy5yZXNldCgpO31kYmxjbGljayhlLHQpe3JldHVybiBlLnByZXZlbnREZWZhdWx0KCkse2NhbWVyYUFuaW1hdGlvbjppPT57aS5lYXNlVG8oe2R1cmF0aW9uOjMwMCx6b29tOmkuZ2V0Wm9vbSgpKyhlLnNoaWZ0S2V5Py0xOjEpLGFyb3VuZDppLnVucHJvamVjdCh0KX0se29yaWdpbmFsRXZlbnQ6ZX0pO319fWVuYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITA7fWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMucmVzZXQoKTt9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fYWN0aXZlfX1jbGFzcyBrU3tjb25zdHJ1Y3Rvcigpe3RoaXMuX3RhcD1uZXcgZFMoe251bVRvdWNoZXM6MSxudW1UYXBzOjF9KSx0aGlzLnJlc2V0KCk7fXJlc2V0KCl7dGhpcy5fYWN0aXZlPSExLHRoaXMuX3N3aXBlUG9pbnQ9dm9pZCAwLHRoaXMuX3N3aXBlVG91Y2g9MCx0aGlzLl90YXBUaW1lPTAsdGhpcy5fdGFwLnJlc2V0KCk7fXRvdWNoc3RhcnQoZSx0LGkpe3RoaXMuX3N3aXBlUG9pbnR8fCh0aGlzLl90YXBUaW1lJiZlLnRpbWVTdGFtcC10aGlzLl90YXBUaW1lPjUwMCYmdGhpcy5yZXNldCgpLHRoaXMuX3RhcFRpbWU/aS5sZW5ndGg+MCYmKHRoaXMuX3N3aXBlUG9pbnQ9dFswXSx0aGlzLl9zd2lwZVRvdWNoPWlbMF0uaWRlbnRpZmllcik6dGhpcy5fdGFwLnRvdWNoc3RhcnQoZSx0LGkpKTt9dG91Y2htb3ZlKGUsdCxpKXtpZih0aGlzLl90YXBUaW1lKXtpZih0aGlzLl9zd2lwZVBvaW50KXtpZihpWzBdLmlkZW50aWZpZXIhPT10aGlzLl9zd2lwZVRvdWNoKXJldHVybjtjb25zdCByPXRbMF0sbj1yLnktdGhpcy5fc3dpcGVQb2ludC55O3JldHVybiB0aGlzLl9zd2lwZVBvaW50PXIsZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2FjdGl2ZT0hMCx7em9vbURlbHRhOm4vMTI4fX19ZWxzZSB0aGlzLl90YXAudG91Y2htb3ZlKGUsdCxpKTt9dG91Y2hlbmQoZSx0LGkpe3RoaXMuX3RhcFRpbWU/dGhpcy5fc3dpcGVQb2ludCYmMD09PWkubGVuZ3RoJiZ0aGlzLnJlc2V0KCk6dGhpcy5fdGFwLnRvdWNoZW5kKGUsdCxpKSYmKHRoaXMuX3RhcFRpbWU9ZS50aW1lU3RhbXApO310b3VjaGNhbmNlbCgpe3RoaXMucmVzZXQoKTt9ZW5hYmxlKCl7dGhpcy5fZW5hYmxlZD0hMDt9ZGlzYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5yZXNldCgpO31pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9hY3RpdmV9fWNsYXNzIE9Te2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLl9lbD1lLHRoaXMuX21vdXNlUGFuPXQsdGhpcy5fdG91Y2hQYW49aTt9ZW5hYmxlKGUpe3RoaXMuX2luZXJ0aWFPcHRpb25zPWV8fHt9LHRoaXMuX21vdXNlUGFuLmVuYWJsZSgpLHRoaXMuX3RvdWNoUGFuLmVuYWJsZSgpLHRoaXMuX2VsLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC10b3VjaC1kcmFnLXBhblwiKTt9ZGlzYWJsZSgpe3RoaXMuX21vdXNlUGFuLmRpc2FibGUoKSx0aGlzLl90b3VjaFBhbi5kaXNhYmxlKCksdGhpcy5fZWwuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLXRvdWNoLWRyYWctcGFuXCIpO31pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fbW91c2VQYW4uaXNFbmFibGVkKCkmJnRoaXMuX3RvdWNoUGFuLmlzRW5hYmxlZCgpfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX21vdXNlUGFuLmlzQWN0aXZlKCl8fHRoaXMuX3RvdWNoUGFuLmlzQWN0aXZlKCl9fWNsYXNzIEJTe2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLl9waXRjaFdpdGhSb3RhdGU9ZS5waXRjaFdpdGhSb3RhdGUsdGhpcy5fbW91c2VSb3RhdGU9dCx0aGlzLl9tb3VzZVBpdGNoPWk7fWVuYWJsZSgpe3RoaXMuX21vdXNlUm90YXRlLmVuYWJsZSgpLHRoaXMuX3BpdGNoV2l0aFJvdGF0ZSYmdGhpcy5fbW91c2VQaXRjaC5lbmFibGUoKTt9ZGlzYWJsZSgpe3RoaXMuX21vdXNlUm90YXRlLmRpc2FibGUoKSx0aGlzLl9tb3VzZVBpdGNoLmRpc2FibGUoKTt9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX21vdXNlUm90YXRlLmlzRW5hYmxlZCgpJiYoIXRoaXMuX3BpdGNoV2l0aFJvdGF0ZXx8dGhpcy5fbW91c2VQaXRjaC5pc0VuYWJsZWQoKSl9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fbW91c2VSb3RhdGUuaXNBY3RpdmUoKXx8dGhpcy5fbW91c2VQaXRjaC5pc0FjdGl2ZSgpfX1jbGFzcyBGU3tjb25zdHJ1Y3RvcihlLHQsaSxyKXt0aGlzLl9lbD1lLHRoaXMuX3RvdWNoWm9vbT10LHRoaXMuX3RvdWNoUm90YXRlPWksdGhpcy5fdGFwRHJhZ1pvb209cix0aGlzLl9yb3RhdGlvbkRpc2FibGVkPSExLHRoaXMuX2VuYWJsZWQ9ITA7fWVuYWJsZShlKXt0aGlzLl90b3VjaFpvb20uZW5hYmxlKGUpLHRoaXMuX3JvdGF0aW9uRGlzYWJsZWR8fHRoaXMuX3RvdWNoUm90YXRlLmVuYWJsZShlKSx0aGlzLl90YXBEcmFnWm9vbS5lbmFibGUoKSx0aGlzLl9lbC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdG91Y2gtem9vbS1yb3RhdGVcIik7fWRpc2FibGUoKXt0aGlzLl90b3VjaFpvb20uZGlzYWJsZSgpLHRoaXMuX3RvdWNoUm90YXRlLmRpc2FibGUoKSx0aGlzLl90YXBEcmFnWm9vbS5kaXNhYmxlKCksdGhpcy5fZWwuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLXRvdWNoLXpvb20tcm90YXRlXCIpO31pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fdG91Y2hab29tLmlzRW5hYmxlZCgpJiYodGhpcy5fcm90YXRpb25EaXNhYmxlZHx8dGhpcy5fdG91Y2hSb3RhdGUuaXNFbmFibGVkKCkpJiZ0aGlzLl90YXBEcmFnWm9vbS5pc0VuYWJsZWQoKX1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl90b3VjaFpvb20uaXNBY3RpdmUoKXx8dGhpcy5fdG91Y2hSb3RhdGUuaXNBY3RpdmUoKXx8dGhpcy5fdGFwRHJhZ1pvb20uaXNBY3RpdmUoKX1kaXNhYmxlUm90YXRpb24oKXt0aGlzLl9yb3RhdGlvbkRpc2FibGVkPSEwLHRoaXMuX3RvdWNoUm90YXRlLmRpc2FibGUoKTt9ZW5hYmxlUm90YXRpb24oKXt0aGlzLl9yb3RhdGlvbkRpc2FibGVkPSExLHRoaXMuX3RvdWNoWm9vbS5pc0VuYWJsZWQoKSYmdGhpcy5fdG91Y2hSb3RhdGUuZW5hYmxlKCk7fX1jb25zdCBOUz1lPT5lLnpvb218fGUuZHJhZ3x8ZS5waXRjaHx8ZS5yb3RhdGU7Y2xhc3MgVVMgZXh0ZW5kcyBBdHt9Y2xhc3MgVlN7Y29uc3RydWN0b3IoKXt0aGlzLmNvbnN0YW50cz1bMSwxLC4wMV0sdGhpcy5yYWRpdXM9MDt9c2V0dXAoZSx0KXtjb25zdCBpPU11LnN1YihbXSx0LGUpO3RoaXMucmFkaXVzPU11Lmxlbmd0aChpWzJdPDA/TXUuZGl2KFtdLGksdGhpcy5jb25zdGFudHMpOltpWzBdLGlbMV0sMF0pO31wcm9qZWN0UmF5KGUpe011LmRpdihlLGUsdGhpcy5jb25zdGFudHMpLE11Lm5vcm1hbGl6ZShlLGUpLE11Lm11bChlLGUsdGhpcy5jb25zdGFudHMpO2NvbnN0IHQ9TXUuc2NhbGUoW10sZSx0aGlzLnJhZGl1cyk7aWYodFsyXT4wKXtjb25zdCBlPU11LnNjYWxlKFtdLFswLDAsMV0sTXUuZG90KHQsWzAsMCwxXSkpLGk9TXUuc2NhbGUoW10sTXUubm9ybWFsaXplKFtdLFt0WzBdLHRbMV0sMF0pLHRoaXMucmFkaXVzKSxyPU11LmFkZChbXSx0LE11LnNjYWxlKFtdLE11LnN1YihbXSxNdS5hZGQoW10saSxlKSx0KSwyKSk7dFswXT1yWzBdLHRbMV09clsxXTt9cmV0dXJuIHR9fWZ1bmN0aW9uIGpTKGUpe3JldHVybiBlLnBhbkRlbHRhJiZlLnBhbkRlbHRhLm1hZygpfHxlLnpvb21EZWx0YXx8ZS5iZWFyaW5nRGVsdGF8fGUucGl0Y2hEZWx0YX1jbGFzcyBHU3tjb25zdHJ1Y3RvcihlLGkpe3RoaXMuX21hcD1lLHRoaXMuX2VsPXRoaXMuX21hcC5nZXRDYW52YXNDb250YWluZXIoKSx0aGlzLl9oYW5kbGVycz1bXSx0aGlzLl9oYW5kbGVyc0J5SWQ9e30sdGhpcy5fY2hhbmdlcz1bXSx0aGlzLl9pbmVydGlhPW5ldyB0UyhlKSx0aGlzLl9iZWFyaW5nU25hcD1pLmJlYXJpbmdTbmFwLHRoaXMuX3ByZXZpb3VzQWN0aXZlSGFuZGxlcnM9e30sdGhpcy5fdHJhY2tpbmdFbGxpcHNvaWQ9bmV3IFZTLHRoaXMuX2RyYWdPcmlnaW49bnVsbCx0aGlzLl9ldmVudHNJblByb2dyZXNzPXt9LHRoaXMuX2FkZERlZmF1bHRIYW5kbGVycyhpKSxqKFtcImhhbmRsZUV2ZW50XCIsXCJoYW5kbGVXaW5kb3dFdmVudFwiXSx0aGlzKTtjb25zdCByPXRoaXMuX2VsO3RoaXMuX2xpc3RlbmVycz1bW3IsXCJ0b3VjaHN0YXJ0XCIse3Bhc3NpdmU6ITB9XSxbcixcInRvdWNobW92ZVwiLHtwYXNzaXZlOiExfV0sW3IsXCJ0b3VjaGVuZFwiLHZvaWQgMF0sW3IsXCJ0b3VjaGNhbmNlbFwiLHZvaWQgMF0sW3IsXCJtb3VzZWRvd25cIix2b2lkIDBdLFtyLFwibW91c2Vtb3ZlXCIsdm9pZCAwXSxbcixcIm1vdXNldXBcIix2b2lkIDBdLFt0LmRvY3VtZW50LFwibW91c2Vtb3ZlXCIse2NhcHR1cmU6ITB9XSxbdC5kb2N1bWVudCxcIm1vdXNldXBcIix2b2lkIDBdLFtyLFwibW91c2VvdmVyXCIsdm9pZCAwXSxbcixcIm1vdXNlb3V0XCIsdm9pZCAwXSxbcixcImRibGNsaWNrXCIsdm9pZCAwXSxbcixcImNsaWNrXCIsdm9pZCAwXSxbcixcImtleWRvd25cIix7Y2FwdHVyZTohMX1dLFtyLFwia2V5dXBcIix2b2lkIDBdLFtyLFwid2hlZWxcIix7cGFzc2l2ZTohMX1dLFtyLFwiY29udGV4dG1lbnVcIix2b2lkIDBdLFt0LFwiYmx1clwiLHZvaWQgMF1dO2Zvcihjb25zdFtlLGkscl1vZiB0aGlzLl9saXN0ZW5lcnMpZS5hZGRFdmVudExpc3RlbmVyKGksZT09PXQuZG9jdW1lbnQ/dGhpcy5oYW5kbGVXaW5kb3dFdmVudDp0aGlzLmhhbmRsZUV2ZW50LHIpO31kZXN0cm95KCl7Zm9yKGNvbnN0W2UsaSxyXW9mIHRoaXMuX2xpc3RlbmVycyllLnJlbW92ZUV2ZW50TGlzdGVuZXIoaSxlPT09dC5kb2N1bWVudD90aGlzLmhhbmRsZVdpbmRvd0V2ZW50OnRoaXMuaGFuZGxlRXZlbnQscik7fV9hZGREZWZhdWx0SGFuZGxlcnMoZSl7Y29uc3QgdD10aGlzLl9tYXAsaT10LmdldENhbnZhc0NvbnRhaW5lcigpO3RoaXMuX2FkZChcIm1hcEV2ZW50XCIsbmV3IGFTKHQsZSkpO2NvbnN0IHI9dC5ib3hab29tPW5ldyBjUyh0LGUpO3RoaXMuX2FkZChcImJveFpvb21cIixyKTtjb25zdCBuPW5ldyBwUyxvPW5ldyBMUzt0LmRvdWJsZUNsaWNrWm9vbT1uZXcgUlMobyxuKSx0aGlzLl9hZGQoXCJ0YXBab29tXCIsbiksdGhpcy5fYWRkKFwiY2xpY2tab29tXCIsbyk7Y29uc3Qgcz1uZXcga1M7dGhpcy5fYWRkKFwidGFwRHJhZ1pvb21cIixzKTtjb25zdCBhPXQudG91Y2hQaXRjaD1uZXcgU1ModCk7dGhpcy5fYWRkKFwidG91Y2hQaXRjaFwiLGEpO2NvbnN0IGw9bmV3IGdTKGUpLGM9bmV3IHlTKGUpO3QuZHJhZ1JvdGF0ZT1uZXcgQlMoZSxsLGMpLHRoaXMuX2FkZChcIm1vdXNlUm90YXRlXCIsbCxbXCJtb3VzZVBpdGNoXCJdKSx0aGlzLl9hZGQoXCJtb3VzZVBpdGNoXCIsYyxbXCJtb3VzZVJvdGF0ZVwiXSk7Y29uc3QgaD1uZXcgX1MoZSksdT1uZXcgeFModCxlKTt0LmRyYWdQYW49bmV3IE9TKGksaCx1KSx0aGlzLl9hZGQoXCJtb3VzZVBhblwiLGgpLHRoaXMuX2FkZChcInRvdWNoUGFuXCIsdSxbXCJ0b3VjaFpvb21cIixcInRvdWNoUm90YXRlXCJdKTtjb25zdCBkPW5ldyBNUyxwPW5ldyBUUzt0LnRvdWNoWm9vbVJvdGF0ZT1uZXcgRlMoaSxwLGQscyksdGhpcy5fYWRkKFwidG91Y2hSb3RhdGVcIixkLFtcInRvdWNoUGFuXCIsXCJ0b3VjaFpvb21cIl0pLHRoaXMuX2FkZChcInRvdWNoWm9vbVwiLHAsW1widG91Y2hQYW5cIixcInRvdWNoUm90YXRlXCJdKSx0aGlzLl9hZGQoXCJibG9ja2FibGVNYXBFdmVudFwiLG5ldyBsUyh0KSk7Y29uc3QgZj10LnNjcm9sbFpvb209bmV3IFBTKHQsdGhpcyk7dGhpcy5fYWRkKFwic2Nyb2xsWm9vbVwiLGYsW1wibW91c2VQYW5cIl0pO2NvbnN0IG09dC5rZXlib2FyZD1uZXcgQ1M7dGhpcy5fYWRkKFwia2V5Ym9hcmRcIixtKTtmb3IoY29uc3QgaSBvZiBbXCJib3hab29tXCIsXCJkb3VibGVDbGlja1pvb21cIixcInRhcERyYWdab29tXCIsXCJ0b3VjaFBpdGNoXCIsXCJkcmFnUm90YXRlXCIsXCJkcmFnUGFuXCIsXCJ0b3VjaFpvb21Sb3RhdGVcIixcInNjcm9sbFpvb21cIixcImtleWJvYXJkXCJdKWUuaW50ZXJhY3RpdmUmJmVbaV0mJnRbaV0uZW5hYmxlKGVbaV0pO31fYWRkKGUsdCxpKXt0aGlzLl9oYW5kbGVycy5wdXNoKHtoYW5kbGVyTmFtZTplLGhhbmRsZXI6dCxhbGxvd2VkOml9KSx0aGlzLl9oYW5kbGVyc0J5SWRbZV09dDt9c3RvcChlKXtpZighdGhpcy5fdXBkYXRpbmdDYW1lcmEpe2Zvcihjb25zdHtoYW5kbGVyOmV9b2YgdGhpcy5faGFuZGxlcnMpZS5yZXNldCgpO3RoaXMuX2luZXJ0aWEuY2xlYXIoKSx0aGlzLl9maXJlRXZlbnRzKHt9LHt9LGUpLHRoaXMuX2NoYW5nZXM9W10sdGhpcy5fb3JpZ2luYWxab29tPXZvaWQgMDt9fWlzQWN0aXZlKCl7Zm9yKGNvbnN0e2hhbmRsZXI6ZX1vZiB0aGlzLl9oYW5kbGVycylpZihlLmlzQWN0aXZlKCkpcmV0dXJuICEwO3JldHVybiAhMX1pc1pvb21pbmcoKXtyZXR1cm4gISF0aGlzLl9ldmVudHNJblByb2dyZXNzLnpvb218fHRoaXMuX21hcC5zY3JvbGxab29tLmlzWm9vbWluZygpfWlzUm90YXRpbmcoKXtyZXR1cm4gISF0aGlzLl9ldmVudHNJblByb2dyZXNzLnJvdGF0ZX1pc01vdmluZygpe3JldHVybiAhIU5TKHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3MpfHx0aGlzLmlzWm9vbWluZygpfV9pc0RyYWdnaW5nKCl7cmV0dXJuICEhdGhpcy5fZXZlbnRzSW5Qcm9ncmVzcy5kcmFnfV9ibG9ja2VkQnlBY3RpdmUoZSx0LGkpe2Zvcihjb25zdCByIGluIGUpaWYociE9PWkmJighdHx8dC5pbmRleE9mKHIpPDApKXJldHVybiAhMDtyZXR1cm4gITF9aGFuZGxlV2luZG93RXZlbnQoZSl7dGhpcy5oYW5kbGVFdmVudChlLGAke2UudHlwZX1XaW5kb3dgKTt9X2dldE1hcFRvdWNoZXMoZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgaSBvZiBlKXRoaXMuX2VsLmNvbnRhaW5zKGkudGFyZ2V0KSYmdC5wdXNoKGkpO3JldHVybiB0fWhhbmRsZUV2ZW50KGUsdCl7dGhpcy5fdXBkYXRpbmdDYW1lcmE9ITA7Y29uc3QgaT1cInJlbmRlckZyYW1lXCI9PT1lLnR5cGUscj1pP3ZvaWQgMDplLG49e25lZWRzUmVuZGVyRnJhbWU6ITF9LG89e30scz17fSxhPWUudG91Y2hlcz90aGlzLl9nZXRNYXBUb3VjaGVzKGUudG91Y2hlcyk6dm9pZCAwLGw9YT9idCh0aGlzLl9lbCxhKTppP3ZvaWQgMDp2dCh0aGlzLl9lbCxlKTtmb3IoY29uc3R7aGFuZGxlck5hbWU6aSxoYW5kbGVyOmMsYWxsb3dlZDpofW9mIHRoaXMuX2hhbmRsZXJzKXtpZighYy5pc0VuYWJsZWQoKSljb250aW51ZTtsZXQgdTt0aGlzLl9ibG9ja2VkQnlBY3RpdmUocyxoLGkpP2MucmVzZXQoKTpjW3R8fGUudHlwZV0mJih1PWNbdHx8ZS50eXBlXShlLGwsYSksdGhpcy5tZXJnZUhhbmRsZXJSZXN1bHQobixvLHUsaSxyKSx1JiZ1Lm5lZWRzUmVuZGVyRnJhbWUmJnRoaXMuX3RyaWdnZXJSZW5kZXJGcmFtZSgpKSwodXx8Yy5pc0FjdGl2ZSgpKSYmKHNbaV09Yyk7fWNvbnN0IGM9e307Zm9yKGNvbnN0IGUgaW4gdGhpcy5fcHJldmlvdXNBY3RpdmVIYW5kbGVycylzW2VdfHwoY1tlXT1yKTt0aGlzLl9wcmV2aW91c0FjdGl2ZUhhbmRsZXJzPXMsKE9iamVjdC5rZXlzKGMpLmxlbmd0aHx8alMobikpJiYodGhpcy5fY2hhbmdlcy5wdXNoKFtuLG8sY10pLHRoaXMuX3RyaWdnZXJSZW5kZXJGcmFtZSgpKSwoT2JqZWN0LmtleXMocykubGVuZ3RofHxqUyhuKSkmJnRoaXMuX21hcC5fc3RvcCghMCksdGhpcy5fdXBkYXRpbmdDYW1lcmE9ITE7Y29uc3R7Y2FtZXJhQW5pbWF0aW9uOmh9PW47aCYmKHRoaXMuX2luZXJ0aWEuY2xlYXIoKSx0aGlzLl9maXJlRXZlbnRzKHt9LHt9LCEwKSx0aGlzLl9jaGFuZ2VzPVtdLGgodGhpcy5fbWFwKSk7fW1lcmdlSGFuZGxlclJlc3VsdChlLHQsaSxyLG4pe2lmKCFpKXJldHVybjtrKGUsaSk7Y29uc3Qgbz17aGFuZGxlck5hbWU6cixvcmlnaW5hbEV2ZW50Omkub3JpZ2luYWxFdmVudHx8bn07dm9pZCAwIT09aS56b29tRGVsdGEmJih0Lnpvb209byksdm9pZCAwIT09aS5wYW5EZWx0YSYmKHQuZHJhZz1vKSx2b2lkIDAhPT1pLnBpdGNoRGVsdGEmJih0LnBpdGNoPW8pLHZvaWQgMCE9PWkuYmVhcmluZ0RlbHRhJiYodC5yb3RhdGU9byk7fV9hcHBseUNoYW5nZXMoKXtjb25zdCBlPXt9LHQ9e30saT17fTtmb3IoY29uc3RbcixuLG9db2YgdGhpcy5fY2hhbmdlcylyLnBhbkRlbHRhJiYoZS5wYW5EZWx0YT0oZS5wYW5EZWx0YXx8bmV3IHkoMCwwKSkuX2FkZChyLnBhbkRlbHRhKSksci56b29tRGVsdGEmJihlLnpvb21EZWx0YT0oZS56b29tRGVsdGF8fDApK3Iuem9vbURlbHRhKSxyLmJlYXJpbmdEZWx0YSYmKGUuYmVhcmluZ0RlbHRhPShlLmJlYXJpbmdEZWx0YXx8MCkrci5iZWFyaW5nRGVsdGEpLHIucGl0Y2hEZWx0YSYmKGUucGl0Y2hEZWx0YT0oZS5waXRjaERlbHRhfHwwKStyLnBpdGNoRGVsdGEpLHZvaWQgMCE9PXIuYXJvdW5kJiYoZS5hcm91bmQ9ci5hcm91bmQpLHZvaWQgMCE9PXIuYXJvdW5kQ29vcmQmJihlLmFyb3VuZENvb3JkPXIuYXJvdW5kQ29vcmQpLHZvaWQgMCE9PXIucGluY2hBcm91bmQmJihlLnBpbmNoQXJvdW5kPXIucGluY2hBcm91bmQpLHIubm9JbmVydGlhJiYoZS5ub0luZXJ0aWE9ci5ub0luZXJ0aWEpLGsodCxuKSxrKGksbyk7dGhpcy5fdXBkYXRlTWFwVHJhbnNmb3JtKGUsdCxpKSx0aGlzLl9jaGFuZ2VzPVtdO31fdXBkYXRlTWFwVHJhbnNmb3JtKGUsdCxpKXtjb25zdCByPXRoaXMuX21hcCxuPXIudHJhbnNmb3JtLG89ZT0+W2UueCxlLnksZS56XTtpZigoZT0+e2NvbnN0IHQ9dGhpcy5fZXZlbnRzSW5Qcm9ncmVzcy5kcmFnO3JldHVybiB0JiYhdGhpcy5faGFuZGxlcnNCeUlkW3QuaGFuZGxlck5hbWVdLmlzQWN0aXZlKCl9KSgpJiYhalMoZSkpe2NvbnN0IGU9bi56b29tO24uY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlPVwic2VhXCIsbnVsbCE9dGhpcy5fb3JpZ2luYWxab29tJiZuLl9vcnRob2dyYXBoaWNQcm9qZWN0aW9uQXRMb3dQaXRjaCYmXCJnbG9iZVwiIT09bi5wcm9qZWN0aW9uLm5hbWUmJjA9PT1uLnBpdGNoPyhuLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT1cImdyb3VuZFwiLG4uem9vbT10aGlzLl9vcmlnaW5hbFpvb20pOihuLnJlY2VudGVyT25UZXJyYWluKCksbi5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U9XCJncm91bmRcIiksZSE9PW4uem9vbSYmdGhpcy5fbWFwLl91cGRhdGUoITApO31pZihuLl9pc0NhbWVyYUNvbnN0cmFpbmVkJiZyLl9zdG9wKCEwKSwhalMoZSkpcmV0dXJuIHZvaWQgdGhpcy5fZmlyZUV2ZW50cyh0LGksITApO2xldHtwYW5EZWx0YTpzLHpvb21EZWx0YTphLGJlYXJpbmdEZWx0YTpsLHBpdGNoRGVsdGE6Yyxhcm91bmQ6aCxhcm91bmRDb29yZDp1LHBpbmNoQXJvdW5kOmR9PWU7bi5faXNDYW1lcmFDb25zdHJhaW5lZCYmKGE+MCYmKGE9MCksbi5faXNDYW1lcmFDb25zdHJhaW5lZD0hMSksdm9pZCAwIT09ZCYmKGg9ZCksKGF8fChlPT50W2VdJiYhdGhpcy5fZXZlbnRzSW5Qcm9ncmVzc1tlXSkoXCJkcmFnXCIpKSYmaCYmKHRoaXMuX2RyYWdPcmlnaW49byhuLnBvaW50Q29vcmRpbmF0ZTNEKGgpKSx0aGlzLl9vcmlnaW5hbFpvb209bi56b29tLHRoaXMuX3RyYWNraW5nRWxsaXBzb2lkLnNldHVwKG4uX2NhbWVyYS5wb3NpdGlvbix0aGlzLl9kcmFnT3JpZ2luKSksbi5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U9XCJzZWFcIixyLl9zdG9wKCEwKSxoPWh8fHIudHJhbnNmb3JtLmNlbnRlclBvaW50LGwmJihuLmJlYXJpbmcrPWwpLGMmJihuLnBpdGNoKz1jKSxuLl91cGRhdGVDYW1lcmFTdGF0ZSgpO2NvbnN0IHA9WzAsMCwwXTtpZihzKWlmKFwibWVyY2F0b3JcIj09PW4ucHJvamVjdGlvbi5uYW1lKXtjb25zdCBlPXRoaXMuX3RyYWNraW5nRWxsaXBzb2lkLnByb2plY3RSYXkobi5zY3JlZW5Qb2ludFRvTWVyY2F0b3JSYXkoaCkuZGlyKSx0PXRoaXMuX3RyYWNraW5nRWxsaXBzb2lkLnByb2plY3RSYXkobi5zY3JlZW5Qb2ludFRvTWVyY2F0b3JSYXkoaC5zdWIocykpLmRpcik7cFswXT10WzBdLWVbMF0scFsxXT10WzFdLWVbMV07fWVsc2Uge2NvbnN0IGU9bi5wb2ludENvb3JkaW5hdGUoaCk7aWYoXCJnbG9iZVwiPT09bi5wcm9qZWN0aW9uLm5hbWUpe3M9cy5yb3RhdGUoLW4uYW5nbGUpO2NvbnN0IHQ9bi5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbC9uLndvcmxkU2l6ZTtwWzBdPS1zLngqSmQoSGQoZS55KSkqdCxwWzFdPS1zLnkqSmQobi5jZW50ZXIubGF0KSp0O31lbHNlIHtjb25zdCB0PW4ucG9pbnRDb29yZGluYXRlKGguc3ViKHMpKTtlJiZ0JiYocFswXT10LngtZS54LHBbMV09dC55LWUueSk7fX1jb25zdCBmPW4uem9vbSxtPVswLDAsMF07aWYoYSl7Y29uc3QgZT1vKHV8fG4ucG9pbnRDb29yZGluYXRlM0QoaCkpLHQ9e2RpcjpNdS5ub3JtYWxpemUoW10sTXUuc3ViKFtdLGUsbi5fY2FtZXJhLnBvc2l0aW9uKSl9O2lmKHQuZGlyWzJdPDApe2NvbnN0IGk9bi56b29tRGVsdGFUb01vdmVtZW50KGUsYSk7TXUuc2NhbGUobSx0LmRpcixpKTt9fWNvbnN0IF89TXUuYWRkKHAscCxtKTtuLl90cmFuc2xhdGVDYW1lcmFDb25zdHJhaW5lZChfKSxhJiZNYXRoLmFicyhuLnpvb20tZik+MWUtNCYmbi5yZWNlbnRlck9uVGVycmFpbigpLG4uY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlPVwiZ3JvdW5kXCIsdGhpcy5fbWFwLl91cGRhdGUoKSxlLm5vSW5lcnRpYXx8dGhpcy5faW5lcnRpYS5yZWNvcmQoZSksdGhpcy5fZmlyZUV2ZW50cyh0LGksITApO31fZmlyZUV2ZW50cyhlLHQsaSl7Y29uc3Qgcj1OUyh0aGlzLl9ldmVudHNJblByb2dyZXNzKSxuPU5TKGUpLG89e307Zm9yKGNvbnN0IHQgaW4gZSl7Y29uc3R7b3JpZ2luYWxFdmVudDppfT1lW3RdO3RoaXMuX2V2ZW50c0luUHJvZ3Jlc3NbdF18fChvW2Ake3R9c3RhcnRgXT1pKSx0aGlzLl9ldmVudHNJblByb2dyZXNzW3RdPWVbdF07fSFyJiZuJiZ0aGlzLl9maXJlRXZlbnQoXCJtb3Zlc3RhcnRcIixuLm9yaWdpbmFsRXZlbnQpO2Zvcihjb25zdCBlIGluIG8pdGhpcy5fZmlyZUV2ZW50KGUsb1tlXSk7biYmdGhpcy5fZmlyZUV2ZW50KFwibW92ZVwiLG4ub3JpZ2luYWxFdmVudCk7Zm9yKGNvbnN0IHQgaW4gZSl7Y29uc3R7b3JpZ2luYWxFdmVudDppfT1lW3RdO3RoaXMuX2ZpcmVFdmVudCh0LGkpO31jb25zdCBzPXt9O2xldCBhO2Zvcihjb25zdCBlIGluIHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3Mpe2NvbnN0e2hhbmRsZXJOYW1lOmksb3JpZ2luYWxFdmVudDpyfT10aGlzLl9ldmVudHNJblByb2dyZXNzW2VdO3RoaXMuX2hhbmRsZXJzQnlJZFtpXS5pc0FjdGl2ZSgpfHwoZGVsZXRlIHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3NbZV0sYT10W2ldfHxyLHNbYCR7ZX1lbmRgXT1hKTt9Zm9yKGNvbnN0IGUgaW4gcyl0aGlzLl9maXJlRXZlbnQoZSxzW2VdKTtjb25zdCBsPU5TKHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3MpO2lmKGkmJihyfHxuKSYmIWwpe3RoaXMuX3VwZGF0aW5nQ2FtZXJhPSEwO2NvbnN0IGU9dGhpcy5faW5lcnRpYS5fb25Nb3ZlRW5kKHRoaXMuX21hcC5kcmFnUGFuLl9pbmVydGlhT3B0aW9ucyksdD1lPT4wIT09ZSYmLXRoaXMuX2JlYXJpbmdTbmFwPGUmJmU8dGhpcy5fYmVhcmluZ1NuYXA7ZT8odChlLmJlYXJpbmd8fHRoaXMuX21hcC5nZXRCZWFyaW5nKCkpJiYoZS5iZWFyaW5nPTApLHRoaXMuX21hcC5lYXNlVG8oZSx7b3JpZ2luYWxFdmVudDphfSkpOih0aGlzLl9tYXAuZmlyZShuZXcgQXQoXCJtb3ZlZW5kXCIse29yaWdpbmFsRXZlbnQ6YX0pKSx0KHRoaXMuX21hcC5nZXRCZWFyaW5nKCkpJiZ0aGlzLl9tYXAucmVzZXROb3J0aCgpKSx0aGlzLl91cGRhdGluZ0NhbWVyYT0hMTt9fV9maXJlRXZlbnQoZSx0KXt0aGlzLl9tYXAuZmlyZShuZXcgQXQoZSx0P3tvcmlnaW5hbEV2ZW50OnR9Ont9KSk7fV9yZXF1ZXN0RnJhbWUoKXtyZXR1cm4gdGhpcy5fbWFwLnRyaWdnZXJSZXBhaW50KCksdGhpcy5fbWFwLl9yZW5kZXJUYXNrUXVldWUuYWRkKChlPT57dGhpcy5fZnJhbWVJZD12b2lkIDAsdGhpcy5oYW5kbGVFdmVudChuZXcgVVMoXCJyZW5kZXJGcmFtZVwiLHt0aW1lU3RhbXA6ZX0pKSx0aGlzLl9hcHBseUNoYW5nZXMoKTt9KSl9X3RyaWdnZXJSZW5kZXJGcmFtZSgpe3ZvaWQgMD09PXRoaXMuX2ZyYW1lSWQmJih0aGlzLl9mcmFtZUlkPXRoaXMuX3JlcXVlc3RGcmFtZSgpKTt9fWNvbnN0IHFTPVwibWFwLnNldEZyZWVDYW1lcmFPcHRpb25zKC4uLikgYW5kIG1hcC5nZXRGcmVlQ2FtZXJhT3B0aW9ucygpIGFyZSBub3QgeWV0IHN1cHBvcnRlZCBmb3Igbm9uLW1lcmNhdG9yIHByb2plY3Rpb25zLlwiO2NsYXNzIFpTIGV4dGVuZHMgSXR7Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLHRoaXMuX21vdmluZz0hMSx0aGlzLl96b29taW5nPSExLHRoaXMudHJhbnNmb3JtPWUsdGhpcy5fYmVhcmluZ1NuYXA9dC5iZWFyaW5nU25hcCx0aGlzLl9yZXNwZWN0UHJlZmVyc1JlZHVjZWRNb3Rpb249ITEhPT10LnJlc3BlY3RQcmVmZXJzUmVkdWNlZE1vdGlvbixqKFtcIl9yZW5kZXJGcmFtZUNhbGxiYWNrXCJdLHRoaXMpO31nZXRDZW50ZXIoKXtyZXR1cm4gbmV3IE5kKHRoaXMudHJhbnNmb3JtLmNlbnRlci5sbmcsdGhpcy50cmFuc2Zvcm0uY2VudGVyLmxhdCl9c2V0Q2VudGVyKGUsdCl7cmV0dXJuIHRoaXMuanVtcFRvKHtjZW50ZXI6ZX0sdCl9cGFuQnkoZSx0LGkpe3JldHVybiBlPXkuY29udmVydChlKS5tdWx0KC0xKSx0aGlzLnBhblRvKHRoaXMudHJhbnNmb3JtLmNlbnRlcixrKHtvZmZzZXQ6ZX0sdCksaSl9cGFuVG8oZSx0LGkpe3JldHVybiB0aGlzLmVhc2VUbyhrKHtjZW50ZXI6ZX0sdCksaSl9Z2V0Wm9vbSgpe3JldHVybiB0aGlzLnRyYW5zZm9ybS56b29tfXNldFpvb20oZSx0KXtyZXR1cm4gdGhpcy5qdW1wVG8oe3pvb206ZX0sdCksdGhpc316b29tVG8oZSx0LGkpe3JldHVybiB0aGlzLmVhc2VUbyhrKHt6b29tOmV9LHQpLGkpfXpvb21JbihlLHQpe3JldHVybiB0aGlzLnpvb21Ubyh0aGlzLmdldFpvb20oKSsxLGUsdCksdGhpc316b29tT3V0KGUsdCl7cmV0dXJuIHRoaXMuem9vbVRvKHRoaXMuZ2V0Wm9vbSgpLTEsZSx0KSx0aGlzfWdldEJlYXJpbmcoKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uYmVhcmluZ31zZXRCZWFyaW5nKGUsdCl7cmV0dXJuIHRoaXMuanVtcFRvKHtiZWFyaW5nOmV9LHQpLHRoaXN9Z2V0UGFkZGluZygpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5wYWRkaW5nfXNldFBhZGRpbmcoZSx0KXtyZXR1cm4gdGhpcy5qdW1wVG8oe3BhZGRpbmc6ZX0sdCksdGhpc31yb3RhdGVUbyhlLHQsaSl7cmV0dXJuIHRoaXMuZWFzZVRvKGsoe2JlYXJpbmc6ZX0sdCksaSl9cmVzZXROb3J0aChlLHQpe3JldHVybiB0aGlzLnJvdGF0ZVRvKDAsayh7ZHVyYXRpb246MWUzfSxlKSx0KSx0aGlzfXJlc2V0Tm9ydGhQaXRjaChlLHQpe3JldHVybiB0aGlzLmVhc2VUbyhrKHtiZWFyaW5nOjAscGl0Y2g6MCxkdXJhdGlvbjoxZTN9LGUpLHQpLHRoaXN9c25hcFRvTm9ydGgoZSx0KXtyZXR1cm4gTWF0aC5hYnModGhpcy5nZXRCZWFyaW5nKCkpPHRoaXMuX2JlYXJpbmdTbmFwP3RoaXMucmVzZXROb3J0aChlLHQpOnRoaXN9Z2V0UGl0Y2goKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucGl0Y2h9c2V0UGl0Y2goZSx0KXtyZXR1cm4gdGhpcy5qdW1wVG8oe3BpdGNoOmV9LHQpLHRoaXN9Y2FtZXJhRm9yQm91bmRzKGUsdCl7ZT1RbC5jb252ZXJ0KGUpO2NvbnN0IGk9dCYmdC5iZWFyaW5nfHwwLHI9dCYmdC5waXRjaHx8MCxuPWUuZ2V0Tm9ydGhXZXN0KCksbz1lLmdldFNvdXRoRWFzdCgpO3JldHVybiB0aGlzLl9jYW1lcmFGb3JCb3VuZHModGhpcy50cmFuc2Zvcm0sbixvLGkscix0KX1fZXh0ZW5kQ2FtZXJhT3B0aW9ucyhlKXtjb25zdCB0PXt0b3A6MCxib3R0b206MCxyaWdodDowLGxlZnQ6MH07aWYoXCJudW1iZXJcIj09dHlwZW9mKGU9ayh7cGFkZGluZzp0LG9mZnNldDpbMCwwXSxtYXhab29tOnRoaXMudHJhbnNmb3JtLm1heFpvb219LGUpKS5wYWRkaW5nKXtjb25zdCB0PWUucGFkZGluZztlLnBhZGRpbmc9e3RvcDp0LGJvdHRvbTp0LHJpZ2h0OnQsbGVmdDp0fTt9cmV0dXJuIGUucGFkZGluZz1rKHQsZS5wYWRkaW5nKSxlfV9taW5pbXVtQUFCQkZydXN0dW1EaXN0YW5jZShlLHQpe2NvbnN0IGk9dC5tYXhbMF0tdC5taW5bMF0scj10Lm1heFsxXS10Lm1pblsxXTtyZXR1cm4gaS9yPmUuYXNwZWN0P2kvKDIqTWF0aC50YW4oLjUqZS5mb3ZYKSplLmFzcGVjdCk6ci8oMipNYXRoLnRhbiguNSplLmZvdlkpKmUuYXNwZWN0KX1fY2FtZXJhRm9yQm91bmRzT25HbG9iZShlLHQsaSxyLG4sbyl7Y29uc3Qgcz1lLmNsb25lKCksYT10aGlzLl9leHRlbmRDYW1lcmFPcHRpb25zKG8pO3MuYmVhcmluZz1yLHMucGl0Y2g9bjtjb25zdCBsPU5kLmNvbnZlcnQodCksYz1OZC5jb252ZXJ0KGkpLGg9LjUqKGwubGF0K2MubGF0KSx1PS41KihsLmxuZytjLmxuZyksZD1tZChoLHUpLHA9TXUubm9ybWFsaXplKFtdLGQpLGY9TXUubm9ybWFsaXplKFtdLE11LmNyb3NzKFtdLHAsWzAsMSwwXSkpLG09TXUuY3Jvc3MoW10sZixwKSxfPVtmWzBdLGZbMV0sZlsyXSwwLG1bMF0sbVsxXSxtWzJdLDAscFswXSxwWzFdLHBbMl0sMCwwLDAsMCwxXSxnPVtkLG1kKGwubGF0LGwubG5nKSxtZChjLmxhdCxsLmxuZyksbWQoYy5sYXQsYy5sbmcpLG1kKGwubGF0LGMubG5nKSxtZChoLGwubG5nKSxtZChoLGMubG5nKSxtZChsLmxhdCx1KSxtZChjLmxhdCx1KV07bGV0IHk9SHUuZnJvbVBvaW50cyhnLm1hcCgoZT0+W011LmRvdChmLGUpLE11LmRvdChtLGUpLE11LmRvdChwLGUpXSkpKTtjb25zdCB4PU11LnRyYW5zZm9ybU1hdDQoW10seS5jZW50ZXIsXyk7MD09PU11LnNxdWFyZWRMZW5ndGgoeCkmJk11LnNldCh4LDAsMCwxKSxNdS5ub3JtYWxpemUoeCx4KSxNdS5zY2FsZSh4LHgsWXUpLHMuY2VudGVyPWZ1bmN0aW9uKFtlLHQsaV0pe2NvbnN0IHI9TWF0aC5oeXBvdChlLHQsaSksbj1NYXRoLmF0YW4yKGUsaSksbz0uNSpNYXRoLlBJLU1hdGguYWNvcygtdC9yKTtyZXR1cm4gbmV3IE5kKFQobiksVChvKSl9KHgpO2NvbnN0IHY9cy5nZXRXb3JsZFRvQ2FtZXJhTWF0cml4KCksYj14dS5pbnZlcnQobmV3IEZsb2F0NjRBcnJheSgxNiksdik7eT1IdS5hcHBseVRyYW5zZm9ybSh5LHh1Lm11bHRpcGx5KFtdLHYsXykpLE11LnRyYW5zZm9ybU1hdDQoeCx4LHYpO2NvbnN0IHc9LjUqKHkubWF4WzJdLXkubWluWzJdKSxFPXRoaXMuX21pbmltdW1BQUJCRnJ1c3R1bURpc3RhbmNlKHMseSksTT1NdS5zY2FsZShbXSxbMCwwLDFdLHcpLEE9TXUuYWRkKE0seCxNKSxTPUUrKDA9PT1zLnBpdGNoPzA6TXUuZGlzdGFuY2UoeCxBKSksST1zLmdsb2JlQ2VudGVySW5WaWV3U3BhY2UsQz1NdS5zdWIoW10seCxbSVswXSxJWzFdLElbMl1dKTtNdS5ub3JtYWxpemUoQyxDKSxNdS5zY2FsZShDLEMsUyk7Y29uc3Qgej1NdS5hZGQoW10seCxDKTtNdS50cmFuc2Zvcm1NYXQ0KHoseixiKTtjb25zdCBEPU9kL1l1LFA9TXUubGVuZ3RoKHopLFI9WmQoTWF0aC5tYXgoUCpELU9kLE51bWJlci5FUFNJTE9OKSwwKSxMPU1hdGgubWluKHMuem9vbUZyb21NZXJjYXRvclpBZGp1c3RlZChSKSxhLm1heFpvb20pO3JldHVybiBMPi41KihXdStYdSk/KHMuc2V0UHJvamVjdGlvbih7bmFtZTpcIm1lcmNhdG9yXCJ9KSxzLnpvb209TCx0aGlzLl9jYW1lcmFGb3JCb3VuZHMocyx0LGkscixuLG8pKTp7Y2VudGVyOnMuY2VudGVyLHpvb206TCxiZWFyaW5nOnIscGl0Y2g6bn19cXVlcnlUZXJyYWluRWxldmF0aW9uKGUsdCl7Y29uc3QgaT10aGlzLnRyYW5zZm9ybS5lbGV2YXRpb247cmV0dXJuIGk/KHQ9ayh7fSx7ZXhhZ2dlcmF0ZWQ6ITB9LHQpLGkuZ2V0QXRQb2ludChlcC5mcm9tTG5nTGF0KGUpLG51bGwsdC5leGFnZ2VyYXRlZCkpOm51bGx9X2NhbWVyYUZvckJvdW5kcyhlLHQsaSxyLG4sbyl7aWYoXCJnbG9iZVwiPT09ZS5wcm9qZWN0aW9uLm5hbWUpcmV0dXJuIHRoaXMuX2NhbWVyYUZvckJvdW5kc09uR2xvYmUoZSx0LGkscixuLG8pO2NvbnN0IHM9ZS5jbG9uZSgpLGE9dGhpcy5fZXh0ZW5kQ2FtZXJhT3B0aW9ucyhvKSxsPXMucGFkZGluZztzLmJlYXJpbmc9cixzLnBpdGNoPW47Y29uc3QgYz1OZC5jb252ZXJ0KHQpLGg9TmQuY29udmVydChpKSx1PW5ldyBOZChjLmxuZyxoLmxhdCksZD1uZXcgTmQoaC5sbmcsYy5sYXQpLHA9cy5wcm9qZWN0KGMpLGY9cy5wcm9qZWN0KGgpLG09dGhpcy5xdWVyeVRlcnJhaW5FbGV2YXRpb24oYyksXz10aGlzLnF1ZXJ5VGVycmFpbkVsZXZhdGlvbihoKSxnPXRoaXMucXVlcnlUZXJyYWluRWxldmF0aW9uKHUpLHg9dGhpcy5xdWVyeVRlcnJhaW5FbGV2YXRpb24oZCksdj1bW3AueCxwLnksTWF0aC5taW4obXx8MCxffHwwLGd8fDAseHx8MCldLFtmLngsZi55LE1hdGgubWF4KG18fDAsX3x8MCxnfHwwLHh8fDApXV07bGV0IGI9SHUuZnJvbVBvaW50cyh2KTtjb25zdCBUPXMuZ2V0V29ybGRUb0NhbWVyYU1hdHJpeCgpLEU9eHUuaW52ZXJ0KG5ldyBGbG9hdDY0QXJyYXkoMTYpLFQpO2I9SHUuYXBwbHlUcmFuc2Zvcm0oYixUKTtjb25zdCBNPU11LnN1YihbXSxiLm1heCxiLm1pbiksQT1sLmxlZnR8fDAsUz1sLnJpZ2h0fHwwLEk9bC5ib3R0b218fDAsQz1sLnRvcHx8MCx7bGVmdDp6LHJpZ2h0OkQsdG9wOlAsYm90dG9tOlJ9PWEucGFkZGluZyxMPS41KihBK1MpLGs9LjUqKEMrSSksTz1NYXRoLm1pbihzLnNjYWxlWm9vbShzLnNjYWxlKk1hdGgubWluKChzLndpZHRoLShBK1MreitEKSkvTVswXSwocy5oZWlnaHQtKEkrQytSK1ApKS9NWzFdKSksYS5tYXhab29tKSxCPXMuc2NhbGUvcy56b29tU2NhbGUoTyk7Yj1uZXcgSHUoW2IubWluWzBdLSh6K0wpKkIsYi5taW5bMV0tKFIraykqQixiLm1pblsyXV0sW2IubWF4WzBdKyhEK0wpKkIsYi5tYXhbMV0rKFAraykqQixiLm1heFsyXV0pO2NvbnN0IEY9LjUqTVsyXSxOPXRoaXMuX21pbmltdW1BQUJCRnJ1c3R1bURpc3RhbmNlKHMsYiksVT1bMCwwLDEsMF07dXUudHJhbnNmb3JtTWF0NChVLFUsVCksdXUubm9ybWFsaXplKFUsVSk7Y29uc3QgVj1NdS5zY2FsZShbXSxVLE4rRiksaj1NdS5hZGQoW10sYi5jZW50ZXIsViksRz0oXCJudW1iZXJcIj09dHlwZW9mIGEub2Zmc2V0LngmJlwibnVtYmVyXCI9PXR5cGVvZiBhLm9mZnNldC55P25ldyB5KGEub2Zmc2V0LngsYS5vZmZzZXQueSk6eS5jb252ZXJ0KGEub2Zmc2V0KSkucm90YXRlKC13KHIpKTtiLmNlbnRlclswXS09Ry54KkIsYi5jZW50ZXJbMV0rPUcueSpCLE11LnRyYW5zZm9ybU1hdDQoYi5jZW50ZXIsYi5jZW50ZXIsRSksTXUudHJhbnNmb3JtTWF0NChqLGosRSk7Y29uc3QgcT1bYi5jZW50ZXJbMF0sYi5jZW50ZXJbMV0salsyXSpzLnBpeGVsc1Blck1ldGVyXTtNdS5zY2FsZShxLHEsMS9zLndvcmxkU2l6ZSk7Y29uc3QgWj0kZChxWzBdKSwkPUhkKHFbMV0pLEg9TWF0aC5taW4ocy5fem9vbUZyb21NZXJjYXRvcloocVsyXSksYS5tYXhab29tKSxXPW5ldyBOZChaLCQpO3JldHVybiBzLm1lcmNhdG9yRnJvbVRyYW5zaXRpb24mJkg8LjUqKFd1K1h1KT8ocy5zZXRQcm9qZWN0aW9uKHtuYW1lOlwiZ2xvYmVcIn0pLHMuem9vbT1ILHRoaXMuX2NhbWVyYUZvckJvdW5kcyhzLHQsaSxyLG4sbykpOntjZW50ZXI6Vyx6b29tOkgsYmVhcmluZzpyLHBpdGNoOm59fWZpdEJvdW5kcyhlLHQsaSl7Y29uc3Qgcj10aGlzLmNhbWVyYUZvckJvdW5kcyhlLHQpO3JldHVybiB0aGlzLl9maXRJbnRlcm5hbChyLHQsaSl9Zml0U2NyZWVuQ29vcmRpbmF0ZXMoZSx0LGkscixuKXtjb25zdCBvPXkuY29udmVydChlKSxzPXkuY29udmVydCh0KSxhPW5ldyB5KE1hdGgubWluKG8ueCxzLngpLE1hdGgubWluKG8ueSxzLnkpKSxsPW5ldyB5KE1hdGgubWF4KG8ueCxzLngpLE1hdGgubWF4KG8ueSxzLnkpKTtpZihcIm1lcmNhdG9yXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUmJnRoaXMudHJhbnNmb3JtLmFueUNvcm5lck9mZkVkZ2UobyxzKSlyZXR1cm4gdGhpcztjb25zdCBjPXRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24zRChhKSxoPXRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24zRChsKSx1PXRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24zRChuZXcgeShhLngsbC55KSksZD10aGlzLnRyYW5zZm9ybS5wb2ludExvY2F0aW9uM0QobmV3IHkobC54LGEueSkpLHA9W01hdGgubWluKGMubG5nLGgubG5nLHUubG5nLGQubG5nKSxNYXRoLm1pbihjLmxhdCxoLmxhdCx1LmxhdCxkLmxhdCldLGY9W01hdGgubWF4KGMubG5nLGgubG5nLHUubG5nLGQubG5nKSxNYXRoLm1heChjLmxhdCxoLmxhdCx1LmxhdCxkLmxhdCldLG09ciYmci5waXRjaD9yLnBpdGNoOnRoaXMuZ2V0UGl0Y2goKSxfPXRoaXMuX2NhbWVyYUZvckJvdW5kcyh0aGlzLnRyYW5zZm9ybSxwLGYsaSxtLHIpO3JldHVybiB0aGlzLl9maXRJbnRlcm5hbChfLHIsbil9X2ZpdEludGVybmFsKGUsdCxpKXtyZXR1cm4gZT8oZGVsZXRlKHQ9ayhlLHQpKS5wYWRkaW5nLHQubGluZWFyP3RoaXMuZWFzZVRvKHQsaSk6dGhpcy5mbHlUbyh0LGkpKTp0aGlzfWp1bXBUbyhlLHQpe3RoaXMuc3RvcCgpO2NvbnN0IGk9ZS5wcmVsb2FkT25seT90aGlzLnRyYW5zZm9ybS5jbG9uZSgpOnRoaXMudHJhbnNmb3JtO2xldCByPSExLG49ITEsbz0hMTtyZXR1cm4gXCJ6b29tXCJpbiBlJiZpLnpvb20hPT0rZS56b29tJiYocj0hMCxpLnpvb209K2Uuem9vbSksdm9pZCAwIT09ZS5jZW50ZXImJihpLmNlbnRlcj1OZC5jb252ZXJ0KGUuY2VudGVyKSksXCJiZWFyaW5nXCJpbiBlJiZpLmJlYXJpbmchPT0rZS5iZWFyaW5nJiYobj0hMCxpLmJlYXJpbmc9K2UuYmVhcmluZyksXCJwaXRjaFwiaW4gZSYmaS5waXRjaCE9PStlLnBpdGNoJiYobz0hMCxpLnBpdGNoPStlLnBpdGNoKSxudWxsPT1lLnBhZGRpbmd8fGkuaXNQYWRkaW5nRXF1YWwoZS5wYWRkaW5nKXx8KGkucGFkZGluZz1lLnBhZGRpbmcpLGUucHJlbG9hZE9ubHk/KHRoaXMuX3ByZWxvYWRUaWxlcyhpKSx0aGlzKToodGhpcy5maXJlKG5ldyBBdChcIm1vdmVzdGFydFwiLHQpKS5maXJlKG5ldyBBdChcIm1vdmVcIix0KSksciYmdGhpcy5maXJlKG5ldyBBdChcInpvb21zdGFydFwiLHQpKS5maXJlKG5ldyBBdChcInpvb21cIix0KSkuZmlyZShuZXcgQXQoXCJ6b29tZW5kXCIsdCkpLG4mJnRoaXMuZmlyZShuZXcgQXQoXCJyb3RhdGVzdGFydFwiLHQpKS5maXJlKG5ldyBBdChcInJvdGF0ZVwiLHQpKS5maXJlKG5ldyBBdChcInJvdGF0ZWVuZFwiLHQpKSxvJiZ0aGlzLmZpcmUobmV3IEF0KFwicGl0Y2hzdGFydFwiLHQpKS5maXJlKG5ldyBBdChcInBpdGNoXCIsdCkpLmZpcmUobmV3IEF0KFwicGl0Y2hlbmRcIix0KSksdGhpcy5maXJlKG5ldyBBdChcIm1vdmVlbmRcIix0KSkpfWdldEZyZWVDYW1lcmFPcHRpb25zKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24uc3VwcG9ydHNGcmVlQ2FtZXJhfHxXKHFTKSx0aGlzLnRyYW5zZm9ybS5nZXRGcmVlQ2FtZXJhT3B0aW9ucygpfXNldEZyZWVDYW1lcmFPcHRpb25zKGUsdCl7Y29uc3QgaT10aGlzLnRyYW5zZm9ybTtpZighaS5wcm9qZWN0aW9uLnN1cHBvcnRzRnJlZUNhbWVyYSlyZXR1cm4gVyhxUyksdGhpczt0aGlzLnN0b3AoKTtjb25zdCByPWkuem9vbSxuPWkucGl0Y2gsbz1pLmJlYXJpbmc7aS5zZXRGcmVlQ2FtZXJhT3B0aW9ucyhlKTtjb25zdCBzPXIhPT1pLnpvb20sYT1uIT09aS5waXRjaCxsPW8hPT1pLmJlYXJpbmc7cmV0dXJuIHRoaXMuZmlyZShuZXcgQXQoXCJtb3Zlc3RhcnRcIix0KSkuZmlyZShuZXcgQXQoXCJtb3ZlXCIsdCkpLHMmJnRoaXMuZmlyZShuZXcgQXQoXCJ6b29tc3RhcnRcIix0KSkuZmlyZShuZXcgQXQoXCJ6b29tXCIsdCkpLmZpcmUobmV3IEF0KFwiem9vbWVuZFwiLHQpKSxsJiZ0aGlzLmZpcmUobmV3IEF0KFwicm90YXRlc3RhcnRcIix0KSkuZmlyZShuZXcgQXQoXCJyb3RhdGVcIix0KSkuZmlyZShuZXcgQXQoXCJyb3RhdGVlbmRcIix0KSksYSYmdGhpcy5maXJlKG5ldyBBdChcInBpdGNoc3RhcnRcIix0KSkuZmlyZShuZXcgQXQoXCJwaXRjaFwiLHQpKS5maXJlKG5ldyBBdChcInBpdGNoZW5kXCIsdCkpLHRoaXMuZmlyZShuZXcgQXQoXCJtb3ZlZW5kXCIsdCkpLHRoaXN9ZWFzZVRvKGUsdCl7dGhpcy5fc3RvcCghMSxlLmVhc2VJZCksKCExPT09KGU9ayh7b2Zmc2V0OlswLDBdLGR1cmF0aW9uOjUwMCxlYXNpbmc6Q30sZSkpLmFuaW1hdGV8fHRoaXMuX3ByZWZlcnNSZWR1Y2VkTW90aW9uKGUpKSYmKGUuZHVyYXRpb249MCk7Y29uc3QgaT10aGlzLnRyYW5zZm9ybSxyPXRoaXMuZ2V0Wm9vbSgpLG49dGhpcy5nZXRCZWFyaW5nKCksbz10aGlzLmdldFBpdGNoKCkscz10aGlzLmdldFBhZGRpbmcoKSxhPVwiem9vbVwiaW4gZT8rZS56b29tOnIsbD1cImJlYXJpbmdcImluIGU/dGhpcy5fbm9ybWFsaXplQmVhcmluZyhlLmJlYXJpbmcsbik6bixjPVwicGl0Y2hcImluIGU/K2UucGl0Y2g6byxoPVwicGFkZGluZ1wiaW4gZT9lLnBhZGRpbmc6aS5wYWRkaW5nLHU9eS5jb252ZXJ0KGUub2Zmc2V0KTtsZXQgZCxwLGY7aWYoXCJnbG9iZVwiPT09aS5wcm9qZWN0aW9uLm5hbWUpe2NvbnN0IHQ9ZXAuZnJvbUxuZ0xhdChpLmNlbnRlcikscj11LnJvdGF0ZSgtaS5hbmdsZSk7dC54Kz1yLngvaS53b3JsZFNpemUsdC55Kz1yLnkvaS53b3JsZFNpemU7Y29uc3Qgbj10LnRvTG5nTGF0KCksbz1OZC5jb252ZXJ0KGUuY2VudGVyfHxuKTt0aGlzLl9ub3JtYWxpemVDZW50ZXIobyksZD1pLmNlbnRlclBvaW50LmFkZChyKSxwPW5ldyB5KHQueCx0LnkpLm11bHQoaS53b3JsZFNpemUpLGY9bmV3IHkoR2Qoby5sbmcpLHFkKG8ubGF0KSkubXVsdChpLndvcmxkU2l6ZSkuc3ViKHApO31lbHNlIHtkPWkuY2VudGVyUG9pbnQuYWRkKHUpO2NvbnN0IHQ9aS5wb2ludExvY2F0aW9uKGQpLHI9TmQuY29udmVydChlLmNlbnRlcnx8dCk7dGhpcy5fbm9ybWFsaXplQ2VudGVyKHIpLHA9aS5wcm9qZWN0KHQpLGY9aS5wcm9qZWN0KHIpLnN1YihwKTt9Y29uc3QgbT1pLnpvb21TY2FsZShhLXIpO2xldCBfLGc7ZS5hcm91bmQmJihfPU5kLmNvbnZlcnQoZS5hcm91bmQpLGc9aS5sb2NhdGlvblBvaW50KF8pKTtjb25zdCB4PXRoaXMuX3pvb21pbmd8fGEhPT1yLHY9dGhpcy5fcm90YXRpbmd8fG4hPT1sLGI9dGhpcy5fcGl0Y2hpbmd8fGMhPT1vLHc9IWkuaXNQYWRkaW5nRXF1YWwoaCksVD1pPT55PT57aWYoeCYmKGkuem9vbT1XcihyLGEseSkpLHYmJihpLmJlYXJpbmc9V3IobixsLHkpKSxiJiYoaS5waXRjaD1XcihvLGMseSkpLHcmJihpLmludGVycG9sYXRlUGFkZGluZyhzLGgseSksZD1pLmNlbnRlclBvaW50LmFkZCh1KSksXylpLnNldExvY2F0aW9uQXRQb2ludChfLGcpO2Vsc2Uge2NvbnN0IGU9aS56b29tU2NhbGUoaS56b29tLXIpLHQ9YT5yP01hdGgubWluKDIsbSk6TWF0aC5tYXgoLjUsbSksbj1NYXRoLnBvdyh0LDEteSksbz1pLnVucHJvamVjdChwLmFkZChmLm11bHQoeSpuKSkubXVsdChlKSk7aS5zZXRMb2NhdGlvbkF0UG9pbnQoaS5yZW5kZXJXb3JsZENvcGllcz9vLndyYXAoKTpvLGQpO31yZXR1cm4gZS5wcmVsb2FkT25seXx8dGhpcy5fZmlyZU1vdmVFdmVudHModCksaX07aWYoZS5wcmVsb2FkT25seSl7Y29uc3QgdD10aGlzLl9lbXVsYXRlKFQsZS5kdXJhdGlvbixpKTtyZXR1cm4gdGhpcy5fcHJlbG9hZFRpbGVzKHQpLHRoaXN9Y29uc3QgRT17bW92aW5nOnRoaXMuX21vdmluZyx6b29taW5nOnRoaXMuX3pvb21pbmcscm90YXRpbmc6dGhpcy5fcm90YXRpbmcscGl0Y2hpbmc6dGhpcy5fcGl0Y2hpbmd9O3JldHVybiB0aGlzLl96b29taW5nPXgsdGhpcy5fcm90YXRpbmc9dix0aGlzLl9waXRjaGluZz1iLHRoaXMuX3BhZGRpbmc9dyx0aGlzLl9lYXNlSWQ9ZS5lYXNlSWQsdGhpcy5fcHJlcGFyZUVhc2UodCxlLm5vTW92ZVN0YXJ0LEUpLHRoaXMuX2Vhc2UoVChpKSwoZT0+e1wic2VhXCI9PT1pLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZSYmaS5yZWNlbnRlck9uVGVycmFpbigpLHRoaXMuX2FmdGVyRWFzZSh0LGUpO30pLGUpLHRoaXN9X3ByZXBhcmVFYXNlKGUsdCxpPXt9KXt0aGlzLl9tb3Zpbmc9ITAsdGhpcy50cmFuc2Zvcm0uY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlPVwic2VhXCIsdGhpcy50cmFuc2Zvcm0uX29ydGhvZ3JhcGhpY1Byb2plY3Rpb25BdExvd1BpdGNoJiYwPT09dGhpcy50cmFuc2Zvcm0ucGl0Y2gmJlwiZ2xvYmVcIiE9PXRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSYmKHRoaXMudHJhbnNmb3JtLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT1cImdyb3VuZFwiKSx0fHxpLm1vdmluZ3x8dGhpcy5maXJlKG5ldyBBdChcIm1vdmVzdGFydFwiLGUpKSx0aGlzLl96b29taW5nJiYhaS56b29taW5nJiZ0aGlzLmZpcmUobmV3IEF0KFwiem9vbXN0YXJ0XCIsZSkpLHRoaXMuX3JvdGF0aW5nJiYhaS5yb3RhdGluZyYmdGhpcy5maXJlKG5ldyBBdChcInJvdGF0ZXN0YXJ0XCIsZSkpLHRoaXMuX3BpdGNoaW5nJiYhaS5waXRjaGluZyYmdGhpcy5maXJlKG5ldyBBdChcInBpdGNoc3RhcnRcIixlKSk7fV9maXJlTW92ZUV2ZW50cyhlKXt0aGlzLmZpcmUobmV3IEF0KFwibW92ZVwiLGUpKSx0aGlzLl96b29taW5nJiZ0aGlzLmZpcmUobmV3IEF0KFwiem9vbVwiLGUpKSx0aGlzLl9yb3RhdGluZyYmdGhpcy5maXJlKG5ldyBBdChcInJvdGF0ZVwiLGUpKSx0aGlzLl9waXRjaGluZyYmdGhpcy5maXJlKG5ldyBBdChcInBpdGNoXCIsZSkpO31fYWZ0ZXJFYXNlKGUsdCl7aWYodGhpcy5fZWFzZUlkJiZ0JiZ0aGlzLl9lYXNlSWQ9PT10KXJldHVybjt0aGlzLl9lYXNlSWQ9dm9pZCAwLHRoaXMudHJhbnNmb3JtLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT1cImdyb3VuZFwiO2NvbnN0IGk9dGhpcy5fem9vbWluZyxyPXRoaXMuX3JvdGF0aW5nLG49dGhpcy5fcGl0Y2hpbmc7dGhpcy5fbW92aW5nPSExLHRoaXMuX3pvb21pbmc9ITEsdGhpcy5fcm90YXRpbmc9ITEsdGhpcy5fcGl0Y2hpbmc9ITEsdGhpcy5fcGFkZGluZz0hMSxpJiZ0aGlzLmZpcmUobmV3IEF0KFwiem9vbWVuZFwiLGUpKSxyJiZ0aGlzLmZpcmUobmV3IEF0KFwicm90YXRlZW5kXCIsZSkpLG4mJnRoaXMuZmlyZShuZXcgQXQoXCJwaXRjaGVuZFwiLGUpKSx0aGlzLmZpcmUobmV3IEF0KFwibW92ZWVuZFwiLGUpKTt9Zmx5VG8oZSx0KXtpZih0aGlzLl9wcmVmZXJzUmVkdWNlZE1vdGlvbihlKSl7Y29uc3QgaT1PKGUsW1wiY2VudGVyXCIsXCJ6b29tXCIsXCJiZWFyaW5nXCIsXCJwaXRjaFwiLFwiYXJvdW5kXCJdKTtyZXR1cm4gdGhpcy5qdW1wVG8oaSx0KX10aGlzLnN0b3AoKSxlPWsoe29mZnNldDpbMCwwXSxzcGVlZDoxLjIsY3VydmU6MS40MixlYXNpbmc6Q30sZSk7Y29uc3QgaT10aGlzLnRyYW5zZm9ybSxyPXRoaXMuZ2V0Wm9vbSgpLG49dGhpcy5nZXRCZWFyaW5nKCksbz10aGlzLmdldFBpdGNoKCkscz10aGlzLmdldFBhZGRpbmcoKSxhPVwiem9vbVwiaW4gZT96KCtlLnpvb20saS5taW5ab29tLGkubWF4Wm9vbSk6cixsPVwiYmVhcmluZ1wiaW4gZT90aGlzLl9ub3JtYWxpemVCZWFyaW5nKGUuYmVhcmluZyxuKTpuLGM9XCJwaXRjaFwiaW4gZT8rZS5waXRjaDpvLGg9XCJwYWRkaW5nXCJpbiBlP2UucGFkZGluZzppLnBhZGRpbmcsdT1pLnpvb21TY2FsZShhLXIpLGQ9eS5jb252ZXJ0KGUub2Zmc2V0KTtsZXQgcD1pLmNlbnRlclBvaW50LmFkZChkKTtjb25zdCBmPWkucG9pbnRMb2NhdGlvbihwKSxtPU5kLmNvbnZlcnQoZS5jZW50ZXJ8fGYpO3RoaXMuX25vcm1hbGl6ZUNlbnRlcihtKTtjb25zdCBfPWkucHJvamVjdChmKSxnPWkucHJvamVjdChtKS5zdWIoXyk7bGV0IHg9ZS5jdXJ2ZTtjb25zdCB2PU1hdGgubWF4KGkud2lkdGgsaS5oZWlnaHQpLGI9di91LHc9Zy5tYWcoKTtpZihcIm1pblpvb21cImluIGUpe2NvbnN0IHQ9eihNYXRoLm1pbihlLm1pblpvb20scixhKSxpLm1pblpvb20saS5tYXhab29tKSxuPXYvaS56b29tU2NhbGUodC1yKTt4PU1hdGguc3FydChuL3cqMik7fWNvbnN0IFQ9eCp4O2Z1bmN0aW9uIEUoZSl7Y29uc3QgdD0oYipiLXYqdisoZT8tMToxKSpUKlQqdyp3KS8oMiooZT9iOnYpKlQqdyk7cmV0dXJuIE1hdGgubG9nKE1hdGguc3FydCh0KnQrMSktdCl9ZnVuY3Rpb24gTShlKXtyZXR1cm4gKE1hdGguZXhwKGUpLU1hdGguZXhwKC1lKSkvMn1mdW5jdGlvbiBBKGUpe3JldHVybiAoTWF0aC5leHAoZSkrTWF0aC5leHAoLWUpKS8yfWNvbnN0IFM9RSgwKTtsZXQgST1mdW5jdGlvbihlKXtyZXR1cm4gQShTKS9BKFMreCplKX0sRD1mdW5jdGlvbihlKXtyZXR1cm4gdiooKEEoUykqKE0odD1TK3gqZSkvQSh0KSktTShTKSkvVCkvdzt2YXIgdDt9LFA9KEUoMSktUykveDtpZihNYXRoLmFicyh3KTwxZS02fHwhaXNGaW5pdGUoUCkpe2lmKE1hdGguYWJzKHYtYik8MWUtNilyZXR1cm4gdGhpcy5lYXNlVG8oZSx0KTtjb25zdCBpPWI8dj8tMToxO1A9TWF0aC5hYnMoTWF0aC5sb2coYi92KSkveCxEPWZ1bmN0aW9uKCl7cmV0dXJuIDB9LEk9ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguZXhwKGkqeCplKX07fWUuZHVyYXRpb249XCJkdXJhdGlvblwiaW4gZT8rZS5kdXJhdGlvbjoxZTMqUC8oXCJzY3JlZW5TcGVlZFwiaW4gZT8rZS5zY3JlZW5TcGVlZC94OitlLnNwZWVkKSxlLm1heER1cmF0aW9uJiZlLmR1cmF0aW9uPmUubWF4RHVyYXRpb24mJihlLmR1cmF0aW9uPTApO2NvbnN0IFI9biE9PWwsTD1jIT09byxCPSFpLmlzUGFkZGluZ0VxdWFsKGgpLEY9aT0+dT0+e2NvbnN0IGY9dSpQLHk9MS9JKGYpO2kuem9vbT0xPT09dT9hOnIraS5zY2FsZVpvb20oeSksUiYmKGkuYmVhcmluZz1XcihuLGwsdSkpLEwmJihpLnBpdGNoPVdyKG8sYyx1KSksQiYmKGkuaW50ZXJwb2xhdGVQYWRkaW5nKHMsaCx1KSxwPWkuY2VudGVyUG9pbnQuYWRkKGQpKTtjb25zdCB4PTE9PT11P206aS51bnByb2plY3QoXy5hZGQoZy5tdWx0KEQoZikpKS5tdWx0KHkpKTtyZXR1cm4gaS5zZXRMb2NhdGlvbkF0UG9pbnQoaS5yZW5kZXJXb3JsZENvcGllcz94LndyYXAoKTp4LHApLGkuX3VwZGF0ZUNhbWVyYU9uVGVycmFpbigpLGUucHJlbG9hZE9ubHl8fHRoaXMuX2ZpcmVNb3ZlRXZlbnRzKHQpLGl9O2lmKGUucHJlbG9hZE9ubHkpe2NvbnN0IHQ9dGhpcy5fZW11bGF0ZShGLGUuZHVyYXRpb24saSk7cmV0dXJuIHRoaXMuX3ByZWxvYWRUaWxlcyh0KSx0aGlzfXJldHVybiB0aGlzLl96b29taW5nPSEwLHRoaXMuX3JvdGF0aW5nPVIsdGhpcy5fcGl0Y2hpbmc9TCx0aGlzLl9wYWRkaW5nPUIsdGhpcy5fcHJlcGFyZUVhc2UodCwhMSksdGhpcy5fZWFzZShGKGkpLCgoKT0+dGhpcy5fYWZ0ZXJFYXNlKHQpKSxlKSx0aGlzfWlzRWFzaW5nKCl7cmV0dXJuICEhdGhpcy5fZWFzZUZyYW1lSWR9c3RvcCgpe3JldHVybiB0aGlzLl9zdG9wKCl9X3N0b3AoZSx0KXtpZih0aGlzLl9lYXNlRnJhbWVJZCYmKHRoaXMuX2NhbmNlbFJlbmRlckZyYW1lKHRoaXMuX2Vhc2VGcmFtZUlkKSx0aGlzLl9lYXNlRnJhbWVJZD12b2lkIDAsdGhpcy5fb25FYXNlRnJhbWU9dm9pZCAwKSx0aGlzLl9vbkVhc2VFbmQpe2NvbnN0IGU9dGhpcy5fb25FYXNlRW5kO3RoaXMuX29uRWFzZUVuZD12b2lkIDAsZS5jYWxsKHRoaXMsdCk7fWlmKCFlKXtjb25zdCBlPXRoaXMuaGFuZGxlcnM7ZSYmZS5zdG9wKCExKTt9cmV0dXJuIHRoaXN9X2Vhc2UoZSx0LGkpeyExPT09aS5hbmltYXRlfHwwPT09aS5kdXJhdGlvbj8oZSgxKSx0KCkpOih0aGlzLl9lYXNlU3RhcnQ9aHQubm93KCksdGhpcy5fZWFzZU9wdGlvbnM9aSx0aGlzLl9vbkVhc2VGcmFtZT1lLHRoaXMuX29uRWFzZUVuZD10LHRoaXMuX2Vhc2VGcmFtZUlkPXRoaXMuX3JlcXVlc3RSZW5kZXJGcmFtZSh0aGlzLl9yZW5kZXJGcmFtZUNhbGxiYWNrKSk7fV9yZW5kZXJGcmFtZUNhbGxiYWNrKCl7Y29uc3QgZT1NYXRoLm1pbigoaHQubm93KCktdGhpcy5fZWFzZVN0YXJ0KS90aGlzLl9lYXNlT3B0aW9ucy5kdXJhdGlvbiwxKSx0PXRoaXMuX29uRWFzZUZyYW1lO3QmJnQodGhpcy5fZWFzZU9wdGlvbnMuZWFzaW5nKGUpKSxlPDE/dGhpcy5fZWFzZUZyYW1lSWQ9dGhpcy5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX3JlbmRlckZyYW1lQ2FsbGJhY2spOnRoaXMuc3RvcCgpO31fbm9ybWFsaXplQmVhcmluZyhlLHQpe2U9UChlLC0xODAsMTgwKTtjb25zdCBpPU1hdGguYWJzKGUtdCk7cmV0dXJuIE1hdGguYWJzKGUtMzYwLXQpPGkmJihlLT0zNjApLE1hdGguYWJzKGUrMzYwLXQpPGkmJihlKz0zNjApLGV9X25vcm1hbGl6ZUNlbnRlcihlKXtjb25zdCB0PXRoaXMudHJhbnNmb3JtO2lmKCF0LnJlbmRlcldvcmxkQ29waWVzfHx0Lm1heEJvdW5kcylyZXR1cm47Y29uc3QgaT1lLmxuZy10LmNlbnRlci5sbmc7ZS5sbmcrPWk+MTgwPy0zNjA6aTwtMTgwPzM2MDowO31fcHJlZmVyc1JlZHVjZWRNb3Rpb24oZSl7cmV0dXJuIHRoaXMuX3Jlc3BlY3RQcmVmZXJzUmVkdWNlZE1vdGlvbiYmaHQucHJlZmVyc1JlZHVjZWRNb3Rpb24mJiEoZSYmZS5lc3NlbnRpYWwpfV9lbXVsYXRlKGUsdCxpKXtjb25zdCByPU1hdGguY2VpbCgxNSp0LzFlMyksbj1bXSxvPWUoaS5jbG9uZSgpKTtmb3IobGV0IGU9MDtlPD1yO2UrKyl7Y29uc3QgdD1vKGUvcik7bi5wdXNoKHQuY2xvbmUoKSk7fXJldHVybiBufX1jbGFzcyAkU3tjb25zdHJ1Y3RvcihlPXt9KXt0aGlzLm9wdGlvbnM9ZSxqKFtcIl90b2dnbGVBdHRyaWJ1dGlvblwiLFwiX3VwZGF0ZUVkaXRMaW5rXCIsXCJfdXBkYXRlRGF0YVwiLFwiX3VwZGF0ZUNvbXBhY3RcIl0sdGhpcyk7fWdldERlZmF1bHRQb3NpdGlvbigpe3JldHVybiBcImJvdHRvbS1yaWdodFwifW9uQWRkKGUpe2NvbnN0IHQ9dGhpcy5vcHRpb25zJiZ0aGlzLm9wdGlvbnMuY29tcGFjdDtyZXR1cm4gdGhpcy5fbWFwPWUsdGhpcy5fY29udGFpbmVyPXV0KFwiZGl2XCIsXCJtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtYXR0cmliXCIpLHRoaXMuX2NvbXBhY3RCdXR0b249dXQoXCJidXR0b25cIixcIm1hcGJveGdsLWN0cmwtYXR0cmliLWJ1dHRvblwiLHRoaXMuX2NvbnRhaW5lciksdXQoXCJzcGFuXCIsXCJtYXBib3hnbC1jdHJsLWljb25cIix0aGlzLl9jb21wYWN0QnV0dG9uKS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSx0aGlzLl9jb21wYWN0QnV0dG9uLnR5cGU9XCJidXR0b25cIix0aGlzLl9jb21wYWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuX3RvZ2dsZUF0dHJpYnV0aW9uKSx0aGlzLl9zZXRFbGVtZW50VGl0bGUodGhpcy5fY29tcGFjdEJ1dHRvbixcIlRvZ2dsZUF0dHJpYnV0aW9uXCIpLHRoaXMuX2lubmVyQ29udGFpbmVyPXV0KFwiZGl2XCIsXCJtYXBib3hnbC1jdHJsLWF0dHJpYi1pbm5lclwiLHRoaXMuX2NvbnRhaW5lciksdCYmdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jb21wYWN0XCIpLHRoaXMuX3VwZGF0ZUF0dHJpYnV0aW9ucygpLHRoaXMuX3VwZGF0ZUVkaXRMaW5rKCksdGhpcy5fbWFwLm9uKFwic3R5bGVkYXRhXCIsdGhpcy5fdXBkYXRlRGF0YSksdGhpcy5fbWFwLm9uKFwic291cmNlZGF0YVwiLHRoaXMuX3VwZGF0ZURhdGEpLHRoaXMuX21hcC5vbihcIm1vdmVlbmRcIix0aGlzLl91cGRhdGVFZGl0TGluayksdm9pZCAwPT09dCYmKHRoaXMuX21hcC5vbihcInJlc2l6ZVwiLHRoaXMuX3VwZGF0ZUNvbXBhY3QpLHRoaXMuX3VwZGF0ZUNvbXBhY3QoKSksdGhpcy5fY29udGFpbmVyfW9uUmVtb3ZlKCl7dGhpcy5fY29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX21hcC5vZmYoXCJzdHlsZWRhdGFcIix0aGlzLl91cGRhdGVEYXRhKSx0aGlzLl9tYXAub2ZmKFwic291cmNlZGF0YVwiLHRoaXMuX3VwZGF0ZURhdGEpLHRoaXMuX21hcC5vZmYoXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlRWRpdExpbmspLHRoaXMuX21hcC5vZmYoXCJyZXNpemVcIix0aGlzLl91cGRhdGVDb21wYWN0KSx0aGlzLl9tYXA9dm9pZCAwLHRoaXMuX2F0dHJpYkhUTUw9dm9pZCAwO31fc2V0RWxlbWVudFRpdGxlKGUsdCl7Y29uc3QgaT10aGlzLl9tYXAuX2dldFVJU3RyaW5nKGBBdHRyaWJ1dGlvbkNvbnRyb2wuJHt0fWApO2Uuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLGkpLGUucmVtb3ZlQXR0cmlidXRlKFwidGl0bGVcIiksZS5maXJzdEVsZW1lbnRDaGlsZCYmZS5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLGkpO31fdG9nZ2xlQXR0cmlidXRpb24oKXt0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwibWFwYm94Z2wtY29tcGFjdC1zaG93XCIpPyh0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWNvbXBhY3Qtc2hvd1wiKSx0aGlzLl9jb21wYWN0QnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIixcImZhbHNlXCIpKToodGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jb21wYWN0LXNob3dcIiksdGhpcy5fY29tcGFjdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsXCJ0cnVlXCIpKTt9X3VwZGF0ZUVkaXRMaW5rKCl7bGV0IGU9dGhpcy5fZWRpdExpbms7ZXx8KGU9dGhpcy5fZWRpdExpbms9dGhpcy5fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIubWFwYm94LWltcHJvdmUtbWFwXCIpKTtjb25zdCB0PVt7a2V5Olwib3duZXJcIix2YWx1ZTp0aGlzLnN0eWxlT3duZXJ9LHtrZXk6XCJpZFwiLHZhbHVlOnRoaXMuc3R5bGVJZH0se2tleTpcImFjY2Vzc190b2tlblwiLHZhbHVlOnRoaXMuX21hcC5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VufHxuLkFDQ0VTU19UT0tFTn1dO2lmKGUpe2NvbnN0IGk9dC5yZWR1Y2UoKChlLGkscik9PihpLnZhbHVlJiYoZSs9YCR7aS5rZXl9PSR7aS52YWx1ZX0ke3I8dC5sZW5ndGgtMT9cIiZcIjpcIlwifWApLGUpKSxcIj9cIik7ZS5ocmVmPWAke24uRkVFREJBQ0tfVVJMfS8ke2l9IyR7WEEodGhpcy5fbWFwLCEwKX1gLGUucmVsPVwibm9vcGVuZXIgbm9mb2xsb3dcIix0aGlzLl9zZXRFbGVtZW50VGl0bGUoZSxcIk1hcEZlZWRiYWNrXCIpO319X3VwZGF0ZURhdGEoZSl7IWV8fFwibWV0YWRhdGFcIiE9PWUuc291cmNlRGF0YVR5cGUmJlwidmlzaWJpbGl0eVwiIT09ZS5zb3VyY2VEYXRhVHlwZSYmXCJzdHlsZVwiIT09ZS5kYXRhVHlwZXx8KHRoaXMuX3VwZGF0ZUF0dHJpYnV0aW9ucygpLHRoaXMuX3VwZGF0ZUVkaXRMaW5rKCkpO31fdXBkYXRlQXR0cmlidXRpb25zKCl7aWYoIXRoaXMuX21hcC5zdHlsZSlyZXR1cm47bGV0IGU9W107aWYodGhpcy5fbWFwLnN0eWxlLnN0eWxlc2hlZXQpe2NvbnN0IGU9dGhpcy5fbWFwLnN0eWxlLnN0eWxlc2hlZXQ7dGhpcy5zdHlsZU93bmVyPWUub3duZXIsdGhpcy5zdHlsZUlkPWUuaWQ7fWNvbnN0IHQ9dGhpcy5fbWFwLnN0eWxlLl9tZXJnZWRTb3VyY2VDYWNoZXM7Zm9yKGNvbnN0IGkgaW4gdCl7Y29uc3Qgcj10W2ldO2lmKHIudXNlZCl7Y29uc3QgdD1yLmdldFNvdXJjZSgpO3QuYXR0cmlidXRpb24mJmUuaW5kZXhPZih0LmF0dHJpYnV0aW9uKTwwJiZlLnB1c2godC5hdHRyaWJ1dGlvbik7fX1lLnNvcnQoKChlLHQpPT5lLmxlbmd0aC10Lmxlbmd0aCkpLGU9ZS5maWx0ZXIoKCh0LGkpPT57Zm9yKGxldCByPWkrMTtyPGUubGVuZ3RoO3IrKylpZihlW3JdLmluZGV4T2YodCk+PTApcmV0dXJuICExO3JldHVybiAhMH0pKSx0aGlzLm9wdGlvbnMuY3VzdG9tQXR0cmlidXRpb24mJihBcnJheS5pc0FycmF5KHRoaXMub3B0aW9ucy5jdXN0b21BdHRyaWJ1dGlvbik/ZT1bLi4udGhpcy5vcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uLC4uLmVdOmUudW5zaGlmdCh0aGlzLm9wdGlvbnMuY3VzdG9tQXR0cmlidXRpb24pKTtjb25zdCBpPWUuam9pbihcIiB8IFwiKTtpIT09dGhpcy5fYXR0cmliSFRNTCYmKHRoaXMuX2F0dHJpYkhUTUw9aSxlLmxlbmd0aD8odGhpcy5faW5uZXJDb250YWluZXIuaW5uZXJIVE1MPWksdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1hdHRyaWItZW1wdHlcIikpOnRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtYXR0cmliLWVtcHR5XCIpLHRoaXMuX2VkaXRMaW5rPW51bGwpO31fdXBkYXRlQ29tcGFjdCgpe3RoaXMuX21hcC5nZXRDYW52YXNDb250YWluZXIoKS5vZmZzZXRXaWR0aDw9NjQwP3RoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY29tcGFjdFwiKTp0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWNvbXBhY3RcIixcIm1hcGJveGdsLWNvbXBhY3Qtc2hvd1wiKTt9fWNsYXNzIEhTe2NvbnN0cnVjdG9yKCl7aihbXCJfdXBkYXRlTG9nb1wiLFwiX3VwZGF0ZUNvbXBhY3RcIl0sdGhpcyk7fW9uQWRkKGUpe3RoaXMuX21hcD1lLHRoaXMuX2NvbnRhaW5lcj11dChcImRpdlwiLFwibWFwYm94Z2wtY3RybFwiKTtjb25zdCB0PXV0KFwiYVwiLFwibWFwYm94Z2wtY3RybC1sb2dvXCIpO3JldHVybiB0LnRhcmdldD1cIl9ibGFua1wiLHQucmVsPVwibm9vcGVuZXIgbm9mb2xsb3dcIix0LmhyZWY9XCJodHRwczovL3d3dy5tYXBib3guY29tL1wiLHQuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLHRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoXCJMb2dvQ29udHJvbC5UaXRsZVwiKSksdC5zZXRBdHRyaWJ1dGUoXCJyZWxcIixcIm5vb3BlbmVyIG5vZm9sbG93XCIpLHRoaXMuX2NvbnRhaW5lci5hcHBlbmRDaGlsZCh0KSx0aGlzLl9jb250YWluZXIuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLl9tYXAub24oXCJzb3VyY2VkYXRhXCIsdGhpcy5fdXBkYXRlTG9nbyksdGhpcy5fdXBkYXRlTG9nbygpLHRoaXMuX21hcC5vbihcInJlc2l6ZVwiLHRoaXMuX3VwZGF0ZUNvbXBhY3QpLHRoaXMuX3VwZGF0ZUNvbXBhY3QoKSx0aGlzLl9jb250YWluZXJ9b25SZW1vdmUoKXt0aGlzLl9jb250YWluZXIucmVtb3ZlKCksdGhpcy5fbWFwLm9mZihcInNvdXJjZWRhdGFcIix0aGlzLl91cGRhdGVMb2dvKSx0aGlzLl9tYXAub2ZmKFwicmVzaXplXCIsdGhpcy5fdXBkYXRlQ29tcGFjdCk7fWdldERlZmF1bHRQb3NpdGlvbigpe3JldHVybiBcImJvdHRvbS1sZWZ0XCJ9X3VwZGF0ZUxvZ28oZSl7ZSYmXCJtZXRhZGF0YVwiIT09ZS5zb3VyY2VEYXRhVHlwZXx8KHRoaXMuX2NvbnRhaW5lci5zdHlsZS5kaXNwbGF5PXRoaXMuX2xvZ29SZXF1aXJlZCgpP1wiYmxvY2tcIjpcIm5vbmVcIik7fV9sb2dvUmVxdWlyZWQoKXtpZighdGhpcy5fbWFwLnN0eWxlKXJldHVybiAhMDtjb25zdCBlPXRoaXMuX21hcC5zdHlsZS5fc291cmNlQ2FjaGVzO2lmKDA9PT1PYmplY3QuZW50cmllcyhlKS5sZW5ndGgpcmV0dXJuICEwO2Zvcihjb25zdCB0IGluIGUpe2NvbnN0IGk9ZVt0XS5nZXRTb3VyY2UoKTtpZihpLmhhc093blByb3BlcnR5KFwibWFwYm94X2xvZ29cIikmJiFpLm1hcGJveF9sb2dvKXJldHVybiAhMX1yZXR1cm4gITB9X3VwZGF0ZUNvbXBhY3QoKXtjb25zdCBlPXRoaXMuX2NvbnRhaW5lci5jaGlsZHJlbjtpZihlLmxlbmd0aCl7Y29uc3QgdD1lWzBdO3RoaXMuX21hcC5nZXRDYW52YXNDb250YWluZXIoKS5vZmZzZXRXaWR0aDwyNTA/dC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY29tcGFjdFwiKTp0LmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jb21wYWN0XCIpO319fWNsYXNzIFdTe2NvbnN0cnVjdG9yKCl7dGhpcy5fcXVldWU9W10sdGhpcy5faWQ9MCx0aGlzLl9jbGVhcmVkPSExLHRoaXMuX2N1cnJlbnRseVJ1bm5pbmc9ITE7fWFkZChlKXtjb25zdCB0PSsrdGhpcy5faWQ7cmV0dXJuIHRoaXMuX3F1ZXVlLnB1c2goe2NhbGxiYWNrOmUsaWQ6dCxjYW5jZWxsZWQ6ITF9KSx0fXJlbW92ZShlKXtjb25zdCB0PXRoaXMuX2N1cnJlbnRseVJ1bm5pbmcsaT10P3RoaXMuX3F1ZXVlLmNvbmNhdCh0KTp0aGlzLl9xdWV1ZTtmb3IoY29uc3QgdCBvZiBpKWlmKHQuaWQ9PT1lKXJldHVybiB2b2lkKHQuY2FuY2VsbGVkPSEwKX1ydW4oZT0wKXtjb25zdCB0PXRoaXMuX2N1cnJlbnRseVJ1bm5pbmc9dGhpcy5fcXVldWU7dGhpcy5fcXVldWU9W107Zm9yKGNvbnN0IGkgb2YgdClpZighaS5jYW5jZWxsZWQmJihpLmNhbGxiYWNrKGUpLHRoaXMuX2NsZWFyZWQpKWJyZWFrO3RoaXMuX2NsZWFyZWQ9ITEsdGhpcy5fY3VycmVudGx5UnVubmluZz0hMTt9Y2xlYXIoKXt0aGlzLl9jdXJyZW50bHlSdW5uaW5nJiYodGhpcy5fY2xlYXJlZD0hMCksdGhpcy5fcXVldWU9W107fX1mdW5jdGlvbiBYUyhlLHQsaSl7aWYoZT1uZXcgTmQoZS5sbmcsZS5sYXQpLHQpe2NvbnN0IHI9bmV3IE5kKGUubG5nLTM2MCxlLmxhdCksbj1uZXcgTmQoZS5sbmcrMzYwLGUubGF0KSxvPTM2MCpNYXRoLmNlaWwoTWF0aC5hYnMoZS5sbmctaS5jZW50ZXIubG5nKS8zNjApLHM9aS5sb2NhdGlvblBvaW50KGUpLmRpc3RTcXIodCksYT10Lng8MHx8dC55PDB8fHQueD5pLndpZHRofHx0Lnk+aS5oZWlnaHQ7aS5sb2NhdGlvblBvaW50KHIpLmRpc3RTcXIodCk8cyYmKGF8fE1hdGguYWJzKHIubG5nLWkuY2VudGVyLmxuZyk8byk/ZT1yOmkubG9jYXRpb25Qb2ludChuKS5kaXN0U3FyKHQpPHMmJihhfHxNYXRoLmFicyhuLmxuZy1pLmNlbnRlci5sbmcpPG8pJiYoZT1uKTt9Zm9yKDtNYXRoLmFicyhlLmxuZy1pLmNlbnRlci5sbmcpPjE4MDspe2NvbnN0IHQ9aS5sb2NhdGlvblBvaW50KGUpO2lmKHQueD49MCYmdC55Pj0wJiZ0Lng8PWkud2lkdGgmJnQueTw9aS5oZWlnaHQpYnJlYWs7ZS5sbmc+aS5jZW50ZXIubG5nP2UubG5nLT0zNjA6ZS5sbmcrPTM2MDt9cmV0dXJuIGV9Y29uc3QgWVM9e2NlbnRlcjpcInRyYW5zbGF0ZSgtNTAlLC01MCUpXCIsdG9wOlwidHJhbnNsYXRlKC01MCUsMClcIixcInRvcC1sZWZ0XCI6XCJ0cmFuc2xhdGUoMCwwKVwiLFwidG9wLXJpZ2h0XCI6XCJ0cmFuc2xhdGUoLTEwMCUsMClcIixib3R0b206XCJ0cmFuc2xhdGUoLTUwJSwtMTAwJSlcIixcImJvdHRvbS1sZWZ0XCI6XCJ0cmFuc2xhdGUoMCwtMTAwJSlcIixcImJvdHRvbS1yaWdodFwiOlwidHJhbnNsYXRlKC0xMDAlLC0xMDAlKVwiLGxlZnQ6XCJ0cmFuc2xhdGUoMCwtNTAlKVwiLHJpZ2h0OlwidHJhbnNsYXRlKC0xMDAlLC01MCUpXCJ9O2NsYXNzIEtTIGV4dGVuZHMgSXR7Y29uc3RydWN0b3IoZSxpKXtpZihzdXBlcigpLChlIGluc3RhbmNlb2YgdC5IVE1MRWxlbWVudHx8aSkmJihlPWsoe2VsZW1lbnQ6ZX0saSkpLGooW1wiX3VwZGF0ZVwiLFwiX29uTW92ZVwiLFwiX29uVXBcIixcIl9hZGREcmFnSGFuZGxlclwiLFwiX29uTWFwQ2xpY2tcIixcIl9vbktleVByZXNzXCIsXCJfY2xlYXJGYWRlVGltZXJcIl0sdGhpcyksdGhpcy5fYW5jaG9yPWUmJmUuYW5jaG9yfHxcImNlbnRlclwiLHRoaXMuX2NvbG9yPWUmJmUuY29sb3J8fFwiIzNGQjFDRVwiLHRoaXMuX3NjYWxlPWUmJmUuc2NhbGV8fDEsdGhpcy5fZHJhZ2dhYmxlPWUmJmUuZHJhZ2dhYmxlfHwhMSx0aGlzLl9jbGlja1RvbGVyYW5jZT1lJiZlLmNsaWNrVG9sZXJhbmNlfHwwLHRoaXMuX2lzRHJhZ2dpbmc9ITEsdGhpcy5fc3RhdGU9XCJpbmFjdGl2ZVwiLHRoaXMuX3JvdGF0aW9uPWUmJmUucm90YXRpb258fDAsdGhpcy5fcm90YXRpb25BbGlnbm1lbnQ9ZSYmZS5yb3RhdGlvbkFsaWdubWVudHx8XCJhdXRvXCIsdGhpcy5fcGl0Y2hBbGlnbm1lbnQ9ZSYmZS5waXRjaEFsaWdubWVudCYmZS5waXRjaEFsaWdubWVudHx8XCJhdXRvXCIsdGhpcy5fdXBkYXRlTW92aW5nPSgpPT50aGlzLl91cGRhdGUoITApLHRoaXMuX29jY2x1ZGVkT3BhY2l0eT1lJiZlLm9jY2x1ZGVkT3BhY2l0eXx8LjIsZSYmZS5lbGVtZW50KXRoaXMuX2VsZW1lbnQ9ZS5lbGVtZW50LHRoaXMuX29mZnNldD15LmNvbnZlcnQoZSYmZS5vZmZzZXR8fFswLDBdKTtlbHNlIHt0aGlzLl9kZWZhdWx0TWFya2VyPSEwLHRoaXMuX2VsZW1lbnQ9dXQoXCJkaXZcIik7Y29uc3QgdD00MSxpPTI3LHI9ZHQoXCJzdmdcIix7ZGlzcGxheTpcImJsb2NrXCIsaGVpZ2h0OnQqdGhpcy5fc2NhbGUrXCJweFwiLHdpZHRoOmkqdGhpcy5fc2NhbGUrXCJweFwiLHZpZXdCb3g6YDAgMCAke2l9ICR7dH1gfSx0aGlzLl9lbGVtZW50KSxuPWR0KFwicmFkaWFsR3JhZGllbnRcIix7aWQ6XCJzaGFkb3dHcmFkaWVudFwifSxkdChcImRlZnNcIix7fSxyKSk7ZHQoXCJzdG9wXCIse29mZnNldDpcIjEwJVwiLFwic3RvcC1vcGFjaXR5XCI6LjR9LG4pLGR0KFwic3RvcFwiLHtvZmZzZXQ6XCIxMDAlXCIsXCJzdG9wLW9wYWNpdHlcIjouMDV9LG4pLGR0KFwiZWxsaXBzZVwiLHtjeDoxMy41LGN5OjM0Ljgscng6MTAuNSxyeTo1LjI1LGZpbGw6XCJ1cmwoI3NoYWRvd0dyYWRpZW50KVwifSxyKSxkdChcInBhdGhcIix7ZmlsbDp0aGlzLl9jb2xvcixkOlwiTTI3LDEzLjVDMjcsMTkuMDcgMjAuMjUsMjcgMTQuNzUsMzQuNUMxNC4wMiwzNS41IDEyLjk4LDM1LjUgMTIuMjUsMzQuNUM2Ljc1LDI3IDAsMTkuMjIgMCwxMy41QzAsNi4wNCA2LjA0LDAgMTMuNSwwQzIwLjk2LDAgMjcsNi4wNCAyNywxMy41WlwifSxyKSxkdChcInBhdGhcIix7b3BhY2l0eTouMjUsZDpcIk0xMy41LDBDNi4wNCwwIDAsNi4wNCAwLDEzLjVDMCwxOS4yMiA2Ljc1LDI3IDEyLjI1LDM0LjVDMTMsMzUuNTIgMTQuMDIsMzUuNSAxNC43NSwzNC41QzIwLjI1LDI3IDI3LDE5LjA3IDI3LDEzLjVDMjcsNi4wNCAyMC45NiwwIDEzLjUsMFpNMTMuNSwxQzIwLjQyLDEgMjYsNi41OCAyNiwxMy41QzI2LDE1LjkgMjQuNSwxOS4xOCAyMi4yMiwyMi43NEMxOS45NSwyNi4zIDE2LjcxLDMwLjE0IDEzLjk0LDMzLjkxQzEzLjc0LDM0LjE4IDEzLjYxLDM0LjMyIDEzLjUsMzQuNDRDMTMuMzksMzQuMzIgMTMuMjYsMzQuMTggMTMuMDYsMzMuOTFDMTAuMjgsMzAuMTMgNy40MSwyNi4zMSA1LjAyLDIyLjc3QzIuNjIsMTkuMjMgMSwxNS45NSAxLDEzLjVDMSw2LjU4IDYuNTgsMSAxMy41LDFaXCJ9LHIpLGR0KFwiY2lyY2xlXCIse2ZpbGw6XCJ3aGl0ZVwiLGN4OjEzLjUsY3k6MTMuNSxyOjUuNX0sciksdGhpcy5fb2Zmc2V0PXkuY29udmVydChlJiZlLm9mZnNldHx8WzAsLTE0XSk7fXRoaXMuX2VsZW1lbnQuaGFzQXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiKXx8dGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsXCJNYXAgbWFya2VyXCIpLHRoaXMuX2VsZW1lbnQuaGFzQXR0cmlidXRlKFwicm9sZVwiKXx8dGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJpbWdcIiksdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtbWFya2VyXCIpLHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdzdGFydFwiLChlPT57ZS5wcmV2ZW50RGVmYXVsdCgpO30pKSx0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwoZT0+e2UucHJldmVudERlZmF1bHQoKTt9KSk7Y29uc3Qgcj10aGlzLl9lbGVtZW50LmNsYXNzTGlzdDtmb3IoY29uc3QgZSBpbiBZUylyLnJlbW92ZShgbWFwYm94Z2wtbWFya2VyLWFuY2hvci0ke2V9YCk7ci5hZGQoYG1hcGJveGdsLW1hcmtlci1hbmNob3ItJHt0aGlzLl9hbmNob3J9YCk7Y29uc3Qgbj1lJiZlLmNsYXNzTmFtZT9lLmNsYXNzTmFtZS50cmltKCkuc3BsaXQoL1xccysvKTpbXTtyLmFkZCguLi5uKSx0aGlzLl9wb3B1cD1udWxsO31hZGRUbyhlKXtyZXR1cm4gZT09PXRoaXMuX21hcHx8KHRoaXMucmVtb3ZlKCksdGhpcy5fbWFwPWUsZS5nZXRDYW52YXNDb250YWluZXIoKS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50KSxlLm9uKFwibW92ZVwiLHRoaXMuX3VwZGF0ZU1vdmluZyksZS5vbihcIm1vdmVlbmRcIix0aGlzLl91cGRhdGUpLGUub24oXCJyZW1vdmVcIix0aGlzLl9jbGVhckZhZGVUaW1lciksZS5fYWRkTWFya2VyKHRoaXMpLHRoaXMuc2V0RHJhZ2dhYmxlKHRoaXMuX2RyYWdnYWJsZSksdGhpcy5fdXBkYXRlKCksZS5vbihcImNsaWNrXCIsdGhpcy5fb25NYXBDbGljaykpLHRoaXN9cmVtb3ZlKCl7Y29uc3QgZT10aGlzLl9tYXA7cmV0dXJuIGUmJihlLm9mZihcImNsaWNrXCIsdGhpcy5fb25NYXBDbGljayksZS5vZmYoXCJtb3ZlXCIsdGhpcy5fdXBkYXRlTW92aW5nKSxlLm9mZihcIm1vdmVlbmRcIix0aGlzLl91cGRhdGUpLGUub2ZmKFwibW91c2Vkb3duXCIsdGhpcy5fYWRkRHJhZ0hhbmRsZXIpLGUub2ZmKFwidG91Y2hzdGFydFwiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSxlLm9mZihcIm1vdXNldXBcIix0aGlzLl9vblVwKSxlLm9mZihcInRvdWNoZW5kXCIsdGhpcy5fb25VcCksZS5vZmYoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdmUpLGUub2ZmKFwidG91Y2htb3ZlXCIsdGhpcy5fb25Nb3ZlKSxlLm9mZihcInJlbW92ZVwiLHRoaXMuX2NsZWFyRmFkZVRpbWVyKSxlLl9yZW1vdmVNYXJrZXIodGhpcyksdGhpcy5fbWFwPXZvaWQgMCksdGhpcy5fY2xlYXJGYWRlVGltZXIoKSx0aGlzLl9lbGVtZW50LnJlbW92ZSgpLHRoaXMuX3BvcHVwJiZ0aGlzLl9wb3B1cC5yZW1vdmUoKSx0aGlzfWdldExuZ0xhdCgpe3JldHVybiB0aGlzLl9sbmdMYXR9c2V0TG5nTGF0KGUpe3JldHVybiB0aGlzLl9sbmdMYXQ9TmQuY29udmVydChlKSx0aGlzLl9wb3M9bnVsbCx0aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAuc2V0TG5nTGF0KHRoaXMuX2xuZ0xhdCksdGhpcy5fdXBkYXRlKCEwKSx0aGlzfWdldEVsZW1lbnQoKXtyZXR1cm4gdGhpcy5fZWxlbWVudH1zZXRQb3B1cChlKXtpZih0aGlzLl9wb3B1cCYmKHRoaXMuX3BvcHVwLnJlbW92ZSgpLHRoaXMuX3BvcHVwPW51bGwsdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJyb2xlXCIpLHRoaXMuX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXByZXNzXCIsdGhpcy5fb25LZXlQcmVzcyksdGhpcy5fb3JpZ2luYWxUYWJJbmRleHx8dGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKSksZSl7aWYoIShcIm9mZnNldFwiaW4gZS5vcHRpb25zKSl7Y29uc3QgdD0zOC4xLGk9MTMuNSxyPU1hdGguc3FydChNYXRoLnBvdyhpLDIpLzIpO2Uub3B0aW9ucy5vZmZzZXQ9dGhpcy5fZGVmYXVsdE1hcmtlcj97dG9wOlswLDBdLFwidG9wLWxlZnRcIjpbMCwwXSxcInRvcC1yaWdodFwiOlswLDBdLGJvdHRvbTpbMCwtdF0sXCJib3R0b20tbGVmdFwiOltyLC0xKih0LWkrcildLFwiYm90dG9tLXJpZ2h0XCI6Wy1yLC0xKih0LWkrcildLGxlZnQ6W2ksLTEqKHQtaSldLHJpZ2h0OlstaSwtMSoodC1pKV19OnRoaXMuX29mZnNldDt9dGhpcy5fcG9wdXA9ZSxlLl9tYXJrZXI9dGhpcyx0aGlzLl9sbmdMYXQmJnRoaXMuX3BvcHVwLnNldExuZ0xhdCh0aGlzLl9sbmdMYXQpLHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwiYnV0dG9uXCIpLHRoaXMuX29yaWdpbmFsVGFiSW5kZXg9dGhpcy5fZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKSx0aGlzLl9vcmlnaW5hbFRhYkluZGV4fHx0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsXCIwXCIpLHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXByZXNzXCIsdGhpcy5fb25LZXlQcmVzcyksdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsXCJmYWxzZVwiKTt9cmV0dXJuIHRoaXN9X29uS2V5UHJlc3MoZSl7Y29uc3QgdD1lLmNvZGUsaT1lLmNoYXJDb2RlfHxlLmtleUNvZGU7XCJTcGFjZVwiIT09dCYmXCJFbnRlclwiIT09dCYmMzIhPT1pJiYxMyE9PWl8fHRoaXMudG9nZ2xlUG9wdXAoKTt9X29uTWFwQ2xpY2soZSl7Y29uc3QgdD1lLm9yaWdpbmFsRXZlbnQudGFyZ2V0LGk9dGhpcy5fZWxlbWVudDt0aGlzLl9wb3B1cCYmKHQ9PT1pfHxpLmNvbnRhaW5zKHQpKSYmdGhpcy50b2dnbGVQb3B1cCgpO31nZXRQb3B1cCgpe3JldHVybiB0aGlzLl9wb3B1cH10b2dnbGVQb3B1cCgpe2NvbnN0IGU9dGhpcy5fcG9wdXA7cmV0dXJuIGU/KGUuaXNPcGVuKCk/KGUucmVtb3ZlKCksdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsXCJmYWxzZVwiKSk6dGhpcy5fbWFwJiYoZS5hZGRUbyh0aGlzLl9tYXApLHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLFwidHJ1ZVwiKSksdGhpcyk6dGhpc31fYmVoaW5kVGVycmFpbigpe2NvbnN0IGU9dGhpcy5fbWFwLHQ9dGhpcy5fcG9zO2lmKCFlfHwhdClyZXR1cm4gITE7Y29uc3QgaT1lLnVucHJvamVjdCh0KSxyPWUuZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKTtpZighci5wb3NpdGlvbilyZXR1cm4gITE7Y29uc3Qgbj1yLnBvc2l0aW9uLnRvTG5nTGF0KCk7cmV0dXJuIG4uZGlzdGFuY2VUbyhpKTwuOSpuLmRpc3RhbmNlVG8odGhpcy5fbG5nTGF0KX1fZXZhbHVhdGVPcGFjaXR5KCl7Y29uc3QgZT10aGlzLl9tYXA7aWYoIWUpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fcG9zO2lmKCF0fHx0Lng8MHx8dC54PmUudHJhbnNmb3JtLndpZHRofHx0Lnk8MHx8dC55PmUudHJhbnNmb3JtLmhlaWdodClyZXR1cm4gdm9pZCB0aGlzLl9jbGVhckZhZGVUaW1lcigpO2NvbnN0IGk9ZS51bnByb2plY3QodCk7bGV0IHI7ZS5fc2hvd2luZ0dsb2JlKCkmJkRkKGUudHJhbnNmb3JtLHRoaXMuX2xuZ0xhdCk/cj0wOihyPTEtZS5fcXVlcnlGb2dPcGFjaXR5KGkpLGUudHJhbnNmb3JtLl90ZXJyYWluRW5hYmxlZCgpJiZlLmdldFRlcnJhaW4oKSYmdGhpcy5fYmVoaW5kVGVycmFpbigpJiYocio9dGhpcy5fb2NjbHVkZWRPcGFjaXR5KSksdGhpcy5fZWxlbWVudC5zdHlsZS5vcGFjaXR5PWAke3J9YCx0aGlzLl9lbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHM9cj4wP1wiYXV0b1wiOlwibm9uZVwiLHRoaXMuX3BvcHVwJiZ0aGlzLl9wb3B1cC5fc2V0T3BhY2l0eShyKSx0aGlzLl9mYWRlVGltZXI9bnVsbDt9X2NsZWFyRmFkZVRpbWVyKCl7dGhpcy5fZmFkZVRpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMuX2ZhZGVUaW1lciksdGhpcy5fZmFkZVRpbWVyPW51bGwpO31fdXBkYXRlRE9NKCl7Y29uc3QgZT10aGlzLl9wb3M7aWYoIWV8fCF0aGlzLl9tYXApcmV0dXJuO2NvbnN0IHQ9dGhpcy5fb2Zmc2V0Lm11bHQodGhpcy5fc2NhbGUpO3RoaXMuX2VsZW1lbnQuc3R5bGUudHJhbnNmb3JtPWBcXG4gICAgICAgICAgICB0cmFuc2xhdGUoJHtlLnh9cHgsJHtlLnl9cHgpXFxuICAgICAgICAgICAgJHtZU1t0aGlzLl9hbmNob3JdfVxcbiAgICAgICAgICAgICR7dGhpcy5fY2FsY3VsYXRlWFlUcmFuc2Zvcm0oKX0gJHt0aGlzLl9jYWxjdWxhdGVaVHJhbnNmb3JtKCl9XFxuICAgICAgICAgICAgdHJhbnNsYXRlKCR7dC54fXB4LCR7dC55fXB4KVxcbiAgICAgICAgYDt9X2NhbGN1bGF0ZVhZVHJhbnNmb3JtKCl7Y29uc3QgZT10aGlzLl9wb3MsdD10aGlzLl9tYXAsaT10aGlzLmdldFBpdGNoQWxpZ25tZW50KCk7aWYoIXR8fCFlfHxcIm1hcFwiIT09aSlyZXR1cm4gXCJcIjtpZighdC5fc2hvd2luZ0dsb2JlKCkpe2NvbnN0IGU9dC5nZXRQaXRjaCgpO3JldHVybiBlP2Byb3RhdGVYKCR7ZX1kZWcpYDpcIlwifWNvbnN0IHI9VCh6ZCh0LnRyYW5zZm9ybSx0aGlzLl9sbmdMYXQpKSxuPWUuc3ViKENkKHQudHJhbnNmb3JtKSksbz1NYXRoLmFicyhuLngpK01hdGguYWJzKG4ueSk7aWYoMD09PW8pcmV0dXJuIFwiXCI7Y29uc3Qgcz1yL287cmV0dXJuIGByb3RhdGVYKCR7LW4ueSpzfWRlZykgcm90YXRlWSgke24ueCpzfWRlZylgfV9jYWxjdWxhdGVaVHJhbnNmb3JtKCl7Y29uc3QgZT10aGlzLl9wb3MsdD10aGlzLl9tYXA7aWYoIXR8fCFlKXJldHVybiBcIlwiO2xldCBpPTA7Y29uc3Qgcj10aGlzLmdldFJvdGF0aW9uQWxpZ25tZW50KCk7aWYoXCJtYXBcIj09PXIpaWYodC5fc2hvd2luZ0dsb2JlKCkpe2NvbnN0IGU9dC5wcm9qZWN0KG5ldyBOZCh0aGlzLl9sbmdMYXQubG5nLHRoaXMuX2xuZ0xhdC5sYXQrLjAwMSkpLHI9dC5wcm9qZWN0KG5ldyBOZCh0aGlzLl9sbmdMYXQubG5nLHRoaXMuX2xuZ0xhdC5sYXQtLjAwMSkpLnN1YihlKTtpPVQoTWF0aC5hdGFuMihyLnksci54KSktOTA7fWVsc2UgaT0tdC5nZXRCZWFyaW5nKCk7ZWxzZSBpZihcImhvcml6b25cIj09PXIpe2NvbnN0IHI9RCg0LDYsdC5nZXRab29tKCkpLG49Q2QodC50cmFuc2Zvcm0pO24ueSs9cip0LnRyYW5zZm9ybS5oZWlnaHQ7Y29uc3Qgbz1lLnN1YihuKSxzPVQoTWF0aC5hdGFuMihvLnksby54KSk7aT0ocz45MD9zLTI3MDpzKzkwKSooMS1yKTt9cmV0dXJuIGkrPXRoaXMuX3JvdGF0aW9uLGk/YHJvdGF0ZVooJHtpfWRlZylgOlwiXCJ9X3VwZGF0ZShlKXt0LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX3VwZGF0ZUZyYW1lSWQpO2NvbnN0IGk9dGhpcy5fbWFwO2kmJihpLnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllcyYmKHRoaXMuX2xuZ0xhdD1YUyh0aGlzLl9sbmdMYXQsdGhpcy5fcG9zLGkudHJhbnNmb3JtKSksdGhpcy5fcG9zPWkucHJvamVjdCh0aGlzLl9sbmdMYXQpLCEwPT09ZT90aGlzLl91cGRhdGVGcmFtZUlkPXQucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKT0+e3RoaXMuX2VsZW1lbnQmJnRoaXMuX3BvcyYmdGhpcy5fYW5jaG9yJiYodGhpcy5fcG9zPXRoaXMuX3Bvcy5yb3VuZCgpLHRoaXMuX3VwZGF0ZURPTSgpKTt9KSk6dGhpcy5fcG9zPXRoaXMuX3Bvcy5yb3VuZCgpLGkuX3JlcXVlc3REb21UYXNrKCgoKT0+e3RoaXMuX21hcCYmKHRoaXMuX2VsZW1lbnQmJnRoaXMuX3BvcyYmdGhpcy5fYW5jaG9yJiZ0aGlzLl91cGRhdGVET00oKSwoaS5fc2hvd2luZ0dsb2JlKCl8fGkuZ2V0VGVycmFpbigpfHxpLmdldEZvZygpKSYmIXRoaXMuX2ZhZGVUaW1lciYmKHRoaXMuX2ZhZGVUaW1lcj1zZXRUaW1lb3V0KHRoaXMuX2V2YWx1YXRlT3BhY2l0eS5iaW5kKHRoaXMpLDYwKSkpO30pKSk7fWdldE9mZnNldCgpe3JldHVybiB0aGlzLl9vZmZzZXR9c2V0T2Zmc2V0KGUpe3JldHVybiB0aGlzLl9vZmZzZXQ9eS5jb252ZXJ0KGUpLHRoaXMuX3VwZGF0ZSgpLHRoaXN9YWRkQ2xhc3NOYW1lKGUpe3JldHVybiB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoZSksdGhpc31yZW1vdmVDbGFzc05hbWUoZSl7cmV0dXJuIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShlKSx0aGlzfXRvZ2dsZUNsYXNzTmFtZShlKXtyZXR1cm4gdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKGUpfV9vbk1vdmUoZSl7Y29uc3QgdD10aGlzLl9tYXA7aWYoIXQpcmV0dXJuO2NvbnN0IGk9dGhpcy5fcG9pbnRlcmRvd25Qb3Mscj10aGlzLl9wb3NpdGlvbkRlbHRhO2lmKGkmJnIpe2lmKCF0aGlzLl9pc0RyYWdnaW5nKXtjb25zdCByPXRoaXMuX2NsaWNrVG9sZXJhbmNlfHx0Ll9jbGlja1RvbGVyYW5jZTtpZihlLnBvaW50LmRpc3QoaSk8cilyZXR1cm47dGhpcy5faXNEcmFnZ2luZz0hMDt9dGhpcy5fcG9zPWUucG9pbnQuc3ViKHIpLHRoaXMuX2xuZ0xhdD10LnVucHJvamVjdCh0aGlzLl9wb3MpLHRoaXMuc2V0TG5nTGF0KHRoaXMuX2xuZ0xhdCksdGhpcy5fZWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzPVwibm9uZVwiLFwicGVuZGluZ1wiPT09dGhpcy5fc3RhdGUmJih0aGlzLl9zdGF0ZT1cImFjdGl2ZVwiLHRoaXMuZmlyZShuZXcgQXQoXCJkcmFnc3RhcnRcIikpKSx0aGlzLmZpcmUobmV3IEF0KFwiZHJhZ1wiKSk7fX1fb25VcCgpe3RoaXMuX2VsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cz1cImF1dG9cIix0aGlzLl9wb3NpdGlvbkRlbHRhPW51bGwsdGhpcy5fcG9pbnRlcmRvd25Qb3M9bnVsbCx0aGlzLl9pc0RyYWdnaW5nPSExO2NvbnN0IGU9dGhpcy5fbWFwO2UmJihlLm9mZihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW92ZSksZS5vZmYoXCJ0b3VjaG1vdmVcIix0aGlzLl9vbk1vdmUpKSxcImFjdGl2ZVwiPT09dGhpcy5fc3RhdGUmJnRoaXMuZmlyZShuZXcgQXQoXCJkcmFnZW5kXCIpKSx0aGlzLl9zdGF0ZT1cImluYWN0aXZlXCI7fV9hZGREcmFnSGFuZGxlcihlKXtjb25zdCB0PXRoaXMuX21hcCxpPXRoaXMuX3Bvczt0JiZpJiZ0aGlzLl9lbGVtZW50LmNvbnRhaW5zKGUub3JpZ2luYWxFdmVudC50YXJnZXQpJiYoZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX3Bvc2l0aW9uRGVsdGE9ZS5wb2ludC5zdWIoaSksdGhpcy5fcG9pbnRlcmRvd25Qb3M9ZS5wb2ludCx0aGlzLl9zdGF0ZT1cInBlbmRpbmdcIix0Lm9uKFwibW91c2Vtb3ZlXCIsdGhpcy5fb25Nb3ZlKSx0Lm9uKFwidG91Y2htb3ZlXCIsdGhpcy5fb25Nb3ZlKSx0Lm9uY2UoXCJtb3VzZXVwXCIsdGhpcy5fb25VcCksdC5vbmNlKFwidG91Y2hlbmRcIix0aGlzLl9vblVwKSk7fXNldERyYWdnYWJsZShlKXt0aGlzLl9kcmFnZ2FibGU9ISFlO2NvbnN0IHQ9dGhpcy5fbWFwO3JldHVybiB0JiYoZT8odC5vbihcIm1vdXNlZG93blwiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSx0Lm9uKFwidG91Y2hzdGFydFwiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSk6KHQub2ZmKFwibW91c2Vkb3duXCIsdGhpcy5fYWRkRHJhZ0hhbmRsZXIpLHQub2ZmKFwidG91Y2hzdGFydFwiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSkpLHRoaXN9aXNEcmFnZ2FibGUoKXtyZXR1cm4gdGhpcy5fZHJhZ2dhYmxlfXNldFJvdGF0aW9uKGUpe3JldHVybiB0aGlzLl9yb3RhdGlvbj1lfHwwLHRoaXMuX3VwZGF0ZSgpLHRoaXN9Z2V0Um90YXRpb24oKXtyZXR1cm4gdGhpcy5fcm90YXRpb259c2V0Um90YXRpb25BbGlnbm1lbnQoZSl7cmV0dXJuIHRoaXMuX3JvdGF0aW9uQWxpZ25tZW50PWV8fFwiYXV0b1wiLHRoaXMuX3VwZGF0ZSgpLHRoaXN9Z2V0Um90YXRpb25BbGlnbm1lbnQoKXtyZXR1cm4gXCJhdXRvXCI9PT10aGlzLl9yb3RhdGlvbkFsaWdubWVudHx8XCJob3Jpem9uXCI9PT10aGlzLl9yb3RhdGlvbkFsaWdubWVudCYmdGhpcy5fbWFwJiYhdGhpcy5fbWFwLl9zaG93aW5nR2xvYmUoKT9cInZpZXdwb3J0XCI6dGhpcy5fcm90YXRpb25BbGlnbm1lbnR9c2V0UGl0Y2hBbGlnbm1lbnQoZSl7cmV0dXJuIHRoaXMuX3BpdGNoQWxpZ25tZW50PWV8fFwiYXV0b1wiLHRoaXMuX3VwZGF0ZSgpLHRoaXN9Z2V0UGl0Y2hBbGlnbm1lbnQoKXtyZXR1cm4gXCJhdXRvXCI9PT10aGlzLl9waXRjaEFsaWdubWVudD90aGlzLmdldFJvdGF0aW9uQWxpZ25tZW50KCk6dGhpcy5fcGl0Y2hBbGlnbm1lbnR9c2V0T2NjbHVkZWRPcGFjaXR5KGUpe3JldHVybiB0aGlzLl9vY2NsdWRlZE9wYWNpdHk9ZXx8LjIsdGhpcy5fdXBkYXRlKCksdGhpc31nZXRPY2NsdWRlZE9wYWNpdHkoKXtyZXR1cm4gdGhpcy5fb2NjbHVkZWRPcGFjaXR5fX1jb25zdCBKUz17Y2xvc2VCdXR0b246ITAsY2xvc2VPbkNsaWNrOiEwLGZvY3VzQWZ0ZXJPcGVuOiEwLGNsYXNzTmFtZTpcIlwiLG1heFdpZHRoOlwiMjQwcHhcIn0sUVM9W1wiYVtocmVmXVwiLFwiW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PSctMSddKVwiLFwiW2NvbnRlbnRlZGl0YWJsZV06bm90KFtjb250ZW50ZWRpdGFibGU9J2ZhbHNlJ10pXCIsXCJidXR0b246bm90KFtkaXNhYmxlZF0pXCIsXCJpbnB1dDpub3QoW2Rpc2FibGVkXSlcIixcInNlbGVjdDpub3QoW2Rpc2FibGVkXSlcIixcInRleHRhcmVhOm5vdChbZGlzYWJsZWRdKVwiXS5qb2luKFwiLCBcIik7ZnVuY3Rpb24gZUkoZT1uZXcgeSgwLDApLHQ9XCJib3R0b21cIil7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpe2NvbnN0IGk9TWF0aC5yb3VuZChNYXRoLnNxcnQoLjUqTWF0aC5wb3coZSwyKSkpO3N3aXRjaCh0KXtjYXNlXCJ0b3BcIjpyZXR1cm4gbmV3IHkoMCxlKTtjYXNlXCJ0b3AtbGVmdFwiOnJldHVybiBuZXcgeShpLGkpO2Nhc2VcInRvcC1yaWdodFwiOnJldHVybiBuZXcgeSgtaSxpKTtjYXNlXCJib3R0b21cIjpyZXR1cm4gbmV3IHkoMCwtZSk7Y2FzZVwiYm90dG9tLWxlZnRcIjpyZXR1cm4gbmV3IHkoaSwtaSk7Y2FzZVwiYm90dG9tLXJpZ2h0XCI6cmV0dXJuIG5ldyB5KC1pLC1pKTtjYXNlXCJsZWZ0XCI6cmV0dXJuIG5ldyB5KGUsMCk7Y2FzZVwicmlnaHRcIjpyZXR1cm4gbmV3IHkoLWUsMCl9cmV0dXJuIG5ldyB5KDAsMCl9cmV0dXJuIGUgaW5zdGFuY2VvZiB5fHxBcnJheS5pc0FycmF5KGUpP3kuY29udmVydChlKTp5LmNvbnZlcnQoZVt0XXx8WzAsMF0pfWNsYXNzIHRJe2NvbnN0cnVjdG9yKGUpe3RoaXMuanVtcFRvKGUpO31nZXRWYWx1ZShlKXtpZihlPD10aGlzLl9zdGFydFRpbWUpcmV0dXJuIHRoaXMuX3N0YXJ0O2lmKGU+PXRoaXMuX2VuZFRpbWUpcmV0dXJuIHRoaXMuX2VuZDtjb25zdCB0PU0oKGUtdGhpcy5fc3RhcnRUaW1lKS8odGhpcy5fZW5kVGltZS10aGlzLl9zdGFydFRpbWUpKTtyZXR1cm4gdGhpcy5fc3RhcnQqKDEtdCkrdGhpcy5fZW5kKnR9aXNFYXNpbmcoZSl7cmV0dXJuIGU+PXRoaXMuX3N0YXJ0VGltZSYmZTw9dGhpcy5fZW5kVGltZX1qdW1wVG8oZSl7dGhpcy5fc3RhcnRUaW1lPS0xLzAsdGhpcy5fZW5kVGltZT0tMS8wLHRoaXMuX3N0YXJ0PWUsdGhpcy5fZW5kPWU7fWVhc2VUbyhlLHQsaSl7dGhpcy5fc3RhcnQ9dGhpcy5nZXRWYWx1ZSh0KSx0aGlzLl9lbmQ9ZSx0aGlzLl9zdGFydFRpbWU9dCx0aGlzLl9lbmRUaW1lPXQraTt9fWNvbnN0IGlJPXtcIkF0dHJpYnV0aW9uQ29udHJvbC5Ub2dnbGVBdHRyaWJ1dGlvblwiOlwiVG9nZ2xlIGF0dHJpYnV0aW9uXCIsXCJBdHRyaWJ1dGlvbkNvbnRyb2wuTWFwRmVlZGJhY2tcIjpcIk1hcCBmZWVkYmFja1wiLFwiRnVsbHNjcmVlbkNvbnRyb2wuRW50ZXJcIjpcIkVudGVyIGZ1bGxzY3JlZW5cIixcIkZ1bGxzY3JlZW5Db250cm9sLkV4aXRcIjpcIkV4aXQgZnVsbHNjcmVlblwiLFwiR2VvbG9jYXRlQ29udHJvbC5GaW5kTXlMb2NhdGlvblwiOlwiRmluZCBteSBsb2NhdGlvblwiLFwiR2VvbG9jYXRlQ29udHJvbC5Mb2NhdGlvbk5vdEF2YWlsYWJsZVwiOlwiTG9jYXRpb24gbm90IGF2YWlsYWJsZVwiLFwiTG9nb0NvbnRyb2wuVGl0bGVcIjpcIk1hcGJveCBsb2dvXCIsXCJNYXAuVGl0bGVcIjpcIk1hcFwiLFwiTmF2aWdhdGlvbkNvbnRyb2wuUmVzZXRCZWFyaW5nXCI6XCJSZXNldCBiZWFyaW5nIHRvIG5vcnRoXCIsXCJOYXZpZ2F0aW9uQ29udHJvbC5ab29tSW5cIjpcIlpvb20gaW5cIixcIk5hdmlnYXRpb25Db250cm9sLlpvb21PdXRcIjpcIlpvb20gb3V0XCIsXCJTY3JvbGxab29tQmxvY2tlci5DdHJsTWVzc2FnZVwiOlwiVXNlIGN0cmwgKyBzY3JvbGwgdG8gem9vbSB0aGUgbWFwXCIsXCJTY3JvbGxab29tQmxvY2tlci5DbWRNZXNzYWdlXCI6XCJVc2Ug4oyYICsgc2Nyb2xsIHRvIHpvb20gdGhlIG1hcFwiLFwiVG91Y2hQYW5CbG9ja2VyLk1lc3NhZ2VcIjpcIlVzZSB0d28gZmluZ2VycyB0byBtb3ZlIHRoZSBtYXBcIn0sckk9e2NlbnRlcjpbMCwwXSx6b29tOjAsYmVhcmluZzowLHBpdGNoOjAsbWluWm9vbTotMixtYXhab29tOjIyLG1pblBpdGNoOjAsbWF4UGl0Y2g6ODUsaW50ZXJhY3RpdmU6ITAsc2Nyb2xsWm9vbTohMCxib3hab29tOiEwLGRyYWdSb3RhdGU6ITAsZHJhZ1BhbjohMCxrZXlib2FyZDohMCxkb3VibGVDbGlja1pvb206ITAsdG91Y2hab29tUm90YXRlOiEwLHRvdWNoUGl0Y2g6ITAsY29vcGVyYXRpdmVHZXN0dXJlczohMSxwZXJmb3JtYW5jZU1ldHJpY3NDb2xsZWN0aW9uOiEwLGJlYXJpbmdTbmFwOjcsY2xpY2tUb2xlcmFuY2U6MyxwaXRjaFdpdGhSb3RhdGU6ITAsaGFzaDohMSxhdHRyaWJ1dGlvbkNvbnRyb2w6ITAsYW50aWFsaWFzOiExLGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ITEscHJlc2VydmVEcmF3aW5nQnVmZmVyOiExLHRyYWNrUmVzaXplOiEwLHJlbmRlcldvcmxkQ29waWVzOiEwLHJlZnJlc2hFeHBpcmVkVGlsZXM6ITAsbWluVGlsZUNhY2hlU2l6ZTpudWxsLG1heFRpbGVDYWNoZVNpemU6bnVsbCxsb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk6XCJzYW5zLXNlcmlmXCIsbG9jYWxGb250RmFtaWx5Om51bGwsdHJhbnNmb3JtUmVxdWVzdDpudWxsLGFjY2Vzc1Rva2VuOm51bGwsZmFkZUR1cmF0aW9uOjMwMCxyZXNwZWN0UHJlZmVyc1JlZHVjZWRNb3Rpb246ITAsY3Jvc3NTb3VyY2VDb2xsaXNpb25zOiEwLGNvbGxlY3RSZXNvdXJjZVRpbWluZzohMSx0ZXN0TW9kZTohMX0sbkk9e3Nob3dDb21wYXNzOiEwLHNob3dab29tOiEwLHZpc3VhbGl6ZVBpdGNoOiExfTtjbGFzcyBvSXtjb25zdHJ1Y3RvcihlLHQsaT0hMSl7dGhpcy5fY2xpY2tUb2xlcmFuY2U9MTAsdGhpcy5lbGVtZW50PXQsdGhpcy5tb3VzZVJvdGF0ZT1uZXcgZ1Moe2NsaWNrVG9sZXJhbmNlOmUuZHJhZ1JvdGF0ZS5fbW91c2VSb3RhdGUuX2NsaWNrVG9sZXJhbmNlfSksdGhpcy5tYXA9ZSxpJiYodGhpcy5tb3VzZVBpdGNoPW5ldyB5Uyh7Y2xpY2tUb2xlcmFuY2U6ZS5kcmFnUm90YXRlLl9tb3VzZVBpdGNoLl9jbGlja1RvbGVyYW5jZX0pKSxqKFtcIm1vdXNlZG93blwiLFwibW91c2Vtb3ZlXCIsXCJtb3VzZXVwXCIsXCJ0b3VjaHN0YXJ0XCIsXCJ0b3VjaG1vdmVcIixcInRvdWNoZW5kXCIsXCJyZXNldFwiXSx0aGlzKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLm1vdXNlZG93biksdC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHRoaXMudG91Y2hzdGFydCx7cGFzc2l2ZTohMX0pLHQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMudG91Y2htb3ZlKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMudG91Y2hlbmQpLHQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoY2FuY2VsXCIsdGhpcy5yZXNldCk7fWRvd24oZSx0KXt0aGlzLm1vdXNlUm90YXRlLm1vdXNlZG93bihlLHQpLHRoaXMubW91c2VQaXRjaCYmdGhpcy5tb3VzZVBpdGNoLm1vdXNlZG93bihlLHQpLF90KCk7fW1vdmUoZSx0KXtjb25zdCBpPXRoaXMubWFwLHI9dGhpcy5tb3VzZVJvdGF0ZS5tb3VzZW1vdmVXaW5kb3coZSx0KSxuPXImJnIuYmVhcmluZ0RlbHRhO2lmKG4mJmkuc2V0QmVhcmluZyhpLmdldEJlYXJpbmcoKStuKSx0aGlzLm1vdXNlUGl0Y2gpe2NvbnN0IHI9dGhpcy5tb3VzZVBpdGNoLm1vdXNlbW92ZVdpbmRvdyhlLHQpLG49ciYmci5waXRjaERlbHRhO24mJmkuc2V0UGl0Y2goaS5nZXRQaXRjaCgpK24pO319b2ZmKCl7Y29uc3QgZT10aGlzLmVsZW1lbnQ7ZS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5tb3VzZWRvd24pLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLnRvdWNoc3RhcnQse3Bhc3NpdmU6ITF9KSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIix0aGlzLnRvdWNobW92ZSksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0aGlzLnRvdWNoZW5kKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGNhbmNlbFwiLHRoaXMucmVzZXQpLHRoaXMub2ZmVGVtcCgpO31vZmZUZW1wKCl7Z3QoKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLm1vdXNlbW92ZSksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMubW91c2V1cCk7fW1vdXNlZG93bihlKXt0aGlzLmRvd24oayh7fSxlLHtjdHJsS2V5OiEwLHByZXZlbnREZWZhdWx0OigpPT5lLnByZXZlbnREZWZhdWx0KCl9KSx2dCh0aGlzLmVsZW1lbnQsZSkpLHQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMubW91c2Vtb3ZlKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5tb3VzZXVwKTt9bW91c2Vtb3ZlKGUpe3RoaXMubW92ZShlLHZ0KHRoaXMuZWxlbWVudCxlKSk7fW1vdXNldXAoZSl7dGhpcy5tb3VzZVJvdGF0ZS5tb3VzZXVwV2luZG93KGUpLHRoaXMubW91c2VQaXRjaCYmdGhpcy5tb3VzZVBpdGNoLm1vdXNldXBXaW5kb3coZSksdGhpcy5vZmZUZW1wKCk7fXRvdWNoc3RhcnQoZSl7MSE9PWUudGFyZ2V0VG91Y2hlcy5sZW5ndGg/dGhpcy5yZXNldCgpOih0aGlzLl9zdGFydFBvcz10aGlzLl9sYXN0UG9zPWJ0KHRoaXMuZWxlbWVudCxlLnRhcmdldFRvdWNoZXMpWzBdLHRoaXMuZG93bih7dHlwZTpcIm1vdXNlZG93blwiLGJ1dHRvbjowLGN0cmxLZXk6ITAscHJldmVudERlZmF1bHQ6KCk9PmUucHJldmVudERlZmF1bHQoKX0sdGhpcy5fc3RhcnRQb3MpKTt9dG91Y2htb3ZlKGUpezEhPT1lLnRhcmdldFRvdWNoZXMubGVuZ3RoP3RoaXMucmVzZXQoKToodGhpcy5fbGFzdFBvcz1idCh0aGlzLmVsZW1lbnQsZS50YXJnZXRUb3VjaGVzKVswXSx0aGlzLm1vdmUoe3ByZXZlbnREZWZhdWx0OigpPT5lLnByZXZlbnREZWZhdWx0KCl9LHRoaXMuX2xhc3RQb3MpKTt9dG91Y2hlbmQoZSl7MD09PWUudGFyZ2V0VG91Y2hlcy5sZW5ndGgmJnRoaXMuX3N0YXJ0UG9zJiZ0aGlzLl9sYXN0UG9zJiZ0aGlzLl9zdGFydFBvcy5kaXN0KHRoaXMuX2xhc3RQb3MpPHRoaXMuX2NsaWNrVG9sZXJhbmNlJiZ0aGlzLmVsZW1lbnQuY2xpY2soKSx0aGlzLnJlc2V0KCk7fXJlc2V0KCl7dGhpcy5tb3VzZVJvdGF0ZS5yZXNldCgpLHRoaXMubW91c2VQaXRjaCYmdGhpcy5tb3VzZVBpdGNoLnJlc2V0KCksZGVsZXRlIHRoaXMuX3N0YXJ0UG9zLGRlbGV0ZSB0aGlzLl9sYXN0UG9zLHRoaXMub2ZmVGVtcCgpO319Y29uc3Qgc0k9e3Bvc2l0aW9uT3B0aW9uczp7ZW5hYmxlSGlnaEFjY3VyYWN5OiExLG1heGltdW1BZ2U6MCx0aW1lb3V0OjZlM30sZml0Qm91bmRzT3B0aW9uczp7bWF4Wm9vbToxNX0sdHJhY2tVc2VyTG9jYXRpb246ITEsc2hvd0FjY3VyYWN5Q2lyY2xlOiEwLHNob3dVc2VyTG9jYXRpb246ITAsc2hvd1VzZXJIZWFkaW5nOiExfSxhST17bWF4V2lkdGg6MTAwLHVuaXQ6XCJtZXRyaWNcIn0sbEk9e2tpbG9tZXRlcjpcImttXCIsbWV0ZXI6XCJtXCIsbWlsZTpcIm1pXCIsZm9vdDpcImZ0XCIsXCJuYXV0aWNhbC1taWxlXCI6XCJubVwifSxjST17dmVyc2lvbjppLHN1cHBvcnRlZDpydCxzZXRSVExUZXh0UGx1Z2luOmZ1bmN0aW9uKGUsdCxpPSExKXtpZigkcz09PWpzfHwkcz09PUdzfHwkcz09PXFzKXRocm93IG5ldyBFcnJvcihcInNldFJUTFRleHRQbHVnaW4gY2Fubm90IGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcy5cIik7SHM9aHQucmVzb2x2ZVVSTChlKSwkcz1qcyxacz10LFhzKCksaXx8SnMoKTt9LGdldFJUTFRleHRQbHVnaW5TdGF0dXM6S3MsTWFwOmNsYXNzIGV4dGVuZHMgWlN7Y29uc3RydWN0b3IoZSl7aWYoUWUubWFyayhKZS5jcmVhdGUpLG51bGwhPShlPWsoe30sckksZSkpLm1pblpvb20mJm51bGwhPWUubWF4Wm9vbSYmZS5taW5ab29tPmUubWF4Wm9vbSl0aHJvdyBuZXcgRXJyb3IoXCJtYXhab29tIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIG1pblpvb21cIik7aWYobnVsbCE9ZS5taW5QaXRjaCYmbnVsbCE9ZS5tYXhQaXRjaCYmZS5taW5QaXRjaD5lLm1heFBpdGNoKXRocm93IG5ldyBFcnJvcihcIm1heFBpdGNoIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIG1pblBpdGNoXCIpO2lmKG51bGwhPWUubWluUGl0Y2gmJmUubWluUGl0Y2g8MCl0aHJvdyBuZXcgRXJyb3IoXCJtaW5QaXRjaCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAwXCIpO2lmKG51bGwhPWUubWF4UGl0Y2gmJmUubWF4UGl0Y2g+ODUpdGhyb3cgbmV3IEVycm9yKFwibWF4UGl0Y2ggbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gODVcIik7aWYoZS5hbnRpYWxpYXMmJmZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5uYXZpZ2F0b3I/ZS5uYXZpZ2F0b3IudXNlckFnZW50Om51bGw7cmV0dXJuICEhZnVuY3Rpb24oZSl7aWYobnVsbD09dGUpe2NvbnN0IHQ9ZS5uYXZpZ2F0b3I/ZS5uYXZpZ2F0b3IudXNlckFnZW50Om51bGw7dGU9ISFlLnNhZmFyaXx8ISghdHx8ISgvXFxiKGlQYWR8aVBob25lfGlQb2QpXFxiLy50ZXN0KHQpfHx0Lm1hdGNoKFwiU2FmYXJpXCIpJiYhdC5tYXRjaChcIkNocm9tZVwiKSkpO31yZXR1cm4gdGV9KGUpJiZ0JiYodC5tYXRjaChcIlZlcnNpb24vMTUuNFwiKXx8dC5tYXRjaChcIlZlcnNpb24vMTUuNVwiKXx8dC5tYXRjaCgvQ1BVIChPU3xpUGhvbmUgT1MpICgxNV80fDE1XzUpIGxpa2UgTWFjIE9TIFgvKSl9KHQpJiYoZS5hbnRpYWxpYXM9ITEsVyhcIkFudGlhbGlhc2luZyBpcyBkaXNhYmxlZCBmb3IgdGhpcyBXZWJHTCBjb250ZXh0IHRvIGF2b2lkIGJyb3dzZXIgYnVnOiBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvMTE2MDlcIikpLHN1cGVyKG5ldyBtdihlLm1pblpvb20sZS5tYXhab29tLGUubWluUGl0Y2gsZS5tYXhQaXRjaCxlLnJlbmRlcldvcmxkQ29waWVzKSxlKSx0aGlzLl9pbnRlcmFjdGl2ZT1lLmludGVyYWN0aXZlLHRoaXMuX21pblRpbGVDYWNoZVNpemU9ZS5taW5UaWxlQ2FjaGVTaXplLHRoaXMuX21heFRpbGVDYWNoZVNpemU9ZS5tYXhUaWxlQ2FjaGVTaXplLHRoaXMuX2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ9ZS5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0LHRoaXMuX3ByZXNlcnZlRHJhd2luZ0J1ZmZlcj1lLnByZXNlcnZlRHJhd2luZ0J1ZmZlcix0aGlzLl9hbnRpYWxpYXM9ZS5hbnRpYWxpYXMsdGhpcy5fdHJhY2tSZXNpemU9ZS50cmFja1Jlc2l6ZSx0aGlzLl9iZWFyaW5nU25hcD1lLmJlYXJpbmdTbmFwLHRoaXMuX3JlZnJlc2hFeHBpcmVkVGlsZXM9ZS5yZWZyZXNoRXhwaXJlZFRpbGVzLHRoaXMuX2ZhZGVEdXJhdGlvbj1lLmZhZGVEdXJhdGlvbix0aGlzLl9pc0luaXRpYWxMb2FkPSEwLHRoaXMuX2Nyb3NzU291cmNlQ29sbGlzaW9ucz1lLmNyb3NzU291cmNlQ29sbGlzaW9ucyx0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmc9ZS5jb2xsZWN0UmVzb3VyY2VUaW1pbmcsdGhpcy5fbGFuZ3VhZ2U9dGhpcy5fcGFyc2VMYW5ndWFnZShlLmxhbmd1YWdlKSx0aGlzLl93b3JsZHZpZXc9ZS53b3JsZHZpZXcsdGhpcy5fcmVuZGVyVGFza1F1ZXVlPW5ldyBXUyx0aGlzLl9kb21SZW5kZXJUYXNrUXVldWU9bmV3IFdTLHRoaXMuX2NvbnRyb2xzPVtdLHRoaXMuX21hcmtlcnM9W10sdGhpcy5fcG9wdXBzPVtdLHRoaXMuX21hcElkPUYoKSx0aGlzLl9sb2NhbGU9ayh7fSxpSSxlLmxvY2FsZSksdGhpcy5fY2xpY2tUb2xlcmFuY2U9ZS5jbGlja1RvbGVyYW5jZSx0aGlzLl9jb29wZXJhdGl2ZUdlc3R1cmVzPWUuY29vcGVyYXRpdmVHZXN0dXJlcyx0aGlzLl9wZXJmb3JtYW5jZU1ldHJpY3NDb2xsZWN0aW9uPWUucGVyZm9ybWFuY2VNZXRyaWNzQ29sbGVjdGlvbix0aGlzLl9jb250YWluZXJXaWR0aD0wLHRoaXMuX2NvbnRhaW5lckhlaWdodD0wLHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25MYXN0U2FtcGxlZEF0PS0xLzAsdGhpcy5fYXZlcmFnZUVsZXZhdGlvbkV4YWdnZXJhdGlvbj0wLHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb249bmV3IHRJKDApLHRoaXMuX2ludGVyYWN0aW9uUmFuZ2U9WzEvMCwtMS8wXSx0aGlzLl92aXNpYmlsaXR5SGlkZGVuPTAsdGhpcy5fdXNlRXhwbGljaXRQcm9qZWN0aW9uPSExLHRoaXMuX3JlcXVlc3RNYW5hZ2VyPW5ldyB6ZShlLnRyYW5zZm9ybVJlcXVlc3QsZS5hY2Nlc3NUb2tlbixlLnRlc3RNb2RlKSx0aGlzLl9zaWxlbmNlQXV0aEVycm9ycz0hIWUudGVzdE1vZGUsXCJzdHJpbmdcIj09dHlwZW9mIGUuY29udGFpbmVyKXtpZih0aGlzLl9jb250YWluZXI9dC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlLmNvbnRhaW5lciksIXRoaXMuX2NvbnRhaW5lcil0aHJvdyBuZXcgRXJyb3IoYENvbnRhaW5lciAnJHtlLmNvbnRhaW5lci50b1N0cmluZygpfScgbm90IGZvdW5kLmApfWVsc2Uge2lmKCEoZS5jb250YWluZXIgaW5zdGFuY2VvZiB0LkhUTUxFbGVtZW50KSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHR5cGU6ICdjb250YWluZXInIG11c3QgYmUgYSBTdHJpbmcgb3IgSFRNTEVsZW1lbnQuXCIpO3RoaXMuX2NvbnRhaW5lcj1lLmNvbnRhaW5lcjt9aWYodGhpcy5fY29udGFpbmVyLmNoaWxkTm9kZXMubGVuZ3RoPjAmJlcoXCJUaGUgbWFwIGNvbnRhaW5lciBlbGVtZW50IHNob3VsZCBiZSBlbXB0eSwgb3RoZXJ3aXNlIHRoZSBtYXAncyBpbnRlcmFjdGl2aXR5IHdpbGwgYmUgbmVnYXRpdmVseSBpbXBhY3RlZC4gSWYgeW91IHdhbnQgdG8gZGlzcGxheSBhIG1lc3NhZ2Ugd2hlbiBXZWJHTCBpcyBub3Qgc3VwcG9ydGVkLCB1c2UgdGhlIE1hcGJveCBHTCBTdXBwb3J0ZWQgcGx1Z2luIGluc3RlYWQuXCIpLGUubWF4Qm91bmRzJiZ0aGlzLnNldE1heEJvdW5kcyhlLm1heEJvdW5kcyksaihbXCJfb25XaW5kb3dPbmxpbmVcIixcIl9vbldpbmRvd1Jlc2l6ZVwiLFwiX29uVmlzaWJpbGl0eUNoYW5nZVwiLFwiX29uTWFwU2Nyb2xsXCIsXCJfY29udGV4dExvc3RcIixcIl9jb250ZXh0UmVzdG9yZWRcIl0sdGhpcyksdGhpcy5fc2V0dXBDb250YWluZXIoKSx0aGlzLl9zZXR1cFBhaW50ZXIoKSx2b2lkIDA9PT10aGlzLnBhaW50ZXIpdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGluaXRpYWxpemUgV2ViR0wuXCIpO2lmKHRoaXMub24oXCJtb3ZlXCIsKCgpPT50aGlzLl91cGRhdGUoITEpKSksdGhpcy5vbihcIm1vdmVlbmRcIiwoKCk9PnRoaXMuX3VwZGF0ZSghMSkpKSx0aGlzLm9uKFwiem9vbVwiLCgoKT0+dGhpcy5fdXBkYXRlKCEwKSkpLHZvaWQgMCE9PXQmJih0aGlzLl9mdWxsc2NyZWVuY2hhbmdlRXZlbnQ9XCJvbmZ1bGxzY3JlZW5jaGFuZ2VcImluIHQuZG9jdW1lbnQ/XCJmdWxsc2NyZWVuY2hhbmdlXCI6XCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlXCIsdC5hZGRFdmVudExpc3RlbmVyKFwib25saW5lXCIsdGhpcy5fb25XaW5kb3dPbmxpbmUsITEpLHQuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLHRoaXMuX29uV2luZG93UmVzaXplLCExKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiLHRoaXMuX29uV2luZG93UmVzaXplLCExKSx0LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fZnVsbHNjcmVlbmNoYW5nZUV2ZW50LHRoaXMuX29uV2luZG93UmVzaXplLCExKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlLCExKSksdGhpcy5oYW5kbGVycz1uZXcgR1ModGhpcyxlKSx0aGlzLl9sb2NhbEZvbnRGYW1pbHk9ZS5sb2NhbEZvbnRGYW1pbHksdGhpcy5fbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5PWUubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5LChlLnN0eWxlfHwhZS50ZXN0TW9kZSkmJnRoaXMuc2V0U3R5bGUoZS5zdHlsZXx8bi5ERUZBVUxUX1NUWUxFLHtsb2NhbEZvbnRGYW1pbHk6dGhpcy5fbG9jYWxGb250RmFtaWx5LGxvY2FsSWRlb2dyYXBoRm9udEZhbWlseTp0aGlzLl9sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHl9KSxlLnByb2plY3Rpb24mJnRoaXMuc2V0UHJvamVjdGlvbihlLnByb2plY3Rpb24pLGUuaGFzaCYmKHRoaXMuX2hhc2g9bmV3IFdBKFwic3RyaW5nXCI9PXR5cGVvZiBlLmhhc2gmJmUuaGFzaHx8dm9pZCAwKS5hZGRUbyh0aGlzKSksIXRoaXMuX2hhc2h8fCF0aGlzLl9oYXNoLl9vbkhhc2hDaGFuZ2UoKSl7dGhpcy5qdW1wVG8oe2NlbnRlcjplLmNlbnRlcix6b29tOmUuem9vbSxiZWFyaW5nOmUuYmVhcmluZyxwaXRjaDplLnBpdGNofSk7Y29uc3QgdD1lLmJvdW5kczt0JiYodGhpcy5yZXNpemUoKSx0aGlzLmZpdEJvdW5kcyh0LGsoe30sZS5maXRCb3VuZHNPcHRpb25zLHtkdXJhdGlvbjowfSkpKTt9dGhpcy5yZXNpemUoKSxlLmF0dHJpYnV0aW9uQ29udHJvbCYmdGhpcy5hZGRDb250cm9sKG5ldyAkUyh7Y3VzdG9tQXR0cmlidXRpb246ZS5jdXN0b21BdHRyaWJ1dGlvbn0pKSx0aGlzLl9sb2dvQ29udHJvbD1uZXcgSFMsdGhpcy5hZGRDb250cm9sKHRoaXMuX2xvZ29Db250cm9sLGUubG9nb1Bvc2l0aW9uKSx0aGlzLm9uKFwic3R5bGUubG9hZFwiLCgoKT0+e3RoaXMudHJhbnNmb3JtLnVubW9kaWZpZWQmJnRoaXMuanVtcFRvKHRoaXMuc3R5bGUuc3R5bGVzaGVldCk7fSkpLHRoaXMub24oXCJkYXRhXCIsKGU9Pnt0aGlzLl91cGRhdGUoXCJzdHlsZVwiPT09ZS5kYXRhVHlwZSksdGhpcy5maXJlKG5ldyBBdChgJHtlLmRhdGFUeXBlfWRhdGFgLGUpKTt9KSksdGhpcy5vbihcImRhdGFsb2FkaW5nXCIsKGU9Pnt0aGlzLmZpcmUobmV3IEF0KGAke2UuZGF0YVR5cGV9ZGF0YWxvYWRpbmdgLGUpKTt9KSk7fV9nZXRNYXBJZCgpe3JldHVybiB0aGlzLl9tYXBJZH1hZGRDb250cm9sKGUsdCl7aWYodm9pZCAwPT09dCYmKHQ9ZS5nZXREZWZhdWx0UG9zaXRpb24/ZS5nZXREZWZhdWx0UG9zaXRpb24oKTpcInRvcC1yaWdodFwiKSwhZXx8IWUub25BZGQpcmV0dXJuIHRoaXMuZmlyZShuZXcgU3QobmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCB0byBtYXAuYWRkQ29udHJvbCgpLiBBcmd1bWVudCBtdXN0IGJlIGEgY29udHJvbCB3aXRoIG9uQWRkIGFuZCBvblJlbW92ZSBtZXRob2RzLlwiKSkpO2NvbnN0IGk9ZS5vbkFkZCh0aGlzKTt0aGlzLl9jb250cm9scy5wdXNoKGUpO2NvbnN0IHI9dGhpcy5fY29udHJvbFBvc2l0aW9uc1t0XTtyZXR1cm4gLTEhPT10LmluZGV4T2YoXCJib3R0b21cIik/ci5pbnNlcnRCZWZvcmUoaSxyLmZpcnN0Q2hpbGQpOnIuYXBwZW5kQ2hpbGQoaSksdGhpc31yZW1vdmVDb250cm9sKGUpe2lmKCFlfHwhZS5vblJlbW92ZSlyZXR1cm4gdGhpcy5maXJlKG5ldyBTdChuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHRvIG1hcC5yZW1vdmVDb250cm9sKCkuIEFyZ3VtZW50IG11c3QgYmUgYSBjb250cm9sIHdpdGggb25BZGQgYW5kIG9uUmVtb3ZlIG1ldGhvZHMuXCIpKSk7Y29uc3QgdD10aGlzLl9jb250cm9scy5pbmRleE9mKGUpO3JldHVybiB0Pi0xJiZ0aGlzLl9jb250cm9scy5zcGxpY2UodCwxKSxlLm9uUmVtb3ZlKHRoaXMpLHRoaXN9aGFzQ29udHJvbChlKXtyZXR1cm4gdGhpcy5fY29udHJvbHMuaW5kZXhPZihlKT4tMX1nZXRDb250YWluZXIoKXtyZXR1cm4gdGhpcy5fY29udGFpbmVyfWdldENhbnZhc0NvbnRhaW5lcigpe3JldHVybiB0aGlzLl9jYW52YXNDb250YWluZXJ9Z2V0Q2FudmFzKCl7cmV0dXJuIHRoaXMuX2NhbnZhc31yZXNpemUoZSl7aWYodGhpcy5fdXBkYXRlQ29udGFpbmVyRGltZW5zaW9ucygpLHRoaXMuX2NvbnRhaW5lcldpZHRoPT09dGhpcy50cmFuc2Zvcm0ud2lkdGgmJnRoaXMuX2NvbnRhaW5lckhlaWdodD09PXRoaXMudHJhbnNmb3JtLmhlaWdodClyZXR1cm4gdGhpczt0aGlzLl9yZXNpemVDYW52YXModGhpcy5fY29udGFpbmVyV2lkdGgsdGhpcy5fY29udGFpbmVySGVpZ2h0KSx0aGlzLnRyYW5zZm9ybS5yZXNpemUodGhpcy5fY29udGFpbmVyV2lkdGgsdGhpcy5fY29udGFpbmVySGVpZ2h0KSx0aGlzLnBhaW50ZXIucmVzaXplKE1hdGguY2VpbCh0aGlzLl9jb250YWluZXJXaWR0aCksTWF0aC5jZWlsKHRoaXMuX2NvbnRhaW5lckhlaWdodCkpO2NvbnN0IHQ9IXRoaXMuX21vdmluZztyZXR1cm4gdCYmdGhpcy5maXJlKG5ldyBBdChcIm1vdmVzdGFydFwiLGUpKS5maXJlKG5ldyBBdChcIm1vdmVcIixlKSksdGhpcy5maXJlKG5ldyBBdChcInJlc2l6ZVwiLGUpKSx0JiZ0aGlzLmZpcmUobmV3IEF0KFwibW92ZWVuZFwiLGUpKSx0aGlzfWdldEJvdW5kcygpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5nZXRCb3VuZHMoKX1nZXRNYXhCb3VuZHMoKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uZ2V0TWF4Qm91bmRzKCl8fG51bGx9c2V0TWF4Qm91bmRzKGUpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5zZXRNYXhCb3VuZHMoUWwuY29udmVydChlKSksdGhpcy5fdXBkYXRlKCl9c2V0TWluWm9vbShlKXtpZigoZT1udWxsPT1lPy0yOmUpPj0tMiYmZTw9dGhpcy50cmFuc2Zvcm0ubWF4Wm9vbSlyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWluWm9vbT1lLHRoaXMuX3VwZGF0ZSgpLHRoaXMuZ2V0Wm9vbSgpPGU/dGhpcy5zZXRab29tKGUpOnRoaXMuZmlyZShuZXcgQXQoXCJ6b29tc3RhcnRcIikpLmZpcmUobmV3IEF0KFwiem9vbVwiKSkuZmlyZShuZXcgQXQoXCJ6b29tZW5kXCIpKSx0aGlzO3Rocm93IG5ldyBFcnJvcihcIm1pblpvb20gbXVzdCBiZSBiZXR3ZWVuIC0yIGFuZCB0aGUgY3VycmVudCBtYXhab29tLCBpbmNsdXNpdmVcIil9Z2V0TWluWm9vbSgpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5taW5ab29tfXNldE1heFpvb20oZSl7aWYoKGU9bnVsbD09ZT8yMjplKT49dGhpcy50cmFuc2Zvcm0ubWluWm9vbSlyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWF4Wm9vbT1lLHRoaXMuX3VwZGF0ZSgpLHRoaXMuZ2V0Wm9vbSgpPmU/dGhpcy5zZXRab29tKGUpOnRoaXMuZmlyZShuZXcgQXQoXCJ6b29tc3RhcnRcIikpLmZpcmUobmV3IEF0KFwiem9vbVwiKSkuZmlyZShuZXcgQXQoXCJ6b29tZW5kXCIpKSx0aGlzO3Rocm93IG5ldyBFcnJvcihcIm1heFpvb20gbXVzdCBiZSBncmVhdGVyIHRoYW4gdGhlIGN1cnJlbnQgbWluWm9vbVwiKX1nZXRNYXhab29tKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLm1heFpvb219c2V0TWluUGl0Y2goZSl7aWYoKGU9bnVsbD09ZT8wOmUpPDApdGhyb3cgbmV3IEVycm9yKFwibWluUGl0Y2ggbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMFwiKTtpZihlPj0wJiZlPD10aGlzLnRyYW5zZm9ybS5tYXhQaXRjaClyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWluUGl0Y2g9ZSx0aGlzLl91cGRhdGUoKSx0aGlzLmdldFBpdGNoKCk8ZT90aGlzLnNldFBpdGNoKGUpOnRoaXMuZmlyZShuZXcgQXQoXCJwaXRjaHN0YXJ0XCIpKS5maXJlKG5ldyBBdChcInBpdGNoXCIpKS5maXJlKG5ldyBBdChcInBpdGNoZW5kXCIpKSx0aGlzO3Rocm93IG5ldyBFcnJvcihcIm1pblBpdGNoIG11c3QgYmUgYmV0d2VlbiAwIGFuZCB0aGUgY3VycmVudCBtYXhQaXRjaCwgaW5jbHVzaXZlXCIpfWdldE1pblBpdGNoKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLm1pblBpdGNofXNldE1heFBpdGNoKGUpe2lmKChlPW51bGw9PWU/ODU6ZSk+ODUpdGhyb3cgbmV3IEVycm9yKFwibWF4UGl0Y2ggbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gODVcIik7aWYoZT49dGhpcy50cmFuc2Zvcm0ubWluUGl0Y2gpcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1heFBpdGNoPWUsdGhpcy5fdXBkYXRlKCksdGhpcy5nZXRQaXRjaCgpPmU/dGhpcy5zZXRQaXRjaChlKTp0aGlzLmZpcmUobmV3IEF0KFwicGl0Y2hzdGFydFwiKSkuZmlyZShuZXcgQXQoXCJwaXRjaFwiKSkuZmlyZShuZXcgQXQoXCJwaXRjaGVuZFwiKSksdGhpczt0aHJvdyBuZXcgRXJyb3IoXCJtYXhQaXRjaCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBtaW5QaXRjaFwiKX1nZXRNYXhQaXRjaCgpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhQaXRjaH1nZXRSZW5kZXJXb3JsZENvcGllcygpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllc31zZXRSZW5kZXJXb3JsZENvcGllcyhlKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXM9ZSx0aGlzLnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllc3x8dGhpcy5fZm9yY2VNYXJrZXJBbmRQb3B1cFVwZGF0ZSghMCksdGhpcy5fdXBkYXRlKCl9Z2V0TGFuZ3VhZ2UoKXtyZXR1cm4gdGhpcy5fbGFuZ3VhZ2V9X3BhcnNlTGFuZ3VhZ2UoZSl7cmV0dXJuIFwiYXV0b1wiPT09ZT90Lm5hdmlnYXRvci5sYW5ndWFnZTpBcnJheS5pc0FycmF5KGUpPzA9PT1lLmxlbmd0aD92b2lkIDA6ZS5tYXAoKGU9PlwiYXV0b1wiPT09ZT90Lm5hdmlnYXRvci5sYW5ndWFnZTplKSk6ZX1zZXRMYW5ndWFnZShlKXtjb25zdCB0PXRoaXMuX3BhcnNlTGFuZ3VhZ2UoZSk7aWYoIXRoaXMuc3R5bGV8fHQ9PT10aGlzLl9sYW5ndWFnZSlyZXR1cm4gdGhpczt0aGlzLl9sYW5ndWFnZT10LHRoaXMuc3R5bGUuY2xlYXJTb3VyY2VzKCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fY29udHJvbHMpZS5fc2V0TGFuZ3VhZ2UmJmUuX3NldExhbmd1YWdlKHRoaXMuX2xhbmd1YWdlKTtyZXR1cm4gdGhpc31nZXRXb3JsZHZpZXcoKXtyZXR1cm4gdGhpcy5fd29ybGR2aWV3fXNldFdvcmxkdmlldyhlKXtyZXR1cm4gdGhpcy5zdHlsZSYmZSE9PXRoaXMuX3dvcmxkdmlldz8odGhpcy5fd29ybGR2aWV3PWUsdGhpcy5zdHlsZS5jbGVhclNvdXJjZXMoKSx0aGlzKTp0aGlzfWdldFByb2plY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWVyY2F0b3JGcm9tVHJhbnNpdGlvbj97bmFtZTpcImdsb2JlXCIsY2VudGVyOlswLDBdfTp0aGlzLnRyYW5zZm9ybS5nZXRQcm9qZWN0aW9uKCl9X3Nob3dpbmdHbG9iZSgpe3JldHVybiBcImdsb2JlXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWV9c2V0UHJvamVjdGlvbihlKXtyZXR1cm4gdGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksZT9cInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9e25hbWU6ZX0pOmU9bnVsbCx0aGlzLl91c2VFeHBsaWNpdFByb2plY3Rpb249ISFlLHRoaXMuX3ByaW9yaXRpemVBbmRVcGRhdGVQcm9qZWN0aW9uKGUsdGhpcy5zdHlsZS5wcm9qZWN0aW9uKX1fdXBkYXRlUHJvamVjdGlvblRyYW5zaXRpb24oKXtpZihcImdsb2JlXCIhPT10aGlzLmdldFByb2plY3Rpb24oKS5uYW1lKXJldHVybjtjb25zdCBlPXRoaXMudHJhbnNmb3JtLHQ9ZS5wcm9qZWN0aW9uLm5hbWU7bGV0IGk7XCJnbG9iZVwiPT09dCYmZS56b29tPj1YdT8oZS5zZXRNZXJjYXRvckZyb21UcmFuc2l0aW9uKCksaT0hMCk6XCJtZXJjYXRvclwiPT09dCYmZS56b29tPFh1JiYoZS5zZXRQcm9qZWN0aW9uKHtuYW1lOlwiZ2xvYmVcIn0pLGk9ITApLGkmJih0aGlzLnN0eWxlLmFwcGx5UHJvamVjdGlvblVwZGF0ZSgpLHRoaXMuc3R5bGUuX2ZvcmNlU3ltYm9sTGF5ZXJVcGRhdGUoKSk7fV9wcmlvcml0aXplQW5kVXBkYXRlUHJvamVjdGlvbihlLHQpe3JldHVybiB0aGlzLl91cGRhdGVQcm9qZWN0aW9uKGV8fHR8fHtuYW1lOlwibWVyY2F0b3JcIn0pfV91cGRhdGVQcm9qZWN0aW9uKGUpe2xldCB0O3JldHVybiB0PVwiZ2xvYmVcIj09PWUubmFtZSYmdGhpcy50cmFuc2Zvcm0uem9vbT49WHU/dGhpcy50cmFuc2Zvcm0uc2V0TWVyY2F0b3JGcm9tVHJhbnNpdGlvbigpOnRoaXMudHJhbnNmb3JtLnNldFByb2plY3Rpb24oZSksdGhpcy5zdHlsZS5hcHBseVByb2plY3Rpb25VcGRhdGUoKSx0JiYodGhpcy5wYWludGVyLmNsZWFyQmFja2dyb3VuZFRpbGVzKCksdGhpcy5zdHlsZS5jbGVhclNvdXJjZXMoKSx0aGlzLl91cGRhdGUoITApLHRoaXMuX2ZvcmNlTWFya2VyQW5kUG9wdXBVcGRhdGUoITApKSx0aGlzfXByb2plY3QoZSl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLmxvY2F0aW9uUG9pbnQzRChOZC5jb252ZXJ0KGUpKX11bnByb2plY3QoZSl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24zRCh5LmNvbnZlcnQoZSkpfWlzTW92aW5nKCl7cmV0dXJuIHRoaXMuX21vdmluZ3x8dGhpcy5oYW5kbGVycyYmdGhpcy5oYW5kbGVycy5pc01vdmluZygpfHwhMX1pc1pvb21pbmcoKXtyZXR1cm4gdGhpcy5fem9vbWluZ3x8dGhpcy5oYW5kbGVycyYmdGhpcy5oYW5kbGVycy5pc1pvb21pbmcoKXx8ITF9aXNSb3RhdGluZygpe3JldHVybiB0aGlzLl9yb3RhdGluZ3x8dGhpcy5oYW5kbGVycyYmdGhpcy5oYW5kbGVycy5pc1JvdGF0aW5nKCl8fCExfV9pc0RyYWdnaW5nKCl7cmV0dXJuIHRoaXMuaGFuZGxlcnMmJnRoaXMuaGFuZGxlcnMuX2lzRHJhZ2dpbmcoKXx8ITF9X2NyZWF0ZURlbGVnYXRlZExpc3RlbmVyKGUsdCxpKXtpZihcIm1vdXNlZW50ZXJcIj09PWV8fFwibW91c2VvdmVyXCI9PT1lKXtsZXQgcj0hMTtjb25zdCBuPW49Pntjb25zdCBvPXQuZmlsdGVyKChlPT50aGlzLmdldExheWVyKGUpKSkscz1vLmxlbmd0aD90aGlzLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhuLnBvaW50LHtsYXllcnM6b30pOltdO3MubGVuZ3RoP3J8fChyPSEwLGkuY2FsbCh0aGlzLG5ldyBuUyhlLHRoaXMsbi5vcmlnaW5hbEV2ZW50LHtmZWF0dXJlczpzfSkpKTpyPSExO30sbz0oKT0+e3I9ITE7fTtyZXR1cm4ge2xheWVyczpuZXcgU2V0KHQpLGxpc3RlbmVyOmksZGVsZWdhdGVzOnttb3VzZW1vdmU6bixtb3VzZW91dDpvfX19aWYoXCJtb3VzZWxlYXZlXCI9PT1lfHxcIm1vdXNlb3V0XCI9PT1lKXtsZXQgcj0hMTtjb25zdCBuPW49Pntjb25zdCBvPXQuZmlsdGVyKChlPT50aGlzLmdldExheWVyKGUpKSk7KG8ubGVuZ3RoP3RoaXMucXVlcnlSZW5kZXJlZEZlYXR1cmVzKG4ucG9pbnQse2xheWVyczpvfSk6W10pLmxlbmd0aD9yPSEwOnImJihyPSExLGkuY2FsbCh0aGlzLG5ldyBuUyhlLHRoaXMsbi5vcmlnaW5hbEV2ZW50KSkpO30sbz10PT57ciYmKHI9ITEsaS5jYWxsKHRoaXMsbmV3IG5TKGUsdGhpcyx0Lm9yaWdpbmFsRXZlbnQpKSk7fTtyZXR1cm4ge2xheWVyczpuZXcgU2V0KHQpLGxpc3RlbmVyOmksZGVsZWdhdGVzOnttb3VzZW1vdmU6bixtb3VzZW91dDpvfX19e2NvbnN0IHI9ZT0+e2NvbnN0IHI9dC5maWx0ZXIoKGU9PnRoaXMuZ2V0TGF5ZXIoZSkpKSxuPXIubGVuZ3RoP3RoaXMucXVlcnlSZW5kZXJlZEZlYXR1cmVzKGUucG9pbnQse2xheWVyczpyfSk6W107bi5sZW5ndGgmJihlLmZlYXR1cmVzPW4saS5jYWxsKHRoaXMsZSksZGVsZXRlIGUuZmVhdHVyZXMpO307cmV0dXJuIHtsYXllcnM6bmV3IFNldCh0KSxsaXN0ZW5lcjppLGRlbGVnYXRlczp7W2VdOnJ9fX19b24oZSx0LGkpe2lmKHZvaWQgMD09PWkpcmV0dXJuIHN1cGVyLm9uKGUsdCk7aWYoQXJyYXkuaXNBcnJheSh0KXx8KHQ9W3RdKSx0KWZvcihjb25zdCBlIG9mIHQpaWYoIXRoaXMuX2lzVmFsaWRJZChlKSlyZXR1cm4gdGhpcztjb25zdCByPXRoaXMuX2NyZWF0ZURlbGVnYXRlZExpc3RlbmVyKGUsdCxpKTt0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnM9dGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzfHx7fSx0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbZV09dGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzW2VdfHxbXSx0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbZV0ucHVzaChyKTtmb3IoY29uc3QgZSBpbiByLmRlbGVnYXRlcyl0aGlzLm9uKGUsci5kZWxlZ2F0ZXNbZV0pO3JldHVybiB0aGlzfW9uY2UoZSx0LGkpe2lmKHZvaWQgMD09PWkpcmV0dXJuIHN1cGVyLm9uY2UoZSx0KTtpZihBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pLHQpZm9yKGNvbnN0IGUgb2YgdClpZighdGhpcy5faXNWYWxpZElkKGUpKXJldHVybiB0aGlzO2NvbnN0IHI9dGhpcy5fY3JlYXRlRGVsZWdhdGVkTGlzdGVuZXIoZSx0LGkpO2Zvcihjb25zdCBlIGluIHIuZGVsZWdhdGVzKXRoaXMub25jZShlLHIuZGVsZWdhdGVzW2VdKTtyZXR1cm4gdGhpc31vZmYoZSx0LGkpe2lmKHZvaWQgMD09PWkpcmV0dXJuIHN1cGVyLm9mZihlLHQpO3Q9bmV3IFNldChBcnJheS5pc0FycmF5KHQpP3Q6W3RdKTtmb3IoY29uc3QgZSBvZiB0KWlmKCF0aGlzLl9pc1ZhbGlkSWQoZSkpcmV0dXJuIHRoaXM7Y29uc3Qgcj0oZSx0KT0+e2lmKGUuc2l6ZSE9PXQuc2l6ZSlyZXR1cm4gITE7Zm9yKGNvbnN0IGkgb2YgZSlpZighdC5oYXMoaSkpcmV0dXJuICExO3JldHVybiAhMH0sbj10aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnM/dGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzW2VdOnZvaWQgMDtyZXR1cm4gbiYmKGU9Pntmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3Qgbz1lW25dO2lmKG8ubGlzdGVuZXI9PT1pJiZyKG8ubGF5ZXJzLHQpKXtmb3IoY29uc3QgZSBpbiBvLmRlbGVnYXRlcyl0aGlzLm9mZihlLG8uZGVsZWdhdGVzW2VdKTtyZXR1cm4gZS5zcGxpY2UobiwxKSx0aGlzfX19KShuKSx0aGlzfXF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhlLHQpe2lmKCF0aGlzLnN0eWxlKXJldHVybiBbXTtpZih2b2lkIDAhPT10fHx2b2lkIDA9PT1lfHxlIGluc3RhbmNlb2YgeXx8QXJyYXkuaXNBcnJheShlKXx8KHQ9ZSxlPXZvaWQgMCksZT1lfHxbWzAsMF0sW3RoaXMudHJhbnNmb3JtLndpZHRoLHRoaXMudHJhbnNmb3JtLmhlaWdodF1dLCh0PXR8fHt9KS5sYXllcnMmJkFycmF5LmlzQXJyYXkodC5sYXllcnMpKWZvcihjb25zdCBlIG9mIHQubGF5ZXJzKWlmKCF0aGlzLl9pc1ZhbGlkSWQoZSkpcmV0dXJuIFtdO3JldHVybiB0aGlzLnN0eWxlLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhlLHQsdGhpcy50cmFuc2Zvcm0pfXF1ZXJ5U291cmNlRmVhdHVyZXMoZSx0KXtyZXR1cm4gdGhpcy5faXNWYWxpZElkKGUpP3RoaXMuc3R5bGUucXVlcnlTb3VyY2VGZWF0dXJlcyhlLHQpOltdfWlzUG9pbnRPblN1cmZhY2UoZSl7Y29uc3R7bmFtZTp0fT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uO3JldHVybiBcImdsb2JlXCIhPT10JiZcIm1lcmNhdG9yXCIhPT10JiZXKGAke3R9IHByb2plY3Rpb24gZG9lcyBub3Qgc3VwcG9ydCBpc1BvaW50T25TdXJmYWNlLCB0aGlzIEFQSSBtYXkgYmVoYXZlIHVuZXhwZWN0ZWRseS5gKSx0aGlzLnRyYW5zZm9ybS5pc1BvaW50T25TdXJmYWNlKHkuY29udmVydChlKSl9c2V0U3R5bGUoZSx0KXtyZXR1cm4gITEhPT0odD1rKHt9LHtsb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk6dGhpcy5fbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5LGxvY2FsRm9udEZhbWlseTp0aGlzLl9sb2NhbEZvbnRGYW1pbHl9LHQpKS5kaWZmJiZ0LmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseT09PXRoaXMuX2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseSYmdC5sb2NhbEZvbnRGYW1pbHk9PT10aGlzLl9sb2NhbEZvbnRGYW1pbHkmJnRoaXMuc3R5bGUmJmU/KHRoaXMuX2RpZmZTdHlsZShlLHQpLHRoaXMpOih0aGlzLl9sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk9dC5sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHksdGhpcy5fbG9jYWxGb250RmFtaWx5PXQubG9jYWxGb250RmFtaWx5LHRoaXMuX3VwZGF0ZVN0eWxlKGUsdCkpfV9nZXRVSVN0cmluZyhlKXtjb25zdCB0PXRoaXMuX2xvY2FsZVtlXTtpZihudWxsPT10KXRocm93IG5ldyBFcnJvcihgTWlzc2luZyBVSSBzdHJpbmcgJyR7ZX0nYCk7cmV0dXJuIHR9X3VwZGF0ZVN0eWxlKGUsdCl7cmV0dXJuIHRoaXMuc3R5bGUmJih0aGlzLnN0eWxlLnNldEV2ZW50ZWRQYXJlbnQobnVsbCksdGhpcy5zdHlsZS5fcmVtb3ZlKCksdGhpcy5zdHlsZT12b2lkIDApLGUmJih0aGlzLnN0eWxlPW5ldyAkQSh0aGlzLHR8fHt9KSx0aGlzLnN0eWxlLnNldEV2ZW50ZWRQYXJlbnQodGhpcyx7c3R5bGU6dGhpcy5zdHlsZX0pLFwic3RyaW5nXCI9PXR5cGVvZiBlP3RoaXMuc3R5bGUubG9hZFVSTChlKTp0aGlzLnN0eWxlLmxvYWRKU09OKGUpKSx0aGlzLl91cGRhdGVUZXJyYWluKCksdGhpc31fbGF6eUluaXRFbXB0eVN0eWxlKCl7dGhpcy5zdHlsZXx8KHRoaXMuc3R5bGU9bmV3ICRBKHRoaXMse30pLHRoaXMuc3R5bGUuc2V0RXZlbnRlZFBhcmVudCh0aGlzLHtzdHlsZTp0aGlzLnN0eWxlfSksdGhpcy5zdHlsZS5sb2FkRW1wdHkoKSk7fV9kaWZmU3R5bGUoZSx0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7Y29uc3QgaT10aGlzLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVTdHlsZVVSTChlKSxyPXRoaXMuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QoaSx5ZS5TdHlsZSk7d2UociwoKGUsaSk9PntlP3RoaXMuZmlyZShuZXcgU3QoZSkpOmkmJnRoaXMuX3VwZGF0ZURpZmYoaSx0KTt9KSk7fWVsc2UgXCJvYmplY3RcIj09dHlwZW9mIGUmJnRoaXMuX3VwZGF0ZURpZmYoZSx0KTt9X3VwZGF0ZURpZmYoZSx0KXt0cnl7dGhpcy5zdHlsZS5zZXRTdGF0ZShlKSYmdGhpcy5fdXBkYXRlKCEwKTt9Y2F0Y2goaSl7VyhgVW5hYmxlIHRvIHBlcmZvcm0gc3R5bGUgZGlmZjogJHtpLm1lc3NhZ2V8fGkuZXJyb3J8fGl9LiAgUmVidWlsZGluZyB0aGUgc3R5bGUgZnJvbSBzY3JhdGNoLmApLHRoaXMuX3VwZGF0ZVN0eWxlKGUsdCk7fX1nZXRTdHlsZSgpe2lmKHRoaXMuc3R5bGUpcmV0dXJuIHRoaXMuc3R5bGUuc2VyaWFsaXplKCl9aXNTdHlsZUxvYWRlZCgpe3JldHVybiB0aGlzLnN0eWxlP3RoaXMuc3R5bGUubG9hZGVkKCk6KFcoXCJUaGVyZSBpcyBubyBzdHlsZSBhZGRlZCB0byB0aGUgbWFwLlwiKSwhMSl9X2lzVmFsaWRJZChlKXtyZXR1cm4gIWZ1bmN0aW9uKGUpe3JldHVybiBlLmluZGV4T2YoXCJcdTAwMWZcIik+PTB9KGUpfHwodGhpcy5maXJlKG5ldyBTdChuZXcgRXJyb3IoYElEcyBjYW4ndCBjb250YWluIHNwZWNpYWwgc3ltYm9sczogXCIke2V9XCIuYCkpKSwhMSl9YWRkU291cmNlKGUsdCl7cmV0dXJuIHRoaXMuX2lzVmFsaWRJZChlKT8odGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksdGhpcy5zdHlsZS5hZGRTb3VyY2UoZSx0KSx0aGlzLl91cGRhdGUoITApKTp0aGlzfWlzU291cmNlTG9hZGVkKGUpe3JldHVybiAhIXRoaXMuX2lzVmFsaWRJZChlKSYmISF0aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLl9pc1NvdXJjZUNhY2hlTG9hZGVkKGUpfWFyZVRpbGVzTG9hZGVkKCl7Y29uc3QgZT10aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLl9zb3VyY2VDYWNoZXM7Zm9yKGNvbnN0IHQgaW4gZSl7Y29uc3QgaT1lW3RdLl90aWxlcztmb3IoY29uc3QgZSBpbiBpKXtjb25zdCB0PWlbZV07aWYoXCJsb2FkZWRcIiE9PXQuc3RhdGUmJlwiZXJyb3JlZFwiIT09dC5zdGF0ZSlyZXR1cm4gITF9fXJldHVybiAhMH1hZGRTb3VyY2VUeXBlKGUsdCxpKXt0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSx0aGlzLnN0eWxlLmFkZFNvdXJjZVR5cGUoZSx0LGkpO31yZW1vdmVTb3VyY2UoZSl7cmV0dXJuIHRoaXMuX2lzVmFsaWRJZChlKT8odGhpcy5zdHlsZS5yZW1vdmVTb3VyY2UoZSksdGhpcy5fdXBkYXRlVGVycmFpbigpLHRoaXMuX3VwZGF0ZSghMCkpOnRoaXN9Z2V0U291cmNlKGUpe3JldHVybiB0aGlzLl9pc1ZhbGlkSWQoZSk/dGhpcy5zdHlsZS5nZXRPd25Tb3VyY2UoZSk6bnVsbH1hZGRJbWFnZShlLGkse3BpeGVsUmF0aW86cj0xLHNkZjpuPSExLHN0cmV0Y2hYOm8sc3RyZXRjaFk6cyxjb250ZW50OmF9PXt9KXtpZih0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSxpIGluc3RhbmNlb2YgdC5IVE1MSW1hZ2VFbGVtZW50fHx0LkltYWdlQml0bWFwJiZpIGluc3RhbmNlb2YgdC5JbWFnZUJpdG1hcCl7Y29uc3R7d2lkdGg6dCxoZWlnaHQ6bCxkYXRhOmN9PWh0LmdldEltYWdlRGF0YShpKTt0aGlzLnN0eWxlLmFkZEltYWdlKGUse2RhdGE6bmV3ICRwKHt3aWR0aDp0LGhlaWdodDpsfSxjKSxwaXhlbFJhdGlvOnIsc3RyZXRjaFg6byxzdHJldGNoWTpzLGNvbnRlbnQ6YSxzZGY6bix2ZXJzaW9uOjB9KTt9ZWxzZSBpZih2b2lkIDA9PT1pLndpZHRofHx2b2lkIDA9PT1pLmhlaWdodCl0aGlzLmZpcmUobmV3IFN0KG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnRzIHRvIG1hcC5hZGRJbWFnZSgpLiBUaGUgc2Vjb25kIGFyZ3VtZW50IG11c3QgYmUgYW4gYEhUTUxJbWFnZUVsZW1lbnRgLCBgSW1hZ2VEYXRhYCwgYEltYWdlQml0bWFwYCwgb3Igb2JqZWN0IHdpdGggYHdpZHRoYCwgYGhlaWdodGAsIGFuZCBgZGF0YWAgcHJvcGVydGllcyB3aXRoIHRoZSBzYW1lIGZvcm1hdCBhcyBgSW1hZ2VEYXRhYFwiKSkpO2Vsc2Uge2NvbnN0e3dpZHRoOnQsaGVpZ2h0Omx9PWksYz1pO3RoaXMuc3R5bGUuYWRkSW1hZ2UoZSx7ZGF0YTpuZXcgJHAoe3dpZHRoOnQsaGVpZ2h0Omx9LG5ldyBVaW50OEFycmF5KGMuZGF0YSkpLHBpeGVsUmF0aW86cixzdHJldGNoWDpvLHN0cmV0Y2hZOnMsY29udGVudDphLHNkZjpuLHZlcnNpb246MCx1c2VySW1hZ2U6Y30pLGMub25BZGQmJmMub25BZGQodGhpcyxlKTt9fXVwZGF0ZUltYWdlKGUsaSl7dGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCk7Y29uc3Qgcj10aGlzLnN0eWxlLmdldEltYWdlKGUpO2lmKCFyKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgU3QobmV3IEVycm9yKFwiVGhlIG1hcCBoYXMgbm8gaW1hZ2Ugd2l0aCB0aGF0IGlkLiBJZiB5b3UgYXJlIGFkZGluZyBhIG5ldyBpbWFnZSB1c2UgYG1hcC5hZGRJbWFnZSguLi4pYCBpbnN0ZWFkLlwiKSkpO2NvbnN0IG49aSBpbnN0YW5jZW9mIHQuSFRNTEltYWdlRWxlbWVudHx8dC5JbWFnZUJpdG1hcCYmaSBpbnN0YW5jZW9mIHQuSW1hZ2VCaXRtYXA/aHQuZ2V0SW1hZ2VEYXRhKGkpOmkse3dpZHRoOm8saGVpZ2h0OnN9PW47dm9pZCAwIT09byYmdm9pZCAwIT09cz9vPT09ci5kYXRhLndpZHRoJiZzPT09ci5kYXRhLmhlaWdodD8oci5kYXRhLnJlcGxhY2Uobi5kYXRhLCEoaSBpbnN0YW5jZW9mIHQuSFRNTEltYWdlRWxlbWVudHx8dC5JbWFnZUJpdG1hcCYmaSBpbnN0YW5jZW9mIHQuSW1hZ2VCaXRtYXApKSx0aGlzLnN0eWxlLnVwZGF0ZUltYWdlKGUscikpOnRoaXMuZmlyZShuZXcgU3QobmV3IEVycm9yKGBUaGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgdXBkYXRlZCBpbWFnZSAoJHtvfSwgJHtzfSlcXG4gICAgICAgICAgICAgICAgbXVzdCBiZSB0aGF0IHNhbWUgYXMgdGhlIHByZXZpb3VzIHZlcnNpb24gb2YgdGhlIGltYWdlXFxuICAgICAgICAgICAgICAgICgke3IuZGF0YS53aWR0aH0sICR7ci5kYXRhLmhlaWdodH0pYCkpKTp0aGlzLmZpcmUobmV3IFN0KG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnRzIHRvIG1hcC51cGRhdGVJbWFnZSgpLiBUaGUgc2Vjb25kIGFyZ3VtZW50IG11c3QgYmUgYW4gYEhUTUxJbWFnZUVsZW1lbnRgLCBgSW1hZ2VEYXRhYCwgYEltYWdlQml0bWFwYCwgb3Igb2JqZWN0IHdpdGggYHdpZHRoYCwgYGhlaWdodGAsIGFuZCBgZGF0YWAgcHJvcGVydGllcyB3aXRoIHRoZSBzYW1lIGZvcm1hdCBhcyBgSW1hZ2VEYXRhYFwiKSkpO31oYXNJbWFnZShlKXtyZXR1cm4gZT8hIXRoaXMuc3R5bGUmJiEhdGhpcy5zdHlsZS5nZXRJbWFnZShlKToodGhpcy5maXJlKG5ldyBTdChuZXcgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIGltYWdlIGlkXCIpKSksITEpfXJlbW92ZUltYWdlKGUpe3RoaXMuc3R5bGUucmVtb3ZlSW1hZ2UoZSk7fWxvYWRJbWFnZShlLGkpe0llKHRoaXMuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QoZSx5ZS5JbWFnZSksKChlLHIpPT57aShlLHIgaW5zdGFuY2VvZiB0LkhUTUxJbWFnZUVsZW1lbnQ/aHQuZ2V0SW1hZ2VEYXRhKHIpOnIpO30pKTt9bGlzdEltYWdlcygpe3JldHVybiB0aGlzLnN0eWxlLmxpc3RJbWFnZXMoKX1hZGRNb2RlbChlLHQpe3RoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLHRoaXMuc3R5bGUuYWRkTW9kZWwoZSx0KTt9aGFzTW9kZWwoZSl7cmV0dXJuIGU/dGhpcy5zdHlsZS5oYXNNb2RlbChlKToodGhpcy5maXJlKG5ldyBTdChuZXcgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIG1vZGVsIGlkXCIpKSksITEpfXJlbW92ZU1vZGVsKGUpe3RoaXMuc3R5bGUucmVtb3ZlTW9kZWwoZSk7fWxpc3RNb2RlbHMoKXtyZXR1cm4gdGhpcy5zdHlsZS5saXN0TW9kZWxzKCl9YWRkTGF5ZXIoZSx0KXtyZXR1cm4gdGhpcy5faXNWYWxpZElkKGUuaWQpPyh0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSx0aGlzLnN0eWxlLmFkZExheWVyKGUsdCksdGhpcy5fdXBkYXRlKCEwKSk6dGhpc31tb3ZlTGF5ZXIoZSx0KXtyZXR1cm4gdGhpcy5faXNWYWxpZElkKGUpPyh0aGlzLnN0eWxlLm1vdmVMYXllcihlLHQpLHRoaXMuX3VwZGF0ZSghMCkpOnRoaXN9cmVtb3ZlTGF5ZXIoZSl7cmV0dXJuIHRoaXMuX2lzVmFsaWRJZChlKT8odGhpcy5zdHlsZS5yZW1vdmVMYXllcihlKSx0aGlzLl91cGRhdGUoITApKTp0aGlzfWdldExheWVyKGUpe3JldHVybiB0aGlzLl9pc1ZhbGlkSWQoZSk/dGhpcy5zdHlsZS5nZXRPd25MYXllcihlKTpudWxsfXNldExheWVyWm9vbVJhbmdlKGUsdCxpKXtyZXR1cm4gdGhpcy5faXNWYWxpZElkKGUpPyh0aGlzLnN0eWxlLnNldExheWVyWm9vbVJhbmdlKGUsdCxpKSx0aGlzLl91cGRhdGUoITApKTp0aGlzfXNldEZpbHRlcihlLHQsaT17fSl7cmV0dXJuIHRoaXMuX2lzVmFsaWRJZChlKT8odGhpcy5zdHlsZS5zZXRGaWx0ZXIoZSx0LGkpLHRoaXMuX3VwZGF0ZSghMCkpOnRoaXN9Z2V0RmlsdGVyKGUpe3JldHVybiB0aGlzLl9pc1ZhbGlkSWQoZSk/dGhpcy5zdHlsZS5nZXRGaWx0ZXIoZSk6bnVsbH1zZXRQYWludFByb3BlcnR5KGUsdCxpLHI9e30pe3JldHVybiB0aGlzLl9pc1ZhbGlkSWQoZSk/KHRoaXMuc3R5bGUuc2V0UGFpbnRQcm9wZXJ0eShlLHQsaSxyKSx0aGlzLl91cGRhdGUoITApKTp0aGlzfWdldFBhaW50UHJvcGVydHkoZSx0KXtyZXR1cm4gdGhpcy5faXNWYWxpZElkKGUpP3RoaXMuc3R5bGUuZ2V0UGFpbnRQcm9wZXJ0eShlLHQpOm51bGx9c2V0TGF5b3V0UHJvcGVydHkoZSx0LGkscj17fSl7cmV0dXJuIHRoaXMuX2lzVmFsaWRJZChlKT8odGhpcy5zdHlsZS5zZXRMYXlvdXRQcm9wZXJ0eShlLHQsaSxyKSx0aGlzLl91cGRhdGUoITApKTp0aGlzfWdldExheW91dFByb3BlcnR5KGUsdCl7cmV0dXJuIHRoaXMuX2lzVmFsaWRJZChlKT90aGlzLnN0eWxlLmdldExheW91dFByb3BlcnR5KGUsdCk6bnVsbH1zZXRDb25maWdQcm9wZXJ0eShlLHQsaSl7cmV0dXJuIHRoaXMuc3R5bGUuc2V0Q29uZmlnUHJvcGVydHkoZSx0LGkpLHRoaXMuX3VwZGF0ZSghMCl9c2V0TGlnaHRzKGUpe2lmKHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLGUmJjE9PT1lLmxlbmd0aCYmXCJmbGF0XCI9PT1lWzBdLnR5cGUpe2NvbnN0IHQ9ZVswXTt0LnByb3BlcnRpZXM/dGhpcy5zdHlsZS5zZXRGbGF0TGlnaHQodC5wcm9wZXJ0aWVzLHQuaWQse30pOnRoaXMuc3R5bGUuc2V0RmxhdExpZ2h0KHt9LFwiZmxhdFwiKTt9ZWxzZSB0aGlzLnN0eWxlLnNldExpZ2h0cyhlKSx0aGlzLnBhaW50ZXIudGVycmFpbiYmKHRoaXMucGFpbnRlci50ZXJyYWluLmludmFsaWRhdGVSZW5kZXJDYWNoZT0hMCk7cmV0dXJuIHRoaXMuX3VwZGF0ZSghMCl9Z2V0TGlnaHRzKCl7Y29uc3QgZT10aGlzLnN0eWxlLmdldExpZ2h0cygpfHxbXTtyZXR1cm4gMD09PWUubGVuZ3RoJiZlLnB1c2goe2lkOnRoaXMuc3R5bGUubGlnaHQuaWQsdHlwZTpcImZsYXRcIixwcm9wZXJ0aWVzOnRoaXMuc3R5bGUuZ2V0RmxhdExpZ2h0KCl9KSxlfXNldExpZ2h0KGUsdD17fSl7cmV0dXJuIGNvbnNvbGUubG9nKFwiVGhlIGBtYXAuc2V0TGlnaHRgIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQsIHByZWZlciB1c2luZyBgbWFwLnNldExpZ2h0c2Agd2l0aCBgZmxhdGAgbGlnaHQgdHlwZSBpbnN0ZWFkLlwiKSx0aGlzLnNldExpZ2h0cyhbe2lkOlwiZmxhdFwiLHR5cGU6XCJmbGF0XCIscHJvcGVydGllczplfV0pfWdldExpZ2h0KCl7cmV0dXJuIGNvbnNvbGUubG9nKFwiVGhlIGBtYXAuZ2V0TGlnaHRgIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQsIHByZWZlciB1c2luZyBgbWFwLmdldExpZ2h0c2AgaW5zdGVhZC5cIiksdGhpcy5zdHlsZS5nZXRGbGF0TGlnaHQoKX1zZXRUZXJyYWluKGUpe3JldHVybiB0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSwhZSYmdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5yZXF1aXJlc0RyYXBpbmc/dGhpcy5zdHlsZS5zZXRUZXJyYWluRm9yRHJhcGluZygpOnRoaXMuc3R5bGUuc2V0VGVycmFpbihlKSx0aGlzLl9hdmVyYWdlRWxldmF0aW9uTGFzdFNhbXBsZWRBdD0tMS8wLHRoaXMuX3VwZGF0ZSghMCl9Z2V0VGVycmFpbigpe3JldHVybiB0aGlzLnN0eWxlP3RoaXMuc3R5bGUuZ2V0VGVycmFpbigpOm51bGx9c2V0Rm9nKGUpe3JldHVybiB0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSx0aGlzLnN0eWxlLnNldEZvZyhlKSx0aGlzLl91cGRhdGUoITApfWdldEZvZygpe3JldHVybiB0aGlzLnN0eWxlP3RoaXMuc3R5bGUuZ2V0Rm9nKCk6bnVsbH1zZXRDYW1lcmEoZSl7cmV0dXJuIHRoaXMuc3R5bGUuc2V0Q2FtZXJhKGUpLHRoaXMuX3RyaWdnZXJDYW1lcmFVcGRhdGUoZSl9X3RyaWdnZXJDYW1lcmFVcGRhdGUoZSl7cmV0dXJuIHRoaXMuX3VwZGF0ZSh0aGlzLnRyYW5zZm9ybS5zZXRPcnRob2dyYXBoaWNQcm9qZWN0aW9uQXRMb3dQaXRjaChcIm9ydGhvZ3JhcGhpY1wiPT09ZVtcImNhbWVyYS1wcm9qZWN0aW9uXCJdKSl9Z2V0Q2FtZXJhKCl7cmV0dXJuIHRoaXMuc3R5bGUuY2FtZXJhfV9xdWVyeUZvZ09wYWNpdHkoZSl7cmV0dXJuIHRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuZm9nP3RoaXMuc3R5bGUuZm9nLmdldE9wYWNpdHlBdExhdExuZyhOZC5jb252ZXJ0KGUpLHRoaXMudHJhbnNmb3JtKTowfXNldEZlYXR1cmVTdGF0ZShlLHQpe3JldHVybiB0aGlzLl9pc1ZhbGlkSWQoZS5zb3VyY2UpPyh0aGlzLnN0eWxlLnNldEZlYXR1cmVTdGF0ZShlLHQpLHRoaXMuX3VwZGF0ZSgpKTp0aGlzfXJlbW92ZUZlYXR1cmVTdGF0ZShlLHQpe3JldHVybiB0aGlzLl9pc1ZhbGlkSWQoZS5zb3VyY2UpPyh0aGlzLnN0eWxlLnJlbW92ZUZlYXR1cmVTdGF0ZShlLHQpLHRoaXMuX3VwZGF0ZSgpKTp0aGlzfWdldEZlYXR1cmVTdGF0ZShlKXtyZXR1cm4gdGhpcy5faXNWYWxpZElkKGUuc291cmNlKT90aGlzLnN0eWxlLmdldEZlYXR1cmVTdGF0ZShlKTpudWxsfV91cGRhdGVDb250YWluZXJEaW1lbnNpb25zKCl7aWYoIXRoaXMuX2NvbnRhaW5lcilyZXR1cm47Y29uc3QgZT10aGlzLl9jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGh8fDQwMCxpPXRoaXMuX2NvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHR8fDMwMDtsZXQgcixuLG8scz10aGlzLl9jb250YWluZXI7Zm9yKDtzJiYoIW58fCFvKTspe2NvbnN0IGU9dC5nZXRDb21wdXRlZFN0eWxlKHMpLnRyYW5zZm9ybTtlJiZcIm5vbmVcIiE9PWUmJihyPWUubWF0Y2goL21hdHJpeC4qXFwoKC4rKVxcKS8pWzFdLnNwbGl0KFwiLCBcIiksclswXSYmXCIwXCIhPT1yWzBdJiZcIjFcIiE9PXJbMF0mJihuPXJbMF0pLHJbM10mJlwiMFwiIT09clszXSYmXCIxXCIhPT1yWzNdJiYobz1yWzNdKSkscz1zLnBhcmVudEVsZW1lbnQ7fXRoaXMuX2NvbnRhaW5lcldpZHRoPW4/TWF0aC5hYnMoZS9uKTplLHRoaXMuX2NvbnRhaW5lckhlaWdodD1vP01hdGguYWJzKGkvbyk6aTt9X2RldGVjdE1pc3NpbmdDU1MoKXtcInJnYigyNTAsIDEyOCwgMTE0KVwiIT09dC5nZXRDb21wdXRlZFN0eWxlKHRoaXMuX21pc3NpbmdDU1NDYW5hcnkpLmdldFByb3BlcnR5VmFsdWUoXCJiYWNrZ3JvdW5kLWNvbG9yXCIpJiZXKFwiVGhpcyBwYWdlIGFwcGVhcnMgdG8gYmUgbWlzc2luZyBDU1MgZGVjbGFyYXRpb25zIGZvciBNYXBib3ggR0wgSlMsIHdoaWNoIG1heSBjYXVzZSB0aGUgbWFwIHRvIGRpc3BsYXkgaW5jb3JyZWN0bHkuIFBsZWFzZSBlbnN1cmUgeW91ciBwYWdlIGluY2x1ZGVzIG1hcGJveC1nbC5jc3MsIGFzIGRlc2NyaWJlZCBpbiBodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9hcGkvLlwiKTt9X3NldHVwQ29udGFpbmVyKCl7Y29uc3QgZT10aGlzLl9jb250YWluZXI7ZS5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtbWFwXCIpLCh0aGlzLl9taXNzaW5nQ1NTQ2FuYXJ5PXV0KFwiZGl2XCIsXCJtYXBib3hnbC1jYW5hcnlcIixlKSkuc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwiLHRoaXMuX2RldGVjdE1pc3NpbmdDU1MoKTtjb25zdCB0PXRoaXMuX2NhbnZhc0NvbnRhaW5lcj11dChcImRpdlwiLFwibWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lclwiLGUpO3RoaXMuX2NhbnZhcz11dChcImNhbnZhc1wiLFwibWFwYm94Z2wtY2FudmFzXCIsdCksdGhpcy5faW50ZXJhY3RpdmUmJih0LmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1pbnRlcmFjdGl2ZVwiKSx0aGlzLl9jYW52YXMuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIixcIjBcIikpLHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwid2ViZ2xjb250ZXh0bG9zdFwiLHRoaXMuX2NvbnRleHRMb3N0LCExKSx0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dHJlc3RvcmVkXCIsdGhpcy5fY29udGV4dFJlc3RvcmVkLCExKSx0aGlzLl9jYW52YXMuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLHRoaXMuX2dldFVJU3RyaW5nKFwiTWFwLlRpdGxlXCIpKSx0aGlzLl9jYW52YXMuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwicmVnaW9uXCIpLHRoaXMuX3VwZGF0ZUNvbnRhaW5lckRpbWVuc2lvbnMoKSx0aGlzLl9yZXNpemVDYW52YXModGhpcy5fY29udGFpbmVyV2lkdGgsdGhpcy5fY29udGFpbmVySGVpZ2h0KTtjb25zdCBpPXRoaXMuX2NvbnRyb2xDb250YWluZXI9dXQoXCJkaXZcIixcIm1hcGJveGdsLWNvbnRyb2wtY29udGFpbmVyXCIsZSkscj10aGlzLl9jb250cm9sUG9zaXRpb25zPXt9O1tcInRvcC1sZWZ0XCIsXCJ0b3AtcmlnaHRcIixcImJvdHRvbS1sZWZ0XCIsXCJib3R0b20tcmlnaHRcIl0uZm9yRWFjaCgoZT0+e3JbZV09dXQoXCJkaXZcIixgbWFwYm94Z2wtY3RybC0ke2V9YCxpKTt9KSksdGhpcy5fY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIix0aGlzLl9vbk1hcFNjcm9sbCwhMSk7fV9yZXNpemVDYW52YXMoZSx0KXtjb25zdCBpPWh0LmRldmljZVBpeGVsUmF0aW98fDE7dGhpcy5fY2FudmFzLndpZHRoPWkqTWF0aC5jZWlsKGUpLHRoaXMuX2NhbnZhcy5oZWlnaHQ9aSpNYXRoLmNlaWwodCksdGhpcy5fY2FudmFzLnN0eWxlLndpZHRoPWAke2V9cHhgLHRoaXMuX2NhbnZhcy5zdHlsZS5oZWlnaHQ9YCR7dH1weGA7fV9hZGRNYXJrZXIoZSl7dGhpcy5fbWFya2Vycy5wdXNoKGUpO31fcmVtb3ZlTWFya2VyKGUpe2NvbnN0IHQ9dGhpcy5fbWFya2Vycy5pbmRleE9mKGUpOy0xIT09dCYmdGhpcy5fbWFya2Vycy5zcGxpY2UodCwxKTt9X2FkZFBvcHVwKGUpe3RoaXMuX3BvcHVwcy5wdXNoKGUpO31fcmVtb3ZlUG9wdXAoZSl7Y29uc3QgdD10aGlzLl9wb3B1cHMuaW5kZXhPZihlKTstMSE9PXQmJnRoaXMuX3BvcHVwcy5zcGxpY2UodCwxKTt9X3NldHVwUGFpbnRlcigpe2NvbnN0IGU9ayh7fSxydC53ZWJHTENvbnRleHRBdHRyaWJ1dGVzLHtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OnRoaXMuX2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQscHJlc2VydmVEcmF3aW5nQnVmZmVyOnRoaXMuX3ByZXNlcnZlRHJhd2luZ0J1ZmZlcixhbnRpYWxpYXM6dGhpcy5fYW50aWFsaWFzfHwhMX0pLHQ9dGhpcy5fY2FudmFzLmdldENvbnRleHQoXCJ3ZWJnbDJcIixlKTt0PyhLZSh0LCEwKSx0aGlzLnBhaW50ZXI9bmV3IHpBKHQsdGhpcy50cmFuc2Zvcm0pLHRoaXMub24oXCJkYXRhXCIsKGU9PntcInNvdXJjZVwiPT09ZS5kYXRhVHlwZSYmdGhpcy5wYWludGVyLnNldFRpbGVMb2FkZWRGbGFnKCEwKTt9KSksby50ZXN0U3VwcG9ydCh0KSk6dGhpcy5maXJlKG5ldyBTdChuZXcgRXJyb3IoXCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBXZWJHTFwiKSkpO31fY29udGV4dExvc3QoZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2ZyYW1lJiYodGhpcy5fZnJhbWUuY2FuY2VsKCksdGhpcy5fZnJhbWU9bnVsbCksdGhpcy5maXJlKG5ldyBBdChcIndlYmdsY29udGV4dGxvc3RcIix7b3JpZ2luYWxFdmVudDplfSkpO31fY29udGV4dFJlc3RvcmVkKGUpe3RoaXMuX3NldHVwUGFpbnRlcigpLHRoaXMucmVzaXplKCksdGhpcy5fdXBkYXRlKCksdGhpcy5maXJlKG5ldyBBdChcIndlYmdsY29udGV4dHJlc3RvcmVkXCIse29yaWdpbmFsRXZlbnQ6ZX0pKTt9X29uTWFwU2Nyb2xsKGUpe2lmKGUudGFyZ2V0PT09dGhpcy5fY29udGFpbmVyKXJldHVybiB0aGlzLl9jb250YWluZXIuc2Nyb2xsVG9wPTAsdGhpcy5fY29udGFpbmVyLnNjcm9sbExlZnQ9MCwhMX1sb2FkZWQoKXtyZXR1cm4gIXRoaXMuX3N0eWxlRGlydHkmJiF0aGlzLl9zb3VyY2VzRGlydHkmJiEhdGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5sb2FkZWQoKX1fdXBkYXRlKGUpe3JldHVybiB0aGlzLnN0eWxlPyh0aGlzLl9zdHlsZURpcnR5PXRoaXMuX3N0eWxlRGlydHl8fGUsdGhpcy5fc291cmNlc0RpcnR5PSEwLHRoaXMudHJpZ2dlclJlcGFpbnQoKSx0aGlzKTp0aGlzfV9yZXF1ZXN0UmVuZGVyRnJhbWUoZSl7cmV0dXJuIHRoaXMuX3VwZGF0ZSgpLHRoaXMuX3JlbmRlclRhc2tRdWV1ZS5hZGQoZSl9X2NhbmNlbFJlbmRlckZyYW1lKGUpe3RoaXMuX3JlbmRlclRhc2tRdWV1ZS5yZW1vdmUoZSk7fV9yZXF1ZXN0RG9tVGFzayhlKXshdGhpcy5sb2FkZWQoKXx8dGhpcy5sb2FkZWQoKSYmIXRoaXMuaXNNb3ZpbmcoKT9lKCk6dGhpcy5fZG9tUmVuZGVyVGFza1F1ZXVlLmFkZChlKTt9X3JlbmRlcihlKXtsZXQgaTt0aGlzLmZpcmUobmV3IEF0KFwicmVuZGVyc3RhcnRcIikpO2NvbnN0IHI9dGhpcy5wYWludGVyLmNvbnRleHQuZXh0VGltZXJRdWVyeSxuPWh0Lm5vdygpLG89dGhpcy5wYWludGVyLmNvbnRleHQuZ2w7aWYodGhpcy5saXN0ZW5zKFwiZ3B1LXRpbWluZy1mcmFtZVwiKSYmKGk9by5jcmVhdGVRdWVyeSgpLG8uYmVnaW5RdWVyeShyLlRJTUVfRUxBUFNFRF9FWFQsaSkpLHRoaXMucGFpbnRlci5jb250ZXh0LnNldERpcnR5KCksdGhpcy5wYWludGVyLnNldEJhc2VTdGF0ZSgpLCh0aGlzLmlzTW92aW5nKCl8fHRoaXMuaXNSb3RhdGluZygpfHx0aGlzLmlzWm9vbWluZygpKSYmKHRoaXMuX2ludGVyYWN0aW9uUmFuZ2VbMF09TWF0aC5taW4odGhpcy5faW50ZXJhY3Rpb25SYW5nZVswXSx0LnBlcmZvcm1hbmNlLm5vdygpKSx0aGlzLl9pbnRlcmFjdGlvblJhbmdlWzFdPU1hdGgubWF4KHRoaXMuX2ludGVyYWN0aW9uUmFuZ2VbMV0sdC5wZXJmb3JtYW5jZS5ub3coKSkpLHRoaXMuX3JlbmRlclRhc2tRdWV1ZS5ydW4oZSksdGhpcy5fZG9tUmVuZGVyVGFza1F1ZXVlLnJ1bihlKSx0aGlzLl9yZW1vdmVkKXJldHVybjt0aGlzLl91cGRhdGVQcm9qZWN0aW9uVHJhbnNpdGlvbigpO2NvbnN0IHM9dGhpcy5faXNJbml0aWFsTG9hZD8wOnRoaXMuX2ZhZGVEdXJhdGlvbjtpZih0aGlzLnN0eWxlJiZ0aGlzLl9zdHlsZURpcnR5KXt0aGlzLl9zdHlsZURpcnR5PSExO2NvbnN0IGU9dGhpcy50cmFuc2Zvcm0uem9vbSx0PXRoaXMudHJhbnNmb3JtLnBpdGNoLGk9aHQubm93KCkscj1uZXcgZWEoZSx7bm93OmksZmFkZUR1cmF0aW9uOnMscGl0Y2g6dCx0cmFuc2l0aW9uOnRoaXMuc3R5bGUudHJhbnNpdGlvbn0pO3RoaXMuc3R5bGUudXBkYXRlKHIpO310aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLmhhc0ZvZ1RyYW5zaXRpb24oKSYmKHRoaXMuc3R5bGUuX21hcmtlcnNOZWVkVXBkYXRlPSEwLHRoaXMuX3NvdXJjZXNEaXJ0eT0hMCk7bGV0IGE9ITE7aWYodGhpcy5zdHlsZSYmdGhpcy5fc291cmNlc0RpcnR5Pyh0aGlzLl9zb3VyY2VzRGlydHk9ITEsdGhpcy5wYWludGVyLl91cGRhdGVGb2codGhpcy5zdHlsZSksdGhpcy5fdXBkYXRlVGVycmFpbigpLGE9dGhpcy5fdXBkYXRlQXZlcmFnZUVsZXZhdGlvbihuKSx0aGlzLnN0eWxlLnVwZGF0ZVNvdXJjZXModGhpcy50cmFuc2Zvcm0pLHRoaXMuX2ZvcmNlTWFya2VyQW5kUG9wdXBVcGRhdGUoKSk6YT10aGlzLl91cGRhdGVBdmVyYWdlRWxldmF0aW9uKG4pLHRoaXMuX3BsYWNlbWVudERpcnR5PXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuX3VwZGF0ZVBsYWNlbWVudCh0aGlzLnBhaW50ZXIudHJhbnNmb3JtLHRoaXMuc2hvd0NvbGxpc2lvbkJveGVzLHMsdGhpcy5fY3Jvc3NTb3VyY2VDb2xsaXNpb25zKSx0aGlzLnN0eWxlJiZ0aGlzLnBhaW50ZXIucmVuZGVyKHRoaXMuc3R5bGUse3Nob3dUaWxlQm91bmRhcmllczp0aGlzLnNob3dUaWxlQm91bmRhcmllcyx3aXJlZnJhbWU6e3RlcnJhaW46dGhpcy5zaG93VGVycmFpbldpcmVmcmFtZSxsYXllcnMyRDp0aGlzLnNob3dMYXllcnMyRFdpcmVmcmFtZSxsYXllcnMzRDp0aGlzLnNob3dMYXllcnMzRFdpcmVmcmFtZX0sc2hvd092ZXJkcmF3SW5zcGVjdG9yOnRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvcixzaG93UXVlcnlHZW9tZXRyeTohIXRoaXMuX3Nob3dRdWVyeUdlb21ldHJ5LHNob3dUaWxlQUFCQnM6dGhpcy5zaG93VGlsZUFBQkJzLHJvdGF0aW5nOnRoaXMuaXNSb3RhdGluZygpLHpvb21pbmc6dGhpcy5pc1pvb21pbmcoKSxtb3Zpbmc6dGhpcy5pc01vdmluZygpLGZhZGVEdXJhdGlvbjpzLGlzSW5pdGlhbExvYWQ6dGhpcy5faXNJbml0aWFsTG9hZCxzaG93UGFkZGluZzp0aGlzLnNob3dQYWRkaW5nLGdwdVRpbWluZzohIXRoaXMubGlzdGVucyhcImdwdS10aW1pbmctbGF5ZXJcIiksZ3B1VGltaW5nRGVmZXJyZWRSZW5kZXI6ISF0aGlzLmxpc3RlbnMoXCJncHUtdGltaW5nLWRlZmVycmVkLXJlbmRlclwiKSxzcGVlZEluZGV4VGltaW5nOnRoaXMuc3BlZWRJbmRleFRpbWluZ30pLHRoaXMuZmlyZShuZXcgQXQoXCJyZW5kZXJcIikpLHRoaXMubG9hZGVkKCkmJiF0aGlzLl9sb2FkZWQmJih0aGlzLl9sb2FkZWQ9ITAsdGhpcy5maXJlKG5ldyBBdChcImxvYWRcIikpKSx0aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLmhhc1RyYW5zaXRpb25zKCkmJih0aGlzLl9zdHlsZURpcnR5PSEwKSx0aGlzLnN0eWxlJiYhdGhpcy5fcGxhY2VtZW50RGlydHkmJnRoaXMuc3R5bGUuX3JlbGVhc2VTeW1ib2xGYWRlVGlsZXMoKSxpKXtjb25zdCBlPWh0Lm5vdygpLW47by5lbmRRdWVyeShyLlRJTUVfRUxBUFNFRF9FWFQpLHNldFRpbWVvdXQoKCgpPT57Y29uc3Qgcj1vLmdldFF1ZXJ5UGFyYW1ldGVyKGksby5RVUVSWV9SRVNVTFQpLzFlNjtvLmRlbGV0ZVF1ZXJ5KGkpLHRoaXMuZmlyZShuZXcgQXQoXCJncHUtdGltaW5nLWZyYW1lXCIse2NwdVRpbWU6ZSxncHVUaW1lOnJ9KSksdC5wZXJmb3JtYW5jZS5tYXJrKFwiZnJhbWUtZ3B1XCIse3N0YXJ0VGltZTpuLGRldGFpbDp7Z3B1VGltZTpyfX0pO30pLDUwKTt9aWYodGhpcy5saXN0ZW5zKFwiZ3B1LXRpbWluZy1sYXllclwiKSl7Y29uc3QgZT10aGlzLnBhaW50ZXIuY29sbGVjdEdwdVRpbWVycygpO3NldFRpbWVvdXQoKCgpPT57Y29uc3QgdD10aGlzLnBhaW50ZXIucXVlcnlHcHVUaW1lcnMoZSk7dGhpcy5maXJlKG5ldyBBdChcImdwdS10aW1pbmctbGF5ZXJcIix7bGF5ZXJUaW1lczp0fSkpO30pLDUwKTt9aWYodGhpcy5saXN0ZW5zKFwiZ3B1LXRpbWluZy1kZWZlcnJlZC1yZW5kZXJcIikpe2NvbnN0IGU9dGhpcy5wYWludGVyLmNvbGxlY3REZWZlcnJlZFJlbmRlckdwdVF1ZXJpZXMoKTtzZXRUaW1lb3V0KCgoKT0+e2NvbnN0IHQ9dGhpcy5wYWludGVyLnF1ZXJ5R3B1VGltZURlZmVycmVkUmVuZGVyKGUpO3RoaXMuZmlyZShuZXcgQXQoXCJncHUtdGltaW5nLWRlZmVycmVkLXJlbmRlclwiLHtncHVUaW1lOnR9KSk7fSksNTApO31jb25zdCBsPXRoaXMuX3NvdXJjZXNEaXJ0eXx8dGhpcy5fc3R5bGVEaXJ0eXx8dGhpcy5fcGxhY2VtZW50RGlydHl8fGE7aWYobHx8dGhpcy5fcmVwYWludCl0aGlzLnRyaWdnZXJSZXBhaW50KCk7ZWxzZSB7Y29uc3QgZT0hdGhpcy5pc01vdmluZygpJiZ0aGlzLmxvYWRlZCgpO2lmKGUmJihhPXRoaXMuX3VwZGF0ZUF2ZXJhZ2VFbGV2YXRpb24obiwhMCkpLGEpdGhpcy50cmlnZ2VyUmVwYWludCgpO2Vsc2UgaWYodGhpcy5fdHJpZ2dlckZyYW1lKCExKSxlJiYodGhpcy5maXJlKG5ldyBBdChcImlkbGVcIikpLHRoaXMuX2lzSW5pdGlhbExvYWQ9ITEsdGhpcy5zcGVlZEluZGV4VGltaW5nKSl7Y29uc3QgZT10aGlzLl9jYWxjdWxhdGVTcGVlZEluZGV4KCk7dGhpcy5maXJlKG5ldyBBdChcInNwZWVkaW5kZXhjb21wbGV0ZWRcIix7c3BlZWRJbmRleDplfSkpLHRoaXMuc3BlZWRJbmRleFRpbWluZz0hMTt9fSF0aGlzLl9sb2FkZWR8fHRoaXMuX2Z1bGx5TG9hZGVkfHxsfHwodGhpcy5fZnVsbHlMb2FkZWQ9ITAsUWUubWFyayhKZS5mdWxsTG9hZCksdGhpcy5fcGVyZm9ybWFuY2VNZXRyaWNzQ29sbGVjdGlvbiYmSGUodGhpcy5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VuLHt3aWR0aDp0aGlzLnBhaW50ZXIud2lkdGgsaGVpZ2h0OnRoaXMucGFpbnRlci5oZWlnaHQsaW50ZXJhY3Rpb25SYW5nZTp0aGlzLl9pbnRlcmFjdGlvblJhbmdlLHZpc2liaWxpdHlIaWRkZW46dGhpcy5fdmlzaWJpbGl0eUhpZGRlbix0ZXJyYWluRW5hYmxlZDohIXRoaXMucGFpbnRlci5zdHlsZS5nZXRUZXJyYWluKCksZm9nRW5hYmxlZDohIXRoaXMucGFpbnRlci5zdHlsZS5nZXRGb2coKSxwcm9qZWN0aW9uOnRoaXMuZ2V0UHJvamVjdGlvbigpLm5hbWUsem9vbTp0aGlzLnRyYW5zZm9ybS56b29tLHJlbmRlcmVyOnRoaXMucGFpbnRlci5jb250ZXh0LnJlbmRlcmVyLHZlbmRvcjp0aGlzLnBhaW50ZXIuY29udGV4dC52ZW5kb3J9KSx0aGlzLl9hdXRoZW50aWNhdGUoKSk7fV9mb3JjZU1hcmtlckFuZFBvcHVwVXBkYXRlKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX21hcmtlcnMpZSYmIXRoaXMuZ2V0UmVuZGVyV29ybGRDb3BpZXMoKSYmKHQuX2xuZ0xhdD10Ll9sbmdMYXQud3JhcCgpKSx0Ll91cGRhdGUoKTtmb3IoY29uc3QgdCBvZiB0aGlzLl9wb3B1cHMpIWV8fHRoaXMuZ2V0UmVuZGVyV29ybGRDb3BpZXMoKXx8dC5fdHJhY2tQb2ludGVyfHwodC5fbG5nTGF0PXQuX2xuZ0xhdC53cmFwKCkpLHQuX3VwZGF0ZSgpO31fdXBkYXRlQXZlcmFnZUVsZXZhdGlvbihlLHQ9ITEpe2NvbnN0IGk9ZT0+KHRoaXMudHJhbnNmb3JtLmF2ZXJhZ2VFbGV2YXRpb249ZSx0aGlzLl91cGRhdGUoITEpLCEwKTtpZighdGhpcy5wYWludGVyLmF2ZXJhZ2VFbGV2YXRpb25OZWVkc0Vhc2luZygpKXJldHVybiAwIT09dGhpcy50cmFuc2Zvcm0uYXZlcmFnZUVsZXZhdGlvbiYmaSgwKTtjb25zdCByPXRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbiYmdGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpIT09dGhpcy5fYXZlcmFnZUVsZXZhdGlvbkV4YWdnZXJhdGlvbjtpZihyfHwodHx8ZS10aGlzLl9hdmVyYWdlRWxldmF0aW9uTGFzdFNhbXBsZWRBdD41MDApJiYhdGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5pc0Vhc2luZyhlKSl7Y29uc3QgdD10aGlzLnRyYW5zZm9ybS5hdmVyYWdlRWxldmF0aW9uO2xldCBuPXRoaXMudHJhbnNmb3JtLnNhbXBsZUF2ZXJhZ2VFbGV2YXRpb24oKTt0aGlzLnRyYW5zZm9ybS5lbGV2YXRpb24mJih0aGlzLl9hdmVyYWdlRWxldmF0aW9uRXhhZ2dlcmF0aW9uPXRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbi5leGFnZ2VyYXRpb24oKSksaXNOYU4obik/bj0wOnRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25MYXN0U2FtcGxlZEF0PWU7Y29uc3Qgbz1NYXRoLmFicyh0LW4pO2lmKG8+MSl7aWYodGhpcy5faXNJbml0aWFsTG9hZHx8cilyZXR1cm4gdGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5qdW1wVG8obiksaShuKTt0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmVhc2VUbyhuLGUsMzAwKTt9ZWxzZSBpZihvPjFlLTQpcmV0dXJuIHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb24uanVtcFRvKG4pLGkobil9cmV0dXJuICEhdGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5pc0Vhc2luZyhlKSYmaSh0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmdldFZhbHVlKGUpKX1fYXV0aGVudGljYXRlKCl7WGUodGhpcy5fZ2V0TWFwSWQoKSx0aGlzLl9yZXF1ZXN0TWFuYWdlci5fc2t1VG9rZW4sdGhpcy5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VuLChlPT57aWYoZSYmKGUubWVzc2FnZT09PUNlfHw0MDE9PT1lLnN0YXR1cykpe2NvbnN0IGU9dGhpcy5wYWludGVyLmNvbnRleHQuZ2w7S2UoZSwhMSksdGhpcy5fbG9nb0NvbnRyb2wgaW5zdGFuY2VvZiBIUyYmdGhpcy5fbG9nb0NvbnRyb2wuX3VwZGF0ZUxvZ28oKSxlJiZlLmNsZWFyKGUuREVQVEhfQlVGRkVSX0JJVHxlLkNPTE9SX0JVRkZFUl9CSVR8ZS5TVEVOQ0lMX0JVRkZFUl9CSVQpLHRoaXMuX3NpbGVuY2VBdXRoRXJyb3JzfHx0aGlzLmZpcmUobmV3IFN0KG5ldyBFcnJvcihcIkEgdmFsaWQgTWFwYm94IGFjY2VzcyB0b2tlbiBpcyByZXF1aXJlZCB0byB1c2UgTWFwYm94IEdMIEpTLiBUbyBjcmVhdGUgYW4gYWNjb3VudCBvciBhIG5ldyBhY2Nlc3MgdG9rZW4sIHZpc2l0IGh0dHBzOi8vYWNjb3VudC5tYXBib3guY29tL1wiKSkpO319KSksWmUodGhpcy5fZ2V0TWFwSWQoKSx0aGlzLl9yZXF1ZXN0TWFuYWdlci5fc2t1VG9rZW4sdGhpcy5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VuLCgoKT0+e30pKTt9X3VwZGF0ZVRlcnJhaW4oKXtjb25zdCBlPXRoaXMuX2lzRHJhZ2dpbmcoKTt0aGlzLnBhaW50ZXIudXBkYXRlVGVycmFpbih0aGlzLnN0eWxlLGUpO31fY2FsY3VsYXRlU3BlZWRJbmRleCgpe2NvbnN0IGU9dGhpcy5wYWludGVyLmNhbnZhc0NvcHkoKSx0PXRoaXMucGFpbnRlci5nZXRDYW52YXNDb3BpZXNBbmRUaW1lc3RhbXBzKCk7dC50aW1lU3RhbXBzLnB1c2gocGVyZm9ybWFuY2Uubm93KCkpO2NvbnN0IGk9dGhpcy5wYWludGVyLmNvbnRleHQuZ2wscj1pLmNyZWF0ZUZyYW1lYnVmZmVyKCk7ZnVuY3Rpb24gbihlKXtpLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGkuRlJBTUVCVUZGRVIsaS5DT0xPUl9BVFRBQ0hNRU5UMCxpLlRFWFRVUkVfMkQsZSwwKTtjb25zdCB0PW5ldyBVaW50OEFycmF5KGkuZHJhd2luZ0J1ZmZlcldpZHRoKmkuZHJhd2luZ0J1ZmZlckhlaWdodCo0KTtyZXR1cm4gaS5yZWFkUGl4ZWxzKDAsMCxpLmRyYXdpbmdCdWZmZXJXaWR0aCxpLmRyYXdpbmdCdWZmZXJIZWlnaHQsaS5SR0JBLGkuVU5TSUdORURfQllURSx0KSx0fXJldHVybiBpLmJpbmRGcmFtZWJ1ZmZlcihpLkZSQU1FQlVGRkVSLHIpLHRoaXMuX2NhbnZhc1BpeGVsQ29tcGFyaXNvbihuKGUpLHQuY2FudmFzQ29waWVzLm1hcChuKSx0LnRpbWVTdGFtcHMpfV9jYW52YXNQaXhlbENvbXBhcmlzb24oZSx0LGkpe2xldCByPWlbMV0taVswXTtjb25zdCBuPWUubGVuZ3RoLzQ7Zm9yKGxldCBvPTA7bzx0Lmxlbmd0aDtvKyspe2NvbnN0IHM9dFtvXTtsZXQgYT0wO2ZvcihsZXQgdD0wO3Q8cy5sZW5ndGg7dCs9NClzW3RdPT09ZVt0XSYmc1t0KzFdPT09ZVt0KzFdJiZzW3QrMl09PT1lW3QrMl0mJnNbdCszXT09PWVbdCszXSYmKGErPTEpO3IrPShpW28rMl0taVtvKzFdKSooMS1hL24pO31yZXR1cm4gcn1yZW1vdmUoKXt0aGlzLl9oYXNoJiZ0aGlzLl9oYXNoLnJlbW92ZSgpO2Zvcihjb25zdCBlIG9mIHRoaXMuX2NvbnRyb2xzKWUub25SZW1vdmUodGhpcyk7dGhpcy5fY29udHJvbHM9W10sdGhpcy5fZnJhbWUmJih0aGlzLl9mcmFtZS5jYW5jZWwoKSx0aGlzLl9mcmFtZT1udWxsKSx0aGlzLl9yZW5kZXJUYXNrUXVldWUuY2xlYXIoKSx0aGlzLl9kb21SZW5kZXJUYXNrUXVldWUuY2xlYXIoKSx0aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLmRlc3Ryb3koKSx0aGlzLnBhaW50ZXIuZGVzdHJveSgpLHRoaXMuaGFuZGxlcnMmJnRoaXMuaGFuZGxlcnMuZGVzdHJveSgpLHRoaXMuaGFuZGxlcnM9dm9pZCAwLHRoaXMuc2V0U3R5bGUobnVsbCksdm9pZCAwIT09dCYmKHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLHRoaXMuX29uV2luZG93UmVzaXplLCExKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiLHRoaXMuX29uV2luZG93UmVzaXplLCExKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5fZnVsbHNjcmVlbmNoYW5nZUV2ZW50LHRoaXMuX29uV2luZG93UmVzaXplLCExKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIix0aGlzLl9vbldpbmRvd09ubGluZSwhMSksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSwhMSkpO2NvbnN0IGU9dGhpcy5wYWludGVyLmNvbnRleHQuZ2wuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfbG9zZV9jb250ZXh0XCIpO2UmJmUubG9zZUNvbnRleHQoKSx0aGlzLl9jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dGxvc3RcIix0aGlzLl9jb250ZXh0TG9zdCwhMSksdGhpcy5fY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3ZWJnbGNvbnRleHRyZXN0b3JlZFwiLHRoaXMuX2NvbnRleHRSZXN0b3JlZCwhMSksdGhpcy5fY2FudmFzQ29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX2NvbnRyb2xDb250YWluZXIucmVtb3ZlKCksdGhpcy5fbWlzc2luZ0NTU0NhbmFyeS5yZW1vdmUoKSx0aGlzLl9jYW52YXM9dm9pZCAwLHRoaXMuX2NhbnZhc0NvbnRhaW5lcj12b2lkIDAsdGhpcy5fY29udHJvbENvbnRhaW5lcj12b2lkIDAsdGhpcy5fbWlzc2luZ0NTU0NhbmFyeT12b2lkIDAsdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1tYXBcIiksdGhpcy5fY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIix0aGlzLl9vbk1hcFNjcm9sbCwhMSksWWUuZGVsZXRlKHRoaXMucGFpbnRlci5jb250ZXh0LmdsKSx0aGlzLl9yZW1vdmVkPSEwLHRoaXMuZmlyZShuZXcgQXQoXCJyZW1vdmVcIikpO310cmlnZ2VyUmVwYWludCgpe3RoaXMuX3RyaWdnZXJGcmFtZSghMCk7fV90cmlnZ2VyRnJhbWUoZSl7dGhpcy5fcmVuZGVyTmV4dEZyYW1lPXRoaXMuX3JlbmRlck5leHRGcmFtZXx8ZSx0aGlzLnN0eWxlJiYhdGhpcy5fZnJhbWUmJih0aGlzLl9mcmFtZT1odC5mcmFtZSgoZT0+e2NvbnN0IHQ9ISF0aGlzLl9yZW5kZXJOZXh0RnJhbWU7dGhpcy5fZnJhbWU9bnVsbCx0aGlzLl9yZW5kZXJOZXh0RnJhbWU9bnVsbCx0JiZ0aGlzLl9yZW5kZXIoZSk7fSkpKTt9X3ByZWxvYWRUaWxlcyhlKXtyZXR1cm4gUih0aGlzLnN0eWxlP09iamVjdC52YWx1ZXModGhpcy5zdHlsZS5fc291cmNlQ2FjaGVzKTpbXSwoKHQsaSk9PnQuX3ByZWxvYWRUaWxlcyhlLGkpKSwoKCk9Pnt0aGlzLnRyaWdnZXJSZXBhaW50KCk7fSkpLHRoaXN9X29uV2luZG93T25saW5lKCl7dGhpcy5fdXBkYXRlKCk7fV9vbldpbmRvd1Jlc2l6ZShlKXt0aGlzLl90cmFja1Jlc2l6ZSYmdGhpcy5yZXNpemUoe29yaWdpbmFsRXZlbnQ6ZX0pLl91cGRhdGUoKTt9X29uVmlzaWJpbGl0eUNoYW5nZSgpe1wiaGlkZGVuXCI9PT10LmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSYmdGhpcy5fdmlzaWJpbGl0eUhpZGRlbisrO31nZXQgc2hvd1RpbGVCb3VuZGFyaWVzKCl7cmV0dXJuICEhdGhpcy5fc2hvd1RpbGVCb3VuZGFyaWVzfXNldCBzaG93VGlsZUJvdW5kYXJpZXMoZSl7dGhpcy5fc2hvd1RpbGVCb3VuZGFyaWVzIT09ZSYmKHRoaXMuX3Nob3dUaWxlQm91bmRhcmllcz1lLHRoaXMuX3VwZGF0ZSgpKTt9Z2V0IHNob3dUZXJyYWluV2lyZWZyYW1lKCl7cmV0dXJuICEhdGhpcy5fc2hvd1RlcnJhaW5XaXJlZnJhbWV9c2V0IHNob3dUZXJyYWluV2lyZWZyYW1lKGUpe3RoaXMuX3Nob3dUZXJyYWluV2lyZWZyYW1lIT09ZSYmKHRoaXMuX3Nob3dUZXJyYWluV2lyZWZyYW1lPWUsdGhpcy5fdXBkYXRlKCkpO31nZXQgc2hvd0xheWVyczJEV2lyZWZyYW1lKCl7cmV0dXJuICEhdGhpcy5fc2hvd0xheWVyczJEV2lyZWZyYW1lfXNldCBzaG93TGF5ZXJzMkRXaXJlZnJhbWUoZSl7dGhpcy5fc2hvd0xheWVyczJEV2lyZWZyYW1lIT09ZSYmKHRoaXMuX3Nob3dMYXllcnMyRFdpcmVmcmFtZT1lLHRoaXMuX3VwZGF0ZSgpKTt9Z2V0IHNob3dMYXllcnMzRFdpcmVmcmFtZSgpe3JldHVybiAhIXRoaXMuX3Nob3dMYXllcnMzRFdpcmVmcmFtZX1zZXQgc2hvd0xheWVyczNEV2lyZWZyYW1lKGUpe3RoaXMuX3Nob3dMYXllcnMzRFdpcmVmcmFtZSE9PWUmJih0aGlzLl9zaG93TGF5ZXJzM0RXaXJlZnJhbWU9ZSx0aGlzLl91cGRhdGUoKSk7fWdldCBzcGVlZEluZGV4VGltaW5nKCl7cmV0dXJuICEhdGhpcy5fc3BlZWRJbmRleFRpbWluZ31zZXQgc3BlZWRJbmRleFRpbWluZyhlKXt0aGlzLl9zcGVlZEluZGV4VGltaW5nIT09ZSYmKHRoaXMuX3NwZWVkSW5kZXhUaW1pbmc9ZSx0aGlzLl91cGRhdGUoKSk7fWdldCBzaG93UGFkZGluZygpe3JldHVybiAhIXRoaXMuX3Nob3dQYWRkaW5nfXNldCBzaG93UGFkZGluZyhlKXt0aGlzLl9zaG93UGFkZGluZyE9PWUmJih0aGlzLl9zaG93UGFkZGluZz1lLHRoaXMuX3VwZGF0ZSgpKTt9Z2V0IHNob3dDb2xsaXNpb25Cb3hlcygpe3JldHVybiAhIXRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlc31zZXQgc2hvd0NvbGxpc2lvbkJveGVzKGUpe3RoaXMuX3Nob3dDb2xsaXNpb25Cb3hlcyE9PWUmJih0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXM9ZSxlP3RoaXMuc3R5bGUuX2dlbmVyYXRlQ29sbGlzaW9uQm94ZXMoKTp0aGlzLl91cGRhdGUoKSk7fWdldCBzaG93T3ZlcmRyYXdJbnNwZWN0b3IoKXtyZXR1cm4gISF0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3J9c2V0IHNob3dPdmVyZHJhd0luc3BlY3RvcihlKXt0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3IhPT1lJiYodGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yPWUsdGhpcy5fdXBkYXRlKCkpO31nZXQgcmVwYWludCgpe3JldHVybiAhIXRoaXMuX3JlcGFpbnR9c2V0IHJlcGFpbnQoZSl7dGhpcy5fcmVwYWludCE9PWUmJih0aGlzLl9yZXBhaW50PWUsdGhpcy50cmlnZ2VyUmVwYWludCgpKTt9Z2V0IHZlcnRpY2VzKCl7cmV0dXJuICEhdGhpcy5fdmVydGljZXN9c2V0IHZlcnRpY2VzKGUpe3RoaXMuX3ZlcnRpY2VzPWUsdGhpcy5fdXBkYXRlKCk7fWdldCBzaG93VGlsZUFBQkJzKCl7cmV0dXJuICEhdGhpcy5fc2hvd1RpbGVBQUJCc31zZXQgc2hvd1RpbGVBQUJCcyhlKXt0aGlzLl9zaG93VGlsZUFBQkJzIT09ZSYmKHRoaXMuX3Nob3dUaWxlQUFCQnM9ZSxlJiZ0aGlzLl91cGRhdGUoKSk7fV9zZXRDYWNoZUxpbWl0cyhlLHQpeyFmdW5jdGlvbihlLHQpe2NlPWUsaGU9dDt9KGUsdCk7fWdldCB2ZXJzaW9uKCl7cmV0dXJuIGl9fSxOYXZpZ2F0aW9uQ29udHJvbDpjbGFzc3tjb25zdHJ1Y3RvcihlKXt0aGlzLm9wdGlvbnM9ayh7fSxuSSxlKSx0aGlzLl9jb250YWluZXI9dXQoXCJkaXZcIixcIm1hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1ncm91cFwiKSx0aGlzLl9jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsKGU9PmUucHJldmVudERlZmF1bHQoKSkpLHRoaXMub3B0aW9ucy5zaG93Wm9vbSYmKGooW1wiX3NldEJ1dHRvblRpdGxlXCIsXCJfdXBkYXRlWm9vbUJ1dHRvbnNcIl0sdGhpcyksdGhpcy5fem9vbUluQnV0dG9uPXRoaXMuX2NyZWF0ZUJ1dHRvbihcIm1hcGJveGdsLWN0cmwtem9vbS1pblwiLChlPT57dGhpcy5fbWFwJiZ0aGlzLl9tYXAuem9vbUluKHt9LHtvcmlnaW5hbEV2ZW50OmV9KTt9KSksdXQoXCJzcGFuXCIsXCJtYXBib3hnbC1jdHJsLWljb25cIix0aGlzLl96b29tSW5CdXR0b24pLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLHRoaXMuX3pvb21PdXRCdXR0b249dGhpcy5fY3JlYXRlQnV0dG9uKFwibWFwYm94Z2wtY3RybC16b29tLW91dFwiLChlPT57dGhpcy5fbWFwJiZ0aGlzLl9tYXAuem9vbU91dCh7fSx7b3JpZ2luYWxFdmVudDplfSk7fSkpLHV0KFwic3BhblwiLFwibWFwYm94Z2wtY3RybC1pY29uXCIsdGhpcy5fem9vbU91dEJ1dHRvbikuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIikpLHRoaXMub3B0aW9ucy5zaG93Q29tcGFzcyYmKGooW1wiX3JvdGF0ZUNvbXBhc3NBcnJvd1wiXSx0aGlzKSx0aGlzLl9jb21wYXNzPXRoaXMuX2NyZWF0ZUJ1dHRvbihcIm1hcGJveGdsLWN0cmwtY29tcGFzc1wiLChlPT57Y29uc3QgdD10aGlzLl9tYXA7dCYmKHRoaXMub3B0aW9ucy52aXN1YWxpemVQaXRjaD90LnJlc2V0Tm9ydGhQaXRjaCh7fSx7b3JpZ2luYWxFdmVudDplfSk6dC5yZXNldE5vcnRoKHt9LHtvcmlnaW5hbEV2ZW50OmV9KSk7fSkpLHRoaXMuX2NvbXBhc3NJY29uPXV0KFwic3BhblwiLFwibWFwYm94Z2wtY3RybC1pY29uXCIsdGhpcy5fY29tcGFzcyksdGhpcy5fY29tcGFzc0ljb24uc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIikpO31fdXBkYXRlWm9vbUJ1dHRvbnMoKXtjb25zdCBlPXRoaXMuX21hcDtpZighZSlyZXR1cm47Y29uc3QgdD1lLmdldFpvb20oKSxpPXQ9PT1lLmdldE1heFpvb20oKSxyPXQ9PT1lLmdldE1pblpvb20oKTt0aGlzLl96b29tSW5CdXR0b24uZGlzYWJsZWQ9aSx0aGlzLl96b29tT3V0QnV0dG9uLmRpc2FibGVkPXIsdGhpcy5fem9vbUluQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIixpLnRvU3RyaW5nKCkpLHRoaXMuX3pvb21PdXRCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiLHIudG9TdHJpbmcoKSk7fV9yb3RhdGVDb21wYXNzQXJyb3coKXtjb25zdCBlPXRoaXMuX21hcDtpZighZSlyZXR1cm47Y29uc3QgdD10aGlzLm9wdGlvbnMudmlzdWFsaXplUGl0Y2g/YHNjYWxlKCR7MS9NYXRoLnBvdyhNYXRoLmNvcyhlLnRyYW5zZm9ybS5waXRjaCooTWF0aC5QSS8xODApKSwuNSl9KSByb3RhdGVYKCR7ZS50cmFuc2Zvcm0ucGl0Y2h9ZGVnKSByb3RhdGVaKCR7ZS50cmFuc2Zvcm0uYW5nbGUqKDE4MC9NYXRoLlBJKX1kZWcpYDpgcm90YXRlKCR7ZS50cmFuc2Zvcm0uYW5nbGUqKDE4MC9NYXRoLlBJKX1kZWcpYDtlLl9yZXF1ZXN0RG9tVGFzaygoKCk9Pnt0aGlzLl9jb21wYXNzSWNvbiYmKHRoaXMuX2NvbXBhc3NJY29uLnN0eWxlLnRyYW5zZm9ybT10KTt9KSk7fW9uQWRkKGUpe3JldHVybiB0aGlzLl9tYXA9ZSx0aGlzLm9wdGlvbnMuc2hvd1pvb20mJih0aGlzLl9zZXRCdXR0b25UaXRsZSh0aGlzLl96b29tSW5CdXR0b24sXCJab29tSW5cIiksdGhpcy5fc2V0QnV0dG9uVGl0bGUodGhpcy5fem9vbU91dEJ1dHRvbixcIlpvb21PdXRcIiksZS5vbihcInpvb21cIix0aGlzLl91cGRhdGVab29tQnV0dG9ucyksdGhpcy5fdXBkYXRlWm9vbUJ1dHRvbnMoKSksdGhpcy5vcHRpb25zLnNob3dDb21wYXNzJiYodGhpcy5fc2V0QnV0dG9uVGl0bGUodGhpcy5fY29tcGFzcyxcIlJlc2V0QmVhcmluZ1wiKSx0aGlzLm9wdGlvbnMudmlzdWFsaXplUGl0Y2gmJmUub24oXCJwaXRjaFwiLHRoaXMuX3JvdGF0ZUNvbXBhc3NBcnJvdyksZS5vbihcInJvdGF0ZVwiLHRoaXMuX3JvdGF0ZUNvbXBhc3NBcnJvdyksdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KCksdGhpcy5faGFuZGxlcj1uZXcgb0koZSx0aGlzLl9jb21wYXNzLHRoaXMub3B0aW9ucy52aXN1YWxpemVQaXRjaCkpLHRoaXMuX2NvbnRhaW5lcn1vblJlbW92ZSgpe2NvbnN0IGU9dGhpcy5fbWFwO2UmJih0aGlzLl9jb250YWluZXIucmVtb3ZlKCksdGhpcy5vcHRpb25zLnNob3dab29tJiZlLm9mZihcInpvb21cIix0aGlzLl91cGRhdGVab29tQnV0dG9ucyksdGhpcy5vcHRpb25zLnNob3dDb21wYXNzJiYodGhpcy5vcHRpb25zLnZpc3VhbGl6ZVBpdGNoJiZlLm9mZihcInBpdGNoXCIsdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KSxlLm9mZihcInJvdGF0ZVwiLHRoaXMuX3JvdGF0ZUNvbXBhc3NBcnJvdyksdGhpcy5faGFuZGxlciYmdGhpcy5faGFuZGxlci5vZmYoKSx0aGlzLl9oYW5kbGVyPXZvaWQgMCksdGhpcy5fbWFwPXZvaWQgMCk7fV9jcmVhdGVCdXR0b24oZSx0KXtjb25zdCBpPXV0KFwiYnV0dG9uXCIsZSx0aGlzLl9jb250YWluZXIpO3JldHVybiBpLnR5cGU9XCJidXR0b25cIixpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHQpLGl9X3NldEJ1dHRvblRpdGxlKGUsdCl7aWYoIXRoaXMuX21hcClyZXR1cm47Y29uc3QgaT10aGlzLl9tYXAuX2dldFVJU3RyaW5nKGBOYXZpZ2F0aW9uQ29udHJvbC4ke3R9YCk7ZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsaSksZS5maXJzdEVsZW1lbnRDaGlsZCYmZS5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLGkpO319LEdlb2xvY2F0ZUNvbnRyb2w6Y2xhc3MgZXh0ZW5kcyBJdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMub3B0aW9ucz1rKHtnZW9sb2NhdGlvbjp0Lm5hdmlnYXRvci5nZW9sb2NhdGlvbn0sc0ksZSksaihbXCJfb25TdWNjZXNzXCIsXCJfb25FcnJvclwiLFwiX29uWm9vbVwiLFwiX2ZpbmlzaFwiLFwiX3NldHVwVUlcIixcIl91cGRhdGVDYW1lcmFcIixcIl91cGRhdGVNYXJrZXJcIixcIl91cGRhdGVNYXJrZXJSb3RhdGlvblwiLFwiX29uRGV2aWNlT3JpZW50YXRpb25cIl0sdGhpcyksdGhpcy5fdXBkYXRlTWFya2VyUm90YXRpb25UaHJvdHRsZWQ9SEEodGhpcy5fdXBkYXRlTWFya2VyUm90YXRpb24sMjApLHRoaXMuX251bWJlck9mV2F0Y2hlcz0wO31vbkFkZChlKXtyZXR1cm4gdGhpcy5fbWFwPWUsdGhpcy5fY29udGFpbmVyPXV0KFwiZGl2XCIsXCJtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtZ3JvdXBcIiksdGhpcy5fY2hlY2tHZW9sb2NhdGlvblN1cHBvcnQodGhpcy5fc2V0dXBVSSksdGhpcy5fY29udGFpbmVyfW9uUmVtb3ZlKCl7dm9pZCAwIT09dGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEJiYodGhpcy5vcHRpb25zLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2godGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEKSx0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQ9dm9pZCAwKSx0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyJiZ0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIucmVtb3ZlKCksdGhpcy5vcHRpb25zLnNob3dBY2N1cmFjeUNpcmNsZSYmdGhpcy5fYWNjdXJhY3lDaXJjbGVNYXJrZXImJnRoaXMuX2FjY3VyYWN5Q2lyY2xlTWFya2VyLnJlbW92ZSgpLHRoaXMuX2NvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl9tYXAub2ZmKFwiem9vbVwiLHRoaXMuX29uWm9vbSksdGhpcy5fbWFwPXZvaWQgMCx0aGlzLl9udW1iZXJPZldhdGNoZXM9MCx0aGlzLl9ub1RpbWVvdXQ9ITE7fV9jaGVja0dlb2xvY2F0aW9uU3VwcG9ydChlKXtjb25zdCBpPSh0PSEhdGhpcy5vcHRpb25zLmdlb2xvY2F0aW9uKT0+e3RoaXMuX3N1cHBvcnRzR2VvbG9jYXRpb249dCxlKHQpO307dm9pZCAwIT09dGhpcy5fc3VwcG9ydHNHZW9sb2NhdGlvbj9lKHRoaXMuX3N1cHBvcnRzR2VvbG9jYXRpb24pOnZvaWQgMCE9PXQubmF2aWdhdG9yLnBlcm1pc3Npb25zP3QubmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KHtuYW1lOlwiZ2VvbG9jYXRpb25cIn0pLnRoZW4oKGU9PmkoXCJkZW5pZWRcIiE9PWUuc3RhdGUpKSkuY2F0Y2goKCgpPT5pKCkpKTppKCk7fV9pc091dE9mTWFwTWF4Qm91bmRzKGUpe2NvbnN0IHQ9dGhpcy5fbWFwLmdldE1heEJvdW5kcygpLGk9ZS5jb29yZHM7cmV0dXJuICEhdCYmKGkubG9uZ2l0dWRlPHQuZ2V0V2VzdCgpfHxpLmxvbmdpdHVkZT50LmdldEVhc3QoKXx8aS5sYXRpdHVkZTx0LmdldFNvdXRoKCl8fGkubGF0aXR1ZGU+dC5nZXROb3J0aCgpKX1fc2V0RXJyb3JTdGF0ZSgpe3N3aXRjaCh0aGlzLl93YXRjaFN0YXRlKXtjYXNlXCJXQUlUSU5HX0FDVElWRVwiOnRoaXMuX3dhdGNoU3RhdGU9XCJBQ1RJVkVfRVJST1JcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvclwiKTticmVhaztjYXNlXCJBQ1RJVkVfTE9DS1wiOnRoaXMuX3dhdGNoU3RhdGU9XCJBQ1RJVkVfRVJST1JcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIik7YnJlYWs7Y2FzZVwiQkFDS0dST1VORFwiOnRoaXMuX3dhdGNoU3RhdGU9XCJCQUNLR1JPVU5EX0VSUk9SXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIik7fX1fb25TdWNjZXNzKGUpe2lmKHRoaXMuX21hcCl7aWYodGhpcy5faXNPdXRPZk1hcE1heEJvdW5kcyhlKSlyZXR1cm4gdGhpcy5fc2V0RXJyb3JTdGF0ZSgpLHRoaXMuZmlyZShuZXcgQXQoXCJvdXRvZm1heGJvdW5kc1wiLGUpKSx0aGlzLl91cGRhdGVNYXJrZXIoKSx2b2lkIHRoaXMuX2ZpbmlzaCgpO2lmKHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbilzd2l0Y2godGhpcy5fbGFzdEtub3duUG9zaXRpb249ZSx0aGlzLl93YXRjaFN0YXRlKXtjYXNlXCJXQUlUSU5HX0FDVElWRVwiOmNhc2VcIkFDVElWRV9MT0NLXCI6Y2FzZVwiQUNUSVZFX0VSUk9SXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkFDVElWRV9MT0NLXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpO2JyZWFrO2Nhc2VcIkJBQ0tHUk9VTkRcIjpjYXNlXCJCQUNLR1JPVU5EX0VSUk9SXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkJBQ0tHUk9VTkRcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZFwiKTt9dGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJlwiT0ZGXCIhPT10aGlzLl93YXRjaFN0YXRlJiZ0aGlzLl91cGRhdGVNYXJrZXIoZSksdGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uJiZcIkFDVElWRV9MT0NLXCIhPT10aGlzLl93YXRjaFN0YXRlfHx0aGlzLl91cGRhdGVDYW1lcmEoZSksdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJnRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5yZW1vdmVDbGFzc05hbWUoXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdC1zdGFsZVwiKSx0aGlzLmZpcmUobmV3IEF0KFwiZ2VvbG9jYXRlXCIsZSkpLHRoaXMuX2ZpbmlzaCgpO319X3VwZGF0ZUNhbWVyYShlKXtjb25zdCB0PW5ldyBOZChlLmNvb3Jkcy5sb25naXR1ZGUsZS5jb29yZHMubGF0aXR1ZGUpLGk9ZS5jb29yZHMuYWNjdXJhY3kscj1rKHtiZWFyaW5nOnRoaXMuX21hcC5nZXRCZWFyaW5nKCl9LHRoaXMub3B0aW9ucy5maXRCb3VuZHNPcHRpb25zKTt0aGlzLl9tYXAuZml0Qm91bmRzKHQudG9Cb3VuZHMoaSkscix7Z2VvbG9jYXRlU291cmNlOiEwfSk7fV91cGRhdGVNYXJrZXIoZSl7aWYoZSl7Y29uc3QgdD1uZXcgTmQoZS5jb29yZHMubG9uZ2l0dWRlLGUuY29vcmRzLmxhdGl0dWRlKTt0aGlzLl9hY2N1cmFjeUNpcmNsZU1hcmtlci5zZXRMbmdMYXQodCkuYWRkVG8odGhpcy5fbWFwKSx0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIuc2V0TG5nTGF0KHQpLmFkZFRvKHRoaXMuX21hcCksdGhpcy5fYWNjdXJhY3k9ZS5jb29yZHMuYWNjdXJhY3ksdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJnRoaXMub3B0aW9ucy5zaG93QWNjdXJhY3lDaXJjbGUmJnRoaXMuX3VwZGF0ZUNpcmNsZVJhZGl1cygpO31lbHNlIHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5yZW1vdmUoKSx0aGlzLl9hY2N1cmFjeUNpcmNsZU1hcmtlci5yZW1vdmUoKTt9X3VwZGF0ZUNpcmNsZVJhZGl1cygpe2NvbnN0IGU9dGhpcy5fbWFwLnRyYW5zZm9ybSx0PVpkKDEsZS5fY2VudGVyLmxhdCkqZS53b3JsZFNpemUsaT1NYXRoLmNlaWwoMip0aGlzLl9hY2N1cmFjeSp0KTt0aGlzLl9jaXJjbGVFbGVtZW50LnN0eWxlLndpZHRoPWAke2l9cHhgLHRoaXMuX2NpcmNsZUVsZW1lbnQuc3R5bGUuaGVpZ2h0PWAke2l9cHhgO31fb25ab29tKCl7dGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJnRoaXMub3B0aW9ucy5zaG93QWNjdXJhY3lDaXJjbGUmJnRoaXMuX3VwZGF0ZUNpcmNsZVJhZGl1cygpO31fdXBkYXRlTWFya2VyUm90YXRpb24oKXt0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXImJlwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLl9oZWFkaW5nPyh0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIuc2V0Um90YXRpb24odGhpcy5faGVhZGluZyksdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyLmFkZENsYXNzTmFtZShcIm1hcGJveGdsLXVzZXItbG9jYXRpb24tc2hvdy1oZWFkaW5nXCIpKToodGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyLnJlbW92ZUNsYXNzTmFtZShcIm1hcGJveGdsLXVzZXItbG9jYXRpb24tc2hvdy1oZWFkaW5nXCIpLHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5zZXRSb3RhdGlvbigwKSk7fV9vbkVycm9yKGUpe2lmKHRoaXMuX21hcCl7aWYodGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uKWlmKDE9PT1lLmNvZGUpe3RoaXMuX3dhdGNoU3RhdGU9XCJPRkZcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmVcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3JcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uZGlzYWJsZWQ9ITA7Y29uc3QgZT10aGlzLl9tYXAuX2dldFVJU3RyaW5nKFwiR2VvbG9jYXRlQ29udHJvbC5Mb2NhdGlvbk5vdEF2YWlsYWJsZVwiKTt0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLGUpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZCYmdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsZSksdm9pZCAwIT09dGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEJiZ0aGlzLl9jbGVhcldhdGNoKCk7fWVsc2Uge2lmKDM9PT1lLmNvZGUmJnRoaXMuX25vVGltZW91dClyZXR1cm47dGhpcy5fc2V0RXJyb3JTdGF0ZSgpO31cIk9GRlwiIT09dGhpcy5fd2F0Y2hTdGF0ZSYmdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJnRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5hZGRDbGFzc05hbWUoXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdC1zdGFsZVwiKSx0aGlzLmZpcmUobmV3IEF0KFwiZXJyb3JcIixlKSksdGhpcy5fZmluaXNoKCk7fX1fZmluaXNoKCl7dGhpcy5fdGltZW91dElkJiZjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dElkKSx0aGlzLl90aW1lb3V0SWQ9dm9pZCAwO31fc2V0dXBVSShlKXtpZih2b2lkIDAhPT10aGlzLl9tYXApe2lmKHRoaXMuX2NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwoZT0+ZS5wcmV2ZW50RGVmYXVsdCgpKSksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uPXV0KFwiYnV0dG9uXCIsXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZVwiLHRoaXMuX2NvbnRhaW5lciksdXQoXCJzcGFuXCIsXCJtYXBib3hnbC1jdHJsLWljb25cIix0aGlzLl9nZW9sb2NhdGVCdXR0b24pLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi50eXBlPVwiYnV0dG9uXCIsITE9PT1lKXtXKFwiR2VvbG9jYXRpb24gc3VwcG9ydCBpcyBub3QgYXZhaWxhYmxlIHNvIHRoZSBHZW9sb2NhdGVDb250cm9sIHdpbGwgYmUgZGlzYWJsZWQuXCIpO2NvbnN0IGU9dGhpcy5fbWFwLl9nZXRVSVN0cmluZyhcIkdlb2xvY2F0ZUNvbnRyb2wuTG9jYXRpb25Ob3RBdmFpbGFibGVcIik7dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmRpc2FibGVkPSEwLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsZSksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkJiZ0aGlzLl9nZW9sb2NhdGVCdXR0b24uZmlyc3RFbGVtZW50Q2hpbGQuc2V0QXR0cmlidXRlKFwidGl0bGVcIixlKTt9ZWxzZSB7Y29uc3QgZT10aGlzLl9tYXAuX2dldFVJU3RyaW5nKFwiR2VvbG9jYXRlQ29udHJvbC5GaW5kTXlMb2NhdGlvblwiKTt0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLGUpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZCYmdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsZSk7fXRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbiYmKHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIixcImZhbHNlXCIpLHRoaXMuX3dhdGNoU3RhdGU9XCJPRkZcIiksdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJih0aGlzLl9kb3RFbGVtZW50PXV0KFwiZGl2XCIsXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uXCIpLHRoaXMuX2RvdEVsZW1lbnQuYXBwZW5kQ2hpbGQodXQoXCJkaXZcIixcIm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90XCIpKSx0aGlzLl9kb3RFbGVtZW50LmFwcGVuZENoaWxkKHV0KFwiZGl2XCIsXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLWhlYWRpbmdcIikpLHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlcj1uZXcgS1Moe2VsZW1lbnQ6dGhpcy5fZG90RWxlbWVudCxyb3RhdGlvbkFsaWdubWVudDpcIm1hcFwiLHBpdGNoQWxpZ25tZW50OlwibWFwXCJ9KSx0aGlzLl9jaXJjbGVFbGVtZW50PXV0KFwiZGl2XCIsXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLWFjY3VyYWN5LWNpcmNsZVwiKSx0aGlzLl9hY2N1cmFjeUNpcmNsZU1hcmtlcj1uZXcgS1Moe2VsZW1lbnQ6dGhpcy5fY2lyY2xlRWxlbWVudCxwaXRjaEFsaWdubWVudDpcIm1hcFwifSksdGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uJiYodGhpcy5fd2F0Y2hTdGF0ZT1cIk9GRlwiKSx0aGlzLl9tYXAub24oXCJ6b29tXCIsdGhpcy5fb25ab29tKSksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMudHJpZ2dlci5iaW5kKHRoaXMpKSx0aGlzLl9zZXR1cD0hMCx0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24mJnRoaXMuX21hcC5vbihcIm1vdmVzdGFydFwiLChlPT57ZS5nZW9sb2NhdGVTb3VyY2V8fFwiQUNUSVZFX0xPQ0tcIiE9PXRoaXMuX3dhdGNoU3RhdGV8fGUub3JpZ2luYWxFdmVudCYmXCJyZXNpemVcIj09PWUub3JpZ2luYWxFdmVudC50eXBlfHwodGhpcy5fd2F0Y2hTdGF0ZT1cIkJBQ0tHUk9VTkRcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmVcIiksdGhpcy5maXJlKG5ldyBBdChcInRyYWNrdXNlcmxvY2F0aW9uZW5kXCIpKSk7fSkpO319X29uRGV2aWNlT3JpZW50YXRpb24oZSl7dGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyJiYoZS53ZWJraXRDb21wYXNzSGVhZGluZz90aGlzLl9oZWFkaW5nPWUud2Via2l0Q29tcGFzc0hlYWRpbmc6ITA9PT1lLmFic29sdXRlJiYodGhpcy5faGVhZGluZz0tMSplLmFscGhhKSx0aGlzLl91cGRhdGVNYXJrZXJSb3RhdGlvblRocm90dGxlZCgpKTt9dHJpZ2dlcigpe2lmKCF0aGlzLl9zZXR1cClyZXR1cm4gVyhcIkdlb2xvY2F0ZSBjb250cm9sIHRyaWdnZXJlZCBiZWZvcmUgYWRkZWQgdG8gYSBtYXBcIiksITE7aWYodGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uKXtzd2l0Y2godGhpcy5fd2F0Y2hTdGF0ZSl7Y2FzZVwiT0ZGXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIldBSVRJTkdfQUNUSVZFXCIsdGhpcy5maXJlKG5ldyBBdChcInRyYWNrdXNlcmxvY2F0aW9uc3RhcnRcIikpO2JyZWFrO2Nhc2VcIldBSVRJTkdfQUNUSVZFXCI6Y2FzZVwiQUNUSVZFX0xPQ0tcIjpjYXNlXCJBQ1RJVkVfRVJST1JcIjpjYXNlXCJCQUNLR1JPVU5EX0VSUk9SXCI6dGhpcy5fbnVtYmVyT2ZXYXRjaGVzLS0sdGhpcy5fbm9UaW1lb3V0PSExLHRoaXMuX3dhdGNoU3RhdGU9XCJPRkZcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmVcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3JcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvclwiKSx0aGlzLmZpcmUobmV3IEF0KFwidHJhY2t1c2VybG9jYXRpb25lbmRcIikpO2JyZWFrO2Nhc2VcIkJBQ0tHUk9VTkRcIjp0aGlzLl93YXRjaFN0YXRlPVwiQUNUSVZFX0xPQ0tcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIiksdGhpcy5fbGFzdEtub3duUG9zaXRpb24mJnRoaXMuX3VwZGF0ZUNhbWVyYSh0aGlzLl9sYXN0S25vd25Qb3NpdGlvbiksdGhpcy5maXJlKG5ldyBBdChcInRyYWNrdXNlcmxvY2F0aW9uc3RhcnRcIikpO31zd2l0Y2godGhpcy5fd2F0Y2hTdGF0ZSl7Y2FzZVwiV0FJVElOR19BQ1RJVkVcIjp0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmVcIik7YnJlYWs7Y2FzZVwiQUNUSVZFX0xPQ0tcIjp0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKTticmVhaztjYXNlXCJBQ1RJVkVfRVJST1JcIjp0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3JcIik7YnJlYWs7Y2FzZVwiQkFDS0dST1VORFwiOnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZFwiKTticmVhaztjYXNlXCJCQUNLR1JPVU5EX0VSUk9SXCI6dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvclwiKTt9aWYoXCJPRkZcIj09PXRoaXMuX3dhdGNoU3RhdGUmJnZvaWQgMCE9PXRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCl0aGlzLl9jbGVhcldhdGNoKCk7ZWxzZSBpZih2b2lkIDA9PT10aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQpe2xldCBlO3RoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIsXCJ0cnVlXCIpLHRoaXMuX251bWJlck9mV2F0Y2hlcysrLHRoaXMuX251bWJlck9mV2F0Y2hlcz4xPyhlPXttYXhpbXVtQWdlOjZlNSx0aW1lb3V0OjB9LHRoaXMuX25vVGltZW91dD0hMCk6KGU9dGhpcy5vcHRpb25zLnBvc2l0aW9uT3B0aW9ucyx0aGlzLl9ub1RpbWVvdXQ9ITEpLHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRD10aGlzLm9wdGlvbnMuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbih0aGlzLl9vblN1Y2Nlc3MsdGhpcy5fb25FcnJvcixlKSx0aGlzLm9wdGlvbnMuc2hvd1VzZXJIZWFkaW5nJiZ0aGlzLl9hZGREZXZpY2VPcmllbnRhdGlvbkxpc3RlbmVyKCk7fX1lbHNlIHRoaXMub3B0aW9ucy5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24odGhpcy5fb25TdWNjZXNzLHRoaXMuX29uRXJyb3IsdGhpcy5vcHRpb25zLnBvc2l0aW9uT3B0aW9ucyksdGhpcy5fdGltZW91dElkPXNldFRpbWVvdXQodGhpcy5fZmluaXNoLDFlNCk7cmV0dXJuICEwfV9hZGREZXZpY2VPcmllbnRhdGlvbkxpc3RlbmVyKCl7Y29uc3QgZT0oKT0+e3QuYWRkRXZlbnRMaXN0ZW5lcihcIm9uZGV2aWNlb3JpZW50YXRpb25hYnNvbHV0ZVwiaW4gdD9cImRldmljZW9yaWVudGF0aW9uYWJzb2x1dGVcIjpcImRldmljZW9yaWVudGF0aW9uXCIsdGhpcy5fb25EZXZpY2VPcmllbnRhdGlvbik7fTt2b2lkIDAhPT10LkRldmljZU1vdGlvbkV2ZW50JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LkRldmljZU1vdGlvbkV2ZW50LnJlcXVlc3RQZXJtaXNzaW9uP0RldmljZU9yaWVudGF0aW9uRXZlbnQucmVxdWVzdFBlcm1pc3Npb24oKS50aGVuKCh0PT57XCJncmFudGVkXCI9PT10JiZlKCk7fSkpLmNhdGNoKGNvbnNvbGUuZXJyb3IpOmUoKTt9X2NsZWFyV2F0Y2goKXt0aGlzLm9wdGlvbnMuZ2VvbG9jYXRpb24uY2xlYXJXYXRjaCh0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRldmljZW9yaWVudGF0aW9uXCIsdGhpcy5fb25EZXZpY2VPcmllbnRhdGlvbiksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGV2aWNlb3JpZW50YXRpb25hYnNvbHV0ZVwiLHRoaXMuX29uRGV2aWNlT3JpZW50YXRpb24pLHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRD12b2lkIDAsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIixcImZhbHNlXCIpLHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLl91cGRhdGVNYXJrZXIobnVsbCk7fX0sQXR0cmlidXRpb25Db250cm9sOiRTLFNjYWxlQ29udHJvbDpjbGFzc3tjb25zdHJ1Y3RvcihlKXt0aGlzLm9wdGlvbnM9ayh7fSxhSSxlKSx0aGlzLl9pc051bWJlckZvcm1hdFN1cHBvcnRlZD1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KFwiZW5cIix7c3R5bGU6XCJ1bml0XCIsdW5pdERpc3BsYXk6XCJzaG9ydFwiLHVuaXQ6XCJtZXRlclwifSksITB9Y2F0Y2goZSl7cmV0dXJuICExfX0oKSxqKFtcIl91cGRhdGVcIixcIl9zZXRTY2FsZVwiLFwic2V0VW5pdFwiXSx0aGlzKTt9Z2V0RGVmYXVsdFBvc2l0aW9uKCl7cmV0dXJuIFwiYm90dG9tLWxlZnRcIn1fdXBkYXRlKCl7Y29uc3QgZT10aGlzLm9wdGlvbnMubWF4V2lkdGh8fDEwMCx0PXRoaXMuX21hcCxpPXQuX2NvbnRhaW5lckhlaWdodC8yLHI9dC5fY29udGFpbmVyV2lkdGgvMi1lLzIsbj10LnVucHJvamVjdChbcixpXSksbz10LnVucHJvamVjdChbcitlLGldKSxzPW4uZGlzdGFuY2VUbyhvKTtpZihcImltcGVyaWFsXCI9PT10aGlzLm9wdGlvbnMudW5pdCl7Y29uc3QgdD0zLjI4MDgqczt0PjUyODA/dGhpcy5fc2V0U2NhbGUoZSx0LzUyODAsXCJtaWxlXCIpOnRoaXMuX3NldFNjYWxlKGUsdCxcImZvb3RcIik7fWVsc2UgXCJuYXV0aWNhbFwiPT09dGhpcy5vcHRpb25zLnVuaXQ/dGhpcy5fc2V0U2NhbGUoZSxzLzE4NTIsXCJuYXV0aWNhbC1taWxlXCIpOnM+PTFlMz90aGlzLl9zZXRTY2FsZShlLHMvMWUzLFwia2lsb21ldGVyXCIpOnRoaXMuX3NldFNjYWxlKGUscyxcIm1ldGVyXCIpO31fc2V0U2NhbGUoZSx0LGkpe3RoaXMuX21hcC5fcmVxdWVzdERvbVRhc2soKCgpPT57Y29uc3Qgcj1mdW5jdGlvbihlKXtjb25zdCB0PU1hdGgucG93KDEwLGAke01hdGguZmxvb3IoZSl9YC5sZW5ndGgtMSk7bGV0IGk9ZS90O3JldHVybiBpPWk+PTEwPzEwOmk+PTU/NTppPj0zPzM6aT49Mj8yOmk+PTE/MTpmdW5jdGlvbihlKXtjb25zdCB0PU1hdGgucG93KDEwLE1hdGguY2VpbCgtTWF0aC5sb2coZSkvTWF0aC5MTjEwKSk7cmV0dXJuIE1hdGgucm91bmQoZSp0KS90fShpKSx0Kml9KHQpLG49ci90O3RoaXMuX2NvbnRhaW5lci5pbm5lckhUTUw9dGhpcy5faXNOdW1iZXJGb3JtYXRTdXBwb3J0ZWQmJlwibmF1dGljYWwtbWlsZVwiIT09aT9uZXcgSW50bC5OdW1iZXJGb3JtYXQodGhpcy5fbGFuZ3VhZ2Use3N0eWxlOlwidW5pdFwiLHVuaXREaXNwbGF5Olwic2hvcnRcIix1bml0Oml9KS5mb3JtYXQocik6YCR7cn0mbmJzcDske2xJW2ldfWAsdGhpcy5fY29udGFpbmVyLnN0eWxlLndpZHRoPWUqbitcInB4XCI7fSkpO31vbkFkZChlKXtyZXR1cm4gdGhpcy5fbWFwPWUsdGhpcy5fbGFuZ3VhZ2U9ZS5nZXRMYW5ndWFnZSgpLHRoaXMuX2NvbnRhaW5lcj11dChcImRpdlwiLFwibWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLXNjYWxlXCIsZS5nZXRDb250YWluZXIoKSksdGhpcy5fY29udGFpbmVyLmRpcj1cImF1dG9cIix0aGlzLl9tYXAub24oXCJtb3ZlXCIsdGhpcy5fdXBkYXRlKSx0aGlzLl91cGRhdGUoKSx0aGlzLl9jb250YWluZXJ9b25SZW1vdmUoKXt0aGlzLl9jb250YWluZXIucmVtb3ZlKCksdGhpcy5fbWFwLm9mZihcIm1vdmVcIix0aGlzLl91cGRhdGUpLHRoaXMuX21hcD12b2lkIDA7fV9zZXRMYW5ndWFnZShlKXt0aGlzLl9sYW5ndWFnZT1lLHRoaXMuX3VwZGF0ZSgpO31zZXRVbml0KGUpe3RoaXMub3B0aW9ucy51bml0PWUsdGhpcy5fdXBkYXRlKCk7fX0sRnVsbHNjcmVlbkNvbnRyb2w6Y2xhc3N7Y29uc3RydWN0b3IoZSl7dGhpcy5fZnVsbHNjcmVlbj0hMSxlJiZlLmNvbnRhaW5lciYmKGUuY29udGFpbmVyIGluc3RhbmNlb2YgdC5IVE1MRWxlbWVudD90aGlzLl9jb250YWluZXI9ZS5jb250YWluZXI6VyhcIkZ1bGwgc2NyZWVuIGNvbnRyb2wgJ2NvbnRhaW5lcicgbXVzdCBiZSBhIERPTSBlbGVtZW50LlwiKSksaihbXCJfb25DbGlja0Z1bGxzY3JlZW5cIixcIl9jaGFuZ2VJY29uXCJdLHRoaXMpLFwib25mdWxsc2NyZWVuY2hhbmdlXCJpbiB0LmRvY3VtZW50P3RoaXMuX2Z1bGxzY3JlZW5jaGFuZ2U9XCJmdWxsc2NyZWVuY2hhbmdlXCI6XCJvbndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcImluIHQuZG9jdW1lbnQmJih0aGlzLl9mdWxsc2NyZWVuY2hhbmdlPVwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiKTt9b25BZGQoZSl7cmV0dXJuIHRoaXMuX21hcD1lLHRoaXMuX2NvbnRhaW5lcnx8KHRoaXMuX2NvbnRhaW5lcj10aGlzLl9tYXAuZ2V0Q29udGFpbmVyKCkpLHRoaXMuX2NvbnRyb2xDb250YWluZXI9dXQoXCJkaXZcIixcIm1hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1ncm91cFwiKSx0aGlzLl9jaGVja0Z1bGxzY3JlZW5TdXBwb3J0KCk/dGhpcy5fc2V0dXBVSSgpOih0aGlzLl9jb250cm9sQ29udGFpbmVyLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsVyhcIlRoaXMgZGV2aWNlIGRvZXMgbm90IHN1cHBvcnQgZnVsbHNjcmVlbiBtb2RlLlwiKSksdGhpcy5fY29udHJvbENvbnRhaW5lcn1vblJlbW92ZSgpe3RoaXMuX2NvbnRyb2xDb250YWluZXIucmVtb3ZlKCksdGhpcy5fbWFwPW51bGwsdC5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2Z1bGxzY3JlZW5jaGFuZ2UsdGhpcy5fY2hhbmdlSWNvbik7fV9jaGVja0Z1bGxzY3JlZW5TdXBwb3J0KCl7cmV0dXJuICEoIXQuZG9jdW1lbnQuZnVsbHNjcmVlbkVuYWJsZWQmJiF0LmRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbmFibGVkKX1fc2V0dXBVSSgpe2NvbnN0IGU9dGhpcy5fZnVsbHNjcmVlbkJ1dHRvbj11dChcImJ1dHRvblwiLFwibWFwYm94Z2wtY3RybC1mdWxsc2NyZWVuXCIsdGhpcy5fY29udHJvbENvbnRhaW5lcik7dXQoXCJzcGFuXCIsXCJtYXBib3hnbC1jdHJsLWljb25cIixlKS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSxlLnR5cGU9XCJidXR0b25cIix0aGlzLl91cGRhdGVUaXRsZSgpLHRoaXMuX2Z1bGxzY3JlZW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5fb25DbGlja0Z1bGxzY3JlZW4pLHQuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9mdWxsc2NyZWVuY2hhbmdlLHRoaXMuX2NoYW5nZUljb24pO31fdXBkYXRlVGl0bGUoKXtjb25zdCBlPXRoaXMuX2dldFRpdGxlKCk7dGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsZSksdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZCYmdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLGUpO31fZ2V0VGl0bGUoKXtyZXR1cm4gdGhpcy5fbWFwLl9nZXRVSVN0cmluZyh0aGlzLl9pc0Z1bGxzY3JlZW4oKT9cIkZ1bGxzY3JlZW5Db250cm9sLkV4aXRcIjpcIkZ1bGxzY3JlZW5Db250cm9sLkVudGVyXCIpfV9pc0Z1bGxzY3JlZW4oKXtyZXR1cm4gdGhpcy5fZnVsbHNjcmVlbn1fY2hhbmdlSWNvbigpeyh0LmRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50fHx0LmRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50KT09PXRoaXMuX2NvbnRhaW5lciE9PXRoaXMuX2Z1bGxzY3JlZW4mJih0aGlzLl9mdWxsc2NyZWVuPSF0aGlzLl9mdWxsc2NyZWVuLHRoaXMuX2Z1bGxzY3JlZW5CdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcIm1hcGJveGdsLWN0cmwtc2hyaW5rXCIpLHRoaXMuX2Z1bGxzY3JlZW5CdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcIm1hcGJveGdsLWN0cmwtZnVsbHNjcmVlblwiKSx0aGlzLl91cGRhdGVUaXRsZSgpKTt9X29uQ2xpY2tGdWxsc2NyZWVuKCl7dGhpcy5faXNGdWxsc2NyZWVuKCk/dC5kb2N1bWVudC5leGl0RnVsbHNjcmVlbj90LmRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCk6dC5kb2N1bWVudC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuJiZ0LmRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4oKTp0aGlzLl9jb250YWluZXIucmVxdWVzdEZ1bGxzY3JlZW4/dGhpcy5fY29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuKCk6dGhpcy5fY29udGFpbmVyLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuJiZ0aGlzLl9jb250YWluZXIud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oKTt9fSxQb3B1cDpjbGFzcyBleHRlbmRzIEl0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5vcHRpb25zPWsoT2JqZWN0LmNyZWF0ZShKUyksZSksaihbXCJfdXBkYXRlXCIsXCJfb25DbG9zZVwiLFwicmVtb3ZlXCIsXCJfb25Nb3VzZUV2ZW50XCJdLHRoaXMpLHRoaXMuX2NsYXNzTGlzdD1uZXcgU2V0KGUmJmUuY2xhc3NOYW1lP2UuY2xhc3NOYW1lLnRyaW0oKS5zcGxpdCgvXFxzKy8pOltdKTt9YWRkVG8oZSl7cmV0dXJuIHRoaXMuX21hcCYmdGhpcy5yZW1vdmUoKSx0aGlzLl9tYXA9ZSx0aGlzLm9wdGlvbnMuY2xvc2VPbkNsaWNrJiZlLm9uKFwicHJlY2xpY2tcIix0aGlzLl9vbkNsb3NlKSx0aGlzLm9wdGlvbnMuY2xvc2VPbk1vdmUmJmUub24oXCJtb3ZlXCIsdGhpcy5fb25DbG9zZSksZS5vbihcInJlbW92ZVwiLHRoaXMucmVtb3ZlKSx0aGlzLl91cGRhdGUoKSxlLl9hZGRQb3B1cCh0aGlzKSx0aGlzLl9mb2N1c0ZpcnN0RWxlbWVudCgpLHRoaXMuX3RyYWNrUG9pbnRlcj8oZS5vbihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW91c2VFdmVudCksZS5vbihcIm1vdXNldXBcIix0aGlzLl9vbk1vdXNlRXZlbnQpLGUuX2NhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdHJhY2stcG9pbnRlclwiKSk6ZS5vbihcIm1vdmVcIix0aGlzLl91cGRhdGUpLHRoaXMuZmlyZShuZXcgQXQoXCJvcGVuXCIpKSx0aGlzfWlzT3Blbigpe3JldHVybiAhIXRoaXMuX21hcH1yZW1vdmUoKXt0aGlzLl9jb250ZW50JiZ0aGlzLl9jb250ZW50LnJlbW92ZSgpLHRoaXMuX2NvbnRhaW5lciYmKHRoaXMuX2NvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl9jb250YWluZXI9dm9pZCAwKTtjb25zdCBlPXRoaXMuX21hcDtyZXR1cm4gZSYmKGUub2ZmKFwibW92ZVwiLHRoaXMuX3VwZGF0ZSksZS5vZmYoXCJtb3ZlXCIsdGhpcy5fb25DbG9zZSksZS5vZmYoXCJwcmVjbGlja1wiLHRoaXMuX29uQ2xvc2UpLGUub2ZmKFwiY2xpY2tcIix0aGlzLl9vbkNsb3NlKSxlLm9mZihcInJlbW92ZVwiLHRoaXMucmVtb3ZlKSxlLm9mZihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW91c2VFdmVudCksZS5vZmYoXCJtb3VzZXVwXCIsdGhpcy5fb25Nb3VzZUV2ZW50KSxlLm9mZihcImRyYWdcIix0aGlzLl9vbk1vdXNlRXZlbnQpLGUuX2NhbnZhc0NvbnRhaW5lciYmZS5fY2FudmFzQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10cmFjay1wb2ludGVyXCIpLGUuX3JlbW92ZVBvcHVwKHRoaXMpLHRoaXMuX21hcD12b2lkIDApLHRoaXMuZmlyZShuZXcgQXQoXCJjbG9zZVwiKSksdGhpc31nZXRMbmdMYXQoKXtyZXR1cm4gdGhpcy5fbG5nTGF0fXNldExuZ0xhdChlKXt0aGlzLl9sbmdMYXQ9TmQuY29udmVydChlKSx0aGlzLl9wb3M9bnVsbCx0aGlzLl90cmFja1BvaW50ZXI9ITEsdGhpcy5fdXBkYXRlKCk7Y29uc3QgdD10aGlzLl9tYXA7cmV0dXJuIHQmJih0Lm9uKFwibW92ZVwiLHRoaXMuX3VwZGF0ZSksdC5vZmYoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdXNlRXZlbnQpLHQuX2NhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtdHJhY2stcG9pbnRlclwiKSksdGhpc310cmFja1BvaW50ZXIoKXt0aGlzLl90cmFja1BvaW50ZXI9ITAsdGhpcy5fcG9zPW51bGwsdGhpcy5fdXBkYXRlKCk7Y29uc3QgZT10aGlzLl9tYXA7cmV0dXJuIGUmJihlLm9mZihcIm1vdmVcIix0aGlzLl91cGRhdGUpLGUub24oXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdXNlRXZlbnQpLGUub24oXCJkcmFnXCIsdGhpcy5fb25Nb3VzZUV2ZW50KSxlLl9jYW52YXNDb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLXRyYWNrLXBvaW50ZXJcIikpLHRoaXN9Z2V0RWxlbWVudCgpe3JldHVybiB0aGlzLl9jb250YWluZXJ9c2V0VGV4dChlKXtyZXR1cm4gdGhpcy5zZXRET01Db250ZW50KHQuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZSkpfXNldEhUTUwoZSl7Y29uc3QgaT10LmRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxyPXQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJvZHlcIik7bGV0IG47Zm9yKHIuaW5uZXJIVE1MPWU7bj1yLmZpcnN0Q2hpbGQsbjspaS5hcHBlbmRDaGlsZChuKTtyZXR1cm4gdGhpcy5zZXRET01Db250ZW50KGkpfWdldE1heFdpZHRoKCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lciYmdGhpcy5fY29udGFpbmVyLnN0eWxlLm1heFdpZHRofXNldE1heFdpZHRoKGUpe3JldHVybiB0aGlzLm9wdGlvbnMubWF4V2lkdGg9ZSx0aGlzLl91cGRhdGUoKSx0aGlzfXNldERPTUNvbnRlbnQoZSl7bGV0IHQ9dGhpcy5fY29udGVudDtpZih0KWZvcig7dC5oYXNDaGlsZE5vZGVzKCk7KXQuZmlyc3RDaGlsZCYmdC5yZW1vdmVDaGlsZCh0LmZpcnN0Q2hpbGQpO2Vsc2UgdD10aGlzLl9jb250ZW50PXV0KFwiZGl2XCIsXCJtYXBib3hnbC1wb3B1cC1jb250ZW50XCIsdGhpcy5fY29udGFpbmVyfHx2b2lkIDApO2lmKHQuYXBwZW5kQ2hpbGQoZSksdGhpcy5vcHRpb25zLmNsb3NlQnV0dG9uKXtjb25zdCBlPXRoaXMuX2Nsb3NlQnV0dG9uPXV0KFwiYnV0dG9uXCIsXCJtYXBib3hnbC1wb3B1cC1jbG9zZS1idXR0b25cIix0KTtlLnR5cGU9XCJidXR0b25cIixlLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixcIkNsb3NlIHBvcHVwXCIpLGUuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIiksZS5pbm5lckhUTUw9XCImIzIxNTtcIixlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuX29uQ2xvc2UpO31yZXR1cm4gdGhpcy5fdXBkYXRlKCksdGhpcy5fZm9jdXNGaXJzdEVsZW1lbnQoKSx0aGlzfWFkZENsYXNzTmFtZShlKXtyZXR1cm4gdGhpcy5fY2xhc3NMaXN0LmFkZChlKSx0aGlzLl91cGRhdGVDbGFzc0xpc3QoKSx0aGlzfXJlbW92ZUNsYXNzTmFtZShlKXtyZXR1cm4gdGhpcy5fY2xhc3NMaXN0LmRlbGV0ZShlKSx0aGlzLl91cGRhdGVDbGFzc0xpc3QoKSx0aGlzfXNldE9mZnNldChlKXtyZXR1cm4gdGhpcy5vcHRpb25zLm9mZnNldD1lLHRoaXMuX3VwZGF0ZSgpLHRoaXN9dG9nZ2xlQ2xhc3NOYW1lKGUpe2xldCB0O3JldHVybiB0aGlzLl9jbGFzc0xpc3QuZGVsZXRlKGUpP3Q9ITE6KHRoaXMuX2NsYXNzTGlzdC5hZGQoZSksdD0hMCksdGhpcy5fdXBkYXRlQ2xhc3NMaXN0KCksdH1fb25Nb3VzZUV2ZW50KGUpe3RoaXMuX3VwZGF0ZShlLnBvaW50KTt9X2dldEFuY2hvcihlKXtpZih0aGlzLm9wdGlvbnMuYW5jaG9yKXJldHVybiB0aGlzLm9wdGlvbnMuYW5jaG9yO2NvbnN0IHQ9dGhpcy5fbWFwLGk9dGhpcy5fY29udGFpbmVyLHI9dGhpcy5fcG9zO2lmKCF0fHwhaXx8IXIpcmV0dXJuIFwiYm90dG9tXCI7Y29uc3Qgbj1pLm9mZnNldFdpZHRoLG89aS5vZmZzZXRIZWlnaHQscz1yLng8bi8yLGE9ci54PnQudHJhbnNmb3JtLndpZHRoLW4vMjtpZihyLnkrZTxvKXJldHVybiBzP1widG9wLWxlZnRcIjphP1widG9wLXJpZ2h0XCI6XCJ0b3BcIjtpZihyLnk+dC50cmFuc2Zvcm0uaGVpZ2h0LW8pe2lmKHMpcmV0dXJuIFwiYm90dG9tLWxlZnRcIjtpZihhKXJldHVybiBcImJvdHRvbS1yaWdodFwifXJldHVybiBzP1wibGVmdFwiOmE/XCJyaWdodFwiOlwiYm90dG9tXCJ9X3VwZGF0ZUNsYXNzTGlzdCgpe2NvbnN0IGU9dGhpcy5fY29udGFpbmVyO2lmKCFlKXJldHVybjtjb25zdCB0PVsuLi50aGlzLl9jbGFzc0xpc3RdO3QucHVzaChcIm1hcGJveGdsLXBvcHVwXCIpLHRoaXMuX2FuY2hvciYmdC5wdXNoKGBtYXBib3hnbC1wb3B1cC1hbmNob3ItJHt0aGlzLl9hbmNob3J9YCksdGhpcy5fdHJhY2tQb2ludGVyJiZ0LnB1c2goXCJtYXBib3hnbC1wb3B1cC10cmFjay1wb2ludGVyXCIpLGUuY2xhc3NOYW1lPXQuam9pbihcIiBcIik7fV91cGRhdGUoZSl7Y29uc3QgdD10aGlzLl9tYXAsaT10aGlzLl9jb250ZW50O2lmKCF0fHwhdGhpcy5fbG5nTGF0JiYhdGhpcy5fdHJhY2tQb2ludGVyfHwhaSlyZXR1cm47bGV0IHI9dGhpcy5fY29udGFpbmVyO2lmKHJ8fChyPXRoaXMuX2NvbnRhaW5lcj11dChcImRpdlwiLFwibWFwYm94Z2wtcG9wdXBcIix0LmdldENvbnRhaW5lcigpKSx0aGlzLl90aXA9dXQoXCJkaXZcIixcIm1hcGJveGdsLXBvcHVwLXRpcFwiLHIpLHIuYXBwZW5kQ2hpbGQoaSkpLHRoaXMub3B0aW9ucy5tYXhXaWR0aCYmci5zdHlsZS5tYXhXaWR0aCE9PXRoaXMub3B0aW9ucy5tYXhXaWR0aCYmKHIuc3R5bGUubWF4V2lkdGg9dGhpcy5vcHRpb25zLm1heFdpZHRoKSx0LnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllcyYmIXRoaXMuX3RyYWNrUG9pbnRlciYmKHRoaXMuX2xuZ0xhdD1YUyh0aGlzLl9sbmdMYXQsdGhpcy5fcG9zLHQudHJhbnNmb3JtKSksIXRoaXMuX3RyYWNrUG9pbnRlcnx8ZSl7Y29uc3QgaT10aGlzLl9wb3M9dGhpcy5fdHJhY2tQb2ludGVyJiZlP2U6dC5wcm9qZWN0KHRoaXMuX2xuZ0xhdCkscj1lSSh0aGlzLm9wdGlvbnMub2Zmc2V0KSxuPXRoaXMuX2FuY2hvcj10aGlzLl9nZXRBbmNob3Ioci55KSxvPWVJKHRoaXMub3B0aW9ucy5vZmZzZXQsbikscz1pLmFkZChvKS5yb3VuZCgpO3QuX3JlcXVlc3REb21UYXNrKCgoKT0+e3RoaXMuX2NvbnRhaW5lciYmbiYmKHRoaXMuX2NvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm09YCR7WVNbbl19IHRyYW5zbGF0ZSgke3MueH1weCwke3MueX1weClgKTt9KSk7fWlmKCF0aGlzLl9tYXJrZXImJnQuX3Nob3dpbmdHbG9iZSgpKXtjb25zdCBlPURkKHQudHJhbnNmb3JtLHRoaXMuX2xuZ0xhdCk/MDoxO3RoaXMuX3NldE9wYWNpdHkoZSk7fXRoaXMuX3VwZGF0ZUNsYXNzTGlzdCgpO31fZm9jdXNGaXJzdEVsZW1lbnQoKXtpZighdGhpcy5vcHRpb25zLmZvY3VzQWZ0ZXJPcGVufHwhdGhpcy5fY29udGFpbmVyKXJldHVybjtjb25zdCBlPXRoaXMuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFFTKTtlJiZlLmZvY3VzKCk7fV9vbkNsb3NlKCl7dGhpcy5yZW1vdmUoKTt9X3NldE9wYWNpdHkoZSl7dGhpcy5fY29udGFpbmVyJiYodGhpcy5fY29udGFpbmVyLnN0eWxlLm9wYWNpdHk9YCR7ZX1gKSx0aGlzLl9jb250ZW50JiYodGhpcy5fY29udGVudC5zdHlsZS5wb2ludGVyRXZlbnRzPWU/XCJhdXRvXCI6XCJub25lXCIpO319LE1hcmtlcjpLUyxTdHlsZTokQSxMbmdMYXQ6TmQsTG5nTGF0Qm91bmRzOlFsLFBvaW50OnksTWVyY2F0b3JDb29yZGluYXRlOmVwLEZyZWVDYW1lcmFPcHRpb25zOlZ4LEV2ZW50ZWQ6SXQsY29uZmlnOm4scHJld2FybTpmdW5jdGlvbigpe1V3KCkuYWNxdWlyZShCdyk7fSxjbGVhclByZXdhcm1lZFJlc291cmNlczpmdW5jdGlvbigpe2NvbnN0IGU9Tnc7ZSYmKGUuaXNQcmVsb2FkZWQoKSYmMT09PWUubnVtQWN0aXZlKCk/KGUucmVsZWFzZShCdyksTnc9bnVsbCk6Y29uc29sZS53YXJuKFwiQ291bGQgbm90IGNsZWFyIFdlYldvcmtlcnMgc2luY2UgdGhlcmUgYXJlIGFjdGl2ZSBNYXAgaW5zdGFuY2VzIHRoYXQgc3RpbGwgcmVmZXJlbmNlIGl0LiBUaGUgcHJlLXdhcm1lZCBXZWJXb3JrZXIgcG9vbCBjYW4gb25seSBiZSBjbGVhcmVkIHdoZW4gYWxsIG1hcCBpbnN0YW5jZXMgaGF2ZSBiZWVuIHJlbW92ZWQgd2l0aCBtYXAucmVtb3ZlKClcIikpO30sZ2V0IGFjY2Vzc1Rva2VuKCl7cmV0dXJuIG4uQUNDRVNTX1RPS0VOfSxzZXQgYWNjZXNzVG9rZW4oZSl7bi5BQ0NFU1NfVE9LRU49ZTt9LGdldCBiYXNlQXBpVXJsKCl7cmV0dXJuIG4uQVBJX1VSTH0sc2V0IGJhc2VBcGlVcmwoZSl7bi5BUElfVVJMPWU7fSxnZXQgd29ya2VyQ291bnQoKXtyZXR1cm4gRncud29ya2VyQ291bnR9LHNldCB3b3JrZXJDb3VudChlKXtGdy53b3JrZXJDb3VudD1lO30sZ2V0IG1heFBhcmFsbGVsSW1hZ2VSZXF1ZXN0cygpe3JldHVybiBuLk1BWF9QQVJBTExFTF9JTUFHRV9SRVFVRVNUU30sc2V0IG1heFBhcmFsbGVsSW1hZ2VSZXF1ZXN0cyhlKXtuLk1BWF9QQVJBTExFTF9JTUFHRV9SRVFVRVNUUz1lO30sY2xlYXJTdG9yYWdlKGUpeyFmdW5jdGlvbihlKXtpZighcGUoKSlyZXR1cm47Y29uc3QgaT10LmNhY2hlcy5kZWxldGUobGUpO2UmJmkuY2F0Y2goZSkudGhlbigoKCk9PmUoKSkpO30oZSk7fSx3b3JrZXJVcmw6XCJcIix3b3JrZXJDbGFzczpudWxsLGdldCBkcmFjb1VybCgpe3JldHVybiBadygpfSxzZXQgZHJhY29VcmwoZSl7IWZ1bmN0aW9uKGUpe2p3PWh0LnJlc29sdmVVUkwoZSkscXd8fChxdz1uZXcgX3coVXcoKSxuZXcgSXQpKSxxdy5icm9hZGNhc3QoXCJzZXREcmFjb1VybFwiLGp3KTt9KGUpO30sc2V0Tm93Omh0LnNldE5vdyxyZXN0b3JlTm93Omh0LnJlc3RvcmVOb3d9O2UuQT1tdyxlLkQ9am0sZS5FPXNyLGUuRj1abSxlLks9ZEUsZS5PPUJ1LGUuUD15LGUuVD1CdixlLlY9aW0sZS5hPUdmLGUuYj1zbSxlLmM9S2IsZS5kPWNsYXNzIGV4dGVuZHMgSXR7Y29uc3RydWN0b3IoZSx0LGkscixuLG8pe3N1cGVyKCksdGhpcy5hY3Rvcj1lLHRoaXMubGF5ZXJJbmRleD10LHRoaXMuYXZhaWxhYmxlSW1hZ2VzPWksdGhpcy5sb2FkVmVjdG9yRGF0YT1ufHxQdyx0aGlzLmxvYWRpbmc9e30sdGhpcy5sb2FkZWQ9e30sdGhpcy5kZWR1cGVkPW5ldyBEdyhlLnNjaGVkdWxlciksdGhpcy5pc1Nwcml0ZUxvYWRlZD1yLHRoaXMuc2NoZWR1bGVyPWUuc2NoZWR1bGVyLHRoaXMuYnJpZ2h0bmVzcz1vO31sb2FkVGlsZShlLHQpe2NvbnN0IGk9ZS51aWQscj1lJiZlLnJlcXVlc3Qsbj1yJiZyLmNvbGxlY3RSZXNvdXJjZVRpbWluZyxvPXRoaXMubG9hZGluZ1tpXT1uZXcgQ3coZSk7by5hYm9ydD10aGlzLmxvYWRWZWN0b3JEYXRhKGUsKChzLGEpPT57Y29uc3QgbD0hdGhpcy5sb2FkaW5nW2ldO2lmKGRlbGV0ZSB0aGlzLmxvYWRpbmdbaV0sbHx8c3x8IWEpcmV0dXJuIG8uc3RhdHVzPVwiZG9uZVwiLGx8fCh0aGlzLmxvYWRlZFtpXT1vKSx0KHMpO2NvbnN0IGM9YS5yYXdEYXRhLGg9e307YS5leHBpcmVzJiYoaC5leHBpcmVzPWEuZXhwaXJlcyksYS5jYWNoZUNvbnRyb2wmJihoLmNhY2hlQ29udHJvbD1hLmNhY2hlQ29udHJvbCksby52ZWN0b3JUaWxlPWEudmVjdG9yVGlsZXx8bmV3IHRtKG5ldyBTbShjKSk7Y29uc3QgdT0oKT0+e28ucGFyc2Uoby52ZWN0b3JUaWxlLHRoaXMubGF5ZXJJbmRleCx0aGlzLmF2YWlsYWJsZUltYWdlcyx0aGlzLmFjdG9yLCgoZSxpKT0+e2lmKGV8fCFpKXJldHVybiB0KGUpO2NvbnN0IG89e307aWYobil7Y29uc3QgZT1pdChyKTtlLmxlbmd0aD4wJiYoby5yZXNvdXJjZVRpbWluZz1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKSk7fXQobnVsbCxrKHtyYXdUaWxlRGF0YTpjLnNsaWNlKDApfSxpLGgsbykpO30pKTt9O3RoaXMuaXNTcHJpdGVMb2FkZWQ/dSgpOnRoaXMub25jZShcImlzU3ByaXRlTG9hZGVkXCIsKCgpPT57dGhpcy5zY2hlZHVsZXI/dGhpcy5zY2hlZHVsZXIuYWRkKHUse3R5cGU6XCJwYXJzZVRpbGVcIixpc1N5bWJvbFRpbGU6ZS5pc1N5bWJvbFRpbGUsem9vbTplLnRpbGVab29tfSk6dSgpO30pKSx0aGlzLmxvYWRlZD10aGlzLmxvYWRlZHx8e30sdGhpcy5sb2FkZWRbaV09bzt9KSk7fXJlbG9hZFRpbGUoZSx0KXtjb25zdCBpPXRoaXMubG9hZGVkLHI9ZS51aWQsbj10aGlzO2lmKGkmJmlbcl0pe2NvbnN0IG89aVtyXTtvLnNob3dDb2xsaXNpb25Cb3hlcz1lLnNob3dDb2xsaXNpb25Cb3hlcyxvLnByb2plY3Rpb249ZS5wcm9qZWN0aW9uLG8uYnJpZ2h0bmVzcz1lLmJyaWdodG5lc3Msby50aWxlVHJhbnNmb3JtPVRnKGUudGlsZUlELmNhbm9uaWNhbCxlLnByb2plY3Rpb24pLG8uZXh0cmFTaGFkb3dDYXN0ZXI9ZS5leHRyYVNoYWRvd0Nhc3Rlcjtjb25zdCBzPShlLGkpPT57Y29uc3Qgcj1vLnJlbG9hZENhbGxiYWNrO3ImJihkZWxldGUgby5yZWxvYWRDYWxsYmFjayxvLnBhcnNlKG8udmVjdG9yVGlsZSxuLmxheWVySW5kZXgsdGhpcy5hdmFpbGFibGVJbWFnZXMsbi5hY3RvcixyKSksdChlLGkpO307XCJwYXJzaW5nXCI9PT1vLnN0YXR1cz9vLnJlbG9hZENhbGxiYWNrPXM6XCJkb25lXCI9PT1vLnN0YXR1cyYmKG8udmVjdG9yVGlsZT9vLnBhcnNlKG8udmVjdG9yVGlsZSx0aGlzLmxheWVySW5kZXgsdGhpcy5hdmFpbGFibGVJbWFnZXMsdGhpcy5hY3RvcixzKTpzKCkpO319YWJvcnRUaWxlKGUsdCl7Y29uc3QgaT1lLnVpZCxyPXRoaXMubG9hZGluZ1tpXTtyJiYoci5hYm9ydCYmci5hYm9ydCgpLGRlbGV0ZSB0aGlzLmxvYWRpbmdbaV0pLHQoKTt9cmVtb3ZlVGlsZShlLHQpe2NvbnN0IGk9dGhpcy5sb2FkZWQscj1lLnVpZDtpJiZpW3JdJiZkZWxldGUgaVtyXSx0KCk7fX0sZS5lPXhvLGUuZj1pdCxlLmc9ZCxlLmg9d2UsZS5pPVRlLGUuaj1mdW5jdGlvbihlLHQpe2NvbnN0IGk9X1QoZSk7Zm9yKGNvbnN0IGUgb2YgaSl7Zm9yKGNvbnN0IHQgb2YgZS5tZXNoZXMpZ1QodCk7ZS5saWdodHMmJihlLmxpZ2h0TWVzaEluZGV4PWUubWVzaGVzLmxlbmd0aCxlLm1lc2hlcy5wdXNoKHlUKGUubGlnaHRzLHQpKSk7fXJldHVybiBpfSxlLms9ZWEsZS5sPWZ1bmN0aW9uKGUpe2xldCB0PTA7aWYobmV3IFVpbnQzMkFycmF5KGUsMCwxKVswXSE9PWVUKXtjb25zdCBpPW5ldyBVaW50MzJBcnJheShlLDAsNyksWywscixuLG8sc109aTt0PWkuYnl0ZUxlbmd0aCtuK28rcytvLChyIT09ZS5ieXRlTGVuZ3RofHx0Pj1lLmJ5dGVMZW5ndGgpJiZXKFwiSW52YWxpZCBiM2RtIGhlYWRlciBpbmZvcm1hdGlvbi5cIik7fXJldHVybiBzVChlLHQpfSxlLm09SGcsZS5uPVFzLGUubz1BdCxlLnA9XyxlLnE9ZnVuY3Rpb24oZSl7ZmUoKSx1ZSYmdWUudGhlbigodD0+e3Qua2V5cygpLnRoZW4oKGk9Pntmb3IobGV0IHI9MDtyPGkubGVuZ3RoLWU7cisrKXQuZGVsZXRlKGlbcl0pO30pKTt9KSk7fSxlLnI9QVQsZS5zPWNJLGUudD1RZCxlLnY9TCxlLnc9dDt9KSk7XG5cbmRlZmluZShbXCIuL3NoYXJlZFwiXSwoZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdChlKXtpZihcIm51bWJlclwiPT10eXBlb2YgZXx8XCJib29sZWFuXCI9PXR5cGVvZiBlfHxcInN0cmluZ1wiPT10eXBlb2YgZXx8bnVsbD09ZSlyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSk7aWYoQXJyYXkuaXNBcnJheShlKSl7bGV0IHI9XCJbXCI7Zm9yKGNvbnN0IG8gb2YgZSlyKz1gJHt0KG8pfSxgO3JldHVybiBgJHtyfV1gfWxldCByPVwie1wiO2Zvcihjb25zdCBvIG9mIE9iamVjdC5rZXlzKGUpLnNvcnQoKSlyKz1gJHtvfToke3QoZVtvXSl9LGA7cmV0dXJuIGAke3J9fWB9ZnVuY3Rpb24gcihyKXtsZXQgbz1cIlwiO2Zvcihjb25zdCBpIG9mIGUucilvKz1gLyR7dChyW2ldKX1gO3JldHVybiBvfWNsYXNzIG97Y29uc3RydWN0b3IoZSl7dGhpcy5rZXlDYWNoZT17fSxlJiZ0aGlzLnJlcGxhY2UoZSk7fXJlcGxhY2UoZSx0KXt0aGlzLl9sYXllckNvbmZpZ3M9e30sdGhpcy5fbGF5ZXJzPXt9LHRoaXMudXBkYXRlKGUsW10sdCk7fXVwZGF0ZSh0LG8saSl7dGhpcy5fb3B0aW9ucz1pO2Zvcihjb25zdCByIG9mIHQpe3RoaXMuX2xheWVyQ29uZmlnc1tyLmlkXT1yO2NvbnN0IHQ9dGhpcy5fbGF5ZXJzW3IuaWRdPWUuYyhyLHRoaXMuX29wdGlvbnMpO3Quc2V0U2NvcGUodGhpcy5zY29wZSksdC5jb21waWxlRmlsdGVyKCksdGhpcy5rZXlDYWNoZVtyLmlkXSYmZGVsZXRlIHRoaXMua2V5Q2FjaGVbci5pZF07fWZvcihjb25zdCBlIG9mIG8pZGVsZXRlIHRoaXMua2V5Q2FjaGVbZV0sZGVsZXRlIHRoaXMuX2xheWVyQ29uZmlnc1tlXSxkZWxldGUgdGhpcy5fbGF5ZXJzW2VdO3RoaXMuZmFtaWxpZXNCeVNvdXJjZT17fTtjb25zdCBzPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbz17fTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgcz10JiZ0W2VbaV0uaWRdfHxyKGVbaV0pO3QmJih0W2VbaV0uaWRdPXMpO2xldCBuPW9bc107bnx8KG49b1tzXT1bXSksbi5wdXNoKGVbaV0pO31jb25zdCBpPVtdO2Zvcihjb25zdCBlIGluIG8paS5wdXNoKG9bZV0pO3JldHVybiBpfShlLnYodGhpcy5fbGF5ZXJDb25maWdzKSx0aGlzLmtleUNhY2hlKTtmb3IoY29uc3QgZSBvZiBzKXtjb25zdCB0PWUubWFwKChlPT50aGlzLl9sYXllcnNbZS5pZF0pKSxyPXRbMF07aWYoXCJub25lXCI9PT1yLnZpc2liaWxpdHkpY29udGludWU7Y29uc3Qgbz1yLnNvdXJjZXx8XCJcIjtsZXQgaT10aGlzLmZhbWlsaWVzQnlTb3VyY2Vbb107aXx8KGk9dGhpcy5mYW1pbGllc0J5U291cmNlW29dPXt9KTtjb25zdCBzPXIuc291cmNlTGF5ZXJ8fFwiX2dlb2pzb25UaWxlTGF5ZXJcIjtsZXQgbj1pW3NdO258fChuPWlbc109W10pLG4ucHVzaCh0KTt9fX1jbGFzcyBpe2xvYWRUaWxlKHQscil7Y29uc3R7dWlkOm8sZW5jb2Rpbmc6aSxyYXdJbWFnZURhdGE6cyxwYWRkaW5nOm59PXQsYT1lLncuSW1hZ2VCaXRtYXAmJnMgaW5zdGFuY2VvZiBlLncuSW1hZ2VCaXRtYXA/dGhpcy5nZXRJbWFnZURhdGEocyxuKTpzO3IobnVsbCxuZXcgZS5EKG8sYSxpLHQuY29udmVydFRvRmxvYXQsbjwxKSk7fWdldEltYWdlRGF0YShlLHQpe3RoaXMub2Zmc2NyZWVuQ2FudmFzJiZ0aGlzLm9mZnNjcmVlbkNhbnZhc0NvbnRleHR8fCh0aGlzLm9mZnNjcmVlbkNhbnZhcz1uZXcgT2Zmc2NyZWVuQ2FudmFzKGUud2lkdGgsZS5oZWlnaHQpLHRoaXMub2Zmc2NyZWVuQ2FudmFzQ29udGV4dD10aGlzLm9mZnNjcmVlbkNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIix7d2lsbFJlYWRGcmVxdWVudGx5OiEwfSkpLHRoaXMub2Zmc2NyZWVuQ2FudmFzLndpZHRoPWUud2lkdGgsdGhpcy5vZmZzY3JlZW5DYW52YXMuaGVpZ2h0PWUuaGVpZ2h0LHRoaXMub2Zmc2NyZWVuQ2FudmFzQ29udGV4dC5kcmF3SW1hZ2UoZSwwLDAsZS53aWR0aCxlLmhlaWdodCk7Y29uc3Qgcj10aGlzLm9mZnNjcmVlbkNhbnZhc0NvbnRleHQuZ2V0SW1hZ2VEYXRhKC10LC10LGUud2lkdGgrMip0LGUuaGVpZ2h0KzIqdCk7cmV0dXJuIHRoaXMub2Zmc2NyZWVuQ2FudmFzQ29udGV4dC5jbGVhclJlY3QoMCwwLHRoaXMub2Zmc2NyZWVuQ2FudmFzLndpZHRoLHRoaXMub2Zmc2NyZWVuQ2FudmFzLmhlaWdodCkscn19ZnVuY3Rpb24gcyhlLHQpe2lmKDAhPT1lLmxlbmd0aCl7bihlWzBdLHQpO2Zvcih2YXIgcj0xO3I8ZS5sZW5ndGg7cisrKW4oZVtyXSwhdCk7fX1mdW5jdGlvbiBuKGUsdCl7Zm9yKHZhciByPTAsbz0wLGk9MCxzPWUubGVuZ3RoLG49cy0xO2k8cztuPWkrKyl7dmFyIGE9KGVbaV1bMF0tZVtuXVswXSkqKGVbbl1bMV0rZVtpXVsxXSksbD1yK2E7bys9TWF0aC5hYnMocik+PU1hdGguYWJzKGEpP3ItbCthOmEtbCtyLHI9bDt9citvPj0wIT0hIXQmJmUucmV2ZXJzZSgpO312YXIgYT1lLmcoKGZ1bmN0aW9uIGUodCxyKXt2YXIgbyxpPXQmJnQudHlwZTtpZihcIkZlYXR1cmVDb2xsZWN0aW9uXCI9PT1pKWZvcihvPTA7bzx0LmZlYXR1cmVzLmxlbmd0aDtvKyspZSh0LmZlYXR1cmVzW29dLHIpO2Vsc2UgaWYoXCJHZW9tZXRyeUNvbGxlY3Rpb25cIj09PWkpZm9yKG89MDtvPHQuZ2VvbWV0cmllcy5sZW5ndGg7bysrKWUodC5nZW9tZXRyaWVzW29dLHIpO2Vsc2UgaWYoXCJGZWF0dXJlXCI9PT1pKWUodC5nZW9tZXRyeSxyKTtlbHNlIGlmKFwiUG9seWdvblwiPT09aSlzKHQuY29vcmRpbmF0ZXMscik7ZWxzZSBpZihcIk11bHRpUG9seWdvblwiPT09aSlmb3Iobz0wO288dC5jb29yZGluYXRlcy5sZW5ndGg7bysrKXModC5jb29yZGluYXRlc1tvXSxyKTtyZXR1cm4gdH0pKTtjb25zdCBsPWUuVi5wcm90b3R5cGUudG9HZW9KU09OO3ZhciBoPXtleHBvcnRzOnt9fSx1PWUucCxjPWUuYS5WZWN0b3JUaWxlRmVhdHVyZSxmPWQ7ZnVuY3Rpb24gZChlLHQpe3RoaXMub3B0aW9ucz10fHx7fSx0aGlzLmZlYXR1cmVzPWUsdGhpcy5sZW5ndGg9ZS5sZW5ndGg7fWZ1bmN0aW9uIHAoZSx0KXt0aGlzLmlkPVwibnVtYmVyXCI9PXR5cGVvZiBlLmlkP2UuaWQ6dm9pZCAwLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5yYXdHZW9tZXRyeT0xPT09ZS50eXBlP1tlLmdlb21ldHJ5XTplLmdlb21ldHJ5LHRoaXMucHJvcGVydGllcz1lLnRhZ3MsdGhpcy5leHRlbnQ9dHx8NDA5Njt9ZC5wcm90b3R5cGUuZmVhdHVyZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHAodGhpcy5mZWF0dXJlc1tlXSx0aGlzLm9wdGlvbnMuZXh0ZW50KX0scC5wcm90b3R5cGUubG9hZEdlb21ldHJ5PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yYXdHZW9tZXRyeTt0aGlzLmdlb21ldHJ5PVtdO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtmb3IodmFyIHI9ZVt0XSxvPVtdLGk9MDtpPHIubGVuZ3RoO2krKylvLnB1c2gobmV3IHUocltpXVswXSxyW2ldWzFdKSk7dGhpcy5nZW9tZXRyeS5wdXNoKG8pO31yZXR1cm4gdGhpcy5nZW9tZXRyeX0scC5wcm90b3R5cGUuYmJveD1mdW5jdGlvbigpe3RoaXMuZ2VvbWV0cnl8fHRoaXMubG9hZEdlb21ldHJ5KCk7Zm9yKHZhciBlPXRoaXMuZ2VvbWV0cnksdD0xLzAscj0tMS8wLG89MS8wLGk9LTEvMCxzPTA7czxlLmxlbmd0aDtzKyspZm9yKHZhciBuPWVbc10sYT0wO2E8bi5sZW5ndGg7YSsrKXt2YXIgbD1uW2FdO3Q9TWF0aC5taW4odCxsLngpLHI9TWF0aC5tYXgocixsLngpLG89TWF0aC5taW4obyxsLnkpLGk9TWF0aC5tYXgoaSxsLnkpO31yZXR1cm4gW3QsbyxyLGldfSxwLnByb3RvdHlwZS50b0dlb0pTT049Yy5wcm90b3R5cGUudG9HZW9KU09OO3ZhciBnPWUuYixtPWY7ZnVuY3Rpb24geShlKXt2YXIgdD1uZXcgZztyZXR1cm4gZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gZS5sYXllcnMpdC53cml0ZU1lc3NhZ2UoMyx2LGUubGF5ZXJzW3JdKTt9KGUsdCksdC5maW5pc2goKX1mdW5jdGlvbiB2KGUsdCl7dmFyIHI7dC53cml0ZVZhcmludEZpZWxkKDE1LGUudmVyc2lvbnx8MSksdC53cml0ZVN0cmluZ0ZpZWxkKDEsZS5uYW1lfHxcIlwiKSx0LndyaXRlVmFyaW50RmllbGQoNSxlLmV4dGVudHx8NDA5Nik7dmFyIG89e2tleXM6W10sdmFsdWVzOltdLGtleWNhY2hlOnt9LHZhbHVlY2FjaGU6e319O2ZvcihyPTA7cjxlLmxlbmd0aDtyKyspby5mZWF0dXJlPWUuZmVhdHVyZShyKSx0LndyaXRlTWVzc2FnZSgyLHcsbyk7dmFyIGk9by5rZXlzO2ZvcihyPTA7cjxpLmxlbmd0aDtyKyspdC53cml0ZVN0cmluZ0ZpZWxkKDMsaVtyXSk7dmFyIHM9by52YWx1ZXM7Zm9yKHI9MDtyPHMubGVuZ3RoO3IrKyl0LndyaXRlTWVzc2FnZSg0LEksc1tyXSk7fWZ1bmN0aW9uIHcoZSx0KXt2YXIgcj1lLmZlYXR1cmU7dm9pZCAwIT09ci5pZCYmdC53cml0ZVZhcmludEZpZWxkKDEsci5pZCksdC53cml0ZU1lc3NhZ2UoMix4LGUpLHQud3JpdGVWYXJpbnRGaWVsZCgzLHIudHlwZSksdC53cml0ZU1lc3NhZ2UoNCxiLHIpO31mdW5jdGlvbiB4KGUsdCl7dmFyIHI9ZS5mZWF0dXJlLG89ZS5rZXlzLGk9ZS52YWx1ZXMscz1lLmtleWNhY2hlLG49ZS52YWx1ZWNhY2hlO2Zvcih2YXIgYSBpbiByLnByb3BlcnRpZXMpe3ZhciBsPXIucHJvcGVydGllc1thXSxoPXNbYV07aWYobnVsbCE9PWwpe3ZvaWQgMD09PWgmJihvLnB1c2goYSksc1thXT1oPW8ubGVuZ3RoLTEpLHQud3JpdGVWYXJpbnQoaCk7dmFyIHU9dHlwZW9mIGw7XCJzdHJpbmdcIiE9PXUmJlwiYm9vbGVhblwiIT09dSYmXCJudW1iZXJcIiE9PXUmJihsPUpTT04uc3RyaW5naWZ5KGwpKTt2YXIgYz11K1wiOlwiK2wsZj1uW2NdO3ZvaWQgMD09PWYmJihpLnB1c2gobCksbltjXT1mPWkubGVuZ3RoLTEpLHQud3JpdGVWYXJpbnQoZik7fX19ZnVuY3Rpb24gUyhlLHQpe3JldHVybiAodDw8MykrKDcmZSl9ZnVuY3Rpb24gTShlKXtyZXR1cm4gZTw8MV5lPj4zMX1mdW5jdGlvbiBiKGUsdCl7Zm9yKHZhciByPWUubG9hZEdlb21ldHJ5KCksbz1lLnR5cGUsaT0wLHM9MCxuPXIubGVuZ3RoLGE9MDthPG47YSsrKXt2YXIgbD1yW2FdLGg9MTsxPT09byYmKGg9bC5sZW5ndGgpLHQud3JpdGVWYXJpbnQoUygxLGgpKTtmb3IodmFyIHU9Mz09PW8/bC5sZW5ndGgtMTpsLmxlbmd0aCxjPTA7Yzx1O2MrKyl7MT09PWMmJjEhPT1vJiZ0LndyaXRlVmFyaW50KFMoMix1LTEpKTt2YXIgZj1sW2NdLngtaSxkPWxbY10ueS1zO3Qud3JpdGVWYXJpbnQoTShmKSksdC53cml0ZVZhcmludChNKGQpKSxpKz1mLHMrPWQ7fTM9PT1vJiZ0LndyaXRlVmFyaW50KFMoNywxKSk7fX1mdW5jdGlvbiBJKGUsdCl7dmFyIHI9dHlwZW9mIGU7XCJzdHJpbmdcIj09PXI/dC53cml0ZVN0cmluZ0ZpZWxkKDEsZSk6XCJib29sZWFuXCI9PT1yP3Qud3JpdGVCb29sZWFuRmllbGQoNyxlKTpcIm51bWJlclwiPT09ciYmKGUlMSE9MD90LndyaXRlRG91YmxlRmllbGQoMyxlKTplPDA/dC53cml0ZVNWYXJpbnRGaWVsZCg2LGUpOnQud3JpdGVWYXJpbnRGaWVsZCg1LGUpKTt9aC5leHBvcnRzPXksaC5leHBvcnRzLmZyb21WZWN0b3JUaWxlSnM9eSxoLmV4cG9ydHMuZnJvbUdlb2pzb25WdD1mdW5jdGlvbihlLHQpe3Q9dHx8e307dmFyIHI9e307Zm9yKHZhciBvIGluIGUpcltvXT1uZXcgbShlW29dLmZlYXR1cmVzLHQpLHJbb10ubmFtZT1vLHJbb10udmVyc2lvbj10LnZlcnNpb24scltvXS5leHRlbnQ9dC5leHRlbnQ7cmV0dXJuIHkoe2xheWVyczpyfSl9LGguZXhwb3J0cy5HZW9KU09OV3JhcHBlcj1tO3ZhciBrPWUuZyhoLmV4cG9ydHMpO2NvbnN0IFA9e21pblpvb206MCxtYXhab29tOjE2LG1pblBvaW50czoyLHJhZGl1czo0MCxleHRlbnQ6NTEyLG5vZGVTaXplOjY0LGxvZzohMSxnZW5lcmF0ZUlkOiExLHJlZHVjZTpudWxsLG1hcDplPT5lfSxfPU1hdGguZnJvdW5kfHwoVD1uZXcgRmxvYXQzMkFycmF5KDEpLGU9PihUWzBdPStlLFRbMF0pKTt2YXIgVDtjb25zdCBMPTMsQz01LE89NjtjbGFzcyBqe2NvbnN0cnVjdG9yKGUpe3RoaXMub3B0aW9ucz1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoUCksZSksdGhpcy50cmVlcz1uZXcgQXJyYXkodGhpcy5vcHRpb25zLm1heFpvb20rMSksdGhpcy5zdHJpZGU9dGhpcy5vcHRpb25zLnJlZHVjZT83OjYsdGhpcy5jbHVzdGVyUHJvcHM9W107fWxvYWQoZSl7Y29uc3R7bG9nOnQsbWluWm9vbTpyLG1heFpvb206b309dGhpcy5vcHRpb25zO3QmJmNvbnNvbGUudGltZShcInRvdGFsIHRpbWVcIik7Y29uc3QgaT1gcHJlcGFyZSAke2UubGVuZ3RofSBwb2ludHNgO3QmJmNvbnNvbGUudGltZShpKSx0aGlzLnBvaW50cz1lO2NvbnN0IHM9W107Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IHI9ZVt0XTtpZighci5nZW9tZXRyeSljb250aW51ZTtjb25zdFtvLGldPXIuZ2VvbWV0cnkuY29vcmRpbmF0ZXMsbj1fKHoobykpLGE9XyhEKGkpKTtzLnB1c2gobixhLDEvMCx0LC0xLDEpLHRoaXMub3B0aW9ucy5yZWR1Y2UmJnMucHVzaCgwKTt9bGV0IG49dGhpcy50cmVlc1tvKzFdPXRoaXMuX2NyZWF0ZVRyZWUocyk7dCYmY29uc29sZS50aW1lRW5kKGkpO2ZvcihsZXQgZT1vO2U+PXI7ZS0tKXtjb25zdCByPStEYXRlLm5vdygpO249dGhpcy50cmVlc1tlXT10aGlzLl9jcmVhdGVUcmVlKHRoaXMuX2NsdXN0ZXIobixlKSksdCYmY29uc29sZS5sb2coXCJ6JWQ6ICVkIGNsdXN0ZXJzIGluICVkbXNcIixlLG4ubnVtSXRlbXMsK0RhdGUubm93KCktcik7fXJldHVybiB0JiZjb25zb2xlLnRpbWVFbmQoXCJ0b3RhbCB0aW1lXCIpLHRoaXN9Z2V0Q2x1c3RlcnMoZSx0KXtsZXQgcj0oKGVbMF0rMTgwKSUzNjArMzYwKSUzNjAtMTgwO2NvbnN0IG89TWF0aC5tYXgoLTkwLE1hdGgubWluKDkwLGVbMV0pKTtsZXQgaT0xODA9PT1lWzJdPzE4MDooKGVbMl0rMTgwKSUzNjArMzYwKSUzNjAtMTgwO2NvbnN0IHM9TWF0aC5tYXgoLTkwLE1hdGgubWluKDkwLGVbM10pKTtpZihlWzJdLWVbMF0+PTM2MClyPS0xODAsaT0xODA7ZWxzZSBpZihyPmkpe2NvbnN0IGU9dGhpcy5nZXRDbHVzdGVycyhbcixvLDE4MCxzXSx0KSxuPXRoaXMuZ2V0Q2x1c3RlcnMoWy0xODAsbyxpLHNdLHQpO3JldHVybiBlLmNvbmNhdChuKX1jb25zdCBuPXRoaXMudHJlZXNbdGhpcy5fbGltaXRab29tKHQpXSxhPW4ucmFuZ2UoeihyKSxEKHMpLHooaSksRChvKSksbD1uLmRhdGEsaD1bXTtmb3IoY29uc3QgZSBvZiBhKXtjb25zdCB0PXRoaXMuc3RyaWRlKmU7aC5wdXNoKGxbdCtDXT4xP0YobCx0LHRoaXMuY2x1c3RlclByb3BzKTp0aGlzLnBvaW50c1tsW3QrTF1dKTt9cmV0dXJuIGh9Z2V0Q2hpbGRyZW4oZSl7Y29uc3QgdD10aGlzLl9nZXRPcmlnaW5JZChlKSxyPXRoaXMuX2dldE9yaWdpblpvb20oZSksbz1cIk5vIGNsdXN0ZXIgd2l0aCB0aGUgc3BlY2lmaWVkIGlkLlwiLGk9dGhpcy50cmVlc1tyXTtpZighaSl0aHJvdyBuZXcgRXJyb3Iobyk7Y29uc3Qgcz1pLmRhdGE7aWYodCp0aGlzLnN0cmlkZT49cy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKG8pO2NvbnN0IG49dGhpcy5vcHRpb25zLnJhZGl1cy8odGhpcy5vcHRpb25zLmV4dGVudCpNYXRoLnBvdygyLHItMSkpLGE9aS53aXRoaW4oc1t0KnRoaXMuc3RyaWRlXSxzW3QqdGhpcy5zdHJpZGUrMV0sbiksbD1bXTtmb3IoY29uc3QgdCBvZiBhKXtjb25zdCByPXQqdGhpcy5zdHJpZGU7c1tyKzRdPT09ZSYmbC5wdXNoKHNbcitDXT4xP0YocyxyLHRoaXMuY2x1c3RlclByb3BzKTp0aGlzLnBvaW50c1tzW3IrTF1dKTt9aWYoMD09PWwubGVuZ3RoKXRocm93IG5ldyBFcnJvcihvKTtyZXR1cm4gbH1nZXRMZWF2ZXMoZSx0LHIpe2NvbnN0IG89W107cmV0dXJuIHRoaXMuX2FwcGVuZExlYXZlcyhvLGUsdD10fHwxMCxyPXJ8fDAsMCksb31nZXRUaWxlKGUsdCxyKXtjb25zdCBvPXRoaXMudHJlZXNbdGhpcy5fbGltaXRab29tKGUpXSxpPU1hdGgucG93KDIsZSkse2V4dGVudDpzLHJhZGl1czpufT10aGlzLm9wdGlvbnMsYT1uL3MsbD0oci1hKS9pLGg9KHIrMSthKS9pLHU9e2ZlYXR1cmVzOltdfTtyZXR1cm4gdGhpcy5fYWRkVGlsZUZlYXR1cmVzKG8ucmFuZ2UoKHQtYSkvaSxsLCh0KzErYSkvaSxoKSxvLmRhdGEsdCxyLGksdSksMD09PXQmJnRoaXMuX2FkZFRpbGVGZWF0dXJlcyhvLnJhbmdlKDEtYS9pLGwsMSxoKSxvLmRhdGEsaSxyLGksdSksdD09PWktMSYmdGhpcy5fYWRkVGlsZUZlYXR1cmVzKG8ucmFuZ2UoMCxsLGEvaSxoKSxvLmRhdGEsLTEscixpLHUpLHUuZmVhdHVyZXMubGVuZ3RoP3U6bnVsbH1nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbShlKXtsZXQgdD10aGlzLl9nZXRPcmlnaW5ab29tKGUpLTE7Zm9yKDt0PD10aGlzLm9wdGlvbnMubWF4Wm9vbTspe2NvbnN0IHI9dGhpcy5nZXRDaGlsZHJlbihlKTtpZih0KyssMSE9PXIubGVuZ3RoKWJyZWFrO2U9clswXS5wcm9wZXJ0aWVzLmNsdXN0ZXJfaWQ7fXJldHVybiB0fV9hcHBlbmRMZWF2ZXMoZSx0LHIsbyxpKXtjb25zdCBzPXRoaXMuZ2V0Q2hpbGRyZW4odCk7Zm9yKGNvbnN0IHQgb2Ygcyl7Y29uc3Qgcz10LnByb3BlcnRpZXM7aWYocyYmcy5jbHVzdGVyP2krcy5wb2ludF9jb3VudDw9bz9pKz1zLnBvaW50X2NvdW50Omk9dGhpcy5fYXBwZW5kTGVhdmVzKGUscy5jbHVzdGVyX2lkLHIsbyxpKTppPG8/aSsrOmUucHVzaCh0KSxlLmxlbmd0aD09PXIpYnJlYWt9cmV0dXJuIGl9X2NyZWF0ZVRyZWUodCl7Y29uc3Qgcj1uZXcgZS5LKHQubGVuZ3RoL3RoaXMuc3RyaWRlfDAsdGhpcy5vcHRpb25zLm5vZGVTaXplLEZsb2F0MzJBcnJheSk7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKz10aGlzLnN0cmlkZSlyLmFkZCh0W2VdLHRbZSsxXSk7cmV0dXJuIHIuZmluaXNoKCksci5kYXRhPXQscn1fYWRkVGlsZUZlYXR1cmVzKGUsdCxyLG8saSxzKXtmb3IoY29uc3QgbiBvZiBlKXtjb25zdCBlPW4qdGhpcy5zdHJpZGUsYT10W2UrQ10+MTtsZXQgbCxoLHU7aWYoYSlsPVoodCxlLHRoaXMuY2x1c3RlclByb3BzKSxoPXRbZV0sdT10W2UrMV07ZWxzZSB7Y29uc3Qgcj10aGlzLnBvaW50c1t0W2UrTF1dO2w9ci5wcm9wZXJ0aWVzO2NvbnN0W28saV09ci5nZW9tZXRyeS5jb29yZGluYXRlcztoPXoobyksdT1EKGkpO31jb25zdCBjPXt0eXBlOjEsZ2VvbWV0cnk6W1tNYXRoLnJvdW5kKHRoaXMub3B0aW9ucy5leHRlbnQqKGgqaS1yKSksTWF0aC5yb3VuZCh0aGlzLm9wdGlvbnMuZXh0ZW50Kih1KmktbykpXV0sdGFnczpsfTtsZXQgZjtmPWF8fHRoaXMub3B0aW9ucy5nZW5lcmF0ZUlkP3RbZStMXTp0aGlzLnBvaW50c1t0W2UrTF1dLmlkLHZvaWQgMCE9PWYmJihjLmlkPWYpLHMuZmVhdHVyZXMucHVzaChjKTt9fV9saW1pdFpvb20oZSl7cmV0dXJuIE1hdGgubWF4KHRoaXMub3B0aW9ucy5taW5ab29tLE1hdGgubWluKE1hdGguZmxvb3IoK2UpLHRoaXMub3B0aW9ucy5tYXhab29tKzEpKX1fY2x1c3RlcihlLHQpe2NvbnN0e3JhZGl1czpyLGV4dGVudDpvLHJlZHVjZTppLG1pblBvaW50czpzfT10aGlzLm9wdGlvbnMsbj1yLyhvKk1hdGgucG93KDIsdCkpLGE9ZS5kYXRhLGw9W10saD10aGlzLnN0cmlkZTtmb3IobGV0IHI9MDtyPGEubGVuZ3RoO3IrPWgpe2lmKGFbcisyXTw9dCljb250aW51ZTthW3IrMl09dDtjb25zdCBvPWFbcl0sdT1hW3IrMV0sYz1lLndpdGhpbihhW3JdLGFbcisxXSxuKSxmPWFbcitDXTtsZXQgZD1mO2Zvcihjb25zdCBlIG9mIGMpe2NvbnN0IHI9ZSpoO2FbcisyXT50JiYoZCs9YVtyK0NdKTt9aWYoZD5mJiZkPj1zKXtsZXQgZSxzPW8qZixuPXUqZixwPS0xO2NvbnN0IGc9KChyL2h8MCk8PDUpKyh0KzEpK3RoaXMucG9pbnRzLmxlbmd0aDtmb3IoY29uc3QgbyBvZiBjKXtjb25zdCBsPW8qaDtpZihhW2wrMl08PXQpY29udGludWU7YVtsKzJdPXQ7Y29uc3QgdT1hW2wrQ107cys9YVtsXSp1LG4rPWFbbCsxXSp1LGFbbCs0XT1nLGkmJihlfHwoZT10aGlzLl9tYXAoYSxyLCEwKSxwPXRoaXMuY2x1c3RlclByb3BzLmxlbmd0aCx0aGlzLmNsdXN0ZXJQcm9wcy5wdXNoKGUpKSxpKGUsdGhpcy5fbWFwKGEsbCkpKTt9YVtyKzRdPWcsbC5wdXNoKHMvZCxuL2QsMS8wLGcsLTEsZCksaSYmbC5wdXNoKHApO31lbHNlIHtmb3IobGV0IGU9MDtlPGg7ZSsrKWwucHVzaChhW3IrZV0pO2lmKGQ+MSlmb3IoY29uc3QgZSBvZiBjKXtjb25zdCByPWUqaDtpZighKGFbcisyXTw9dCkpe2FbcisyXT10O2ZvcihsZXQgZT0wO2U8aDtlKyspbC5wdXNoKGFbcitlXSk7fX19fXJldHVybiBsfV9nZXRPcmlnaW5JZChlKXtyZXR1cm4gZS10aGlzLnBvaW50cy5sZW5ndGg+PjV9X2dldE9yaWdpblpvb20oZSl7cmV0dXJuIChlLXRoaXMucG9pbnRzLmxlbmd0aCklMzJ9X21hcChlLHQscil7aWYoZVt0K0NdPjEpe2NvbnN0IG89dGhpcy5jbHVzdGVyUHJvcHNbZVt0K09dXTtyZXR1cm4gcj9PYmplY3QuYXNzaWduKHt9LG8pOm99Y29uc3Qgbz10aGlzLnBvaW50c1tlW3QrTF1dLnByb3BlcnRpZXMsaT10aGlzLm9wdGlvbnMubWFwKG8pO3JldHVybiByJiZpPT09bz9PYmplY3QuYXNzaWduKHt9LGkpOml9fWZ1bmN0aW9uIEYoZSx0LHIpe3JldHVybiB7dHlwZTpcIkZlYXR1cmVcIixpZDplW3QrTF0scHJvcGVydGllczpaKGUsdCxyKSxnZW9tZXRyeTp7dHlwZTpcIlBvaW50XCIsY29vcmRpbmF0ZXM6WyhvPWVbdF0sMzYwKihvLS41KSksRShlW3QrMV0pXX19O3ZhciBvO31mdW5jdGlvbiBaKGUsdCxyKXtjb25zdCBvPWVbdCtDXSxpPW8+PTFlND9gJHtNYXRoLnJvdW5kKG8vMWUzKX1rYDpvPj0xZTM/TWF0aC5yb3VuZChvLzEwMCkvMTArXCJrXCI6byxzPWVbdCtPXSxuPS0xPT09cz97fTpPYmplY3QuYXNzaWduKHt9LHJbc10pO3JldHVybiBPYmplY3QuYXNzaWduKG4se2NsdXN0ZXI6ITAsY2x1c3Rlcl9pZDplW3QrTF0scG9pbnRfY291bnQ6byxwb2ludF9jb3VudF9hYmJyZXZpYXRlZDppfSl9ZnVuY3Rpb24geihlKXtyZXR1cm4gZS8zNjArLjV9ZnVuY3Rpb24gRChlKXtjb25zdCB0PU1hdGguc2luKGUqTWF0aC5QSS8xODApLHI9LjUtLjI1Kk1hdGgubG9nKCgxK3QpLygxLXQpKS9NYXRoLlBJO3JldHVybiByPDA/MDpyPjE/MTpyfWZ1bmN0aW9uIEUoZSl7Y29uc3QgdD0oMTgwLTM2MCplKSpNYXRoLlBJLzE4MDtyZXR1cm4gMzYwKk1hdGguYXRhbihNYXRoLmV4cCh0KSkvTWF0aC5QSS05MH12YXIgTj17ZXhwb3J0czp7fX07Ti5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShyLG8saSxzKXtmb3IodmFyIG4sYT1zLGw9aS1vPj4xLGg9aS1vLHU9cltvXSxjPXJbbysxXSxmPXJbaV0sZD1yW2krMV0scD1vKzM7cDxpO3ArPTMpe3ZhciBnPXQocltwXSxyW3ArMV0sdSxjLGYsZCk7aWYoZz5hKW49cCxhPWc7ZWxzZSBpZihnPT09YSl7dmFyIG09TWF0aC5hYnMocC1sKTttPGgmJihuPXAsaD1tKTt9fWE+cyYmKG4tbz4zJiZlKHIsbyxuLHMpLHJbbisyXT1hLGktbj4zJiZlKHIsbixpLHMpKTt9ZnVuY3Rpb24gdChlLHQscixvLGkscyl7dmFyIG49aS1yLGE9cy1vO2lmKDAhPT1ufHwwIT09YSl7dmFyIGw9KChlLXIpKm4rKHQtbykqYSkvKG4qbithKmEpO2w+MT8ocj1pLG89cyk6bD4wJiYocis9bipsLG8rPWEqbCk7fXJldHVybiAobj1lLXIpKm4rKGE9dC1vKSphfWZ1bmN0aW9uIHIoZSx0LHIsaSl7dmFyIHM9e2lkOnZvaWQgMD09PWU/bnVsbDplLHR5cGU6dCxnZW9tZXRyeTpyLHRhZ3M6aSxtaW5YOjEvMCxtaW5ZOjEvMCxtYXhYOi0xLzAsbWF4WTotMS8wfTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZW9tZXRyeSxyPWUudHlwZTtpZihcIlBvaW50XCI9PT1yfHxcIk11bHRpUG9pbnRcIj09PXJ8fFwiTGluZVN0cmluZ1wiPT09cilvKGUsdCk7ZWxzZSBpZihcIlBvbHlnb25cIj09PXJ8fFwiTXVsdGlMaW5lU3RyaW5nXCI9PT1yKWZvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKW8oZSx0W2ldKTtlbHNlIGlmKFwiTXVsdGlQb2x5Z29uXCI9PT1yKWZvcihpPTA7aTx0Lmxlbmd0aDtpKyspZm9yKHZhciBzPTA7czx0W2ldLmxlbmd0aDtzKyspbyhlLHRbaV1bc10pO30ocyksc31mdW5jdGlvbiBvKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKz0zKWUubWluWD1NYXRoLm1pbihlLm1pblgsdFtyXSksZS5taW5ZPU1hdGgubWluKGUubWluWSx0W3IrMV0pLGUubWF4WD1NYXRoLm1heChlLm1heFgsdFtyXSksZS5tYXhZPU1hdGgubWF4KGUubWF4WSx0W3IrMV0pO31mdW5jdGlvbiBpKGUsdCxvLGwpe2lmKHQuZ2VvbWV0cnkpe3ZhciBoPXQuZ2VvbWV0cnkuY29vcmRpbmF0ZXMsdT10Lmdlb21ldHJ5LnR5cGUsYz1NYXRoLnBvdyhvLnRvbGVyYW5jZS8oKDE8PG8ubWF4Wm9vbSkqby5leHRlbnQpLDIpLGY9W10sZD10LmlkO2lmKG8ucHJvbW90ZUlkP2Q9dC5wcm9wZXJ0aWVzW28ucHJvbW90ZUlkXTpvLmdlbmVyYXRlSWQmJihkPWx8fDApLFwiUG9pbnRcIj09PXUpcyhoLGYpO2Vsc2UgaWYoXCJNdWx0aVBvaW50XCI9PT11KWZvcih2YXIgcD0wO3A8aC5sZW5ndGg7cCsrKXMoaFtwXSxmKTtlbHNlIGlmKFwiTGluZVN0cmluZ1wiPT09dSluKGgsZixjLCExKTtlbHNlIGlmKFwiTXVsdGlMaW5lU3RyaW5nXCI9PT11KXtpZihvLmxpbmVNZXRyaWNzKXtmb3IocD0wO3A8aC5sZW5ndGg7cCsrKW4oaFtwXSxmPVtdLGMsITEpLGUucHVzaChyKGQsXCJMaW5lU3RyaW5nXCIsZix0LnByb3BlcnRpZXMpKTtyZXR1cm59YShoLGYsYywhMSk7fWVsc2UgaWYoXCJQb2x5Z29uXCI9PT11KWEoaCxmLGMsITApO2Vsc2Uge2lmKFwiTXVsdGlQb2x5Z29uXCIhPT11KXtpZihcIkdlb21ldHJ5Q29sbGVjdGlvblwiPT09dSl7Zm9yKHA9MDtwPHQuZ2VvbWV0cnkuZ2VvbWV0cmllcy5sZW5ndGg7cCsrKWkoZSx7aWQ6ZCxnZW9tZXRyeTp0Lmdlb21ldHJ5Lmdlb21ldHJpZXNbcF0scHJvcGVydGllczp0LnByb3BlcnRpZXN9LG8sbCk7cmV0dXJufXRocm93IG5ldyBFcnJvcihcIklucHV0IGRhdGEgaXMgbm90IGEgdmFsaWQgR2VvSlNPTiBvYmplY3QuXCIpfWZvcihwPTA7cDxoLmxlbmd0aDtwKyspe3ZhciBnPVtdO2EoaFtwXSxnLGMsITApLGYucHVzaChnKTt9fWUucHVzaChyKGQsdSxmLHQucHJvcGVydGllcykpO319ZnVuY3Rpb24gcyhlLHQpe3QucHVzaChsKGVbMF0pKSx0LnB1c2goaChlWzFdKSksdC5wdXNoKDApO31mdW5jdGlvbiBuKHQscixvLGkpe2Zvcih2YXIgcyxuLGE9MCx1PTA7dTx0Lmxlbmd0aDt1Kyspe3ZhciBjPWwodFt1XVswXSksZj1oKHRbdV1bMV0pO3IucHVzaChjKSxyLnB1c2goZiksci5wdXNoKDApLHU+MCYmKGErPWk/KHMqZi1jKm4pLzI6TWF0aC5zcXJ0KE1hdGgucG93KGMtcywyKStNYXRoLnBvdyhmLW4sMikpKSxzPWMsbj1mO312YXIgZD1yLmxlbmd0aC0zO3JbMl09MSxlKHIsMCxkLG8pLHJbZCsyXT0xLHIuc2l6ZT1NYXRoLmFicyhhKSxyLnN0YXJ0PTAsci5lbmQ9ci5zaXplO31mdW5jdGlvbiBhKGUsdCxyLG8pe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgcz1bXTtuKGVbaV0scyxyLG8pLHQucHVzaChzKTt9fWZ1bmN0aW9uIGwoZSl7cmV0dXJuIGUvMzYwKy41fWZ1bmN0aW9uIGgoZSl7dmFyIHQ9TWF0aC5zaW4oZSpNYXRoLlBJLzE4MCkscj0uNS0uMjUqTWF0aC5sb2coKDErdCkvKDEtdCkpL01hdGguUEk7cmV0dXJuIHI8MD8wOnI+MT8xOnJ9ZnVuY3Rpb24gdShlLHQsbyxpLHMsbixhLGwpe2lmKGkvPXQsbj49KG8vPXQpJiZhPGkpcmV0dXJuIGU7aWYoYTxvfHxuPj1pKXJldHVybiBudWxsO2Zvcih2YXIgaD1bXSx1PTA7dTxlLmxlbmd0aDt1Kyspe3ZhciBkPWVbdV0sZz1kLmdlb21ldHJ5LG09ZC50eXBlLHk9MD09PXM/ZC5taW5YOmQubWluWSx2PTA9PT1zP2QubWF4WDpkLm1heFk7aWYoeT49byYmdjxpKWgucHVzaChkKTtlbHNlIGlmKCEodjxvfHx5Pj1pKSl7dmFyIHc9W107aWYoXCJQb2ludFwiPT09bXx8XCJNdWx0aVBvaW50XCI9PT1tKWMoZyx3LG8saSxzKTtlbHNlIGlmKFwiTGluZVN0cmluZ1wiPT09bSlmKGcsdyxvLGkscywhMSxsLmxpbmVNZXRyaWNzKTtlbHNlIGlmKFwiTXVsdGlMaW5lU3RyaW5nXCI9PT1tKXAoZyx3LG8saSxzLCExKTtlbHNlIGlmKFwiUG9seWdvblwiPT09bSlwKGcsdyxvLGkscywhMCk7ZWxzZSBpZihcIk11bHRpUG9seWdvblwiPT09bSlmb3IodmFyIHg9MDt4PGcubGVuZ3RoO3grKyl7dmFyIFM9W107cChnW3hdLFMsbyxpLHMsITApLFMubGVuZ3RoJiZ3LnB1c2goUyk7fWlmKHcubGVuZ3RoKXtpZihsLmxpbmVNZXRyaWNzJiZcIkxpbmVTdHJpbmdcIj09PW0pe2Zvcih4PTA7eDx3Lmxlbmd0aDt4KyspaC5wdXNoKHIoZC5pZCxtLHdbeF0sZC50YWdzKSk7Y29udGludWV9XCJMaW5lU3RyaW5nXCIhPT1tJiZcIk11bHRpTGluZVN0cmluZ1wiIT09bXx8KDE9PT13Lmxlbmd0aD8obT1cIkxpbmVTdHJpbmdcIix3PXdbMF0pOm09XCJNdWx0aUxpbmVTdHJpbmdcIiksXCJQb2ludFwiIT09bSYmXCJNdWx0aVBvaW50XCIhPT1tfHwobT0zPT09dy5sZW5ndGg/XCJQb2ludFwiOlwiTXVsdGlQb2ludFwiKSxoLnB1c2gocihkLmlkLG0sdyxkLnRhZ3MpKTt9fX1yZXR1cm4gaC5sZW5ndGg/aDpudWxsfWZ1bmN0aW9uIGMoZSx0LHIsbyxpKXtmb3IodmFyIHM9MDtzPGUubGVuZ3RoO3MrPTMpe3ZhciBuPWVbcytpXTtuPj1yJiZuPD1vJiYodC5wdXNoKGVbc10pLHQucHVzaChlW3MrMV0pLHQucHVzaChlW3MrMl0pKTt9fWZ1bmN0aW9uIGYoZSx0LHIsbyxpLHMsbil7Zm9yKHZhciBhLGwsaD1kKGUpLHU9MD09PWk/bTp5LGM9ZS5zdGFydCxmPTA7ZjxlLmxlbmd0aC0zO2YrPTMpe3ZhciBwPWVbZl0sdj1lW2YrMV0sdz1lW2YrMl0seD1lW2YrM10sUz1lW2YrNF0sTT0wPT09aT9wOnYsYj0wPT09aT94OlMsST0hMTtuJiYoYT1NYXRoLnNxcnQoTWF0aC5wb3cocC14LDIpK01hdGgucG93KHYtUywyKSkpLE08cj9iPnImJihsPXUoaCxwLHYseCxTLHIpLG4mJihoLnN0YXJ0PWMrYSpsKSk6TT5vP2I8byYmKGw9dShoLHAsdix4LFMsbyksbiYmKGguc3RhcnQ9YythKmwpKTpnKGgscCx2LHcpLGI8ciYmTT49ciYmKGw9dShoLHAsdix4LFMsciksST0hMCksYj5vJiZNPD1vJiYobD11KGgscCx2LHgsUyxvKSxJPSEwKSwhcyYmSSYmKG4mJihoLmVuZD1jK2EqbCksdC5wdXNoKGgpLGg9ZChlKSksbiYmKGMrPWEpO312YXIgaz1lLmxlbmd0aC0zO3A9ZVtrXSx2PWVbaysxXSx3PWVbaysyXSwoTT0wPT09aT9wOnYpPj1yJiZNPD1vJiZnKGgscCx2LHcpLGs9aC5sZW5ndGgtMyxzJiZrPj0zJiYoaFtrXSE9PWhbMF18fGhbaysxXSE9PWhbMV0pJiZnKGgsaFswXSxoWzFdLGhbMl0pLGgubGVuZ3RoJiZ0LnB1c2goaCk7fWZ1bmN0aW9uIGQoZSl7dmFyIHQ9W107cmV0dXJuIHQuc2l6ZT1lLnNpemUsdC5zdGFydD1lLnN0YXJ0LHQuZW5kPWUuZW5kLHR9ZnVuY3Rpb24gcChlLHQscixvLGkscyl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspZihlW25dLHQscixvLGkscywhMSk7fWZ1bmN0aW9uIGcoZSx0LHIsbyl7ZS5wdXNoKHQpLGUucHVzaChyKSxlLnB1c2gobyk7fWZ1bmN0aW9uIG0oZSx0LHIsbyxpLHMpe3ZhciBuPShzLXQpLyhvLXQpO3JldHVybiBlLnB1c2gocyksZS5wdXNoKHIrKGktcikqbiksZS5wdXNoKDEpLG59ZnVuY3Rpb24geShlLHQscixvLGkscyl7dmFyIG49KHMtcikvKGktcik7cmV0dXJuIGUucHVzaCh0KyhvLXQpKm4pLGUucHVzaChzKSxlLnB1c2goMSksbn1mdW5jdGlvbiB2KGUsdCl7Zm9yKHZhciBvPVtdLGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIHMsbj1lW2ldLGE9bi50eXBlO2lmKFwiUG9pbnRcIj09PWF8fFwiTXVsdGlQb2ludFwiPT09YXx8XCJMaW5lU3RyaW5nXCI9PT1hKXM9dyhuLmdlb21ldHJ5LHQpO2Vsc2UgaWYoXCJNdWx0aUxpbmVTdHJpbmdcIj09PWF8fFwiUG9seWdvblwiPT09YSl7cz1bXTtmb3IodmFyIGw9MDtsPG4uZ2VvbWV0cnkubGVuZ3RoO2wrKylzLnB1c2godyhuLmdlb21ldHJ5W2xdLHQpKTt9ZWxzZSBpZihcIk11bHRpUG9seWdvblwiPT09YSlmb3Iocz1bXSxsPTA7bDxuLmdlb21ldHJ5Lmxlbmd0aDtsKyspe2Zvcih2YXIgaD1bXSx1PTA7dTxuLmdlb21ldHJ5W2xdLmxlbmd0aDt1KyspaC5wdXNoKHcobi5nZW9tZXRyeVtsXVt1XSx0KSk7cy5wdXNoKGgpO31vLnB1c2gocihuLmlkLGEscyxuLnRhZ3MpKTt9cmV0dXJuIG99ZnVuY3Rpb24gdyhlLHQpe3ZhciByPVtdO3Iuc2l6ZT1lLnNpemUsdm9pZCAwIT09ZS5zdGFydCYmKHIuc3RhcnQ9ZS5zdGFydCxyLmVuZD1lLmVuZCk7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKz0zKXIucHVzaChlW29dK3QsZVtvKzFdLGVbbysyXSk7cmV0dXJuIHJ9ZnVuY3Rpb24geChlLHQpe2lmKGUudHJhbnNmb3JtZWQpcmV0dXJuIGU7dmFyIHIsbyxpLHM9MTw8ZS56LG49ZS54LGE9ZS55O2ZvcihyPTA7cjxlLmZlYXR1cmVzLmxlbmd0aDtyKyspe3ZhciBsPWUuZmVhdHVyZXNbcl0saD1sLmdlb21ldHJ5LHU9bC50eXBlO2lmKGwuZ2VvbWV0cnk9W10sMT09PXUpZm9yKG89MDtvPGgubGVuZ3RoO28rPTIpbC5nZW9tZXRyeS5wdXNoKFMoaFtvXSxoW28rMV0sdCxzLG4sYSkpO2Vsc2UgZm9yKG89MDtvPGgubGVuZ3RoO28rKyl7dmFyIGM9W107Zm9yKGk9MDtpPGhbb10ubGVuZ3RoO2krPTIpYy5wdXNoKFMoaFtvXVtpXSxoW29dW2krMV0sdCxzLG4sYSkpO2wuZ2VvbWV0cnkucHVzaChjKTt9fXJldHVybiBlLnRyYW5zZm9ybWVkPSEwLGV9ZnVuY3Rpb24gUyhlLHQscixvLGkscyl7cmV0dXJuIFtNYXRoLnJvdW5kKHIqKGUqby1pKSksTWF0aC5yb3VuZChyKih0Km8tcykpXX1mdW5jdGlvbiBNKGUsdCxyLG8saSl7Zm9yKHZhciBzPXQ9PT1pLm1heFpvb20/MDppLnRvbGVyYW5jZS8oKDE8PHQpKmkuZXh0ZW50KSxuPXtmZWF0dXJlczpbXSxudW1Qb2ludHM6MCxudW1TaW1wbGlmaWVkOjAsbnVtRmVhdHVyZXM6MCxzb3VyY2U6bnVsbCx4OnIseTpvLHo6dCx0cmFuc2Zvcm1lZDohMSxtaW5YOjIsbWluWToxLG1heFg6LTEsbWF4WTowfSxhPTA7YTxlLmxlbmd0aDthKyspe24ubnVtRmVhdHVyZXMrKyxiKG4sZVthXSxzLGkpO3ZhciBsPWVbYV0ubWluWCxoPWVbYV0ubWluWSx1PWVbYV0ubWF4WCxjPWVbYV0ubWF4WTtsPG4ubWluWCYmKG4ubWluWD1sKSxoPG4ubWluWSYmKG4ubWluWT1oKSx1Pm4ubWF4WCYmKG4ubWF4WD11KSxjPm4ubWF4WSYmKG4ubWF4WT1jKTt9cmV0dXJuIG59ZnVuY3Rpb24gYihlLHQscixvKXt2YXIgaT10Lmdlb21ldHJ5LHM9dC50eXBlLG49W107aWYoXCJQb2ludFwiPT09c3x8XCJNdWx0aVBvaW50XCI9PT1zKWZvcih2YXIgYT0wO2E8aS5sZW5ndGg7YSs9MyluLnB1c2goaVthXSksbi5wdXNoKGlbYSsxXSksZS5udW1Qb2ludHMrKyxlLm51bVNpbXBsaWZpZWQrKztlbHNlIGlmKFwiTGluZVN0cmluZ1wiPT09cylJKG4saSxlLHIsITEsITEpO2Vsc2UgaWYoXCJNdWx0aUxpbmVTdHJpbmdcIj09PXN8fFwiUG9seWdvblwiPT09cylmb3IoYT0wO2E8aS5sZW5ndGg7YSsrKUkobixpW2FdLGUscixcIlBvbHlnb25cIj09PXMsMD09PWEpO2Vsc2UgaWYoXCJNdWx0aVBvbHlnb25cIj09PXMpZm9yKHZhciBsPTA7bDxpLmxlbmd0aDtsKyspe3ZhciBoPWlbbF07Zm9yKGE9MDthPGgubGVuZ3RoO2ErKylJKG4saFthXSxlLHIsITAsMD09PWEpO31pZihuLmxlbmd0aCl7dmFyIHU9dC50YWdzfHxudWxsO2lmKFwiTGluZVN0cmluZ1wiPT09cyYmby5saW5lTWV0cmljcyl7Zm9yKHZhciBjIGluIHU9e30sdC50YWdzKXVbY109dC50YWdzW2NdO3UubWFwYm94X2NsaXBfc3RhcnQ9aS5zdGFydC9pLnNpemUsdS5tYXBib3hfY2xpcF9lbmQ9aS5lbmQvaS5zaXplO312YXIgZj17Z2VvbWV0cnk6bix0eXBlOlwiUG9seWdvblwiPT09c3x8XCJNdWx0aVBvbHlnb25cIj09PXM/MzpcIkxpbmVTdHJpbmdcIj09PXN8fFwiTXVsdGlMaW5lU3RyaW5nXCI9PT1zPzI6MSx0YWdzOnV9O251bGwhPT10LmlkJiYoZi5pZD10LmlkKSxlLmZlYXR1cmVzLnB1c2goZik7fX1mdW5jdGlvbiBJKGUsdCxyLG8saSxzKXt2YXIgbj1vKm87aWYobz4wJiZ0LnNpemU8KGk/bjpvKSlyLm51bVBvaW50cys9dC5sZW5ndGgvMztlbHNlIHtmb3IodmFyIGE9W10sbD0wO2w8dC5sZW5ndGg7bCs9MykoMD09PW98fHRbbCsyXT5uKSYmKHIubnVtU2ltcGxpZmllZCsrLGEucHVzaCh0W2xdKSxhLnB1c2godFtsKzFdKSksci5udW1Qb2ludHMrKztpJiZmdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wLG89MCxpPWUubGVuZ3RoLHM9aS0yO288aTtzPW8sbys9MilyKz0oZVtvXS1lW3NdKSooZVtvKzFdK2VbcysxXSk7aWYocj4wPT09dClmb3Iobz0wLGk9ZS5sZW5ndGg7bzxpLzI7bys9Mil7dmFyIG49ZVtvXSxhPWVbbysxXTtlW29dPWVbaS0yLW9dLGVbbysxXT1lW2ktMS1vXSxlW2ktMi1vXT1uLGVbaS0xLW9dPWE7fX0oYSxzKSxlLnB1c2goYSk7fX1mdW5jdGlvbiBrKGUsdCl7dmFyIHI9KHQ9dGhpcy5vcHRpb25zPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpZVtyXT10W3JdO3JldHVybiBlfShPYmplY3QuY3JlYXRlKHRoaXMub3B0aW9ucyksdCkpLmRlYnVnO2lmKHImJmNvbnNvbGUudGltZShcInByZXByb2Nlc3MgZGF0YVwiKSx0Lm1heFpvb208MHx8dC5tYXhab29tPjI0KXRocm93IG5ldyBFcnJvcihcIm1heFpvb20gc2hvdWxkIGJlIGluIHRoZSAwLTI0IHJhbmdlXCIpO2lmKHQucHJvbW90ZUlkJiZ0LmdlbmVyYXRlSWQpdGhyb3cgbmV3IEVycm9yKFwicHJvbW90ZUlkIGFuZCBnZW5lcmF0ZUlkIGNhbm5vdCBiZSB1c2VkIHRvZ2V0aGVyLlwiKTt2YXIgbz1mdW5jdGlvbihlLHQpe3ZhciByPVtdO2lmKFwiRmVhdHVyZUNvbGxlY3Rpb25cIj09PWUudHlwZSlmb3IodmFyIG89MDtvPGUuZmVhdHVyZXMubGVuZ3RoO28rKylpKHIsZS5mZWF0dXJlc1tvXSx0LG8pO2Vsc2UgaShyLFwiRmVhdHVyZVwiPT09ZS50eXBlP2U6e2dlb21ldHJ5OmV9LHQpO3JldHVybiByfShlLHQpO3RoaXMudGlsZXM9e30sdGhpcy50aWxlQ29vcmRzPVtdLHImJihjb25zb2xlLnRpbWVFbmQoXCJwcmVwcm9jZXNzIGRhdGFcIiksY29uc29sZS5sb2coXCJpbmRleDogbWF4Wm9vbTogJWQsIG1heFBvaW50czogJWRcIix0LmluZGV4TWF4Wm9vbSx0LmluZGV4TWF4UG9pbnRzKSxjb25zb2xlLnRpbWUoXCJnZW5lcmF0ZSB0aWxlc1wiKSx0aGlzLnN0YXRzPXt9LHRoaXMudG90YWw9MCksKG89ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmJ1ZmZlci90LmV4dGVudCxvPWUsaT11KGUsMSwtMS1yLHIsMCwtMSwyLHQpLHM9dShlLDEsMS1yLDIrciwwLC0xLDIsdCk7cmV0dXJuIChpfHxzKSYmKG89dShlLDEsLXIsMStyLDAsLTEsMix0KXx8W10saSYmKG89dihpLDEpLmNvbmNhdChvKSkscyYmKG89by5jb25jYXQodihzLC0xKSkpKSxvfShvLHQpKS5sZW5ndGgmJnRoaXMuc3BsaXRUaWxlKG8sMCwwLDApLHImJihvLmxlbmd0aCYmY29uc29sZS5sb2coXCJmZWF0dXJlczogJWQsIHBvaW50czogJWRcIix0aGlzLnRpbGVzWzBdLm51bUZlYXR1cmVzLHRoaXMudGlsZXNbMF0ubnVtUG9pbnRzKSxjb25zb2xlLnRpbWVFbmQoXCJnZW5lcmF0ZSB0aWxlc1wiKSxjb25zb2xlLmxvZyhcInRpbGVzIGdlbmVyYXRlZDpcIix0aGlzLnRvdGFsLEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdHMpKSk7fWZ1bmN0aW9uIFAoZSx0LHIpe3JldHVybiAzMiooKDE8PGUpKnIrdCkrZX1yZXR1cm4gay5wcm90b3R5cGUub3B0aW9ucz17bWF4Wm9vbToxNCxpbmRleE1heFpvb206NSxpbmRleE1heFBvaW50czoxZTUsdG9sZXJhbmNlOjMsZXh0ZW50OjQwOTYsYnVmZmVyOjY0LGxpbmVNZXRyaWNzOiExLHByb21vdGVJZDpudWxsLGdlbmVyYXRlSWQ6ITEsZGVidWc6MH0say5wcm90b3R5cGUuc3BsaXRUaWxlPWZ1bmN0aW9uKGUsdCxyLG8saSxzLG4pe2Zvcih2YXIgYT1bZSx0LHIsb10sbD10aGlzLm9wdGlvbnMsaD1sLmRlYnVnO2EubGVuZ3RoOyl7bz1hLnBvcCgpLHI9YS5wb3AoKSx0PWEucG9wKCksZT1hLnBvcCgpO3ZhciBjPTE8PHQsZj1QKHQscixvKSxkPXRoaXMudGlsZXNbZl07aWYoIWQmJihoPjEmJmNvbnNvbGUudGltZShcImNyZWF0aW9uXCIpLGQ9dGhpcy50aWxlc1tmXT1NKGUsdCxyLG8sbCksdGhpcy50aWxlQ29vcmRzLnB1c2goe3o6dCx4OnIseTpvfSksaCkpe2g+MSYmKGNvbnNvbGUubG9nKFwidGlsZSB6JWQtJWQtJWQgKGZlYXR1cmVzOiAlZCwgcG9pbnRzOiAlZCwgc2ltcGxpZmllZDogJWQpXCIsdCxyLG8sZC5udW1GZWF0dXJlcyxkLm51bVBvaW50cyxkLm51bVNpbXBsaWZpZWQpLGNvbnNvbGUudGltZUVuZChcImNyZWF0aW9uXCIpKTt2YXIgcD1cInpcIit0O3RoaXMuc3RhdHNbcF09KHRoaXMuc3RhdHNbcF18fDApKzEsdGhpcy50b3RhbCsrO31pZihkLnNvdXJjZT1lLGkpe2lmKHQ9PT1sLm1heFpvb218fHQ9PT1pKWNvbnRpbnVlO3ZhciBnPTE8PGktdDtpZihyIT09TWF0aC5mbG9vcihzL2cpfHxvIT09TWF0aC5mbG9vcihuL2cpKWNvbnRpbnVlfWVsc2UgaWYodD09PWwuaW5kZXhNYXhab29tfHxkLm51bVBvaW50czw9bC5pbmRleE1heFBvaW50cyljb250aW51ZTtpZihkLnNvdXJjZT1udWxsLDAhPT1lLmxlbmd0aCl7aD4xJiZjb25zb2xlLnRpbWUoXCJjbGlwcGluZ1wiKTt2YXIgbSx5LHYsdyx4LFMsYj0uNSpsLmJ1ZmZlci9sLmV4dGVudCxJPS41LWIsaz0uNStiLF89MStiO209eT12PXc9bnVsbCx4PXUoZSxjLHItYixyK2ssMCxkLm1pblgsZC5tYXhYLGwpLFM9dShlLGMscitJLHIrXywwLGQubWluWCxkLm1heFgsbCksZT1udWxsLHgmJihtPXUoeCxjLG8tYixvK2ssMSxkLm1pblksZC5tYXhZLGwpLHk9dSh4LGMsbytJLG8rXywxLGQubWluWSxkLm1heFksbCkseD1udWxsKSxTJiYodj11KFMsYyxvLWIsbytrLDEsZC5taW5ZLGQubWF4WSxsKSx3PXUoUyxjLG8rSSxvK18sMSxkLm1pblksZC5tYXhZLGwpLFM9bnVsbCksaD4xJiZjb25zb2xlLnRpbWVFbmQoXCJjbGlwcGluZ1wiKSxhLnB1c2gobXx8W10sdCsxLDIqciwyKm8pLGEucHVzaCh5fHxbXSx0KzEsMipyLDIqbysxKSxhLnB1c2godnx8W10sdCsxLDIqcisxLDIqbyksYS5wdXNoKHd8fFtdLHQrMSwyKnIrMSwyKm8rMSk7fX19LGsucHJvdG90eXBlLmdldFRpbGU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXRoaXMub3B0aW9ucyxpPW8uZXh0ZW50LHM9by5kZWJ1ZztpZihlPDB8fGU+MjQpcmV0dXJuIG51bGw7dmFyIG49MTw8ZSxhPVAoZSx0PSh0JW4rbiklbixyKTtpZih0aGlzLnRpbGVzW2FdKXJldHVybiB4KHRoaXMudGlsZXNbYV0saSk7cz4xJiZjb25zb2xlLmxvZyhcImRyaWxsaW5nIGRvd24gdG8geiVkLSVkLSVkXCIsZSx0LHIpO2Zvcih2YXIgbCxoPWUsdT10LGM9cjshbCYmaD4wOyloLS0sdT1NYXRoLmZsb29yKHUvMiksYz1NYXRoLmZsb29yKGMvMiksbD10aGlzLnRpbGVzW1AoaCx1LGMpXTtyZXR1cm4gbCYmbC5zb3VyY2U/KHM+MSYmY29uc29sZS5sb2coXCJmb3VuZCBwYXJlbnQgdGlsZSB6JWQtJWQtJWRcIixoLHUsYykscz4xJiZjb25zb2xlLnRpbWUoXCJkcmlsbGluZyBkb3duXCIpLHRoaXMuc3BsaXRUaWxlKGwuc291cmNlLGgsdSxjLGUsdCxyKSxzPjEmJmNvbnNvbGUudGltZUVuZChcImRyaWxsaW5nIGRvd25cIiksdGhpcy50aWxlc1thXT94KHRoaXMudGlsZXNbYV0saSk6bnVsbCk6bnVsbH0sZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGsoZSx0KX19KCk7dmFyIEo9ZS5nKE4uZXhwb3J0cyk7ZnVuY3Rpb24gWSh0LHIpe2NvbnN0IG89dC50aWxlSUQuY2Fub25pY2FsO2lmKCF0aGlzLl9nZW9KU09OSW5kZXgpcmV0dXJuIHIobnVsbCxudWxsKTtjb25zdCBpPXRoaXMuX2dlb0pTT05JbmRleC5nZXRUaWxlKG8ueixvLngsby55KTtpZighaSlyZXR1cm4gcihudWxsLG51bGwpO2NvbnN0IHM9bmV3IGNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMubGF5ZXJzPXtfZ2VvanNvblRpbGVMYXllcjp0aGlzfSx0aGlzLm5hbWU9XCJfZ2VvanNvblRpbGVMYXllclwiLHRoaXMuZXh0ZW50PWUuRSx0aGlzLmxlbmd0aD10Lmxlbmd0aCx0aGlzLl9mZWF0dXJlcz10O31mZWF0dXJlKHQpe3JldHVybiBuZXcgY2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5fZmVhdHVyZT10LHRoaXMuZXh0ZW50PWUuRSx0aGlzLnR5cGU9dC50eXBlLHRoaXMucHJvcGVydGllcz10LnRhZ3MsXCJpZFwiaW4gdCYmIWlzTmFOKHQuaWQpJiYodGhpcy5pZD1wYXJzZUludCh0LmlkLDEwKSk7fWxvYWRHZW9tZXRyeSgpe2lmKDE9PT10aGlzLl9mZWF0dXJlLnR5cGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IHIgb2YgdGhpcy5fZmVhdHVyZS5nZW9tZXRyeSl0LnB1c2goW25ldyBlLlAoclswXSxyWzFdKV0pO3JldHVybiB0fXtjb25zdCB0PVtdO2Zvcihjb25zdCByIG9mIHRoaXMuX2ZlYXR1cmUuZ2VvbWV0cnkpe2NvbnN0IG89W107Zm9yKGNvbnN0IHQgb2YgcilvLnB1c2gobmV3IGUuUCh0WzBdLHRbMV0pKTt0LnB1c2gobyk7fXJldHVybiB0fX10b0dlb0pTT04oZSx0LHIpe3JldHVybiBsLmNhbGwodGhpcyxlLHQscil9fSh0aGlzLl9mZWF0dXJlc1t0XSl9fShpLmZlYXR1cmVzKTtsZXQgbj1rKHMpOzA9PT1uLmJ5dGVPZmZzZXQmJm4uYnl0ZUxlbmd0aD09PW4uYnVmZmVyLmJ5dGVMZW5ndGh8fChuPW5ldyBVaW50OEFycmF5KG4pKSxyKG51bGwse3ZlY3RvclRpbGU6cyxyYXdEYXRhOm4uYnVmZmVyfSk7fWNsYXNzIEcgZXh0ZW5kcyBlLmR7Y29uc3RydWN0b3IoZSx0LHIsbyxpLHMpe3N1cGVyKGUsdCxyLG8sWSxzKSxpJiYodGhpcy5sb2FkR2VvSlNPTj1pKTt9bG9hZERhdGEodCxyKXtjb25zdCBvPXQmJnQucmVxdWVzdCxpPW8mJm8uY29sbGVjdFJlc291cmNlVGltaW5nO3RoaXMubG9hZEdlb0pTT04odCwoKHMsbik9PntpZihzfHwhbilyZXR1cm4gcihzKTtpZihcIm9iamVjdFwiIT10eXBlb2YgbilyZXR1cm4gcihuZXcgRXJyb3IoYElucHV0IGRhdGEgZ2l2ZW4gdG8gJyR7dC5zb3VyY2V9JyBpcyBub3QgYSB2YWxpZCBHZW9KU09OIG9iamVjdC5gKSk7e2EobiwhMCk7dHJ5e2lmKHQuZmlsdGVyKXtjb25zdCByPWUuZSh0LmZpbHRlcix7dHlwZTpcImJvb2xlYW5cIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsb3ZlcnJpZGFibGU6ITEsdHJhbnNpdGlvbjohMX0pO2lmKFwiZXJyb3JcIj09PXIucmVzdWx0KXRocm93IG5ldyBFcnJvcihyLnZhbHVlLm1hcCgoZT0+YCR7ZS5rZXl9OiAke2UubWVzc2FnZX1gKSkuam9pbihcIiwgXCIpKTtjb25zdCBvPW4uZmVhdHVyZXMuZmlsdGVyKChlPT5yLnZhbHVlLmV2YWx1YXRlKHt6b29tOjB9LGUpKSk7bj17dHlwZTpcIkZlYXR1cmVDb2xsZWN0aW9uXCIsZmVhdHVyZXM6b307fXRoaXMuX2dlb0pTT05JbmRleD10LmNsdXN0ZXI/bmV3IGooZnVuY3Rpb24oe3N1cGVyY2x1c3Rlck9wdGlvbnM6dCxjbHVzdGVyUHJvcGVydGllczpyfSl7aWYoIXJ8fCF0KXJldHVybiB0O2NvbnN0IG89e30saT17fSxzPXthY2N1bXVsYXRlZDpudWxsLHpvb206MH0sbj17cHJvcGVydGllczpudWxsfSxhPU9iamVjdC5rZXlzKHIpO2Zvcihjb25zdCB0IG9mIGEpe2NvbnN0W3Msbl09clt0XSxhPWUuZShuKSxsPWUuZShcInN0cmluZ1wiPT10eXBlb2Ygcz9bcyxbXCJhY2N1bXVsYXRlZFwiXSxbXCJnZXRcIix0XV06cyk7b1t0XT1hLnZhbHVlLGlbdF09bC52YWx1ZTt9cmV0dXJuIHQubWFwPWU9PntuLnByb3BlcnRpZXM9ZTtjb25zdCB0PXt9O2Zvcihjb25zdCBlIG9mIGEpdFtlXT1vW2VdLmV2YWx1YXRlKHMsbik7cmV0dXJuIHR9LHQucmVkdWNlPShlLHQpPT57bi5wcm9wZXJ0aWVzPXQ7Zm9yKGNvbnN0IHQgb2YgYSlzLmFjY3VtdWxhdGVkPWVbdF0sZVt0XT1pW3RdLmV2YWx1YXRlKHMsbik7fSx0fSh0KSkubG9hZChuLmZlYXR1cmVzKTpKKG4sdC5nZW9qc29uVnRPcHRpb25zKTt9Y2F0Y2gocyl7cmV0dXJuIHIocyl9dGhpcy5sb2FkZWQ9e307Y29uc3QgbD17fTtpZihpKXtjb25zdCByPWUuZihvKTtyJiYobC5yZXNvdXJjZVRpbWluZz17fSxsLnJlc291cmNlVGltaW5nW3Quc291cmNlXT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHIpKSk7fXIobnVsbCxsKTt9fSkpO31yZWxvYWRUaWxlKGUsdCl7Y29uc3Qgcj10aGlzLmxvYWRlZDtyZXR1cm4gciYmcltlLnVpZF0/c3VwZXIucmVsb2FkVGlsZShlLHQpOnRoaXMubG9hZFRpbGUoZSx0KX1sb2FkR2VvSlNPTih0LHIpe2lmKHQucmVxdWVzdCllLmgodC5yZXF1ZXN0LHIpO2Vsc2Uge2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0LmRhdGEpcmV0dXJuIHIobmV3IEVycm9yKGBJbnB1dCBkYXRhIGdpdmVuIHRvICcke3Quc291cmNlfScgaXMgbm90IGEgdmFsaWQgR2VvSlNPTiBvYmplY3QuYCkpO3RyeXtyZXR1cm4gcihudWxsLEpTT04ucGFyc2UodC5kYXRhKSl9Y2F0Y2goZSl7cmV0dXJuIHIobmV3IEVycm9yKGBJbnB1dCBkYXRhIGdpdmVuIHRvICcke3Quc291cmNlfScgaXMgbm90IGEgdmFsaWQgR2VvSlNPTiBvYmplY3QuYCkpfX19Z2V0Q2x1c3RlckV4cGFuc2lvblpvb20oZSx0KXt0cnl7dChudWxsLHRoaXMuX2dlb0pTT05JbmRleC5nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbShlLmNsdXN0ZXJJZCkpO31jYXRjaChlKXt0KGUpO319Z2V0Q2x1c3RlckNoaWxkcmVuKGUsdCl7dHJ5e3QobnVsbCx0aGlzLl9nZW9KU09OSW5kZXguZ2V0Q2hpbGRyZW4oZS5jbHVzdGVySWQpKTt9Y2F0Y2goZSl7dChlKTt9fWdldENsdXN0ZXJMZWF2ZXMoZSx0KXt0cnl7dChudWxsLHRoaXMuX2dlb0pTT05JbmRleC5nZXRMZWF2ZXMoZS5jbHVzdGVySWQsZS5saW1pdCxlLm9mZnNldCkpO31jYXRjaChlKXt0KGUpO319fWNsYXNzIFd7Y29uc3RydWN0b3IodCxyKXt0aGlzLnRpbGVJRD1uZXcgZS5PKHQudGlsZUlELm92ZXJzY2FsZWRaLHQudGlsZUlELndyYXAsdC50aWxlSUQuY2Fub25pY2FsLnosdC50aWxlSUQuY2Fub25pY2FsLngsdC50aWxlSUQuY2Fub25pY2FsLnkpLHRoaXMudGlsZVpvb209dC50aWxlWm9vbSx0aGlzLnVpZD10LnVpZCx0aGlzLnpvb209dC56b29tLHRoaXMuY2Fub25pY2FsPXQudGlsZUlELmNhbm9uaWNhbCx0aGlzLnBpeGVsUmF0aW89dC5waXhlbFJhdGlvLHRoaXMudGlsZVNpemU9dC50aWxlU2l6ZSx0aGlzLnNvdXJjZT10LnNvdXJjZSx0aGlzLm92ZXJzY2FsaW5nPXRoaXMudGlsZUlELm92ZXJzY2FsZUZhY3RvcigpLHRoaXMucHJvamVjdGlvbj10LnByb2plY3Rpb24sdGhpcy5icmlnaHRuZXNzPXI7fXBhcnNlKHQscixvLGkpe3RoaXMuc3RhdHVzPVwicGFyc2luZ1wiO2NvbnN0IHM9bmV3IGUuTyhvLnRpbGVJRC5vdmVyc2NhbGVkWixvLnRpbGVJRC53cmFwLG8udGlsZUlELmNhbm9uaWNhbC56LG8udGlsZUlELmNhbm9uaWNhbC54LG8udGlsZUlELmNhbm9uaWNhbC55KSxuPXt9LGE9ci5mYW1pbGllc0J5U291cmNlW28uc291cmNlXSxsPW5ldyBlLkYocyxvLnByb21vdGVJZCk7cmV0dXJuIGwuYnVja2V0TGF5ZXJJRHM9W10sZS5sKHQpLnRoZW4oKHQ9PntpZighdClyZXR1cm4gaShuZXcgRXJyb3IoXCJDb3VsZCBub3QgcGFyc2UgdGlsZVwiKSk7Y29uc3Qgcj1lLmoodCwxL2UudChvLnRpbGVJRC5jYW5vbmljYWwpKSxoPXQuanNvbi5leHRlbnNpb25zVXNlZCYmdC5qc29uLmV4dGVuc2lvbnNVc2VkLmluY2x1ZGVzKFwiTUFQQk9YX21lc2hfZmVhdHVyZXNcIiksdT1uZXcgZS5rKHRoaXMuem9vbSx7YnJpZ2h0bmVzczp0aGlzLmJyaWdodG5lc3N9KTtmb3IoY29uc3QgbyBpbiBhKWZvcihjb25zdCBpIG9mIGFbb10pe2NvbnN0IG89aVswXSxhPXQuanNvbi5leHRlbnNpb25zVXNlZDtvLnJlY2FsY3VsYXRlKHUsW10pO2NvbnN0IGw9bmV3IGUuVChyLHMsYSYmYS5pbmNsdWRlcyhcIk1BUEJPWF9tZXNoX2ZlYXR1cmVzXCIpLHRoaXMuYnJpZ2h0bmVzcyk7aHx8KGwubmVlZHNVcGxvYWQ9ITApLG5bby5mcWlkXT1sLGwuZXZhbHVhdGUobyk7fXRoaXMuc3RhdHVzPVwiZG9uZVwiLGkobnVsbCx7YnVja2V0czpuLGZlYXR1cmVJbmRleDpsfSk7fSkpLmNhdGNoKChlPT5pKG5ldyBFcnJvcihlLm1lc3NhZ2UpKSkpfX1jbGFzcyBYe2NvbnN0cnVjdG9yKGUsdCxyLG8saSxzKXt0aGlzLmFjdG9yPWUsdGhpcy5sYXllckluZGV4PXQsdGhpcy5icmlnaHRuZXNzPXMsdGhpcy5sb2FkaW5nPXt9LHRoaXMubG9hZGVkPXt9O31sb2FkVGlsZSh0LHIpe2NvbnN0IG89dC51aWQsaT10aGlzLmxvYWRpbmdbb109bmV3IFcodCx0aGlzLmJyaWdodG5lc3MpO2UuaSh0LnJlcXVlc3QsKChlLHMpPT57Y29uc3Qgbj0hdGhpcy5sb2FkaW5nW29dO3JldHVybiBkZWxldGUgdGhpcy5sb2FkaW5nW29dLG58fGU/KGkuc3RhdHVzPVwiZG9uZVwiLG58fCh0aGlzLmxvYWRlZFtvXT1pKSxyKGUpKTpzJiYwIT09cy5ieXRlTGVuZ3RoP3ZvaWQgaS5wYXJzZShzLHRoaXMubGF5ZXJJbmRleCx0LCgoZSx0KT0+e2kuc3RhdHVzPVwiZG9uZVwiLHRoaXMubG9hZGVkPXRoaXMubG9hZGVkfHx7fSx0aGlzLmxvYWRlZFtvXT1pLGV8fCF0P3IoZSk6cihudWxsLHQpO30pKTooaS5zdGF0dXM9XCJkb25lXCIsdGhpcy5sb2FkZWRbb109aSxyKCkpfSkpO31yZWxvYWRUaWxlKGUsdCl7Y29uc3Qgcj10aGlzLmxvYWRlZCxvPWUudWlkO2lmKHImJnJbb10pe2NvbnN0IGk9cltvXTtpLnByb2plY3Rpb249ZS5wcm9qZWN0aW9uLGkuYnJpZ2h0bmVzcz1lLmJyaWdodG5lc3M7Y29uc3Qgcz0ocixvKT0+e2kucmVsb2FkQ2FsbGJhY2smJihkZWxldGUgaS5yZWxvYWRDYWxsYmFjayx0aGlzLmxvYWRUaWxlKGUsdCkpLHQocixvKTt9O1wicGFyc2luZ1wiPT09aS5zdGF0dXM/aS5yZWxvYWRDYWxsYmFjaz1zOlwiZG9uZVwiPT09aS5zdGF0dXMmJnRoaXMubG9hZFRpbGUoZSx0KTt9fWFib3J0VGlsZShlLHQpe2NvbnN0IHI9ZS51aWQ7dGhpcy5sb2FkaW5nW3JdJiZkZWxldGUgdGhpcy5sb2FkaW5nW3JdLHQoKTt9cmVtb3ZlVGlsZShlLHQpe2NvbnN0IHI9dGhpcy5sb2FkZWQsbz1lLnVpZDtyJiZyW29dJiZkZWxldGUgcltvXSx0KCk7fX1jbGFzcyBWe2NvbnN0cnVjdG9yKHQpe3RoaXMuc2VsZj10LHRoaXMuYWN0b3I9bmV3IGUuQSh0LHRoaXMpLHRoaXMubGF5ZXJJbmRleGVzPXt9LHRoaXMuYXZhaWxhYmxlSW1hZ2VzPXt9LHRoaXMuaXNTcHJpdGVMb2FkZWQ9e30sdGhpcy5wcm9qZWN0aW9ucz17fSx0aGlzLmRlZmF1bHRQcm9qZWN0aW9uPWUubSh7bmFtZTpcIm1lcmNhdG9yXCJ9KSx0aGlzLndvcmtlclNvdXJjZVR5cGVzPXt2ZWN0b3I6ZS5kLGdlb2pzb246RyxcImJhdGNoZWQtbW9kZWxcIjpYfSx0aGlzLndvcmtlclNvdXJjZXM9e30sdGhpcy5kZW1Xb3JrZXJTb3VyY2VzPXt9LHRoaXMuc2VsZi5yZWdpc3RlcldvcmtlclNvdXJjZT0oZSx0KT0+e2lmKHRoaXMud29ya2VyU291cmNlVHlwZXNbZV0pdGhyb3cgbmV3IEVycm9yKGBXb3JrZXIgc291cmNlIHdpdGggbmFtZSBcIiR7ZX1cIiBhbHJlYWR5IHJlZ2lzdGVyZWQuYCk7dGhpcy53b3JrZXJTb3VyY2VUeXBlc1tlXT10O30sdGhpcy5zZWxmLnJlZ2lzdGVyUlRMVGV4dFBsdWdpbj10PT57aWYoZS5uLmlzUGFyc2VkKCkpdGhyb3cgbmV3IEVycm9yKFwiUlRMIHRleHQgcGx1Z2luIGFscmVhZHkgcmVnaXN0ZXJlZC5cIik7ZS5uLmFwcGx5QXJhYmljU2hhcGluZz10LmFwcGx5QXJhYmljU2hhcGluZyxlLm4ucHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0PXQucHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0LGUubi5wcm9jZXNzU3R5bGVkQmlkaXJlY3Rpb25hbFRleHQ9dC5wcm9jZXNzU3R5bGVkQmlkaXJlY3Rpb25hbFRleHQ7fTt9Y2xlYXJDYWNoZXMoZSx0LHIpe2RlbGV0ZSB0aGlzLmxheWVySW5kZXhlc1tlXSxkZWxldGUgdGhpcy5hdmFpbGFibGVJbWFnZXNbZV0sZGVsZXRlIHRoaXMud29ya2VyU291cmNlc1tlXSxkZWxldGUgdGhpcy5kZW1Xb3JrZXJTb3VyY2VzW2VdLHIoKTt9Y2hlY2tJZlJlYWR5KGUsdCxyKXtyKCk7fXNldFJlZmVycmVyKGUsdCl7dGhpcy5yZWZlcnJlcj10O31zcHJpdGVMb2FkZWQodCx7c2NvcGU6cixpc0xvYWRlZDpvfSl7aWYodGhpcy5pc1Nwcml0ZUxvYWRlZFt0XXx8KHRoaXMuaXNTcHJpdGVMb2FkZWRbdF09e30pLHRoaXMuaXNTcHJpdGVMb2FkZWRbdF1bcl09byx0aGlzLndvcmtlclNvdXJjZXNbdF0mJnRoaXMud29ya2VyU291cmNlc1t0XVtyXSlmb3IoY29uc3QgaSBpbiB0aGlzLndvcmtlclNvdXJjZXNbdF1bcl0pe2NvbnN0IHM9dGhpcy53b3JrZXJTb3VyY2VzW3RdW3JdW2ldO2Zvcihjb25zdCB0IGluIHMpc1t0XWluc3RhbmNlb2YgZS5kJiYoc1t0XS5pc1Nwcml0ZUxvYWRlZD1vLHNbdF0uZmlyZShuZXcgZS5vKFwiaXNTcHJpdGVMb2FkZWRcIikpKTt9fXNldEltYWdlcyhlLHtzY29wZTp0LGltYWdlczpyfSxvKXtpZih0aGlzLmF2YWlsYWJsZUltYWdlc1tlXXx8KHRoaXMuYXZhaWxhYmxlSW1hZ2VzW2VdPXt9KSx0aGlzLmF2YWlsYWJsZUltYWdlc1tlXVt0XT1yLHRoaXMud29ya2VyU291cmNlc1tlXSYmdGhpcy53b3JrZXJTb3VyY2VzW2VdW3RdKXtmb3IoY29uc3QgbyBpbiB0aGlzLndvcmtlclNvdXJjZXNbZV1bdF0pe2NvbnN0IGk9dGhpcy53b3JrZXJTb3VyY2VzW2VdW3RdW29dO2Zvcihjb25zdCBlIGluIGkpaVtlXS5hdmFpbGFibGVJbWFnZXM9cjt9bygpO31lbHNlIG8oKTt9c2V0UHJvamVjdGlvbih0LHIpe3RoaXMucHJvamVjdGlvbnNbdF09ZS5tKHIpO31zZXRCcmlnaHRuZXNzKGUsdCxyKXt0aGlzLmJyaWdodG5lc3M9dCxyKCk7fXNldExheWVycyhlLHQscil7dGhpcy5nZXRMYXllckluZGV4KGUsdC5zY29wZSkucmVwbGFjZSh0LmxheWVycyx0Lm9wdGlvbnMpLHIoKTt9dXBkYXRlTGF5ZXJzKGUsdCxyKXt0aGlzLmdldExheWVySW5kZXgoZSx0LnNjb3BlKS51cGRhdGUodC5sYXllcnMsdC5yZW1vdmVkSWRzLHQub3B0aW9ucykscigpO31sb2FkVGlsZShlLHQscil7dC5wcm9qZWN0aW9uPXRoaXMucHJvamVjdGlvbnNbZV18fHRoaXMuZGVmYXVsdFByb2plY3Rpb24sdGhpcy5nZXRXb3JrZXJTb3VyY2UoZSx0LnR5cGUsdC5zb3VyY2UsdC5zY29wZSkubG9hZFRpbGUodCxyKTt9bG9hZERFTVRpbGUoZSx0LHIpe3RoaXMuZ2V0REVNV29ya2VyU291cmNlKGUsdC5zb3VyY2UsdC5zY29wZSkubG9hZFRpbGUodCxyKTt9cmVsb2FkVGlsZShlLHQscil7dC5wcm9qZWN0aW9uPXRoaXMucHJvamVjdGlvbnNbZV18fHRoaXMuZGVmYXVsdFByb2plY3Rpb24sdGhpcy5nZXRXb3JrZXJTb3VyY2UoZSx0LnR5cGUsdC5zb3VyY2UsdC5zY29wZSkucmVsb2FkVGlsZSh0LHIpO31hYm9ydFRpbGUoZSx0LHIpe3RoaXMuZ2V0V29ya2VyU291cmNlKGUsdC50eXBlLHQuc291cmNlLHQuc2NvcGUpLmFib3J0VGlsZSh0LHIpO31yZW1vdmVUaWxlKGUsdCxyKXt0aGlzLmdldFdvcmtlclNvdXJjZShlLHQudHlwZSx0LnNvdXJjZSx0LnNjb3BlKS5yZW1vdmVUaWxlKHQscik7fXJlbW92ZVNvdXJjZShlLHQscil7aWYoISh0aGlzLndvcmtlclNvdXJjZXNbZV0mJnRoaXMud29ya2VyU291cmNlc1tlXVt0LnNjb3BlXSYmdGhpcy53b3JrZXJTb3VyY2VzW2VdW3Quc2NvcGVdW3QudHlwZV0mJnRoaXMud29ya2VyU291cmNlc1tlXVt0LnNjb3BlXVt0LnR5cGVdW3Quc291cmNlXSkpcmV0dXJuO2NvbnN0IG89dGhpcy53b3JrZXJTb3VyY2VzW2VdW3Quc2NvcGVdW3QudHlwZV1bdC5zb3VyY2VdO2RlbGV0ZSB0aGlzLndvcmtlclNvdXJjZXNbZV1bdC5zY29wZV1bdC50eXBlXVt0LnNvdXJjZV0sdm9pZCAwIT09by5yZW1vdmVTb3VyY2U/by5yZW1vdmVTb3VyY2UodCxyKTpyKCk7fWxvYWRXb3JrZXJTb3VyY2UoZSx0LHIpe3RyeXt0aGlzLnNlbGYuaW1wb3J0U2NyaXB0cyh0LnVybCkscigpO31jYXRjaChlKXtyKGUudG9TdHJpbmcoKSk7fX1zeW5jUlRMUGx1Z2luU3RhdGUodCxyLG8pe3RyeXtlLm4uc2V0U3RhdGUocik7Y29uc3QgdD1lLm4uZ2V0UGx1Z2luVVJMKCk7aWYoZS5uLmlzTG9hZGVkKCkmJiFlLm4uaXNQYXJzZWQoKSYmbnVsbCE9dCl7dGhpcy5zZWxmLmltcG9ydFNjcmlwdHModCk7Y29uc3Qgcj1lLm4uaXNQYXJzZWQoKTtvKHI/dm9pZCAwOm5ldyBFcnJvcihgUlRMIFRleHQgUGx1Z2luIGZhaWxlZCB0byBpbXBvcnQgc2NyaXB0cyBmcm9tICR7dH1gKSxyKTt9fWNhdGNoKGUpe28oZS50b1N0cmluZygpKTt9fXNldERyYWNvVXJsKGUsdCl7dGhpcy5kcmFjb1VybD10O31nZXRBdmFpbGFibGVJbWFnZXMoZSx0KXt0aGlzLmF2YWlsYWJsZUltYWdlc1tlXXx8KHRoaXMuYXZhaWxhYmxlSW1hZ2VzW2VdPXt9KTtsZXQgcj10aGlzLmF2YWlsYWJsZUltYWdlc1tlXVt0XTtyZXR1cm4gcnx8KHI9W10pLHJ9Z2V0TGF5ZXJJbmRleChlLHQpe3RoaXMubGF5ZXJJbmRleGVzW2VdfHwodGhpcy5sYXllckluZGV4ZXNbZV09e30pO2xldCByPXRoaXMubGF5ZXJJbmRleGVzW2VdW3RdO3JldHVybiByfHwocj10aGlzLmxheWVySW5kZXhlc1tlXVt0XT1uZXcgbyxyLnNjb3BlPXQpLHJ9Z2V0V29ya2VyU291cmNlKGUsdCxyLG8pe2lmKHRoaXMud29ya2VyU291cmNlc1tlXXx8KHRoaXMud29ya2VyU291cmNlc1tlXT17fSksdGhpcy53b3JrZXJTb3VyY2VzW2VdW29dfHwodGhpcy53b3JrZXJTb3VyY2VzW2VdW29dPXt9KSx0aGlzLndvcmtlclNvdXJjZXNbZV1bb11bdF18fCh0aGlzLndvcmtlclNvdXJjZXNbZV1bb11bdF09e30pLHRoaXMuaXNTcHJpdGVMb2FkZWRbZV18fCh0aGlzLmlzU3ByaXRlTG9hZGVkW2VdPXt9KSwhdGhpcy53b3JrZXJTb3VyY2VzW2VdW29dW3RdW3JdKXtjb25zdCBpPXtzZW5kOih0LHIsbyxpLHMsbik9Pnt0aGlzLmFjdG9yLnNlbmQodCxyLG8sZSxzLG4pO30sc2NoZWR1bGVyOnRoaXMuYWN0b3Iuc2NoZWR1bGVyfTt0aGlzLndvcmtlclNvdXJjZXNbZV1bb11bdF1bcl09bmV3IHRoaXMud29ya2VyU291cmNlVHlwZXNbdF0oaSx0aGlzLmdldExheWVySW5kZXgoZSxvKSx0aGlzLmdldEF2YWlsYWJsZUltYWdlcyhlLG8pLHRoaXMuaXNTcHJpdGVMb2FkZWRbZV1bb10sdm9pZCAwLHRoaXMuYnJpZ2h0bmVzcyk7fXJldHVybiB0aGlzLndvcmtlclNvdXJjZXNbZV1bb11bdF1bcl19Z2V0REVNV29ya2VyU291cmNlKGUsdCxyKXtyZXR1cm4gdGhpcy5kZW1Xb3JrZXJTb3VyY2VzW2VdfHwodGhpcy5kZW1Xb3JrZXJTb3VyY2VzW2VdPXt9KSx0aGlzLmRlbVdvcmtlclNvdXJjZXNbZV1bcl18fCh0aGlzLmRlbVdvcmtlclNvdXJjZXNbZV1bcl09e30pLHRoaXMuZGVtV29ya2VyU291cmNlc1tlXVtyXVt0XXx8KHRoaXMuZGVtV29ya2VyU291cmNlc1tlXVtyXVt0XT1uZXcgaSksdGhpcy5kZW1Xb3JrZXJTb3VyY2VzW2VdW3JdW3RdfWVuZm9yY2VDYWNoZVNpemVMaW1pdCh0LHIpe2UucShyKTt9Z2V0V29ya2VyUGVyZm9ybWFuY2VNZXRyaWNzKGUsdCxyKXtyKHZvaWQgMCx2b2lkIDApO319cmV0dXJuIFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSYmKHNlbGYud29ya2VyPW5ldyBWKHNlbGYpKSxWfSkpO1xuXG5kZWZpbmUoW1wiLi9zaGFyZWRcIl0sKGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO3JldHVybiBlLnN9KSk7XG5cbi8vXG4vLyBPdXIgY3VzdG9tIGludHJvIHByb3ZpZGVzIGEgc3BlY2lhbGl6ZWQgXCJkZWZpbmUoKVwiIGZ1bmN0aW9uLCBjYWxsZWQgYnkgdGhlXG4vLyBBTUQgbW9kdWxlcyBiZWxvdywgdGhhdCBzZXRzIHVwIHRoZSB3b3JrZXIgYmxvYiBVUkwgYW5kIHRoZW4gZXhlY3V0ZXMgdGhlXG4vLyBtYWluIG1vZHVsZSwgc3RvcmluZyBpdHMgZXhwb3J0ZWQgdmFsdWUgYXMgJ21hcGJveGdsJ1xuXG5cbnZhciBtYXBib3hnbCQxID0gbWFwYm94Z2w7XG5cbnJldHVybiBtYXBib3hnbCQxO1xuXG59KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXBib3gtZ2wuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mapbox-gl/dist/mapbox-gl.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	!function() {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = function(module) {
/******/ 			var getter = module && module.__esModule ?
/******/ 				function() { return module['default']; } :
/******/ 				function() { return module; };
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	!function() {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = function(exports, definition) {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./libs/mapbox-gl/mapbox-gl.js");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});